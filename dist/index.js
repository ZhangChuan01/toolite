import { ElLoading as YG, ElMessage as du, ElMessageBox as O2 } from "element-plus";
import "element-plus/es/components/loading/style/index";
import "element-plus/es/components/message/style/index";
import "element-plus/es/components/message-box/style/index";
import { ref as ly } from "vue";
function jG(r, e) {
  return function() {
    return r.apply(e, arguments);
  };
}
const { toString: Hre } = Object.prototype, { getPrototypeOf: OE } = Object, Qb = ((r) => (e) => {
  const t = Hre.call(e);
  return r[t] || (r[t] = t.slice(8, -1).toLowerCase());
})(/* @__PURE__ */ Object.create(null)), Hs = (r) => (r = r.toLowerCase(), (e) => Qb(e) === r), ew = (r) => (e) => typeof e === r, { isArray: _0 } = Array, t1 = ew("undefined");
function $re(r) {
  return r !== null && !t1(r) && r.constructor !== null && !t1(r.constructor) && Mo(r.constructor.isBuffer) && r.constructor.isBuffer(r);
}
const qG = Hs("ArrayBuffer");
function Yre(r) {
  let e;
  return typeof ArrayBuffer < "u" && ArrayBuffer.isView ? e = ArrayBuffer.isView(r) : e = r && r.buffer && qG(r.buffer), e;
}
const jre = ew("string"), Mo = ew("function"), XG = ew("number"), tw = (r) => r !== null && typeof r == "object", qre = (r) => r === !0 || r === !1, F2 = (r) => {
  if (Qb(r) !== "object")
    return !1;
  const e = OE(r);
  return (e === null || e === Object.prototype || Object.getPrototypeOf(e) === null) && !(Symbol.toStringTag in r) && !(Symbol.iterator in r);
}, Xre = Hs("Date"), Kre = Hs("File"), Zre = Hs("Blob"), Jre = Hs("FileList"), Qre = (r) => tw(r) && Mo(r.pipe), ene = (r) => {
  let e;
  return r && (typeof FormData == "function" && r instanceof FormData || Mo(r.append) && ((e = Qb(r)) === "formdata" || // detect form-data instance
  e === "object" && Mo(r.toString) && r.toString() === "[object FormData]"));
}, tne = Hs("URLSearchParams"), [rne, nne, ine, ane] = ["ReadableStream", "Request", "Response", "Headers"].map(Hs), one = (r) => r.trim ? r.trim() : r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
function U1(r, e, { allOwnKeys: t = !1 } = {}) {
  if (r === null || typeof r > "u")
    return;
  let i, a;
  if (typeof r != "object" && (r = [r]), _0(r))
    for (i = 0, a = r.length; i < a; i++)
      e.call(null, r[i], i, r);
  else {
    const n = t ? Object.getOwnPropertyNames(r) : Object.keys(r), o = n.length;
    let s;
    for (i = 0; i < o; i++)
      s = n[i], e.call(null, r[s], s, r);
  }
}
function KG(r, e) {
  e = e.toLowerCase();
  const t = Object.keys(r);
  let i = t.length, a;
  for (; i-- > 0; )
    if (a = t[i], e === a.toLowerCase())
      return a;
  return null;
}
const Af = (() => typeof globalThis < "u" ? globalThis : typeof self < "u" ? self : typeof window < "u" ? window : global)(), ZG = (r) => !t1(r) && r !== Af;
function LT() {
  const { caseless: r } = ZG(this) && this || {}, e = {}, t = (i, a) => {
    const n = r && KG(e, a) || a;
    F2(e[n]) && F2(i) ? e[n] = LT(e[n], i) : F2(i) ? e[n] = LT({}, i) : _0(i) ? e[n] = i.slice() : e[n] = i;
  };
  for (let i = 0, a = arguments.length; i < a; i++)
    arguments[i] && U1(arguments[i], t);
  return e;
}
const sne = (r, e, t, { allOwnKeys: i } = {}) => (U1(e, (a, n) => {
  t && Mo(a) ? r[n] = jG(a, t) : r[n] = a;
}, { allOwnKeys: i }), r), lne = (r) => (r.charCodeAt(0) === 65279 && (r = r.slice(1)), r), une = (r, e, t, i) => {
  r.prototype = Object.create(e.prototype, i), r.prototype.constructor = r, Object.defineProperty(r, "super", {
    value: e.prototype
  }), t && Object.assign(r.prototype, t);
}, cne = (r, e, t, i) => {
  let a, n, o;
  const s = {};
  if (e = e || {}, r == null)
    return e;
  do {
    for (a = Object.getOwnPropertyNames(r), n = a.length; n-- > 0; )
      o = a[n], (!i || i(o, r, e)) && !s[o] && (e[o] = r[o], s[o] = !0);
    r = t !== !1 && OE(r);
  } while (r && (!t || t(r, e)) && r !== Object.prototype);
  return e;
}, hne = (r, e, t) => {
  r = String(r), (t === void 0 || t > r.length) && (t = r.length), t -= e.length;
  const i = r.indexOf(e, t);
  return i !== -1 && i === t;
}, fne = (r) => {
  if (!r)
    return null;
  if (_0(r))
    return r;
  let e = r.length;
  if (!XG(e))
    return null;
  const t = new Array(e);
  for (; e-- > 0; )
    t[e] = r[e];
  return t;
}, dne = ((r) => (e) => r && e instanceof r)(typeof Uint8Array < "u" && OE(Uint8Array)), pne = (r, e) => {
  const i = (r && r[Symbol.iterator]).call(r);
  let a;
  for (; (a = i.next()) && !a.done; ) {
    const n = a.value;
    e.call(r, n[0], n[1]);
  }
}, vne = (r, e) => {
  let t;
  const i = [];
  for (; (t = r.exec(e)) !== null; )
    i.push(t);
  return i;
}, gne = Hs("HTMLFormElement"), mne = (r) => r.toLowerCase().replace(
  /[-_\s]([a-z\d])(\w*)/g,
  function(t, i, a) {
    return i.toUpperCase() + a;
  }
), gP = (({ hasOwnProperty: r }) => (e, t) => r.call(e, t))(Object.prototype), yne = Hs("RegExp"), JG = (r, e) => {
  const t = Object.getOwnPropertyDescriptors(r), i = {};
  U1(t, (a, n) => {
    let o;
    (o = e(a, n, r)) !== !1 && (i[n] = o || a);
  }), Object.defineProperties(r, i);
}, _ne = (r) => {
  JG(r, (e, t) => {
    if (Mo(r) && ["arguments", "caller", "callee"].indexOf(t) !== -1)
      return !1;
    const i = r[t];
    if (Mo(i)) {
      if (e.enumerable = !1, "writable" in e) {
        e.writable = !1;
        return;
      }
      e.set || (e.set = () => {
        throw Error("Can not rewrite read-only method '" + t + "'");
      });
    }
  });
}, bne = (r, e) => {
  const t = {}, i = (a) => {
    a.forEach((n) => {
      t[n] = !0;
    });
  };
  return _0(r) ? i(r) : i(String(r).split(e)), t;
}, wne = () => {
}, Sne = (r, e) => r != null && Number.isFinite(r = +r) ? r : e, w4 = "abcdefghijklmnopqrstuvwxyz", mP = "0123456789", QG = {
  DIGIT: mP,
  ALPHA: w4,
  ALPHA_DIGIT: w4 + w4.toUpperCase() + mP
}, xne = (r = 16, e = QG.ALPHA_DIGIT) => {
  let t = "";
  const { length: i } = e;
  for (; r--; )
    t += e[Math.random() * i | 0];
  return t;
};
function Tne(r) {
  return !!(r && Mo(r.append) && r[Symbol.toStringTag] === "FormData" && r[Symbol.iterator]);
}
const Cne = (r) => {
  const e = new Array(10), t = (i, a) => {
    if (tw(i)) {
      if (e.indexOf(i) >= 0)
        return;
      if (!("toJSON" in i)) {
        e[a] = i;
        const n = _0(i) ? [] : {};
        return U1(i, (o, s) => {
          const l = t(o, a + 1);
          !t1(l) && (n[s] = l);
        }), e[a] = void 0, n;
      }
    }
    return i;
  };
  return t(r, 0);
}, Ane = Hs("AsyncFunction"), Ene = (r) => r && (tw(r) || Mo(r)) && Mo(r.then) && Mo(r.catch), ez = ((r, e) => r ? setImmediate : e ? ((t, i) => (Af.addEventListener("message", ({ source: a, data: n }) => {
  a === Af && n === t && i.length && i.shift()();
}, !1), (a) => {
  i.push(a), Af.postMessage(t, "*");
}))(`axios@${Math.random()}`, []) : (t) => setTimeout(t))(
  typeof setImmediate == "function",
  Mo(Af.postMessage)
), Dne = typeof queueMicrotask < "u" ? queueMicrotask.bind(Af) : typeof process < "u" && process.nextTick || ez, et = {
  isArray: _0,
  isArrayBuffer: qG,
  isBuffer: $re,
  isFormData: ene,
  isArrayBufferView: Yre,
  isString: jre,
  isNumber: XG,
  isBoolean: qre,
  isObject: tw,
  isPlainObject: F2,
  isReadableStream: rne,
  isRequest: nne,
  isResponse: ine,
  isHeaders: ane,
  isUndefined: t1,
  isDate: Xre,
  isFile: Kre,
  isBlob: Zre,
  isRegExp: yne,
  isFunction: Mo,
  isStream: Qre,
  isURLSearchParams: tne,
  isTypedArray: dne,
  isFileList: Jre,
  forEach: U1,
  merge: LT,
  extend: sne,
  trim: one,
  stripBOM: lne,
  inherits: une,
  toFlatObject: cne,
  kindOf: Qb,
  kindOfTest: Hs,
  endsWith: hne,
  toArray: fne,
  forEachEntry: pne,
  matchAll: vne,
  isHTMLForm: gne,
  hasOwnProperty: gP,
  hasOwnProp: gP,
  // an alias to avoid ESLint no-prototype-builtins detection
  reduceDescriptors: JG,
  freezeMethods: _ne,
  toObjectSet: bne,
  toCamelCase: mne,
  noop: wne,
  toFiniteNumber: Sne,
  findKey: KG,
  global: Af,
  isContextDefined: ZG,
  ALPHABET: QG,
  generateString: xne,
  isSpecCompliantForm: Tne,
  toJSONObject: Cne,
  isAsyncFn: Ane,
  isThenable: Ene,
  setImmediate: ez,
  asap: Dne
};
function zr(r, e, t, i, a) {
  Error.call(this), Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : this.stack = new Error().stack, this.message = r, this.name = "AxiosError", e && (this.code = e), t && (this.config = t), i && (this.request = i), a && (this.response = a, this.status = a.status ? a.status : null);
}
et.inherits(zr, Error, {
  toJSON: function() {
    return {
      // Standard
      message: this.message,
      name: this.name,
      // Microsoft
      description: this.description,
      number: this.number,
      // Mozilla
      fileName: this.fileName,
      lineNumber: this.lineNumber,
      columnNumber: this.columnNumber,
      stack: this.stack,
      // Axios
      config: et.toJSONObject(this.config),
      code: this.code,
      status: this.status
    };
  }
});
const tz = zr.prototype, rz = {};
[
  "ERR_BAD_OPTION_VALUE",
  "ERR_BAD_OPTION",
  "ECONNABORTED",
  "ETIMEDOUT",
  "ERR_NETWORK",
  "ERR_FR_TOO_MANY_REDIRECTS",
  "ERR_DEPRECATED",
  "ERR_BAD_RESPONSE",
  "ERR_BAD_REQUEST",
  "ERR_CANCELED",
  "ERR_NOT_SUPPORT",
  "ERR_INVALID_URL"
  // eslint-disable-next-line func-names
].forEach((r) => {
  rz[r] = { value: r };
});
Object.defineProperties(zr, rz);
Object.defineProperty(tz, "isAxiosError", { value: !0 });
zr.from = (r, e, t, i, a, n) => {
  const o = Object.create(tz);
  return et.toFlatObject(r, o, function(l) {
    return l !== Error.prototype;
  }, (s) => s !== "isAxiosError"), zr.call(o, r.message, e, t, i, a), o.cause = r, o.name = r.name, n && Object.assign(o, n), o;
};
const kne = null;
function OT(r) {
  return et.isPlainObject(r) || et.isArray(r);
}
function nz(r) {
  return et.endsWith(r, "[]") ? r.slice(0, -2) : r;
}
function yP(r, e, t) {
  return r ? r.concat(e).map(function(a, n) {
    return a = nz(a), !t && n ? "[" + a + "]" : a;
  }).join(t ? "." : "") : e;
}
function Mne(r) {
  return et.isArray(r) && !r.some(OT);
}
const Ine = et.toFlatObject(et, {}, null, function(e) {
  return /^is[A-Z]/.test(e);
});
function rw(r, e, t) {
  if (!et.isObject(r))
    throw new TypeError("target must be an object");
  e = e || new FormData(), t = et.toFlatObject(t, {
    metaTokens: !0,
    dots: !1,
    indexes: !1
  }, !1, function(y, _) {
    return !et.isUndefined(_[y]);
  });
  const i = t.metaTokens, a = t.visitor || c, n = t.dots, o = t.indexes, l = (t.Blob || typeof Blob < "u" && Blob) && et.isSpecCompliantForm(e);
  if (!et.isFunction(a))
    throw new TypeError("visitor must be a function");
  function u(v) {
    if (v === null)
      return "";
    if (et.isDate(v))
      return v.toISOString();
    if (!l && et.isBlob(v))
      throw new zr("Blob is not supported. Use a Buffer instead.");
    return et.isArrayBuffer(v) || et.isTypedArray(v) ? l && typeof Blob == "function" ? new Blob([v]) : Buffer.from(v) : v;
  }
  function c(v, y, _) {
    let w = v;
    if (v && !_ && typeof v == "object") {
      if (et.endsWith(y, "{}"))
        y = i ? y : y.slice(0, -2), v = JSON.stringify(v);
      else if (et.isArray(v) && Mne(v) || (et.isFileList(v) || et.endsWith(y, "[]")) && (w = et.toArray(v)))
        return y = nz(y), w.forEach(function(x, E) {
          !(et.isUndefined(x) || x === null) && e.append(
            // eslint-disable-next-line no-nested-ternary
            o === !0 ? yP([y], E, n) : o === null ? y : y + "[]",
            u(x)
          );
        }), !1;
    }
    return OT(v) ? !0 : (e.append(yP(_, y, n), u(v)), !1);
  }
  const f = [], d = Object.assign(Ine, {
    defaultVisitor: c,
    convertValue: u,
    isVisitable: OT
  });
  function p(v, y) {
    if (!et.isUndefined(v)) {
      if (f.indexOf(v) !== -1)
        throw Error("Circular reference detected in " + y.join("."));
      f.push(v), et.forEach(v, function(w, S) {
        (!(et.isUndefined(w) || w === null) && a.call(
          e,
          w,
          et.isString(S) ? S.trim() : S,
          y,
          d
        )) === !0 && p(w, y ? y.concat(S) : [S]);
      }), f.pop();
    }
  }
  if (!et.isObject(r))
    throw new TypeError("data must be an object");
  return p(r), e;
}
function _P(r) {
  const e = {
    "!": "%21",
    "'": "%27",
    "(": "%28",
    ")": "%29",
    "~": "%7E",
    "%20": "+",
    "%00": "\0"
  };
  return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g, function(i) {
    return e[i];
  });
}
function FE(r, e) {
  this._pairs = [], r && rw(r, this, e);
}
const iz = FE.prototype;
iz.append = function(e, t) {
  this._pairs.push([e, t]);
};
iz.toString = function(e) {
  const t = e ? function(i) {
    return e.call(this, i, _P);
  } : _P;
  return this._pairs.map(function(a) {
    return t(a[0]) + "=" + t(a[1]);
  }, "").join("&");
};
function Pne(r) {
  return encodeURIComponent(r).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]");
}
function az(r, e, t) {
  if (!e)
    return r;
  const i = t && t.encode || Pne;
  et.isFunction(t) && (t = {
    serialize: t
  });
  const a = t && t.serialize;
  let n;
  if (a ? n = a(e, t) : n = et.isURLSearchParams(e) ? e.toString() : new FE(e, t).toString(i), n) {
    const o = r.indexOf("#");
    o !== -1 && (r = r.slice(0, o)), r += (r.indexOf("?") === -1 ? "?" : "&") + n;
  }
  return r;
}
class Rne {
  constructor() {
    this.handlers = [];
  }
  /**
   * Add a new interceptor to the stack
   *
   * @param {Function} fulfilled The function to handle `then` for a `Promise`
   * @param {Function} rejected The function to handle `reject` for a `Promise`
   *
   * @return {Number} An ID used to remove interceptor later
   */
  use(e, t, i) {
    return this.handlers.push({
      fulfilled: e,
      rejected: t,
      synchronous: i ? i.synchronous : !1,
      runWhen: i ? i.runWhen : null
    }), this.handlers.length - 1;
  }
  /**
   * Remove an interceptor from the stack
   *
   * @param {Number} id The ID that was returned by `use`
   *
   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise
   */
  eject(e) {
    this.handlers[e] && (this.handlers[e] = null);
  }
  /**
   * Clear all interceptors from the stack
   *
   * @returns {void}
   */
  clear() {
    this.handlers && (this.handlers = []);
  }
  /**
   * Iterate over all the registered interceptors
   *
   * This method is particularly useful for skipping over any
   * interceptors that may have become `null` calling `eject`.
   *
   * @param {Function} fn The function to call for each interceptor
   *
   * @returns {void}
   */
  forEach(e) {
    et.forEach(this.handlers, function(i) {
      i !== null && e(i);
    });
  }
}
const bP = Rne, oz = {
  silentJSONParsing: !0,
  forcedJSONParsing: !0,
  clarifyTimeoutError: !1
}, Lne = typeof URLSearchParams < "u" ? URLSearchParams : FE, One = typeof FormData < "u" ? FormData : null, Fne = typeof Blob < "u" ? Blob : null, Nne = {
  isBrowser: !0,
  classes: {
    URLSearchParams: Lne,
    FormData: One,
    Blob: Fne
  },
  protocols: ["http", "https", "file", "blob", "url", "data"]
}, NE = typeof window < "u" && typeof document < "u", FT = typeof navigator == "object" && navigator || void 0, Bne = NE && (!FT || ["ReactNative", "NativeScript", "NS"].indexOf(FT.product) < 0), Vne = (() => typeof WorkerGlobalScope < "u" && // eslint-disable-next-line no-undef
self instanceof WorkerGlobalScope && typeof self.importScripts == "function")(), Une = NE && window.location.href || "http://localhost", Gne = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  hasBrowserEnv: NE,
  hasStandardBrowserEnv: Bne,
  hasStandardBrowserWebWorkerEnv: Vne,
  navigator: FT,
  origin: Une
}, Symbol.toStringTag, { value: "Module" })), Na = {
  ...Gne,
  ...Nne
};
function zne(r, e) {
  return rw(r, new Na.classes.URLSearchParams(), Object.assign({
    visitor: function(t, i, a, n) {
      return Na.isNode && et.isBuffer(t) ? (this.append(i, t.toString("base64")), !1) : n.defaultVisitor.apply(this, arguments);
    }
  }, e));
}
function Wne(r) {
  return et.matchAll(/\w+|\[(\w*)]/g, r).map((e) => e[0] === "[]" ? "" : e[1] || e[0]);
}
function Hne(r) {
  const e = {}, t = Object.keys(r);
  let i;
  const a = t.length;
  let n;
  for (i = 0; i < a; i++)
    n = t[i], e[n] = r[n];
  return e;
}
function sz(r) {
  function e(t, i, a, n) {
    let o = t[n++];
    if (o === "__proto__")
      return !0;
    const s = Number.isFinite(+o), l = n >= t.length;
    return o = !o && et.isArray(a) ? a.length : o, l ? (et.hasOwnProp(a, o) ? a[o] = [a[o], i] : a[o] = i, !s) : ((!a[o] || !et.isObject(a[o])) && (a[o] = []), e(t, i, a[o], n) && et.isArray(a[o]) && (a[o] = Hne(a[o])), !s);
  }
  if (et.isFormData(r) && et.isFunction(r.entries)) {
    const t = {};
    return et.forEachEntry(r, (i, a) => {
      e(Wne(i), a, t, 0);
    }), t;
  }
  return null;
}
function $ne(r, e, t) {
  if (et.isString(r))
    try {
      return (e || JSON.parse)(r), et.trim(r);
    } catch (i) {
      if (i.name !== "SyntaxError")
        throw i;
    }
  return (t || JSON.stringify)(r);
}
const BE = {
  transitional: oz,
  adapter: ["xhr", "http", "fetch"],
  transformRequest: [function(e, t) {
    const i = t.getContentType() || "", a = i.indexOf("application/json") > -1, n = et.isObject(e);
    if (n && et.isHTMLForm(e) && (e = new FormData(e)), et.isFormData(e))
      return a ? JSON.stringify(sz(e)) : e;
    if (et.isArrayBuffer(e) || et.isBuffer(e) || et.isStream(e) || et.isFile(e) || et.isBlob(e) || et.isReadableStream(e))
      return e;
    if (et.isArrayBufferView(e))
      return e.buffer;
    if (et.isURLSearchParams(e))
      return t.setContentType("application/x-www-form-urlencoded;charset=utf-8", !1), e.toString();
    let s;
    if (n) {
      if (i.indexOf("application/x-www-form-urlencoded") > -1)
        return zne(e, this.formSerializer).toString();
      if ((s = et.isFileList(e)) || i.indexOf("multipart/form-data") > -1) {
        const l = this.env && this.env.FormData;
        return rw(
          s ? { "files[]": e } : e,
          l && new l(),
          this.formSerializer
        );
      }
    }
    return n || a ? (t.setContentType("application/json", !1), $ne(e)) : e;
  }],
  transformResponse: [function(e) {
    const t = this.transitional || BE.transitional, i = t && t.forcedJSONParsing, a = this.responseType === "json";
    if (et.isResponse(e) || et.isReadableStream(e))
      return e;
    if (e && et.isString(e) && (i && !this.responseType || a)) {
      const o = !(t && t.silentJSONParsing) && a;
      try {
        return JSON.parse(e);
      } catch (s) {
        if (o)
          throw s.name === "SyntaxError" ? zr.from(s, zr.ERR_BAD_RESPONSE, this, null, this.response) : s;
      }
    }
    return e;
  }],
  /**
   * A timeout in milliseconds to abort a request. If set to 0 (default) a
   * timeout is not created.
   */
  timeout: 0,
  xsrfCookieName: "XSRF-TOKEN",
  xsrfHeaderName: "X-XSRF-TOKEN",
  maxContentLength: -1,
  maxBodyLength: -1,
  env: {
    FormData: Na.classes.FormData,
    Blob: Na.classes.Blob
  },
  validateStatus: function(e) {
    return e >= 200 && e < 300;
  },
  headers: {
    common: {
      Accept: "application/json, text/plain, */*",
      "Content-Type": void 0
    }
  }
};
et.forEach(["delete", "get", "head", "post", "put", "patch"], (r) => {
  BE.headers[r] = {};
});
const VE = BE, Yne = et.toObjectSet([
  "age",
  "authorization",
  "content-length",
  "content-type",
  "etag",
  "expires",
  "from",
  "host",
  "if-modified-since",
  "if-unmodified-since",
  "last-modified",
  "location",
  "max-forwards",
  "proxy-authorization",
  "referer",
  "retry-after",
  "user-agent"
]), jne = (r) => {
  const e = {};
  let t, i, a;
  return r && r.split(`
`).forEach(function(o) {
    a = o.indexOf(":"), t = o.substring(0, a).trim().toLowerCase(), i = o.substring(a + 1).trim(), !(!t || e[t] && Yne[t]) && (t === "set-cookie" ? e[t] ? e[t].push(i) : e[t] = [i] : e[t] = e[t] ? e[t] + ", " + i : i);
  }), e;
}, wP = Symbol("internals");
function kv(r) {
  return r && String(r).trim().toLowerCase();
}
function N2(r) {
  return r === !1 || r == null ? r : et.isArray(r) ? r.map(N2) : String(r);
}
function qne(r) {
  const e = /* @__PURE__ */ Object.create(null), t = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;
  let i;
  for (; i = t.exec(r); )
    e[i[1]] = i[2];
  return e;
}
const Xne = (r) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());
function S4(r, e, t, i, a) {
  if (et.isFunction(i))
    return i.call(this, e, t);
  if (a && (e = t), !!et.isString(e)) {
    if (et.isString(i))
      return e.indexOf(i) !== -1;
    if (et.isRegExp(i))
      return i.test(e);
  }
}
function Kne(r) {
  return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g, (e, t, i) => t.toUpperCase() + i);
}
function Zne(r, e) {
  const t = et.toCamelCase(" " + e);
  ["get", "set", "has"].forEach((i) => {
    Object.defineProperty(r, i + t, {
      value: function(a, n, o) {
        return this[i].call(this, e, a, n, o);
      },
      configurable: !0
    });
  });
}
class nw {
  constructor(e) {
    e && this.set(e);
  }
  set(e, t, i) {
    const a = this;
    function n(s, l, u) {
      const c = kv(l);
      if (!c)
        throw new Error("header name must be a non-empty string");
      const f = et.findKey(a, c);
      (!f || a[f] === void 0 || u === !0 || u === void 0 && a[f] !== !1) && (a[f || l] = N2(s));
    }
    const o = (s, l) => et.forEach(s, (u, c) => n(u, c, l));
    if (et.isPlainObject(e) || e instanceof this.constructor)
      o(e, t);
    else if (et.isString(e) && (e = e.trim()) && !Xne(e))
      o(jne(e), t);
    else if (et.isHeaders(e))
      for (const [s, l] of e.entries())
        n(l, s, i);
    else
      e != null && n(t, e, i);
    return this;
  }
  get(e, t) {
    if (e = kv(e), e) {
      const i = et.findKey(this, e);
      if (i) {
        const a = this[i];
        if (!t)
          return a;
        if (t === !0)
          return qne(a);
        if (et.isFunction(t))
          return t.call(this, a, i);
        if (et.isRegExp(t))
          return t.exec(a);
        throw new TypeError("parser must be boolean|regexp|function");
      }
    }
  }
  has(e, t) {
    if (e = kv(e), e) {
      const i = et.findKey(this, e);
      return !!(i && this[i] !== void 0 && (!t || S4(this, this[i], i, t)));
    }
    return !1;
  }
  delete(e, t) {
    const i = this;
    let a = !1;
    function n(o) {
      if (o = kv(o), o) {
        const s = et.findKey(i, o);
        s && (!t || S4(i, i[s], s, t)) && (delete i[s], a = !0);
      }
    }
    return et.isArray(e) ? e.forEach(n) : n(e), a;
  }
  clear(e) {
    const t = Object.keys(this);
    let i = t.length, a = !1;
    for (; i--; ) {
      const n = t[i];
      (!e || S4(this, this[n], n, e, !0)) && (delete this[n], a = !0);
    }
    return a;
  }
  normalize(e) {
    const t = this, i = {};
    return et.forEach(this, (a, n) => {
      const o = et.findKey(i, n);
      if (o) {
        t[o] = N2(a), delete t[n];
        return;
      }
      const s = e ? Kne(n) : String(n).trim();
      s !== n && delete t[n], t[s] = N2(a), i[s] = !0;
    }), this;
  }
  concat(...e) {
    return this.constructor.concat(this, ...e);
  }
  toJSON(e) {
    const t = /* @__PURE__ */ Object.create(null);
    return et.forEach(this, (i, a) => {
      i != null && i !== !1 && (t[a] = e && et.isArray(i) ? i.join(", ") : i);
    }), t;
  }
  [Symbol.iterator]() {
    return Object.entries(this.toJSON())[Symbol.iterator]();
  }
  toString() {
    return Object.entries(this.toJSON()).map(([e, t]) => e + ": " + t).join(`
`);
  }
  get [Symbol.toStringTag]() {
    return "AxiosHeaders";
  }
  static from(e) {
    return e instanceof this ? e : new this(e);
  }
  static concat(e, ...t) {
    const i = new this(e);
    return t.forEach((a) => i.set(a)), i;
  }
  static accessor(e) {
    const i = (this[wP] = this[wP] = {
      accessors: {}
    }).accessors, a = this.prototype;
    function n(o) {
      const s = kv(o);
      i[s] || (Zne(a, o), i[s] = !0);
    }
    return et.isArray(e) ? e.forEach(n) : n(e), this;
  }
}
nw.accessor(["Content-Type", "Content-Length", "Accept", "Accept-Encoding", "User-Agent", "Authorization"]);
et.reduceDescriptors(nw.prototype, ({ value: r }, e) => {
  let t = e[0].toUpperCase() + e.slice(1);
  return {
    get: () => r,
    set(i) {
      this[t] = i;
    }
  };
});
et.freezeMethods(nw);
const Ps = nw;
function x4(r, e) {
  const t = this || VE, i = e || t, a = Ps.from(i.headers);
  let n = i.data;
  return et.forEach(r, function(s) {
    n = s.call(t, n, a.normalize(), e ? e.status : void 0);
  }), a.normalize(), n;
}
function lz(r) {
  return !!(r && r.__CANCEL__);
}
function b0(r, e, t) {
  zr.call(this, r ?? "canceled", zr.ERR_CANCELED, e, t), this.name = "CanceledError";
}
et.inherits(b0, zr, {
  __CANCEL__: !0
});
function uz(r, e, t) {
  const i = t.config.validateStatus;
  !t.status || !i || i(t.status) ? r(t) : e(new zr(
    "Request failed with status code " + t.status,
    [zr.ERR_BAD_REQUEST, zr.ERR_BAD_RESPONSE][Math.floor(t.status / 100) - 4],
    t.config,
    t.request,
    t
  ));
}
function Jne(r) {
  const e = /^([-+\w]{1,25})(:?\/\/|:)/.exec(r);
  return e && e[1] || "";
}
function Qne(r, e) {
  r = r || 10;
  const t = new Array(r), i = new Array(r);
  let a = 0, n = 0, o;
  return e = e !== void 0 ? e : 1e3, function(l) {
    const u = Date.now(), c = i[n];
    o || (o = u), t[a] = l, i[a] = u;
    let f = n, d = 0;
    for (; f !== a; )
      d += t[f++], f = f % r;
    if (a = (a + 1) % r, a === n && (n = (n + 1) % r), u - o < e)
      return;
    const p = c && u - c;
    return p ? Math.round(d * 1e3 / p) : void 0;
  };
}
function eie(r, e) {
  let t = 0, i = 1e3 / e, a, n;
  const o = (u, c = Date.now()) => {
    t = c, a = null, n && (clearTimeout(n), n = null), r.apply(null, u);
  };
  return [(...u) => {
    const c = Date.now(), f = c - t;
    f >= i ? o(u, c) : (a = u, n || (n = setTimeout(() => {
      n = null, o(a);
    }, i - f)));
  }, () => a && o(a)];
}
const y_ = (r, e, t = 3) => {
  let i = 0;
  const a = Qne(50, 250);
  return eie((n) => {
    const o = n.loaded, s = n.lengthComputable ? n.total : void 0, l = o - i, u = a(l), c = o <= s;
    i = o;
    const f = {
      loaded: o,
      total: s,
      progress: s ? o / s : void 0,
      bytes: l,
      rate: u || void 0,
      estimated: u && s && c ? (s - o) / u : void 0,
      event: n,
      lengthComputable: s != null,
      [e ? "download" : "upload"]: !0
    };
    r(f);
  }, t);
}, SP = (r, e) => {
  const t = r != null;
  return [(i) => e[0]({
    lengthComputable: t,
    total: r,
    loaded: i
  }), e[1]];
}, xP = (r) => (...e) => et.asap(() => r(...e)), tie = Na.hasStandardBrowserEnv ? ((r, e) => (t) => (t = new URL(t, Na.origin), r.protocol === t.protocol && r.host === t.host && (e || r.port === t.port)))(
  new URL(Na.origin),
  Na.navigator && /(msie|trident)/i.test(Na.navigator.userAgent)
) : () => !0, rie = Na.hasStandardBrowserEnv ? (
  // Standard browser envs support document.cookie
  {
    write(r, e, t, i, a, n) {
      const o = [r + "=" + encodeURIComponent(e)];
      et.isNumber(t) && o.push("expires=" + new Date(t).toGMTString()), et.isString(i) && o.push("path=" + i), et.isString(a) && o.push("domain=" + a), n === !0 && o.push("secure"), document.cookie = o.join("; ");
    },
    read(r) {
      const e = document.cookie.match(new RegExp("(^|;\\s*)(" + r + ")=([^;]*)"));
      return e ? decodeURIComponent(e[3]) : null;
    },
    remove(r) {
      this.write(r, "", Date.now() - 864e5);
    }
  }
) : (
  // Non-standard browser env (web workers, react-native) lack needed support.
  {
    write() {
    },
    read() {
      return null;
    },
    remove() {
    }
  }
);
function nie(r) {
  return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(r);
}
function iie(r, e) {
  return e ? r.replace(/\/?\/$/, "") + "/" + e.replace(/^\/+/, "") : r;
}
function cz(r, e) {
  return r && !nie(e) ? iie(r, e) : e;
}
const TP = (r) => r instanceof Ps ? { ...r } : r;
function Kf(r, e) {
  e = e || {};
  const t = {};
  function i(u, c, f, d) {
    return et.isPlainObject(u) && et.isPlainObject(c) ? et.merge.call({ caseless: d }, u, c) : et.isPlainObject(c) ? et.merge({}, c) : et.isArray(c) ? c.slice() : c;
  }
  function a(u, c, f, d) {
    if (et.isUndefined(c)) {
      if (!et.isUndefined(u))
        return i(void 0, u, f, d);
    } else
      return i(u, c, f, d);
  }
  function n(u, c) {
    if (!et.isUndefined(c))
      return i(void 0, c);
  }
  function o(u, c) {
    if (et.isUndefined(c)) {
      if (!et.isUndefined(u))
        return i(void 0, u);
    } else
      return i(void 0, c);
  }
  function s(u, c, f) {
    if (f in e)
      return i(u, c);
    if (f in r)
      return i(void 0, u);
  }
  const l = {
    url: n,
    method: n,
    data: n,
    baseURL: o,
    transformRequest: o,
    transformResponse: o,
    paramsSerializer: o,
    timeout: o,
    timeoutMessage: o,
    withCredentials: o,
    withXSRFToken: o,
    adapter: o,
    responseType: o,
    xsrfCookieName: o,
    xsrfHeaderName: o,
    onUploadProgress: o,
    onDownloadProgress: o,
    decompress: o,
    maxContentLength: o,
    maxBodyLength: o,
    beforeRedirect: o,
    transport: o,
    httpAgent: o,
    httpsAgent: o,
    cancelToken: o,
    socketPath: o,
    responseEncoding: o,
    validateStatus: s,
    headers: (u, c, f) => a(TP(u), TP(c), f, !0)
  };
  return et.forEach(Object.keys(Object.assign({}, r, e)), function(c) {
    const f = l[c] || a, d = f(r[c], e[c], c);
    et.isUndefined(d) && f !== s || (t[c] = d);
  }), t;
}
const hz = (r) => {
  const e = Kf({}, r);
  let { data: t, withXSRFToken: i, xsrfHeaderName: a, xsrfCookieName: n, headers: o, auth: s } = e;
  e.headers = o = Ps.from(o), e.url = az(cz(e.baseURL, e.url), r.params, r.paramsSerializer), s && o.set(
    "Authorization",
    "Basic " + btoa((s.username || "") + ":" + (s.password ? unescape(encodeURIComponent(s.password)) : ""))
  );
  let l;
  if (et.isFormData(t)) {
    if (Na.hasStandardBrowserEnv || Na.hasStandardBrowserWebWorkerEnv)
      o.setContentType(void 0);
    else if ((l = o.getContentType()) !== !1) {
      const [u, ...c] = l ? l.split(";").map((f) => f.trim()).filter(Boolean) : [];
      o.setContentType([u || "multipart/form-data", ...c].join("; "));
    }
  }
  if (Na.hasStandardBrowserEnv && (i && et.isFunction(i) && (i = i(e)), i || i !== !1 && tie(e.url))) {
    const u = a && n && rie.read(n);
    u && o.set(a, u);
  }
  return e;
}, aie = typeof XMLHttpRequest < "u", oie = aie && function(r) {
  return new Promise(function(t, i) {
    const a = hz(r);
    let n = a.data;
    const o = Ps.from(a.headers).normalize();
    let { responseType: s, onUploadProgress: l, onDownloadProgress: u } = a, c, f, d, p, v;
    function y() {
      p && p(), v && v(), a.cancelToken && a.cancelToken.unsubscribe(c), a.signal && a.signal.removeEventListener("abort", c);
    }
    let _ = new XMLHttpRequest();
    _.open(a.method.toUpperCase(), a.url, !0), _.timeout = a.timeout;
    function w() {
      if (!_)
        return;
      const x = Ps.from(
        "getAllResponseHeaders" in _ && _.getAllResponseHeaders()
      ), M = {
        data: !s || s === "text" || s === "json" ? _.responseText : _.response,
        status: _.status,
        statusText: _.statusText,
        headers: x,
        config: r,
        request: _
      };
      uz(function(P) {
        t(P), y();
      }, function(P) {
        i(P), y();
      }, M), _ = null;
    }
    "onloadend" in _ ? _.onloadend = w : _.onreadystatechange = function() {
      !_ || _.readyState !== 4 || _.status === 0 && !(_.responseURL && _.responseURL.indexOf("file:") === 0) || setTimeout(w);
    }, _.onabort = function() {
      _ && (i(new zr("Request aborted", zr.ECONNABORTED, r, _)), _ = null);
    }, _.onerror = function() {
      i(new zr("Network Error", zr.ERR_NETWORK, r, _)), _ = null;
    }, _.ontimeout = function() {
      let E = a.timeout ? "timeout of " + a.timeout + "ms exceeded" : "timeout exceeded";
      const M = a.transitional || oz;
      a.timeoutErrorMessage && (E = a.timeoutErrorMessage), i(new zr(
        E,
        M.clarifyTimeoutError ? zr.ETIMEDOUT : zr.ECONNABORTED,
        r,
        _
      )), _ = null;
    }, n === void 0 && o.setContentType(null), "setRequestHeader" in _ && et.forEach(o.toJSON(), function(E, M) {
      _.setRequestHeader(M, E);
    }), et.isUndefined(a.withCredentials) || (_.withCredentials = !!a.withCredentials), s && s !== "json" && (_.responseType = a.responseType), u && ([d, v] = y_(u, !0), _.addEventListener("progress", d)), l && _.upload && ([f, p] = y_(l), _.upload.addEventListener("progress", f), _.upload.addEventListener("loadend", p)), (a.cancelToken || a.signal) && (c = (x) => {
      _ && (i(!x || x.type ? new b0(null, r, _) : x), _.abort(), _ = null);
    }, a.cancelToken && a.cancelToken.subscribe(c), a.signal && (a.signal.aborted ? c() : a.signal.addEventListener("abort", c)));
    const S = Jne(a.url);
    if (S && Na.protocols.indexOf(S) === -1) {
      i(new zr("Unsupported protocol " + S + ":", zr.ERR_BAD_REQUEST, r));
      return;
    }
    _.send(n || null);
  });
}, sie = (r, e) => {
  const { length: t } = r = r ? r.filter(Boolean) : [];
  if (e || t) {
    let i = new AbortController(), a;
    const n = function(u) {
      if (!a) {
        a = !0, s();
        const c = u instanceof Error ? u : this.reason;
        i.abort(c instanceof zr ? c : new b0(c instanceof Error ? c.message : c));
      }
    };
    let o = e && setTimeout(() => {
      o = null, n(new zr(`timeout ${e} of ms exceeded`, zr.ETIMEDOUT));
    }, e);
    const s = () => {
      r && (o && clearTimeout(o), o = null, r.forEach((u) => {
        u.unsubscribe ? u.unsubscribe(n) : u.removeEventListener("abort", n);
      }), r = null);
    };
    r.forEach((u) => u.addEventListener("abort", n));
    const { signal: l } = i;
    return l.unsubscribe = () => et.asap(s), l;
  }
}, lie = sie, uie = function* (r, e) {
  let t = r.byteLength;
  if (!e || t < e) {
    yield r;
    return;
  }
  let i = 0, a;
  for (; i < t; )
    a = i + e, yield r.slice(i, a), i = a;
}, cie = async function* (r, e) {
  for await (const t of hie(r))
    yield* uie(t, e);
}, hie = async function* (r) {
  if (r[Symbol.asyncIterator]) {
    yield* r;
    return;
  }
  const e = r.getReader();
  try {
    for (; ; ) {
      const { done: t, value: i } = await e.read();
      if (t)
        break;
      yield i;
    }
  } finally {
    await e.cancel();
  }
}, CP = (r, e, t, i) => {
  const a = cie(r, e);
  let n = 0, o, s = (l) => {
    o || (o = !0, i && i(l));
  };
  return new ReadableStream({
    async pull(l) {
      try {
        const { done: u, value: c } = await a.next();
        if (u) {
          s(), l.close();
          return;
        }
        let f = c.byteLength;
        if (t) {
          let d = n += f;
          t(d);
        }
        l.enqueue(new Uint8Array(c));
      } catch (u) {
        throw s(u), u;
      }
    },
    cancel(l) {
      return s(l), a.return();
    }
  }, {
    highWaterMark: 2
  });
}, iw = typeof fetch == "function" && typeof Request == "function" && typeof Response == "function", fz = iw && typeof ReadableStream == "function", fie = iw && (typeof TextEncoder == "function" ? ((r) => (e) => r.encode(e))(new TextEncoder()) : async (r) => new Uint8Array(await new Response(r).arrayBuffer())), dz = (r, ...e) => {
  try {
    return !!r(...e);
  } catch {
    return !1;
  }
}, die = fz && dz(() => {
  let r = !1;
  const e = new Request(Na.origin, {
    body: new ReadableStream(),
    method: "POST",
    get duplex() {
      return r = !0, "half";
    }
  }).headers.has("Content-Type");
  return r && !e;
}), AP = 64 * 1024, NT = fz && dz(() => et.isReadableStream(new Response("").body)), __ = {
  stream: NT && ((r) => r.body)
};
iw && ((r) => {
  ["text", "arrayBuffer", "blob", "formData", "stream"].forEach((e) => {
    !__[e] && (__[e] = et.isFunction(r[e]) ? (t) => t[e]() : (t, i) => {
      throw new zr(`Response type '${e}' is not supported`, zr.ERR_NOT_SUPPORT, i);
    });
  });
})(new Response());
const pie = async (r) => {
  if (r == null)
    return 0;
  if (et.isBlob(r))
    return r.size;
  if (et.isSpecCompliantForm(r))
    return (await new Request(Na.origin, {
      method: "POST",
      body: r
    }).arrayBuffer()).byteLength;
  if (et.isArrayBufferView(r) || et.isArrayBuffer(r))
    return r.byteLength;
  if (et.isURLSearchParams(r) && (r = r + ""), et.isString(r))
    return (await fie(r)).byteLength;
}, vie = async (r, e) => {
  const t = et.toFiniteNumber(r.getContentLength());
  return t ?? pie(e);
}, gie = iw && (async (r) => {
  let {
    url: e,
    method: t,
    data: i,
    signal: a,
    cancelToken: n,
    timeout: o,
    onDownloadProgress: s,
    onUploadProgress: l,
    responseType: u,
    headers: c,
    withCredentials: f = "same-origin",
    fetchOptions: d
  } = hz(r);
  u = u ? (u + "").toLowerCase() : "text";
  let p = lie([a, n && n.toAbortSignal()], o), v;
  const y = p && p.unsubscribe && (() => {
    p.unsubscribe();
  });
  let _;
  try {
    if (l && die && t !== "get" && t !== "head" && (_ = await vie(c, i)) !== 0) {
      let M = new Request(e, {
        method: "POST",
        body: i,
        duplex: "half"
      }), k;
      if (et.isFormData(i) && (k = M.headers.get("content-type")) && c.setContentType(k), M.body) {
        const [P, L] = SP(
          _,
          y_(xP(l))
        );
        i = CP(M.body, AP, P, L);
      }
    }
    et.isString(f) || (f = f ? "include" : "omit");
    const w = "credentials" in Request.prototype;
    v = new Request(e, {
      ...d,
      signal: p,
      method: t.toUpperCase(),
      headers: c.normalize().toJSON(),
      body: i,
      duplex: "half",
      credentials: w ? f : void 0
    });
    let S = await fetch(v);
    const x = NT && (u === "stream" || u === "response");
    if (NT && (s || x && y)) {
      const M = {};
      ["status", "statusText", "headers"].forEach((F) => {
        M[F] = S[F];
      });
      const k = et.toFiniteNumber(S.headers.get("content-length")), [P, L] = s && SP(
        k,
        y_(xP(s), !0)
      ) || [];
      S = new Response(
        CP(S.body, AP, P, () => {
          L && L(), y && y();
        }),
        M
      );
    }
    u = u || "text";
    let E = await __[et.findKey(__, u) || "text"](S, r);
    return !x && y && y(), await new Promise((M, k) => {
      uz(M, k, {
        data: E,
        headers: Ps.from(S.headers),
        status: S.status,
        statusText: S.statusText,
        config: r,
        request: v
      });
    });
  } catch (w) {
    throw y && y(), w && w.name === "TypeError" && /fetch/i.test(w.message) ? Object.assign(
      new zr("Network Error", zr.ERR_NETWORK, r, v),
      {
        cause: w.cause || w
      }
    ) : zr.from(w, w && w.code, r, v);
  }
}), BT = {
  http: kne,
  xhr: oie,
  fetch: gie
};
et.forEach(BT, (r, e) => {
  if (r) {
    try {
      Object.defineProperty(r, "name", { value: e });
    } catch {
    }
    Object.defineProperty(r, "adapterName", { value: e });
  }
});
const EP = (r) => `- ${r}`, mie = (r) => et.isFunction(r) || r === null || r === !1, pz = {
  getAdapter: (r) => {
    r = et.isArray(r) ? r : [r];
    const { length: e } = r;
    let t, i;
    const a = {};
    for (let n = 0; n < e; n++) {
      t = r[n];
      let o;
      if (i = t, !mie(t) && (i = BT[(o = String(t)).toLowerCase()], i === void 0))
        throw new zr(`Unknown adapter '${o}'`);
      if (i)
        break;
      a[o || "#" + n] = i;
    }
    if (!i) {
      const n = Object.entries(a).map(
        ([s, l]) => `adapter ${s} ` + (l === !1 ? "is not supported by the environment" : "is not available in the build")
      );
      let o = e ? n.length > 1 ? `since :
` + n.map(EP).join(`
`) : " " + EP(n[0]) : "as no adapter specified";
      throw new zr(
        "There is no suitable adapter to dispatch the request " + o,
        "ERR_NOT_SUPPORT"
      );
    }
    return i;
  },
  adapters: BT
};
function T4(r) {
  if (r.cancelToken && r.cancelToken.throwIfRequested(), r.signal && r.signal.aborted)
    throw new b0(null, r);
}
function DP(r) {
  return T4(r), r.headers = Ps.from(r.headers), r.data = x4.call(
    r,
    r.transformRequest
  ), ["post", "put", "patch"].indexOf(r.method) !== -1 && r.headers.setContentType("application/x-www-form-urlencoded", !1), pz.getAdapter(r.adapter || VE.adapter)(r).then(function(i) {
    return T4(r), i.data = x4.call(
      r,
      r.transformResponse,
      i
    ), i.headers = Ps.from(i.headers), i;
  }, function(i) {
    return lz(i) || (T4(r), i && i.response && (i.response.data = x4.call(
      r,
      r.transformResponse,
      i.response
    ), i.response.headers = Ps.from(i.response.headers))), Promise.reject(i);
  });
}
const vz = "1.7.9", aw = {};
["object", "boolean", "number", "function", "string", "symbol"].forEach((r, e) => {
  aw[r] = function(i) {
    return typeof i === r || "a" + (e < 1 ? "n " : " ") + r;
  };
});
const kP = {};
aw.transitional = function(e, t, i) {
  function a(n, o) {
    return "[Axios v" + vz + "] Transitional option '" + n + "'" + o + (i ? ". " + i : "");
  }
  return (n, o, s) => {
    if (e === !1)
      throw new zr(
        a(o, " has been removed" + (t ? " in " + t : "")),
        zr.ERR_DEPRECATED
      );
    return t && !kP[o] && (kP[o] = !0, console.warn(
      a(
        o,
        " has been deprecated since v" + t + " and will be removed in the near future"
      )
    )), e ? e(n, o, s) : !0;
  };
};
aw.spelling = function(e) {
  return (t, i) => (console.warn(`${i} is likely a misspelling of ${e}`), !0);
};
function yie(r, e, t) {
  if (typeof r != "object")
    throw new zr("options must be an object", zr.ERR_BAD_OPTION_VALUE);
  const i = Object.keys(r);
  let a = i.length;
  for (; a-- > 0; ) {
    const n = i[a], o = e[n];
    if (o) {
      const s = r[n], l = s === void 0 || o(s, n, r);
      if (l !== !0)
        throw new zr("option " + n + " must be " + l, zr.ERR_BAD_OPTION_VALUE);
      continue;
    }
    if (t !== !0)
      throw new zr("Unknown option " + n, zr.ERR_BAD_OPTION);
  }
}
const B2 = {
  assertOptions: yie,
  validators: aw
}, rl = B2.validators;
class b_ {
  constructor(e) {
    this.defaults = e, this.interceptors = {
      request: new bP(),
      response: new bP()
    };
  }
  /**
   * Dispatch a request
   *
   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)
   * @param {?Object} config
   *
   * @returns {Promise} The Promise to be fulfilled
   */
  async request(e, t) {
    try {
      return await this._request(e, t);
    } catch (i) {
      if (i instanceof Error) {
        let a = {};
        Error.captureStackTrace ? Error.captureStackTrace(a) : a = new Error();
        const n = a.stack ? a.stack.replace(/^.+\n/, "") : "";
        try {
          i.stack ? n && !String(i.stack).endsWith(n.replace(/^.+\n.+\n/, "")) && (i.stack += `
` + n) : i.stack = n;
        } catch {
        }
      }
      throw i;
    }
  }
  _request(e, t) {
    typeof e == "string" ? (t = t || {}, t.url = e) : t = e || {}, t = Kf(this.defaults, t);
    const { transitional: i, paramsSerializer: a, headers: n } = t;
    i !== void 0 && B2.assertOptions(i, {
      silentJSONParsing: rl.transitional(rl.boolean),
      forcedJSONParsing: rl.transitional(rl.boolean),
      clarifyTimeoutError: rl.transitional(rl.boolean)
    }, !1), a != null && (et.isFunction(a) ? t.paramsSerializer = {
      serialize: a
    } : B2.assertOptions(a, {
      encode: rl.function,
      serialize: rl.function
    }, !0)), B2.assertOptions(t, {
      baseUrl: rl.spelling("baseURL"),
      withXsrfToken: rl.spelling("withXSRFToken")
    }, !0), t.method = (t.method || this.defaults.method || "get").toLowerCase();
    let o = n && et.merge(
      n.common,
      n[t.method]
    );
    n && et.forEach(
      ["delete", "get", "head", "post", "put", "patch", "common"],
      (v) => {
        delete n[v];
      }
    ), t.headers = Ps.concat(o, n);
    const s = [];
    let l = !0;
    this.interceptors.request.forEach(function(y) {
      typeof y.runWhen == "function" && y.runWhen(t) === !1 || (l = l && y.synchronous, s.unshift(y.fulfilled, y.rejected));
    });
    const u = [];
    this.interceptors.response.forEach(function(y) {
      u.push(y.fulfilled, y.rejected);
    });
    let c, f = 0, d;
    if (!l) {
      const v = [DP.bind(this), void 0];
      for (v.unshift.apply(v, s), v.push.apply(v, u), d = v.length, c = Promise.resolve(t); f < d; )
        c = c.then(v[f++], v[f++]);
      return c;
    }
    d = s.length;
    let p = t;
    for (f = 0; f < d; ) {
      const v = s[f++], y = s[f++];
      try {
        p = v(p);
      } catch (_) {
        y.call(this, _);
        break;
      }
    }
    try {
      c = DP.call(this, p);
    } catch (v) {
      return Promise.reject(v);
    }
    for (f = 0, d = u.length; f < d; )
      c = c.then(u[f++], u[f++]);
    return c;
  }
  getUri(e) {
    e = Kf(this.defaults, e);
    const t = cz(e.baseURL, e.url);
    return az(t, e.params, e.paramsSerializer);
  }
}
et.forEach(["delete", "get", "head", "options"], function(e) {
  b_.prototype[e] = function(t, i) {
    return this.request(Kf(i || {}, {
      method: e,
      url: t,
      data: (i || {}).data
    }));
  };
});
et.forEach(["post", "put", "patch"], function(e) {
  function t(i) {
    return function(n, o, s) {
      return this.request(Kf(s || {}, {
        method: e,
        headers: i ? {
          "Content-Type": "multipart/form-data"
        } : {},
        url: n,
        data: o
      }));
    };
  }
  b_.prototype[e] = t(), b_.prototype[e + "Form"] = t(!0);
});
const V2 = b_;
class UE {
  constructor(e) {
    if (typeof e != "function")
      throw new TypeError("executor must be a function.");
    let t;
    this.promise = new Promise(function(n) {
      t = n;
    });
    const i = this;
    this.promise.then((a) => {
      if (!i._listeners)
        return;
      let n = i._listeners.length;
      for (; n-- > 0; )
        i._listeners[n](a);
      i._listeners = null;
    }), this.promise.then = (a) => {
      let n;
      const o = new Promise((s) => {
        i.subscribe(s), n = s;
      }).then(a);
      return o.cancel = function() {
        i.unsubscribe(n);
      }, o;
    }, e(function(n, o, s) {
      i.reason || (i.reason = new b0(n, o, s), t(i.reason));
    });
  }
  /**
   * Throws a `CanceledError` if cancellation has been requested.
   */
  throwIfRequested() {
    if (this.reason)
      throw this.reason;
  }
  /**
   * Subscribe to the cancel signal
   */
  subscribe(e) {
    if (this.reason) {
      e(this.reason);
      return;
    }
    this._listeners ? this._listeners.push(e) : this._listeners = [e];
  }
  /**
   * Unsubscribe from the cancel signal
   */
  unsubscribe(e) {
    if (!this._listeners)
      return;
    const t = this._listeners.indexOf(e);
    t !== -1 && this._listeners.splice(t, 1);
  }
  toAbortSignal() {
    const e = new AbortController(), t = (i) => {
      e.abort(i);
    };
    return this.subscribe(t), e.signal.unsubscribe = () => this.unsubscribe(t), e.signal;
  }
  /**
   * Returns an object that contains a new `CancelToken` and a function that, when called,
   * cancels the `CancelToken`.
   */
  static source() {
    let e;
    return {
      token: new UE(function(a) {
        e = a;
      }),
      cancel: e
    };
  }
}
const _ie = UE;
function bie(r) {
  return function(t) {
    return r.apply(null, t);
  };
}
function wie(r) {
  return et.isObject(r) && r.isAxiosError === !0;
}
const VT = {
  Continue: 100,
  SwitchingProtocols: 101,
  Processing: 102,
  EarlyHints: 103,
  Ok: 200,
  Created: 201,
  Accepted: 202,
  NonAuthoritativeInformation: 203,
  NoContent: 204,
  ResetContent: 205,
  PartialContent: 206,
  MultiStatus: 207,
  AlreadyReported: 208,
  ImUsed: 226,
  MultipleChoices: 300,
  MovedPermanently: 301,
  Found: 302,
  SeeOther: 303,
  NotModified: 304,
  UseProxy: 305,
  Unused: 306,
  TemporaryRedirect: 307,
  PermanentRedirect: 308,
  BadRequest: 400,
  Unauthorized: 401,
  PaymentRequired: 402,
  Forbidden: 403,
  NotFound: 404,
  MethodNotAllowed: 405,
  NotAcceptable: 406,
  ProxyAuthenticationRequired: 407,
  RequestTimeout: 408,
  Conflict: 409,
  Gone: 410,
  LengthRequired: 411,
  PreconditionFailed: 412,
  PayloadTooLarge: 413,
  UriTooLong: 414,
  UnsupportedMediaType: 415,
  RangeNotSatisfiable: 416,
  ExpectationFailed: 417,
  ImATeapot: 418,
  MisdirectedRequest: 421,
  UnprocessableEntity: 422,
  Locked: 423,
  FailedDependency: 424,
  TooEarly: 425,
  UpgradeRequired: 426,
  PreconditionRequired: 428,
  TooManyRequests: 429,
  RequestHeaderFieldsTooLarge: 431,
  UnavailableForLegalReasons: 451,
  InternalServerError: 500,
  NotImplemented: 501,
  BadGateway: 502,
  ServiceUnavailable: 503,
  GatewayTimeout: 504,
  HttpVersionNotSupported: 505,
  VariantAlsoNegotiates: 506,
  InsufficientStorage: 507,
  LoopDetected: 508,
  NotExtended: 510,
  NetworkAuthenticationRequired: 511
};
Object.entries(VT).forEach(([r, e]) => {
  VT[e] = r;
});
const Sie = VT;
function gz(r) {
  const e = new V2(r), t = jG(V2.prototype.request, e);
  return et.extend(t, V2.prototype, e, { allOwnKeys: !0 }), et.extend(t, e, null, { allOwnKeys: !0 }), t.create = function(a) {
    return gz(Kf(r, a));
  }, t;
}
const Ui = gz(VE);
Ui.Axios = V2;
Ui.CanceledError = b0;
Ui.CancelToken = _ie;
Ui.isCancel = lz;
Ui.VERSION = vz;
Ui.toFormData = rw;
Ui.AxiosError = zr;
Ui.Cancel = Ui.CanceledError;
Ui.all = function(e) {
  return Promise.all(e);
};
Ui.spread = bie;
Ui.isAxiosError = wie;
Ui.mergeConfig = Kf;
Ui.AxiosHeaders = Ps;
Ui.formToJSON = (r) => sz(et.isHTMLForm(r) ? new FormData(r) : r);
Ui.getAdapter = pz.getAdapter;
Ui.HttpStatusCode = Sie;
Ui.default = Ui;
const mz = Ui;
var w_ = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function GE(r) {
  return r && r.__esModule && Object.prototype.hasOwnProperty.call(r, "default") ? r.default : r;
}
function xie(r) {
  if (r.__esModule)
    return r;
  var e = r.default;
  if (typeof e == "function") {
    var t = function i() {
      return this instanceof i ? Reflect.construct(e, arguments, this.constructor) : e.apply(this, arguments);
    };
    t.prototype = e.prototype;
  } else
    t = {};
  return Object.defineProperty(t, "__esModule", { value: !0 }), Object.keys(r).forEach(function(i) {
    var a = Object.getOwnPropertyDescriptor(r, i);
    Object.defineProperty(t, i, a.get ? a : {
      enumerable: !0,
      get: function() {
        return r[i];
      }
    });
  }), t;
}
var ow = { exports: {} }, yz = { exports: {} }, _z = { exports: {} };
(function(r) {
  (function(e) {
    var t, i = /^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i, a = Math.ceil, n = Math.floor, o = "[BigNumber Error] ", s = o + "Number primitive has more than 15 significant digits: ", l = 1e14, u = 14, c = 9007199254740991, f = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13], d = 1e7, p = 1e9;
    function v(k) {
      var P, L, F, O = ve.prototype = { constructor: ve, toString: null, valueOf: null }, U = new ve(1), V = 20, G = 4, Z = -7, Q = 21, se = -1e7, de = 1e7, le = !1, Se = 1, he = 0, fe = {
        prefix: "",
        groupSize: 3,
        secondaryGroupSize: 0,
        groupSeparator: ",",
        decimalSeparator: ".",
        fractionGroupSize: 0,
        fractionGroupSeparator: "",
        // non-breaking space
        suffix: ""
      }, K = "0123456789abcdefghijklmnopqrstuvwxyz", we = !0;
      function ve(te, ne) {
        var ie, xe, ge, ae, pe, ce, Ee, ke, ye = this;
        if (!(ye instanceof ve))
          return new ve(te, ne);
        if (ne == null) {
          if (te && te._isBigNumber === !0) {
            ye.s = te.s, !te.c || te.e > de ? ye.c = ye.e = null : te.e < se ? ye.c = [ye.e = 0] : (ye.e = te.e, ye.c = te.c.slice());
            return;
          }
          if ((ce = typeof te == "number") && te * 0 == 0) {
            if (ye.s = 1 / te < 0 ? (te = -te, -1) : 1, te === ~~te) {
              for (ae = 0, pe = te; pe >= 10; pe /= 10, ae++)
                ;
              ae > de ? ye.c = ye.e = null : (ye.e = ae, ye.c = [te]);
              return;
            }
            ke = String(te);
          } else {
            if (!i.test(ke = String(te)))
              return F(ye, ke, ce);
            ye.s = ke.charCodeAt(0) == 45 ? (ke = ke.slice(1), -1) : 1;
          }
          (ae = ke.indexOf(".")) > -1 && (ke = ke.replace(".", "")), (pe = ke.search(/e/i)) > 0 ? (ae < 0 && (ae = pe), ae += +ke.slice(pe + 1), ke = ke.substring(0, pe)) : ae < 0 && (ae = ke.length);
        } else {
          if (S(ne, 2, K.length, "Base"), ne == 10 && we)
            return ye = new ve(te), re(ye, V + ye.e + 1, G);
          if (ke = String(te), ce = typeof te == "number") {
            if (te * 0 != 0)
              return F(ye, ke, ce, ne);
            if (ye.s = 1 / te < 0 ? (ke = ke.slice(1), -1) : 1, ve.DEBUG && ke.replace(/^0\.0*|\./, "").length > 15)
              throw Error(s + te);
          } else
            ye.s = ke.charCodeAt(0) === 45 ? (ke = ke.slice(1), -1) : 1;
          for (ie = K.slice(0, ne), ae = pe = 0, Ee = ke.length; pe < Ee; pe++)
            if (ie.indexOf(xe = ke.charAt(pe)) < 0) {
              if (xe == ".") {
                if (pe > ae) {
                  ae = Ee;
                  continue;
                }
              } else if (!ge && (ke == ke.toUpperCase() && (ke = ke.toLowerCase()) || ke == ke.toLowerCase() && (ke = ke.toUpperCase()))) {
                ge = !0, pe = -1, ae = 0;
                continue;
              }
              return F(ye, String(te), ce, ne);
            }
          ce = !1, ke = L(ke, ne, 10, ye.s), (ae = ke.indexOf(".")) > -1 ? ke = ke.replace(".", "") : ae = ke.length;
        }
        for (pe = 0; ke.charCodeAt(pe) === 48; pe++)
          ;
        for (Ee = ke.length; ke.charCodeAt(--Ee) === 48; )
          ;
        if (ke = ke.slice(pe, ++Ee)) {
          if (Ee -= pe, ce && ve.DEBUG && Ee > 15 && (te > c || te !== n(te)))
            throw Error(s + ye.s * te);
          if ((ae = ae - pe - 1) > de)
            ye.c = ye.e = null;
          else if (ae < se)
            ye.c = [ye.e = 0];
          else {
            if (ye.e = ae, ye.c = [], pe = (ae + 1) % u, ae < 0 && (pe += u), pe < Ee) {
              for (pe && ye.c.push(+ke.slice(0, pe)), Ee -= u; pe < Ee; )
                ye.c.push(+ke.slice(pe, pe += u));
              pe = u - (ke = ke.slice(pe)).length;
            } else
              pe -= Ee;
            for (; pe--; ke += "0")
              ;
            ye.c.push(+ke);
          }
        } else
          ye.c = [ye.e = 0];
      }
      ve.clone = v, ve.ROUND_UP = 0, ve.ROUND_DOWN = 1, ve.ROUND_CEIL = 2, ve.ROUND_FLOOR = 3, ve.ROUND_HALF_UP = 4, ve.ROUND_HALF_DOWN = 5, ve.ROUND_HALF_EVEN = 6, ve.ROUND_HALF_CEIL = 7, ve.ROUND_HALF_FLOOR = 8, ve.EUCLID = 9, ve.config = ve.set = function(te) {
        var ne, ie;
        if (te != null)
          if (typeof te == "object") {
            if (te.hasOwnProperty(ne = "DECIMAL_PLACES") && (ie = te[ne], S(ie, 0, p, ne), V = ie), te.hasOwnProperty(ne = "ROUNDING_MODE") && (ie = te[ne], S(ie, 0, 8, ne), G = ie), te.hasOwnProperty(ne = "EXPONENTIAL_AT") && (ie = te[ne], ie && ie.pop ? (S(ie[0], -p, 0, ne), S(ie[1], 0, p, ne), Z = ie[0], Q = ie[1]) : (S(ie, -p, p, ne), Z = -(Q = ie < 0 ? -ie : ie))), te.hasOwnProperty(ne = "RANGE"))
              if (ie = te[ne], ie && ie.pop)
                S(ie[0], -p, -1, ne), S(ie[1], 1, p, ne), se = ie[0], de = ie[1];
              else if (S(ie, -p, p, ne), ie)
                se = -(de = ie < 0 ? -ie : ie);
              else
                throw Error(o + ne + " cannot be zero: " + ie);
            if (te.hasOwnProperty(ne = "CRYPTO"))
              if (ie = te[ne], ie === !!ie)
                if (ie)
                  if (typeof crypto < "u" && crypto && (crypto.getRandomValues || crypto.randomBytes))
                    le = ie;
                  else
                    throw le = !ie, Error(o + "crypto unavailable");
                else
                  le = ie;
              else
                throw Error(o + ne + " not true or false: " + ie);
            if (te.hasOwnProperty(ne = "MODULO_MODE") && (ie = te[ne], S(ie, 0, 9, ne), Se = ie), te.hasOwnProperty(ne = "POW_PRECISION") && (ie = te[ne], S(ie, 0, p, ne), he = ie), te.hasOwnProperty(ne = "FORMAT"))
              if (ie = te[ne], typeof ie == "object")
                fe = ie;
              else
                throw Error(o + ne + " not an object: " + ie);
            if (te.hasOwnProperty(ne = "ALPHABET"))
              if (ie = te[ne], typeof ie == "string" && !/^.?$|[+\-.\s]|(.).*\1/.test(ie))
                we = ie.slice(0, 10) == "0123456789", K = ie;
              else
                throw Error(o + ne + " invalid: " + ie);
          } else
            throw Error(o + "Object expected: " + te);
        return {
          DECIMAL_PLACES: V,
          ROUNDING_MODE: G,
          EXPONENTIAL_AT: [Z, Q],
          RANGE: [se, de],
          CRYPTO: le,
          MODULO_MODE: Se,
          POW_PRECISION: he,
          FORMAT: fe,
          ALPHABET: K
        };
      }, ve.isBigNumber = function(te) {
        if (!te || te._isBigNumber !== !0)
          return !1;
        if (!ve.DEBUG)
          return !0;
        var ne, ie, xe = te.c, ge = te.e, ae = te.s;
        e:
          if ({}.toString.call(xe) == "[object Array]") {
            if ((ae === 1 || ae === -1) && ge >= -p && ge <= p && ge === n(ge)) {
              if (xe[0] === 0) {
                if (ge === 0 && xe.length === 1)
                  return !0;
                break e;
              }
              if (ne = (ge + 1) % u, ne < 1 && (ne += u), String(xe[0]).length == ne) {
                for (ne = 0; ne < xe.length; ne++)
                  if (ie = xe[ne], ie < 0 || ie >= l || ie !== n(ie))
                    break e;
                if (ie !== 0)
                  return !0;
              }
            }
          } else if (xe === null && ge === null && (ae === null || ae === 1 || ae === -1))
            return !0;
        throw Error(o + "Invalid BigNumber: " + te);
      }, ve.maximum = ve.max = function() {
        return Ie(arguments, -1);
      }, ve.minimum = ve.min = function() {
        return Ie(arguments, 1);
      }, ve.random = function() {
        var te = 9007199254740992, ne = Math.random() * te & 2097151 ? function() {
          return n(Math.random() * te);
        } : function() {
          return (Math.random() * 1073741824 | 0) * 8388608 + (Math.random() * 8388608 | 0);
        };
        return function(ie) {
          var xe, ge, ae, pe, ce, Ee = 0, ke = [], ye = new ve(U);
          if (ie == null ? ie = V : S(ie, 0, p), pe = a(ie / u), le)
            if (crypto.getRandomValues) {
              for (xe = crypto.getRandomValues(new Uint32Array(pe *= 2)); Ee < pe; )
                ce = xe[Ee] * 131072 + (xe[Ee + 1] >>> 11), ce >= 9e15 ? (ge = crypto.getRandomValues(new Uint32Array(2)), xe[Ee] = ge[0], xe[Ee + 1] = ge[1]) : (ke.push(ce % 1e14), Ee += 2);
              Ee = pe / 2;
            } else if (crypto.randomBytes) {
              for (xe = crypto.randomBytes(pe *= 7); Ee < pe; )
                ce = (xe[Ee] & 31) * 281474976710656 + xe[Ee + 1] * 1099511627776 + xe[Ee + 2] * 4294967296 + xe[Ee + 3] * 16777216 + (xe[Ee + 4] << 16) + (xe[Ee + 5] << 8) + xe[Ee + 6], ce >= 9e15 ? crypto.randomBytes(7).copy(xe, Ee) : (ke.push(ce % 1e14), Ee += 7);
              Ee = pe / 7;
            } else
              throw le = !1, Error(o + "crypto unavailable");
          if (!le)
            for (; Ee < pe; )
              ce = ne(), ce < 9e15 && (ke[Ee++] = ce % 1e14);
          for (pe = ke[--Ee], ie %= u, pe && ie && (ce = f[u - ie], ke[Ee] = n(pe / ce) * ce); ke[Ee] === 0; ke.pop(), Ee--)
            ;
          if (Ee < 0)
            ke = [ae = 0];
          else {
            for (ae = -1; ke[0] === 0; ke.splice(0, 1), ae -= u)
              ;
            for (Ee = 1, ce = ke[0]; ce >= 10; ce /= 10, Ee++)
              ;
            Ee < u && (ae -= u - Ee);
          }
          return ye.e = ae, ye.c = ke, ye;
        };
      }(), ve.sum = function() {
        for (var te = 1, ne = arguments, ie = new ve(ne[0]); te < ne.length; )
          ie = ie.plus(ne[te++]);
        return ie;
      }, L = function() {
        var te = "0123456789";
        function ne(ie, xe, ge, ae) {
          for (var pe, ce = [0], Ee, ke = 0, ye = ie.length; ke < ye; ) {
            for (Ee = ce.length; Ee--; ce[Ee] *= xe)
              ;
            for (ce[0] += ae.indexOf(ie.charAt(ke++)), pe = 0; pe < ce.length; pe++)
              ce[pe] > ge - 1 && (ce[pe + 1] == null && (ce[pe + 1] = 0), ce[pe + 1] += ce[pe] / ge | 0, ce[pe] %= ge);
          }
          return ce.reverse();
        }
        return function(ie, xe, ge, ae, pe) {
          var ce, Ee, ke, ye, Pe, We, nt, ft, mr = ie.indexOf("."), z = V, B = G;
          for (mr >= 0 && (ye = he, he = 0, ie = ie.replace(".", ""), ft = new ve(xe), We = ft.pow(ie.length - mr), he = ye, ft.c = ne(
            M(_(We.c), We.e, "0"),
            10,
            ge,
            te
          ), ft.e = ft.c.length), nt = ne(ie, xe, ge, pe ? (ce = K, te) : (ce = te, K)), ke = ye = nt.length; nt[--ye] == 0; nt.pop())
            ;
          if (!nt[0])
            return ce.charAt(0);
          if (mr < 0 ? --ke : (We.c = nt, We.e = ke, We.s = ae, We = P(We, ft, z, B, ge), nt = We.c, Pe = We.r, ke = We.e), Ee = ke + z + 1, mr = nt[Ee], ye = ge / 2, Pe = Pe || Ee < 0 || nt[Ee + 1] != null, Pe = B < 4 ? (mr != null || Pe) && (B == 0 || B == (We.s < 0 ? 3 : 2)) : mr > ye || mr == ye && (B == 4 || Pe || B == 6 && nt[Ee - 1] & 1 || B == (We.s < 0 ? 8 : 7)), Ee < 1 || !nt[0])
            ie = Pe ? M(ce.charAt(1), -z, ce.charAt(0)) : ce.charAt(0);
          else {
            if (nt.length = Ee, Pe)
              for (--ge; ++nt[--Ee] > ge; )
                nt[Ee] = 0, Ee || (++ke, nt = [1].concat(nt));
            for (ye = nt.length; !nt[--ye]; )
              ;
            for (mr = 0, ie = ""; mr <= ye; ie += ce.charAt(nt[mr++]))
              ;
            ie = M(ie, ke, ce.charAt(0));
          }
          return ie;
        };
      }(), P = function() {
        function te(xe, ge, ae) {
          var pe, ce, Ee, ke, ye = 0, Pe = xe.length, We = ge % d, nt = ge / d | 0;
          for (xe = xe.slice(); Pe--; )
            Ee = xe[Pe] % d, ke = xe[Pe] / d | 0, pe = nt * Ee + ke * We, ce = We * Ee + pe % d * d + ye, ye = (ce / ae | 0) + (pe / d | 0) + nt * ke, xe[Pe] = ce % ae;
          return ye && (xe = [ye].concat(xe)), xe;
        }
        function ne(xe, ge, ae, pe) {
          var ce, Ee;
          if (ae != pe)
            Ee = ae > pe ? 1 : -1;
          else
            for (ce = Ee = 0; ce < ae; ce++)
              if (xe[ce] != ge[ce]) {
                Ee = xe[ce] > ge[ce] ? 1 : -1;
                break;
              }
          return Ee;
        }
        function ie(xe, ge, ae, pe) {
          for (var ce = 0; ae--; )
            xe[ae] -= ce, ce = xe[ae] < ge[ae] ? 1 : 0, xe[ae] = ce * pe + xe[ae] - ge[ae];
          for (; !xe[0] && xe.length > 1; xe.splice(0, 1))
            ;
        }
        return function(xe, ge, ae, pe, ce) {
          var Ee, ke, ye, Pe, We, nt, ft, mr, z, B, Y, Ae, Re, Ue, ut, Sr, fn, wr = xe.s == ge.s ? 1 : -1, yr = xe.c, xr = ge.c;
          if (!yr || !yr[0] || !xr || !xr[0])
            return new ve(
              // Return NaN if either NaN, or both Infinity or 0.
              !xe.s || !ge.s || (yr ? xr && yr[0] == xr[0] : !xr) ? NaN : (
                // Return 0 if x is 0 or y is Infinity, or return Infinity as y is 0.
                yr && yr[0] == 0 || !xr ? wr * 0 : wr / 0
              )
            );
          for (mr = new ve(wr), z = mr.c = [], ke = xe.e - ge.e, wr = ae + ke + 1, ce || (ce = l, ke = y(xe.e / u) - y(ge.e / u), wr = wr / u | 0), ye = 0; xr[ye] == (yr[ye] || 0); ye++)
            ;
          if (xr[ye] > (yr[ye] || 0) && ke--, wr < 0)
            z.push(1), Pe = !0;
          else {
            for (Ue = yr.length, Sr = xr.length, ye = 0, wr += 2, We = n(ce / (xr[0] + 1)), We > 1 && (xr = te(xr, We, ce), yr = te(yr, We, ce), Sr = xr.length, Ue = yr.length), Re = Sr, B = yr.slice(0, Sr), Y = B.length; Y < Sr; B[Y++] = 0)
              ;
            fn = xr.slice(), fn = [0].concat(fn), ut = xr[0], xr[1] >= ce / 2 && ut++;
            do {
              if (We = 0, Ee = ne(xr, B, Sr, Y), Ee < 0) {
                if (Ae = B[0], Sr != Y && (Ae = Ae * ce + (B[1] || 0)), We = n(Ae / ut), We > 1)
                  for (We >= ce && (We = ce - 1), nt = te(xr, We, ce), ft = nt.length, Y = B.length; ne(nt, B, ft, Y) == 1; )
                    We--, ie(nt, Sr < ft ? fn : xr, ft, ce), ft = nt.length, Ee = 1;
                else
                  We == 0 && (Ee = We = 1), nt = xr.slice(), ft = nt.length;
                if (ft < Y && (nt = [0].concat(nt)), ie(B, nt, Y, ce), Y = B.length, Ee == -1)
                  for (; ne(xr, B, Sr, Y) < 1; )
                    We++, ie(B, Sr < Y ? fn : xr, Y, ce), Y = B.length;
              } else
                Ee === 0 && (We++, B = [0]);
              z[ye++] = We, B[0] ? B[Y++] = yr[Re] || 0 : (B = [yr[Re]], Y = 1);
            } while ((Re++ < Ue || B[0] != null) && wr--);
            Pe = B[0] != null, z[0] || z.splice(0, 1);
          }
          if (ce == l) {
            for (ye = 1, wr = z[0]; wr >= 10; wr /= 10, ye++)
              ;
            re(mr, ae + (mr.e = ye + ke * u - 1) + 1, pe, Pe);
          } else
            mr.e = ke, mr.r = +Pe;
          return mr;
        };
      }();
      function De(te, ne, ie, xe) {
        var ge, ae, pe, ce, Ee;
        if (ie == null ? ie = G : S(ie, 0, 8), !te.c)
          return te.toString();
        if (ge = te.c[0], pe = te.e, ne == null)
          Ee = _(te.c), Ee = xe == 1 || xe == 2 && (pe <= Z || pe >= Q) ? E(Ee, pe) : M(Ee, pe, "0");
        else if (te = re(new ve(te), ne, ie), ae = te.e, Ee = _(te.c), ce = Ee.length, xe == 1 || xe == 2 && (ne <= ae || ae <= Z)) {
          for (; ce < ne; Ee += "0", ce++)
            ;
          Ee = E(Ee, ae);
        } else if (ne -= pe, Ee = M(Ee, ae, "0"), ae + 1 > ce) {
          if (--ne > 0)
            for (Ee += "."; ne--; Ee += "0")
              ;
        } else if (ne += ae - ce, ne > 0)
          for (ae + 1 == ce && (Ee += "."); ne--; Ee += "0")
            ;
        return te.s < 0 && ge ? "-" + Ee : Ee;
      }
      function Ie(te, ne) {
        for (var ie, xe, ge = 1, ae = new ve(te[0]); ge < te.length; ge++)
          xe = new ve(te[ge]), (!xe.s || (ie = w(ae, xe)) === ne || ie === 0 && ae.s === ne) && (ae = xe);
        return ae;
      }
      function q(te, ne, ie) {
        for (var xe = 1, ge = ne.length; !ne[--ge]; ne.pop())
          ;
        for (ge = ne[0]; ge >= 10; ge /= 10, xe++)
          ;
        return (ie = xe + ie * u - 1) > de ? te.c = te.e = null : ie < se ? te.c = [te.e = 0] : (te.e = ie, te.c = ne), te;
      }
      F = function() {
        var te = /^(-?)0([xbo])(?=\w[\w.]*$)/i, ne = /^([^.]+)\.$/, ie = /^\.([^.]+)$/, xe = /^-?(Infinity|NaN)$/, ge = /^\s*\+(?=[\w.])|^\s+|\s+$/g;
        return function(ae, pe, ce, Ee) {
          var ke, ye = ce ? pe : pe.replace(ge, "");
          if (xe.test(ye))
            ae.s = isNaN(ye) ? null : ye < 0 ? -1 : 1;
          else {
            if (!ce && (ye = ye.replace(te, function(Pe, We, nt) {
              return ke = (nt = nt.toLowerCase()) == "x" ? 16 : nt == "b" ? 2 : 8, !Ee || Ee == ke ? We : Pe;
            }), Ee && (ke = Ee, ye = ye.replace(ne, "$1").replace(ie, "0.$1")), pe != ye))
              return new ve(ye, ke);
            if (ve.DEBUG)
              throw Error(o + "Not a" + (Ee ? " base " + Ee : "") + " number: " + pe);
            ae.s = null;
          }
          ae.c = ae.e = null;
        };
      }();
      function re(te, ne, ie, xe) {
        var ge, ae, pe, ce, Ee, ke, ye, Pe = te.c, We = f;
        if (Pe) {
          e: {
            for (ge = 1, ce = Pe[0]; ce >= 10; ce /= 10, ge++)
              ;
            if (ae = ne - ge, ae < 0)
              ae += u, pe = ne, Ee = Pe[ke = 0], ye = n(Ee / We[ge - pe - 1] % 10);
            else if (ke = a((ae + 1) / u), ke >= Pe.length)
              if (xe) {
                for (; Pe.length <= ke; Pe.push(0))
                  ;
                Ee = ye = 0, ge = 1, ae %= u, pe = ae - u + 1;
              } else
                break e;
            else {
              for (Ee = ce = Pe[ke], ge = 1; ce >= 10; ce /= 10, ge++)
                ;
              ae %= u, pe = ae - u + ge, ye = pe < 0 ? 0 : n(Ee / We[ge - pe - 1] % 10);
            }
            if (xe = xe || ne < 0 || // Are there any non-zero digits after the rounding digit?
            // The expression  n % pows10[d - j - 1]  returns all digits of n to the right
            // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.
            Pe[ke + 1] != null || (pe < 0 ? Ee : Ee % We[ge - pe - 1]), xe = ie < 4 ? (ye || xe) && (ie == 0 || ie == (te.s < 0 ? 3 : 2)) : ye > 5 || ye == 5 && (ie == 4 || xe || ie == 6 && // Check whether the digit to the left of the rounding digit is odd.
            (ae > 0 ? pe > 0 ? Ee / We[ge - pe] : 0 : Pe[ke - 1]) % 10 & 1 || ie == (te.s < 0 ? 8 : 7)), ne < 1 || !Pe[0])
              return Pe.length = 0, xe ? (ne -= te.e + 1, Pe[0] = We[(u - ne % u) % u], te.e = -ne || 0) : Pe[0] = te.e = 0, te;
            if (ae == 0 ? (Pe.length = ke, ce = 1, ke--) : (Pe.length = ke + 1, ce = We[u - ae], Pe[ke] = pe > 0 ? n(Ee / We[ge - pe] % We[pe]) * ce : 0), xe)
              for (; ; )
                if (ke == 0) {
                  for (ae = 1, pe = Pe[0]; pe >= 10; pe /= 10, ae++)
                    ;
                  for (pe = Pe[0] += ce, ce = 1; pe >= 10; pe /= 10, ce++)
                    ;
                  ae != ce && (te.e++, Pe[0] == l && (Pe[0] = 1));
                  break;
                } else {
                  if (Pe[ke] += ce, Pe[ke] != l)
                    break;
                  Pe[ke--] = 0, ce = 1;
                }
            for (ae = Pe.length; Pe[--ae] === 0; Pe.pop())
              ;
          }
          te.e > de ? te.c = te.e = null : te.e < se && (te.c = [te.e = 0]);
        }
        return te;
      }
      function be(te) {
        var ne, ie = te.e;
        return ie === null ? te.toString() : (ne = _(te.c), ne = ie <= Z || ie >= Q ? E(ne, ie) : M(ne, ie, "0"), te.s < 0 ? "-" + ne : ne);
      }
      return O.absoluteValue = O.abs = function() {
        var te = new ve(this);
        return te.s < 0 && (te.s = 1), te;
      }, O.comparedTo = function(te, ne) {
        return w(this, new ve(te, ne));
      }, O.decimalPlaces = O.dp = function(te, ne) {
        var ie, xe, ge, ae = this;
        if (te != null)
          return S(te, 0, p), ne == null ? ne = G : S(ne, 0, 8), re(new ve(ae), te + ae.e + 1, ne);
        if (!(ie = ae.c))
          return null;
        if (xe = ((ge = ie.length - 1) - y(this.e / u)) * u, ge = ie[ge])
          for (; ge % 10 == 0; ge /= 10, xe--)
            ;
        return xe < 0 && (xe = 0), xe;
      }, O.dividedBy = O.div = function(te, ne) {
        return P(this, new ve(te, ne), V, G);
      }, O.dividedToIntegerBy = O.idiv = function(te, ne) {
        return P(this, new ve(te, ne), 0, 1);
      }, O.exponentiatedBy = O.pow = function(te, ne) {
        var ie, xe, ge, ae, pe, ce, Ee, ke, ye, Pe = this;
        if (te = new ve(te), te.c && !te.isInteger())
          throw Error(o + "Exponent not an integer: " + be(te));
        if (ne != null && (ne = new ve(ne)), ce = te.e > 14, !Pe.c || !Pe.c[0] || Pe.c[0] == 1 && !Pe.e && Pe.c.length == 1 || !te.c || !te.c[0])
          return ye = new ve(Math.pow(+be(Pe), ce ? te.s * (2 - x(te)) : +be(te))), ne ? ye.mod(ne) : ye;
        if (Ee = te.s < 0, ne) {
          if (ne.c ? !ne.c[0] : !ne.s)
            return new ve(NaN);
          xe = !Ee && Pe.isInteger() && ne.isInteger(), xe && (Pe = Pe.mod(ne));
        } else {
          if (te.e > 9 && (Pe.e > 0 || Pe.e < -1 || (Pe.e == 0 ? Pe.c[0] > 1 || ce && Pe.c[1] >= 24e7 : Pe.c[0] < 8e13 || ce && Pe.c[0] <= 9999975e7)))
            return ae = Pe.s < 0 && x(te) ? -0 : 0, Pe.e > -1 && (ae = 1 / ae), new ve(Ee ? 1 / ae : ae);
          he && (ae = a(he / u + 2));
        }
        for (ce ? (ie = new ve(0.5), Ee && (te.s = 1), ke = x(te)) : (ge = Math.abs(+be(te)), ke = ge % 2), ye = new ve(U); ; ) {
          if (ke) {
            if (ye = ye.times(Pe), !ye.c)
              break;
            ae ? ye.c.length > ae && (ye.c.length = ae) : xe && (ye = ye.mod(ne));
          }
          if (ge) {
            if (ge = n(ge / 2), ge === 0)
              break;
            ke = ge % 2;
          } else if (te = te.times(ie), re(te, te.e + 1, 1), te.e > 14)
            ke = x(te);
          else {
            if (ge = +be(te), ge === 0)
              break;
            ke = ge % 2;
          }
          Pe = Pe.times(Pe), ae ? Pe.c && Pe.c.length > ae && (Pe.c.length = ae) : xe && (Pe = Pe.mod(ne));
        }
        return xe ? ye : (Ee && (ye = U.div(ye)), ne ? ye.mod(ne) : ae ? re(ye, he, G, pe) : ye);
      }, O.integerValue = function(te) {
        var ne = new ve(this);
        return te == null ? te = G : S(te, 0, 8), re(ne, ne.e + 1, te);
      }, O.isEqualTo = O.eq = function(te, ne) {
        return w(this, new ve(te, ne)) === 0;
      }, O.isFinite = function() {
        return !!this.c;
      }, O.isGreaterThan = O.gt = function(te, ne) {
        return w(this, new ve(te, ne)) > 0;
      }, O.isGreaterThanOrEqualTo = O.gte = function(te, ne) {
        return (ne = w(this, new ve(te, ne))) === 1 || ne === 0;
      }, O.isInteger = function() {
        return !!this.c && y(this.e / u) > this.c.length - 2;
      }, O.isLessThan = O.lt = function(te, ne) {
        return w(this, new ve(te, ne)) < 0;
      }, O.isLessThanOrEqualTo = O.lte = function(te, ne) {
        return (ne = w(this, new ve(te, ne))) === -1 || ne === 0;
      }, O.isNaN = function() {
        return !this.s;
      }, O.isNegative = function() {
        return this.s < 0;
      }, O.isPositive = function() {
        return this.s > 0;
      }, O.isZero = function() {
        return !!this.c && this.c[0] == 0;
      }, O.minus = function(te, ne) {
        var ie, xe, ge, ae, pe = this, ce = pe.s;
        if (te = new ve(te, ne), ne = te.s, !ce || !ne)
          return new ve(NaN);
        if (ce != ne)
          return te.s = -ne, pe.plus(te);
        var Ee = pe.e / u, ke = te.e / u, ye = pe.c, Pe = te.c;
        if (!Ee || !ke) {
          if (!ye || !Pe)
            return ye ? (te.s = -ne, te) : new ve(Pe ? pe : NaN);
          if (!ye[0] || !Pe[0])
            return Pe[0] ? (te.s = -ne, te) : new ve(ye[0] ? pe : (
              // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity
              G == 3 ? -0 : 0
            ));
        }
        if (Ee = y(Ee), ke = y(ke), ye = ye.slice(), ce = Ee - ke) {
          for ((ae = ce < 0) ? (ce = -ce, ge = ye) : (ke = Ee, ge = Pe), ge.reverse(), ne = ce; ne--; ge.push(0))
            ;
          ge.reverse();
        } else
          for (xe = (ae = (ce = ye.length) < (ne = Pe.length)) ? ce : ne, ce = ne = 0; ne < xe; ne++)
            if (ye[ne] != Pe[ne]) {
              ae = ye[ne] < Pe[ne];
              break;
            }
        if (ae && (ge = ye, ye = Pe, Pe = ge, te.s = -te.s), ne = (xe = Pe.length) - (ie = ye.length), ne > 0)
          for (; ne--; ye[ie++] = 0)
            ;
        for (ne = l - 1; xe > ce; ) {
          if (ye[--xe] < Pe[xe]) {
            for (ie = xe; ie && !ye[--ie]; ye[ie] = ne)
              ;
            --ye[ie], ye[xe] += l;
          }
          ye[xe] -= Pe[xe];
        }
        for (; ye[0] == 0; ye.splice(0, 1), --ke)
          ;
        return ye[0] ? q(te, ye, ke) : (te.s = G == 3 ? -1 : 1, te.c = [te.e = 0], te);
      }, O.modulo = O.mod = function(te, ne) {
        var ie, xe, ge = this;
        return te = new ve(te, ne), !ge.c || !te.s || te.c && !te.c[0] ? new ve(NaN) : !te.c || ge.c && !ge.c[0] ? new ve(ge) : (Se == 9 ? (xe = te.s, te.s = 1, ie = P(ge, te, 0, 3), te.s = xe, ie.s *= xe) : ie = P(ge, te, 0, Se), te = ge.minus(ie.times(te)), !te.c[0] && Se == 1 && (te.s = ge.s), te);
      }, O.multipliedBy = O.times = function(te, ne) {
        var ie, xe, ge, ae, pe, ce, Ee, ke, ye, Pe, We, nt, ft, mr, z, B = this, Y = B.c, Ae = (te = new ve(te, ne)).c;
        if (!Y || !Ae || !Y[0] || !Ae[0])
          return !B.s || !te.s || Y && !Y[0] && !Ae || Ae && !Ae[0] && !Y ? te.c = te.e = te.s = null : (te.s *= B.s, !Y || !Ae ? te.c = te.e = null : (te.c = [0], te.e = 0)), te;
        for (xe = y(B.e / u) + y(te.e / u), te.s *= B.s, Ee = Y.length, Pe = Ae.length, Ee < Pe && (ft = Y, Y = Ae, Ae = ft, ge = Ee, Ee = Pe, Pe = ge), ge = Ee + Pe, ft = []; ge--; ft.push(0))
          ;
        for (mr = l, z = d, ge = Pe; --ge >= 0; ) {
          for (ie = 0, We = Ae[ge] % z, nt = Ae[ge] / z | 0, pe = Ee, ae = ge + pe; ae > ge; )
            ke = Y[--pe] % z, ye = Y[pe] / z | 0, ce = nt * ke + ye * We, ke = We * ke + ce % z * z + ft[ae] + ie, ie = (ke / mr | 0) + (ce / z | 0) + nt * ye, ft[ae--] = ke % mr;
          ft[ae] = ie;
        }
        return ie ? ++xe : ft.splice(0, 1), q(te, ft, xe);
      }, O.negated = function() {
        var te = new ve(this);
        return te.s = -te.s || null, te;
      }, O.plus = function(te, ne) {
        var ie, xe = this, ge = xe.s;
        if (te = new ve(te, ne), ne = te.s, !ge || !ne)
          return new ve(NaN);
        if (ge != ne)
          return te.s = -ne, xe.minus(te);
        var ae = xe.e / u, pe = te.e / u, ce = xe.c, Ee = te.c;
        if (!ae || !pe) {
          if (!ce || !Ee)
            return new ve(ge / 0);
          if (!ce[0] || !Ee[0])
            return Ee[0] ? te : new ve(ce[0] ? xe : ge * 0);
        }
        if (ae = y(ae), pe = y(pe), ce = ce.slice(), ge = ae - pe) {
          for (ge > 0 ? (pe = ae, ie = Ee) : (ge = -ge, ie = ce), ie.reverse(); ge--; ie.push(0))
            ;
          ie.reverse();
        }
        for (ge = ce.length, ne = Ee.length, ge - ne < 0 && (ie = Ee, Ee = ce, ce = ie, ne = ge), ge = 0; ne; )
          ge = (ce[--ne] = ce[ne] + Ee[ne] + ge) / l | 0, ce[ne] = l === ce[ne] ? 0 : ce[ne] % l;
        return ge && (ce = [ge].concat(ce), ++pe), q(te, ce, pe);
      }, O.precision = O.sd = function(te, ne) {
        var ie, xe, ge, ae = this;
        if (te != null && te !== !!te)
          return S(te, 1, p), ne == null ? ne = G : S(ne, 0, 8), re(new ve(ae), te, ne);
        if (!(ie = ae.c))
          return null;
        if (ge = ie.length - 1, xe = ge * u + 1, ge = ie[ge]) {
          for (; ge % 10 == 0; ge /= 10, xe--)
            ;
          for (ge = ie[0]; ge >= 10; ge /= 10, xe++)
            ;
        }
        return te && ae.e + 1 > xe && (xe = ae.e + 1), xe;
      }, O.shiftedBy = function(te) {
        return S(te, -c, c), this.times("1e" + te);
      }, O.squareRoot = O.sqrt = function() {
        var te, ne, ie, xe, ge, ae = this, pe = ae.c, ce = ae.s, Ee = ae.e, ke = V + 4, ye = new ve("0.5");
        if (ce !== 1 || !pe || !pe[0])
          return new ve(!ce || ce < 0 && (!pe || pe[0]) ? NaN : pe ? ae : 1 / 0);
        if (ce = Math.sqrt(+be(ae)), ce == 0 || ce == 1 / 0 ? (ne = _(pe), (ne.length + Ee) % 2 == 0 && (ne += "0"), ce = Math.sqrt(+ne), Ee = y((Ee + 1) / 2) - (Ee < 0 || Ee % 2), ce == 1 / 0 ? ne = "5e" + Ee : (ne = ce.toExponential(), ne = ne.slice(0, ne.indexOf("e") + 1) + Ee), ie = new ve(ne)) : ie = new ve(ce + ""), ie.c[0]) {
          for (Ee = ie.e, ce = Ee + ke, ce < 3 && (ce = 0); ; )
            if (ge = ie, ie = ye.times(ge.plus(P(ae, ge, ke, 1))), _(ge.c).slice(0, ce) === (ne = _(ie.c)).slice(0, ce))
              if (ie.e < Ee && --ce, ne = ne.slice(ce - 3, ce + 1), ne == "9999" || !xe && ne == "4999") {
                if (!xe && (re(ge, ge.e + V + 2, 0), ge.times(ge).eq(ae))) {
                  ie = ge;
                  break;
                }
                ke += 4, ce += 4, xe = 1;
              } else {
                (!+ne || !+ne.slice(1) && ne.charAt(0) == "5") && (re(ie, ie.e + V + 2, 1), te = !ie.times(ie).eq(ae));
                break;
              }
        }
        return re(ie, ie.e + V + 1, G, te);
      }, O.toExponential = function(te, ne) {
        return te != null && (S(te, 0, p), te++), De(this, te, ne, 1);
      }, O.toFixed = function(te, ne) {
        return te != null && (S(te, 0, p), te = te + this.e + 1), De(this, te, ne);
      }, O.toFormat = function(te, ne, ie) {
        var xe, ge = this;
        if (ie == null)
          te != null && ne && typeof ne == "object" ? (ie = ne, ne = null) : te && typeof te == "object" ? (ie = te, te = ne = null) : ie = fe;
        else if (typeof ie != "object")
          throw Error(o + "Argument not an object: " + ie);
        if (xe = ge.toFixed(te, ne), ge.c) {
          var ae, pe = xe.split("."), ce = +ie.groupSize, Ee = +ie.secondaryGroupSize, ke = ie.groupSeparator || "", ye = pe[0], Pe = pe[1], We = ge.s < 0, nt = We ? ye.slice(1) : ye, ft = nt.length;
          if (Ee && (ae = ce, ce = Ee, Ee = ae, ft -= ae), ce > 0 && ft > 0) {
            for (ae = ft % ce || ce, ye = nt.substr(0, ae); ae < ft; ae += ce)
              ye += ke + nt.substr(ae, ce);
            Ee > 0 && (ye += ke + nt.slice(ae)), We && (ye = "-" + ye);
          }
          xe = Pe ? ye + (ie.decimalSeparator || "") + ((Ee = +ie.fractionGroupSize) ? Pe.replace(
            new RegExp("\\d{" + Ee + "}\\B", "g"),
            "$&" + (ie.fractionGroupSeparator || "")
          ) : Pe) : ye;
        }
        return (ie.prefix || "") + xe + (ie.suffix || "");
      }, O.toFraction = function(te) {
        var ne, ie, xe, ge, ae, pe, ce, Ee, ke, ye, Pe, We, nt = this, ft = nt.c;
        if (te != null && (ce = new ve(te), !ce.isInteger() && (ce.c || ce.s !== 1) || ce.lt(U)))
          throw Error(o + "Argument " + (ce.isInteger() ? "out of range: " : "not an integer: ") + be(ce));
        if (!ft)
          return new ve(nt);
        for (ne = new ve(U), ke = ie = new ve(U), xe = Ee = new ve(U), We = _(ft), ae = ne.e = We.length - nt.e - 1, ne.c[0] = f[(pe = ae % u) < 0 ? u + pe : pe], te = !te || ce.comparedTo(ne) > 0 ? ae > 0 ? ne : ke : ce, pe = de, de = 1 / 0, ce = new ve(We), Ee.c[0] = 0; ye = P(ce, ne, 0, 1), ge = ie.plus(ye.times(xe)), ge.comparedTo(te) != 1; )
          ie = xe, xe = ge, ke = Ee.plus(ye.times(ge = ke)), Ee = ge, ne = ce.minus(ye.times(ge = ne)), ce = ge;
        return ge = P(te.minus(ie), xe, 0, 1), Ee = Ee.plus(ge.times(ke)), ie = ie.plus(ge.times(xe)), Ee.s = ke.s = nt.s, ae = ae * 2, Pe = P(ke, xe, ae, G).minus(nt).abs().comparedTo(
          P(Ee, ie, ae, G).minus(nt).abs()
        ) < 1 ? [ke, xe] : [Ee, ie], de = pe, Pe;
      }, O.toNumber = function() {
        return +be(this);
      }, O.toPrecision = function(te, ne) {
        return te != null && S(te, 1, p), De(this, te, ne, 2);
      }, O.toString = function(te) {
        var ne, ie = this, xe = ie.s, ge = ie.e;
        return ge === null ? xe ? (ne = "Infinity", xe < 0 && (ne = "-" + ne)) : ne = "NaN" : (te == null ? ne = ge <= Z || ge >= Q ? E(_(ie.c), ge) : M(_(ie.c), ge, "0") : te === 10 && we ? (ie = re(new ve(ie), V + ge + 1, G), ne = M(_(ie.c), ie.e, "0")) : (S(te, 2, K.length, "Base"), ne = L(M(_(ie.c), ge, "0"), 10, te, xe, !0)), xe < 0 && ie.c[0] && (ne = "-" + ne)), ne;
      }, O.valueOf = O.toJSON = function() {
        return be(this);
      }, O._isBigNumber = !0, k != null && ve.set(k), ve;
    }
    function y(k) {
      var P = k | 0;
      return k > 0 || k === P ? P : P - 1;
    }
    function _(k) {
      for (var P, L, F = 1, O = k.length, U = k[0] + ""; F < O; ) {
        for (P = k[F++] + "", L = u - P.length; L--; P = "0" + P)
          ;
        U += P;
      }
      for (O = U.length; U.charCodeAt(--O) === 48; )
        ;
      return U.slice(0, O + 1 || 1);
    }
    function w(k, P) {
      var L, F, O = k.c, U = P.c, V = k.s, G = P.s, Z = k.e, Q = P.e;
      if (!V || !G)
        return null;
      if (L = O && !O[0], F = U && !U[0], L || F)
        return L ? F ? 0 : -G : V;
      if (V != G)
        return V;
      if (L = V < 0, F = Z == Q, !O || !U)
        return F ? 0 : !O ^ L ? 1 : -1;
      if (!F)
        return Z > Q ^ L ? 1 : -1;
      for (G = (Z = O.length) < (Q = U.length) ? Z : Q, V = 0; V < G; V++)
        if (O[V] != U[V])
          return O[V] > U[V] ^ L ? 1 : -1;
      return Z == Q ? 0 : Z > Q ^ L ? 1 : -1;
    }
    function S(k, P, L, F) {
      if (k < P || k > L || k !== n(k))
        throw Error(o + (F || "Argument") + (typeof k == "number" ? k < P || k > L ? " out of range: " : " not an integer: " : " not a primitive number: ") + String(k));
    }
    function x(k) {
      var P = k.c.length - 1;
      return y(k.e / u) == P && k.c[P] % 2 != 0;
    }
    function E(k, P) {
      return (k.length > 1 ? k.charAt(0) + "." + k.slice(1) : k) + (P < 0 ? "e" : "e+") + P;
    }
    function M(k, P, L) {
      var F, O;
      if (P < 0) {
        for (O = L + "."; ++P; O += L)
          ;
        k = O + k;
      } else if (F = k.length, ++P > F) {
        for (O = L, P -= F; --P; O += L)
          ;
        k += O;
      } else
        P < F && (k = k.slice(0, P) + "." + k.slice(P));
      return k;
    }
    t = v(), t.default = t.BigNumber = t, r.exports ? r.exports = t : (e || (e = typeof self < "u" && self ? self : window), e.BigNumber = t);
  })(w_);
})(_z);
var bz = _z.exports;
(function(r) {
  var e = bz, t = r.exports;
  (function() {
    var i = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, a, n, o = {
      // table of character substitutions
      "\b": "\\b",
      "	": "\\t",
      "\n": "\\n",
      "\f": "\\f",
      "\r": "\\r",
      '"': '\\"',
      "\\": "\\\\"
    }, s;
    function l(c) {
      return i.lastIndex = 0, i.test(c) ? '"' + c.replace(i, function(f) {
        var d = o[f];
        return typeof d == "string" ? d : "\\u" + ("0000" + f.charCodeAt(0).toString(16)).slice(-4);
      }) + '"' : '"' + c + '"';
    }
    function u(c, f) {
      var d, p, v, y, _ = a, w, S = f[c], x = S != null && (S instanceof e || e.isBigNumber(S));
      switch (S && typeof S == "object" && typeof S.toJSON == "function" && (S = S.toJSON(c)), typeof s == "function" && (S = s.call(f, c, S)), typeof S) {
        case "string":
          return x ? S : l(S);
        case "number":
          return isFinite(S) ? String(S) : "null";
        case "boolean":
        case "null":
        case "bigint":
          return String(S);
        case "object":
          if (!S)
            return "null";
          if (a += n, w = [], Object.prototype.toString.apply(S) === "[object Array]") {
            for (y = S.length, d = 0; d < y; d += 1)
              w[d] = u(d, S) || "null";
            return v = w.length === 0 ? "[]" : a ? `[
` + a + w.join(`,
` + a) + `
` + _ + "]" : "[" + w.join(",") + "]", a = _, v;
          }
          if (s && typeof s == "object")
            for (y = s.length, d = 0; d < y; d += 1)
              typeof s[d] == "string" && (p = s[d], v = u(p, S), v && w.push(l(p) + (a ? ": " : ":") + v));
          else
            Object.keys(S).forEach(function(E) {
              var M = u(E, S);
              M && w.push(l(E) + (a ? ": " : ":") + M);
            });
          return v = w.length === 0 ? "{}" : a ? `{
` + a + w.join(`,
` + a) + `
` + _ + "}" : "{" + w.join(",") + "}", a = _, v;
      }
    }
    typeof t.stringify != "function" && (t.stringify = function(c, f, d) {
      var p;
      if (a = "", n = "", typeof d == "number")
        for (p = 0; p < d; p += 1)
          n += " ";
      else
        typeof d == "string" && (n = d);
      if (s = f, f && typeof f != "function" && (typeof f != "object" || typeof f.length != "number"))
        throw new Error("JSON.stringify");
      return u("", { "": c });
    });
  })();
})(yz);
var Tie = yz.exports, uy = null;
const Cie = /(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/, Aie = /(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;
var Eie = function(r) {
  var e = {
    strict: !1,
    // not being strict means do not generate syntax errors for "duplicate key"
    storeAsString: !1,
    // toggles whether the values should be stored as BigNumber (default) or a string
    alwaysParseAsBig: !1,
    // toggles whether all numbers should be Big
    useNativeBigInt: !1,
    // toggles whether to use native BigInt instead of bignumber.js
    protoAction: "error",
    constructorAction: "error"
  };
  if (r != null) {
    if (r.strict === !0 && (e.strict = !0), r.storeAsString === !0 && (e.storeAsString = !0), e.alwaysParseAsBig = r.alwaysParseAsBig === !0 ? r.alwaysParseAsBig : !1, e.useNativeBigInt = r.useNativeBigInt === !0 ? r.useNativeBigInt : !1, typeof r.constructorAction < "u")
      if (r.constructorAction === "error" || r.constructorAction === "ignore" || r.constructorAction === "preserve")
        e.constructorAction = r.constructorAction;
      else
        throw new Error(
          `Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${r.constructorAction}`
        );
    if (typeof r.protoAction < "u")
      if (r.protoAction === "error" || r.protoAction === "ignore" || r.protoAction === "preserve")
        e.protoAction = r.protoAction;
      else
        throw new Error(
          `Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${r.protoAction}`
        );
  }
  var t, i, a = {
    '"': '"',
    "\\": "\\",
    "/": "/",
    b: "\b",
    f: "\f",
    n: `
`,
    r: "\r",
    t: "	"
  }, n, o = function(y) {
    throw {
      name: "SyntaxError",
      message: y,
      at: t,
      text: n
    };
  }, s = function(y) {
    return y && y !== i && o("Expected '" + y + "' instead of '" + i + "'"), i = n.charAt(t), t += 1, i;
  }, l = function() {
    var y, _ = "";
    for (i === "-" && (_ = "-", s("-")); i >= "0" && i <= "9"; )
      _ += i, s();
    if (i === ".")
      for (_ += "."; s() && i >= "0" && i <= "9"; )
        _ += i;
    if (i === "e" || i === "E")
      for (_ += i, s(), (i === "-" || i === "+") && (_ += i, s()); i >= "0" && i <= "9"; )
        _ += i, s();
    if (y = +_, !isFinite(y))
      o("Bad number");
    else
      return uy == null && (uy = bz), _.length > 15 ? e.storeAsString ? _ : e.useNativeBigInt ? BigInt(_) : new uy(_) : e.alwaysParseAsBig ? e.useNativeBigInt ? BigInt(y) : new uy(y) : y;
  }, u = function() {
    var y, _, w = "", S;
    if (i === '"')
      for (var x = t; s(); ) {
        if (i === '"')
          return t - 1 > x && (w += n.substring(x, t - 1)), s(), w;
        if (i === "\\") {
          if (t - 1 > x && (w += n.substring(x, t - 1)), s(), i === "u") {
            for (S = 0, _ = 0; _ < 4 && (y = parseInt(s(), 16), !!isFinite(y)); _ += 1)
              S = S * 16 + y;
            w += String.fromCharCode(S);
          } else if (typeof a[i] == "string")
            w += a[i];
          else
            break;
          x = t;
        }
      }
    o("Bad string");
  }, c = function() {
    for (; i && i <= " "; )
      s();
  }, f = function() {
    switch (i) {
      case "t":
        return s("t"), s("r"), s("u"), s("e"), !0;
      case "f":
        return s("f"), s("a"), s("l"), s("s"), s("e"), !1;
      case "n":
        return s("n"), s("u"), s("l"), s("l"), null;
    }
    o("Unexpected '" + i + "'");
  }, d, p = function() {
    var y = [];
    if (i === "[") {
      if (s("["), c(), i === "]")
        return s("]"), y;
      for (; i; ) {
        if (y.push(d()), c(), i === "]")
          return s("]"), y;
        s(","), c();
      }
    }
    o("Bad array");
  }, v = function() {
    var y, _ = /* @__PURE__ */ Object.create(null);
    if (i === "{") {
      if (s("{"), c(), i === "}")
        return s("}"), _;
      for (; i; ) {
        if (y = u(), c(), s(":"), e.strict === !0 && Object.hasOwnProperty.call(_, y) && o('Duplicate key "' + y + '"'), Cie.test(y) === !0 ? e.protoAction === "error" ? o("Object contains forbidden prototype property") : e.protoAction === "ignore" ? d() : _[y] = d() : Aie.test(y) === !0 ? e.constructorAction === "error" ? o("Object contains forbidden constructor property") : e.constructorAction === "ignore" ? d() : _[y] = d() : _[y] = d(), c(), i === "}")
          return s("}"), _;
        s(","), c();
      }
    }
    o("Bad object");
  };
  return d = function() {
    switch (c(), i) {
      case "{":
        return v();
      case "[":
        return p();
      case '"':
        return u();
      case "-":
        return l();
      default:
        return i >= "0" && i <= "9" ? l() : f();
    }
  }, function(y, _) {
    var w;
    return n = y + "", t = 0, i = " ", w = d(), c(), i && o("Syntax error"), typeof _ == "function" ? function S(x, E) {
      var M, k = x[E];
      return k && typeof k == "object" && Object.keys(k).forEach(function(P) {
        M = S(k, P), M !== void 0 ? k[P] = M : delete k[P];
      }), _.call(x, E, k);
    }({ "": w }, "") : w;
  };
}, Die = Eie, wz = Tie.stringify, Sz = Die;
ow.exports = function(r) {
  return {
    parse: Sz(r),
    stringify: wz
  };
};
ow.exports.parse = Sz();
ow.exports.stringify = wz;
var kie = ow.exports;
const Mie = /* @__PURE__ */ GE(kie);
function Iie(r) {
  const e = r + "=", t = document.cookie.split(";");
  for (let i = 0; i < t.length; i++)
    if (t[i].indexOf(e) >= 0)
      return t[i].split("=")[1];
  return "";
}
let Mv, MP = "";
const Pie = (r = "new", e) => {
  const t = mz.create({
    transformResponse: [function(n) {
      try {
        return JSON.parse(JSON.stringify(Mie.parse(n)));
      } catch {
        return {
          data: n
        };
      }
    }]
  });
  t.interceptors.request.use((n) => {
    n.url?.includes("token") && (n.headers["Content-Type"] = "application/x-www-form-urlencoded;charset=UTF-8");
    const o = Object.hasOwnProperty.call(n, "loading");
    (!o || o && n.loading !== !1) && (Mv = YG.service({ fullscreen: !0 }), MP = n.url || "");
    const s = localStorage.getItem("token");
    s && (n.headers.Authorization = `Bearer ${s}`);
    const l = Iie("XSRF-TOKEN");
    return l && (n.headers.Requestverificationtoken = l), n.headers["Accept-Language"] = "zh-Hans,zh-CN,zh;q=0.9,en;q=0.8", n;
  });
  const i = ["/OData", "/token", "/permission", "/identity"];
  return async (n) => {
    try {
      const { data: o } = await t.request(n);
      return setTimeout(() => {
        Mv && MP === n.url && Mv.close();
      }, 500), i.find((s) => n.url?.includes(s)) || r === "old" ? o : o.code !== 200 ? (du.error(o.message), {
        code: -1,
        message: o.message || "",
        data: null
      }) : o.data ?? "";
    } catch (o) {
      Mv && Mv.close(), console.log("request err", o);
      const { headers: s, data: l, status: u, message: c } = o.response;
      return s._abperrorformat ? e && e[l.error.message] ? du.error(e[l.error.message]) : du.error(l.error.message) : u === 401 && (du.warning(""), localStorage.clear(), window.$router && window.$router.push("/login")), {
        code: -1,
        message: c || o.response.data.error_description || l.error.message || "",
        data: null
      };
    }
  };
};
function Rie(r) {
  return { all: r = r || /* @__PURE__ */ new Map(), on: function(e, t) {
    var i = r.get(e);
    i ? i.push(t) : r.set(e, [t]);
  }, off: function(e, t) {
    var i = r.get(e);
    i && (t ? i.splice(i.indexOf(t) >>> 0, 1) : r.set(e, []));
  }, emit: function(e, t) {
    var i = r.get(e);
    i && i.slice().map(function(a) {
      a(t);
    }), (i = r.get("*")) && i.slice().map(function(a) {
      a(e, t);
    });
  } };
}
const xz = Rie();
var zE = Object.defineProperty, Lie = Object.getOwnPropertyDescriptor, Oie = Object.getOwnPropertyNames, Fie = Object.prototype.hasOwnProperty, Sa = (r, e) => () => (r && (e = r(r = 0)), e), bt = (r, e) => () => (e || r((e = { exports: {} }).exports, e), e.exports), sd = (r, e) => {
  for (var t in e)
    zE(r, t, { get: e[t], enumerable: !0 });
}, Nie = (r, e, t, i) => {
  if (e && typeof e == "object" || typeof e == "function")
    for (let a of Oie(e))
      !Fie.call(r, a) && a !== t && zE(r, a, { get: () => e[a], enumerable: !(i = Lie(e, a)) || i.enumerable });
  return r;
}, zn = (r) => Nie(zE({}, "__esModule", { value: !0 }), r), Za, ot = Sa(() => {
  Za = { deviceMemory: 8, hardwareConcurrency: 8, language: "en-US" };
}), An = {};
sd(An, { _debugEnd: () => yC, _debugProcess: () => mC, _events: () => RC, _eventsCount: () => LC, _exiting: () => nC, _fatalExceptions: () => pC, _getActiveHandles: () => Mz, _getActiveRequests: () => kz, _kill: () => oC, _linkedBinding: () => Ez, _maxListeners: () => PC, _preload_modules: () => MC, _rawDebug: () => eC, _startProfilerIdleNotifier: () => _C, _stopProfilerIdleNotifier: () => bC, _tickCallback: () => gC, abort: () => TC, addListener: () => OC, allowedNodeEnvironmentFlags: () => fC, arch: () => GT, argv: () => HT, argv0: () => kC, assert: () => Iz, binding: () => XT, chdir: () => JT, config: () => iC, cpuUsage: () => bg, cwd: () => ZT, debugPort: () => DC, default: () => HE, dlopen: () => Dz, domain: () => rC, emit: () => UC, emitWarning: () => qT, env: () => WT, execArgv: () => $T, execPath: () => EC, exit: () => cC, features: () => dC, hasUncaughtExceptionCaptureCallback: () => Pz, hrtime: () => U2, kill: () => uC, listeners: () => Lz, memoryUsage: () => lC, moduleLoadList: () => tC, nextTick: () => Cz, off: () => NC, on: () => nu, once: () => FC, openStdin: () => hC, pid: () => CC, platform: () => zT, ppid: () => AC, prependListener: () => GC, prependOnceListener: () => zC, reallyExit: () => aC, release: () => QT, removeAllListeners: () => VC, removeListener: () => BC, resourceUsage: () => sC, setSourceMapsEnabled: () => IC, setUncaughtExceptionCaptureCallback: () => vC, stderr: () => SC, stdin: () => xC, stdout: () => wC, title: () => UT, umask: () => KT, uptime: () => Rz, version: () => YT, versions: () => jT });
function WE(r) {
  throw new Error("Node.js process " + r + " is not supported by JSPM core outside of Node.js");
}
function Bie() {
  !Bf || !Ef || (Bf = !1, Ef.length ? _l = Ef.concat(_l) : Ng = -1, _l.length && Tz());
}
function Tz() {
  if (!Bf) {
    var r = setTimeout(Bie, 0);
    Bf = !0;
    for (var e = _l.length; e; ) {
      for (Ef = _l, _l = []; ++Ng < e; )
        Ef && Ef[Ng].run();
      Ng = -1, e = _l.length;
    }
    Ef = null, Bf = !1, clearTimeout(r);
  }
}
function Cz(r) {
  var e = new Array(arguments.length - 1);
  if (arguments.length > 1)
    for (var t = 1; t < arguments.length; t++)
      e[t - 1] = arguments[t];
  _l.push(new Az(r, e)), _l.length === 1 && !Bf && setTimeout(Tz, 0);
}
function Az(r, e) {
  this.fun = r, this.array = e;
}
function Ra() {
}
function Ez(r) {
  WE("_linkedBinding");
}
function Dz(r) {
  WE("dlopen");
}
function kz() {
  return [];
}
function Mz() {
  return [];
}
function Iz(r, e) {
  if (!r)
    throw new Error(e || "assertion error");
}
function Pz() {
  return !1;
}
function Rz() {
  return hu.now() / 1e3;
}
function U2(r) {
  var e = Math.floor((Date.now() - hu.now()) * 1e-3), t = hu.now() * 1e-3, i = Math.floor(t) + e, a = Math.floor(t % 1 * 1e9);
  return r && (i = i - r[0], a = a - r[1], a < 0 && (i--, a += G2)), [i, a];
}
function nu() {
  return HE;
}
function Lz(r) {
  return [];
}
var _l, Bf, Ef, Ng, UT, GT, zT, WT, HT, $T, YT, jT, qT, XT, KT, ZT, JT, QT, eC, tC, rC, nC, iC, aC, oC, bg, sC, lC, uC, cC, hC, fC, dC, pC, vC, gC, mC, yC, _C, bC, wC, SC, xC, TC, CC, AC, EC, DC, kC, MC, IC, hu, C4, G2, PC, RC, LC, OC, FC, NC, BC, VC, UC, GC, zC, HE, Vie = Sa(() => {
  lt(), st(), ot(), _l = [], Bf = !1, Ng = -1, Az.prototype.run = function() {
    this.fun.apply(null, this.array);
  }, UT = "browser", GT = "x64", zT = "browser", WT = { PATH: "/usr/bin", LANG: Za.language + ".UTF-8", PWD: "/", HOME: "/home", TMP: "/tmp" }, HT = ["/usr/bin/node"], $T = [], YT = "v16.8.0", jT = {}, qT = function(r, e) {
    console.warn((e ? e + ": " : "") + r);
  }, XT = function(r) {
    WE("binding");
  }, KT = function(r) {
    return 0;
  }, ZT = function() {
    return "/";
  }, JT = function(r) {
  }, QT = { name: "node", sourceUrl: "", headersUrl: "", libUrl: "" }, eC = Ra, tC = [], rC = {}, nC = !1, iC = {}, aC = Ra, oC = Ra, bg = function() {
    return {};
  }, sC = bg, lC = bg, uC = Ra, cC = Ra, hC = Ra, fC = {}, dC = { inspector: !1, debug: !1, uv: !1, ipv6: !1, tls_alpn: !1, tls_sni: !1, tls_ocsp: !1, tls: !1, cached_builtins: !0 }, pC = Ra, vC = Ra, gC = Ra, mC = Ra, yC = Ra, _C = Ra, bC = Ra, wC = void 0, SC = void 0, xC = void 0, TC = Ra, CC = 2, AC = 1, EC = "/bin/usr/node", DC = 9229, kC = "node", MC = [], IC = Ra, hu = { now: typeof performance < "u" ? performance.now.bind(performance) : void 0, timing: typeof performance < "u" ? performance.timing : void 0 }, hu.now === void 0 && (C4 = Date.now(), hu.timing && hu.timing.navigationStart && (C4 = hu.timing.navigationStart), hu.now = () => Date.now() - C4), G2 = 1e9, U2.bigint = function(r) {
    var e = U2(r);
    return typeof BigInt > "u" ? e[0] * G2 + e[1] : BigInt(e[0] * G2) + BigInt(e[1]);
  }, PC = 10, RC = {}, LC = 0, OC = nu, FC = nu, NC = nu, BC = nu, VC = nu, UC = Ra, GC = nu, zC = nu, HE = { version: YT, versions: jT, arch: GT, platform: zT, release: QT, _rawDebug: eC, moduleLoadList: tC, binding: XT, _linkedBinding: Ez, _events: RC, _eventsCount: LC, _maxListeners: PC, on: nu, addListener: OC, once: FC, off: NC, removeListener: BC, removeAllListeners: VC, emit: UC, prependListener: GC, prependOnceListener: zC, listeners: Lz, domain: rC, _exiting: nC, config: iC, dlopen: Dz, uptime: Rz, _getActiveRequests: kz, _getActiveHandles: Mz, reallyExit: aC, _kill: oC, cpuUsage: bg, resourceUsage: sC, memoryUsage: lC, kill: uC, exit: cC, openStdin: hC, allowedNodeEnvironmentFlags: fC, assert: Iz, features: dC, _fatalExceptions: pC, setUncaughtExceptionCaptureCallback: vC, hasUncaughtExceptionCaptureCallback: Pz, emitWarning: qT, nextTick: Cz, _tickCallback: gC, _debugProcess: mC, _debugEnd: yC, _startProfilerIdleNotifier: _C, _stopProfilerIdleNotifier: bC, stdout: wC, stdin: xC, stderr: SC, abort: TC, umask: KT, chdir: JT, cwd: ZT, env: WT, title: UT, argv: HT, execArgv: $T, pid: CC, ppid: AC, execPath: EC, debugPort: DC, hrtime: U2, argv0: kC, _preload_modules: MC, setSourceMapsEnabled: IC };
}), st = Sa(() => {
  Vie();
}), xa = {};
sd(xa, { Buffer: () => S_, INSPECT_MAX_BYTES: () => Oz, default: () => iu, kMaxLength: () => Fz });
function Uie() {
  if (WC)
    return kp;
  WC = !0, kp.byteLength = s, kp.toByteArray = u, kp.fromByteArray = d;
  for (var r = [], e = [], t = typeof Uint8Array < "u" ? Uint8Array : Array, i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", a = 0, n = i.length; a < n; ++a)
    r[a] = i[a], e[i.charCodeAt(a)] = a;
  e["-".charCodeAt(0)] = 62, e["_".charCodeAt(0)] = 63;
  function o(p) {
    var v = p.length;
    if (v % 4 > 0)
      throw new Error("Invalid string. Length must be a multiple of 4");
    var y = p.indexOf("=");
    y === -1 && (y = v);
    var _ = y === v ? 0 : 4 - y % 4;
    return [y, _];
  }
  function s(p) {
    var v = o(p), y = v[0], _ = v[1];
    return (y + _) * 3 / 4 - _;
  }
  function l(p, v, y) {
    return (v + y) * 3 / 4 - y;
  }
  function u(p) {
    var v, y = o(p), _ = y[0], w = y[1], S = new t(l(p, _, w)), x = 0, E = w > 0 ? _ - 4 : _, M;
    for (M = 0; M < E; M += 4)
      v = e[p.charCodeAt(M)] << 18 | e[p.charCodeAt(M + 1)] << 12 | e[p.charCodeAt(M + 2)] << 6 | e[p.charCodeAt(M + 3)], S[x++] = v >> 16 & 255, S[x++] = v >> 8 & 255, S[x++] = v & 255;
    return w === 2 && (v = e[p.charCodeAt(M)] << 2 | e[p.charCodeAt(M + 1)] >> 4, S[x++] = v & 255), w === 1 && (v = e[p.charCodeAt(M)] << 10 | e[p.charCodeAt(M + 1)] << 4 | e[p.charCodeAt(M + 2)] >> 2, S[x++] = v >> 8 & 255, S[x++] = v & 255), S;
  }
  function c(p) {
    return r[p >> 18 & 63] + r[p >> 12 & 63] + r[p >> 6 & 63] + r[p & 63];
  }
  function f(p, v, y) {
    for (var _, w = [], S = v; S < y; S += 3)
      _ = (p[S] << 16 & 16711680) + (p[S + 1] << 8 & 65280) + (p[S + 2] & 255), w.push(c(_));
    return w.join("");
  }
  function d(p) {
    for (var v, y = p.length, _ = y % 3, w = [], S = 16383, x = 0, E = y - _; x < E; x += S)
      w.push(f(p, x, x + S > E ? E : x + S));
    return _ === 1 ? (v = p[y - 1], w.push(r[v >> 2] + r[v << 4 & 63] + "==")) : _ === 2 && (v = (p[y - 2] << 8) + p[y - 1], w.push(r[v >> 10] + r[v >> 4 & 63] + r[v << 2 & 63] + "=")), w.join("");
  }
  return kp;
}
function Gie() {
  return HC ? wg : (HC = !0, wg.read = function(r, e, t, i, a) {
    var n, o, s = a * 8 - i - 1, l = (1 << s) - 1, u = l >> 1, c = -7, f = t ? a - 1 : 0, d = t ? -1 : 1, p = r[e + f];
    for (f += d, n = p & (1 << -c) - 1, p >>= -c, c += s; c > 0; n = n * 256 + r[e + f], f += d, c -= 8)
      ;
    for (o = n & (1 << -c) - 1, n >>= -c, c += i; c > 0; o = o * 256 + r[e + f], f += d, c -= 8)
      ;
    if (n === 0)
      n = 1 - u;
    else {
      if (n === l)
        return o ? NaN : (p ? -1 : 1) * (1 / 0);
      o = o + Math.pow(2, i), n = n - u;
    }
    return (p ? -1 : 1) * o * Math.pow(2, n - i);
  }, wg.write = function(r, e, t, i, a, n) {
    var o, s, l, u = n * 8 - a - 1, c = (1 << u) - 1, f = c >> 1, d = a === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0, p = i ? 0 : n - 1, v = i ? 1 : -1, y = e < 0 || e === 0 && 1 / e < 0 ? 1 : 0;
    for (e = Math.abs(e), isNaN(e) || e === 1 / 0 ? (s = isNaN(e) ? 1 : 0, o = c) : (o = Math.floor(Math.log(e) / Math.LN2), e * (l = Math.pow(2, -o)) < 1 && (o--, l *= 2), o + f >= 1 ? e += d / l : e += d * Math.pow(2, 1 - f), e * l >= 2 && (o++, l /= 2), o + f >= c ? (s = 0, o = c) : o + f >= 1 ? (s = (e * l - 1) * Math.pow(2, a), o = o + f) : (s = e * Math.pow(2, f - 1) * Math.pow(2, a), o = 0)); a >= 8; r[t + p] = s & 255, p += v, s /= 256, a -= 8)
      ;
    for (o = o << a | s, u += a; u > 0; r[t + p] = o & 255, p += v, o /= 256, u -= 8)
      ;
    r[t + p - v] |= y * 128;
  }, wg);
}
function zie() {
  if ($C)
    return Sc;
  $C = !0;
  let r = Uie(), e = Gie(), t = typeof Symbol == "function" && typeof Symbol.for == "function" ? Symbol.for("nodejs.util.inspect.custom") : null;
  Sc.Buffer = o, Sc.SlowBuffer = w, Sc.INSPECT_MAX_BYTES = 50;
  let i = 2147483647;
  Sc.kMaxLength = i, o.TYPED_ARRAY_SUPPORT = a(), !o.TYPED_ARRAY_SUPPORT && typeof console < "u" && typeof console.error == "function" && console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
  function a() {
    try {
      let z = new Uint8Array(1), B = { foo: function() {
        return 42;
      } };
      return Object.setPrototypeOf(B, Uint8Array.prototype), Object.setPrototypeOf(z, B), z.foo() === 42;
    } catch {
      return !1;
    }
  }
  Object.defineProperty(o.prototype, "parent", { enumerable: !0, get: function() {
    if (o.isBuffer(this))
      return this.buffer;
  } }), Object.defineProperty(o.prototype, "offset", { enumerable: !0, get: function() {
    if (o.isBuffer(this))
      return this.byteOffset;
  } });
  function n(z) {
    if (z > i)
      throw new RangeError('The value "' + z + '" is invalid for option "size"');
    let B = new Uint8Array(z);
    return Object.setPrototypeOf(B, o.prototype), B;
  }
  function o(z, B, Y) {
    if (typeof z == "number") {
      if (typeof B == "string")
        throw new TypeError('The "string" argument must be of type string. Received type number');
      return c(z);
    }
    return s(z, B, Y);
  }
  o.poolSize = 8192;
  function s(z, B, Y) {
    if (typeof z == "string")
      return f(z, B);
    if (ArrayBuffer.isView(z))
      return p(z);
    if (z == null)
      throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof z);
    if (Pe(z, ArrayBuffer) || z && Pe(z.buffer, ArrayBuffer) || typeof SharedArrayBuffer < "u" && (Pe(z, SharedArrayBuffer) || z && Pe(z.buffer, SharedArrayBuffer)))
      return v(z, B, Y);
    if (typeof z == "number")
      throw new TypeError('The "value" argument must not be of type number. Received type number');
    let Ae = z.valueOf && z.valueOf();
    if (Ae != null && Ae !== z)
      return o.from(Ae, B, Y);
    let Re = y(z);
    if (Re)
      return Re;
    if (typeof Symbol < "u" && Symbol.toPrimitive != null && typeof z[Symbol.toPrimitive] == "function")
      return o.from(z[Symbol.toPrimitive]("string"), B, Y);
    throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof z);
  }
  o.from = function(z, B, Y) {
    return s(z, B, Y);
  }, Object.setPrototypeOf(o.prototype, Uint8Array.prototype), Object.setPrototypeOf(o, Uint8Array);
  function l(z) {
    if (typeof z != "number")
      throw new TypeError('"size" argument must be of type number');
    if (z < 0)
      throw new RangeError('The value "' + z + '" is invalid for option "size"');
  }
  function u(z, B, Y) {
    return l(z), z <= 0 ? n(z) : B !== void 0 ? typeof Y == "string" ? n(z).fill(B, Y) : n(z).fill(B) : n(z);
  }
  o.alloc = function(z, B, Y) {
    return u(z, B, Y);
  };
  function c(z) {
    return l(z), n(z < 0 ? 0 : _(z) | 0);
  }
  o.allocUnsafe = function(z) {
    return c(z);
  }, o.allocUnsafeSlow = function(z) {
    return c(z);
  };
  function f(z, B) {
    if ((typeof B != "string" || B === "") && (B = "utf8"), !o.isEncoding(B))
      throw new TypeError("Unknown encoding: " + B);
    let Y = S(z, B) | 0, Ae = n(Y), Re = Ae.write(z, B);
    return Re !== Y && (Ae = Ae.slice(0, Re)), Ae;
  }
  function d(z) {
    let B = z.length < 0 ? 0 : _(z.length) | 0, Y = n(B);
    for (let Ae = 0; Ae < B; Ae += 1)
      Y[Ae] = z[Ae] & 255;
    return Y;
  }
  function p(z) {
    if (Pe(z, Uint8Array)) {
      let B = new Uint8Array(z);
      return v(B.buffer, B.byteOffset, B.byteLength);
    }
    return d(z);
  }
  function v(z, B, Y) {
    if (B < 0 || z.byteLength < B)
      throw new RangeError('"offset" is outside of buffer bounds');
    if (z.byteLength < B + (Y || 0))
      throw new RangeError('"length" is outside of buffer bounds');
    let Ae;
    return B === void 0 && Y === void 0 ? Ae = new Uint8Array(z) : Y === void 0 ? Ae = new Uint8Array(z, B) : Ae = new Uint8Array(z, B, Y), Object.setPrototypeOf(Ae, o.prototype), Ae;
  }
  function y(z) {
    if (o.isBuffer(z)) {
      let B = _(z.length) | 0, Y = n(B);
      return Y.length === 0 || z.copy(Y, 0, 0, B), Y;
    }
    if (z.length !== void 0)
      return typeof z.length != "number" || We(z.length) ? n(0) : d(z);
    if (z.type === "Buffer" && Array.isArray(z.data))
      return d(z.data);
  }
  function _(z) {
    if (z >= i)
      throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + i.toString(16) + " bytes");
    return z | 0;
  }
  function w(z) {
    return +z != z && (z = 0), o.alloc(+z);
  }
  o.isBuffer = function(z) {
    return z != null && z._isBuffer === !0 && z !== o.prototype;
  }, o.compare = function(z, B) {
    if (Pe(z, Uint8Array) && (z = o.from(z, z.offset, z.byteLength)), Pe(B, Uint8Array) && (B = o.from(B, B.offset, B.byteLength)), !o.isBuffer(z) || !o.isBuffer(B))
      throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');
    if (z === B)
      return 0;
    let Y = z.length, Ae = B.length;
    for (let Re = 0, Ue = Math.min(Y, Ae); Re < Ue; ++Re)
      if (z[Re] !== B[Re]) {
        Y = z[Re], Ae = B[Re];
        break;
      }
    return Y < Ae ? -1 : Ae < Y ? 1 : 0;
  }, o.isEncoding = function(z) {
    switch (String(z).toLowerCase()) {
      case "hex":
      case "utf8":
      case "utf-8":
      case "ascii":
      case "latin1":
      case "binary":
      case "base64":
      case "ucs2":
      case "ucs-2":
      case "utf16le":
      case "utf-16le":
        return !0;
      default:
        return !1;
    }
  }, o.concat = function(z, B) {
    if (!Array.isArray(z))
      throw new TypeError('"list" argument must be an Array of Buffers');
    if (z.length === 0)
      return o.alloc(0);
    let Y;
    if (B === void 0)
      for (B = 0, Y = 0; Y < z.length; ++Y)
        B += z[Y].length;
    let Ae = o.allocUnsafe(B), Re = 0;
    for (Y = 0; Y < z.length; ++Y) {
      let Ue = z[Y];
      if (Pe(Ue, Uint8Array))
        Re + Ue.length > Ae.length ? (o.isBuffer(Ue) || (Ue = o.from(Ue)), Ue.copy(Ae, Re)) : Uint8Array.prototype.set.call(Ae, Ue, Re);
      else if (o.isBuffer(Ue))
        Ue.copy(Ae, Re);
      else
        throw new TypeError('"list" argument must be an Array of Buffers');
      Re += Ue.length;
    }
    return Ae;
  };
  function S(z, B) {
    if (o.isBuffer(z))
      return z.length;
    if (ArrayBuffer.isView(z) || Pe(z, ArrayBuffer))
      return z.byteLength;
    if (typeof z != "string")
      throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof z);
    let Y = z.length, Ae = arguments.length > 2 && arguments[2] === !0;
    if (!Ae && Y === 0)
      return 0;
    let Re = !1;
    for (; ; )
      switch (B) {
        case "ascii":
        case "latin1":
        case "binary":
          return Y;
        case "utf8":
        case "utf-8":
          return pe(z).length;
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return Y * 2;
        case "hex":
          return Y >>> 1;
        case "base64":
          return ke(z).length;
        default:
          if (Re)
            return Ae ? -1 : pe(z).length;
          B = ("" + B).toLowerCase(), Re = !0;
      }
  }
  o.byteLength = S;
  function x(z, B, Y) {
    let Ae = !1;
    if ((B === void 0 || B < 0) && (B = 0), B > this.length || ((Y === void 0 || Y > this.length) && (Y = this.length), Y <= 0) || (Y >>>= 0, B >>>= 0, Y <= B))
      return "";
    for (z || (z = "utf8"); ; )
      switch (z) {
        case "hex":
          return le(this, B, Y);
        case "utf8":
        case "utf-8":
          return G(this, B, Y);
        case "ascii":
          return se(this, B, Y);
        case "latin1":
        case "binary":
          return de(this, B, Y);
        case "base64":
          return V(this, B, Y);
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return Se(this, B, Y);
        default:
          if (Ae)
            throw new TypeError("Unknown encoding: " + z);
          z = (z + "").toLowerCase(), Ae = !0;
      }
  }
  o.prototype._isBuffer = !0;
  function E(z, B, Y) {
    let Ae = z[B];
    z[B] = z[Y], z[Y] = Ae;
  }
  o.prototype.swap16 = function() {
    let z = this.length;
    if (z % 2 !== 0)
      throw new RangeError("Buffer size must be a multiple of 16-bits");
    for (let B = 0; B < z; B += 2)
      E(this, B, B + 1);
    return this;
  }, o.prototype.swap32 = function() {
    let z = this.length;
    if (z % 4 !== 0)
      throw new RangeError("Buffer size must be a multiple of 32-bits");
    for (let B = 0; B < z; B += 4)
      E(this, B, B + 3), E(this, B + 1, B + 2);
    return this;
  }, o.prototype.swap64 = function() {
    let z = this.length;
    if (z % 8 !== 0)
      throw new RangeError("Buffer size must be a multiple of 64-bits");
    for (let B = 0; B < z; B += 8)
      E(this, B, B + 7), E(this, B + 1, B + 6), E(this, B + 2, B + 5), E(this, B + 3, B + 4);
    return this;
  }, o.prototype.toString = function() {
    let z = this.length;
    return z === 0 ? "" : arguments.length === 0 ? G(this, 0, z) : x.apply(this, arguments);
  }, o.prototype.toLocaleString = o.prototype.toString, o.prototype.equals = function(z) {
    if (!o.isBuffer(z))
      throw new TypeError("Argument must be a Buffer");
    return this === z ? !0 : o.compare(this, z) === 0;
  }, o.prototype.inspect = function() {
    let z = "", B = Sc.INSPECT_MAX_BYTES;
    return z = this.toString("hex", 0, B).replace(/(.{2})/g, "$1 ").trim(), this.length > B && (z += " ... "), "<Buffer " + z + ">";
  }, t && (o.prototype[t] = o.prototype.inspect), o.prototype.compare = function(z, B, Y, Ae, Re) {
    if (Pe(z, Uint8Array) && (z = o.from(z, z.offset, z.byteLength)), !o.isBuffer(z))
      throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type ' + typeof z);
    if (B === void 0 && (B = 0), Y === void 0 && (Y = z ? z.length : 0), Ae === void 0 && (Ae = 0), Re === void 0 && (Re = this.length), B < 0 || Y > z.length || Ae < 0 || Re > this.length)
      throw new RangeError("out of range index");
    if (Ae >= Re && B >= Y)
      return 0;
    if (Ae >= Re)
      return -1;
    if (B >= Y)
      return 1;
    if (B >>>= 0, Y >>>= 0, Ae >>>= 0, Re >>>= 0, this === z)
      return 0;
    let Ue = Re - Ae, ut = Y - B, Sr = Math.min(Ue, ut), fn = this.slice(Ae, Re), wr = z.slice(B, Y);
    for (let yr = 0; yr < Sr; ++yr)
      if (fn[yr] !== wr[yr]) {
        Ue = fn[yr], ut = wr[yr];
        break;
      }
    return Ue < ut ? -1 : ut < Ue ? 1 : 0;
  };
  function M(z, B, Y, Ae, Re) {
    if (z.length === 0)
      return -1;
    if (typeof Y == "string" ? (Ae = Y, Y = 0) : Y > 2147483647 ? Y = 2147483647 : Y < -2147483648 && (Y = -2147483648), Y = +Y, We(Y) && (Y = Re ? 0 : z.length - 1), Y < 0 && (Y = z.length + Y), Y >= z.length) {
      if (Re)
        return -1;
      Y = z.length - 1;
    } else if (Y < 0)
      if (Re)
        Y = 0;
      else
        return -1;
    if (typeof B == "string" && (B = o.from(B, Ae)), o.isBuffer(B))
      return B.length === 0 ? -1 : k(z, B, Y, Ae, Re);
    if (typeof B == "number")
      return B = B & 255, typeof Uint8Array.prototype.indexOf == "function" ? Re ? Uint8Array.prototype.indexOf.call(z, B, Y) : Uint8Array.prototype.lastIndexOf.call(z, B, Y) : k(z, [B], Y, Ae, Re);
    throw new TypeError("val must be string, number or Buffer");
  }
  function k(z, B, Y, Ae, Re) {
    let Ue = 1, ut = z.length, Sr = B.length;
    if (Ae !== void 0 && (Ae = String(Ae).toLowerCase(), Ae === "ucs2" || Ae === "ucs-2" || Ae === "utf16le" || Ae === "utf-16le")) {
      if (z.length < 2 || B.length < 2)
        return -1;
      Ue = 2, ut /= 2, Sr /= 2, Y /= 2;
    }
    function fn(yr, xr) {
      return Ue === 1 ? yr[xr] : yr.readUInt16BE(xr * Ue);
    }
    let wr;
    if (Re) {
      let yr = -1;
      for (wr = Y; wr < ut; wr++)
        if (fn(z, wr) === fn(B, yr === -1 ? 0 : wr - yr)) {
          if (yr === -1 && (yr = wr), wr - yr + 1 === Sr)
            return yr * Ue;
        } else
          yr !== -1 && (wr -= wr - yr), yr = -1;
    } else
      for (Y + Sr > ut && (Y = ut - Sr), wr = Y; wr >= 0; wr--) {
        let yr = !0;
        for (let xr = 0; xr < Sr; xr++)
          if (fn(z, wr + xr) !== fn(B, xr)) {
            yr = !1;
            break;
          }
        if (yr)
          return wr;
      }
    return -1;
  }
  o.prototype.includes = function(z, B, Y) {
    return this.indexOf(z, B, Y) !== -1;
  }, o.prototype.indexOf = function(z, B, Y) {
    return M(this, z, B, Y, !0);
  }, o.prototype.lastIndexOf = function(z, B, Y) {
    return M(this, z, B, Y, !1);
  };
  function P(z, B, Y, Ae) {
    Y = Number(Y) || 0;
    let Re = z.length - Y;
    Ae ? (Ae = Number(Ae), Ae > Re && (Ae = Re)) : Ae = Re;
    let Ue = B.length;
    Ae > Ue / 2 && (Ae = Ue / 2);
    let ut;
    for (ut = 0; ut < Ae; ++ut) {
      let Sr = parseInt(B.substr(ut * 2, 2), 16);
      if (We(Sr))
        return ut;
      z[Y + ut] = Sr;
    }
    return ut;
  }
  function L(z, B, Y, Ae) {
    return ye(pe(B, z.length - Y), z, Y, Ae);
  }
  function F(z, B, Y, Ae) {
    return ye(ce(B), z, Y, Ae);
  }
  function O(z, B, Y, Ae) {
    return ye(ke(B), z, Y, Ae);
  }
  function U(z, B, Y, Ae) {
    return ye(Ee(B, z.length - Y), z, Y, Ae);
  }
  o.prototype.write = function(z, B, Y, Ae) {
    if (B === void 0)
      Ae = "utf8", Y = this.length, B = 0;
    else if (Y === void 0 && typeof B == "string")
      Ae = B, Y = this.length, B = 0;
    else if (isFinite(B))
      B = B >>> 0, isFinite(Y) ? (Y = Y >>> 0, Ae === void 0 && (Ae = "utf8")) : (Ae = Y, Y = void 0);
    else
      throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
    let Re = this.length - B;
    if ((Y === void 0 || Y > Re) && (Y = Re), z.length > 0 && (Y < 0 || B < 0) || B > this.length)
      throw new RangeError("Attempt to write outside buffer bounds");
    Ae || (Ae = "utf8");
    let Ue = !1;
    for (; ; )
      switch (Ae) {
        case "hex":
          return P(this, z, B, Y);
        case "utf8":
        case "utf-8":
          return L(this, z, B, Y);
        case "ascii":
        case "latin1":
        case "binary":
          return F(this, z, B, Y);
        case "base64":
          return O(this, z, B, Y);
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return U(this, z, B, Y);
        default:
          if (Ue)
            throw new TypeError("Unknown encoding: " + Ae);
          Ae = ("" + Ae).toLowerCase(), Ue = !0;
      }
  }, o.prototype.toJSON = function() {
    return { type: "Buffer", data: Array.prototype.slice.call(this._arr || this, 0) };
  };
  function V(z, B, Y) {
    return B === 0 && Y === z.length ? r.fromByteArray(z) : r.fromByteArray(z.slice(B, Y));
  }
  function G(z, B, Y) {
    Y = Math.min(z.length, Y);
    let Ae = [], Re = B;
    for (; Re < Y; ) {
      let Ue = z[Re], ut = null, Sr = Ue > 239 ? 4 : Ue > 223 ? 3 : Ue > 191 ? 2 : 1;
      if (Re + Sr <= Y) {
        let fn, wr, yr, xr;
        switch (Sr) {
          case 1:
            Ue < 128 && (ut = Ue);
            break;
          case 2:
            fn = z[Re + 1], (fn & 192) === 128 && (xr = (Ue & 31) << 6 | fn & 63, xr > 127 && (ut = xr));
            break;
          case 3:
            fn = z[Re + 1], wr = z[Re + 2], (fn & 192) === 128 && (wr & 192) === 128 && (xr = (Ue & 15) << 12 | (fn & 63) << 6 | wr & 63, xr > 2047 && (xr < 55296 || xr > 57343) && (ut = xr));
            break;
          case 4:
            fn = z[Re + 1], wr = z[Re + 2], yr = z[Re + 3], (fn & 192) === 128 && (wr & 192) === 128 && (yr & 192) === 128 && (xr = (Ue & 15) << 18 | (fn & 63) << 12 | (wr & 63) << 6 | yr & 63, xr > 65535 && xr < 1114112 && (ut = xr));
        }
      }
      ut === null ? (ut = 65533, Sr = 1) : ut > 65535 && (ut -= 65536, Ae.push(ut >>> 10 & 1023 | 55296), ut = 56320 | ut & 1023), Ae.push(ut), Re += Sr;
    }
    return Q(Ae);
  }
  let Z = 4096;
  function Q(z) {
    let B = z.length;
    if (B <= Z)
      return String.fromCharCode.apply(String, z);
    let Y = "", Ae = 0;
    for (; Ae < B; )
      Y += String.fromCharCode.apply(String, z.slice(Ae, Ae += Z));
    return Y;
  }
  function se(z, B, Y) {
    let Ae = "";
    Y = Math.min(z.length, Y);
    for (let Re = B; Re < Y; ++Re)
      Ae += String.fromCharCode(z[Re] & 127);
    return Ae;
  }
  function de(z, B, Y) {
    let Ae = "";
    Y = Math.min(z.length, Y);
    for (let Re = B; Re < Y; ++Re)
      Ae += String.fromCharCode(z[Re]);
    return Ae;
  }
  function le(z, B, Y) {
    let Ae = z.length;
    (!B || B < 0) && (B = 0), (!Y || Y < 0 || Y > Ae) && (Y = Ae);
    let Re = "";
    for (let Ue = B; Ue < Y; ++Ue)
      Re += nt[z[Ue]];
    return Re;
  }
  function Se(z, B, Y) {
    let Ae = z.slice(B, Y), Re = "";
    for (let Ue = 0; Ue < Ae.length - 1; Ue += 2)
      Re += String.fromCharCode(Ae[Ue] + Ae[Ue + 1] * 256);
    return Re;
  }
  o.prototype.slice = function(z, B) {
    let Y = this.length;
    z = ~~z, B = B === void 0 ? Y : ~~B, z < 0 ? (z += Y, z < 0 && (z = 0)) : z > Y && (z = Y), B < 0 ? (B += Y, B < 0 && (B = 0)) : B > Y && (B = Y), B < z && (B = z);
    let Ae = this.subarray(z, B);
    return Object.setPrototypeOf(Ae, o.prototype), Ae;
  };
  function he(z, B, Y) {
    if (z % 1 !== 0 || z < 0)
      throw new RangeError("offset is not uint");
    if (z + B > Y)
      throw new RangeError("Trying to access beyond buffer length");
  }
  o.prototype.readUintLE = o.prototype.readUIntLE = function(z, B, Y) {
    z = z >>> 0, B = B >>> 0, Y || he(z, B, this.length);
    let Ae = this[z], Re = 1, Ue = 0;
    for (; ++Ue < B && (Re *= 256); )
      Ae += this[z + Ue] * Re;
    return Ae;
  }, o.prototype.readUintBE = o.prototype.readUIntBE = function(z, B, Y) {
    z = z >>> 0, B = B >>> 0, Y || he(z, B, this.length);
    let Ae = this[z + --B], Re = 1;
    for (; B > 0 && (Re *= 256); )
      Ae += this[z + --B] * Re;
    return Ae;
  }, o.prototype.readUint8 = o.prototype.readUInt8 = function(z, B) {
    return z = z >>> 0, B || he(z, 1, this.length), this[z];
  }, o.prototype.readUint16LE = o.prototype.readUInt16LE = function(z, B) {
    return z = z >>> 0, B || he(z, 2, this.length), this[z] | this[z + 1] << 8;
  }, o.prototype.readUint16BE = o.prototype.readUInt16BE = function(z, B) {
    return z = z >>> 0, B || he(z, 2, this.length), this[z] << 8 | this[z + 1];
  }, o.prototype.readUint32LE = o.prototype.readUInt32LE = function(z, B) {
    return z = z >>> 0, B || he(z, 4, this.length), (this[z] | this[z + 1] << 8 | this[z + 2] << 16) + this[z + 3] * 16777216;
  }, o.prototype.readUint32BE = o.prototype.readUInt32BE = function(z, B) {
    return z = z >>> 0, B || he(z, 4, this.length), this[z] * 16777216 + (this[z + 1] << 16 | this[z + 2] << 8 | this[z + 3]);
  }, o.prototype.readBigUInt64LE = ft(function(z) {
    z = z >>> 0, ie(z, "offset");
    let B = this[z], Y = this[z + 7];
    (B === void 0 || Y === void 0) && xe(z, this.length - 8);
    let Ae = B + this[++z] * 2 ** 8 + this[++z] * 2 ** 16 + this[++z] * 2 ** 24, Re = this[++z] + this[++z] * 2 ** 8 + this[++z] * 2 ** 16 + Y * 2 ** 24;
    return BigInt(Ae) + (BigInt(Re) << BigInt(32));
  }), o.prototype.readBigUInt64BE = ft(function(z) {
    z = z >>> 0, ie(z, "offset");
    let B = this[z], Y = this[z + 7];
    (B === void 0 || Y === void 0) && xe(z, this.length - 8);
    let Ae = B * 2 ** 24 + this[++z] * 2 ** 16 + this[++z] * 2 ** 8 + this[++z], Re = this[++z] * 2 ** 24 + this[++z] * 2 ** 16 + this[++z] * 2 ** 8 + Y;
    return (BigInt(Ae) << BigInt(32)) + BigInt(Re);
  }), o.prototype.readIntLE = function(z, B, Y) {
    z = z >>> 0, B = B >>> 0, Y || he(z, B, this.length);
    let Ae = this[z], Re = 1, Ue = 0;
    for (; ++Ue < B && (Re *= 256); )
      Ae += this[z + Ue] * Re;
    return Re *= 128, Ae >= Re && (Ae -= Math.pow(2, 8 * B)), Ae;
  }, o.prototype.readIntBE = function(z, B, Y) {
    z = z >>> 0, B = B >>> 0, Y || he(z, B, this.length);
    let Ae = B, Re = 1, Ue = this[z + --Ae];
    for (; Ae > 0 && (Re *= 256); )
      Ue += this[z + --Ae] * Re;
    return Re *= 128, Ue >= Re && (Ue -= Math.pow(2, 8 * B)), Ue;
  }, o.prototype.readInt8 = function(z, B) {
    return z = z >>> 0, B || he(z, 1, this.length), this[z] & 128 ? (255 - this[z] + 1) * -1 : this[z];
  }, o.prototype.readInt16LE = function(z, B) {
    z = z >>> 0, B || he(z, 2, this.length);
    let Y = this[z] | this[z + 1] << 8;
    return Y & 32768 ? Y | 4294901760 : Y;
  }, o.prototype.readInt16BE = function(z, B) {
    z = z >>> 0, B || he(z, 2, this.length);
    let Y = this[z + 1] | this[z] << 8;
    return Y & 32768 ? Y | 4294901760 : Y;
  }, o.prototype.readInt32LE = function(z, B) {
    return z = z >>> 0, B || he(z, 4, this.length), this[z] | this[z + 1] << 8 | this[z + 2] << 16 | this[z + 3] << 24;
  }, o.prototype.readInt32BE = function(z, B) {
    return z = z >>> 0, B || he(z, 4, this.length), this[z] << 24 | this[z + 1] << 16 | this[z + 2] << 8 | this[z + 3];
  }, o.prototype.readBigInt64LE = ft(function(z) {
    z = z >>> 0, ie(z, "offset");
    let B = this[z], Y = this[z + 7];
    (B === void 0 || Y === void 0) && xe(z, this.length - 8);
    let Ae = this[z + 4] + this[z + 5] * 2 ** 8 + this[z + 6] * 2 ** 16 + (Y << 24);
    return (BigInt(Ae) << BigInt(32)) + BigInt(B + this[++z] * 2 ** 8 + this[++z] * 2 ** 16 + this[++z] * 2 ** 24);
  }), o.prototype.readBigInt64BE = ft(function(z) {
    z = z >>> 0, ie(z, "offset");
    let B = this[z], Y = this[z + 7];
    (B === void 0 || Y === void 0) && xe(z, this.length - 8);
    let Ae = (B << 24) + this[++z] * 2 ** 16 + this[++z] * 2 ** 8 + this[++z];
    return (BigInt(Ae) << BigInt(32)) + BigInt(this[++z] * 2 ** 24 + this[++z] * 2 ** 16 + this[++z] * 2 ** 8 + Y);
  }), o.prototype.readFloatLE = function(z, B) {
    return z = z >>> 0, B || he(z, 4, this.length), e.read(this, z, !0, 23, 4);
  }, o.prototype.readFloatBE = function(z, B) {
    return z = z >>> 0, B || he(z, 4, this.length), e.read(this, z, !1, 23, 4);
  }, o.prototype.readDoubleLE = function(z, B) {
    return z = z >>> 0, B || he(z, 8, this.length), e.read(this, z, !0, 52, 8);
  }, o.prototype.readDoubleBE = function(z, B) {
    return z = z >>> 0, B || he(z, 8, this.length), e.read(this, z, !1, 52, 8);
  };
  function fe(z, B, Y, Ae, Re, Ue) {
    if (!o.isBuffer(z))
      throw new TypeError('"buffer" argument must be a Buffer instance');
    if (B > Re || B < Ue)
      throw new RangeError('"value" argument is out of bounds');
    if (Y + Ae > z.length)
      throw new RangeError("Index out of range");
  }
  o.prototype.writeUintLE = o.prototype.writeUIntLE = function(z, B, Y, Ae) {
    if (z = +z, B = B >>> 0, Y = Y >>> 0, !Ae) {
      let ut = Math.pow(2, 8 * Y) - 1;
      fe(this, z, B, Y, ut, 0);
    }
    let Re = 1, Ue = 0;
    for (this[B] = z & 255; ++Ue < Y && (Re *= 256); )
      this[B + Ue] = z / Re & 255;
    return B + Y;
  }, o.prototype.writeUintBE = o.prototype.writeUIntBE = function(z, B, Y, Ae) {
    if (z = +z, B = B >>> 0, Y = Y >>> 0, !Ae) {
      let ut = Math.pow(2, 8 * Y) - 1;
      fe(this, z, B, Y, ut, 0);
    }
    let Re = Y - 1, Ue = 1;
    for (this[B + Re] = z & 255; --Re >= 0 && (Ue *= 256); )
      this[B + Re] = z / Ue & 255;
    return B + Y;
  }, o.prototype.writeUint8 = o.prototype.writeUInt8 = function(z, B, Y) {
    return z = +z, B = B >>> 0, Y || fe(this, z, B, 1, 255, 0), this[B] = z & 255, B + 1;
  }, o.prototype.writeUint16LE = o.prototype.writeUInt16LE = function(z, B, Y) {
    return z = +z, B = B >>> 0, Y || fe(this, z, B, 2, 65535, 0), this[B] = z & 255, this[B + 1] = z >>> 8, B + 2;
  }, o.prototype.writeUint16BE = o.prototype.writeUInt16BE = function(z, B, Y) {
    return z = +z, B = B >>> 0, Y || fe(this, z, B, 2, 65535, 0), this[B] = z >>> 8, this[B + 1] = z & 255, B + 2;
  }, o.prototype.writeUint32LE = o.prototype.writeUInt32LE = function(z, B, Y) {
    return z = +z, B = B >>> 0, Y || fe(this, z, B, 4, 4294967295, 0), this[B + 3] = z >>> 24, this[B + 2] = z >>> 16, this[B + 1] = z >>> 8, this[B] = z & 255, B + 4;
  }, o.prototype.writeUint32BE = o.prototype.writeUInt32BE = function(z, B, Y) {
    return z = +z, B = B >>> 0, Y || fe(this, z, B, 4, 4294967295, 0), this[B] = z >>> 24, this[B + 1] = z >>> 16, this[B + 2] = z >>> 8, this[B + 3] = z & 255, B + 4;
  };
  function K(z, B, Y, Ae, Re) {
    ne(B, Ae, Re, z, Y, 7);
    let Ue = Number(B & BigInt(4294967295));
    z[Y++] = Ue, Ue = Ue >> 8, z[Y++] = Ue, Ue = Ue >> 8, z[Y++] = Ue, Ue = Ue >> 8, z[Y++] = Ue;
    let ut = Number(B >> BigInt(32) & BigInt(4294967295));
    return z[Y++] = ut, ut = ut >> 8, z[Y++] = ut, ut = ut >> 8, z[Y++] = ut, ut = ut >> 8, z[Y++] = ut, Y;
  }
  function we(z, B, Y, Ae, Re) {
    ne(B, Ae, Re, z, Y, 7);
    let Ue = Number(B & BigInt(4294967295));
    z[Y + 7] = Ue, Ue = Ue >> 8, z[Y + 6] = Ue, Ue = Ue >> 8, z[Y + 5] = Ue, Ue = Ue >> 8, z[Y + 4] = Ue;
    let ut = Number(B >> BigInt(32) & BigInt(4294967295));
    return z[Y + 3] = ut, ut = ut >> 8, z[Y + 2] = ut, ut = ut >> 8, z[Y + 1] = ut, ut = ut >> 8, z[Y] = ut, Y + 8;
  }
  o.prototype.writeBigUInt64LE = ft(function(z, B = 0) {
    return K(this, z, B, BigInt(0), BigInt("0xffffffffffffffff"));
  }), o.prototype.writeBigUInt64BE = ft(function(z, B = 0) {
    return we(this, z, B, BigInt(0), BigInt("0xffffffffffffffff"));
  }), o.prototype.writeIntLE = function(z, B, Y, Ae) {
    if (z = +z, B = B >>> 0, !Ae) {
      let Sr = Math.pow(2, 8 * Y - 1);
      fe(this, z, B, Y, Sr - 1, -Sr);
    }
    let Re = 0, Ue = 1, ut = 0;
    for (this[B] = z & 255; ++Re < Y && (Ue *= 256); )
      z < 0 && ut === 0 && this[B + Re - 1] !== 0 && (ut = 1), this[B + Re] = (z / Ue >> 0) - ut & 255;
    return B + Y;
  }, o.prototype.writeIntBE = function(z, B, Y, Ae) {
    if (z = +z, B = B >>> 0, !Ae) {
      let Sr = Math.pow(2, 8 * Y - 1);
      fe(this, z, B, Y, Sr - 1, -Sr);
    }
    let Re = Y - 1, Ue = 1, ut = 0;
    for (this[B + Re] = z & 255; --Re >= 0 && (Ue *= 256); )
      z < 0 && ut === 0 && this[B + Re + 1] !== 0 && (ut = 1), this[B + Re] = (z / Ue >> 0) - ut & 255;
    return B + Y;
  }, o.prototype.writeInt8 = function(z, B, Y) {
    return z = +z, B = B >>> 0, Y || fe(this, z, B, 1, 127, -128), z < 0 && (z = 255 + z + 1), this[B] = z & 255, B + 1;
  }, o.prototype.writeInt16LE = function(z, B, Y) {
    return z = +z, B = B >>> 0, Y || fe(this, z, B, 2, 32767, -32768), this[B] = z & 255, this[B + 1] = z >>> 8, B + 2;
  }, o.prototype.writeInt16BE = function(z, B, Y) {
    return z = +z, B = B >>> 0, Y || fe(this, z, B, 2, 32767, -32768), this[B] = z >>> 8, this[B + 1] = z & 255, B + 2;
  }, o.prototype.writeInt32LE = function(z, B, Y) {
    return z = +z, B = B >>> 0, Y || fe(this, z, B, 4, 2147483647, -2147483648), this[B] = z & 255, this[B + 1] = z >>> 8, this[B + 2] = z >>> 16, this[B + 3] = z >>> 24, B + 4;
  }, o.prototype.writeInt32BE = function(z, B, Y) {
    return z = +z, B = B >>> 0, Y || fe(this, z, B, 4, 2147483647, -2147483648), z < 0 && (z = 4294967295 + z + 1), this[B] = z >>> 24, this[B + 1] = z >>> 16, this[B + 2] = z >>> 8, this[B + 3] = z & 255, B + 4;
  }, o.prototype.writeBigInt64LE = ft(function(z, B = 0) {
    return K(this, z, B, -BigInt("0x8000000000000000"), BigInt("0x7fffffffffffffff"));
  }), o.prototype.writeBigInt64BE = ft(function(z, B = 0) {
    return we(this, z, B, -BigInt("0x8000000000000000"), BigInt("0x7fffffffffffffff"));
  });
  function ve(z, B, Y, Ae, Re, Ue) {
    if (Y + Ae > z.length)
      throw new RangeError("Index out of range");
    if (Y < 0)
      throw new RangeError("Index out of range");
  }
  function De(z, B, Y, Ae, Re) {
    return B = +B, Y = Y >>> 0, Re || ve(z, B, Y, 4), e.write(z, B, Y, Ae, 23, 4), Y + 4;
  }
  o.prototype.writeFloatLE = function(z, B, Y) {
    return De(this, z, B, !0, Y);
  }, o.prototype.writeFloatBE = function(z, B, Y) {
    return De(this, z, B, !1, Y);
  };
  function Ie(z, B, Y, Ae, Re) {
    return B = +B, Y = Y >>> 0, Re || ve(z, B, Y, 8), e.write(z, B, Y, Ae, 52, 8), Y + 8;
  }
  o.prototype.writeDoubleLE = function(z, B, Y) {
    return Ie(this, z, B, !0, Y);
  }, o.prototype.writeDoubleBE = function(z, B, Y) {
    return Ie(this, z, B, !1, Y);
  }, o.prototype.copy = function(z, B, Y, Ae) {
    if (!o.isBuffer(z))
      throw new TypeError("argument should be a Buffer");
    if (Y || (Y = 0), !Ae && Ae !== 0 && (Ae = this.length), B >= z.length && (B = z.length), B || (B = 0), Ae > 0 && Ae < Y && (Ae = Y), Ae === Y || z.length === 0 || this.length === 0)
      return 0;
    if (B < 0)
      throw new RangeError("targetStart out of bounds");
    if (Y < 0 || Y >= this.length)
      throw new RangeError("Index out of range");
    if (Ae < 0)
      throw new RangeError("sourceEnd out of bounds");
    Ae > this.length && (Ae = this.length), z.length - B < Ae - Y && (Ae = z.length - B + Y);
    let Re = Ae - Y;
    return this === z && typeof Uint8Array.prototype.copyWithin == "function" ? this.copyWithin(B, Y, Ae) : Uint8Array.prototype.set.call(z, this.subarray(Y, Ae), B), Re;
  }, o.prototype.fill = function(z, B, Y, Ae) {
    if (typeof z == "string") {
      if (typeof B == "string" ? (Ae = B, B = 0, Y = this.length) : typeof Y == "string" && (Ae = Y, Y = this.length), Ae !== void 0 && typeof Ae != "string")
        throw new TypeError("encoding must be a string");
      if (typeof Ae == "string" && !o.isEncoding(Ae))
        throw new TypeError("Unknown encoding: " + Ae);
      if (z.length === 1) {
        let Ue = z.charCodeAt(0);
        (Ae === "utf8" && Ue < 128 || Ae === "latin1") && (z = Ue);
      }
    } else
      typeof z == "number" ? z = z & 255 : typeof z == "boolean" && (z = Number(z));
    if (B < 0 || this.length < B || this.length < Y)
      throw new RangeError("Out of range index");
    if (Y <= B)
      return this;
    B = B >>> 0, Y = Y === void 0 ? this.length : Y >>> 0, z || (z = 0);
    let Re;
    if (typeof z == "number")
      for (Re = B; Re < Y; ++Re)
        this[Re] = z;
    else {
      let Ue = o.isBuffer(z) ? z : o.from(z, Ae), ut = Ue.length;
      if (ut === 0)
        throw new TypeError('The value "' + z + '" is invalid for argument "value"');
      for (Re = 0; Re < Y - B; ++Re)
        this[Re + B] = Ue[Re % ut];
    }
    return this;
  };
  let q = {};
  function re(z, B, Y) {
    q[z] = class extends Y {
      constructor() {
        super(), Object.defineProperty(this, "message", { value: B.apply(this, arguments), writable: !0, configurable: !0 }), this.name = `${this.name} [${z}]`, this.stack, delete this.name;
      }
      get code() {
        return z;
      }
      set code(Ae) {
        Object.defineProperty(this, "code", { configurable: !0, enumerable: !0, value: Ae, writable: !0 });
      }
      toString() {
        return `${this.name} [${z}]: ${this.message}`;
      }
    };
  }
  re("ERR_BUFFER_OUT_OF_BOUNDS", function(z) {
    return z ? `${z} is outside of buffer bounds` : "Attempt to access memory outside buffer bounds";
  }, RangeError), re("ERR_INVALID_ARG_TYPE", function(z, B) {
    return `The "${z}" argument must be of type number. Received type ${typeof B}`;
  }, TypeError), re("ERR_OUT_OF_RANGE", function(z, B, Y) {
    let Ae = `The value of "${z}" is out of range.`, Re = Y;
    return Number.isInteger(Y) && Math.abs(Y) > 2 ** 32 ? Re = be(String(Y)) : typeof Y == "bigint" && (Re = String(Y), (Y > BigInt(2) ** BigInt(32) || Y < -(BigInt(2) ** BigInt(32))) && (Re = be(Re)), Re += "n"), Ae += ` It must be ${B}. Received ${Re}`, Ae;
  }, RangeError);
  function be(z) {
    let B = "", Y = z.length, Ae = z[0] === "-" ? 1 : 0;
    for (; Y >= Ae + 4; Y -= 3)
      B = `_${z.slice(Y - 3, Y)}${B}`;
    return `${z.slice(0, Y)}${B}`;
  }
  function te(z, B, Y) {
    ie(B, "offset"), (z[B] === void 0 || z[B + Y] === void 0) && xe(B, z.length - (Y + 1));
  }
  function ne(z, B, Y, Ae, Re, Ue) {
    if (z > Y || z < B) {
      let ut = typeof B == "bigint" ? "n" : "", Sr;
      throw Ue > 3 ? B === 0 || B === BigInt(0) ? Sr = `>= 0${ut} and < 2${ut} ** ${(Ue + 1) * 8}${ut}` : Sr = `>= -(2${ut} ** ${(Ue + 1) * 8 - 1}${ut}) and < 2 ** ${(Ue + 1) * 8 - 1}${ut}` : Sr = `>= ${B}${ut} and <= ${Y}${ut}`, new q.ERR_OUT_OF_RANGE("value", Sr, z);
    }
    te(Ae, Re, Ue);
  }
  function ie(z, B) {
    if (typeof z != "number")
      throw new q.ERR_INVALID_ARG_TYPE(B, "number", z);
  }
  function xe(z, B, Y) {
    throw Math.floor(z) !== z ? (ie(z, Y), new q.ERR_OUT_OF_RANGE(Y || "offset", "an integer", z)) : B < 0 ? new q.ERR_BUFFER_OUT_OF_BOUNDS() : new q.ERR_OUT_OF_RANGE(Y || "offset", `>= ${Y ? 1 : 0} and <= ${B}`, z);
  }
  let ge = /[^+/0-9A-Za-z-_]/g;
  function ae(z) {
    if (z = z.split("=")[0], z = z.trim().replace(ge, ""), z.length < 2)
      return "";
    for (; z.length % 4 !== 0; )
      z = z + "=";
    return z;
  }
  function pe(z, B) {
    B = B || 1 / 0;
    let Y, Ae = z.length, Re = null, Ue = [];
    for (let ut = 0; ut < Ae; ++ut) {
      if (Y = z.charCodeAt(ut), Y > 55295 && Y < 57344) {
        if (!Re) {
          if (Y > 56319) {
            (B -= 3) > -1 && Ue.push(239, 191, 189);
            continue;
          } else if (ut + 1 === Ae) {
            (B -= 3) > -1 && Ue.push(239, 191, 189);
            continue;
          }
          Re = Y;
          continue;
        }
        if (Y < 56320) {
          (B -= 3) > -1 && Ue.push(239, 191, 189), Re = Y;
          continue;
        }
        Y = (Re - 55296 << 10 | Y - 56320) + 65536;
      } else
        Re && (B -= 3) > -1 && Ue.push(239, 191, 189);
      if (Re = null, Y < 128) {
        if ((B -= 1) < 0)
          break;
        Ue.push(Y);
      } else if (Y < 2048) {
        if ((B -= 2) < 0)
          break;
        Ue.push(Y >> 6 | 192, Y & 63 | 128);
      } else if (Y < 65536) {
        if ((B -= 3) < 0)
          break;
        Ue.push(Y >> 12 | 224, Y >> 6 & 63 | 128, Y & 63 | 128);
      } else if (Y < 1114112) {
        if ((B -= 4) < 0)
          break;
        Ue.push(Y >> 18 | 240, Y >> 12 & 63 | 128, Y >> 6 & 63 | 128, Y & 63 | 128);
      } else
        throw new Error("Invalid code point");
    }
    return Ue;
  }
  function ce(z) {
    let B = [];
    for (let Y = 0; Y < z.length; ++Y)
      B.push(z.charCodeAt(Y) & 255);
    return B;
  }
  function Ee(z, B) {
    let Y, Ae, Re, Ue = [];
    for (let ut = 0; ut < z.length && !((B -= 2) < 0); ++ut)
      Y = z.charCodeAt(ut), Ae = Y >> 8, Re = Y % 256, Ue.push(Re), Ue.push(Ae);
    return Ue;
  }
  function ke(z) {
    return r.toByteArray(ae(z));
  }
  function ye(z, B, Y, Ae) {
    let Re;
    for (Re = 0; Re < Ae && !(Re + Y >= B.length || Re >= z.length); ++Re)
      B[Re + Y] = z[Re];
    return Re;
  }
  function Pe(z, B) {
    return z instanceof B || z != null && z.constructor != null && z.constructor.name != null && z.constructor.name === B.name;
  }
  function We(z) {
    return z !== z;
  }
  let nt = function() {
    let z = "0123456789abcdef", B = new Array(256);
    for (let Y = 0; Y < 16; ++Y) {
      let Ae = Y * 16;
      for (let Re = 0; Re < 16; ++Re)
        B[Ae + Re] = z[Y] + z[Re];
    }
    return B;
  }();
  function ft(z) {
    return typeof BigInt > "u" ? mr : z;
  }
  function mr() {
    throw new Error("BigInt not supported");
  }
  return Sc;
}
var kp, WC, wg, HC, Sc, $C, iu, S_, Oz, Fz, Ta = Sa(() => {
  lt(), st(), ot(), kp = {}, WC = !1, wg = {}, HC = !1, Sc = {}, $C = !1, iu = zie(), iu.Buffer, iu.SlowBuffer, iu.INSPECT_MAX_BYTES, iu.kMaxLength, S_ = iu.Buffer, Oz = iu.INSPECT_MAX_BYTES, Fz = iu.kMaxLength;
}), lt = Sa(() => {
  Ta();
}), Wie = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "__esModule", { value: !0 });
  var e = class {
    constructor(t) {
      this.aliasToTopic = {}, this.max = t;
    }
    put(t, i) {
      return i === 0 || i > this.max ? !1 : (this.aliasToTopic[i] = t, this.length = Object.keys(this.aliasToTopic).length, !0);
    }
    getTopicByAlias(t) {
      return this.aliasToTopic[t];
    }
    clear() {
      this.aliasToTopic = {};
    }
  };
  r.default = e;
}), Qi = bt((r, e) => {
  lt(), st(), ot(), e.exports = { ArrayIsArray(t) {
    return Array.isArray(t);
  }, ArrayPrototypeIncludes(t, i) {
    return t.includes(i);
  }, ArrayPrototypeIndexOf(t, i) {
    return t.indexOf(i);
  }, ArrayPrototypeJoin(t, i) {
    return t.join(i);
  }, ArrayPrototypeMap(t, i) {
    return t.map(i);
  }, ArrayPrototypePop(t, i) {
    return t.pop(i);
  }, ArrayPrototypePush(t, i) {
    return t.push(i);
  }, ArrayPrototypeSlice(t, i, a) {
    return t.slice(i, a);
  }, Error, FunctionPrototypeCall(t, i, ...a) {
    return t.call(i, ...a);
  }, FunctionPrototypeSymbolHasInstance(t, i) {
    return Function.prototype[Symbol.hasInstance].call(t, i);
  }, MathFloor: Math.floor, Number, NumberIsInteger: Number.isInteger, NumberIsNaN: Number.isNaN, NumberMAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER, NumberMIN_SAFE_INTEGER: Number.MIN_SAFE_INTEGER, NumberParseInt: Number.parseInt, ObjectDefineProperties(t, i) {
    return Object.defineProperties(t, i);
  }, ObjectDefineProperty(t, i, a) {
    return Object.defineProperty(t, i, a);
  }, ObjectGetOwnPropertyDescriptor(t, i) {
    return Object.getOwnPropertyDescriptor(t, i);
  }, ObjectKeys(t) {
    return Object.keys(t);
  }, ObjectSetPrototypeOf(t, i) {
    return Object.setPrototypeOf(t, i);
  }, Promise, PromisePrototypeCatch(t, i) {
    return t.catch(i);
  }, PromisePrototypeThen(t, i, a) {
    return t.then(i, a);
  }, PromiseReject(t) {
    return Promise.reject(t);
  }, ReflectApply: Reflect.apply, RegExpPrototypeTest(t, i) {
    return t.test(i);
  }, SafeSet: Set, String, StringPrototypeSlice(t, i, a) {
    return t.slice(i, a);
  }, StringPrototypeToLowerCase(t) {
    return t.toLowerCase();
  }, StringPrototypeToUpperCase(t) {
    return t.toUpperCase();
  }, StringPrototypeTrim(t) {
    return t.trim();
  }, Symbol, SymbolFor: Symbol.for, SymbolAsyncIterator: Symbol.asyncIterator, SymbolHasInstance: Symbol.hasInstance, SymbolIterator: Symbol.iterator, TypedArrayPrototypeSet(t, i, a) {
    return t.set(i, a);
  }, Uint8Array };
}), Lu = bt((r, e) => {
  lt(), st(), ot();
  var t = (Ta(), zn(xa)), i = Object.getPrototypeOf(async function() {
  }).constructor, a = globalThis.Blob || t.Blob, n = typeof a < "u" ? function(s) {
    return s instanceof a;
  } : function(s) {
    return !1;
  }, o = class extends Error {
    constructor(s) {
      if (!Array.isArray(s))
        throw new TypeError(`Expected input to be an Array, got ${typeof s}`);
      let l = "";
      for (let u = 0; u < s.length; u++)
        l += `    ${s[u].stack}
`;
      super(l), this.name = "AggregateError", this.errors = s;
    }
  };
  e.exports = { AggregateError: o, kEmptyObject: Object.freeze({}), once(s) {
    let l = !1;
    return function(...u) {
      l || (l = !0, s.apply(this, u));
    };
  }, createDeferredPromise: function() {
    let s, l;
    return { promise: new Promise((u, c) => {
      s = u, l = c;
    }), resolve: s, reject: l };
  }, promisify(s) {
    return new Promise((l, u) => {
      s((c, ...f) => c ? u(c) : l(...f));
    });
  }, debuglog() {
    return function() {
    };
  }, format(s, ...l) {
    return s.replace(/%([sdifj])/g, function(...[u, c]) {
      let f = l.shift();
      return c === "f" ? f.toFixed(6) : c === "j" ? JSON.stringify(f) : c === "s" && typeof f == "object" ? `${f.constructor !== Object ? f.constructor.name : ""} {}`.trim() : f.toString();
    });
  }, inspect(s) {
    switch (typeof s) {
      case "string":
        if (s.includes("'"))
          if (s.includes('"')) {
            if (!s.includes("`") && !s.includes("${"))
              return `\`${s}\``;
          } else
            return `"${s}"`;
        return `'${s}'`;
      case "number":
        return isNaN(s) ? "NaN" : Object.is(s, -0) ? String(s) : s;
      case "bigint":
        return `${String(s)}n`;
      case "boolean":
      case "undefined":
        return String(s);
      case "object":
        return "{}";
    }
  }, types: { isAsyncFunction(s) {
    return s instanceof i;
  }, isArrayBufferView(s) {
    return ArrayBuffer.isView(s);
  } }, isBlob: n }, e.exports.promisify.custom = Symbol.for("nodejs.util.promisify.custom");
}), $E = bt((r, e) => {
  lt(), st(), ot();
  var { AbortController: t, AbortSignal: i } = typeof self < "u" ? self : typeof window < "u" ? window : void 0;
  e.exports = t, e.exports.AbortSignal = i, e.exports.default = t;
}), go = bt((r, e) => {
  lt(), st(), ot();
  var { format: t, inspect: i, AggregateError: a } = Lu(), n = globalThis.AggregateError || a, o = Symbol("kIsNodeError"), s = ["string", "function", "number", "object", "Function", "Object", "boolean", "bigint", "symbol"], l = /^([A-Z][a-z0-9]*)+$/, u = "__node_internal_", c = {};
  function f(S, x) {
    if (!S)
      throw new c.ERR_INTERNAL_ASSERTION(x);
  }
  function d(S) {
    let x = "", E = S.length, M = S[0] === "-" ? 1 : 0;
    for (; E >= M + 4; E -= 3)
      x = `_${S.slice(E - 3, E)}${x}`;
    return `${S.slice(0, E)}${x}`;
  }
  function p(S, x, E) {
    if (typeof x == "function")
      return f(x.length <= E.length, `Code: ${S}; The provided arguments length (${E.length}) does not match the required ones (${x.length}).`), x(...E);
    let M = (x.match(/%[dfijoOs]/g) || []).length;
    return f(M === E.length, `Code: ${S}; The provided arguments length (${E.length}) does not match the required ones (${M}).`), E.length === 0 ? x : t(x, ...E);
  }
  function v(S, x, E) {
    E || (E = Error);
    class M extends E {
      constructor(...P) {
        super(p(S, x, P));
      }
      toString() {
        return `${this.name} [${S}]: ${this.message}`;
      }
    }
    Object.defineProperties(M.prototype, { name: { value: E.name, writable: !0, enumerable: !1, configurable: !0 }, toString: { value() {
      return `${this.name} [${S}]: ${this.message}`;
    }, writable: !0, enumerable: !1, configurable: !0 } }), M.prototype.code = S, M.prototype[o] = !0, c[S] = M;
  }
  function y(S) {
    let x = u + S.name;
    return Object.defineProperty(S, "name", { value: x }), S;
  }
  function _(S, x) {
    if (S && x && S !== x) {
      if (Array.isArray(x.errors))
        return x.errors.push(S), x;
      let E = new n([x, S], x.message);
      return E.code = x.code, E;
    }
    return S || x;
  }
  var w = class extends Error {
    constructor(S = "The operation was aborted", x = void 0) {
      if (x !== void 0 && typeof x != "object")
        throw new c.ERR_INVALID_ARG_TYPE("options", "Object", x);
      super(S, x), this.code = "ABORT_ERR", this.name = "AbortError";
    }
  };
  v("ERR_ASSERTION", "%s", Error), v("ERR_INVALID_ARG_TYPE", (S, x, E) => {
    f(typeof S == "string", "'name' must be a string"), Array.isArray(x) || (x = [x]);
    let M = "The ";
    S.endsWith(" argument") ? M += `${S} ` : M += `"${S}" ${S.includes(".") ? "property" : "argument"} `, M += "must be ";
    let k = [], P = [], L = [];
    for (let O of x)
      f(typeof O == "string", "All expected entries have to be of type string"), s.includes(O) ? k.push(O.toLowerCase()) : l.test(O) ? P.push(O) : (f(O !== "object", 'The value "object" should be written as "Object"'), L.push(O));
    if (P.length > 0) {
      let O = k.indexOf("object");
      O !== -1 && (k.splice(k, O, 1), P.push("Object"));
    }
    if (k.length > 0) {
      switch (k.length) {
        case 1:
          M += `of type ${k[0]}`;
          break;
        case 2:
          M += `one of type ${k[0]} or ${k[1]}`;
          break;
        default: {
          let O = k.pop();
          M += `one of type ${k.join(", ")}, or ${O}`;
        }
      }
      (P.length > 0 || L.length > 0) && (M += " or ");
    }
    if (P.length > 0) {
      switch (P.length) {
        case 1:
          M += `an instance of ${P[0]}`;
          break;
        case 2:
          M += `an instance of ${P[0]} or ${P[1]}`;
          break;
        default: {
          let O = P.pop();
          M += `an instance of ${P.join(", ")}, or ${O}`;
        }
      }
      L.length > 0 && (M += " or ");
    }
    switch (L.length) {
      case 0:
        break;
      case 1:
        L[0].toLowerCase() !== L[0] && (M += "an "), M += `${L[0]}`;
        break;
      case 2:
        M += `one of ${L[0]} or ${L[1]}`;
        break;
      default: {
        let O = L.pop();
        M += `one of ${L.join(", ")}, or ${O}`;
      }
    }
    if (E == null)
      M += `. Received ${E}`;
    else if (typeof E == "function" && E.name)
      M += `. Received function ${E.name}`;
    else if (typeof E == "object") {
      var F;
      if ((F = E.constructor) !== null && F !== void 0 && F.name)
        M += `. Received an instance of ${E.constructor.name}`;
      else {
        let O = i(E, { depth: -1 });
        M += `. Received ${O}`;
      }
    } else {
      let O = i(E, { colors: !1 });
      O.length > 25 && (O = `${O.slice(0, 25)}...`), M += `. Received type ${typeof E} (${O})`;
    }
    return M;
  }, TypeError), v("ERR_INVALID_ARG_VALUE", (S, x, E = "is invalid") => {
    let M = i(x);
    return M.length > 128 && (M = M.slice(0, 128) + "..."), `The ${S.includes(".") ? "property" : "argument"} '${S}' ${E}. Received ${M}`;
  }, TypeError), v("ERR_INVALID_RETURN_VALUE", (S, x, E) => {
    var M;
    let k = E != null && (M = E.constructor) !== null && M !== void 0 && M.name ? `instance of ${E.constructor.name}` : `type ${typeof E}`;
    return `Expected ${S} to be returned from the "${x}" function but got ${k}.`;
  }, TypeError), v("ERR_MISSING_ARGS", (...S) => {
    f(S.length > 0, "At least one arg needs to be specified");
    let x, E = S.length;
    switch (S = (Array.isArray(S) ? S : [S]).map((M) => `"${M}"`).join(" or "), E) {
      case 1:
        x += `The ${S[0]} argument`;
        break;
      case 2:
        x += `The ${S[0]} and ${S[1]} arguments`;
        break;
      default:
        {
          let M = S.pop();
          x += `The ${S.join(", ")}, and ${M} arguments`;
        }
        break;
    }
    return `${x} must be specified`;
  }, TypeError), v("ERR_OUT_OF_RANGE", (S, x, E) => {
    f(x, 'Missing "range" argument');
    let M;
    return Number.isInteger(E) && Math.abs(E) > 2 ** 32 ? M = d(String(E)) : typeof E == "bigint" ? (M = String(E), (E > 2n ** 32n || E < -(2n ** 32n)) && (M = d(M)), M += "n") : M = i(E), `The value of "${S}" is out of range. It must be ${x}. Received ${M}`;
  }, RangeError), v("ERR_MULTIPLE_CALLBACK", "Callback called multiple times", Error), v("ERR_METHOD_NOT_IMPLEMENTED", "The %s method is not implemented", Error), v("ERR_STREAM_ALREADY_FINISHED", "Cannot call %s after a stream was finished", Error), v("ERR_STREAM_CANNOT_PIPE", "Cannot pipe, not readable", Error), v("ERR_STREAM_DESTROYED", "Cannot call %s after a stream was destroyed", Error), v("ERR_STREAM_NULL_VALUES", "May not write null values to stream", TypeError), v("ERR_STREAM_PREMATURE_CLOSE", "Premature close", Error), v("ERR_STREAM_PUSH_AFTER_EOF", "stream.push() after EOF", Error), v("ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "stream.unshift() after end event", Error), v("ERR_STREAM_WRITE_AFTER_END", "write after end", Error), v("ERR_UNKNOWN_ENCODING", "Unknown encoding: %s", TypeError), e.exports = { AbortError: w, aggregateTwoErrors: y(_), hideStackFrames: y, codes: c };
}), sw = bt((r, e) => {
  lt(), st(), ot();
  var { ArrayIsArray: t, ArrayPrototypeIncludes: i, ArrayPrototypeJoin: a, ArrayPrototypeMap: n, NumberIsInteger: o, NumberIsNaN: s, NumberMAX_SAFE_INTEGER: l, NumberMIN_SAFE_INTEGER: u, NumberParseInt: c, ObjectPrototypeHasOwnProperty: f, RegExpPrototypeExec: d, String: p, StringPrototypeToUpperCase: v, StringPrototypeTrim: y } = Qi(), { hideStackFrames: _, codes: { ERR_SOCKET_BAD_PORT: w, ERR_INVALID_ARG_TYPE: S, ERR_INVALID_ARG_VALUE: x, ERR_OUT_OF_RANGE: E, ERR_UNKNOWN_SIGNAL: M } } = go(), { normalizeEncoding: k } = Lu(), { isAsyncFunction: P, isArrayBufferView: L } = Lu().types, F = {};
  function O(ye) {
    return ye === (ye | 0);
  }
  function U(ye) {
    return ye === ye >>> 0;
  }
  var V = /^[0-7]+$/, G = "must be a 32-bit unsigned integer or an octal string";
  function Z(ye, Pe, We) {
    if (typeof ye > "u" && (ye = We), typeof ye == "string") {
      if (d(V, ye) === null)
        throw new x(Pe, ye, G);
      ye = c(ye, 8);
    }
    return de(ye, Pe), ye;
  }
  var Q = _((ye, Pe, We = u, nt = l) => {
    if (typeof ye != "number")
      throw new S(Pe, "number", ye);
    if (!o(ye))
      throw new E(Pe, "an integer", ye);
    if (ye < We || ye > nt)
      throw new E(Pe, `>= ${We} && <= ${nt}`, ye);
  }), se = _((ye, Pe, We = -2147483648, nt = 2147483647) => {
    if (typeof ye != "number")
      throw new S(Pe, "number", ye);
    if (!o(ye))
      throw new E(Pe, "an integer", ye);
    if (ye < We || ye > nt)
      throw new E(Pe, `>= ${We} && <= ${nt}`, ye);
  }), de = _((ye, Pe, We = !1) => {
    if (typeof ye != "number")
      throw new S(Pe, "number", ye);
    if (!o(ye))
      throw new E(Pe, "an integer", ye);
    let nt = We ? 1 : 0, ft = 4294967295;
    if (ye < nt || ye > ft)
      throw new E(Pe, `>= ${nt} && <= ${ft}`, ye);
  });
  function le(ye, Pe) {
    if (typeof ye != "string")
      throw new S(Pe, "string", ye);
  }
  function Se(ye, Pe, We = void 0, nt) {
    if (typeof ye != "number")
      throw new S(Pe, "number", ye);
    if (We != null && ye < We || nt != null && ye > nt || (We != null || nt != null) && s(ye))
      throw new E(Pe, `${We != null ? `>= ${We}` : ""}${We != null && nt != null ? " && " : ""}${nt != null ? `<= ${nt}` : ""}`, ye);
  }
  var he = _((ye, Pe, We) => {
    if (!i(We, ye)) {
      let nt = "must be one of: " + a(n(We, (ft) => typeof ft == "string" ? `'${ft}'` : p(ft)), ", ");
      throw new x(Pe, ye, nt);
    }
  });
  function fe(ye, Pe) {
    if (typeof ye != "boolean")
      throw new S(Pe, "boolean", ye);
  }
  function K(ye, Pe, We) {
    return ye == null || !f(ye, Pe) ? We : ye[Pe];
  }
  var we = _((ye, Pe, We = null) => {
    let nt = K(We, "allowArray", !1), ft = K(We, "allowFunction", !1);
    if (!K(We, "nullable", !1) && ye === null || !nt && t(ye) || typeof ye != "object" && (!ft || typeof ye != "function"))
      throw new S(Pe, "Object", ye);
  }), ve = _((ye, Pe) => {
    if (ye != null && typeof ye != "object" && typeof ye != "function")
      throw new S(Pe, "a dictionary", ye);
  }), De = _((ye, Pe, We = 0) => {
    if (!t(ye))
      throw new S(Pe, "Array", ye);
    if (ye.length < We) {
      let nt = `must be longer than ${We}`;
      throw new x(Pe, ye, nt);
    }
  });
  function Ie(ye, Pe) {
    De(ye, Pe);
    for (let We = 0; We < ye.length; We++)
      le(ye[We], `${Pe}[${We}]`);
  }
  function q(ye, Pe) {
    De(ye, Pe);
    for (let We = 0; We < ye.length; We++)
      fe(ye[We], `${Pe}[${We}]`);
  }
  function re(ye, Pe = "signal") {
    if (le(ye, Pe), F[ye] === void 0)
      throw F[v(ye)] !== void 0 ? new M(ye + " (signals must use all capital letters)") : new M(ye);
  }
  var be = _((ye, Pe = "buffer") => {
    if (!L(ye))
      throw new S(Pe, ["Buffer", "TypedArray", "DataView"], ye);
  });
  function te(ye, Pe) {
    let We = k(Pe), nt = ye.length;
    if (We === "hex" && nt % 2 !== 0)
      throw new x("encoding", Pe, `is invalid for data of length ${nt}`);
  }
  function ne(ye, Pe = "Port", We = !0) {
    if (typeof ye != "number" && typeof ye != "string" || typeof ye == "string" && y(ye).length === 0 || +ye !== +ye >>> 0 || ye > 65535 || ye === 0 && !We)
      throw new w(Pe, ye, We);
    return ye | 0;
  }
  var ie = _((ye, Pe) => {
    if (ye !== void 0 && (ye === null || typeof ye != "object" || !("aborted" in ye)))
      throw new S(Pe, "AbortSignal", ye);
  }), xe = _((ye, Pe) => {
    if (typeof ye != "function")
      throw new S(Pe, "Function", ye);
  }), ge = _((ye, Pe) => {
    if (typeof ye != "function" || P(ye))
      throw new S(Pe, "Function", ye);
  }), ae = _((ye, Pe) => {
    if (ye !== void 0)
      throw new S(Pe, "undefined", ye);
  });
  function pe(ye, Pe, We) {
    if (!i(We, ye))
      throw new S(Pe, `('${a(We, "|")}')`, ye);
  }
  var ce = /^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;
  function Ee(ye, Pe) {
    if (typeof ye > "u" || !d(ce, ye))
      throw new x(Pe, ye, 'must be an array or string of format "</styles.css>; rel=preload; as=style"');
  }
  function ke(ye) {
    if (typeof ye == "string")
      return Ee(ye, "hints"), ye;
    if (t(ye)) {
      let Pe = ye.length, We = "";
      if (Pe === 0)
        return We;
      for (let nt = 0; nt < Pe; nt++) {
        let ft = ye[nt];
        Ee(ft, "hints"), We += ft, nt !== Pe - 1 && (We += ", ");
      }
      return We;
    }
    throw new x("hints", ye, 'must be an array or string of format "</styles.css>; rel=preload; as=style"');
  }
  e.exports = { isInt32: O, isUint32: U, parseFileMode: Z, validateArray: De, validateStringArray: Ie, validateBooleanArray: q, validateBoolean: fe, validateBuffer: be, validateDictionary: ve, validateEncoding: te, validateFunction: xe, validateInt32: se, validateInteger: Q, validateNumber: Se, validateObject: we, validateOneOf: he, validatePlainFunction: ge, validatePort: ne, validateSignalName: re, validateString: le, validateUint32: de, validateUndefined: ae, validateUnion: pe, validateAbortSignal: ie, validateLinkHeaderValue: ke };
}), ld = bt((r, e) => {
  lt(), st(), ot();
  var t = e.exports = {}, i, a;
  function n() {
    throw new Error("setTimeout has not been defined");
  }
  function o() {
    throw new Error("clearTimeout has not been defined");
  }
  (function() {
    try {
      typeof setTimeout == "function" ? i = setTimeout : i = n;
    } catch {
      i = n;
    }
    try {
      typeof clearTimeout == "function" ? a = clearTimeout : a = o;
    } catch {
      a = o;
    }
  })();
  function s(w) {
    if (i === setTimeout)
      return setTimeout(w, 0);
    if ((i === n || !i) && setTimeout)
      return i = setTimeout, setTimeout(w, 0);
    try {
      return i(w, 0);
    } catch {
      try {
        return i.call(null, w, 0);
      } catch {
        return i.call(this, w, 0);
      }
    }
  }
  function l(w) {
    if (a === clearTimeout)
      return clearTimeout(w);
    if ((a === o || !a) && clearTimeout)
      return a = clearTimeout, clearTimeout(w);
    try {
      return a(w);
    } catch {
      try {
        return a.call(null, w);
      } catch {
        return a.call(this, w);
      }
    }
  }
  var u = [], c = !1, f, d = -1;
  function p() {
    !c || !f || (c = !1, f.length ? u = f.concat(u) : d = -1, u.length && v());
  }
  function v() {
    if (!c) {
      var w = s(p);
      c = !0;
      for (var S = u.length; S; ) {
        for (f = u, u = []; ++d < S; )
          f && f[d].run();
        d = -1, S = u.length;
      }
      f = null, c = !1, l(w);
    }
  }
  t.nextTick = function(w) {
    var S = new Array(arguments.length - 1);
    if (arguments.length > 1)
      for (var x = 1; x < arguments.length; x++)
        S[x - 1] = arguments[x];
    u.push(new y(w, S)), u.length === 1 && !c && s(v);
  };
  function y(w, S) {
    this.fun = w, this.array = S;
  }
  y.prototype.run = function() {
    this.fun.apply(null, this.array);
  }, t.title = "browser", t.browser = !0, t.env = {}, t.argv = [], t.version = "", t.versions = {};
  function _() {
  }
  t.on = _, t.addListener = _, t.once = _, t.off = _, t.removeListener = _, t.removeAllListeners = _, t.emit = _, t.prependListener = _, t.prependOnceListener = _, t.listeners = function(w) {
    return [];
  }, t.binding = function(w) {
    throw new Error("process.binding is not supported");
  }, t.cwd = function() {
    return "/";
  }, t.chdir = function(w) {
    throw new Error("process.chdir is not supported");
  }, t.umask = function() {
    return 0;
  };
}), ju = bt((r, e) => {
  lt(), st(), ot();
  var { Symbol: t, SymbolAsyncIterator: i, SymbolIterator: a, SymbolFor: n } = Qi(), o = t("kDestroyed"), s = t("kIsErrored"), l = t("kIsReadable"), u = t("kIsDisturbed"), c = n("nodejs.webstream.isClosedPromise"), f = n("nodejs.webstream.controllerErrorFunction");
  function d(K, we = !1) {
    var ve;
    return !!(K && typeof K.pipe == "function" && typeof K.on == "function" && (!we || typeof K.pause == "function" && typeof K.resume == "function") && (!K._writableState || ((ve = K._readableState) === null || ve === void 0 ? void 0 : ve.readable) !== !1) && (!K._writableState || K._readableState));
  }
  function p(K) {
    var we;
    return !!(K && typeof K.write == "function" && typeof K.on == "function" && (!K._readableState || ((we = K._writableState) === null || we === void 0 ? void 0 : we.writable) !== !1));
  }
  function v(K) {
    return !!(K && typeof K.pipe == "function" && K._readableState && typeof K.on == "function" && typeof K.write == "function");
  }
  function y(K) {
    return K && (K._readableState || K._writableState || typeof K.write == "function" && typeof K.on == "function" || typeof K.pipe == "function" && typeof K.on == "function");
  }
  function _(K) {
    return !!(K && !y(K) && typeof K.pipeThrough == "function" && typeof K.getReader == "function" && typeof K.cancel == "function");
  }
  function w(K) {
    return !!(K && !y(K) && typeof K.getWriter == "function" && typeof K.abort == "function");
  }
  function S(K) {
    return !!(K && !y(K) && typeof K.readable == "object" && typeof K.writable == "object");
  }
  function x(K) {
    return _(K) || w(K) || S(K);
  }
  function E(K, we) {
    return K == null ? !1 : we === !0 ? typeof K[i] == "function" : we === !1 ? typeof K[a] == "function" : typeof K[i] == "function" || typeof K[a] == "function";
  }
  function M(K) {
    if (!y(K))
      return null;
    let we = K._writableState, ve = K._readableState, De = we || ve;
    return !!(K.destroyed || K[o] || De != null && De.destroyed);
  }
  function k(K) {
    if (!p(K))
      return null;
    if (K.writableEnded === !0)
      return !0;
    let we = K._writableState;
    return we != null && we.errored ? !1 : typeof we?.ended != "boolean" ? null : we.ended;
  }
  function P(K, we) {
    if (!p(K))
      return null;
    if (K.writableFinished === !0)
      return !0;
    let ve = K._writableState;
    return ve != null && ve.errored ? !1 : typeof ve?.finished != "boolean" ? null : !!(ve.finished || we === !1 && ve.ended === !0 && ve.length === 0);
  }
  function L(K) {
    if (!d(K))
      return null;
    if (K.readableEnded === !0)
      return !0;
    let we = K._readableState;
    return !we || we.errored ? !1 : typeof we?.ended != "boolean" ? null : we.ended;
  }
  function F(K, we) {
    if (!d(K))
      return null;
    let ve = K._readableState;
    return ve != null && ve.errored ? !1 : typeof ve?.endEmitted != "boolean" ? null : !!(ve.endEmitted || we === !1 && ve.ended === !0 && ve.length === 0);
  }
  function O(K) {
    return K && K[l] != null ? K[l] : typeof K?.readable != "boolean" ? null : M(K) ? !1 : d(K) && K.readable && !F(K);
  }
  function U(K) {
    return typeof K?.writable != "boolean" ? null : M(K) ? !1 : p(K) && K.writable && !k(K);
  }
  function V(K, we) {
    return y(K) ? M(K) ? !0 : !(we?.readable !== !1 && O(K) || we?.writable !== !1 && U(K)) : null;
  }
  function G(K) {
    var we, ve;
    return y(K) ? K.writableErrored ? K.writableErrored : (we = (ve = K._writableState) === null || ve === void 0 ? void 0 : ve.errored) !== null && we !== void 0 ? we : null : null;
  }
  function Z(K) {
    var we, ve;
    return y(K) ? K.readableErrored ? K.readableErrored : (we = (ve = K._readableState) === null || ve === void 0 ? void 0 : ve.errored) !== null && we !== void 0 ? we : null : null;
  }
  function Q(K) {
    if (!y(K))
      return null;
    if (typeof K.closed == "boolean")
      return K.closed;
    let we = K._writableState, ve = K._readableState;
    return typeof we?.closed == "boolean" || typeof ve?.closed == "boolean" ? we?.closed || ve?.closed : typeof K._closed == "boolean" && se(K) ? K._closed : null;
  }
  function se(K) {
    return typeof K._closed == "boolean" && typeof K._defaultKeepAlive == "boolean" && typeof K._removedConnection == "boolean" && typeof K._removedContLen == "boolean";
  }
  function de(K) {
    return typeof K._sent100 == "boolean" && se(K);
  }
  function le(K) {
    var we;
    return typeof K._consuming == "boolean" && typeof K._dumped == "boolean" && ((we = K.req) === null || we === void 0 ? void 0 : we.upgradeOrConnect) === void 0;
  }
  function Se(K) {
    if (!y(K))
      return null;
    let we = K._writableState, ve = K._readableState, De = we || ve;
    return !De && de(K) || !!(De && De.autoDestroy && De.emitClose && De.closed === !1);
  }
  function he(K) {
    var we;
    return !!(K && ((we = K[u]) !== null && we !== void 0 ? we : K.readableDidRead || K.readableAborted));
  }
  function fe(K) {
    var we, ve, De, Ie, q, re, be, te, ne, ie;
    return !!(K && ((we = (ve = (De = (Ie = (q = (re = K[s]) !== null && re !== void 0 ? re : K.readableErrored) !== null && q !== void 0 ? q : K.writableErrored) !== null && Ie !== void 0 ? Ie : (be = K._readableState) === null || be === void 0 ? void 0 : be.errorEmitted) !== null && De !== void 0 ? De : (te = K._writableState) === null || te === void 0 ? void 0 : te.errorEmitted) !== null && ve !== void 0 ? ve : (ne = K._readableState) === null || ne === void 0 ? void 0 : ne.errored) !== null && we !== void 0 ? we : !((ie = K._writableState) === null || ie === void 0) && ie.errored));
  }
  e.exports = { kDestroyed: o, isDisturbed: he, kIsDisturbed: u, isErrored: fe, kIsErrored: s, isReadable: O, kIsReadable: l, kIsClosedPromise: c, kControllerErrorFunction: f, isClosed: Q, isDestroyed: M, isDuplexNodeStream: v, isFinished: V, isIterable: E, isReadableNodeStream: d, isReadableStream: _, isReadableEnded: L, isReadableFinished: F, isReadableErrored: Z, isNodeStream: y, isWebStream: x, isWritable: U, isWritableNodeStream: p, isWritableStream: w, isWritableEnded: k, isWritableFinished: P, isWritableErrored: G, isServerRequest: le, isServerResponse: de, willEmitClose: Se, isTransformStream: S };
}), nh = bt((r, e) => {
  lt(), st(), ot();
  var t = ld(), { AbortError: i, codes: a } = go(), { ERR_INVALID_ARG_TYPE: n, ERR_STREAM_PREMATURE_CLOSE: o } = a, { kEmptyObject: s, once: l } = Lu(), { validateAbortSignal: u, validateFunction: c, validateObject: f, validateBoolean: d } = sw(), { Promise: p, PromisePrototypeThen: v } = Qi(), { isClosed: y, isReadable: _, isReadableNodeStream: w, isReadableStream: S, isReadableFinished: x, isReadableErrored: E, isWritable: M, isWritableNodeStream: k, isWritableStream: P, isWritableFinished: L, isWritableErrored: F, isNodeStream: O, willEmitClose: U, kIsClosedPromise: V } = ju();
  function G(le) {
    return le.setHeader && typeof le.abort == "function";
  }
  var Z = () => {
  };
  function Q(le, Se, he) {
    var fe, K;
    if (arguments.length === 2 ? (he = Se, Se = s) : Se == null ? Se = s : f(Se, "options"), c(he, "callback"), u(Se.signal, "options.signal"), he = l(he), S(le) || P(le))
      return se(le, Se, he);
    if (!O(le))
      throw new n("stream", ["ReadableStream", "WritableStream", "Stream"], le);
    let we = (fe = Se.readable) !== null && fe !== void 0 ? fe : w(le), ve = (K = Se.writable) !== null && K !== void 0 ? K : k(le), De = le._writableState, Ie = le._readableState, q = () => {
      le.writable || te();
    }, re = U(le) && w(le) === we && k(le) === ve, be = L(le, !1), te = () => {
      be = !0, le.destroyed && (re = !1), !(re && (!le.readable || we)) && (!we || ne) && he.call(le);
    }, ne = x(le, !1), ie = () => {
      ne = !0, le.destroyed && (re = !1), !(re && (!le.writable || ve)) && (!ve || be) && he.call(le);
    }, xe = (ke) => {
      he.call(le, ke);
    }, ge = y(le), ae = () => {
      ge = !0;
      let ke = F(le) || E(le);
      if (ke && typeof ke != "boolean")
        return he.call(le, ke);
      if (we && !ne && w(le, !0) && !x(le, !1))
        return he.call(le, new o());
      if (ve && !be && !L(le, !1))
        return he.call(le, new o());
      he.call(le);
    }, pe = () => {
      ge = !0;
      let ke = F(le) || E(le);
      if (ke && typeof ke != "boolean")
        return he.call(le, ke);
      he.call(le);
    }, ce = () => {
      le.req.on("finish", te);
    };
    G(le) ? (le.on("complete", te), re || le.on("abort", ae), le.req ? ce() : le.on("request", ce)) : ve && !De && (le.on("end", q), le.on("close", q)), !re && typeof le.aborted == "boolean" && le.on("aborted", ae), le.on("end", ie), le.on("finish", te), Se.error !== !1 && le.on("error", xe), le.on("close", ae), ge ? t.nextTick(ae) : De != null && De.errorEmitted || Ie != null && Ie.errorEmitted ? re || t.nextTick(pe) : (!we && (!re || _(le)) && (be || M(le) === !1) || !ve && (!re || M(le)) && (ne || _(le) === !1) || Ie && le.req && le.aborted) && t.nextTick(pe);
    let Ee = () => {
      he = Z, le.removeListener("aborted", ae), le.removeListener("complete", te), le.removeListener("abort", ae), le.removeListener("request", ce), le.req && le.req.removeListener("finish", te), le.removeListener("end", q), le.removeListener("close", q), le.removeListener("finish", te), le.removeListener("end", ie), le.removeListener("error", xe), le.removeListener("close", ae);
    };
    if (Se.signal && !ge) {
      let ke = () => {
        let ye = he;
        Ee(), ye.call(le, new i(void 0, { cause: Se.signal.reason }));
      };
      if (Se.signal.aborted)
        t.nextTick(ke);
      else {
        let ye = he;
        he = l((...Pe) => {
          Se.signal.removeEventListener("abort", ke), ye.apply(le, Pe);
        }), Se.signal.addEventListener("abort", ke);
      }
    }
    return Ee;
  }
  function se(le, Se, he) {
    let fe = !1, K = Z;
    if (Se.signal)
      if (K = () => {
        fe = !0, he.call(le, new i(void 0, { cause: Se.signal.reason }));
      }, Se.signal.aborted)
        t.nextTick(K);
      else {
        let ve = he;
        he = l((...De) => {
          Se.signal.removeEventListener("abort", K), ve.apply(le, De);
        }), Se.signal.addEventListener("abort", K);
      }
    let we = (...ve) => {
      fe || t.nextTick(() => he.apply(le, ve));
    };
    return v(le[V].promise, we, we), Z;
  }
  function de(le, Se) {
    var he;
    let fe = !1;
    return Se === null && (Se = s), (he = Se) !== null && he !== void 0 && he.cleanup && (d(Se.cleanup, "cleanup"), fe = Se.cleanup), new p((K, we) => {
      let ve = Q(le, Se, (De) => {
        fe && ve(), De ? we(De) : K();
      });
    });
  }
  e.exports = Q, e.exports.finished = de;
}), w0 = bt((r, e) => {
  lt(), st(), ot();
  var t = ld(), { aggregateTwoErrors: i, codes: { ERR_MULTIPLE_CALLBACK: a }, AbortError: n } = go(), { Symbol: o } = Qi(), { kDestroyed: s, isDestroyed: l, isFinished: u, isServerRequest: c } = ju(), f = o("kDestroy"), d = o("kConstruct");
  function p(V, G, Z) {
    V && (V.stack, G && !G.errored && (G.errored = V), Z && !Z.errored && (Z.errored = V));
  }
  function v(V, G) {
    let Z = this._readableState, Q = this._writableState, se = Q || Z;
    return Q != null && Q.destroyed || Z != null && Z.destroyed ? (typeof G == "function" && G(), this) : (p(V, Q, Z), Q && (Q.destroyed = !0), Z && (Z.destroyed = !0), se.constructed ? y(this, V, G) : this.once(f, function(de) {
      y(this, i(de, V), G);
    }), this);
  }
  function y(V, G, Z) {
    let Q = !1;
    function se(de) {
      if (Q)
        return;
      Q = !0;
      let le = V._readableState, Se = V._writableState;
      p(de, Se, le), Se && (Se.closed = !0), le && (le.closed = !0), typeof Z == "function" && Z(de), de ? t.nextTick(_, V, de) : t.nextTick(w, V);
    }
    try {
      V._destroy(G || null, se);
    } catch (de) {
      se(de);
    }
  }
  function _(V, G) {
    S(V, G), w(V);
  }
  function w(V) {
    let G = V._readableState, Z = V._writableState;
    Z && (Z.closeEmitted = !0), G && (G.closeEmitted = !0), (Z != null && Z.emitClose || G != null && G.emitClose) && V.emit("close");
  }
  function S(V, G) {
    let Z = V._readableState, Q = V._writableState;
    Q != null && Q.errorEmitted || Z != null && Z.errorEmitted || (Q && (Q.errorEmitted = !0), Z && (Z.errorEmitted = !0), V.emit("error", G));
  }
  function x() {
    let V = this._readableState, G = this._writableState;
    V && (V.constructed = !0, V.closed = !1, V.closeEmitted = !1, V.destroyed = !1, V.errored = null, V.errorEmitted = !1, V.reading = !1, V.ended = V.readable === !1, V.endEmitted = V.readable === !1), G && (G.constructed = !0, G.destroyed = !1, G.closed = !1, G.closeEmitted = !1, G.errored = null, G.errorEmitted = !1, G.finalCalled = !1, G.prefinished = !1, G.ended = G.writable === !1, G.ending = G.writable === !1, G.finished = G.writable === !1);
  }
  function E(V, G, Z) {
    let Q = V._readableState, se = V._writableState;
    if (se != null && se.destroyed || Q != null && Q.destroyed)
      return this;
    Q != null && Q.autoDestroy || se != null && se.autoDestroy ? V.destroy(G) : G && (G.stack, se && !se.errored && (se.errored = G), Q && !Q.errored && (Q.errored = G), Z ? t.nextTick(S, V, G) : S(V, G));
  }
  function M(V, G) {
    if (typeof V._construct != "function")
      return;
    let Z = V._readableState, Q = V._writableState;
    Z && (Z.constructed = !1), Q && (Q.constructed = !1), V.once(d, G), !(V.listenerCount(d) > 1) && t.nextTick(k, V);
  }
  function k(V) {
    let G = !1;
    function Z(Q) {
      if (G) {
        E(V, Q ?? new a());
        return;
      }
      G = !0;
      let se = V._readableState, de = V._writableState, le = de || se;
      se && (se.constructed = !0), de && (de.constructed = !0), le.destroyed ? V.emit(f, Q) : Q ? E(V, Q, !0) : t.nextTick(P, V);
    }
    try {
      V._construct((Q) => {
        t.nextTick(Z, Q);
      });
    } catch (Q) {
      t.nextTick(Z, Q);
    }
  }
  function P(V) {
    V.emit(d);
  }
  function L(V) {
    return V?.setHeader && typeof V.abort == "function";
  }
  function F(V) {
    V.emit("close");
  }
  function O(V, G) {
    V.emit("error", G), t.nextTick(F, V);
  }
  function U(V, G) {
    !V || l(V) || (!G && !u(V) && (G = new n()), c(V) ? (V.socket = null, V.destroy(G)) : L(V) ? V.abort() : L(V.req) ? V.req.abort() : typeof V.destroy == "function" ? V.destroy(G) : typeof V.close == "function" ? V.close() : G ? t.nextTick(O, V, G) : t.nextTick(F, V), V.destroyed || (V[s] = !0));
  }
  e.exports = { construct: M, destroyer: U, destroy: v, undestroy: x, errorOrDestroy: E };
});
function On() {
  On.init.call(this);
}
function z2(r) {
  if (typeof r != "function")
    throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof r);
}
function Nz(r) {
  return r._maxListeners === void 0 ? On.defaultMaxListeners : r._maxListeners;
}
function IP(r, e, t, i) {
  var a, n, o, s;
  if (z2(t), (n = r._events) === void 0 ? (n = r._events = /* @__PURE__ */ Object.create(null), r._eventsCount = 0) : (n.newListener !== void 0 && (r.emit("newListener", e, t.listener ? t.listener : t), n = r._events), o = n[e]), o === void 0)
    o = n[e] = t, ++r._eventsCount;
  else if (typeof o == "function" ? o = n[e] = i ? [t, o] : [o, t] : i ? o.unshift(t) : o.push(t), (a = Nz(r)) > 0 && o.length > a && !o.warned) {
    o.warned = !0;
    var l = new Error("Possible EventEmitter memory leak detected. " + o.length + " " + String(e) + " listeners added. Use emitter.setMaxListeners() to increase limit");
    l.name = "MaxListenersExceededWarning", l.emitter = r, l.type = e, l.count = o.length, s = l, console && console.warn && console.warn(s);
  }
  return r;
}
function Hie() {
  if (!this.fired)
    return this.target.removeListener(this.type, this.wrapFn), this.fired = !0, arguments.length === 0 ? this.listener.call(this.target) : this.listener.apply(this.target, arguments);
}
function PP(r, e, t) {
  var i = { fired: !1, wrapFn: void 0, target: r, type: e, listener: t }, a = Hie.bind(i);
  return a.listener = t, i.wrapFn = a, a;
}
function RP(r, e, t) {
  var i = r._events;
  if (i === void 0)
    return [];
  var a = i[e];
  return a === void 0 ? [] : typeof a == "function" ? t ? [a.listener || a] : [a] : t ? function(n) {
    for (var o = new Array(n.length), s = 0; s < o.length; ++s)
      o[s] = n[s].listener || n[s];
    return o;
  }(a) : Bz(a, a.length);
}
function LP(r) {
  var e = this._events;
  if (e !== void 0) {
    var t = e[r];
    if (typeof t == "function")
      return 1;
    if (t !== void 0)
      return t.length;
  }
  return 0;
}
function Bz(r, e) {
  for (var t = new Array(e), i = 0; i < e; ++i)
    t[i] = r[i];
  return t;
}
var OP, FP, Ph, A4, E4, D4, wo, NP = Sa(() => {
  lt(), st(), ot(), Ph = typeof Reflect == "object" ? Reflect : null, A4 = Ph && typeof Ph.apply == "function" ? Ph.apply : function(r, e, t) {
    return Function.prototype.apply.call(r, e, t);
  }, FP = Ph && typeof Ph.ownKeys == "function" ? Ph.ownKeys : Object.getOwnPropertySymbols ? function(r) {
    return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r));
  } : function(r) {
    return Object.getOwnPropertyNames(r);
  }, E4 = Number.isNaN || function(r) {
    return r != r;
  }, OP = On, On.EventEmitter = On, On.prototype._events = void 0, On.prototype._eventsCount = 0, On.prototype._maxListeners = void 0, D4 = 10, Object.defineProperty(On, "defaultMaxListeners", { enumerable: !0, get: function() {
    return D4;
  }, set: function(r) {
    if (typeof r != "number" || r < 0 || E4(r))
      throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + r + ".");
    D4 = r;
  } }), On.init = function() {
    this._events !== void 0 && this._events !== Object.getPrototypeOf(this)._events || (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
  }, On.prototype.setMaxListeners = function(r) {
    if (typeof r != "number" || r < 0 || E4(r))
      throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + r + ".");
    return this._maxListeners = r, this;
  }, On.prototype.getMaxListeners = function() {
    return Nz(this);
  }, On.prototype.emit = function(r) {
    for (var e = [], t = 1; t < arguments.length; t++)
      e.push(arguments[t]);
    var i = r === "error", a = this._events;
    if (a !== void 0)
      i = i && a.error === void 0;
    else if (!i)
      return !1;
    if (i) {
      var n;
      if (e.length > 0 && (n = e[0]), n instanceof Error)
        throw n;
      var o = new Error("Unhandled error." + (n ? " (" + n.message + ")" : ""));
      throw o.context = n, o;
    }
    var s = a[r];
    if (s === void 0)
      return !1;
    if (typeof s == "function")
      A4(s, this, e);
    else {
      var l = s.length, u = Bz(s, l);
      for (t = 0; t < l; ++t)
        A4(u[t], this, e);
    }
    return !0;
  }, On.prototype.addListener = function(r, e) {
    return IP(this, r, e, !1);
  }, On.prototype.on = On.prototype.addListener, On.prototype.prependListener = function(r, e) {
    return IP(this, r, e, !0);
  }, On.prototype.once = function(r, e) {
    return z2(e), this.on(r, PP(this, r, e)), this;
  }, On.prototype.prependOnceListener = function(r, e) {
    return z2(e), this.prependListener(r, PP(this, r, e)), this;
  }, On.prototype.removeListener = function(r, e) {
    var t, i, a, n, o;
    if (z2(e), (i = this._events) === void 0)
      return this;
    if ((t = i[r]) === void 0)
      return this;
    if (t === e || t.listener === e)
      --this._eventsCount == 0 ? this._events = /* @__PURE__ */ Object.create(null) : (delete i[r], i.removeListener && this.emit("removeListener", r, t.listener || e));
    else if (typeof t != "function") {
      for (a = -1, n = t.length - 1; n >= 0; n--)
        if (t[n] === e || t[n].listener === e) {
          o = t[n].listener, a = n;
          break;
        }
      if (a < 0)
        return this;
      a === 0 ? t.shift() : function(s, l) {
        for (; l + 1 < s.length; l++)
          s[l] = s[l + 1];
        s.pop();
      }(t, a), t.length === 1 && (i[r] = t[0]), i.removeListener !== void 0 && this.emit("removeListener", r, o || e);
    }
    return this;
  }, On.prototype.off = On.prototype.removeListener, On.prototype.removeAllListeners = function(r) {
    var e, t, i;
    if ((t = this._events) === void 0)
      return this;
    if (t.removeListener === void 0)
      return arguments.length === 0 ? (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0) : t[r] !== void 0 && (--this._eventsCount == 0 ? this._events = /* @__PURE__ */ Object.create(null) : delete t[r]), this;
    if (arguments.length === 0) {
      var a, n = Object.keys(t);
      for (i = 0; i < n.length; ++i)
        (a = n[i]) !== "removeListener" && this.removeAllListeners(a);
      return this.removeAllListeners("removeListener"), this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0, this;
    }
    if (typeof (e = t[r]) == "function")
      this.removeListener(r, e);
    else if (e !== void 0)
      for (i = e.length - 1; i >= 0; i--)
        this.removeListener(r, e[i]);
    return this;
  }, On.prototype.listeners = function(r) {
    return RP(this, r, !0);
  }, On.prototype.rawListeners = function(r) {
    return RP(this, r, !1);
  }, On.listenerCount = function(r, e) {
    return typeof r.listenerCount == "function" ? r.listenerCount(e) : LP.call(r, e);
  }, On.prototype.listenerCount = LP, On.prototype.eventNames = function() {
    return this._eventsCount > 0 ? FP(this._events) : [];
  }, wo = OP, wo.EventEmitter, wo.defaultMaxListeners, wo.init, wo.listenerCount, wo.EventEmitter, wo.defaultMaxListeners, wo.init, wo.listenerCount;
}), ud = {};
sd(ud, { EventEmitter: () => Vz, default: () => wo, defaultMaxListeners: () => Uz, init: () => Gz, listenerCount: () => zz, on: () => Wz, once: () => Hz });
var Vz, Uz, Gz, zz, Wz, Hz, S0 = Sa(() => {
  lt(), st(), ot(), NP(), NP(), wo.once = function(r, e) {
    return new Promise((t, i) => {
      function a(...o) {
        n !== void 0 && r.removeListener("error", n), t(o);
      }
      let n;
      e !== "error" && (n = (o) => {
        r.removeListener(name, a), i(o);
      }, r.once("error", n)), r.once(e, a);
    });
  }, wo.on = function(r, e) {
    let t = [], i = [], a = null, n = !1, o = { async next() {
      let u = t.shift();
      if (u)
        return createIterResult(u, !1);
      if (a) {
        let c = Promise.reject(a);
        return a = null, c;
      }
      return n ? createIterResult(void 0, !0) : new Promise((c, f) => i.push({ resolve: c, reject: f }));
    }, async return() {
      r.removeListener(e, s), r.removeListener("error", l), n = !0;
      for (let u of i)
        u.resolve(createIterResult(void 0, !0));
      return createIterResult(void 0, !0);
    }, throw(u) {
      a = u, r.removeListener(e, s), r.removeListener("error", l);
    }, [Symbol.asyncIterator]() {
      return this;
    } };
    return r.on(e, s), r.on("error", l), o;
    function s(...u) {
      let c = i.shift();
      c ? c.resolve(createIterResult(u, !1)) : t.push(u);
    }
    function l(u) {
      n = !0;
      let c = i.shift();
      c ? c.reject(u) : a = u, o.return();
    }
  }, { EventEmitter: Vz, defaultMaxListeners: Uz, init: Gz, listenerCount: zz, on: Wz, once: Hz } = wo;
}), YE = bt((r, e) => {
  lt(), st(), ot();
  var { ArrayIsArray: t, ObjectSetPrototypeOf: i } = Qi(), { EventEmitter: a } = (S0(), zn(ud));
  function n(s) {
    a.call(this, s);
  }
  i(n.prototype, a.prototype), i(n, a), n.prototype.pipe = function(s, l) {
    let u = this;
    function c(w) {
      s.writable && s.write(w) === !1 && u.pause && u.pause();
    }
    u.on("data", c);
    function f() {
      u.readable && u.resume && u.resume();
    }
    s.on("drain", f), !s._isStdio && (!l || l.end !== !1) && (u.on("end", p), u.on("close", v));
    let d = !1;
    function p() {
      d || (d = !0, s.end());
    }
    function v() {
      d || (d = !0, typeof s.destroy == "function" && s.destroy());
    }
    function y(w) {
      _(), a.listenerCount(this, "error") === 0 && this.emit("error", w);
    }
    o(u, "error", y), o(s, "error", y);
    function _() {
      u.removeListener("data", c), s.removeListener("drain", f), u.removeListener("end", p), u.removeListener("close", v), u.removeListener("error", y), s.removeListener("error", y), u.removeListener("end", _), u.removeListener("close", _), s.removeListener("close", _);
    }
    return u.on("end", _), u.on("close", _), s.on("close", _), s.emit("pipe", u), s;
  };
  function o(s, l, u) {
    if (typeof s.prependListener == "function")
      return s.prependListener(l, u);
    !s._events || !s._events[l] ? s.on(l, u) : t(s._events[l]) ? s._events[l].unshift(u) : s._events[l] = [u, s._events[l]];
  }
  e.exports = { Stream: n, prependListener: o };
}), lw = bt((r, e) => {
  lt(), st(), ot();
  var { AbortError: t, codes: i } = go(), { isNodeStream: a, isWebStream: n, kControllerErrorFunction: o } = ju(), s = nh(), { ERR_INVALID_ARG_TYPE: l } = i, u = (c, f) => {
    if (typeof c != "object" || !("aborted" in c))
      throw new l(f, "AbortSignal", c);
  };
  e.exports.addAbortSignal = function(c, f) {
    if (u(c, "signal"), !a(f) && !n(f))
      throw new l("stream", ["ReadableStream", "WritableStream", "Stream"], f);
    return e.exports.addAbortSignalNoValidate(c, f);
  }, e.exports.addAbortSignalNoValidate = function(c, f) {
    if (typeof c != "object" || !("aborted" in c))
      return f;
    let d = a(f) ? () => {
      f.destroy(new t(void 0, { cause: c.reason }));
    } : () => {
      f[o](new t(void 0, { cause: c.reason }));
    };
    return c.aborted ? d() : (c.addEventListener("abort", d), s(f, () => c.removeEventListener("abort", d))), f;
  };
}), $ie = bt((r, e) => {
  lt(), st(), ot();
  var { StringPrototypeSlice: t, SymbolIterator: i, TypedArrayPrototypeSet: a, Uint8Array: n } = Qi(), { Buffer: o } = (Ta(), zn(xa)), { inspect: s } = Lu();
  e.exports = class {
    constructor() {
      this.head = null, this.tail = null, this.length = 0;
    }
    push(l) {
      let u = { data: l, next: null };
      this.length > 0 ? this.tail.next = u : this.head = u, this.tail = u, ++this.length;
    }
    unshift(l) {
      let u = { data: l, next: this.head };
      this.length === 0 && (this.tail = u), this.head = u, ++this.length;
    }
    shift() {
      if (this.length === 0)
        return;
      let l = this.head.data;
      return this.length === 1 ? this.head = this.tail = null : this.head = this.head.next, --this.length, l;
    }
    clear() {
      this.head = this.tail = null, this.length = 0;
    }
    join(l) {
      if (this.length === 0)
        return "";
      let u = this.head, c = "" + u.data;
      for (; (u = u.next) !== null; )
        c += l + u.data;
      return c;
    }
    concat(l) {
      if (this.length === 0)
        return o.alloc(0);
      let u = o.allocUnsafe(l >>> 0), c = this.head, f = 0;
      for (; c; )
        a(u, c.data, f), f += c.data.length, c = c.next;
      return u;
    }
    consume(l, u) {
      let c = this.head.data;
      if (l < c.length) {
        let f = c.slice(0, l);
        return this.head.data = c.slice(l), f;
      }
      return l === c.length ? this.shift() : u ? this._getString(l) : this._getBuffer(l);
    }
    first() {
      return this.head.data;
    }
    *[i]() {
      for (let l = this.head; l; l = l.next)
        yield l.data;
    }
    _getString(l) {
      let u = "", c = this.head, f = 0;
      do {
        let d = c.data;
        if (l > d.length)
          u += d, l -= d.length;
        else {
          l === d.length ? (u += d, ++f, c.next ? this.head = c.next : this.head = this.tail = null) : (u += t(d, 0, l), this.head = c, c.data = t(d, l));
          break;
        }
        ++f;
      } while ((c = c.next) !== null);
      return this.length -= f, u;
    }
    _getBuffer(l) {
      let u = o.allocUnsafe(l), c = l, f = this.head, d = 0;
      do {
        let p = f.data;
        if (l > p.length)
          a(u, p, c - l), l -= p.length;
        else {
          l === p.length ? (a(u, p, c - l), ++d, f.next ? this.head = f.next : this.head = this.tail = null) : (a(u, new n(p.buffer, p.byteOffset, l), c - l), this.head = f, f.data = p.slice(l));
          break;
        }
        ++d;
      } while ((f = f.next) !== null);
      return this.length -= d, u;
    }
    [Symbol.for("nodejs.util.inspect.custom")](l, u) {
      return s(this, { ...u, depth: 0, customInspect: !1 });
    }
  };
}), jE = bt((r, e) => {
  lt(), st(), ot();
  var { MathFloor: t, NumberIsInteger: i } = Qi(), { ERR_INVALID_ARG_VALUE: a } = go().codes;
  function n(l, u, c) {
    return l.highWaterMark != null ? l.highWaterMark : u ? l[c] : null;
  }
  function o(l) {
    return l ? 16 : 16 * 1024;
  }
  function s(l, u, c, f) {
    let d = n(u, f, c);
    if (d != null) {
      if (!i(d) || d < 0) {
        let p = f ? `options.${c}` : "options.highWaterMark";
        throw new a(p, d);
      }
      return t(d);
    }
    return o(l.objectMode);
  }
  e.exports = { getHighWaterMark: s, getDefaultHighWaterMark: o };
});
function BP(r) {
  var e = r.length;
  if (e % 4 > 0)
    throw new Error("Invalid string. Length must be a multiple of 4");
  var t = r.indexOf("=");
  return t === -1 && (t = e), [t, t === e ? 0 : 4 - t % 4];
}
function Yie(r, e, t) {
  for (var i, a, n = [], o = e; o < t; o += 3)
    i = (r[o] << 16 & 16711680) + (r[o + 1] << 8 & 65280) + (255 & r[o + 2]), n.push(Ds[(a = i) >> 18 & 63] + Ds[a >> 12 & 63] + Ds[a >> 6 & 63] + Ds[63 & a]);
  return n.join("");
}
function pu(r) {
  if (r > 2147483647)
    throw new RangeError('The value "' + r + '" is invalid for option "size"');
  var e = new Uint8Array(r);
  return Object.setPrototypeOf(e, pt.prototype), e;
}
function pt(r, e, t) {
  if (typeof r == "number") {
    if (typeof e == "string")
      throw new TypeError('The "string" argument must be of type string. Received type number');
    return YC(r);
  }
  return $z(r, e, t);
}
function $z(r, e, t) {
  if (typeof r == "string")
    return function(n, o) {
      if (typeof o == "string" && o !== "" || (o = "utf8"), !pt.isEncoding(o))
        throw new TypeError("Unknown encoding: " + o);
      var s = 0 | jz(n, o), l = pu(s), u = l.write(n, o);
      return u !== s && (l = l.slice(0, u)), l;
    }(r, e);
  if (ArrayBuffer.isView(r))
    return k4(r);
  if (r == null)
    throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof r);
  if (vu(r, ArrayBuffer) || r && vu(r.buffer, ArrayBuffer) || typeof SharedArrayBuffer < "u" && (vu(r, SharedArrayBuffer) || r && vu(r.buffer, SharedArrayBuffer)))
    return jie(r, e, t);
  if (typeof r == "number")
    throw new TypeError('The "value" argument must not be of type number. Received type number');
  var i = r.valueOf && r.valueOf();
  if (i != null && i !== r)
    return pt.from(i, e, t);
  var a = function(n) {
    if (pt.isBuffer(n)) {
      var o = 0 | qE(n.length), s = pu(o);
      return s.length === 0 || n.copy(s, 0, 0, o), s;
    }
    if (n.length !== void 0)
      return typeof n.length != "number" || XE(n.length) ? pu(0) : k4(n);
    if (n.type === "Buffer" && Array.isArray(n.data))
      return k4(n.data);
  }(r);
  if (a)
    return a;
  if (typeof Symbol < "u" && Symbol.toPrimitive != null && typeof r[Symbol.toPrimitive] == "function")
    return pt.from(r[Symbol.toPrimitive]("string"), e, t);
  throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof r);
}
function Yz(r) {
  if (typeof r != "number")
    throw new TypeError('"size" argument must be of type number');
  if (r < 0)
    throw new RangeError('The value "' + r + '" is invalid for option "size"');
}
function YC(r) {
  return Yz(r), pu(r < 0 ? 0 : 0 | qE(r));
}
function k4(r) {
  for (var e = r.length < 0 ? 0 : 0 | qE(r.length), t = pu(e), i = 0; i < e; i += 1)
    t[i] = 255 & r[i];
  return t;
}
function jie(r, e, t) {
  if (e < 0 || r.byteLength < e)
    throw new RangeError('"offset" is outside of buffer bounds');
  if (r.byteLength < e + (t || 0))
    throw new RangeError('"length" is outside of buffer bounds');
  var i;
  return i = e === void 0 && t === void 0 ? new Uint8Array(r) : t === void 0 ? new Uint8Array(r, e) : new Uint8Array(r, e, t), Object.setPrototypeOf(i, pt.prototype), i;
}
function qE(r) {
  if (r >= 2147483647)
    throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + 2147483647 .toString(16) + " bytes");
  return 0 | r;
}
function jz(r, e) {
  if (pt.isBuffer(r))
    return r.length;
  if (ArrayBuffer.isView(r) || vu(r, ArrayBuffer))
    return r.byteLength;
  if (typeof r != "string")
    throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof r);
  var t = r.length, i = arguments.length > 2 && arguments[2] === !0;
  if (!i && t === 0)
    return 0;
  for (var a = !1; ; )
    switch (e) {
      case "ascii":
      case "latin1":
      case "binary":
        return t;
      case "utf8":
      case "utf-8":
        return jC(r).length;
      case "ucs2":
      case "ucs-2":
      case "utf16le":
      case "utf-16le":
        return 2 * t;
      case "hex":
        return t >>> 1;
      case "base64":
        return Zz(r).length;
      default:
        if (a)
          return i ? -1 : jC(r).length;
        e = ("" + e).toLowerCase(), a = !0;
    }
}
function qie(r, e, t) {
  var i = !1;
  if ((e === void 0 || e < 0) && (e = 0), e > this.length || ((t === void 0 || t > this.length) && (t = this.length), t <= 0) || (t >>>= 0) <= (e >>>= 0))
    return "";
  for (r || (r = "utf8"); ; )
    switch (r) {
      case "hex":
        return nae(this, e, t);
      case "utf8":
      case "utf-8":
        return Xz(this, e, t);
      case "ascii":
        return tae(this, e, t);
      case "latin1":
      case "binary":
        return rae(this, e, t);
      case "base64":
        return eae(this, e, t);
      case "ucs2":
      case "ucs-2":
      case "utf16le":
      case "utf-16le":
        return iae(this, e, t);
      default:
        if (i)
          throw new TypeError("Unknown encoding: " + r);
        r = (r + "").toLowerCase(), i = !0;
    }
}
function Rh(r, e, t) {
  var i = r[e];
  r[e] = r[t], r[t] = i;
}
function VP(r, e, t, i, a) {
  if (r.length === 0)
    return -1;
  if (typeof t == "string" ? (i = t, t = 0) : t > 2147483647 ? t = 2147483647 : t < -2147483648 && (t = -2147483648), XE(t = +t) && (t = a ? 0 : r.length - 1), t < 0 && (t = r.length + t), t >= r.length) {
    if (a)
      return -1;
    t = r.length - 1;
  } else if (t < 0) {
    if (!a)
      return -1;
    t = 0;
  }
  if (typeof e == "string" && (e = pt.from(e, i)), pt.isBuffer(e))
    return e.length === 0 ? -1 : UP(r, e, t, i, a);
  if (typeof e == "number")
    return e &= 255, typeof Uint8Array.prototype.indexOf == "function" ? a ? Uint8Array.prototype.indexOf.call(r, e, t) : Uint8Array.prototype.lastIndexOf.call(r, e, t) : UP(r, [e], t, i, a);
  throw new TypeError("val must be string, number or Buffer");
}
function UP(r, e, t, i, a) {
  var n, o = 1, s = r.length, l = e.length;
  if (i !== void 0 && ((i = String(i).toLowerCase()) === "ucs2" || i === "ucs-2" || i === "utf16le" || i === "utf-16le")) {
    if (r.length < 2 || e.length < 2)
      return -1;
    o = 2, s /= 2, l /= 2, t /= 2;
  }
  function u(p, v) {
    return o === 1 ? p[v] : p.readUInt16BE(v * o);
  }
  if (a) {
    var c = -1;
    for (n = t; n < s; n++)
      if (u(r, n) === u(e, c === -1 ? 0 : n - c)) {
        if (c === -1 && (c = n), n - c + 1 === l)
          return c * o;
      } else
        c !== -1 && (n -= n - c), c = -1;
  } else
    for (t + l > s && (t = s - l), n = t; n >= 0; n--) {
      for (var f = !0, d = 0; d < l; d++)
        if (u(r, n + d) !== u(e, d)) {
          f = !1;
          break;
        }
      if (f)
        return n;
    }
  return -1;
}
function Xie(r, e, t, i) {
  t = Number(t) || 0;
  var a = r.length - t;
  i ? (i = Number(i)) > a && (i = a) : i = a;
  var n = e.length;
  i > n / 2 && (i = n / 2);
  for (var o = 0; o < i; ++o) {
    var s = parseInt(e.substr(2 * o, 2), 16);
    if (XE(s))
      return o;
    r[t + o] = s;
  }
  return o;
}
function Kie(r, e, t, i) {
  return uw(jC(e, r.length - t), r, t, i);
}
function qz(r, e, t, i) {
  return uw(function(a) {
    for (var n = [], o = 0; o < a.length; ++o)
      n.push(255 & a.charCodeAt(o));
    return n;
  }(e), r, t, i);
}
function Zie(r, e, t, i) {
  return qz(r, e, t, i);
}
function Jie(r, e, t, i) {
  return uw(Zz(e), r, t, i);
}
function Qie(r, e, t, i) {
  return uw(function(a, n) {
    for (var o, s, l, u = [], c = 0; c < a.length && !((n -= 2) < 0); ++c)
      o = a.charCodeAt(c), s = o >> 8, l = o % 256, u.push(l), u.push(s);
    return u;
  }(e, r.length - t), r, t, i);
}
function eae(r, e, t) {
  return e === 0 && t === r.length ? x_.fromByteArray(r) : x_.fromByteArray(r.slice(e, t));
}
function Xz(r, e, t) {
  t = Math.min(r.length, t);
  for (var i = [], a = e; a < t; ) {
    var n, o, s, l, u = r[a], c = null, f = u > 239 ? 4 : u > 223 ? 3 : u > 191 ? 2 : 1;
    if (a + f <= t)
      switch (f) {
        case 1:
          u < 128 && (c = u);
          break;
        case 2:
          (192 & (n = r[a + 1])) == 128 && (l = (31 & u) << 6 | 63 & n) > 127 && (c = l);
          break;
        case 3:
          n = r[a + 1], o = r[a + 2], (192 & n) == 128 && (192 & o) == 128 && (l = (15 & u) << 12 | (63 & n) << 6 | 63 & o) > 2047 && (l < 55296 || l > 57343) && (c = l);
          break;
        case 4:
          n = r[a + 1], o = r[a + 2], s = r[a + 3], (192 & n) == 128 && (192 & o) == 128 && (192 & s) == 128 && (l = (15 & u) << 18 | (63 & n) << 12 | (63 & o) << 6 | 63 & s) > 65535 && l < 1114112 && (c = l);
      }
    c === null ? (c = 65533, f = 1) : c > 65535 && (c -= 65536, i.push(c >>> 10 & 1023 | 55296), c = 56320 | 1023 & c), i.push(c), a += f;
  }
  return function(d) {
    var p = d.length;
    if (p <= 4096)
      return String.fromCharCode.apply(String, d);
    for (var v = "", y = 0; y < p; )
      v += String.fromCharCode.apply(String, d.slice(y, y += 4096));
    return v;
  }(i);
}
function tae(r, e, t) {
  var i = "";
  t = Math.min(r.length, t);
  for (var a = e; a < t; ++a)
    i += String.fromCharCode(127 & r[a]);
  return i;
}
function rae(r, e, t) {
  var i = "";
  t = Math.min(r.length, t);
  for (var a = e; a < t; ++a)
    i += String.fromCharCode(r[a]);
  return i;
}
function nae(r, e, t) {
  var i = r.length;
  (!e || e < 0) && (e = 0), (!t || t < 0 || t > i) && (t = i);
  for (var a = "", n = e; n < t; ++n)
    a += Qz[r[n]];
  return a;
}
function iae(r, e, t) {
  for (var i = r.slice(e, t), a = "", n = 0; n < i.length; n += 2)
    a += String.fromCharCode(i[n] + 256 * i[n + 1]);
  return a;
}
function oa(r, e, t) {
  if (r % 1 != 0 || r < 0)
    throw new RangeError("offset is not uint");
  if (r + e > t)
    throw new RangeError("Trying to access beyond buffer length");
}
function oo(r, e, t, i, a, n) {
  if (!pt.isBuffer(r))
    throw new TypeError('"buffer" argument must be a Buffer instance');
  if (e > a || e < n)
    throw new RangeError('"value" argument is out of bounds');
  if (t + i > r.length)
    throw new RangeError("Index out of range");
}
function Kz(r, e, t, i, a, n) {
  if (t + i > r.length)
    throw new RangeError("Index out of range");
  if (t < 0)
    throw new RangeError("Index out of range");
}
function GP(r, e, t, i, a) {
  return e = +e, t >>>= 0, a || Kz(r, 0, t, 4), wf.write(r, e, t, i, 23, 4), t + 4;
}
function zP(r, e, t, i, a) {
  return e = +e, t >>>= 0, a || Kz(r, 0, t, 8), wf.write(r, e, t, i, 52, 8), t + 8;
}
function jC(r, e) {
  var t;
  e = e || 1 / 0;
  for (var i = r.length, a = null, n = [], o = 0; o < i; ++o) {
    if ((t = r.charCodeAt(o)) > 55295 && t < 57344) {
      if (!a) {
        if (t > 56319) {
          (e -= 3) > -1 && n.push(239, 191, 189);
          continue;
        }
        if (o + 1 === i) {
          (e -= 3) > -1 && n.push(239, 191, 189);
          continue;
        }
        a = t;
        continue;
      }
      if (t < 56320) {
        (e -= 3) > -1 && n.push(239, 191, 189), a = t;
        continue;
      }
      t = 65536 + (a - 55296 << 10 | t - 56320);
    } else
      a && (e -= 3) > -1 && n.push(239, 191, 189);
    if (a = null, t < 128) {
      if ((e -= 1) < 0)
        break;
      n.push(t);
    } else if (t < 2048) {
      if ((e -= 2) < 0)
        break;
      n.push(t >> 6 | 192, 63 & t | 128);
    } else if (t < 65536) {
      if ((e -= 3) < 0)
        break;
      n.push(t >> 12 | 224, t >> 6 & 63 | 128, 63 & t | 128);
    } else {
      if (!(t < 1114112))
        throw new Error("Invalid code point");
      if ((e -= 4) < 0)
        break;
      n.push(t >> 18 | 240, t >> 12 & 63 | 128, t >> 6 & 63 | 128, 63 & t | 128);
    }
  }
  return n;
}
function Zz(r) {
  return x_.toByteArray(function(e) {
    if ((e = (e = e.split("=")[0]).trim().replace(Jz, "")).length < 2)
      return "";
    for (; e.length % 4 != 0; )
      e += "=";
    return e;
  }(r));
}
function uw(r, e, t, i) {
  for (var a = 0; a < i && !(a + t >= e.length || a >= r.length); ++a)
    e[a + t] = r[a];
  return a;
}
function vu(r, e) {
  return r instanceof e || r != null && r.constructor != null && r.constructor.name != null && r.constructor.name === e.name;
}
function XE(r) {
  return r != r;
}
function WP(r, e) {
  for (var t in r)
    e[t] = r[t];
}
function Lh(r, e, t) {
  return ws(r, e, t);
}
function Iv(r) {
  var e;
  switch (this.encoding = function(t) {
    var i = function(a) {
      if (!a)
        return "utf8";
      for (var n; ; )
        switch (a) {
          case "utf8":
          case "utf-8":
            return "utf8";
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
            return "utf16le";
          case "latin1":
          case "binary":
            return "latin1";
          case "base64":
          case "ascii":
          case "hex":
            return a;
          default:
            if (n)
              return;
            a = ("" + a).toLowerCase(), n = !0;
        }
    }(t);
    if (typeof i != "string" && (T_.isEncoding === qC || !qC(t)))
      throw new Error("Unknown encoding: " + t);
    return i || t;
  }(r), this.encoding) {
    case "utf16le":
      this.text = oae, this.end = sae, e = 4;
      break;
    case "utf8":
      this.fillLast = aae, e = 4;
      break;
    case "base64":
      this.text = lae, this.end = uae, e = 3;
      break;
    default:
      return this.write = cae, this.end = hae, void 0;
  }
  this.lastNeed = 0, this.lastTotal = 0, this.lastChar = T_.allocUnsafe(e);
}
function M4(r) {
  return r <= 127 ? 0 : r >> 5 == 6 ? 2 : r >> 4 == 14 ? 3 : r >> 3 == 30 ? 4 : r >> 6 == 2 ? -1 : -2;
}
function aae(r) {
  var e = this.lastTotal - this.lastNeed, t = function(i, a, n) {
    if ((192 & a[0]) != 128)
      return i.lastNeed = 0, "";
    if (i.lastNeed > 1 && a.length > 1) {
      if ((192 & a[1]) != 128)
        return i.lastNeed = 1, "";
      if (i.lastNeed > 2 && a.length > 2 && (192 & a[2]) != 128)
        return i.lastNeed = 2, "";
    }
  }(this, r);
  return t !== void 0 ? t : this.lastNeed <= r.length ? (r.copy(this.lastChar, e, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal)) : (r.copy(this.lastChar, e, 0, r.length), this.lastNeed -= r.length, void 0);
}
function oae(r, e) {
  if ((r.length - e) % 2 == 0) {
    var t = r.toString("utf16le", e);
    if (t) {
      var i = t.charCodeAt(t.length - 1);
      if (i >= 55296 && i <= 56319)
        return this.lastNeed = 2, this.lastTotal = 4, this.lastChar[0] = r[r.length - 2], this.lastChar[1] = r[r.length - 1], t.slice(0, -1);
    }
    return t;
  }
  return this.lastNeed = 1, this.lastTotal = 2, this.lastChar[0] = r[r.length - 1], r.toString("utf16le", e, r.length - 1);
}
function sae(r) {
  var e = r && r.length ? this.write(r) : "";
  if (this.lastNeed) {
    var t = this.lastTotal - this.lastNeed;
    return e + this.lastChar.toString("utf16le", 0, t);
  }
  return e;
}
function lae(r, e) {
  var t = (r.length - e) % 3;
  return t === 0 ? r.toString("base64", e) : (this.lastNeed = 3 - t, this.lastTotal = 3, t === 1 ? this.lastChar[0] = r[r.length - 1] : (this.lastChar[0] = r[r.length - 2], this.lastChar[1] = r[r.length - 1]), r.toString("base64", e, r.length - t));
}
function uae(r) {
  var e = r && r.length ? this.write(r) : "";
  return this.lastNeed ? e + this.lastChar.toString("base64", 0, 3 - this.lastNeed) : e;
}
function cae(r) {
  return r.toString(this.encoding);
}
function hae(r) {
  return r && r.length ? this.write(r) : "";
}
var HP, Ds, _o, $P, cy, Oh, YP, jP, nl, x_, wf, I4, Jz, Qz, Pv, Rv, ws, qP, Fp, T_, qC, XP = Sa(() => {
  for (lt(), st(), ot(), HP = { byteLength: function(r) {
    var e = BP(r), t = e[0], i = e[1];
    return 3 * (t + i) / 4 - i;
  }, toByteArray: function(r) {
    var e, t, i = BP(r), a = i[0], n = i[1], o = new $P(function(u, c, f) {
      return 3 * (c + f) / 4 - f;
    }(0, a, n)), s = 0, l = n > 0 ? a - 4 : a;
    for (t = 0; t < l; t += 4)
      e = _o[r.charCodeAt(t)] << 18 | _o[r.charCodeAt(t + 1)] << 12 | _o[r.charCodeAt(t + 2)] << 6 | _o[r.charCodeAt(t + 3)], o[s++] = e >> 16 & 255, o[s++] = e >> 8 & 255, o[s++] = 255 & e;
    return n === 2 && (e = _o[r.charCodeAt(t)] << 2 | _o[r.charCodeAt(t + 1)] >> 4, o[s++] = 255 & e), n === 1 && (e = _o[r.charCodeAt(t)] << 10 | _o[r.charCodeAt(t + 1)] << 4 | _o[r.charCodeAt(t + 2)] >> 2, o[s++] = e >> 8 & 255, o[s++] = 255 & e), o;
  }, fromByteArray: function(r) {
    for (var e, t = r.length, i = t % 3, a = [], n = 0, o = t - i; n < o; n += 16383)
      a.push(Yie(r, n, n + 16383 > o ? o : n + 16383));
    return i === 1 ? (e = r[t - 1], a.push(Ds[e >> 2] + Ds[e << 4 & 63] + "==")) : i === 2 && (e = (r[t - 2] << 8) + r[t - 1], a.push(Ds[e >> 10] + Ds[e >> 4 & 63] + Ds[e << 2 & 63] + "=")), a.join("");
  } }, Ds = [], _o = [], $P = typeof Uint8Array < "u" ? Uint8Array : Array, cy = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", Oh = 0, YP = cy.length; Oh < YP; ++Oh)
    Ds[Oh] = cy[Oh], _o[cy.charCodeAt(Oh)] = Oh;
  _o["-".charCodeAt(0)] = 62, _o["_".charCodeAt(0)] = 63, jP = { read: function(r, e, t, i, a) {
    var n, o, s = 8 * a - i - 1, l = (1 << s) - 1, u = l >> 1, c = -7, f = t ? a - 1 : 0, d = t ? -1 : 1, p = r[e + f];
    for (f += d, n = p & (1 << -c) - 1, p >>= -c, c += s; c > 0; n = 256 * n + r[e + f], f += d, c -= 8)
      ;
    for (o = n & (1 << -c) - 1, n >>= -c, c += i; c > 0; o = 256 * o + r[e + f], f += d, c -= 8)
      ;
    if (n === 0)
      n = 1 - u;
    else {
      if (n === l)
        return o ? NaN : 1 / 0 * (p ? -1 : 1);
      o += Math.pow(2, i), n -= u;
    }
    return (p ? -1 : 1) * o * Math.pow(2, n - i);
  }, write: function(r, e, t, i, a, n) {
    var o, s, l, u = 8 * n - a - 1, c = (1 << u) - 1, f = c >> 1, d = a === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0, p = i ? 0 : n - 1, v = i ? 1 : -1, y = e < 0 || e === 0 && 1 / e < 0 ? 1 : 0;
    for (e = Math.abs(e), isNaN(e) || e === 1 / 0 ? (s = isNaN(e) ? 1 : 0, o = c) : (o = Math.floor(Math.log(e) / Math.LN2), e * (l = Math.pow(2, -o)) < 1 && (o--, l *= 2), (e += o + f >= 1 ? d / l : d * Math.pow(2, 1 - f)) * l >= 2 && (o++, l /= 2), o + f >= c ? (s = 0, o = c) : o + f >= 1 ? (s = (e * l - 1) * Math.pow(2, a), o += f) : (s = e * Math.pow(2, f - 1) * Math.pow(2, a), o = 0)); a >= 8; r[t + p] = 255 & s, p += v, s /= 256, a -= 8)
      ;
    for (o = o << a | s, u += a; u > 0; r[t + p] = 255 & o, p += v, o /= 256, u -= 8)
      ;
    r[t + p - v] |= 128 * y;
  } }, nl = {}, x_ = HP, wf = jP, I4 = typeof Symbol == "function" && typeof Symbol.for == "function" ? Symbol.for("nodejs.util.inspect.custom") : null, nl.Buffer = pt, nl.SlowBuffer = function(r) {
    return +r != r && (r = 0), pt.alloc(+r);
  }, nl.INSPECT_MAX_BYTES = 50, nl.kMaxLength = 2147483647, pt.TYPED_ARRAY_SUPPORT = function() {
    try {
      var r = new Uint8Array(1), e = { foo: function() {
        return 42;
      } };
      return Object.setPrototypeOf(e, Uint8Array.prototype), Object.setPrototypeOf(r, e), r.foo() === 42;
    } catch {
      return !1;
    }
  }(), pt.TYPED_ARRAY_SUPPORT || typeof console > "u" || typeof console.error != "function" || console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."), Object.defineProperty(pt.prototype, "parent", { enumerable: !0, get: function() {
    if (pt.isBuffer(this))
      return this.buffer;
  } }), Object.defineProperty(pt.prototype, "offset", { enumerable: !0, get: function() {
    if (pt.isBuffer(this))
      return this.byteOffset;
  } }), pt.poolSize = 8192, pt.from = function(r, e, t) {
    return $z(r, e, t);
  }, Object.setPrototypeOf(pt.prototype, Uint8Array.prototype), Object.setPrototypeOf(pt, Uint8Array), pt.alloc = function(r, e, t) {
    return function(i, a, n) {
      return Yz(i), i <= 0 ? pu(i) : a !== void 0 ? typeof n == "string" ? pu(i).fill(a, n) : pu(i).fill(a) : pu(i);
    }(r, e, t);
  }, pt.allocUnsafe = function(r) {
    return YC(r);
  }, pt.allocUnsafeSlow = function(r) {
    return YC(r);
  }, pt.isBuffer = function(r) {
    return r != null && r._isBuffer === !0 && r !== pt.prototype;
  }, pt.compare = function(r, e) {
    if (vu(r, Uint8Array) && (r = pt.from(r, r.offset, r.byteLength)), vu(e, Uint8Array) && (e = pt.from(e, e.offset, e.byteLength)), !pt.isBuffer(r) || !pt.isBuffer(e))
      throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');
    if (r === e)
      return 0;
    for (var t = r.length, i = e.length, a = 0, n = Math.min(t, i); a < n; ++a)
      if (r[a] !== e[a]) {
        t = r[a], i = e[a];
        break;
      }
    return t < i ? -1 : i < t ? 1 : 0;
  }, pt.isEncoding = function(r) {
    switch (String(r).toLowerCase()) {
      case "hex":
      case "utf8":
      case "utf-8":
      case "ascii":
      case "latin1":
      case "binary":
      case "base64":
      case "ucs2":
      case "ucs-2":
      case "utf16le":
      case "utf-16le":
        return !0;
      default:
        return !1;
    }
  }, pt.concat = function(r, e) {
    if (!Array.isArray(r))
      throw new TypeError('"list" argument must be an Array of Buffers');
    if (r.length === 0)
      return pt.alloc(0);
    var t;
    if (e === void 0)
      for (e = 0, t = 0; t < r.length; ++t)
        e += r[t].length;
    var i = pt.allocUnsafe(e), a = 0;
    for (t = 0; t < r.length; ++t) {
      var n = r[t];
      if (vu(n, Uint8Array) && (n = pt.from(n)), !pt.isBuffer(n))
        throw new TypeError('"list" argument must be an Array of Buffers');
      n.copy(i, a), a += n.length;
    }
    return i;
  }, pt.byteLength = jz, pt.prototype._isBuffer = !0, pt.prototype.swap16 = function() {
    var r = this.length;
    if (r % 2 != 0)
      throw new RangeError("Buffer size must be a multiple of 16-bits");
    for (var e = 0; e < r; e += 2)
      Rh(this, e, e + 1);
    return this;
  }, pt.prototype.swap32 = function() {
    var r = this.length;
    if (r % 4 != 0)
      throw new RangeError("Buffer size must be a multiple of 32-bits");
    for (var e = 0; e < r; e += 4)
      Rh(this, e, e + 3), Rh(this, e + 1, e + 2);
    return this;
  }, pt.prototype.swap64 = function() {
    var r = this.length;
    if (r % 8 != 0)
      throw new RangeError("Buffer size must be a multiple of 64-bits");
    for (var e = 0; e < r; e += 8)
      Rh(this, e, e + 7), Rh(this, e + 1, e + 6), Rh(this, e + 2, e + 5), Rh(this, e + 3, e + 4);
    return this;
  }, pt.prototype.toString = function() {
    var r = this.length;
    return r === 0 ? "" : arguments.length === 0 ? Xz(this, 0, r) : qie.apply(this, arguments);
  }, pt.prototype.toLocaleString = pt.prototype.toString, pt.prototype.equals = function(r) {
    if (!pt.isBuffer(r))
      throw new TypeError("Argument must be a Buffer");
    return this === r || pt.compare(this, r) === 0;
  }, pt.prototype.inspect = function() {
    var r = "", e = nl.INSPECT_MAX_BYTES;
    return r = this.toString("hex", 0, e).replace(/(.{2})/g, "$1 ").trim(), this.length > e && (r += " ... "), "<Buffer " + r + ">";
  }, I4 && (pt.prototype[I4] = pt.prototype.inspect), pt.prototype.compare = function(r, e, t, i, a) {
    if (vu(r, Uint8Array) && (r = pt.from(r, r.offset, r.byteLength)), !pt.isBuffer(r))
      throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type ' + typeof r);
    if (e === void 0 && (e = 0), t === void 0 && (t = r ? r.length : 0), i === void 0 && (i = 0), a === void 0 && (a = this.length), e < 0 || t > r.length || i < 0 || a > this.length)
      throw new RangeError("out of range index");
    if (i >= a && e >= t)
      return 0;
    if (i >= a)
      return -1;
    if (e >= t)
      return 1;
    if (this === r)
      return 0;
    for (var n = (a >>>= 0) - (i >>>= 0), o = (t >>>= 0) - (e >>>= 0), s = Math.min(n, o), l = this.slice(i, a), u = r.slice(e, t), c = 0; c < s; ++c)
      if (l[c] !== u[c]) {
        n = l[c], o = u[c];
        break;
      }
    return n < o ? -1 : o < n ? 1 : 0;
  }, pt.prototype.includes = function(r, e, t) {
    return this.indexOf(r, e, t) !== -1;
  }, pt.prototype.indexOf = function(r, e, t) {
    return VP(this, r, e, t, !0);
  }, pt.prototype.lastIndexOf = function(r, e, t) {
    return VP(this, r, e, t, !1);
  }, pt.prototype.write = function(r, e, t, i) {
    if (e === void 0)
      i = "utf8", t = this.length, e = 0;
    else if (t === void 0 && typeof e == "string")
      i = e, t = this.length, e = 0;
    else {
      if (!isFinite(e))
        throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
      e >>>= 0, isFinite(t) ? (t >>>= 0, i === void 0 && (i = "utf8")) : (i = t, t = void 0);
    }
    var a = this.length - e;
    if ((t === void 0 || t > a) && (t = a), r.length > 0 && (t < 0 || e < 0) || e > this.length)
      throw new RangeError("Attempt to write outside buffer bounds");
    i || (i = "utf8");
    for (var n = !1; ; )
      switch (i) {
        case "hex":
          return Xie(this, r, e, t);
        case "utf8":
        case "utf-8":
          return Kie(this, r, e, t);
        case "ascii":
          return qz(this, r, e, t);
        case "latin1":
        case "binary":
          return Zie(this, r, e, t);
        case "base64":
          return Jie(this, r, e, t);
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return Qie(this, r, e, t);
        default:
          if (n)
            throw new TypeError("Unknown encoding: " + i);
          i = ("" + i).toLowerCase(), n = !0;
      }
  }, pt.prototype.toJSON = function() {
    return { type: "Buffer", data: Array.prototype.slice.call(this._arr || this, 0) };
  }, pt.prototype.slice = function(r, e) {
    var t = this.length;
    (r = ~~r) < 0 ? (r += t) < 0 && (r = 0) : r > t && (r = t), (e = e === void 0 ? t : ~~e) < 0 ? (e += t) < 0 && (e = 0) : e > t && (e = t), e < r && (e = r);
    var i = this.subarray(r, e);
    return Object.setPrototypeOf(i, pt.prototype), i;
  }, pt.prototype.readUIntLE = function(r, e, t) {
    r >>>= 0, e >>>= 0, t || oa(r, e, this.length);
    for (var i = this[r], a = 1, n = 0; ++n < e && (a *= 256); )
      i += this[r + n] * a;
    return i;
  }, pt.prototype.readUIntBE = function(r, e, t) {
    r >>>= 0, e >>>= 0, t || oa(r, e, this.length);
    for (var i = this[r + --e], a = 1; e > 0 && (a *= 256); )
      i += this[r + --e] * a;
    return i;
  }, pt.prototype.readUInt8 = function(r, e) {
    return r >>>= 0, e || oa(r, 1, this.length), this[r];
  }, pt.prototype.readUInt16LE = function(r, e) {
    return r >>>= 0, e || oa(r, 2, this.length), this[r] | this[r + 1] << 8;
  }, pt.prototype.readUInt16BE = function(r, e) {
    return r >>>= 0, e || oa(r, 2, this.length), this[r] << 8 | this[r + 1];
  }, pt.prototype.readUInt32LE = function(r, e) {
    return r >>>= 0, e || oa(r, 4, this.length), (this[r] | this[r + 1] << 8 | this[r + 2] << 16) + 16777216 * this[r + 3];
  }, pt.prototype.readUInt32BE = function(r, e) {
    return r >>>= 0, e || oa(r, 4, this.length), 16777216 * this[r] + (this[r + 1] << 16 | this[r + 2] << 8 | this[r + 3]);
  }, pt.prototype.readIntLE = function(r, e, t) {
    r >>>= 0, e >>>= 0, t || oa(r, e, this.length);
    for (var i = this[r], a = 1, n = 0; ++n < e && (a *= 256); )
      i += this[r + n] * a;
    return i >= (a *= 128) && (i -= Math.pow(2, 8 * e)), i;
  }, pt.prototype.readIntBE = function(r, e, t) {
    r >>>= 0, e >>>= 0, t || oa(r, e, this.length);
    for (var i = e, a = 1, n = this[r + --i]; i > 0 && (a *= 256); )
      n += this[r + --i] * a;
    return n >= (a *= 128) && (n -= Math.pow(2, 8 * e)), n;
  }, pt.prototype.readInt8 = function(r, e) {
    return r >>>= 0, e || oa(r, 1, this.length), 128 & this[r] ? -1 * (255 - this[r] + 1) : this[r];
  }, pt.prototype.readInt16LE = function(r, e) {
    r >>>= 0, e || oa(r, 2, this.length);
    var t = this[r] | this[r + 1] << 8;
    return 32768 & t ? 4294901760 | t : t;
  }, pt.prototype.readInt16BE = function(r, e) {
    r >>>= 0, e || oa(r, 2, this.length);
    var t = this[r + 1] | this[r] << 8;
    return 32768 & t ? 4294901760 | t : t;
  }, pt.prototype.readInt32LE = function(r, e) {
    return r >>>= 0, e || oa(r, 4, this.length), this[r] | this[r + 1] << 8 | this[r + 2] << 16 | this[r + 3] << 24;
  }, pt.prototype.readInt32BE = function(r, e) {
    return r >>>= 0, e || oa(r, 4, this.length), this[r] << 24 | this[r + 1] << 16 | this[r + 2] << 8 | this[r + 3];
  }, pt.prototype.readFloatLE = function(r, e) {
    return r >>>= 0, e || oa(r, 4, this.length), wf.read(this, r, !0, 23, 4);
  }, pt.prototype.readFloatBE = function(r, e) {
    return r >>>= 0, e || oa(r, 4, this.length), wf.read(this, r, !1, 23, 4);
  }, pt.prototype.readDoubleLE = function(r, e) {
    return r >>>= 0, e || oa(r, 8, this.length), wf.read(this, r, !0, 52, 8);
  }, pt.prototype.readDoubleBE = function(r, e) {
    return r >>>= 0, e || oa(r, 8, this.length), wf.read(this, r, !1, 52, 8);
  }, pt.prototype.writeUIntLE = function(r, e, t, i) {
    r = +r, e >>>= 0, t >>>= 0, i || oo(this, r, e, t, Math.pow(2, 8 * t) - 1, 0);
    var a = 1, n = 0;
    for (this[e] = 255 & r; ++n < t && (a *= 256); )
      this[e + n] = r / a & 255;
    return e + t;
  }, pt.prototype.writeUIntBE = function(r, e, t, i) {
    r = +r, e >>>= 0, t >>>= 0, i || oo(this, r, e, t, Math.pow(2, 8 * t) - 1, 0);
    var a = t - 1, n = 1;
    for (this[e + a] = 255 & r; --a >= 0 && (n *= 256); )
      this[e + a] = r / n & 255;
    return e + t;
  }, pt.prototype.writeUInt8 = function(r, e, t) {
    return r = +r, e >>>= 0, t || oo(this, r, e, 1, 255, 0), this[e] = 255 & r, e + 1;
  }, pt.prototype.writeUInt16LE = function(r, e, t) {
    return r = +r, e >>>= 0, t || oo(this, r, e, 2, 65535, 0), this[e] = 255 & r, this[e + 1] = r >>> 8, e + 2;
  }, pt.prototype.writeUInt16BE = function(r, e, t) {
    return r = +r, e >>>= 0, t || oo(this, r, e, 2, 65535, 0), this[e] = r >>> 8, this[e + 1] = 255 & r, e + 2;
  }, pt.prototype.writeUInt32LE = function(r, e, t) {
    return r = +r, e >>>= 0, t || oo(this, r, e, 4, 4294967295, 0), this[e + 3] = r >>> 24, this[e + 2] = r >>> 16, this[e + 1] = r >>> 8, this[e] = 255 & r, e + 4;
  }, pt.prototype.writeUInt32BE = function(r, e, t) {
    return r = +r, e >>>= 0, t || oo(this, r, e, 4, 4294967295, 0), this[e] = r >>> 24, this[e + 1] = r >>> 16, this[e + 2] = r >>> 8, this[e + 3] = 255 & r, e + 4;
  }, pt.prototype.writeIntLE = function(r, e, t, i) {
    if (r = +r, e >>>= 0, !i) {
      var a = Math.pow(2, 8 * t - 1);
      oo(this, r, e, t, a - 1, -a);
    }
    var n = 0, o = 1, s = 0;
    for (this[e] = 255 & r; ++n < t && (o *= 256); )
      r < 0 && s === 0 && this[e + n - 1] !== 0 && (s = 1), this[e + n] = (r / o >> 0) - s & 255;
    return e + t;
  }, pt.prototype.writeIntBE = function(r, e, t, i) {
    if (r = +r, e >>>= 0, !i) {
      var a = Math.pow(2, 8 * t - 1);
      oo(this, r, e, t, a - 1, -a);
    }
    var n = t - 1, o = 1, s = 0;
    for (this[e + n] = 255 & r; --n >= 0 && (o *= 256); )
      r < 0 && s === 0 && this[e + n + 1] !== 0 && (s = 1), this[e + n] = (r / o >> 0) - s & 255;
    return e + t;
  }, pt.prototype.writeInt8 = function(r, e, t) {
    return r = +r, e >>>= 0, t || oo(this, r, e, 1, 127, -128), r < 0 && (r = 255 + r + 1), this[e] = 255 & r, e + 1;
  }, pt.prototype.writeInt16LE = function(r, e, t) {
    return r = +r, e >>>= 0, t || oo(this, r, e, 2, 32767, -32768), this[e] = 255 & r, this[e + 1] = r >>> 8, e + 2;
  }, pt.prototype.writeInt16BE = function(r, e, t) {
    return r = +r, e >>>= 0, t || oo(this, r, e, 2, 32767, -32768), this[e] = r >>> 8, this[e + 1] = 255 & r, e + 2;
  }, pt.prototype.writeInt32LE = function(r, e, t) {
    return r = +r, e >>>= 0, t || oo(this, r, e, 4, 2147483647, -2147483648), this[e] = 255 & r, this[e + 1] = r >>> 8, this[e + 2] = r >>> 16, this[e + 3] = r >>> 24, e + 4;
  }, pt.prototype.writeInt32BE = function(r, e, t) {
    return r = +r, e >>>= 0, t || oo(this, r, e, 4, 2147483647, -2147483648), r < 0 && (r = 4294967295 + r + 1), this[e] = r >>> 24, this[e + 1] = r >>> 16, this[e + 2] = r >>> 8, this[e + 3] = 255 & r, e + 4;
  }, pt.prototype.writeFloatLE = function(r, e, t) {
    return GP(this, r, e, !0, t);
  }, pt.prototype.writeFloatBE = function(r, e, t) {
    return GP(this, r, e, !1, t);
  }, pt.prototype.writeDoubleLE = function(r, e, t) {
    return zP(this, r, e, !0, t);
  }, pt.prototype.writeDoubleBE = function(r, e, t) {
    return zP(this, r, e, !1, t);
  }, pt.prototype.copy = function(r, e, t, i) {
    if (!pt.isBuffer(r))
      throw new TypeError("argument should be a Buffer");
    if (t || (t = 0), i || i === 0 || (i = this.length), e >= r.length && (e = r.length), e || (e = 0), i > 0 && i < t && (i = t), i === t || r.length === 0 || this.length === 0)
      return 0;
    if (e < 0)
      throw new RangeError("targetStart out of bounds");
    if (t < 0 || t >= this.length)
      throw new RangeError("Index out of range");
    if (i < 0)
      throw new RangeError("sourceEnd out of bounds");
    i > this.length && (i = this.length), r.length - e < i - t && (i = r.length - e + t);
    var a = i - t;
    if (this === r && typeof Uint8Array.prototype.copyWithin == "function")
      this.copyWithin(e, t, i);
    else if (this === r && t < e && e < i)
      for (var n = a - 1; n >= 0; --n)
        r[n + e] = this[n + t];
    else
      Uint8Array.prototype.set.call(r, this.subarray(t, i), e);
    return a;
  }, pt.prototype.fill = function(r, e, t, i) {
    if (typeof r == "string") {
      if (typeof e == "string" ? (i = e, e = 0, t = this.length) : typeof t == "string" && (i = t, t = this.length), i !== void 0 && typeof i != "string")
        throw new TypeError("encoding must be a string");
      if (typeof i == "string" && !pt.isEncoding(i))
        throw new TypeError("Unknown encoding: " + i);
      if (r.length === 1) {
        var a = r.charCodeAt(0);
        (i === "utf8" && a < 128 || i === "latin1") && (r = a);
      }
    } else
      typeof r == "number" ? r &= 255 : typeof r == "boolean" && (r = Number(r));
    if (e < 0 || this.length < e || this.length < t)
      throw new RangeError("Out of range index");
    if (t <= e)
      return this;
    var n;
    if (e >>>= 0, t = t === void 0 ? this.length : t >>> 0, r || (r = 0), typeof r == "number")
      for (n = e; n < t; ++n)
        this[n] = r;
    else {
      var o = pt.isBuffer(r) ? r : pt.from(r, i), s = o.length;
      if (s === 0)
        throw new TypeError('The value "' + r + '" is invalid for argument "value"');
      for (n = 0; n < t - e; ++n)
        this[n + e] = o[n % s];
    }
    return this;
  }, Jz = /[^+/0-9A-Za-z-_]/g, Qz = function() {
    for (var r = new Array(256), e = 0; e < 16; ++e)
      for (var t = 16 * e, i = 0; i < 16; ++i)
        r[t + i] = "0123456789abcdef"[e] + "0123456789abcdef"[i];
    return r;
  }(), nl.Buffer, nl.INSPECT_MAX_BYTES, nl.kMaxLength, Pv = {}, Rv = nl, ws = Rv.Buffer, ws.from && ws.alloc && ws.allocUnsafe && ws.allocUnsafeSlow ? Pv = Rv : (WP(Rv, Pv), Pv.Buffer = Lh), Lh.prototype = Object.create(ws.prototype), WP(ws, Lh), Lh.from = function(r, e, t) {
    if (typeof r == "number")
      throw new TypeError("Argument must not be a number");
    return ws(r, e, t);
  }, Lh.alloc = function(r, e, t) {
    if (typeof r != "number")
      throw new TypeError("Argument must be a number");
    var i = ws(r);
    return e !== void 0 ? typeof t == "string" ? i.fill(e, t) : i.fill(e) : i.fill(0), i;
  }, Lh.allocUnsafe = function(r) {
    if (typeof r != "number")
      throw new TypeError("Argument must be a number");
    return ws(r);
  }, Lh.allocUnsafeSlow = function(r) {
    if (typeof r != "number")
      throw new TypeError("Argument must be a number");
    return Rv.SlowBuffer(r);
  }, qP = Pv, Fp = {}, T_ = qP.Buffer, qC = T_.isEncoding || function(r) {
    switch ((r = "" + r) && r.toLowerCase()) {
      case "hex":
      case "utf8":
      case "utf-8":
      case "ascii":
      case "binary":
      case "base64":
      case "ucs2":
      case "ucs-2":
      case "utf16le":
      case "utf-16le":
      case "raw":
        return !0;
      default:
        return !1;
    }
  }, Fp.StringDecoder = Iv, Iv.prototype.write = function(r) {
    if (r.length === 0)
      return "";
    var e, t;
    if (this.lastNeed) {
      if ((e = this.fillLast(r)) === void 0)
        return "";
      t = this.lastNeed, this.lastNeed = 0;
    } else
      t = 0;
    return t < r.length ? e ? e + this.text(r, t) : this.text(r, t) : e || "";
  }, Iv.prototype.end = function(r) {
    var e = r && r.length ? this.write(r) : "";
    return this.lastNeed ? e + "" : e;
  }, Iv.prototype.text = function(r, e) {
    var t = function(a, n, o) {
      var s = n.length - 1;
      if (s < o)
        return 0;
      var l = M4(n[s]);
      return l >= 0 ? (l > 0 && (a.lastNeed = l - 1), l) : --s < o || l === -2 ? 0 : (l = M4(n[s])) >= 0 ? (l > 0 && (a.lastNeed = l - 2), l) : --s < o || l === -2 ? 0 : (l = M4(n[s])) >= 0 ? (l > 0 && (l === 2 ? l = 0 : a.lastNeed = l - 3), l) : 0;
    }(this, r, e);
    if (!this.lastNeed)
      return r.toString("utf8", e);
    this.lastTotal = t;
    var i = r.length - (t - this.lastNeed);
    return r.copy(this.lastChar, 0, i), r.toString("utf8", e, i);
  }, Iv.prototype.fillLast = function(r) {
    if (this.lastNeed <= r.length)
      return r.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal);
    r.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, r.length), this.lastNeed -= r.length;
  }, Fp.StringDecoder, Fp.StringDecoder;
}), eW = {};
sd(eW, { StringDecoder: () => tW, default: () => Fp });
var tW, fae = Sa(() => {
  lt(), st(), ot(), XP(), XP(), tW = Fp.StringDecoder;
}), rW = bt((r, e) => {
  lt(), st(), ot();
  var t = ld(), { PromisePrototypeThen: i, SymbolAsyncIterator: a, SymbolIterator: n } = Qi(), { Buffer: o } = (Ta(), zn(xa)), { ERR_INVALID_ARG_TYPE: s, ERR_STREAM_NULL_VALUES: l } = go().codes;
  function u(c, f, d) {
    let p;
    if (typeof f == "string" || f instanceof o)
      return new c({ objectMode: !0, ...d, read() {
        this.push(f), this.push(null);
      } });
    let v;
    if (f && f[a])
      v = !0, p = f[a]();
    else if (f && f[n])
      v = !1, p = f[n]();
    else
      throw new s("iterable", ["Iterable"], f);
    let y = new c({ objectMode: !0, highWaterMark: 1, ...d }), _ = !1;
    y._read = function() {
      _ || (_ = !0, S());
    }, y._destroy = function(x, E) {
      i(w(x), () => t.nextTick(E, x), (M) => t.nextTick(E, M || x));
    };
    async function w(x) {
      let E = x != null, M = typeof p.throw == "function";
      if (E && M) {
        let { value: k, done: P } = await p.throw(x);
        if (await k, P)
          return;
      }
      if (typeof p.return == "function") {
        let { value: k } = await p.return();
        await k;
      }
    }
    async function S() {
      for (; ; ) {
        try {
          let { value: x, done: E } = v ? await p.next() : p.next();
          if (E)
            y.push(null);
          else {
            let M = x && typeof x.then == "function" ? await x : x;
            if (M === null)
              throw _ = !1, new l();
            if (y.push(M))
              continue;
            _ = !1;
          }
        } catch (x) {
          y.destroy(x);
        }
        break;
      }
    }
    return y;
  }
  e.exports = u;
}), cw = bt((r, e) => {
  lt(), st(), ot();
  var t = ld(), { ArrayPrototypeIndexOf: i, NumberIsInteger: a, NumberIsNaN: n, NumberParseInt: o, ObjectDefineProperties: s, ObjectKeys: l, ObjectSetPrototypeOf: u, Promise: c, SafeSet: f, SymbolAsyncIterator: d, Symbol: p } = Qi();
  e.exports = K, K.ReadableState = fe;
  var { EventEmitter: v } = (S0(), zn(ud)), { Stream: y, prependListener: _ } = YE(), { Buffer: w } = (Ta(), zn(xa)), { addAbortSignal: S } = lw(), x = nh(), E = Lu().debuglog("stream", (B) => {
    E = B;
  }), M = $ie(), k = w0(), { getHighWaterMark: P, getDefaultHighWaterMark: L } = jE(), { aggregateTwoErrors: F, codes: { ERR_INVALID_ARG_TYPE: O, ERR_METHOD_NOT_IMPLEMENTED: U, ERR_OUT_OF_RANGE: V, ERR_STREAM_PUSH_AFTER_EOF: G, ERR_STREAM_UNSHIFT_AFTER_END_EVENT: Z } } = go(), { validateObject: Q } = sw(), se = p("kPaused"), { StringDecoder: de } = (fae(), zn(eW)), le = rW();
  u(K.prototype, y.prototype), u(K, y);
  var Se = () => {
  }, { errorOrDestroy: he } = k;
  function fe(B, Y, Ae) {
    typeof Ae != "boolean" && (Ae = Y instanceof Ou()), this.objectMode = !!(B && B.objectMode), Ae && (this.objectMode = this.objectMode || !!(B && B.readableObjectMode)), this.highWaterMark = B ? P(this, B, "readableHighWaterMark", Ae) : L(!1), this.buffer = new M(), this.length = 0, this.pipes = [], this.flowing = null, this.ended = !1, this.endEmitted = !1, this.reading = !1, this.constructed = !0, this.sync = !0, this.needReadable = !1, this.emittedReadable = !1, this.readableListening = !1, this.resumeScheduled = !1, this[se] = null, this.errorEmitted = !1, this.emitClose = !B || B.emitClose !== !1, this.autoDestroy = !B || B.autoDestroy !== !1, this.destroyed = !1, this.errored = null, this.closed = !1, this.closeEmitted = !1, this.defaultEncoding = B && B.defaultEncoding || "utf8", this.awaitDrainWriters = null, this.multiAwaitDrain = !1, this.readingMore = !1, this.dataEmitted = !1, this.decoder = null, this.encoding = null, B && B.encoding && (this.decoder = new de(B.encoding), this.encoding = B.encoding);
  }
  function K(B) {
    if (!(this instanceof K))
      return new K(B);
    let Y = this instanceof Ou();
    this._readableState = new fe(B, this, Y), B && (typeof B.read == "function" && (this._read = B.read), typeof B.destroy == "function" && (this._destroy = B.destroy), typeof B.construct == "function" && (this._construct = B.construct), B.signal && !Y && S(B.signal, this)), y.call(this, B), k.construct(this, () => {
      this._readableState.needReadable && ne(this, this._readableState);
    });
  }
  K.prototype.destroy = k.destroy, K.prototype._undestroy = k.undestroy, K.prototype._destroy = function(B, Y) {
    Y(B);
  }, K.prototype[v.captureRejectionSymbol] = function(B) {
    this.destroy(B);
  }, K.prototype.push = function(B, Y) {
    return we(this, B, Y, !1);
  }, K.prototype.unshift = function(B, Y) {
    return we(this, B, Y, !0);
  };
  function we(B, Y, Ae, Re) {
    E("readableAddChunk", Y);
    let Ue = B._readableState, ut;
    if (Ue.objectMode || (typeof Y == "string" ? (Ae = Ae || Ue.defaultEncoding, Ue.encoding !== Ae && (Re && Ue.encoding ? Y = w.from(Y, Ae).toString(Ue.encoding) : (Y = w.from(Y, Ae), Ae = ""))) : Y instanceof w ? Ae = "" : y._isUint8Array(Y) ? (Y = y._uint8ArrayToBuffer(Y), Ae = "") : Y != null && (ut = new O("chunk", ["string", "Buffer", "Uint8Array"], Y))), ut)
      he(B, ut);
    else if (Y === null)
      Ue.reading = !1, re(B, Ue);
    else if (Ue.objectMode || Y && Y.length > 0)
      if (Re)
        if (Ue.endEmitted)
          he(B, new Z());
        else {
          if (Ue.destroyed || Ue.errored)
            return !1;
          ve(B, Ue, Y, !0);
        }
      else if (Ue.ended)
        he(B, new G());
      else {
        if (Ue.destroyed || Ue.errored)
          return !1;
        Ue.reading = !1, Ue.decoder && !Ae ? (Y = Ue.decoder.write(Y), Ue.objectMode || Y.length !== 0 ? ve(B, Ue, Y, !1) : ne(B, Ue)) : ve(B, Ue, Y, !1);
      }
    else
      Re || (Ue.reading = !1, ne(B, Ue));
    return !Ue.ended && (Ue.length < Ue.highWaterMark || Ue.length === 0);
  }
  function ve(B, Y, Ae, Re) {
    Y.flowing && Y.length === 0 && !Y.sync && B.listenerCount("data") > 0 ? (Y.multiAwaitDrain ? Y.awaitDrainWriters.clear() : Y.awaitDrainWriters = null, Y.dataEmitted = !0, B.emit("data", Ae)) : (Y.length += Y.objectMode ? 1 : Ae.length, Re ? Y.buffer.unshift(Ae) : Y.buffer.push(Ae), Y.needReadable && be(B)), ne(B, Y);
  }
  K.prototype.isPaused = function() {
    let B = this._readableState;
    return B[se] === !0 || B.flowing === !1;
  }, K.prototype.setEncoding = function(B) {
    let Y = new de(B);
    this._readableState.decoder = Y, this._readableState.encoding = this._readableState.decoder.encoding;
    let Ae = this._readableState.buffer, Re = "";
    for (let Ue of Ae)
      Re += Y.write(Ue);
    return Ae.clear(), Re !== "" && Ae.push(Re), this._readableState.length = Re.length, this;
  };
  var De = 1073741824;
  function Ie(B) {
    if (B > De)
      throw new V("size", "<= 1GiB", B);
    return B--, B |= B >>> 1, B |= B >>> 2, B |= B >>> 4, B |= B >>> 8, B |= B >>> 16, B++, B;
  }
  function q(B, Y) {
    return B <= 0 || Y.length === 0 && Y.ended ? 0 : Y.objectMode ? 1 : n(B) ? Y.flowing && Y.length ? Y.buffer.first().length : Y.length : B <= Y.length ? B : Y.ended ? Y.length : 0;
  }
  K.prototype.read = function(B) {
    E("read", B), B === void 0 ? B = NaN : a(B) || (B = o(B, 10));
    let Y = this._readableState, Ae = B;
    if (B > Y.highWaterMark && (Y.highWaterMark = Ie(B)), B !== 0 && (Y.emittedReadable = !1), B === 0 && Y.needReadable && ((Y.highWaterMark !== 0 ? Y.length >= Y.highWaterMark : Y.length > 0) || Y.ended))
      return E("read: emitReadable", Y.length, Y.ended), Y.length === 0 && Y.ended ? We(this) : be(this), null;
    if (B = q(B, Y), B === 0 && Y.ended)
      return Y.length === 0 && We(this), null;
    let Re = Y.needReadable;
    if (E("need readable", Re), (Y.length === 0 || Y.length - B < Y.highWaterMark) && (Re = !0, E("length less than watermark", Re)), Y.ended || Y.reading || Y.destroyed || Y.errored || !Y.constructed)
      Re = !1, E("reading, ended or constructing", Re);
    else if (Re) {
      E("do read"), Y.reading = !0, Y.sync = !0, Y.length === 0 && (Y.needReadable = !0);
      try {
        this._read(Y.highWaterMark);
      } catch (ut) {
        he(this, ut);
      }
      Y.sync = !1, Y.reading || (B = q(Ae, Y));
    }
    let Ue;
    return B > 0 ? Ue = Pe(B, Y) : Ue = null, Ue === null ? (Y.needReadable = Y.length <= Y.highWaterMark, B = 0) : (Y.length -= B, Y.multiAwaitDrain ? Y.awaitDrainWriters.clear() : Y.awaitDrainWriters = null), Y.length === 0 && (Y.ended || (Y.needReadable = !0), Ae !== B && Y.ended && We(this)), Ue !== null && !Y.errorEmitted && !Y.closeEmitted && (Y.dataEmitted = !0, this.emit("data", Ue)), Ue;
  };
  function re(B, Y) {
    if (E("onEofChunk"), !Y.ended) {
      if (Y.decoder) {
        let Ae = Y.decoder.end();
        Ae && Ae.length && (Y.buffer.push(Ae), Y.length += Y.objectMode ? 1 : Ae.length);
      }
      Y.ended = !0, Y.sync ? be(B) : (Y.needReadable = !1, Y.emittedReadable = !0, te(B));
    }
  }
  function be(B) {
    let Y = B._readableState;
    E("emitReadable", Y.needReadable, Y.emittedReadable), Y.needReadable = !1, Y.emittedReadable || (E("emitReadable", Y.flowing), Y.emittedReadable = !0, t.nextTick(te, B));
  }
  function te(B) {
    let Y = B._readableState;
    E("emitReadable_", Y.destroyed, Y.length, Y.ended), !Y.destroyed && !Y.errored && (Y.length || Y.ended) && (B.emit("readable"), Y.emittedReadable = !1), Y.needReadable = !Y.flowing && !Y.ended && Y.length <= Y.highWaterMark, Ee(B);
  }
  function ne(B, Y) {
    !Y.readingMore && Y.constructed && (Y.readingMore = !0, t.nextTick(ie, B, Y));
  }
  function ie(B, Y) {
    for (; !Y.reading && !Y.ended && (Y.length < Y.highWaterMark || Y.flowing && Y.length === 0); ) {
      let Ae = Y.length;
      if (E("maybeReadMore read 0"), B.read(0), Ae === Y.length)
        break;
    }
    Y.readingMore = !1;
  }
  K.prototype._read = function(B) {
    throw new U("_read()");
  }, K.prototype.pipe = function(B, Y) {
    let Ae = this, Re = this._readableState;
    Re.pipes.length === 1 && (Re.multiAwaitDrain || (Re.multiAwaitDrain = !0, Re.awaitDrainWriters = new f(Re.awaitDrainWriters ? [Re.awaitDrainWriters] : []))), Re.pipes.push(B), E("pipe count=%d opts=%j", Re.pipes.length, Y);
    let Ue = (!Y || Y.end !== !1) && B !== t.stdout && B !== t.stderr ? Sr : no;
    Re.endEmitted ? t.nextTick(Ue) : Ae.once("end", Ue), B.on("unpipe", ut);
    function ut(zl, tr) {
      E("onunpipe"), zl === Ae && tr && tr.hasUnpiped === !1 && (tr.hasUnpiped = !0, yr());
    }
    function Sr() {
      E("onend"), B.end();
    }
    let fn, wr = !1;
    function yr() {
      E("cleanup"), B.removeListener("close", J0), B.removeListener("finish", Rd), fn && B.removeListener("drain", fn), B.removeListener("error", Pd), B.removeListener("unpipe", ut), Ae.removeListener("end", Sr), Ae.removeListener("end", no), Ae.removeListener("data", Gl), wr = !0, fn && Re.awaitDrainWriters && (!B._writableState || B._writableState.needDrain) && fn();
    }
    function xr() {
      wr || (Re.pipes.length === 1 && Re.pipes[0] === B ? (E("false write response, pause", 0), Re.awaitDrainWriters = B, Re.multiAwaitDrain = !1) : Re.pipes.length > 1 && Re.pipes.includes(B) && (E("false write response, pause", Re.awaitDrainWriters.size), Re.awaitDrainWriters.add(B)), Ae.pause()), fn || (fn = xe(Ae, B), B.on("drain", fn));
    }
    Ae.on("data", Gl);
    function Gl(zl) {
      E("ondata");
      let tr = B.write(zl);
      E("dest.write", tr), tr === !1 && xr();
    }
    function Pd(zl) {
      if (E("onerror", zl), no(), B.removeListener("error", Pd), B.listenerCount("error") === 0) {
        let tr = B._writableState || B._readableState;
        tr && !tr.errorEmitted ? he(B, zl) : B.emit("error", zl);
      }
    }
    _(B, "error", Pd);
    function J0() {
      B.removeListener("finish", Rd), no();
    }
    B.once("close", J0);
    function Rd() {
      E("onfinish"), B.removeListener("close", J0), no();
    }
    B.once("finish", Rd);
    function no() {
      E("unpipe"), Ae.unpipe(B);
    }
    return B.emit("pipe", Ae), B.writableNeedDrain === !0 ? Re.flowing && xr() : Re.flowing || (E("pipe resume"), Ae.resume()), B;
  };
  function xe(B, Y) {
    return function() {
      let Ae = B._readableState;
      Ae.awaitDrainWriters === Y ? (E("pipeOnDrain", 1), Ae.awaitDrainWriters = null) : Ae.multiAwaitDrain && (E("pipeOnDrain", Ae.awaitDrainWriters.size), Ae.awaitDrainWriters.delete(Y)), (!Ae.awaitDrainWriters || Ae.awaitDrainWriters.size === 0) && B.listenerCount("data") && B.resume();
    };
  }
  K.prototype.unpipe = function(B) {
    let Y = this._readableState, Ae = { hasUnpiped: !1 };
    if (Y.pipes.length === 0)
      return this;
    if (!B) {
      let Ue = Y.pipes;
      Y.pipes = [], this.pause();
      for (let ut = 0; ut < Ue.length; ut++)
        Ue[ut].emit("unpipe", this, { hasUnpiped: !1 });
      return this;
    }
    let Re = i(Y.pipes, B);
    return Re === -1 ? this : (Y.pipes.splice(Re, 1), Y.pipes.length === 0 && this.pause(), B.emit("unpipe", this, Ae), this);
  }, K.prototype.on = function(B, Y) {
    let Ae = y.prototype.on.call(this, B, Y), Re = this._readableState;
    return B === "data" ? (Re.readableListening = this.listenerCount("readable") > 0, Re.flowing !== !1 && this.resume()) : B === "readable" && !Re.endEmitted && !Re.readableListening && (Re.readableListening = Re.needReadable = !0, Re.flowing = !1, Re.emittedReadable = !1, E("on readable", Re.length, Re.reading), Re.length ? be(this) : Re.reading || t.nextTick(ae, this)), Ae;
  }, K.prototype.addListener = K.prototype.on, K.prototype.removeListener = function(B, Y) {
    let Ae = y.prototype.removeListener.call(this, B, Y);
    return B === "readable" && t.nextTick(ge, this), Ae;
  }, K.prototype.off = K.prototype.removeListener, K.prototype.removeAllListeners = function(B) {
    let Y = y.prototype.removeAllListeners.apply(this, arguments);
    return (B === "readable" || B === void 0) && t.nextTick(ge, this), Y;
  };
  function ge(B) {
    let Y = B._readableState;
    Y.readableListening = B.listenerCount("readable") > 0, Y.resumeScheduled && Y[se] === !1 ? Y.flowing = !0 : B.listenerCount("data") > 0 ? B.resume() : Y.readableListening || (Y.flowing = null);
  }
  function ae(B) {
    E("readable nexttick read 0"), B.read(0);
  }
  K.prototype.resume = function() {
    let B = this._readableState;
    return B.flowing || (E("resume"), B.flowing = !B.readableListening, pe(this, B)), B[se] = !1, this;
  };
  function pe(B, Y) {
    Y.resumeScheduled || (Y.resumeScheduled = !0, t.nextTick(ce, B, Y));
  }
  function ce(B, Y) {
    E("resume", Y.reading), Y.reading || B.read(0), Y.resumeScheduled = !1, B.emit("resume"), Ee(B), Y.flowing && !Y.reading && B.read(0);
  }
  K.prototype.pause = function() {
    return E("call pause flowing=%j", this._readableState.flowing), this._readableState.flowing !== !1 && (E("pause"), this._readableState.flowing = !1, this.emit("pause")), this._readableState[se] = !0, this;
  };
  function Ee(B) {
    let Y = B._readableState;
    for (E("flow", Y.flowing); Y.flowing && B.read() !== null; )
      ;
  }
  K.prototype.wrap = function(B) {
    let Y = !1;
    B.on("data", (Re) => {
      !this.push(Re) && B.pause && (Y = !0, B.pause());
    }), B.on("end", () => {
      this.push(null);
    }), B.on("error", (Re) => {
      he(this, Re);
    }), B.on("close", () => {
      this.destroy();
    }), B.on("destroy", () => {
      this.destroy();
    }), this._read = () => {
      Y && B.resume && (Y = !1, B.resume());
    };
    let Ae = l(B);
    for (let Re = 1; Re < Ae.length; Re++) {
      let Ue = Ae[Re];
      this[Ue] === void 0 && typeof B[Ue] == "function" && (this[Ue] = B[Ue].bind(B));
    }
    return this;
  }, K.prototype[d] = function() {
    return ke(this);
  }, K.prototype.iterator = function(B) {
    return B !== void 0 && Q(B, "options"), ke(this, B);
  };
  function ke(B, Y) {
    typeof B.read != "function" && (B = K.wrap(B, { objectMode: !0 }));
    let Ae = ye(B, Y);
    return Ae.stream = B, Ae;
  }
  async function* ye(B, Y) {
    let Ae = Se;
    function Re(Sr) {
      this === B ? (Ae(), Ae = Se) : Ae = Sr;
    }
    B.on("readable", Re);
    let Ue, ut = x(B, { writable: !1 }, (Sr) => {
      Ue = Sr ? F(Ue, Sr) : null, Ae(), Ae = Se;
    });
    try {
      for (; ; ) {
        let Sr = B.destroyed ? null : B.read();
        if (Sr !== null)
          yield Sr;
        else {
          if (Ue)
            throw Ue;
          if (Ue === null)
            return;
          await new c(Re);
        }
      }
    } catch (Sr) {
      throw Ue = F(Ue, Sr), Ue;
    } finally {
      (Ue || Y?.destroyOnReturn !== !1) && (Ue === void 0 || B._readableState.autoDestroy) ? k.destroyer(B, null) : (B.off("readable", Re), ut());
    }
  }
  s(K.prototype, { readable: { __proto__: null, get() {
    let B = this._readableState;
    return !!B && B.readable !== !1 && !B.destroyed && !B.errorEmitted && !B.endEmitted;
  }, set(B) {
    this._readableState && (this._readableState.readable = !!B);
  } }, readableDidRead: { __proto__: null, enumerable: !1, get: function() {
    return this._readableState.dataEmitted;
  } }, readableAborted: { __proto__: null, enumerable: !1, get: function() {
    return !!(this._readableState.readable !== !1 && (this._readableState.destroyed || this._readableState.errored) && !this._readableState.endEmitted);
  } }, readableHighWaterMark: { __proto__: null, enumerable: !1, get: function() {
    return this._readableState.highWaterMark;
  } }, readableBuffer: { __proto__: null, enumerable: !1, get: function() {
    return this._readableState && this._readableState.buffer;
  } }, readableFlowing: { __proto__: null, enumerable: !1, get: function() {
    return this._readableState.flowing;
  }, set: function(B) {
    this._readableState && (this._readableState.flowing = B);
  } }, readableLength: { __proto__: null, enumerable: !1, get() {
    return this._readableState.length;
  } }, readableObjectMode: { __proto__: null, enumerable: !1, get() {
    return this._readableState ? this._readableState.objectMode : !1;
  } }, readableEncoding: { __proto__: null, enumerable: !1, get() {
    return this._readableState ? this._readableState.encoding : null;
  } }, errored: { __proto__: null, enumerable: !1, get() {
    return this._readableState ? this._readableState.errored : null;
  } }, closed: { __proto__: null, get() {
    return this._readableState ? this._readableState.closed : !1;
  } }, destroyed: { __proto__: null, enumerable: !1, get() {
    return this._readableState ? this._readableState.destroyed : !1;
  }, set(B) {
    this._readableState && (this._readableState.destroyed = B);
  } }, readableEnded: { __proto__: null, enumerable: !1, get() {
    return this._readableState ? this._readableState.endEmitted : !1;
  } } }), s(fe.prototype, { pipesCount: { __proto__: null, get() {
    return this.pipes.length;
  } }, paused: { __proto__: null, get() {
    return this[se] !== !1;
  }, set(B) {
    this[se] = !!B;
  } } }), K._fromList = Pe;
  function Pe(B, Y) {
    if (Y.length === 0)
      return null;
    let Ae;
    return Y.objectMode ? Ae = Y.buffer.shift() : !B || B >= Y.length ? (Y.decoder ? Ae = Y.buffer.join("") : Y.buffer.length === 1 ? Ae = Y.buffer.first() : Ae = Y.buffer.concat(Y.length), Y.buffer.clear()) : Ae = Y.buffer.consume(B, Y.decoder), Ae;
  }
  function We(B) {
    let Y = B._readableState;
    E("endReadable", Y.endEmitted), Y.endEmitted || (Y.ended = !0, t.nextTick(nt, Y, B));
  }
  function nt(B, Y) {
    if (E("endReadableNT", B.endEmitted, B.length), !B.errored && !B.closeEmitted && !B.endEmitted && B.length === 0) {
      if (B.endEmitted = !0, Y.emit("end"), Y.writable && Y.allowHalfOpen === !1)
        t.nextTick(ft, Y);
      else if (B.autoDestroy) {
        let Ae = Y._writableState;
        (!Ae || Ae.autoDestroy && (Ae.finished || Ae.writable === !1)) && Y.destroy();
      }
    }
  }
  function ft(B) {
    B.writable && !B.writableEnded && !B.destroyed && B.end();
  }
  K.from = function(B, Y) {
    return le(K, B, Y);
  };
  var mr;
  function z() {
    return mr === void 0 && (mr = {}), mr;
  }
  K.fromWeb = function(B, Y) {
    return z().newStreamReadableFromReadableStream(B, Y);
  }, K.toWeb = function(B, Y) {
    return z().newReadableStreamFromStreamReadable(B, Y);
  }, K.wrap = function(B, Y) {
    var Ae, Re;
    return new K({ objectMode: (Ae = (Re = B.readableObjectMode) !== null && Re !== void 0 ? Re : B.objectMode) !== null && Ae !== void 0 ? Ae : !0, ...Y, destroy(Ue, ut) {
      k.destroyer(B, Ue), ut(Ue);
    } }).wrap(B);
  };
}), nW = bt((r, e) => {
  lt(), st(), ot();
  var t = ld(), { ArrayPrototypeSlice: i, Error: a, FunctionPrototypeSymbolHasInstance: n, ObjectDefineProperty: o, ObjectDefineProperties: s, ObjectSetPrototypeOf: l, StringPrototypeToLowerCase: u, Symbol: c, SymbolHasInstance: f } = Qi();
  e.exports = de, de.WritableState = Q;
  var { EventEmitter: d } = (S0(), zn(ud)), p = YE().Stream, { Buffer: v } = (Ta(), zn(xa)), y = w0(), { addAbortSignal: _ } = lw(), { getHighWaterMark: w, getDefaultHighWaterMark: S } = jE(), { ERR_INVALID_ARG_TYPE: x, ERR_METHOD_NOT_IMPLEMENTED: E, ERR_MULTIPLE_CALLBACK: M, ERR_STREAM_CANNOT_PIPE: k, ERR_STREAM_DESTROYED: P, ERR_STREAM_ALREADY_FINISHED: L, ERR_STREAM_NULL_VALUES: F, ERR_STREAM_WRITE_AFTER_END: O, ERR_UNKNOWN_ENCODING: U } = go().codes, { errorOrDestroy: V } = y;
  l(de.prototype, p.prototype), l(de, p);
  function G() {
  }
  var Z = c("kOnFinished");
  function Q(ae, pe, ce) {
    typeof ce != "boolean" && (ce = pe instanceof Ou()), this.objectMode = !!(ae && ae.objectMode), ce && (this.objectMode = this.objectMode || !!(ae && ae.writableObjectMode)), this.highWaterMark = ae ? w(this, ae, "writableHighWaterMark", ce) : S(!1), this.finalCalled = !1, this.needDrain = !1, this.ending = !1, this.ended = !1, this.finished = !1, this.destroyed = !1;
    let Ee = !!(ae && ae.decodeStrings === !1);
    this.decodeStrings = !Ee, this.defaultEncoding = ae && ae.defaultEncoding || "utf8", this.length = 0, this.writing = !1, this.corked = 0, this.sync = !0, this.bufferProcessing = !1, this.onwrite = K.bind(void 0, pe), this.writecb = null, this.writelen = 0, this.afterWriteTickInfo = null, se(this), this.pendingcb = 0, this.constructed = !0, this.prefinished = !1, this.errorEmitted = !1, this.emitClose = !ae || ae.emitClose !== !1, this.autoDestroy = !ae || ae.autoDestroy !== !1, this.errored = null, this.closed = !1, this.closeEmitted = !1, this[Z] = [];
  }
  function se(ae) {
    ae.buffered = [], ae.bufferedIndex = 0, ae.allBuffers = !0, ae.allNoop = !0;
  }
  Q.prototype.getBuffer = function() {
    return i(this.buffered, this.bufferedIndex);
  }, o(Q.prototype, "bufferedRequestCount", { __proto__: null, get() {
    return this.buffered.length - this.bufferedIndex;
  } });
  function de(ae) {
    let pe = this instanceof Ou();
    if (!pe && !n(de, this))
      return new de(ae);
    this._writableState = new Q(ae, this, pe), ae && (typeof ae.write == "function" && (this._write = ae.write), typeof ae.writev == "function" && (this._writev = ae.writev), typeof ae.destroy == "function" && (this._destroy = ae.destroy), typeof ae.final == "function" && (this._final = ae.final), typeof ae.construct == "function" && (this._construct = ae.construct), ae.signal && _(ae.signal, this)), p.call(this, ae), y.construct(this, () => {
      let ce = this._writableState;
      ce.writing || Ie(this, ce), te(this, ce);
    });
  }
  o(de, f, { __proto__: null, value: function(ae) {
    return n(this, ae) ? !0 : this !== de ? !1 : ae && ae._writableState instanceof Q;
  } }), de.prototype.pipe = function() {
    V(this, new k());
  };
  function le(ae, pe, ce, Ee) {
    let ke = ae._writableState;
    if (typeof ce == "function")
      Ee = ce, ce = ke.defaultEncoding;
    else {
      if (!ce)
        ce = ke.defaultEncoding;
      else if (ce !== "buffer" && !v.isEncoding(ce))
        throw new U(ce);
      typeof Ee != "function" && (Ee = G);
    }
    if (pe === null)
      throw new F();
    if (!ke.objectMode)
      if (typeof pe == "string")
        ke.decodeStrings !== !1 && (pe = v.from(pe, ce), ce = "buffer");
      else if (pe instanceof v)
        ce = "buffer";
      else if (p._isUint8Array(pe))
        pe = p._uint8ArrayToBuffer(pe), ce = "buffer";
      else
        throw new x("chunk", ["string", "Buffer", "Uint8Array"], pe);
    let ye;
    return ke.ending ? ye = new O() : ke.destroyed && (ye = new P("write")), ye ? (t.nextTick(Ee, ye), V(ae, ye, !0), ye) : (ke.pendingcb++, Se(ae, ke, pe, ce, Ee));
  }
  de.prototype.write = function(ae, pe, ce) {
    return le(this, ae, pe, ce) === !0;
  }, de.prototype.cork = function() {
    this._writableState.corked++;
  }, de.prototype.uncork = function() {
    let ae = this._writableState;
    ae.corked && (ae.corked--, ae.writing || Ie(this, ae));
  }, de.prototype.setDefaultEncoding = function(ae) {
    if (typeof ae == "string" && (ae = u(ae)), !v.isEncoding(ae))
      throw new U(ae);
    return this._writableState.defaultEncoding = ae, this;
  };
  function Se(ae, pe, ce, Ee, ke) {
    let ye = pe.objectMode ? 1 : ce.length;
    pe.length += ye;
    let Pe = pe.length < pe.highWaterMark;
    return Pe || (pe.needDrain = !0), pe.writing || pe.corked || pe.errored || !pe.constructed ? (pe.buffered.push({ chunk: ce, encoding: Ee, callback: ke }), pe.allBuffers && Ee !== "buffer" && (pe.allBuffers = !1), pe.allNoop && ke !== G && (pe.allNoop = !1)) : (pe.writelen = ye, pe.writecb = ke, pe.writing = !0, pe.sync = !0, ae._write(ce, Ee, pe.onwrite), pe.sync = !1), Pe && !pe.errored && !pe.destroyed;
  }
  function he(ae, pe, ce, Ee, ke, ye, Pe) {
    pe.writelen = Ee, pe.writecb = Pe, pe.writing = !0, pe.sync = !0, pe.destroyed ? pe.onwrite(new P("write")) : ce ? ae._writev(ke, pe.onwrite) : ae._write(ke, ye, pe.onwrite), pe.sync = !1;
  }
  function fe(ae, pe, ce, Ee) {
    --pe.pendingcb, Ee(ce), De(pe), V(ae, ce);
  }
  function K(ae, pe) {
    let ce = ae._writableState, Ee = ce.sync, ke = ce.writecb;
    if (typeof ke != "function") {
      V(ae, new M());
      return;
    }
    ce.writing = !1, ce.writecb = null, ce.length -= ce.writelen, ce.writelen = 0, pe ? (pe.stack, ce.errored || (ce.errored = pe), ae._readableState && !ae._readableState.errored && (ae._readableState.errored = pe), Ee ? t.nextTick(fe, ae, ce, pe, ke) : fe(ae, ce, pe, ke)) : (ce.buffered.length > ce.bufferedIndex && Ie(ae, ce), Ee ? ce.afterWriteTickInfo !== null && ce.afterWriteTickInfo.cb === ke ? ce.afterWriteTickInfo.count++ : (ce.afterWriteTickInfo = { count: 1, cb: ke, stream: ae, state: ce }, t.nextTick(we, ce.afterWriteTickInfo)) : ve(ae, ce, 1, ke));
  }
  function we({ stream: ae, state: pe, count: ce, cb: Ee }) {
    return pe.afterWriteTickInfo = null, ve(ae, pe, ce, Ee);
  }
  function ve(ae, pe, ce, Ee) {
    for (!pe.ending && !ae.destroyed && pe.length === 0 && pe.needDrain && (pe.needDrain = !1, ae.emit("drain")); ce-- > 0; )
      pe.pendingcb--, Ee();
    pe.destroyed && De(pe), te(ae, pe);
  }
  function De(ae) {
    if (ae.writing)
      return;
    for (let ke = ae.bufferedIndex; ke < ae.buffered.length; ++ke) {
      var pe;
      let { chunk: ye, callback: Pe } = ae.buffered[ke], We = ae.objectMode ? 1 : ye.length;
      ae.length -= We, Pe((pe = ae.errored) !== null && pe !== void 0 ? pe : new P("write"));
    }
    let ce = ae[Z].splice(0);
    for (let ke = 0; ke < ce.length; ke++) {
      var Ee;
      ce[ke]((Ee = ae.errored) !== null && Ee !== void 0 ? Ee : new P("end"));
    }
    se(ae);
  }
  function Ie(ae, pe) {
    if (pe.corked || pe.bufferProcessing || pe.destroyed || !pe.constructed)
      return;
    let { buffered: ce, bufferedIndex: Ee, objectMode: ke } = pe, ye = ce.length - Ee;
    if (!ye)
      return;
    let Pe = Ee;
    if (pe.bufferProcessing = !0, ye > 1 && ae._writev) {
      pe.pendingcb -= ye - 1;
      let We = pe.allNoop ? G : (ft) => {
        for (let mr = Pe; mr < ce.length; ++mr)
          ce[mr].callback(ft);
      }, nt = pe.allNoop && Pe === 0 ? ce : i(ce, Pe);
      nt.allBuffers = pe.allBuffers, he(ae, pe, !0, pe.length, nt, "", We), se(pe);
    } else {
      do {
        let { chunk: We, encoding: nt, callback: ft } = ce[Pe];
        ce[Pe++] = null;
        let mr = ke ? 1 : We.length;
        he(ae, pe, !1, mr, We, nt, ft);
      } while (Pe < ce.length && !pe.writing);
      Pe === ce.length ? se(pe) : Pe > 256 ? (ce.splice(0, Pe), pe.bufferedIndex = 0) : pe.bufferedIndex = Pe;
    }
    pe.bufferProcessing = !1;
  }
  de.prototype._write = function(ae, pe, ce) {
    if (this._writev)
      this._writev([{ chunk: ae, encoding: pe }], ce);
    else
      throw new E("_write()");
  }, de.prototype._writev = null, de.prototype.end = function(ae, pe, ce) {
    let Ee = this._writableState;
    typeof ae == "function" ? (ce = ae, ae = null, pe = null) : typeof pe == "function" && (ce = pe, pe = null);
    let ke;
    if (ae != null) {
      let ye = le(this, ae, pe);
      ye instanceof a && (ke = ye);
    }
    return Ee.corked && (Ee.corked = 1, this.uncork()), ke || (!Ee.errored && !Ee.ending ? (Ee.ending = !0, te(this, Ee, !0), Ee.ended = !0) : Ee.finished ? ke = new L("end") : Ee.destroyed && (ke = new P("end"))), typeof ce == "function" && (ke || Ee.finished ? t.nextTick(ce, ke) : Ee[Z].push(ce)), this;
  };
  function q(ae) {
    return ae.ending && !ae.destroyed && ae.constructed && ae.length === 0 && !ae.errored && ae.buffered.length === 0 && !ae.finished && !ae.writing && !ae.errorEmitted && !ae.closeEmitted;
  }
  function re(ae, pe) {
    let ce = !1;
    function Ee(ke) {
      if (ce) {
        V(ae, ke ?? M());
        return;
      }
      if (ce = !0, pe.pendingcb--, ke) {
        let ye = pe[Z].splice(0);
        for (let Pe = 0; Pe < ye.length; Pe++)
          ye[Pe](ke);
        V(ae, ke, pe.sync);
      } else
        q(pe) && (pe.prefinished = !0, ae.emit("prefinish"), pe.pendingcb++, t.nextTick(ne, ae, pe));
    }
    pe.sync = !0, pe.pendingcb++;
    try {
      ae._final(Ee);
    } catch (ke) {
      Ee(ke);
    }
    pe.sync = !1;
  }
  function be(ae, pe) {
    !pe.prefinished && !pe.finalCalled && (typeof ae._final == "function" && !pe.destroyed ? (pe.finalCalled = !0, re(ae, pe)) : (pe.prefinished = !0, ae.emit("prefinish")));
  }
  function te(ae, pe, ce) {
    q(pe) && (be(ae, pe), pe.pendingcb === 0 && (ce ? (pe.pendingcb++, t.nextTick((Ee, ke) => {
      q(ke) ? ne(Ee, ke) : ke.pendingcb--;
    }, ae, pe)) : q(pe) && (pe.pendingcb++, ne(ae, pe))));
  }
  function ne(ae, pe) {
    pe.pendingcb--, pe.finished = !0;
    let ce = pe[Z].splice(0);
    for (let Ee = 0; Ee < ce.length; Ee++)
      ce[Ee]();
    if (ae.emit("finish"), pe.autoDestroy) {
      let Ee = ae._readableState;
      (!Ee || Ee.autoDestroy && (Ee.endEmitted || Ee.readable === !1)) && ae.destroy();
    }
  }
  s(de.prototype, { closed: { __proto__: null, get() {
    return this._writableState ? this._writableState.closed : !1;
  } }, destroyed: { __proto__: null, get() {
    return this._writableState ? this._writableState.destroyed : !1;
  }, set(ae) {
    this._writableState && (this._writableState.destroyed = ae);
  } }, writable: { __proto__: null, get() {
    let ae = this._writableState;
    return !!ae && ae.writable !== !1 && !ae.destroyed && !ae.errored && !ae.ending && !ae.ended;
  }, set(ae) {
    this._writableState && (this._writableState.writable = !!ae);
  } }, writableFinished: { __proto__: null, get() {
    return this._writableState ? this._writableState.finished : !1;
  } }, writableObjectMode: { __proto__: null, get() {
    return this._writableState ? this._writableState.objectMode : !1;
  } }, writableBuffer: { __proto__: null, get() {
    return this._writableState && this._writableState.getBuffer();
  } }, writableEnded: { __proto__: null, get() {
    return this._writableState ? this._writableState.ending : !1;
  } }, writableNeedDrain: { __proto__: null, get() {
    let ae = this._writableState;
    return ae ? !ae.destroyed && !ae.ending && ae.needDrain : !1;
  } }, writableHighWaterMark: { __proto__: null, get() {
    return this._writableState && this._writableState.highWaterMark;
  } }, writableCorked: { __proto__: null, get() {
    return this._writableState ? this._writableState.corked : 0;
  } }, writableLength: { __proto__: null, get() {
    return this._writableState && this._writableState.length;
  } }, errored: { __proto__: null, enumerable: !1, get() {
    return this._writableState ? this._writableState.errored : null;
  } }, writableAborted: { __proto__: null, enumerable: !1, get: function() {
    return !!(this._writableState.writable !== !1 && (this._writableState.destroyed || this._writableState.errored) && !this._writableState.finished);
  } } });
  var ie = y.destroy;
  de.prototype.destroy = function(ae, pe) {
    let ce = this._writableState;
    return !ce.destroyed && (ce.bufferedIndex < ce.buffered.length || ce[Z].length) && t.nextTick(De, ce), ie.call(this, ae, pe), this;
  }, de.prototype._undestroy = y.undestroy, de.prototype._destroy = function(ae, pe) {
    pe(ae);
  }, de.prototype[d.captureRejectionSymbol] = function(ae) {
    this.destroy(ae);
  };
  var xe;
  function ge() {
    return xe === void 0 && (xe = {}), xe;
  }
  de.fromWeb = function(ae, pe) {
    return ge().newStreamWritableFromWritableStream(ae, pe);
  }, de.toWeb = function(ae) {
    return ge().newWritableStreamFromStreamWritable(ae);
  };
}), dae = bt((r, e) => {
  lt(), st(), ot();
  var t = ld(), i = (Ta(), zn(xa)), { isReadable: a, isWritable: n, isIterable: o, isNodeStream: s, isReadableNodeStream: l, isWritableNodeStream: u, isDuplexNodeStream: c } = ju(), f = nh(), { AbortError: d, codes: { ERR_INVALID_ARG_TYPE: p, ERR_INVALID_RETURN_VALUE: v } } = go(), { destroyer: y } = w0(), _ = Ou(), w = cw(), { createDeferredPromise: S } = Lu(), x = rW(), E = globalThis.Blob || i.Blob, M = typeof E < "u" ? function(U) {
    return U instanceof E;
  } : function(U) {
    return !1;
  }, k = globalThis.AbortController || $E().AbortController, { FunctionPrototypeCall: P } = Qi(), L = class extends _ {
    constructor(U) {
      super(U), U?.readable === !1 && (this._readableState.readable = !1, this._readableState.ended = !0, this._readableState.endEmitted = !0), U?.writable === !1 && (this._writableState.writable = !1, this._writableState.ending = !0, this._writableState.ended = !0, this._writableState.finished = !0);
    }
  };
  e.exports = function U(V, G) {
    if (c(V))
      return V;
    if (l(V))
      return O({ readable: V });
    if (u(V))
      return O({ writable: V });
    if (s(V))
      return O({ writable: !1, readable: !1 });
    if (typeof V == "function") {
      let { value: Q, write: se, final: de, destroy: le } = F(V);
      if (o(Q))
        return x(L, Q, { objectMode: !0, write: se, final: de, destroy: le });
      let Se = Q?.then;
      if (typeof Se == "function") {
        let he, fe = P(Se, Q, (K) => {
          if (K != null)
            throw new v("nully", "body", K);
        }, (K) => {
          y(he, K);
        });
        return he = new L({ objectMode: !0, readable: !1, write: se, final(K) {
          de(async () => {
            try {
              await fe, t.nextTick(K, null);
            } catch (we) {
              t.nextTick(K, we);
            }
          });
        }, destroy: le });
      }
      throw new v("Iterable, AsyncIterable or AsyncFunction", G, Q);
    }
    if (M(V))
      return U(V.arrayBuffer());
    if (o(V))
      return x(L, V, { objectMode: !0, writable: !1 });
    if (typeof V?.writable == "object" || typeof V?.readable == "object") {
      let Q = V != null && V.readable ? l(V?.readable) ? V?.readable : U(V.readable) : void 0, se = V != null && V.writable ? u(V?.writable) ? V?.writable : U(V.writable) : void 0;
      return O({ readable: Q, writable: se });
    }
    let Z = V?.then;
    if (typeof Z == "function") {
      let Q;
      return P(Z, V, (se) => {
        se != null && Q.push(se), Q.push(null);
      }, (se) => {
        y(Q, se);
      }), Q = new L({ objectMode: !0, writable: !1, read() {
      } });
    }
    throw new p(G, ["Blob", "ReadableStream", "WritableStream", "Stream", "Iterable", "AsyncIterable", "Function", "{ readable, writable } pair", "Promise"], V);
  };
  function F(U) {
    let { promise: V, resolve: G } = S(), Z = new k(), Q = Z.signal;
    return { value: U(async function* () {
      for (; ; ) {
        let se = V;
        V = null;
        let { chunk: de, done: le, cb: Se } = await se;
        if (t.nextTick(Se), le)
          return;
        if (Q.aborted)
          throw new d(void 0, { cause: Q.reason });
        ({ promise: V, resolve: G } = S()), yield de;
      }
    }(), { signal: Q }), write(se, de, le) {
      let Se = G;
      G = null, Se({ chunk: se, done: !1, cb: le });
    }, final(se) {
      let de = G;
      G = null, de({ done: !0, cb: se });
    }, destroy(se, de) {
      Z.abort(), de(se);
    } };
  }
  function O(U) {
    let V = U.readable && typeof U.readable.read != "function" ? w.wrap(U.readable) : U.readable, G = U.writable, Z = !!a(V), Q = !!n(G), se, de, le, Se, he;
    function fe(K) {
      let we = Se;
      Se = null, we ? we(K) : K && he.destroy(K);
    }
    return he = new L({ readableObjectMode: !!(V != null && V.readableObjectMode), writableObjectMode: !!(G != null && G.writableObjectMode), readable: Z, writable: Q }), Q && (f(G, (K) => {
      Q = !1, K && y(V, K), fe(K);
    }), he._write = function(K, we, ve) {
      G.write(K, we) ? ve() : se = ve;
    }, he._final = function(K) {
      G.end(), de = K;
    }, G.on("drain", function() {
      if (se) {
        let K = se;
        se = null, K();
      }
    }), G.on("finish", function() {
      if (de) {
        let K = de;
        de = null, K();
      }
    })), Z && (f(V, (K) => {
      Z = !1, K && y(V, K), fe(K);
    }), V.on("readable", function() {
      if (le) {
        let K = le;
        le = null, K();
      }
    }), V.on("end", function() {
      he.push(null);
    }), he._read = function() {
      for (; ; ) {
        let K = V.read();
        if (K === null) {
          le = he._read;
          return;
        }
        if (!he.push(K))
          return;
      }
    }), he._destroy = function(K, we) {
      !K && Se !== null && (K = new d()), le = null, se = null, de = null, Se === null ? we(K) : (Se = we, y(G, K), y(V, K));
    }, he;
  }
}), Ou = bt((r, e) => {
  lt(), st(), ot();
  var { ObjectDefineProperties: t, ObjectGetOwnPropertyDescriptor: i, ObjectKeys: a, ObjectSetPrototypeOf: n } = Qi();
  e.exports = l;
  var o = cw(), s = nW();
  n(l.prototype, o.prototype), n(l, o);
  {
    let d = a(s.prototype);
    for (let p = 0; p < d.length; p++) {
      let v = d[p];
      l.prototype[v] || (l.prototype[v] = s.prototype[v]);
    }
  }
  function l(d) {
    if (!(this instanceof l))
      return new l(d);
    o.call(this, d), s.call(this, d), d ? (this.allowHalfOpen = d.allowHalfOpen !== !1, d.readable === !1 && (this._readableState.readable = !1, this._readableState.ended = !0, this._readableState.endEmitted = !0), d.writable === !1 && (this._writableState.writable = !1, this._writableState.ending = !0, this._writableState.ended = !0, this._writableState.finished = !0)) : this.allowHalfOpen = !0;
  }
  t(l.prototype, { writable: { __proto__: null, ...i(s.prototype, "writable") }, writableHighWaterMark: { __proto__: null, ...i(s.prototype, "writableHighWaterMark") }, writableObjectMode: { __proto__: null, ...i(s.prototype, "writableObjectMode") }, writableBuffer: { __proto__: null, ...i(s.prototype, "writableBuffer") }, writableLength: { __proto__: null, ...i(s.prototype, "writableLength") }, writableFinished: { __proto__: null, ...i(s.prototype, "writableFinished") }, writableCorked: { __proto__: null, ...i(s.prototype, "writableCorked") }, writableEnded: { __proto__: null, ...i(s.prototype, "writableEnded") }, writableNeedDrain: { __proto__: null, ...i(s.prototype, "writableNeedDrain") }, destroyed: { __proto__: null, get() {
    return this._readableState === void 0 || this._writableState === void 0 ? !1 : this._readableState.destroyed && this._writableState.destroyed;
  }, set(d) {
    this._readableState && this._writableState && (this._readableState.destroyed = d, this._writableState.destroyed = d);
  } } });
  var u;
  function c() {
    return u === void 0 && (u = {}), u;
  }
  l.fromWeb = function(d, p) {
    return c().newStreamDuplexFromReadableWritablePair(d, p);
  }, l.toWeb = function(d) {
    return c().newReadableWritablePairFromDuplex(d);
  };
  var f;
  l.from = function(d) {
    return f || (f = dae()), f(d, "body");
  };
}), iW = bt((r, e) => {
  lt(), st(), ot();
  var { ObjectSetPrototypeOf: t, Symbol: i } = Qi();
  e.exports = l;
  var { ERR_METHOD_NOT_IMPLEMENTED: a } = go().codes, n = Ou(), { getHighWaterMark: o } = jE();
  t(l.prototype, n.prototype), t(l, n);
  var s = i("kCallback");
  function l(f) {
    if (!(this instanceof l))
      return new l(f);
    let d = f ? o(this, f, "readableHighWaterMark", !0) : null;
    d === 0 && (f = { ...f, highWaterMark: null, readableHighWaterMark: d, writableHighWaterMark: f.writableHighWaterMark || 0 }), n.call(this, f), this._readableState.sync = !1, this[s] = null, f && (typeof f.transform == "function" && (this._transform = f.transform), typeof f.flush == "function" && (this._flush = f.flush)), this.on("prefinish", c);
  }
  function u(f) {
    typeof this._flush == "function" && !this.destroyed ? this._flush((d, p) => {
      if (d) {
        f ? f(d) : this.destroy(d);
        return;
      }
      p != null && this.push(p), this.push(null), f && f();
    }) : (this.push(null), f && f());
  }
  function c() {
    this._final !== u && u.call(this);
  }
  l.prototype._final = u, l.prototype._transform = function(f, d, p) {
    throw new a("_transform()");
  }, l.prototype._write = function(f, d, p) {
    let v = this._readableState, y = this._writableState, _ = v.length;
    this._transform(f, d, (w, S) => {
      if (w) {
        p(w);
        return;
      }
      S != null && this.push(S), y.ended || _ === v.length || v.length < v.highWaterMark ? p() : this[s] = p;
    });
  }, l.prototype._read = function() {
    if (this[s]) {
      let f = this[s];
      this[s] = null, f();
    }
  };
}), aW = bt((r, e) => {
  lt(), st(), ot();
  var { ObjectSetPrototypeOf: t } = Qi();
  e.exports = a;
  var i = iW();
  t(a.prototype, i.prototype), t(a, i);
  function a(n) {
    if (!(this instanceof a))
      return new a(n);
    i.call(this, n);
  }
  a.prototype._transform = function(n, o, s) {
    s(null, n);
  };
}), KE = bt((r, e) => {
  lt(), st(), ot();
  var t = ld(), { ArrayIsArray: i, Promise: a, SymbolAsyncIterator: n } = Qi(), o = nh(), { once: s } = Lu(), l = w0(), u = Ou(), { aggregateTwoErrors: c, codes: { ERR_INVALID_ARG_TYPE: f, ERR_INVALID_RETURN_VALUE: d, ERR_MISSING_ARGS: p, ERR_STREAM_DESTROYED: v, ERR_STREAM_PREMATURE_CLOSE: y }, AbortError: _ } = go(), { validateFunction: w, validateAbortSignal: S } = sw(), { isIterable: x, isReadable: E, isReadableNodeStream: M, isNodeStream: k, isTransformStream: P, isWebStream: L, isReadableStream: F, isReadableEnded: O } = ju(), U = globalThis.AbortController || $E().AbortController, V, G;
  function Z(we, ve, De) {
    let Ie = !1;
    we.on("close", () => {
      Ie = !0;
    });
    let q = o(we, { readable: ve, writable: De }, (re) => {
      Ie = !re;
    });
    return { destroy: (re) => {
      Ie || (Ie = !0, l.destroyer(we, re || new v("pipe")));
    }, cleanup: q };
  }
  function Q(we) {
    return w(we[we.length - 1], "streams[stream.length - 1]"), we.pop();
  }
  function se(we) {
    if (x(we))
      return we;
    if (M(we))
      return de(we);
    throw new f("val", ["Readable", "Iterable", "AsyncIterable"], we);
  }
  async function* de(we) {
    G || (G = cw()), yield* G.prototype[n].call(we);
  }
  async function le(we, ve, De, { end: Ie }) {
    let q, re = null, be = (ie) => {
      if (ie && (q = ie), re) {
        let xe = re;
        re = null, xe();
      }
    }, te = () => new a((ie, xe) => {
      q ? xe(q) : re = () => {
        q ? xe(q) : ie();
      };
    });
    ve.on("drain", be);
    let ne = o(ve, { readable: !1 }, be);
    try {
      ve.writableNeedDrain && await te();
      for await (let ie of we)
        ve.write(ie) || await te();
      Ie && ve.end(), await te(), De();
    } catch (ie) {
      De(q !== ie ? c(q, ie) : ie);
    } finally {
      ne(), ve.off("drain", be);
    }
  }
  async function Se(we, ve, De, { end: Ie }) {
    P(ve) && (ve = ve.writable);
    let q = ve.getWriter();
    try {
      for await (let re of we)
        await q.ready, q.write(re).catch(() => {
        });
      await q.ready, Ie && await q.close(), De();
    } catch (re) {
      try {
        await q.abort(re), De(re);
      } catch (be) {
        De(be);
      }
    }
  }
  function he(...we) {
    return fe(we, s(Q(we)));
  }
  function fe(we, ve, De) {
    if (we.length === 1 && i(we[0]) && (we = we[0]), we.length < 2)
      throw new p("streams");
    let Ie = new U(), q = Ie.signal, re = De?.signal, be = [];
    S(re, "options.signal");
    function te() {
      pe(new _());
    }
    re?.addEventListener("abort", te);
    let ne, ie, xe = [], ge = 0;
    function ae(ye) {
      pe(ye, --ge === 0);
    }
    function pe(ye, Pe) {
      if (ye && (!ne || ne.code === "ERR_STREAM_PREMATURE_CLOSE") && (ne = ye), !(!ne && !Pe)) {
        for (; xe.length; )
          xe.shift()(ne);
        re?.removeEventListener("abort", te), Ie.abort(), Pe && (ne || be.forEach((We) => We()), t.nextTick(ve, ne, ie));
      }
    }
    let ce;
    for (let ye = 0; ye < we.length; ye++) {
      let Pe = we[ye], We = ye < we.length - 1, nt = ye > 0, ft = We || De?.end !== !1, mr = ye === we.length - 1;
      if (k(Pe)) {
        let z = function(B) {
          B && B.name !== "AbortError" && B.code !== "ERR_STREAM_PREMATURE_CLOSE" && ae(B);
        };
        if (ft) {
          let { destroy: B, cleanup: Y } = Z(Pe, We, nt);
          xe.push(B), E(Pe) && mr && be.push(Y);
        }
        Pe.on("error", z), E(Pe) && mr && be.push(() => {
          Pe.removeListener("error", z);
        });
      }
      if (ye === 0)
        if (typeof Pe == "function") {
          if (ce = Pe({ signal: q }), !x(ce))
            throw new d("Iterable, AsyncIterable or Stream", "source", ce);
        } else
          x(Pe) || M(Pe) || P(Pe) ? ce = Pe : ce = u.from(Pe);
      else if (typeof Pe == "function") {
        if (P(ce)) {
          var Ee;
          ce = se((Ee = ce) === null || Ee === void 0 ? void 0 : Ee.readable);
        } else
          ce = se(ce);
        if (ce = Pe(ce, { signal: q }), We) {
          if (!x(ce, !0))
            throw new d("AsyncIterable", `transform[${ye - 1}]`, ce);
        } else {
          var ke;
          V || (V = aW());
          let z = new V({ objectMode: !0 }), B = (ke = ce) === null || ke === void 0 ? void 0 : ke.then;
          if (typeof B == "function")
            ge++, B.call(ce, (Re) => {
              ie = Re, Re != null && z.write(Re), ft && z.end(), t.nextTick(ae);
            }, (Re) => {
              z.destroy(Re), t.nextTick(ae, Re);
            });
          else if (x(ce, !0))
            ge++, le(ce, z, ae, { end: ft });
          else if (F(ce) || P(ce)) {
            let Re = ce.readable || ce;
            ge++, le(Re, z, ae, { end: ft });
          } else
            throw new d("AsyncIterable or Promise", "destination", ce);
          ce = z;
          let { destroy: Y, cleanup: Ae } = Z(ce, !1, !0);
          xe.push(Y), mr && be.push(Ae);
        }
      } else if (k(Pe)) {
        if (M(ce)) {
          ge += 2;
          let z = K(ce, Pe, ae, { end: ft });
          E(Pe) && mr && be.push(z);
        } else if (P(ce) || F(ce)) {
          let z = ce.readable || ce;
          ge++, le(z, Pe, ae, { end: ft });
        } else if (x(ce))
          ge++, le(ce, Pe, ae, { end: ft });
        else
          throw new f("val", ["Readable", "Iterable", "AsyncIterable", "ReadableStream", "TransformStream"], ce);
        ce = Pe;
      } else if (L(Pe)) {
        if (M(ce))
          ge++, Se(se(ce), Pe, ae, { end: ft });
        else if (F(ce) || x(ce))
          ge++, Se(ce, Pe, ae, { end: ft });
        else if (P(ce))
          ge++, Se(ce.readable, Pe, ae, { end: ft });
        else
          throw new f("val", ["Readable", "Iterable", "AsyncIterable", "ReadableStream", "TransformStream"], ce);
        ce = Pe;
      } else
        ce = u.from(Pe);
    }
    return (q != null && q.aborted || re != null && re.aborted) && t.nextTick(te), ce;
  }
  function K(we, ve, De, { end: Ie }) {
    let q = !1;
    if (ve.on("close", () => {
      q || De(new y());
    }), we.pipe(ve, { end: !1 }), Ie) {
      let re = function() {
        q = !0, ve.end();
      };
      O(we) ? t.nextTick(re) : we.once("end", re);
    } else
      De();
    return o(we, { readable: !0, writable: !1 }, (re) => {
      let be = we._readableState;
      re && re.code === "ERR_STREAM_PREMATURE_CLOSE" && be && be.ended && !be.errored && !be.errorEmitted ? we.once("end", De).once("error", De) : De(re);
    }), o(ve, { readable: !1, writable: !0 }, De);
  }
  e.exports = { pipelineImpl: fe, pipeline: he };
}), oW = bt((r, e) => {
  lt(), st(), ot();
  var { pipeline: t } = KE(), i = Ou(), { destroyer: a } = w0(), { isNodeStream: n, isReadable: o, isWritable: s, isWebStream: l, isTransformStream: u, isWritableStream: c, isReadableStream: f } = ju(), { AbortError: d, codes: { ERR_INVALID_ARG_VALUE: p, ERR_MISSING_ARGS: v } } = go(), y = nh();
  e.exports = function(..._) {
    if (_.length === 0)
      throw new v("streams");
    if (_.length === 1)
      return i.from(_[0]);
    let w = [..._];
    if (typeof _[0] == "function" && (_[0] = i.from(_[0])), typeof _[_.length - 1] == "function") {
      let V = _.length - 1;
      _[V] = i.from(_[V]);
    }
    for (let V = 0; V < _.length; ++V)
      if (!(!n(_[V]) && !l(_[V]))) {
        if (V < _.length - 1 && !(o(_[V]) || f(_[V]) || u(_[V])))
          throw new p(`streams[${V}]`, w[V], "must be readable");
        if (V > 0 && !(s(_[V]) || c(_[V]) || u(_[V])))
          throw new p(`streams[${V}]`, w[V], "must be writable");
      }
    let S, x, E, M, k;
    function P(V) {
      let G = M;
      M = null, G ? G(V) : V ? k.destroy(V) : !U && !O && k.destroy();
    }
    let L = _[0], F = t(_, P), O = !!(s(L) || c(L) || u(L)), U = !!(o(F) || f(F) || u(F));
    if (k = new i({ writableObjectMode: !!(L != null && L.writableObjectMode), readableObjectMode: !!(F != null && F.writableObjectMode), writable: O, readable: U }), O) {
      if (n(L))
        k._write = function(G, Z, Q) {
          L.write(G, Z) ? Q() : S = Q;
        }, k._final = function(G) {
          L.end(), x = G;
        }, L.on("drain", function() {
          if (S) {
            let G = S;
            S = null, G();
          }
        });
      else if (l(L)) {
        let G = (u(L) ? L.writable : L).getWriter();
        k._write = async function(Z, Q, se) {
          try {
            await G.ready, G.write(Z).catch(() => {
            }), se();
          } catch (de) {
            se(de);
          }
        }, k._final = async function(Z) {
          try {
            await G.ready, G.close().catch(() => {
            }), x = Z;
          } catch (Q) {
            Z(Q);
          }
        };
      }
      let V = u(F) ? F.readable : F;
      y(V, () => {
        if (x) {
          let G = x;
          x = null, G();
        }
      });
    }
    if (U) {
      if (n(F))
        F.on("readable", function() {
          if (E) {
            let V = E;
            E = null, V();
          }
        }), F.on("end", function() {
          k.push(null);
        }), k._read = function() {
          for (; ; ) {
            let V = F.read();
            if (V === null) {
              E = k._read;
              return;
            }
            if (!k.push(V))
              return;
          }
        };
      else if (l(F)) {
        let V = (u(F) ? F.readable : F).getReader();
        k._read = async function() {
          for (; ; )
            try {
              let { value: G, done: Z } = await V.read();
              if (!k.push(G))
                return;
              if (Z) {
                k.push(null);
                return;
              }
            } catch {
              return;
            }
        };
      }
    }
    return k._destroy = function(V, G) {
      !V && M !== null && (V = new d()), E = null, S = null, x = null, M === null ? G(V) : (M = G, n(F) && a(F, V));
    }, k;
  };
}), pae = bt((r, e) => {
  lt(), st(), ot();
  var t = globalThis.AbortController || $E().AbortController, { codes: { ERR_INVALID_ARG_VALUE: i, ERR_INVALID_ARG_TYPE: a, ERR_MISSING_ARGS: n, ERR_OUT_OF_RANGE: o }, AbortError: s } = go(), { validateAbortSignal: l, validateInteger: u, validateObject: c } = sw(), f = Qi().Symbol("kWeak"), { finished: d } = nh(), p = oW(), { addAbortSignalNoValidate: v } = lw(), { isWritable: y, isNodeStream: _ } = ju(), { ArrayPrototypePush: w, MathFloor: S, Number: x, NumberIsNaN: E, Promise: M, PromiseReject: k, PromisePrototypeThen: P, Symbol: L } = Qi(), F = L("kEmpty"), O = L("kEof");
  function U(Ie, q) {
    if (q != null && c(q, "options"), q?.signal != null && l(q.signal, "options.signal"), _(Ie) && !y(Ie))
      throw new i("stream", Ie, "must be writable");
    let re = p(this, Ie);
    return q != null && q.signal && v(q.signal, re), re;
  }
  function V(Ie, q) {
    if (typeof Ie != "function")
      throw new a("fn", ["Function", "AsyncFunction"], Ie);
    q != null && c(q, "options"), q?.signal != null && l(q.signal, "options.signal");
    let re = 1;
    return q?.concurrency != null && (re = S(q.concurrency)), u(re, "concurrency", 1), async function* () {
      var be, te;
      let ne = new t(), ie = this, xe = [], ge = ne.signal, ae = { signal: ge }, pe = () => ne.abort();
      q != null && (be = q.signal) !== null && be !== void 0 && be.aborted && pe(), q == null || (te = q.signal) === null || te === void 0 || te.addEventListener("abort", pe);
      let ce, Ee, ke = !1;
      function ye() {
        ke = !0;
      }
      async function Pe() {
        try {
          for await (let ft of ie) {
            var We;
            if (ke)
              return;
            if (ge.aborted)
              throw new s();
            try {
              ft = Ie(ft, ae);
            } catch (mr) {
              ft = k(mr);
            }
            ft !== F && (typeof ((We = ft) === null || We === void 0 ? void 0 : We.catch) == "function" && ft.catch(ye), xe.push(ft), ce && (ce(), ce = null), !ke && xe.length && xe.length >= re && await new M((mr) => {
              Ee = mr;
            }));
          }
          xe.push(O);
        } catch (ft) {
          let mr = k(ft);
          P(mr, void 0, ye), xe.push(mr);
        } finally {
          var nt;
          ke = !0, ce && (ce(), ce = null), q == null || (nt = q.signal) === null || nt === void 0 || nt.removeEventListener("abort", pe);
        }
      }
      Pe();
      try {
        for (; ; ) {
          for (; xe.length > 0; ) {
            let We = await xe[0];
            if (We === O)
              return;
            if (ge.aborted)
              throw new s();
            We !== F && (yield We), xe.shift(), Ee && (Ee(), Ee = null);
          }
          await new M((We) => {
            ce = We;
          });
        }
      } finally {
        ne.abort(), ke = !0, Ee && (Ee(), Ee = null);
      }
    }.call(this);
  }
  function G(Ie = void 0) {
    return Ie != null && c(Ie, "options"), Ie?.signal != null && l(Ie.signal, "options.signal"), async function* () {
      let q = 0;
      for await (let be of this) {
        var re;
        if (Ie != null && (re = Ie.signal) !== null && re !== void 0 && re.aborted)
          throw new s({ cause: Ie.signal.reason });
        yield [q++, be];
      }
    }.call(this);
  }
  async function Z(Ie, q = void 0) {
    for await (let re of le.call(this, Ie, q))
      return !0;
    return !1;
  }
  async function Q(Ie, q = void 0) {
    if (typeof Ie != "function")
      throw new a("fn", ["Function", "AsyncFunction"], Ie);
    return !await Z.call(this, async (...re) => !await Ie(...re), q);
  }
  async function se(Ie, q) {
    for await (let re of le.call(this, Ie, q))
      return re;
  }
  async function de(Ie, q) {
    if (typeof Ie != "function")
      throw new a("fn", ["Function", "AsyncFunction"], Ie);
    async function re(be, te) {
      return await Ie(be, te), F;
    }
    for await (let be of V.call(this, re, q))
      ;
  }
  function le(Ie, q) {
    if (typeof Ie != "function")
      throw new a("fn", ["Function", "AsyncFunction"], Ie);
    async function re(be, te) {
      return await Ie(be, te) ? be : F;
    }
    return V.call(this, re, q);
  }
  var Se = class extends n {
    constructor() {
      super("reduce"), this.message = "Reduce of an empty stream requires an initial value";
    }
  };
  async function he(Ie, q, re) {
    var be;
    if (typeof Ie != "function")
      throw new a("reducer", ["Function", "AsyncFunction"], Ie);
    re != null && c(re, "options"), re?.signal != null && l(re.signal, "options.signal");
    let te = arguments.length > 1;
    if (re != null && (be = re.signal) !== null && be !== void 0 && be.aborted) {
      let ae = new s(void 0, { cause: re.signal.reason });
      throw this.once("error", () => {
      }), await d(this.destroy(ae)), ae;
    }
    let ne = new t(), ie = ne.signal;
    if (re != null && re.signal) {
      let ae = { once: !0, [f]: this };
      re.signal.addEventListener("abort", () => ne.abort(), ae);
    }
    let xe = !1;
    try {
      for await (let ae of this) {
        var ge;
        if (xe = !0, re != null && (ge = re.signal) !== null && ge !== void 0 && ge.aborted)
          throw new s();
        te ? q = await Ie(q, ae, { signal: ie }) : (q = ae, te = !0);
      }
      if (!xe && !te)
        throw new Se();
    } finally {
      ne.abort();
    }
    return q;
  }
  async function fe(Ie) {
    Ie != null && c(Ie, "options"), Ie?.signal != null && l(Ie.signal, "options.signal");
    let q = [];
    for await (let be of this) {
      var re;
      if (Ie != null && (re = Ie.signal) !== null && re !== void 0 && re.aborted)
        throw new s(void 0, { cause: Ie.signal.reason });
      w(q, be);
    }
    return q;
  }
  function K(Ie, q) {
    let re = V.call(this, Ie, q);
    return async function* () {
      for await (let be of re)
        yield* be;
    }.call(this);
  }
  function we(Ie) {
    if (Ie = x(Ie), E(Ie))
      return 0;
    if (Ie < 0)
      throw new o("number", ">= 0", Ie);
    return Ie;
  }
  function ve(Ie, q = void 0) {
    return q != null && c(q, "options"), q?.signal != null && l(q.signal, "options.signal"), Ie = we(Ie), async function* () {
      var re;
      if (q != null && (re = q.signal) !== null && re !== void 0 && re.aborted)
        throw new s();
      for await (let te of this) {
        var be;
        if (q != null && (be = q.signal) !== null && be !== void 0 && be.aborted)
          throw new s();
        Ie-- <= 0 && (yield te);
      }
    }.call(this);
  }
  function De(Ie, q = void 0) {
    return q != null && c(q, "options"), q?.signal != null && l(q.signal, "options.signal"), Ie = we(Ie), async function* () {
      var re;
      if (q != null && (re = q.signal) !== null && re !== void 0 && re.aborted)
        throw new s();
      for await (let te of this) {
        var be;
        if (q != null && (be = q.signal) !== null && be !== void 0 && be.aborted)
          throw new s();
        if (Ie-- > 0)
          yield te;
        else
          return;
      }
    }.call(this);
  }
  e.exports.streamReturningOperators = { asIndexedPairs: G, drop: ve, filter: le, flatMap: K, map: V, take: De, compose: U }, e.exports.promiseReturningOperators = { every: Q, forEach: de, reduce: he, toArray: fe, some: Z, find: se };
}), sW = bt((r, e) => {
  lt(), st(), ot();
  var { ArrayPrototypePop: t, Promise: i } = Qi(), { isIterable: a, isNodeStream: n, isWebStream: o } = ju(), { pipelineImpl: s } = KE(), { finished: l } = nh();
  lW();
  function u(...c) {
    return new i((f, d) => {
      let p, v, y = c[c.length - 1];
      if (y && typeof y == "object" && !n(y) && !a(y) && !o(y)) {
        let _ = t(c);
        p = _.signal, v = _.end;
      }
      s(c, (_, w) => {
        _ ? d(_) : f(w);
      }, { signal: p, end: v });
    });
  }
  e.exports = { finished: l, pipeline: u };
}), lW = bt((r, e) => {
  lt(), st(), ot();
  var { Buffer: t } = (Ta(), zn(xa)), { ObjectDefineProperty: i, ObjectKeys: a, ReflectApply: n } = Qi(), { promisify: { custom: o } } = Lu(), { streamReturningOperators: s, promiseReturningOperators: l } = pae(), { codes: { ERR_ILLEGAL_CONSTRUCTOR: u } } = go(), c = oW(), { pipeline: f } = KE(), { destroyer: d } = w0(), p = nh(), v = sW(), y = ju(), _ = e.exports = YE().Stream;
  _.isDisturbed = y.isDisturbed, _.isErrored = y.isErrored, _.isReadable = y.isReadable, _.Readable = cw();
  for (let S of a(s)) {
    let x = function(...M) {
      if (new.target)
        throw u();
      return _.Readable.from(n(E, this, M));
    }, E = s[S];
    i(x, "name", { __proto__: null, value: E.name }), i(x, "length", { __proto__: null, value: E.length }), i(_.Readable.prototype, S, { __proto__: null, value: x, enumerable: !1, configurable: !0, writable: !0 });
  }
  for (let S of a(l)) {
    let x = function(...M) {
      if (new.target)
        throw u();
      return n(E, this, M);
    }, E = l[S];
    i(x, "name", { __proto__: null, value: E.name }), i(x, "length", { __proto__: null, value: E.length }), i(_.Readable.prototype, S, { __proto__: null, value: x, enumerable: !1, configurable: !0, writable: !0 });
  }
  _.Writable = nW(), _.Duplex = Ou(), _.Transform = iW(), _.PassThrough = aW(), _.pipeline = f;
  var { addAbortSignal: w } = lw();
  _.addAbortSignal = w, _.finished = p, _.destroy = d, _.compose = c, i(_, "promises", { __proto__: null, configurable: !0, enumerable: !0, get() {
    return v;
  } }), i(f, o, { __proto__: null, enumerable: !0, get() {
    return v.pipeline;
  } }), i(p, o, { __proto__: null, enumerable: !0, get() {
    return v.finished;
  } }), _.Stream = _, _._isUint8Array = function(S) {
    return S instanceof Uint8Array;
  }, _._uint8ArrayToBuffer = function(S) {
    return t.from(S.buffer, S.byteOffset, S.byteLength);
  };
}), cd = bt((r, e) => {
  lt(), st(), ot();
  var t = lW(), i = sW(), a = t.Readable.destroy;
  e.exports = t.Readable, e.exports._uint8ArrayToBuffer = t._uint8ArrayToBuffer, e.exports._isUint8Array = t._isUint8Array, e.exports.isDisturbed = t.isDisturbed, e.exports.isErrored = t.isErrored, e.exports.isReadable = t.isReadable, e.exports.Readable = t.Readable, e.exports.Writable = t.Writable, e.exports.Duplex = t.Duplex, e.exports.Transform = t.Transform, e.exports.PassThrough = t.PassThrough, e.exports.addAbortSignal = t.addAbortSignal, e.exports.finished = t.finished, e.exports.destroy = t.destroy, e.exports.destroy = a, e.exports.pipeline = t.pipeline, e.exports.compose = t.compose, Object.defineProperty(t, "promises", { configurable: !0, enumerable: !0, get() {
    return i;
  } }), e.exports.Stream = t.Stream, e.exports.default = e.exports;
}), vae = bt((r, e) => {
  lt(), st(), ot(), typeof Object.create == "function" ? e.exports = function(t, i) {
    i && (t.super_ = i, t.prototype = Object.create(i.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }));
  } : e.exports = function(t, i) {
    if (i) {
      t.super_ = i;
      var a = function() {
      };
      a.prototype = i.prototype, t.prototype = new a(), t.prototype.constructor = t;
    }
  };
}), gae = bt((r, e) => {
  lt(), st(), ot();
  var { Buffer: t } = (Ta(), zn(xa)), i = Symbol.for("BufferList");
  function a(n) {
    if (!(this instanceof a))
      return new a(n);
    a._init.call(this, n);
  }
  a._init = function(n) {
    Object.defineProperty(this, i, { value: !0 }), this._bufs = [], this.length = 0, n && this.append(n);
  }, a.prototype._new = function(n) {
    return new a(n);
  }, a.prototype._offset = function(n) {
    if (n === 0)
      return [0, 0];
    let o = 0;
    for (let s = 0; s < this._bufs.length; s++) {
      let l = o + this._bufs[s].length;
      if (n < l || s === this._bufs.length - 1)
        return [s, n - o];
      o = l;
    }
  }, a.prototype._reverseOffset = function(n) {
    let o = n[0], s = n[1];
    for (let l = 0; l < o; l++)
      s += this._bufs[l].length;
    return s;
  }, a.prototype.get = function(n) {
    if (n > this.length || n < 0)
      return;
    let o = this._offset(n);
    return this._bufs[o[0]][o[1]];
  }, a.prototype.slice = function(n, o) {
    return typeof n == "number" && n < 0 && (n += this.length), typeof o == "number" && o < 0 && (o += this.length), this.copy(null, 0, n, o);
  }, a.prototype.copy = function(n, o, s, l) {
    if ((typeof s != "number" || s < 0) && (s = 0), (typeof l != "number" || l > this.length) && (l = this.length), s >= this.length || l <= 0)
      return n || t.alloc(0);
    let u = !!n, c = this._offset(s), f = l - s, d = f, p = u && o || 0, v = c[1];
    if (s === 0 && l === this.length) {
      if (!u)
        return this._bufs.length === 1 ? this._bufs[0] : t.concat(this._bufs, this.length);
      for (let y = 0; y < this._bufs.length; y++)
        this._bufs[y].copy(n, p), p += this._bufs[y].length;
      return n;
    }
    if (d <= this._bufs[c[0]].length - v)
      return u ? this._bufs[c[0]].copy(n, o, v, v + d) : this._bufs[c[0]].slice(v, v + d);
    u || (n = t.allocUnsafe(f));
    for (let y = c[0]; y < this._bufs.length; y++) {
      let _ = this._bufs[y].length - v;
      if (d > _)
        this._bufs[y].copy(n, p, v), p += _;
      else {
        this._bufs[y].copy(n, p, v, v + d), p += _;
        break;
      }
      d -= _, v && (v = 0);
    }
    return n.length > p ? n.slice(0, p) : n;
  }, a.prototype.shallowSlice = function(n, o) {
    if (n = n || 0, o = typeof o != "number" ? this.length : o, n < 0 && (n += this.length), o < 0 && (o += this.length), n === o)
      return this._new();
    let s = this._offset(n), l = this._offset(o), u = this._bufs.slice(s[0], l[0] + 1);
    return l[1] === 0 ? u.pop() : u[u.length - 1] = u[u.length - 1].slice(0, l[1]), s[1] !== 0 && (u[0] = u[0].slice(s[1])), this._new(u);
  }, a.prototype.toString = function(n, o, s) {
    return this.slice(o, s).toString(n);
  }, a.prototype.consume = function(n) {
    if (n = Math.trunc(n), Number.isNaN(n) || n <= 0)
      return this;
    for (; this._bufs.length; )
      if (n >= this._bufs[0].length)
        n -= this._bufs[0].length, this.length -= this._bufs[0].length, this._bufs.shift();
      else {
        this._bufs[0] = this._bufs[0].slice(n), this.length -= n;
        break;
      }
    return this;
  }, a.prototype.duplicate = function() {
    let n = this._new();
    for (let o = 0; o < this._bufs.length; o++)
      n.append(this._bufs[o]);
    return n;
  }, a.prototype.append = function(n) {
    if (n == null)
      return this;
    if (n.buffer)
      this._appendBuffer(t.from(n.buffer, n.byteOffset, n.byteLength));
    else if (Array.isArray(n))
      for (let o = 0; o < n.length; o++)
        this.append(n[o]);
    else if (this._isBufferList(n))
      for (let o = 0; o < n._bufs.length; o++)
        this.append(n._bufs[o]);
    else
      typeof n == "number" && (n = n.toString()), this._appendBuffer(t.from(n));
    return this;
  }, a.prototype._appendBuffer = function(n) {
    this._bufs.push(n), this.length += n.length;
  }, a.prototype.indexOf = function(n, o, s) {
    if (s === void 0 && typeof o == "string" && (s = o, o = void 0), typeof n == "function" || Array.isArray(n))
      throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');
    if (typeof n == "number" ? n = t.from([n]) : typeof n == "string" ? n = t.from(n, s) : this._isBufferList(n) ? n = n.slice() : Array.isArray(n.buffer) ? n = t.from(n.buffer, n.byteOffset, n.byteLength) : t.isBuffer(n) || (n = t.from(n)), o = Number(o || 0), isNaN(o) && (o = 0), o < 0 && (o = this.length + o), o < 0 && (o = 0), n.length === 0)
      return o > this.length ? this.length : o;
    let l = this._offset(o), u = l[0], c = l[1];
    for (; u < this._bufs.length; u++) {
      let f = this._bufs[u];
      for (; c < f.length; )
        if (f.length - c >= n.length) {
          let d = f.indexOf(n, c);
          if (d !== -1)
            return this._reverseOffset([u, d]);
          c = f.length - n.length + 1;
        } else {
          let d = this._reverseOffset([u, c]);
          if (this._match(d, n))
            return d;
          c++;
        }
      c = 0;
    }
    return -1;
  }, a.prototype._match = function(n, o) {
    if (this.length - n < o.length)
      return !1;
    for (let s = 0; s < o.length; s++)
      if (this.get(n + s) !== o[s])
        return !1;
    return !0;
  }, function() {
    let n = { readDoubleBE: 8, readDoubleLE: 8, readFloatBE: 4, readFloatLE: 4, readBigInt64BE: 8, readBigInt64LE: 8, readBigUInt64BE: 8, readBigUInt64LE: 8, readInt32BE: 4, readInt32LE: 4, readUInt32BE: 4, readUInt32LE: 4, readInt16BE: 2, readInt16LE: 2, readUInt16BE: 2, readUInt16LE: 2, readInt8: 1, readUInt8: 1, readIntBE: null, readIntLE: null, readUIntBE: null, readUIntLE: null };
    for (let o in n)
      (function(s) {
        n[s] === null ? a.prototype[s] = function(l, u) {
          return this.slice(l, l + u)[s](0, u);
        } : a.prototype[s] = function(l = 0) {
          return this.slice(l, l + n[s])[s](0);
        };
      })(o);
  }(), a.prototype._isBufferList = function(n) {
    return n instanceof a || a.isBufferList(n);
  }, a.isBufferList = function(n) {
    return n != null && n[i];
  }, e.exports = a;
}), mae = bt((r, e) => {
  lt(), st(), ot();
  var t = cd().Duplex, i = vae(), a = gae();
  function n(o) {
    if (!(this instanceof n))
      return new n(o);
    if (typeof o == "function") {
      this._callback = o;
      let s = function(l) {
        this._callback && (this._callback(l), this._callback = null);
      }.bind(this);
      this.on("pipe", function(l) {
        l.on("error", s);
      }), this.on("unpipe", function(l) {
        l.removeListener("error", s);
      }), o = null;
    }
    a._init.call(this, o), t.call(this);
  }
  i(n, t), Object.assign(n.prototype, a.prototype), n.prototype._new = function(o) {
    return new n(o);
  }, n.prototype._write = function(o, s, l) {
    this._appendBuffer(o), typeof l == "function" && l();
  }, n.prototype._read = function(o) {
    if (!this.length)
      return this.push(null);
    o = Math.min(o, this.length), this.push(this.slice(0, o)), this.consume(o);
  }, n.prototype.end = function(o) {
    t.prototype.end.call(this, o), this._callback && (this._callback(null, this.slice()), this._callback = null);
  }, n.prototype._destroy = function(o, s) {
    this._bufs.length = 0, this.length = 0, s(o);
  }, n.prototype._isBufferList = function(o) {
    return o instanceof n || o instanceof a || n.isBufferList(o);
  }, n.isBufferList = a.isBufferList, e.exports = n, e.exports.BufferListStream = n, e.exports.BufferList = a;
}), yae = bt((r, e) => {
  lt(), st(), ot();
  var t = class {
    constructor() {
      this.cmd = null, this.retain = !1, this.qos = 0, this.dup = !1, this.length = -1, this.topic = null, this.payload = null;
    }
  };
  e.exports = t;
}), uW = bt((r, e) => {
  lt(), st(), ot();
  var t = e.exports, { Buffer: i } = (Ta(), zn(xa));
  t.types = { 0: "reserved", 1: "connect", 2: "connack", 3: "publish", 4: "puback", 5: "pubrec", 6: "pubrel", 7: "pubcomp", 8: "subscribe", 9: "suback", 10: "unsubscribe", 11: "unsuback", 12: "pingreq", 13: "pingresp", 14: "disconnect", 15: "auth" }, t.requiredHeaderFlags = { 1: 0, 2: 0, 4: 0, 5: 0, 6: 2, 7: 0, 8: 2, 9: 0, 10: 2, 11: 0, 12: 0, 13: 0, 14: 0, 15: 0 }, t.requiredHeaderFlagsErrors = {};
  for (let n in t.requiredHeaderFlags) {
    let o = t.requiredHeaderFlags[n];
    t.requiredHeaderFlagsErrors[n] = "Invalid header flag bits, must be 0x" + o.toString(16) + " for " + t.types[n] + " packet";
  }
  t.codes = {};
  for (let n in t.types) {
    let o = t.types[n];
    t.codes[o] = n;
  }
  t.CMD_SHIFT = 4, t.CMD_MASK = 240, t.DUP_MASK = 8, t.QOS_MASK = 3, t.QOS_SHIFT = 1, t.RETAIN_MASK = 1, t.VARBYTEINT_MASK = 127, t.VARBYTEINT_FIN_MASK = 128, t.VARBYTEINT_MAX = 268435455, t.SESSIONPRESENT_MASK = 1, t.SESSIONPRESENT_HEADER = i.from([t.SESSIONPRESENT_MASK]), t.CONNACK_HEADER = i.from([t.codes.connack << t.CMD_SHIFT]), t.USERNAME_MASK = 128, t.PASSWORD_MASK = 64, t.WILL_RETAIN_MASK = 32, t.WILL_QOS_MASK = 24, t.WILL_QOS_SHIFT = 3, t.WILL_FLAG_MASK = 4, t.CLEAN_SESSION_MASK = 2, t.CONNECT_HEADER = i.from([t.codes.connect << t.CMD_SHIFT]), t.properties = { sessionExpiryInterval: 17, willDelayInterval: 24, receiveMaximum: 33, maximumPacketSize: 39, topicAliasMaximum: 34, requestResponseInformation: 25, requestProblemInformation: 23, userProperties: 38, authenticationMethod: 21, authenticationData: 22, payloadFormatIndicator: 1, messageExpiryInterval: 2, contentType: 3, responseTopic: 8, correlationData: 9, maximumQoS: 36, retainAvailable: 37, assignedClientIdentifier: 18, reasonString: 31, wildcardSubscriptionAvailable: 40, subscriptionIdentifiersAvailable: 41, sharedSubscriptionAvailable: 42, serverKeepAlive: 19, responseInformation: 26, serverReference: 28, topicAlias: 35, subscriptionIdentifier: 11 }, t.propertiesCodes = {};
  for (let n in t.properties) {
    let o = t.properties[n];
    t.propertiesCodes[o] = n;
  }
  t.propertiesTypes = { sessionExpiryInterval: "int32", willDelayInterval: "int32", receiveMaximum: "int16", maximumPacketSize: "int32", topicAliasMaximum: "int16", requestResponseInformation: "byte", requestProblemInformation: "byte", userProperties: "pair", authenticationMethod: "string", authenticationData: "binary", payloadFormatIndicator: "byte", messageExpiryInterval: "int32", contentType: "string", responseTopic: "string", correlationData: "binary", maximumQoS: "int8", retainAvailable: "byte", assignedClientIdentifier: "string", reasonString: "string", wildcardSubscriptionAvailable: "byte", subscriptionIdentifiersAvailable: "byte", sharedSubscriptionAvailable: "byte", serverKeepAlive: "int16", responseInformation: "string", serverReference: "string", topicAlias: "int16", subscriptionIdentifier: "var" };
  function a(n) {
    return [0, 1, 2].map((o) => [0, 1].map((s) => [0, 1].map((l) => {
      let u = i.alloc(1);
      return u.writeUInt8(t.codes[n] << t.CMD_SHIFT | (s ? t.DUP_MASK : 0) | o << t.QOS_SHIFT | l, 0, !0), u;
    })));
  }
  t.PUBLISH_HEADER = a("publish"), t.SUBSCRIBE_HEADER = a("subscribe"), t.SUBSCRIBE_OPTIONS_QOS_MASK = 3, t.SUBSCRIBE_OPTIONS_NL_MASK = 1, t.SUBSCRIBE_OPTIONS_NL_SHIFT = 2, t.SUBSCRIBE_OPTIONS_RAP_MASK = 1, t.SUBSCRIBE_OPTIONS_RAP_SHIFT = 3, t.SUBSCRIBE_OPTIONS_RH_MASK = 3, t.SUBSCRIBE_OPTIONS_RH_SHIFT = 4, t.SUBSCRIBE_OPTIONS_RH = [0, 16, 32], t.SUBSCRIBE_OPTIONS_NL = 4, t.SUBSCRIBE_OPTIONS_RAP = 8, t.SUBSCRIBE_OPTIONS_QOS = [0, 1, 2], t.UNSUBSCRIBE_HEADER = a("unsubscribe"), t.ACKS = { unsuback: a("unsuback"), puback: a("puback"), pubcomp: a("pubcomp"), pubrel: a("pubrel"), pubrec: a("pubrec") }, t.SUBACK_HEADER = i.from([t.codes.suback << t.CMD_SHIFT]), t.VERSION3 = i.from([3]), t.VERSION4 = i.from([4]), t.VERSION5 = i.from([5]), t.VERSION131 = i.from([131]), t.VERSION132 = i.from([132]), t.QOS = [0, 1, 2].map((n) => i.from([n])), t.EMPTY = { pingreq: i.from([t.codes.pingreq << 4, 0]), pingresp: i.from([t.codes.pingresp << 4, 0]), disconnect: i.from([t.codes.disconnect << 4, 0]) }, t.MQTT5_PUBACK_PUBREC_CODES = { 0: "Success", 16: "No matching subscribers", 128: "Unspecified error", 131: "Implementation specific error", 135: "Not authorized", 144: "Topic Name invalid", 145: "Packet identifier in use", 151: "Quota exceeded", 153: "Payload format invalid" }, t.MQTT5_PUBREL_PUBCOMP_CODES = { 0: "Success", 146: "Packet Identifier not found" }, t.MQTT5_SUBACK_CODES = { 0: "Granted QoS 0", 1: "Granted QoS 1", 2: "Granted QoS 2", 128: "Unspecified error", 131: "Implementation specific error", 135: "Not authorized", 143: "Topic Filter invalid", 145: "Packet Identifier in use", 151: "Quota exceeded", 158: "Shared Subscriptions not supported", 161: "Subscription Identifiers not supported", 162: "Wildcard Subscriptions not supported" }, t.MQTT5_UNSUBACK_CODES = { 0: "Success", 17: "No subscription existed", 128: "Unspecified error", 131: "Implementation specific error", 135: "Not authorized", 143: "Topic Filter invalid", 145: "Packet Identifier in use" }, t.MQTT5_DISCONNECT_CODES = { 0: "Normal disconnection", 4: "Disconnect with Will Message", 128: "Unspecified error", 129: "Malformed Packet", 130: "Protocol Error", 131: "Implementation specific error", 135: "Not authorized", 137: "Server busy", 139: "Server shutting down", 141: "Keep Alive timeout", 142: "Session taken over", 143: "Topic Filter invalid", 144: "Topic Name invalid", 147: "Receive Maximum exceeded", 148: "Topic Alias invalid", 149: "Packet too large", 150: "Message rate too high", 151: "Quota exceeded", 152: "Administrative action", 153: "Payload format invalid", 154: "Retain not supported", 155: "QoS not supported", 156: "Use another server", 157: "Server moved", 158: "Shared Subscriptions not supported", 159: "Connection rate exceeded", 160: "Maximum connect time", 161: "Subscription Identifiers not supported", 162: "Wildcard Subscriptions not supported" }, t.MQTT5_AUTH_CODES = { 0: "Success", 24: "Continue authentication", 25: "Re-authenticate" };
}), _ae = bt((r, e) => {
  lt(), st(), ot();
  var t = 1e3, i = t * 60, a = i * 60, n = a * 24, o = n * 7, s = n * 365.25;
  e.exports = function(d, p) {
    p = p || {};
    var v = typeof d;
    if (v === "string" && d.length > 0)
      return l(d);
    if (v === "number" && isFinite(d))
      return p.long ? c(d) : u(d);
    throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(d));
  };
  function l(d) {
    if (d = String(d), !(d.length > 100)) {
      var p = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);
      if (p) {
        var v = parseFloat(p[1]), y = (p[2] || "ms").toLowerCase();
        switch (y) {
          case "years":
          case "year":
          case "yrs":
          case "yr":
          case "y":
            return v * s;
          case "weeks":
          case "week":
          case "w":
            return v * o;
          case "days":
          case "day":
          case "d":
            return v * n;
          case "hours":
          case "hour":
          case "hrs":
          case "hr":
          case "h":
            return v * a;
          case "minutes":
          case "minute":
          case "mins":
          case "min":
          case "m":
            return v * i;
          case "seconds":
          case "second":
          case "secs":
          case "sec":
          case "s":
            return v * t;
          case "milliseconds":
          case "millisecond":
          case "msecs":
          case "msec":
          case "ms":
            return v;
          default:
            return;
        }
      }
    }
  }
  function u(d) {
    var p = Math.abs(d);
    return p >= n ? Math.round(d / n) + "d" : p >= a ? Math.round(d / a) + "h" : p >= i ? Math.round(d / i) + "m" : p >= t ? Math.round(d / t) + "s" : d + "ms";
  }
  function c(d) {
    var p = Math.abs(d);
    return p >= n ? f(d, p, n, "day") : p >= a ? f(d, p, a, "hour") : p >= i ? f(d, p, i, "minute") : p >= t ? f(d, p, t, "second") : d + " ms";
  }
  function f(d, p, v, y) {
    var _ = p >= v * 1.5;
    return Math.round(d / v) + " " + y + (_ ? "s" : "");
  }
}), bae = bt((r, e) => {
  lt(), st(), ot();
  function t(i) {
    n.debug = n, n.default = n, n.coerce = f, n.disable = l, n.enable = s, n.enabled = u, n.humanize = _ae(), n.destroy = d, Object.keys(i).forEach((p) => {
      n[p] = i[p];
    }), n.names = [], n.skips = [], n.formatters = {};
    function a(p) {
      let v = 0;
      for (let y = 0; y < p.length; y++)
        v = (v << 5) - v + p.charCodeAt(y), v |= 0;
      return n.colors[Math.abs(v) % n.colors.length];
    }
    n.selectColor = a;
    function n(p) {
      let v, y = null, _, w;
      function S(...x) {
        if (!S.enabled)
          return;
        let E = S, M = Number(/* @__PURE__ */ new Date()), k = M - (v || M);
        E.diff = k, E.prev = v, E.curr = M, v = M, x[0] = n.coerce(x[0]), typeof x[0] != "string" && x.unshift("%O");
        let P = 0;
        x[0] = x[0].replace(/%([a-zA-Z%])/g, (L, F) => {
          if (L === "%%")
            return "%";
          P++;
          let O = n.formatters[F];
          if (typeof O == "function") {
            let U = x[P];
            L = O.call(E, U), x.splice(P, 1), P--;
          }
          return L;
        }), n.formatArgs.call(E, x), (E.log || n.log).apply(E, x);
      }
      return S.namespace = p, S.useColors = n.useColors(), S.color = n.selectColor(p), S.extend = o, S.destroy = n.destroy, Object.defineProperty(S, "enabled", { enumerable: !0, configurable: !1, get: () => y !== null ? y : (_ !== n.namespaces && (_ = n.namespaces, w = n.enabled(p)), w), set: (x) => {
        y = x;
      } }), typeof n.init == "function" && n.init(S), S;
    }
    function o(p, v) {
      let y = n(this.namespace + (typeof v > "u" ? ":" : v) + p);
      return y.log = this.log, y;
    }
    function s(p) {
      n.save(p), n.namespaces = p, n.names = [], n.skips = [];
      let v, y = (typeof p == "string" ? p : "").split(/[\s,]+/), _ = y.length;
      for (v = 0; v < _; v++)
        y[v] && (p = y[v].replace(/\*/g, ".*?"), p[0] === "-" ? n.skips.push(new RegExp("^" + p.slice(1) + "$")) : n.names.push(new RegExp("^" + p + "$")));
    }
    function l() {
      let p = [...n.names.map(c), ...n.skips.map(c).map((v) => "-" + v)].join(",");
      return n.enable(""), p;
    }
    function u(p) {
      if (p[p.length - 1] === "*")
        return !0;
      let v, y;
      for (v = 0, y = n.skips.length; v < y; v++)
        if (n.skips[v].test(p))
          return !1;
      for (v = 0, y = n.names.length; v < y; v++)
        if (n.names[v].test(p))
          return !0;
      return !1;
    }
    function c(p) {
      return p.toString().substring(2, p.toString().length - 2).replace(/\.\*\?$/, "*");
    }
    function f(p) {
      return p instanceof Error ? p.stack || p.message : p;
    }
    function d() {
      console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");
    }
    return n.enable(n.load()), n;
  }
  e.exports = t;
}), Fu = bt((r, e) => {
  lt(), st(), ot(), r.formatArgs = i, r.save = a, r.load = n, r.useColors = t, r.storage = o(), r.destroy = (() => {
    let l = !1;
    return () => {
      l || (l = !0, console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."));
    };
  })(), r.colors = ["#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33"];
  function t() {
    return typeof window < "u" && window.process && (window.process.type === "renderer" || window.process.__nwjs) ? !0 : typeof Za < "u" && Za.userAgent && Za.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/) ? !1 : typeof document < "u" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || typeof window < "u" && window.console && (window.console.firebug || window.console.exception && window.console.table) || typeof Za < "u" && Za.userAgent && Za.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || typeof Za < "u" && Za.userAgent && Za.userAgent.toLowerCase().match(/applewebkit\/(\d+)/);
  }
  function i(l) {
    if (l[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + l[0] + (this.useColors ? "%c " : " ") + "+" + e.exports.humanize(this.diff), !this.useColors)
      return;
    let u = "color: " + this.color;
    l.splice(1, 0, u, "color: inherit");
    let c = 0, f = 0;
    l[0].replace(/%[a-zA-Z%]/g, (d) => {
      d !== "%%" && (c++, d === "%c" && (f = c));
    }), l.splice(f, 0, u);
  }
  r.log = console.debug || console.log || (() => {
  });
  function a(l) {
    try {
      l ? r.storage.setItem("debug", l) : r.storage.removeItem("debug");
    } catch {
    }
  }
  function n() {
    let l;
    try {
      l = r.storage.getItem("debug");
    } catch {
    }
    return !l && typeof An < "u" && "env" in An && (l = An.env.DEBUG), l;
  }
  function o() {
    try {
      return localStorage;
    } catch {
    }
  }
  e.exports = bae()(r);
  var { formatters: s } = e.exports;
  s.j = function(l) {
    try {
      return JSON.stringify(l);
    } catch (u) {
      return "[UnexpectedJSONParseError]: " + u.message;
    }
  };
}), wae = bt((r, e) => {
  lt(), st(), ot();
  var t = mae(), { EventEmitter: i } = (S0(), zn(ud)), a = yae(), n = uW(), o = Fu()("mqtt-packet:parser"), s = class XC extends i {
    constructor() {
      super(), this.parser = this.constructor.parser;
    }
    static parser(u) {
      return this instanceof XC ? (this.settings = u || {}, this._states = ["_parseHeader", "_parseLength", "_parsePayload", "_newPacket"], this._resetState(), this) : new XC().parser(u);
    }
    _resetState() {
      o("_resetState: resetting packet, error, _list, and _stateCounter"), this.packet = new a(), this.error = null, this._list = t(), this._stateCounter = 0;
    }
    parse(u) {
      for (this.error && this._resetState(), this._list.append(u), o("parse: current state: %s", this._states[this._stateCounter]); (this.packet.length !== -1 || this._list.length > 0) && this[this._states[this._stateCounter]]() && !this.error; )
        this._stateCounter++, o("parse: state complete. _stateCounter is now: %d", this._stateCounter), o("parse: packet.length: %d, buffer list length: %d", this.packet.length, this._list.length), this._stateCounter >= this._states.length && (this._stateCounter = 0);
      return o("parse: exited while loop. packet: %d, buffer list length: %d", this.packet.length, this._list.length), this._list.length;
    }
    _parseHeader() {
      let u = this._list.readUInt8(0), c = u >> n.CMD_SHIFT;
      this.packet.cmd = n.types[c];
      let f = u & 15, d = n.requiredHeaderFlags[c];
      return d != null && f !== d ? this._emitError(new Error(n.requiredHeaderFlagsErrors[c])) : (this.packet.retain = (u & n.RETAIN_MASK) !== 0, this.packet.qos = u >> n.QOS_SHIFT & n.QOS_MASK, this.packet.qos > 2 ? this._emitError(new Error("Packet must not have both QoS bits set to 1")) : (this.packet.dup = (u & n.DUP_MASK) !== 0, o("_parseHeader: packet: %o", this.packet), this._list.consume(1), !0));
    }
    _parseLength() {
      let u = this._parseVarByteNum(!0);
      return u && (this.packet.length = u.value, this._list.consume(u.bytes)), o("_parseLength %d", u.value), !!u;
    }
    _parsePayload() {
      o("_parsePayload: payload %O", this._list);
      let u = !1;
      if (this.packet.length === 0 || this._list.length >= this.packet.length) {
        switch (this._pos = 0, this.packet.cmd) {
          case "connect":
            this._parseConnect();
            break;
          case "connack":
            this._parseConnack();
            break;
          case "publish":
            this._parsePublish();
            break;
          case "puback":
          case "pubrec":
          case "pubrel":
          case "pubcomp":
            this._parseConfirmation();
            break;
          case "subscribe":
            this._parseSubscribe();
            break;
          case "suback":
            this._parseSuback();
            break;
          case "unsubscribe":
            this._parseUnsubscribe();
            break;
          case "unsuback":
            this._parseUnsuback();
            break;
          case "pingreq":
          case "pingresp":
            break;
          case "disconnect":
            this._parseDisconnect();
            break;
          case "auth":
            this._parseAuth();
            break;
          default:
            this._emitError(new Error("Not supported"));
        }
        u = !0;
      }
      return o("_parsePayload complete result: %s", u), u;
    }
    _parseConnect() {
      o("_parseConnect");
      let u, c, f, d, p = {}, v = this.packet, y = this._parseString();
      if (y === null)
        return this._emitError(new Error("Cannot parse protocolId"));
      if (y !== "MQTT" && y !== "MQIsdp")
        return this._emitError(new Error("Invalid protocolId"));
      if (v.protocolId = y, this._pos >= this._list.length)
        return this._emitError(new Error("Packet too short"));
      if (v.protocolVersion = this._list.readUInt8(this._pos), v.protocolVersion >= 128 && (v.bridgeMode = !0, v.protocolVersion = v.protocolVersion - 128), v.protocolVersion !== 3 && v.protocolVersion !== 4 && v.protocolVersion !== 5)
        return this._emitError(new Error("Invalid protocol version"));
      if (this._pos++, this._pos >= this._list.length)
        return this._emitError(new Error("Packet too short"));
      if (this._list.readUInt8(this._pos) & 1)
        return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));
      p.username = this._list.readUInt8(this._pos) & n.USERNAME_MASK, p.password = this._list.readUInt8(this._pos) & n.PASSWORD_MASK, p.will = this._list.readUInt8(this._pos) & n.WILL_FLAG_MASK;
      let _ = !!(this._list.readUInt8(this._pos) & n.WILL_RETAIN_MASK), w = (this._list.readUInt8(this._pos) & n.WILL_QOS_MASK) >> n.WILL_QOS_SHIFT;
      if (p.will)
        v.will = {}, v.will.retain = _, v.will.qos = w;
      else {
        if (_)
          return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));
        if (w)
          return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"));
      }
      if (v.clean = (this._list.readUInt8(this._pos) & n.CLEAN_SESSION_MASK) !== 0, this._pos++, v.keepalive = this._parseNum(), v.keepalive === -1)
        return this._emitError(new Error("Packet too short"));
      if (v.protocolVersion === 5) {
        let x = this._parseProperties();
        Object.getOwnPropertyNames(x).length && (v.properties = x);
      }
      let S = this._parseString();
      if (S === null)
        return this._emitError(new Error("Packet too short"));
      if (v.clientId = S, o("_parseConnect: packet.clientId: %s", v.clientId), p.will) {
        if (v.protocolVersion === 5) {
          let x = this._parseProperties();
          Object.getOwnPropertyNames(x).length && (v.will.properties = x);
        }
        if (u = this._parseString(), u === null)
          return this._emitError(new Error("Cannot parse will topic"));
        if (v.will.topic = u, o("_parseConnect: packet.will.topic: %s", v.will.topic), c = this._parseBuffer(), c === null)
          return this._emitError(new Error("Cannot parse will payload"));
        v.will.payload = c, o("_parseConnect: packet.will.paylaod: %s", v.will.payload);
      }
      if (p.username) {
        if (d = this._parseString(), d === null)
          return this._emitError(new Error("Cannot parse username"));
        v.username = d, o("_parseConnect: packet.username: %s", v.username);
      }
      if (p.password) {
        if (f = this._parseBuffer(), f === null)
          return this._emitError(new Error("Cannot parse password"));
        v.password = f;
      }
      return this.settings = v, o("_parseConnect: complete"), v;
    }
    _parseConnack() {
      o("_parseConnack");
      let u = this.packet;
      if (this._list.length < 1)
        return null;
      let c = this._list.readUInt8(this._pos++);
      if (c > 1)
        return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));
      if (u.sessionPresent = !!(c & n.SESSIONPRESENT_MASK), this.settings.protocolVersion === 5)
        this._list.length >= 2 ? u.reasonCode = this._list.readUInt8(this._pos++) : u.reasonCode = 0;
      else {
        if (this._list.length < 2)
          return null;
        u.returnCode = this._list.readUInt8(this._pos++);
      }
      if (u.returnCode === -1 || u.reasonCode === -1)
        return this._emitError(new Error("Cannot parse return code"));
      if (this.settings.protocolVersion === 5) {
        let f = this._parseProperties();
        Object.getOwnPropertyNames(f).length && (u.properties = f);
      }
      o("_parseConnack: complete");
    }
    _parsePublish() {
      o("_parsePublish");
      let u = this.packet;
      if (u.topic = this._parseString(), u.topic === null)
        return this._emitError(new Error("Cannot parse topic"));
      if (!(u.qos > 0 && !this._parseMessageId())) {
        if (this.settings.protocolVersion === 5) {
          let c = this._parseProperties();
          Object.getOwnPropertyNames(c).length && (u.properties = c);
        }
        u.payload = this._list.slice(this._pos, u.length), o("_parsePublish: payload from buffer list: %o", u.payload);
      }
    }
    _parseSubscribe() {
      o("_parseSubscribe");
      let u = this.packet, c, f, d, p, v, y, _;
      if (u.subscriptions = [], !!this._parseMessageId()) {
        if (this.settings.protocolVersion === 5) {
          let w = this._parseProperties();
          Object.getOwnPropertyNames(w).length && (u.properties = w);
        }
        if (u.length <= 0)
          return this._emitError(new Error("Malformed subscribe, no payload specified"));
        for (; this._pos < u.length; ) {
          if (c = this._parseString(), c === null)
            return this._emitError(new Error("Cannot parse topic"));
          if (this._pos >= u.length)
            return this._emitError(new Error("Malformed Subscribe Payload"));
          if (f = this._parseByte(), this.settings.protocolVersion === 5) {
            if (f & 192)
              return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"));
          } else if (f & 252)
            return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));
          if (d = f & n.SUBSCRIBE_OPTIONS_QOS_MASK, d > 2)
            return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));
          if (y = (f >> n.SUBSCRIBE_OPTIONS_NL_SHIFT & n.SUBSCRIBE_OPTIONS_NL_MASK) !== 0, v = (f >> n.SUBSCRIBE_OPTIONS_RAP_SHIFT & n.SUBSCRIBE_OPTIONS_RAP_MASK) !== 0, p = f >> n.SUBSCRIBE_OPTIONS_RH_SHIFT & n.SUBSCRIBE_OPTIONS_RH_MASK, p > 2)
            return this._emitError(new Error("Invalid retain handling, must be <= 2"));
          _ = { topic: c, qos: d }, this.settings.protocolVersion === 5 ? (_.nl = y, _.rap = v, _.rh = p) : this.settings.bridgeMode && (_.rh = 0, _.rap = !0, _.nl = !0), o("_parseSubscribe: push subscription `%s` to subscription", _), u.subscriptions.push(_);
        }
      }
    }
    _parseSuback() {
      o("_parseSuback");
      let u = this.packet;
      if (this.packet.granted = [], !!this._parseMessageId()) {
        if (this.settings.protocolVersion === 5) {
          let c = this._parseProperties();
          Object.getOwnPropertyNames(c).length && (u.properties = c);
        }
        if (u.length <= 0)
          return this._emitError(new Error("Malformed suback, no payload specified"));
        for (; this._pos < this.packet.length; ) {
          let c = this._list.readUInt8(this._pos++);
          if (this.settings.protocolVersion === 5) {
            if (!n.MQTT5_SUBACK_CODES[c])
              return this._emitError(new Error("Invalid suback code"));
          } else if (c > 2 && c !== 128)
            return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));
          this.packet.granted.push(c);
        }
      }
    }
    _parseUnsubscribe() {
      o("_parseUnsubscribe");
      let u = this.packet;
      if (u.unsubscriptions = [], !!this._parseMessageId()) {
        if (this.settings.protocolVersion === 5) {
          let c = this._parseProperties();
          Object.getOwnPropertyNames(c).length && (u.properties = c);
        }
        if (u.length <= 0)
          return this._emitError(new Error("Malformed unsubscribe, no payload specified"));
        for (; this._pos < u.length; ) {
          let c = this._parseString();
          if (c === null)
            return this._emitError(new Error("Cannot parse topic"));
          o("_parseUnsubscribe: push topic `%s` to unsubscriptions", c), u.unsubscriptions.push(c);
        }
      }
    }
    _parseUnsuback() {
      o("_parseUnsuback");
      let u = this.packet;
      if (!this._parseMessageId())
        return this._emitError(new Error("Cannot parse messageId"));
      if ((this.settings.protocolVersion === 3 || this.settings.protocolVersion === 4) && u.length !== 2)
        return this._emitError(new Error("Malformed unsuback, payload length must be 2"));
      if (u.length <= 0)
        return this._emitError(new Error("Malformed unsuback, no payload specified"));
      if (this.settings.protocolVersion === 5) {
        let c = this._parseProperties();
        for (Object.getOwnPropertyNames(c).length && (u.properties = c), u.granted = []; this._pos < this.packet.length; ) {
          let f = this._list.readUInt8(this._pos++);
          if (!n.MQTT5_UNSUBACK_CODES[f])
            return this._emitError(new Error("Invalid unsuback code"));
          this.packet.granted.push(f);
        }
      }
    }
    _parseConfirmation() {
      o("_parseConfirmation: packet.cmd: `%s`", this.packet.cmd);
      let u = this.packet;
      if (this._parseMessageId(), this.settings.protocolVersion === 5) {
        if (u.length > 2) {
          switch (u.reasonCode = this._parseByte(), this.packet.cmd) {
            case "puback":
            case "pubrec":
              if (!n.MQTT5_PUBACK_PUBREC_CODES[u.reasonCode])
                return this._emitError(new Error("Invalid " + this.packet.cmd + " reason code"));
              break;
            case "pubrel":
            case "pubcomp":
              if (!n.MQTT5_PUBREL_PUBCOMP_CODES[u.reasonCode])
                return this._emitError(new Error("Invalid " + this.packet.cmd + " reason code"));
              break;
          }
          o("_parseConfirmation: packet.reasonCode `%d`", u.reasonCode);
        } else
          u.reasonCode = 0;
        if (u.length > 3) {
          let c = this._parseProperties();
          Object.getOwnPropertyNames(c).length && (u.properties = c);
        }
      }
      return !0;
    }
    _parseDisconnect() {
      let u = this.packet;
      if (o("_parseDisconnect"), this.settings.protocolVersion === 5) {
        this._list.length > 0 ? (u.reasonCode = this._parseByte(), n.MQTT5_DISCONNECT_CODES[u.reasonCode] || this._emitError(new Error("Invalid disconnect reason code"))) : u.reasonCode = 0;
        let c = this._parseProperties();
        Object.getOwnPropertyNames(c).length && (u.properties = c);
      }
      return o("_parseDisconnect result: true"), !0;
    }
    _parseAuth() {
      o("_parseAuth");
      let u = this.packet;
      if (this.settings.protocolVersion !== 5)
        return this._emitError(new Error("Not supported auth packet for this version MQTT"));
      if (u.reasonCode = this._parseByte(), !n.MQTT5_AUTH_CODES[u.reasonCode])
        return this._emitError(new Error("Invalid auth reason code"));
      let c = this._parseProperties();
      return Object.getOwnPropertyNames(c).length && (u.properties = c), o("_parseAuth: result: true"), !0;
    }
    _parseMessageId() {
      let u = this.packet;
      return u.messageId = this._parseNum(), u.messageId === null ? (this._emitError(new Error("Cannot parse messageId")), !1) : (o("_parseMessageId: packet.messageId %d", u.messageId), !0);
    }
    _parseString(u) {
      let c = this._parseNum(), f = c + this._pos;
      if (c === -1 || f > this._list.length || f > this.packet.length)
        return null;
      let d = this._list.toString("utf8", this._pos, f);
      return this._pos += c, o("_parseString: result: %s", d), d;
    }
    _parseStringPair() {
      return o("_parseStringPair"), { name: this._parseString(), value: this._parseString() };
    }
    _parseBuffer() {
      let u = this._parseNum(), c = u + this._pos;
      if (u === -1 || c > this._list.length || c > this.packet.length)
        return null;
      let f = this._list.slice(this._pos, c);
      return this._pos += u, o("_parseBuffer: result: %o", f), f;
    }
    _parseNum() {
      if (this._list.length - this._pos < 2)
        return -1;
      let u = this._list.readUInt16BE(this._pos);
      return this._pos += 2, o("_parseNum: result: %s", u), u;
    }
    _parse4ByteNum() {
      if (this._list.length - this._pos < 4)
        return -1;
      let u = this._list.readUInt32BE(this._pos);
      return this._pos += 4, o("_parse4ByteNum: result: %s", u), u;
    }
    _parseVarByteNum(u) {
      o("_parseVarByteNum");
      let c = 4, f = 0, d = 1, p = 0, v = !1, y, _ = this._pos ? this._pos : 0;
      for (; f < c && _ + f < this._list.length; ) {
        if (y = this._list.readUInt8(_ + f++), p += d * (y & n.VARBYTEINT_MASK), d *= 128, !(y & n.VARBYTEINT_FIN_MASK)) {
          v = !0;
          break;
        }
        if (this._list.length <= f)
          break;
      }
      return !v && f === c && this._list.length >= f && this._emitError(new Error("Invalid variable byte integer")), _ && (this._pos += f), v ? u ? v = { bytes: f, value: p } : v = p : v = !1, o("_parseVarByteNum: result: %o", v), v;
    }
    _parseByte() {
      let u;
      return this._pos < this._list.length && (u = this._list.readUInt8(this._pos), this._pos++), o("_parseByte: result: %o", u), u;
    }
    _parseByType(u) {
      switch (o("_parseByType: type: %s", u), u) {
        case "byte":
          return this._parseByte() !== 0;
        case "int8":
          return this._parseByte();
        case "int16":
          return this._parseNum();
        case "int32":
          return this._parse4ByteNum();
        case "var":
          return this._parseVarByteNum();
        case "string":
          return this._parseString();
        case "pair":
          return this._parseStringPair();
        case "binary":
          return this._parseBuffer();
      }
    }
    _parseProperties() {
      o("_parseProperties");
      let u = this._parseVarByteNum(), c = this._pos + u, f = {};
      for (; this._pos < c; ) {
        let d = this._parseByte();
        if (!d)
          return this._emitError(new Error("Cannot parse property code type")), !1;
        let p = n.propertiesCodes[d];
        if (!p)
          return this._emitError(new Error("Unknown property")), !1;
        if (p === "userProperties") {
          f[p] || (f[p] = /* @__PURE__ */ Object.create(null));
          let v = this._parseByType(n.propertiesTypes[p]);
          if (f[p][v.name])
            if (Array.isArray(f[p][v.name]))
              f[p][v.name].push(v.value);
            else {
              let y = f[p][v.name];
              f[p][v.name] = [y], f[p][v.name].push(v.value);
            }
          else
            f[p][v.name] = v.value;
          continue;
        }
        f[p] ? Array.isArray(f[p]) ? f[p].push(this._parseByType(n.propertiesTypes[p])) : (f[p] = [f[p]], f[p].push(this._parseByType(n.propertiesTypes[p]))) : f[p] = this._parseByType(n.propertiesTypes[p]);
      }
      return f;
    }
    _newPacket() {
      return o("_newPacket"), this.packet && (this._list.consume(this.packet.length), o("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d", this.packet.cmd, this.packet.payload, this.packet.length), this.emit("packet", this.packet)), o("_newPacket: new packet"), this.packet = new a(), this._pos = 0, !0;
    }
    _emitError(u) {
      o("_emitError", u), this.error = u, this.emit("error", u);
    }
  };
  e.exports = s;
}), Sae = bt((r, e) => {
  lt(), st(), ot();
  var { Buffer: t } = (Ta(), zn(xa)), i = 65536, a = {}, n = t.isBuffer(t.from([1, 2]).subarray(0, 1));
  function o(c) {
    let f = t.allocUnsafe(2);
    return f.writeUInt8(c >> 8, 0), f.writeUInt8(c & 255, 0 + 1), f;
  }
  function s() {
    for (let c = 0; c < i; c++)
      a[c] = o(c);
  }
  function l(c) {
    let f = 0, d = 0, p = t.allocUnsafe(4);
    do
      f = c % 128 | 0, c = c / 128 | 0, c > 0 && (f = f | 128), p.writeUInt8(f, d++);
    while (c > 0 && d < 4);
    return c > 0 && (d = 0), n ? p.subarray(0, d) : p.slice(0, d);
  }
  function u(c) {
    let f = t.allocUnsafe(4);
    return f.writeUInt32BE(c, 0), f;
  }
  e.exports = { cache: a, generateCache: s, generateNumber: o, genBufVariableByteInt: l, generate4ByteBuffer: u };
}), xae = bt((r, e) => {
  lt(), st(), ot(), typeof An > "u" || !An.version || An.version.indexOf("v0.") === 0 || An.version.indexOf("v1.") === 0 && An.version.indexOf("v1.8.") !== 0 ? e.exports = { nextTick: t } : e.exports = An;
  function t(i, a, n, o) {
    if (typeof i != "function")
      throw new TypeError('"callback" argument must be a function');
    var s = arguments.length, l, u;
    switch (s) {
      case 0:
      case 1:
        return An.nextTick(i);
      case 2:
        return An.nextTick(function() {
          i.call(null, a);
        });
      case 3:
        return An.nextTick(function() {
          i.call(null, a, n);
        });
      case 4:
        return An.nextTick(function() {
          i.call(null, a, n, o);
        });
      default:
        for (l = new Array(s - 1), u = 0; u < l.length; )
          l[u++] = arguments[u];
        return An.nextTick(function() {
          i.apply(null, l);
        });
    }
  }
}), cW = bt((r, e) => {
  lt(), st(), ot();
  var t = uW(), { Buffer: i } = (Ta(), zn(xa)), a = i.allocUnsafe(0), n = i.from([0]), o = Sae(), s = xae().nextTick, l = Fu()("mqtt-packet:writeToStream"), u = o.cache, c = o.generateNumber, f = o.generateCache, d = o.genBufVariableByteInt, p = o.generate4ByteBuffer, v = de, y = !0;
  function _(q, re, be) {
    switch (l("generate called"), re.cork && (re.cork(), s(w, re)), y && (y = !1, f()), l("generate: packet.cmd: %s", q.cmd), q.cmd) {
      case "connect":
        return S(q, re);
      case "connack":
        return x(q, re, be);
      case "publish":
        return E(q, re, be);
      case "puback":
      case "pubrec":
      case "pubrel":
      case "pubcomp":
        return M(q, re, be);
      case "subscribe":
        return k(q, re, be);
      case "suback":
        return P(q, re, be);
      case "unsubscribe":
        return L(q, re, be);
      case "unsuback":
        return F(q, re, be);
      case "pingreq":
      case "pingresp":
        return O(q, re);
      case "disconnect":
        return U(q, re, be);
      case "auth":
        return V(q, re, be);
      default:
        return re.destroy(new Error("Unknown command")), !1;
    }
  }
  Object.defineProperty(_, "cacheNumbers", { get() {
    return v === de;
  }, set(q) {
    q ? ((!u || Object.keys(u).length === 0) && (y = !0), v = de) : (y = !1, v = le);
  } });
  function w(q) {
    q.uncork();
  }
  function S(q, re, be) {
    let te = q || {}, ne = te.protocolId || "MQTT", ie = te.protocolVersion || 4, xe = te.will, ge = te.clean, ae = te.keepalive || 0, pe = te.clientId || "", ce = te.username, Ee = te.password, ke = te.properties;
    ge === void 0 && (ge = !0);
    let ye = 0;
    if (!ne || typeof ne != "string" && !i.isBuffer(ne))
      return re.destroy(new Error("Invalid protocolId")), !1;
    if (ye += ne.length + 2, ie !== 3 && ie !== 4 && ie !== 5)
      return re.destroy(new Error("Invalid protocol version")), !1;
    if (ye += 1, (typeof pe == "string" || i.isBuffer(pe)) && (pe || ie >= 4) && (pe || ge))
      ye += i.byteLength(pe) + 2;
    else {
      if (ie < 4)
        return re.destroy(new Error("clientId must be supplied before 3.1.1")), !1;
      if (ge * 1 === 0)
        return re.destroy(new Error("clientId must be given if cleanSession set to 0")), !1;
    }
    if (typeof ae != "number" || ae < 0 || ae > 65535 || ae % 1 !== 0)
      return re.destroy(new Error("Invalid keepalive")), !1;
    ye += 2, ye += 1;
    let Pe, We;
    if (ie === 5) {
      if (Pe = fe(re, ke), !Pe)
        return !1;
      ye += Pe.length;
    }
    if (xe) {
      if (typeof xe != "object")
        return re.destroy(new Error("Invalid will")), !1;
      if (!xe.topic || typeof xe.topic != "string")
        return re.destroy(new Error("Invalid will topic")), !1;
      if (ye += i.byteLength(xe.topic) + 2, ye += 2, xe.payload)
        if (xe.payload.length >= 0)
          typeof xe.payload == "string" ? ye += i.byteLength(xe.payload) : ye += xe.payload.length;
        else
          return re.destroy(new Error("Invalid will payload")), !1;
      if (We = {}, ie === 5) {
        if (We = fe(re, xe.properties), !We)
          return !1;
        ye += We.length;
      }
    }
    let nt = !1;
    if (ce != null)
      if (Ie(ce))
        nt = !0, ye += i.byteLength(ce) + 2;
      else
        return re.destroy(new Error("Invalid username")), !1;
    if (Ee != null) {
      if (!nt)
        return re.destroy(new Error("Username is required to use password")), !1;
      if (Ie(Ee))
        ye += De(Ee) + 2;
      else
        return re.destroy(new Error("Invalid password")), !1;
    }
    re.write(t.CONNECT_HEADER), Z(re, ye), he(re, ne), te.bridgeMode && (ie += 128), re.write(ie === 131 ? t.VERSION131 : ie === 132 ? t.VERSION132 : ie === 4 ? t.VERSION4 : ie === 5 ? t.VERSION5 : t.VERSION3);
    let ft = 0;
    return ft |= ce != null ? t.USERNAME_MASK : 0, ft |= Ee != null ? t.PASSWORD_MASK : 0, ft |= xe && xe.retain ? t.WILL_RETAIN_MASK : 0, ft |= xe && xe.qos ? xe.qos << t.WILL_QOS_SHIFT : 0, ft |= xe ? t.WILL_FLAG_MASK : 0, ft |= ge ? t.CLEAN_SESSION_MASK : 0, re.write(i.from([ft])), v(re, ae), ie === 5 && Pe.write(), he(re, pe), xe && (ie === 5 && We.write(), Q(re, xe.topic), he(re, xe.payload)), ce != null && he(re, ce), Ee != null && he(re, Ee), !0;
  }
  function x(q, re, be) {
    let te = be ? be.protocolVersion : 4, ne = q || {}, ie = te === 5 ? ne.reasonCode : ne.returnCode, xe = ne.properties, ge = 2;
    if (typeof ie != "number")
      return re.destroy(new Error("Invalid return code")), !1;
    let ae = null;
    if (te === 5) {
      if (ae = fe(re, xe), !ae)
        return !1;
      ge += ae.length;
    }
    return re.write(t.CONNACK_HEADER), Z(re, ge), re.write(ne.sessionPresent ? t.SESSIONPRESENT_HEADER : n), re.write(i.from([ie])), ae?.write(), !0;
  }
  function E(q, re, be) {
    l("publish: packet: %o", q);
    let te = be ? be.protocolVersion : 4, ne = q || {}, ie = ne.qos || 0, xe = ne.retain ? t.RETAIN_MASK : 0, ge = ne.topic, ae = ne.payload || a, pe = ne.messageId, ce = ne.properties, Ee = 0;
    if (typeof ge == "string")
      Ee += i.byteLength(ge) + 2;
    else if (i.isBuffer(ge))
      Ee += ge.length + 2;
    else
      return re.destroy(new Error("Invalid topic")), !1;
    if (i.isBuffer(ae) ? Ee += ae.length : Ee += i.byteLength(ae), ie && typeof pe != "number")
      return re.destroy(new Error("Invalid messageId")), !1;
    ie && (Ee += 2);
    let ke = null;
    if (te === 5) {
      if (ke = fe(re, ce), !ke)
        return !1;
      Ee += ke.length;
    }
    return re.write(t.PUBLISH_HEADER[ie][ne.dup ? 1 : 0][xe ? 1 : 0]), Z(re, Ee), v(re, De(ge)), re.write(ge), ie > 0 && v(re, pe), ke?.write(), l("publish: payload: %o", ae), re.write(ae);
  }
  function M(q, re, be) {
    let te = be ? be.protocolVersion : 4, ne = q || {}, ie = ne.cmd || "puback", xe = ne.messageId, ge = ne.dup && ie === "pubrel" ? t.DUP_MASK : 0, ae = 0, pe = ne.reasonCode, ce = ne.properties, Ee = te === 5 ? 3 : 2;
    if (ie === "pubrel" && (ae = 1), typeof xe != "number")
      return re.destroy(new Error("Invalid messageId")), !1;
    let ke = null;
    if (te === 5 && typeof ce == "object") {
      if (ke = K(re, ce, be, Ee), !ke)
        return !1;
      Ee += ke.length;
    }
    return re.write(t.ACKS[ie][ae][ge][0]), Ee === 3 && (Ee += pe !== 0 ? 1 : -1), Z(re, Ee), v(re, xe), te === 5 && Ee !== 2 && re.write(i.from([pe])), ke !== null ? ke.write() : Ee === 4 && re.write(i.from([0])), !0;
  }
  function k(q, re, be) {
    l("subscribe: packet: ");
    let te = be ? be.protocolVersion : 4, ne = q || {}, ie = ne.dup ? t.DUP_MASK : 0, xe = ne.messageId, ge = ne.subscriptions, ae = ne.properties, pe = 0;
    if (typeof xe != "number")
      return re.destroy(new Error("Invalid messageId")), !1;
    pe += 2;
    let ce = null;
    if (te === 5) {
      if (ce = fe(re, ae), !ce)
        return !1;
      pe += ce.length;
    }
    if (typeof ge == "object" && ge.length)
      for (let ke = 0; ke < ge.length; ke += 1) {
        let ye = ge[ke].topic, Pe = ge[ke].qos;
        if (typeof ye != "string")
          return re.destroy(new Error("Invalid subscriptions - invalid topic")), !1;
        if (typeof Pe != "number")
          return re.destroy(new Error("Invalid subscriptions - invalid qos")), !1;
        if (te === 5) {
          if (typeof (ge[ke].nl || !1) != "boolean")
            return re.destroy(new Error("Invalid subscriptions - invalid No Local")), !1;
          if (typeof (ge[ke].rap || !1) != "boolean")
            return re.destroy(new Error("Invalid subscriptions - invalid Retain as Published")), !1;
          let We = ge[ke].rh || 0;
          if (typeof We != "number" || We > 2)
            return re.destroy(new Error("Invalid subscriptions - invalid Retain Handling")), !1;
        }
        pe += i.byteLength(ye) + 2 + 1;
      }
    else
      return re.destroy(new Error("Invalid subscriptions")), !1;
    l("subscribe: writing to stream: %o", t.SUBSCRIBE_HEADER), re.write(t.SUBSCRIBE_HEADER[1][ie ? 1 : 0][0]), Z(re, pe), v(re, xe), ce !== null && ce.write();
    let Ee = !0;
    for (let ke of ge) {
      let ye = ke.topic, Pe = ke.qos, We = +ke.nl, nt = +ke.rap, ft = ke.rh, mr;
      Q(re, ye), mr = t.SUBSCRIBE_OPTIONS_QOS[Pe], te === 5 && (mr |= We ? t.SUBSCRIBE_OPTIONS_NL : 0, mr |= nt ? t.SUBSCRIBE_OPTIONS_RAP : 0, mr |= ft ? t.SUBSCRIBE_OPTIONS_RH[ft] : 0), Ee = re.write(i.from([mr]));
    }
    return Ee;
  }
  function P(q, re, be) {
    let te = be ? be.protocolVersion : 4, ne = q || {}, ie = ne.messageId, xe = ne.granted, ge = ne.properties, ae = 0;
    if (typeof ie != "number")
      return re.destroy(new Error("Invalid messageId")), !1;
    if (ae += 2, typeof xe == "object" && xe.length)
      for (let ce = 0; ce < xe.length; ce += 1) {
        if (typeof xe[ce] != "number")
          return re.destroy(new Error("Invalid qos vector")), !1;
        ae += 1;
      }
    else
      return re.destroy(new Error("Invalid qos vector")), !1;
    let pe = null;
    if (te === 5) {
      if (pe = K(re, ge, be, ae), !pe)
        return !1;
      ae += pe.length;
    }
    return re.write(t.SUBACK_HEADER), Z(re, ae), v(re, ie), pe !== null && pe.write(), re.write(i.from(xe));
  }
  function L(q, re, be) {
    let te = be ? be.protocolVersion : 4, ne = q || {}, ie = ne.messageId, xe = ne.dup ? t.DUP_MASK : 0, ge = ne.unsubscriptions, ae = ne.properties, pe = 0;
    if (typeof ie != "number")
      return re.destroy(new Error("Invalid messageId")), !1;
    if (pe += 2, typeof ge == "object" && ge.length)
      for (let ke = 0; ke < ge.length; ke += 1) {
        if (typeof ge[ke] != "string")
          return re.destroy(new Error("Invalid unsubscriptions")), !1;
        pe += i.byteLength(ge[ke]) + 2;
      }
    else
      return re.destroy(new Error("Invalid unsubscriptions")), !1;
    let ce = null;
    if (te === 5) {
      if (ce = fe(re, ae), !ce)
        return !1;
      pe += ce.length;
    }
    re.write(t.UNSUBSCRIBE_HEADER[1][xe ? 1 : 0][0]), Z(re, pe), v(re, ie), ce !== null && ce.write();
    let Ee = !0;
    for (let ke = 0; ke < ge.length; ke++)
      Ee = Q(re, ge[ke]);
    return Ee;
  }
  function F(q, re, be) {
    let te = be ? be.protocolVersion : 4, ne = q || {}, ie = ne.messageId, xe = ne.dup ? t.DUP_MASK : 0, ge = ne.granted, ae = ne.properties, pe = ne.cmd, ce = 0, Ee = 2;
    if (typeof ie != "number")
      return re.destroy(new Error("Invalid messageId")), !1;
    if (te === 5)
      if (typeof ge == "object" && ge.length)
        for (let ye = 0; ye < ge.length; ye += 1) {
          if (typeof ge[ye] != "number")
            return re.destroy(new Error("Invalid qos vector")), !1;
          Ee += 1;
        }
      else
        return re.destroy(new Error("Invalid qos vector")), !1;
    let ke = null;
    if (te === 5) {
      if (ke = K(re, ae, be, Ee), !ke)
        return !1;
      Ee += ke.length;
    }
    return re.write(t.ACKS[pe][ce][xe][0]), Z(re, Ee), v(re, ie), ke !== null && ke.write(), te === 5 && re.write(i.from(ge)), !0;
  }
  function O(q, re, be) {
    return re.write(t.EMPTY[q.cmd]);
  }
  function U(q, re, be) {
    let te = be ? be.protocolVersion : 4, ne = q || {}, ie = ne.reasonCode, xe = ne.properties, ge = te === 5 ? 1 : 0, ae = null;
    if (te === 5) {
      if (ae = K(re, xe, be, ge), !ae)
        return !1;
      ge += ae.length;
    }
    return re.write(i.from([t.codes.disconnect << 4])), Z(re, ge), te === 5 && re.write(i.from([ie])), ae !== null && ae.write(), !0;
  }
  function V(q, re, be) {
    let te = be ? be.protocolVersion : 4, ne = q || {}, ie = ne.reasonCode, xe = ne.properties, ge = te === 5 ? 1 : 0;
    te !== 5 && re.destroy(new Error("Invalid mqtt version for auth packet"));
    let ae = K(re, xe, be, ge);
    return ae ? (ge += ae.length, re.write(i.from([t.codes.auth << 4])), Z(re, ge), re.write(i.from([ie])), ae !== null && ae.write(), !0) : !1;
  }
  var G = {};
  function Z(q, re) {
    if (re > t.VARBYTEINT_MAX)
      return q.destroy(new Error(`Invalid variable byte integer: ${re}`)), !1;
    let be = G[re];
    return be || (be = d(re), re < 16384 && (G[re] = be)), l("writeVarByteInt: writing to stream: %o", be), q.write(be);
  }
  function Q(q, re) {
    let be = i.byteLength(re);
    return v(q, be), l("writeString: %s", re), q.write(re, "utf8");
  }
  function se(q, re, be) {
    Q(q, re), Q(q, be);
  }
  function de(q, re) {
    return l("writeNumberCached: number: %d", re), l("writeNumberCached: %o", u[re]), q.write(u[re]);
  }
  function le(q, re) {
    let be = c(re);
    return l("writeNumberGenerated: %o", be), q.write(be);
  }
  function Se(q, re) {
    let be = p(re);
    return l("write4ByteNumber: %o", be), q.write(be);
  }
  function he(q, re) {
    typeof re == "string" ? Q(q, re) : re ? (v(q, re.length), q.write(re)) : v(q, 0);
  }
  function fe(q, re) {
    if (typeof re != "object" || re.length != null)
      return { length: 1, write() {
        ve(q, {}, 0);
      } };
    let be = 0;
    function te(ne, ie) {
      let xe = t.propertiesTypes[ne], ge = 0;
      switch (xe) {
        case "byte": {
          if (typeof ie != "boolean")
            return q.destroy(new Error(`Invalid ${ne}: ${ie}`)), !1;
          ge += 1 + 1;
          break;
        }
        case "int8": {
          if (typeof ie != "number" || ie < 0 || ie > 255)
            return q.destroy(new Error(`Invalid ${ne}: ${ie}`)), !1;
          ge += 1 + 1;
          break;
        }
        case "binary": {
          if (ie && ie === null)
            return q.destroy(new Error(`Invalid ${ne}: ${ie}`)), !1;
          ge += 1 + i.byteLength(ie) + 2;
          break;
        }
        case "int16": {
          if (typeof ie != "number" || ie < 0 || ie > 65535)
            return q.destroy(new Error(`Invalid ${ne}: ${ie}`)), !1;
          ge += 1 + 2;
          break;
        }
        case "int32": {
          if (typeof ie != "number" || ie < 0 || ie > 4294967295)
            return q.destroy(new Error(`Invalid ${ne}: ${ie}`)), !1;
          ge += 1 + 4;
          break;
        }
        case "var": {
          if (typeof ie != "number" || ie < 0 || ie > 268435455)
            return q.destroy(new Error(`Invalid ${ne}: ${ie}`)), !1;
          ge += 1 + i.byteLength(d(ie));
          break;
        }
        case "string": {
          if (typeof ie != "string")
            return q.destroy(new Error(`Invalid ${ne}: ${ie}`)), !1;
          ge += 1 + 2 + i.byteLength(ie.toString());
          break;
        }
        case "pair": {
          if (typeof ie != "object")
            return q.destroy(new Error(`Invalid ${ne}: ${ie}`)), !1;
          ge += Object.getOwnPropertyNames(ie).reduce((ae, pe) => {
            let ce = ie[pe];
            return Array.isArray(ce) ? ae += ce.reduce((Ee, ke) => (Ee += 1 + 2 + i.byteLength(pe.toString()) + 2 + i.byteLength(ke.toString()), Ee), 0) : ae += 1 + 2 + i.byteLength(pe.toString()) + 2 + i.byteLength(ie[pe].toString()), ae;
          }, 0);
          break;
        }
        default:
          return q.destroy(new Error(`Invalid property ${ne}: ${ie}`)), !1;
      }
      return ge;
    }
    if (re)
      for (let ne in re) {
        let ie = 0, xe = 0, ge = re[ne];
        if (Array.isArray(ge))
          for (let ae = 0; ae < ge.length; ae++) {
            if (xe = te(ne, ge[ae]), !xe)
              return !1;
            ie += xe;
          }
        else {
          if (xe = te(ne, ge), !xe)
            return !1;
          ie = xe;
        }
        if (!ie)
          return !1;
        be += ie;
      }
    return { length: i.byteLength(d(be)) + be, write() {
      ve(q, re, be);
    } };
  }
  function K(q, re, be, te) {
    let ne = ["reasonString", "userProperties"], ie = be && be.properties && be.properties.maximumPacketSize ? be.properties.maximumPacketSize : 0, xe = fe(q, re);
    if (ie)
      for (; te + xe.length > ie; ) {
        let ge = ne.shift();
        if (ge && re[ge])
          delete re[ge], xe = fe(q, re);
        else
          return !1;
      }
    return xe;
  }
  function we(q, re, be) {
    switch (t.propertiesTypes[re]) {
      case "byte": {
        q.write(i.from([t.properties[re]])), q.write(i.from([+be]));
        break;
      }
      case "int8": {
        q.write(i.from([t.properties[re]])), q.write(i.from([be]));
        break;
      }
      case "binary": {
        q.write(i.from([t.properties[re]])), he(q, be);
        break;
      }
      case "int16": {
        q.write(i.from([t.properties[re]])), v(q, be);
        break;
      }
      case "int32": {
        q.write(i.from([t.properties[re]])), Se(q, be);
        break;
      }
      case "var": {
        q.write(i.from([t.properties[re]])), Z(q, be);
        break;
      }
      case "string": {
        q.write(i.from([t.properties[re]])), Q(q, be);
        break;
      }
      case "pair": {
        Object.getOwnPropertyNames(be).forEach((te) => {
          let ne = be[te];
          Array.isArray(ne) ? ne.forEach((ie) => {
            q.write(i.from([t.properties[re]])), se(q, te.toString(), ie.toString());
          }) : (q.write(i.from([t.properties[re]])), se(q, te.toString(), ne.toString()));
        });
        break;
      }
      default:
        return q.destroy(new Error(`Invalid property ${re} value: ${be}`)), !1;
    }
  }
  function ve(q, re, be) {
    Z(q, be);
    for (let te in re)
      if (Object.prototype.hasOwnProperty.call(re, te) && re[te] !== null) {
        let ne = re[te];
        if (Array.isArray(ne))
          for (let ie = 0; ie < ne.length; ie++)
            we(q, te, ne[ie]);
        else
          we(q, te, ne);
      }
  }
  function De(q) {
    return q ? q instanceof i ? q.length : i.byteLength(q) : 0;
  }
  function Ie(q) {
    return typeof q == "string" || q instanceof i;
  }
  e.exports = _;
}), Tae = bt((r, e) => {
  lt(), st(), ot();
  var t = cW(), { EventEmitter: i } = (S0(), zn(ud)), { Buffer: a } = (Ta(), zn(xa));
  function n(s, l) {
    let u = new o();
    return t(s, u, l), u.concat();
  }
  var o = class extends i {
    constructor() {
      super(), this._array = new Array(20), this._i = 0;
    }
    write(s) {
      return this._array[this._i++] = s, !0;
    }
    concat() {
      let s = 0, l = new Array(this._array.length), u = this._array, c = 0, f;
      for (f = 0; f < u.length && u[f] !== void 0; f++)
        typeof u[f] != "string" ? l[f] = u[f].length : l[f] = a.byteLength(u[f]), s += l[f];
      let d = a.allocUnsafe(s);
      for (f = 0; f < u.length && u[f] !== void 0; f++)
        typeof u[f] != "string" ? (u[f].copy(d, c), c += l[f]) : (d.write(u[f], c), c += l[f]);
      return d;
    }
    destroy(s) {
      s && this.emit("error", s);
    }
  };
  e.exports = n;
}), Cae = bt((r) => {
  lt(), st(), ot(), r.parser = wae().parser, r.generate = Tae(), r.writeToStream = cW();
}), hW = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "__esModule", { value: !0 });
  var e = class {
    constructor() {
      this.nextId = Math.max(1, Math.floor(Math.random() * 65535));
    }
    allocate() {
      let t = this.nextId++;
      return this.nextId === 65536 && (this.nextId = 1), t;
    }
    getLastAllocated() {
      return this.nextId === 1 ? 65535 : this.nextId - 1;
    }
    register(t) {
      return !0;
    }
    deallocate(t) {
    }
    clear() {
    }
  };
  r.default = e;
}), Aae = bt((r, e) => {
  lt(), st(), ot(), e.exports = i;
  function t(n) {
    return n instanceof S_ ? S_.from(n) : new n.constructor(n.buffer.slice(), n.byteOffset, n.length);
  }
  function i(n) {
    if (n = n || {}, n.circles)
      return a(n);
    return n.proto ? l : s;
    function o(u, c) {
      for (var f = Object.keys(u), d = new Array(f.length), p = 0; p < f.length; p++) {
        var v = f[p], y = u[v];
        typeof y != "object" || y === null ? d[v] = y : y instanceof Date ? d[v] = new Date(y) : ArrayBuffer.isView(y) ? d[v] = t(y) : d[v] = c(y);
      }
      return d;
    }
    function s(u) {
      if (typeof u != "object" || u === null)
        return u;
      if (u instanceof Date)
        return new Date(u);
      if (Array.isArray(u))
        return o(u, s);
      if (u instanceof Map)
        return new Map(o(Array.from(u), s));
      if (u instanceof Set)
        return new Set(o(Array.from(u), s));
      var c = {};
      for (var f in u)
        if (Object.hasOwnProperty.call(u, f) !== !1) {
          var d = u[f];
          typeof d != "object" || d === null ? c[f] = d : d instanceof Date ? c[f] = new Date(d) : d instanceof Map ? c[f] = new Map(o(Array.from(d), s)) : d instanceof Set ? c[f] = new Set(o(Array.from(d), s)) : ArrayBuffer.isView(d) ? c[f] = t(d) : c[f] = s(d);
        }
      return c;
    }
    function l(u) {
      if (typeof u != "object" || u === null)
        return u;
      if (u instanceof Date)
        return new Date(u);
      if (Array.isArray(u))
        return o(u, l);
      if (u instanceof Map)
        return new Map(o(Array.from(u), l));
      if (u instanceof Set)
        return new Set(o(Array.from(u), l));
      var c = {};
      for (var f in u) {
        var d = u[f];
        typeof d != "object" || d === null ? c[f] = d : d instanceof Date ? c[f] = new Date(d) : d instanceof Map ? c[f] = new Map(o(Array.from(d), l)) : d instanceof Set ? c[f] = new Set(o(Array.from(d), l)) : ArrayBuffer.isView(d) ? c[f] = t(d) : c[f] = l(d);
      }
      return c;
    }
  }
  function a(n) {
    var o = [], s = [];
    return n.proto ? c : u;
    function l(f, d) {
      for (var p = Object.keys(f), v = new Array(p.length), y = 0; y < p.length; y++) {
        var _ = p[y], w = f[_];
        if (typeof w != "object" || w === null)
          v[_] = w;
        else if (w instanceof Date)
          v[_] = new Date(w);
        else if (ArrayBuffer.isView(w))
          v[_] = t(w);
        else {
          var S = o.indexOf(w);
          S !== -1 ? v[_] = s[S] : v[_] = d(w);
        }
      }
      return v;
    }
    function u(f) {
      if (typeof f != "object" || f === null)
        return f;
      if (f instanceof Date)
        return new Date(f);
      if (Array.isArray(f))
        return l(f, u);
      if (f instanceof Map)
        return new Map(l(Array.from(f), u));
      if (f instanceof Set)
        return new Set(l(Array.from(f), u));
      var d = {};
      o.push(f), s.push(d);
      for (var p in f)
        if (Object.hasOwnProperty.call(f, p) !== !1) {
          var v = f[p];
          if (typeof v != "object" || v === null)
            d[p] = v;
          else if (v instanceof Date)
            d[p] = new Date(v);
          else if (v instanceof Map)
            d[p] = new Map(l(Array.from(v), u));
          else if (v instanceof Set)
            d[p] = new Set(l(Array.from(v), u));
          else if (ArrayBuffer.isView(v))
            d[p] = t(v);
          else {
            var y = o.indexOf(v);
            y !== -1 ? d[p] = s[y] : d[p] = u(v);
          }
        }
      return o.pop(), s.pop(), d;
    }
    function c(f) {
      if (typeof f != "object" || f === null)
        return f;
      if (f instanceof Date)
        return new Date(f);
      if (Array.isArray(f))
        return l(f, c);
      if (f instanceof Map)
        return new Map(l(Array.from(f), c));
      if (f instanceof Set)
        return new Set(l(Array.from(f), c));
      var d = {};
      o.push(f), s.push(d);
      for (var p in f) {
        var v = f[p];
        if (typeof v != "object" || v === null)
          d[p] = v;
        else if (v instanceof Date)
          d[p] = new Date(v);
        else if (v instanceof Map)
          d[p] = new Map(l(Array.from(v), c));
        else if (v instanceof Set)
          d[p] = new Set(l(Array.from(v), c));
        else if (ArrayBuffer.isView(v))
          d[p] = t(v);
        else {
          var y = o.indexOf(v);
          y !== -1 ? d[p] = s[y] : d[p] = c(v);
        }
      }
      return o.pop(), s.pop(), d;
    }
  }
}), Eae = bt((r, e) => {
  lt(), st(), ot(), e.exports = Aae()();
}), Dae = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "__esModule", { value: !0 }), r.validateTopics = r.validateTopic = void 0;
  function e(i) {
    let a = i.split("/");
    for (let n = 0; n < a.length; n++)
      if (a[n] !== "+") {
        if (a[n] === "#")
          return n === a.length - 1;
        if (a[n].indexOf("+") !== -1 || a[n].indexOf("#") !== -1)
          return !1;
      }
    return !0;
  }
  r.validateTopic = e;
  function t(i) {
    if (i.length === 0)
      return "empty_topic_list";
    for (let a = 0; a < i.length; a++)
      if (!e(i[a]))
        return i[a];
    return null;
  }
  r.validateTopics = t;
}), fW = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "__esModule", { value: !0 });
  var e = cd(), t = { objectMode: !0 }, i = { clean: !0 }, a = class {
    constructor(n) {
      this.options = n || {}, this.options = Object.assign(Object.assign({}, i), n), this._inflights = /* @__PURE__ */ new Map();
    }
    put(n, o) {
      return this._inflights.set(n.messageId, n), o && o(), this;
    }
    createStream() {
      let n = new e.Readable(t), o = [], s = !1, l = 0;
      return this._inflights.forEach((u, c) => {
        o.push(u);
      }), n._read = () => {
        !s && l < o.length ? n.push(o[l++]) : n.push(null);
      }, n.destroy = (u) => {
        if (!s)
          return s = !0, setTimeout(() => {
            n.emit("close");
          }, 0), n;
      }, n;
    }
    del(n, o) {
      let s = this._inflights.get(n.messageId);
      return s ? (this._inflights.delete(n.messageId), o(null, s)) : o && o(new Error("missing packet")), this;
    }
    get(n, o) {
      let s = this._inflights.get(n.messageId);
      return s ? o(null, s) : o && o(new Error("missing packet")), this;
    }
    close(n) {
      this.options.clean && (this._inflights = null), n && n();
    }
  };
  r.default = a;
}), kae = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "__esModule", { value: !0 });
  var e = [0, 16, 128, 131, 135, 144, 145, 151, 153], t = (i, a, n) => {
    i.log("handlePublish: packet %o", a), n = typeof n < "u" ? n : i.noop;
    let o = a.topic.toString(), s = a.payload, { qos: l } = a, { messageId: u } = a, { options: c } = i;
    if (i.options.protocolVersion === 5) {
      let f;
      if (a.properties && (f = a.properties.topicAlias), typeof f < "u")
        if (o.length === 0)
          if (f > 0 && f <= 65535) {
            let d = i.topicAliasRecv.getTopicByAlias(f);
            if (d)
              o = d, i.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d", o, f);
            else {
              i.log("handlePublish :: unregistered topic alias. alias: %d", f), i.emit("error", new Error("Received unregistered Topic Alias"));
              return;
            }
          } else {
            i.log("handlePublish :: topic alias out of range. alias: %d", f), i.emit("error", new Error("Received Topic Alias is out of range"));
            return;
          }
        else if (i.topicAliasRecv.put(o, f))
          i.log("handlePublish :: registered topic: %s - alias: %d", o, f);
        else {
          i.log("handlePublish :: topic alias out of range. alias: %d", f), i.emit("error", new Error("Received Topic Alias is out of range"));
          return;
        }
    }
    switch (i.log("handlePublish: qos %d", l), l) {
      case 2: {
        c.customHandleAcks(o, s, a, (f, d) => {
          if (typeof f == "number" && (d = f, f = null), f)
            return i.emit("error", f);
          if (e.indexOf(d) === -1)
            return i.emit("error", new Error("Wrong reason code for pubrec"));
          d ? i._sendPacket({ cmd: "pubrec", messageId: u, reasonCode: d }, n) : i.incomingStore.put(a, () => {
            i._sendPacket({ cmd: "pubrec", messageId: u }, n);
          });
        });
        break;
      }
      case 1: {
        c.customHandleAcks(o, s, a, (f, d) => {
          if (typeof f == "number" && (d = f, f = null), f)
            return i.emit("error", f);
          if (e.indexOf(d) === -1)
            return i.emit("error", new Error("Wrong reason code for puback"));
          d || i.emit("message", o, s, a), i.handleMessage(a, (p) => {
            if (p)
              return n && n(p);
            i._sendPacket({ cmd: "puback", messageId: u, reasonCode: d }, n);
          });
        });
        break;
      }
      case 0:
        i.emit("message", o, s, a), i.handleMessage(a, n);
        break;
      default:
        i.log("handlePublish: unknown QoS. Doing nothing.");
        break;
    }
  };
  r.default = t;
}), Mae = bt((r, e) => {
  e.exports = { version: "5.6.2" };
}), G1 = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "__esModule", { value: !0 }), r.MQTTJS_VERSION = r.nextTick = r.applyMixin = r.ErrorWithReasonCode = void 0;
  var e = class dW extends Error {
    constructor(a, n) {
      super(a), this.code = n, Object.setPrototypeOf(this, dW.prototype), Object.getPrototypeOf(this).name = "ErrorWithReasonCode";
    }
  };
  r.ErrorWithReasonCode = e;
  function t(i, a, n = !1) {
    var o;
    let s = [a];
    for (; ; ) {
      let l = s[0], u = Object.getPrototypeOf(l);
      if (u?.prototype)
        s.unshift(u);
      else
        break;
    }
    for (let l of s)
      for (let u of Object.getOwnPropertyNames(l.prototype))
        (n || u !== "constructor") && Object.defineProperty(i.prototype, u, (o = Object.getOwnPropertyDescriptor(l.prototype, u)) !== null && o !== void 0 ? o : /* @__PURE__ */ Object.create(null));
  }
  r.applyMixin = t, r.nextTick = typeof An?.nextTick == "function" ? An.nextTick : (i) => {
    setTimeout(i, 0);
  }, r.MQTTJS_VERSION = Mae().version;
}), hw = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "__esModule", { value: !0 }), r.ReasonCodes = void 0, r.ReasonCodes = { 0: "", 1: "Unacceptable protocol version", 2: "Identifier rejected", 3: "Server unavailable", 4: "Bad username or password", 5: "Not authorized", 16: "No matching subscribers", 17: "No subscription existed", 128: "Unspecified error", 129: "Malformed Packet", 130: "Protocol Error", 131: "Implementation specific error", 132: "Unsupported Protocol Version", 133: "Client Identifier not valid", 134: "Bad User Name or Password", 135: "Not authorized", 136: "Server unavailable", 137: "Server busy", 138: "Banned", 139: "Server shutting down", 140: "Bad authentication method", 141: "Keep Alive timeout", 142: "Session taken over", 143: "Topic Filter invalid", 144: "Topic Name invalid", 145: "Packet identifier in use", 146: "Packet Identifier not found", 147: "Receive Maximum exceeded", 148: "Topic Alias invalid", 149: "Packet too large", 150: "Message rate too high", 151: "Quota exceeded", 152: "Administrative action", 153: "Payload format invalid", 154: "Retain not supported", 155: "QoS not supported", 156: "Use another server", 157: "Server moved", 158: "Shared Subscriptions not supported", 159: "Connection rate exceeded", 160: "Maximum connect time", 161: "Subscription Identifiers not supported", 162: "Wildcard Subscriptions not supported" };
  var e = (t, i) => {
    let { messageId: a } = i, n = i.cmd, o = null, s = t.outgoing[a] ? t.outgoing[a].cb : null, l;
    if (!s) {
      t.log("_handleAck :: Server sent an ack in error. Ignoring.");
      return;
    }
    switch (t.log("_handleAck :: packet type", n), n) {
      case "pubcomp":
      case "puback": {
        let u = i.reasonCode;
        u && u > 0 && u !== 16 ? (l = new Error(`Publish error: ${r.ReasonCodes[u]}`), l.code = u, t._removeOutgoingAndStoreMessage(a, () => {
          s(l, i);
        })) : t._removeOutgoingAndStoreMessage(a, s);
        break;
      }
      case "pubrec": {
        o = { cmd: "pubrel", qos: 2, messageId: a };
        let u = i.reasonCode;
        u && u > 0 && u !== 16 ? (l = new Error(`Publish error: ${r.ReasonCodes[u]}`), l.code = u, t._removeOutgoingAndStoreMessage(a, () => {
          s(l, i);
        })) : t._sendPacket(o);
        break;
      }
      case "suback": {
        delete t.outgoing[a], t.messageIdProvider.deallocate(a);
        let u = i.granted;
        for (let c = 0; c < u.length; c++)
          if (u[c] & 128) {
            let f = t.messageIdToTopic[a];
            f && f.forEach((d) => {
              delete t._resubscribeTopics[d];
            });
          }
        delete t.messageIdToTopic[a], t._invokeStoreProcessingQueue(), s(null, i);
        break;
      }
      case "unsuback": {
        delete t.outgoing[a], t.messageIdProvider.deallocate(a), t._invokeStoreProcessingQueue(), s(null);
        break;
      }
      default:
        t.emit("error", new Error("unrecognized packet type"));
    }
    t.disconnecting && Object.keys(t.outgoing).length === 0 && t.emit("outgoingEmpty");
  };
  r.default = e;
}), Iae = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "__esModule", { value: !0 });
  var e = G1(), t = hw(), i = (a, n) => {
    let { options: o } = a, s = o.protocolVersion, l = s === 5 ? n.reasonCode : n.returnCode;
    if (s !== 5) {
      let u = new e.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${s}`, l);
      a.emit("error", u);
      return;
    }
    a.handleAuth(n, (u, c) => {
      if (u) {
        a.emit("error", u);
        return;
      }
      if (l === 24)
        a.reconnecting = !1, a._sendPacket(c);
      else {
        let f = new e.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[l]}`, l);
        a.emit("error", f);
      }
    });
  };
  r.default = i;
}), Pae = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "__esModule", { value: !0 }), r.LRUCache = void 0;
  var e = typeof performance == "object" && performance && typeof performance.now == "function" ? performance : Date, t = /* @__PURE__ */ new Set(), i = typeof An == "object" && An ? An : {}, a = (p, v, y, _) => {
    typeof i.emitWarning == "function" ? i.emitWarning(p, v, y, _) : console.error(`[${y}] ${v}: ${p}`);
  }, n = globalThis.AbortController, o = globalThis.AbortSignal;
  if (typeof n > "u") {
    o = class {
      onabort;
      _onabort = [];
      reason;
      aborted = !1;
      addEventListener(y, _) {
        this._onabort.push(_);
      }
    }, n = class {
      constructor() {
        v();
      }
      signal = new o();
      abort(y) {
        if (!this.signal.aborted) {
          this.signal.reason = y, this.signal.aborted = !0;
          for (let _ of this.signal._onabort)
            _(y);
          this.signal.onabort?.(y);
        }
      }
    };
    let p = i.env?.LRU_CACHE_IGNORE_AC_WARNING !== "1", v = () => {
      p && (p = !1, a("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.", "NO_ABORT_CONTROLLER", "ENOTSUP", v));
    };
  }
  var s = (p) => !t.has(p), l = (p) => p && p === Math.floor(p) && p > 0 && isFinite(p), u = (p) => l(p) ? p <= Math.pow(2, 8) ? Uint8Array : p <= Math.pow(2, 16) ? Uint16Array : p <= Math.pow(2, 32) ? Uint32Array : p <= Number.MAX_SAFE_INTEGER ? c : null : null, c = class extends Array {
    constructor(p) {
      super(p), this.fill(0);
    }
  }, f = class Sg {
    heap;
    length;
    static #l = !1;
    static create(v) {
      let y = u(v);
      if (!y)
        return [];
      Sg.#l = !0;
      let _ = new Sg(v, y);
      return Sg.#l = !1, _;
    }
    constructor(v, y) {
      if (!Sg.#l)
        throw new TypeError("instantiate Stack using Stack.create(n)");
      this.heap = new y(v), this.length = 0;
    }
    push(v) {
      this.heap[this.length++] = v;
    }
    pop() {
      return this.heap[--this.length];
    }
  }, d = class pW {
    #l;
    #h;
    #p;
    #v;
    #k;
    ttl;
    ttlResolution;
    ttlAutopurge;
    updateAgeOnGet;
    updateAgeOnHas;
    allowStale;
    noDisposeOnSet;
    noUpdateTTL;
    maxEntrySize;
    sizeCalculation;
    noDeleteOnFetchRejection;
    noDeleteOnStaleGet;
    allowStaleOnFetchAbort;
    allowStaleOnFetchRejection;
    ignoreFetchAbort;
    #n;
    #g;
    #i;
    #r;
    #e;
    #u;
    #f;
    #s;
    #a;
    #m;
    #o;
    #S;
    #x;
    #y;
    #_;
    #C;
    #c;
    static unsafeExposeInternals(v) {
      return { starts: v.#x, ttls: v.#y, sizes: v.#S, keyMap: v.#i, keyList: v.#r, valList: v.#e, next: v.#u, prev: v.#f, get head() {
        return v.#s;
      }, get tail() {
        return v.#a;
      }, free: v.#m, isBackgroundFetch: (y) => v.#t(y), backgroundFetch: (y, _, w, S) => v.#P(y, _, w, S), moveToTail: (y) => v.#D(y), indexes: (y) => v.#b(y), rindexes: (y) => v.#w(y), isStale: (y) => v.#d(y) };
    }
    get max() {
      return this.#l;
    }
    get maxSize() {
      return this.#h;
    }
    get calculatedSize() {
      return this.#g;
    }
    get size() {
      return this.#n;
    }
    get fetchMethod() {
      return this.#k;
    }
    get dispose() {
      return this.#p;
    }
    get disposeAfter() {
      return this.#v;
    }
    constructor(v) {
      let { max: y = 0, ttl: _, ttlResolution: w = 1, ttlAutopurge: S, updateAgeOnGet: x, updateAgeOnHas: E, allowStale: M, dispose: k, disposeAfter: P, noDisposeOnSet: L, noUpdateTTL: F, maxSize: O = 0, maxEntrySize: U = 0, sizeCalculation: V, fetchMethod: G, noDeleteOnFetchRejection: Z, noDeleteOnStaleGet: Q, allowStaleOnFetchRejection: se, allowStaleOnFetchAbort: de, ignoreFetchAbort: le } = v;
      if (y !== 0 && !l(y))
        throw new TypeError("max option must be a nonnegative integer");
      let Se = y ? u(y) : Array;
      if (!Se)
        throw new Error("invalid max value: " + y);
      if (this.#l = y, this.#h = O, this.maxEntrySize = U || this.#h, this.sizeCalculation = V, this.sizeCalculation) {
        if (!this.#h && !this.maxEntrySize)
          throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");
        if (typeof this.sizeCalculation != "function")
          throw new TypeError("sizeCalculation set to non-function");
      }
      if (G !== void 0 && typeof G != "function")
        throw new TypeError("fetchMethod must be a function if specified");
      if (this.#k = G, this.#C = !!G, this.#i = /* @__PURE__ */ new Map(), this.#r = new Array(y).fill(void 0), this.#e = new Array(y).fill(void 0), this.#u = new Se(y), this.#f = new Se(y), this.#s = 0, this.#a = 0, this.#m = f.create(y), this.#n = 0, this.#g = 0, typeof k == "function" && (this.#p = k), typeof P == "function" ? (this.#v = P, this.#o = []) : (this.#v = void 0, this.#o = void 0), this.#_ = !!this.#p, this.#c = !!this.#v, this.noDisposeOnSet = !!L, this.noUpdateTTL = !!F, this.noDeleteOnFetchRejection = !!Z, this.allowStaleOnFetchRejection = !!se, this.allowStaleOnFetchAbort = !!de, this.ignoreFetchAbort = !!le, this.maxEntrySize !== 0) {
        if (this.#h !== 0 && !l(this.#h))
          throw new TypeError("maxSize must be a positive integer if specified");
        if (!l(this.maxEntrySize))
          throw new TypeError("maxEntrySize must be a positive integer if specified");
        this.#B();
      }
      if (this.allowStale = !!M, this.noDeleteOnStaleGet = !!Q, this.updateAgeOnGet = !!x, this.updateAgeOnHas = !!E, this.ttlResolution = l(w) || w === 0 ? w : 1, this.ttlAutopurge = !!S, this.ttl = _ || 0, this.ttl) {
        if (!l(this.ttl))
          throw new TypeError("ttl must be a positive integer if specified");
        this.#R();
      }
      if (this.#l === 0 && this.ttl === 0 && this.#h === 0)
        throw new TypeError("At least one of max, maxSize, or ttl is required");
      if (!this.ttlAutopurge && !this.#l && !this.#h) {
        let he = "LRU_CACHE_UNBOUNDED";
        s(he) && (t.add(he), a("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.", "UnboundedCacheWarning", he, pW));
      }
    }
    getRemainingTTL(v) {
      return this.#i.has(v) ? 1 / 0 : 0;
    }
    #R() {
      let v = new c(this.#l), y = new c(this.#l);
      this.#y = v, this.#x = y, this.#L = (S, x, E = e.now()) => {
        if (y[S] = x !== 0 ? E : 0, v[S] = x, x !== 0 && this.ttlAutopurge) {
          let M = setTimeout(() => {
            this.#d(S) && this.delete(this.#r[S]);
          }, x + 1);
          M.unref && M.unref();
        }
      }, this.#A = (S) => {
        y[S] = v[S] !== 0 ? e.now() : 0;
      }, this.#T = (S, x) => {
        if (v[x]) {
          let E = v[x], M = y[x];
          S.ttl = E, S.start = M, S.now = _ || w();
          let k = S.now - M;
          S.remainingTTL = E - k;
        }
      };
      let _ = 0, w = () => {
        let S = e.now();
        if (this.ttlResolution > 0) {
          _ = S;
          let x = setTimeout(() => _ = 0, this.ttlResolution);
          x.unref && x.unref();
        }
        return S;
      };
      this.getRemainingTTL = (S) => {
        let x = this.#i.get(S);
        if (x === void 0)
          return 0;
        let E = v[x], M = y[x];
        if (E === 0 || M === 0)
          return 1 / 0;
        let k = (_ || w()) - M;
        return E - k;
      }, this.#d = (S) => v[S] !== 0 && y[S] !== 0 && (_ || w()) - y[S] > v[S];
    }
    #A = () => {
    };
    #T = () => {
    };
    #L = () => {
    };
    #d = () => !1;
    #B() {
      let v = new c(this.#l);
      this.#g = 0, this.#S = v, this.#E = (y) => {
        this.#g -= v[y], v[y] = 0;
      }, this.#O = (y, _, w, S) => {
        if (this.#t(_))
          return 0;
        if (!l(w))
          if (S) {
            if (typeof S != "function")
              throw new TypeError("sizeCalculation must be a function");
            if (w = S(_, y), !l(w))
              throw new TypeError("sizeCalculation return invalid (expect positive integer)");
          } else
            throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");
        return w;
      }, this.#M = (y, _, w) => {
        if (v[y] = _, this.#h) {
          let S = this.#h - v[y];
          for (; this.#g > S; )
            this.#I(!0);
        }
        this.#g += v[y], w && (w.entrySize = _, w.totalCalculatedSize = this.#g);
      };
    }
    #E = (v) => {
    };
    #M = (v, y, _) => {
    };
    #O = (v, y, _, w) => {
      if (_ || w)
        throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");
      return 0;
    };
    *#b({ allowStale: v = this.allowStale } = {}) {
      if (this.#n)
        for (let y = this.#a; !(!this.#F(y) || ((v || !this.#d(y)) && (yield y), y === this.#s)); )
          y = this.#f[y];
    }
    *#w({ allowStale: v = this.allowStale } = {}) {
      if (this.#n)
        for (let y = this.#s; !(!this.#F(y) || ((v || !this.#d(y)) && (yield y), y === this.#a)); )
          y = this.#u[y];
    }
    #F(v) {
      return v !== void 0 && this.#i.get(this.#r[v]) === v;
    }
    *entries() {
      for (let v of this.#b())
        this.#e[v] !== void 0 && this.#r[v] !== void 0 && !this.#t(this.#e[v]) && (yield [this.#r[v], this.#e[v]]);
    }
    *rentries() {
      for (let v of this.#w())
        this.#e[v] !== void 0 && this.#r[v] !== void 0 && !this.#t(this.#e[v]) && (yield [this.#r[v], this.#e[v]]);
    }
    *keys() {
      for (let v of this.#b()) {
        let y = this.#r[v];
        y !== void 0 && !this.#t(this.#e[v]) && (yield y);
      }
    }
    *rkeys() {
      for (let v of this.#w()) {
        let y = this.#r[v];
        y !== void 0 && !this.#t(this.#e[v]) && (yield y);
      }
    }
    *values() {
      for (let v of this.#b())
        this.#e[v] !== void 0 && !this.#t(this.#e[v]) && (yield this.#e[v]);
    }
    *rvalues() {
      for (let v of this.#w())
        this.#e[v] !== void 0 && !this.#t(this.#e[v]) && (yield this.#e[v]);
    }
    [Symbol.iterator]() {
      return this.entries();
    }
    find(v, y = {}) {
      for (let _ of this.#b()) {
        let w = this.#e[_], S = this.#t(w) ? w.__staleWhileFetching : w;
        if (S !== void 0 && v(S, this.#r[_], this))
          return this.get(this.#r[_], y);
      }
    }
    forEach(v, y = this) {
      for (let _ of this.#b()) {
        let w = this.#e[_], S = this.#t(w) ? w.__staleWhileFetching : w;
        S !== void 0 && v.call(y, S, this.#r[_], this);
      }
    }
    rforEach(v, y = this) {
      for (let _ of this.#w()) {
        let w = this.#e[_], S = this.#t(w) ? w.__staleWhileFetching : w;
        S !== void 0 && v.call(y, S, this.#r[_], this);
      }
    }
    purgeStale() {
      let v = !1;
      for (let y of this.#w({ allowStale: !0 }))
        this.#d(y) && (this.delete(this.#r[y]), v = !0);
      return v;
    }
    dump() {
      let v = [];
      for (let y of this.#b({ allowStale: !0 })) {
        let _ = this.#r[y], w = this.#e[y], S = this.#t(w) ? w.__staleWhileFetching : w;
        if (S === void 0 || _ === void 0)
          continue;
        let x = { value: S };
        if (this.#y && this.#x) {
          x.ttl = this.#y[y];
          let E = e.now() - this.#x[y];
          x.start = Math.floor(Date.now() - E);
        }
        this.#S && (x.size = this.#S[y]), v.unshift([_, x]);
      }
      return v;
    }
    load(v) {
      this.clear();
      for (let [y, _] of v) {
        if (_.start) {
          let w = Date.now() - _.start;
          _.start = e.now() - w;
        }
        this.set(y, _.value, _);
      }
    }
    set(v, y, _ = {}) {
      if (y === void 0)
        return this.delete(v), this;
      let { ttl: w = this.ttl, start: S, noDisposeOnSet: x = this.noDisposeOnSet, sizeCalculation: E = this.sizeCalculation, status: M } = _, { noUpdateTTL: k = this.noUpdateTTL } = _, P = this.#O(v, y, _.size || 0, E);
      if (this.maxEntrySize && P > this.maxEntrySize)
        return M && (M.set = "miss", M.maxEntrySizeExceeded = !0), this.delete(v), this;
      let L = this.#n === 0 ? void 0 : this.#i.get(v);
      if (L === void 0)
        L = this.#n === 0 ? this.#a : this.#m.length !== 0 ? this.#m.pop() : this.#n === this.#l ? this.#I(!1) : this.#n, this.#r[L] = v, this.#e[L] = y, this.#i.set(v, L), this.#u[this.#a] = L, this.#f[L] = this.#a, this.#a = L, this.#n++, this.#M(L, P, M), M && (M.set = "add"), k = !1;
      else {
        this.#D(L);
        let F = this.#e[L];
        if (y !== F) {
          if (this.#C && this.#t(F)) {
            F.__abortController.abort(new Error("replaced"));
            let { __staleWhileFetching: O } = F;
            O !== void 0 && !x && (this.#_ && this.#p?.(O, v, "set"), this.#c && this.#o?.push([O, v, "set"]));
          } else
            x || (this.#_ && this.#p?.(F, v, "set"), this.#c && this.#o?.push([F, v, "set"]));
          if (this.#E(L), this.#M(L, P, M), this.#e[L] = y, M) {
            M.set = "replace";
            let O = F && this.#t(F) ? F.__staleWhileFetching : F;
            O !== void 0 && (M.oldValue = O);
          }
        } else
          M && (M.set = "update");
      }
      if (w !== 0 && !this.#y && this.#R(), this.#y && (k || this.#L(L, w, S), M && this.#T(M, L)), !x && this.#c && this.#o) {
        let F = this.#o, O;
        for (; O = F?.shift(); )
          this.#v?.(...O);
      }
      return this;
    }
    pop() {
      try {
        for (; this.#n; ) {
          let v = this.#e[this.#s];
          if (this.#I(!0), this.#t(v)) {
            if (v.__staleWhileFetching)
              return v.__staleWhileFetching;
          } else if (v !== void 0)
            return v;
        }
      } finally {
        if (this.#c && this.#o) {
          let v = this.#o, y;
          for (; y = v?.shift(); )
            this.#v?.(...y);
        }
      }
    }
    #I(v) {
      let y = this.#s, _ = this.#r[y], w = this.#e[y];
      return this.#C && this.#t(w) ? w.__abortController.abort(new Error("evicted")) : (this.#_ || this.#c) && (this.#_ && this.#p?.(w, _, "evict"), this.#c && this.#o?.push([w, _, "evict"])), this.#E(y), v && (this.#r[y] = void 0, this.#e[y] = void 0, this.#m.push(y)), this.#n === 1 ? (this.#s = this.#a = 0, this.#m.length = 0) : this.#s = this.#u[y], this.#i.delete(_), this.#n--, y;
    }
    has(v, y = {}) {
      let { updateAgeOnHas: _ = this.updateAgeOnHas, status: w } = y, S = this.#i.get(v);
      if (S !== void 0) {
        let x = this.#e[S];
        if (this.#t(x) && x.__staleWhileFetching === void 0)
          return !1;
        if (this.#d(S))
          w && (w.has = "stale", this.#T(w, S));
        else
          return _ && this.#A(S), w && (w.has = "hit", this.#T(w, S)), !0;
      } else
        w && (w.has = "miss");
      return !1;
    }
    peek(v, y = {}) {
      let { allowStale: _ = this.allowStale } = y, w = this.#i.get(v);
      if (w !== void 0 && (_ || !this.#d(w))) {
        let S = this.#e[w];
        return this.#t(S) ? S.__staleWhileFetching : S;
      }
    }
    #P(v, y, _, w) {
      let S = y === void 0 ? void 0 : this.#e[y];
      if (this.#t(S))
        return S;
      let x = new n(), { signal: E } = _;
      E?.addEventListener("abort", () => x.abort(E.reason), { signal: x.signal });
      let M = { signal: x.signal, options: _, context: w }, k = (V, G = !1) => {
        let { aborted: Z } = x.signal, Q = _.ignoreFetchAbort && V !== void 0;
        if (_.status && (Z && !G ? (_.status.fetchAborted = !0, _.status.fetchError = x.signal.reason, Q && (_.status.fetchAbortIgnored = !0)) : _.status.fetchResolved = !0), Z && !Q && !G)
          return L(x.signal.reason);
        let se = O;
        return this.#e[y] === O && (V === void 0 ? se.__staleWhileFetching ? this.#e[y] = se.__staleWhileFetching : this.delete(v) : (_.status && (_.status.fetchUpdated = !0), this.set(v, V, M.options))), V;
      }, P = (V) => (_.status && (_.status.fetchRejected = !0, _.status.fetchError = V), L(V)), L = (V) => {
        let { aborted: G } = x.signal, Z = G && _.allowStaleOnFetchAbort, Q = Z || _.allowStaleOnFetchRejection, se = Q || _.noDeleteOnFetchRejection, de = O;
        if (this.#e[y] === O && (!se || de.__staleWhileFetching === void 0 ? this.delete(v) : Z || (this.#e[y] = de.__staleWhileFetching)), Q)
          return _.status && de.__staleWhileFetching !== void 0 && (_.status.returnedStale = !0), de.__staleWhileFetching;
        if (de.__returned === de)
          throw V;
      }, F = (V, G) => {
        let Z = this.#k?.(v, S, M);
        Z && Z instanceof Promise && Z.then((Q) => V(Q === void 0 ? void 0 : Q), G), x.signal.addEventListener("abort", () => {
          (!_.ignoreFetchAbort || _.allowStaleOnFetchAbort) && (V(void 0), _.allowStaleOnFetchAbort && (V = (Q) => k(Q, !0)));
        });
      };
      _.status && (_.status.fetchDispatched = !0);
      let O = new Promise(F).then(k, P), U = Object.assign(O, { __abortController: x, __staleWhileFetching: S, __returned: void 0 });
      return y === void 0 ? (this.set(v, U, { ...M.options, status: void 0 }), y = this.#i.get(v)) : this.#e[y] = U, U;
    }
    #t(v) {
      if (!this.#C)
        return !1;
      let y = v;
      return !!y && y instanceof Promise && y.hasOwnProperty("__staleWhileFetching") && y.__abortController instanceof n;
    }
    async fetch(v, y = {}) {
      let { allowStale: _ = this.allowStale, updateAgeOnGet: w = this.updateAgeOnGet, noDeleteOnStaleGet: S = this.noDeleteOnStaleGet, ttl: x = this.ttl, noDisposeOnSet: E = this.noDisposeOnSet, size: M = 0, sizeCalculation: k = this.sizeCalculation, noUpdateTTL: P = this.noUpdateTTL, noDeleteOnFetchRejection: L = this.noDeleteOnFetchRejection, allowStaleOnFetchRejection: F = this.allowStaleOnFetchRejection, ignoreFetchAbort: O = this.ignoreFetchAbort, allowStaleOnFetchAbort: U = this.allowStaleOnFetchAbort, context: V, forceRefresh: G = !1, status: Z, signal: Q } = y;
      if (!this.#C)
        return Z && (Z.fetch = "get"), this.get(v, { allowStale: _, updateAgeOnGet: w, noDeleteOnStaleGet: S, status: Z });
      let se = { allowStale: _, updateAgeOnGet: w, noDeleteOnStaleGet: S, ttl: x, noDisposeOnSet: E, size: M, sizeCalculation: k, noUpdateTTL: P, noDeleteOnFetchRejection: L, allowStaleOnFetchRejection: F, allowStaleOnFetchAbort: U, ignoreFetchAbort: O, status: Z, signal: Q }, de = this.#i.get(v);
      if (de === void 0) {
        Z && (Z.fetch = "miss");
        let le = this.#P(v, de, se, V);
        return le.__returned = le;
      } else {
        let le = this.#e[de];
        if (this.#t(le)) {
          let K = _ && le.__staleWhileFetching !== void 0;
          return Z && (Z.fetch = "inflight", K && (Z.returnedStale = !0)), K ? le.__staleWhileFetching : le.__returned = le;
        }
        let Se = this.#d(de);
        if (!G && !Se)
          return Z && (Z.fetch = "hit"), this.#D(de), w && this.#A(de), Z && this.#T(Z, de), le;
        let he = this.#P(v, de, se, V), fe = he.__staleWhileFetching !== void 0 && _;
        return Z && (Z.fetch = Se ? "stale" : "refresh", fe && Se && (Z.returnedStale = !0)), fe ? he.__staleWhileFetching : he.__returned = he;
      }
    }
    get(v, y = {}) {
      let { allowStale: _ = this.allowStale, updateAgeOnGet: w = this.updateAgeOnGet, noDeleteOnStaleGet: S = this.noDeleteOnStaleGet, status: x } = y, E = this.#i.get(v);
      if (E !== void 0) {
        let M = this.#e[E], k = this.#t(M);
        return x && this.#T(x, E), this.#d(E) ? (x && (x.get = "stale"), k ? (x && _ && M.__staleWhileFetching !== void 0 && (x.returnedStale = !0), _ ? M.__staleWhileFetching : void 0) : (S || this.delete(v), x && _ && (x.returnedStale = !0), _ ? M : void 0)) : (x && (x.get = "hit"), k ? M.__staleWhileFetching : (this.#D(E), w && this.#A(E), M));
      } else
        x && (x.get = "miss");
    }
    #N(v, y) {
      this.#f[y] = v, this.#u[v] = y;
    }
    #D(v) {
      v !== this.#a && (v === this.#s ? this.#s = this.#u[v] : this.#N(this.#f[v], this.#u[v]), this.#N(this.#a, v), this.#a = v);
    }
    delete(v) {
      let y = !1;
      if (this.#n !== 0) {
        let _ = this.#i.get(v);
        if (_ !== void 0)
          if (y = !0, this.#n === 1)
            this.clear();
          else {
            this.#E(_);
            let w = this.#e[_];
            this.#t(w) ? w.__abortController.abort(new Error("deleted")) : (this.#_ || this.#c) && (this.#_ && this.#p?.(w, v, "delete"), this.#c && this.#o?.push([w, v, "delete"])), this.#i.delete(v), this.#r[_] = void 0, this.#e[_] = void 0, _ === this.#a ? this.#a = this.#f[_] : _ === this.#s ? this.#s = this.#u[_] : (this.#u[this.#f[_]] = this.#u[_], this.#f[this.#u[_]] = this.#f[_]), this.#n--, this.#m.push(_);
          }
      }
      if (this.#c && this.#o?.length) {
        let _ = this.#o, w;
        for (; w = _?.shift(); )
          this.#v?.(...w);
      }
      return y;
    }
    clear() {
      for (let v of this.#w({ allowStale: !0 })) {
        let y = this.#e[v];
        if (this.#t(y))
          y.__abortController.abort(new Error("deleted"));
        else {
          let _ = this.#r[v];
          this.#_ && this.#p?.(y, _, "delete"), this.#c && this.#o?.push([y, _, "delete"]);
        }
      }
      if (this.#i.clear(), this.#e.fill(void 0), this.#r.fill(void 0), this.#y && this.#x && (this.#y.fill(0), this.#x.fill(0)), this.#S && this.#S.fill(0), this.#s = 0, this.#a = 0, this.#m.length = 0, this.#g = 0, this.#n = 0, this.#c && this.#o) {
        let v = this.#o, y;
        for (; y = v?.shift(); )
          this.#v?.(...y);
      }
    }
  };
  r.LRUCache = d;
}), qu = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), r.ContainerIterator = r.Container = r.Base = void 0;
  var e = class {
    constructor(a = 0) {
      this.iteratorType = a;
    }
    equals(a) {
      return this.o === a.o;
    }
  };
  r.ContainerIterator = e;
  var t = class {
    constructor() {
      this.i = 0;
    }
    get length() {
      return this.i;
    }
    size() {
      return this.i;
    }
    empty() {
      return this.i === 0;
    }
  };
  r.Base = t;
  var i = class extends t {
  };
  r.Container = i;
}), Rae = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), r.default = void 0;
  var e = qu(), t = class extends e.Base {
    constructor(a = []) {
      super(), this.S = [];
      let n = this;
      a.forEach(function(o) {
        n.push(o);
      });
    }
    clear() {
      this.i = 0, this.S = [];
    }
    push(a) {
      return this.S.push(a), this.i += 1, this.i;
    }
    pop() {
      if (this.i !== 0)
        return this.i -= 1, this.S.pop();
    }
    top() {
      return this.S[this.i - 1];
    }
  }, i = t;
  r.default = i;
}), Lae = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), r.default = void 0;
  var e = qu(), t = class extends e.Base {
    constructor(a = []) {
      super(), this.j = 0, this.q = [];
      let n = this;
      a.forEach(function(o) {
        n.push(o);
      });
    }
    clear() {
      this.q = [], this.i = this.j = 0;
    }
    push(a) {
      let n = this.q.length;
      if (this.j / n > 0.5 && this.j + this.i >= n && n > 4096) {
        let o = this.i;
        for (let s = 0; s < o; ++s)
          this.q[s] = this.q[this.j + s];
        this.j = 0, this.q[this.i] = a;
      } else
        this.q[this.j + this.i] = a;
      return ++this.i;
    }
    pop() {
      if (this.i === 0)
        return;
      let a = this.q[this.j++];
      return this.i -= 1, a;
    }
    front() {
      if (this.i !== 0)
        return this.q[this.j];
    }
  }, i = t;
  r.default = i;
}), Oae = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), r.default = void 0;
  var e = qu(), t = class extends e.Base {
    constructor(a = [], n = function(s, l) {
      return s > l ? -1 : s < l ? 1 : 0;
    }, o = !0) {
      if (super(), this.v = n, Array.isArray(a))
        this.C = o ? [...a] : a;
      else {
        this.C = [];
        let l = this;
        a.forEach(function(u) {
          l.C.push(u);
        });
      }
      this.i = this.C.length;
      let s = this.i >> 1;
      for (let l = this.i - 1 >> 1; l >= 0; --l)
        this.k(l, s);
    }
    m(a) {
      let n = this.C[a];
      for (; a > 0; ) {
        let o = a - 1 >> 1, s = this.C[o];
        if (this.v(s, n) <= 0)
          break;
        this.C[a] = s, a = o;
      }
      this.C[a] = n;
    }
    k(a, n) {
      let o = this.C[a];
      for (; a < n; ) {
        let s = a << 1 | 1, l = s + 1, u = this.C[s];
        if (l < this.i && this.v(u, this.C[l]) > 0 && (s = l, u = this.C[l]), this.v(u, o) >= 0)
          break;
        this.C[a] = u, a = s;
      }
      this.C[a] = o;
    }
    clear() {
      this.i = 0, this.C.length = 0;
    }
    push(a) {
      this.C.push(a), this.m(this.i), this.i += 1;
    }
    pop() {
      if (this.i === 0)
        return;
      let a = this.C[0], n = this.C.pop();
      return this.i -= 1, this.i && (this.C[0] = n, this.k(0, this.i >> 1)), a;
    }
    top() {
      return this.C[0];
    }
    find(a) {
      return this.C.indexOf(a) >= 0;
    }
    remove(a) {
      let n = this.C.indexOf(a);
      return n < 0 ? !1 : (n === 0 ? this.pop() : n === this.i - 1 ? (this.C.pop(), this.i -= 1) : (this.C.splice(n, 1, this.C.pop()), this.i -= 1, this.m(n), this.k(n, this.i >> 1)), !0);
    }
    updateItem(a) {
      let n = this.C.indexOf(a);
      return n < 0 ? !1 : (this.m(n), this.k(n, this.i >> 1), !0);
    }
    toArray() {
      return [...this.C];
    }
  }, i = t;
  r.default = i;
}), ZE = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), r.default = void 0;
  var e = qu(), t = class extends e.Container {
  }, i = t;
  r.default = i;
}), Xu = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), r.throwIteratorAccessError = e;
  function e() {
    throw new RangeError("Iterator access denied!");
  }
}), vW = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), r.RandomIterator = void 0;
  var e = qu(), t = Xu(), i = class extends e.ContainerIterator {
    constructor(a, n) {
      super(n), this.o = a, this.iteratorType === 0 ? (this.pre = function() {
        return this.o === 0 && (0, t.throwIteratorAccessError)(), this.o -= 1, this;
      }, this.next = function() {
        return this.o === this.container.size() && (0, t.throwIteratorAccessError)(), this.o += 1, this;
      }) : (this.pre = function() {
        return this.o === this.container.size() - 1 && (0, t.throwIteratorAccessError)(), this.o += 1, this;
      }, this.next = function() {
        return this.o === -1 && (0, t.throwIteratorAccessError)(), this.o -= 1, this;
      });
    }
    get pointer() {
      return this.container.getElementByPos(this.o);
    }
    set pointer(a) {
      this.container.setElementByPos(this.o, a);
    }
  };
  r.RandomIterator = i;
}), Fae = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), r.default = void 0;
  var e = i(ZE()), t = vW();
  function i(s) {
    return s && s.t ? s : { default: s };
  }
  var a = class gW extends t.RandomIterator {
    constructor(l, u, c) {
      super(l, c), this.container = u;
    }
    copy() {
      return new gW(this.o, this.container, this.iteratorType);
    }
  }, n = class extends e.default {
    constructor(s = [], l = !0) {
      if (super(), Array.isArray(s))
        this.J = l ? [...s] : s, this.i = s.length;
      else {
        this.J = [];
        let u = this;
        s.forEach(function(c) {
          u.pushBack(c);
        });
      }
    }
    clear() {
      this.i = 0, this.J.length = 0;
    }
    begin() {
      return new a(0, this);
    }
    end() {
      return new a(this.i, this);
    }
    rBegin() {
      return new a(this.i - 1, this, 1);
    }
    rEnd() {
      return new a(-1, this, 1);
    }
    front() {
      return this.J[0];
    }
    back() {
      return this.J[this.i - 1];
    }
    getElementByPos(s) {
      if (s < 0 || s > this.i - 1)
        throw new RangeError();
      return this.J[s];
    }
    eraseElementByPos(s) {
      if (s < 0 || s > this.i - 1)
        throw new RangeError();
      return this.J.splice(s, 1), this.i -= 1, this.i;
    }
    eraseElementByValue(s) {
      let l = 0;
      for (let u = 0; u < this.i; ++u)
        this.J[u] !== s && (this.J[l++] = this.J[u]);
      return this.i = this.J.length = l, this.i;
    }
    eraseElementByIterator(s) {
      let l = s.o;
      return s = s.next(), this.eraseElementByPos(l), s;
    }
    pushBack(s) {
      return this.J.push(s), this.i += 1, this.i;
    }
    popBack() {
      if (this.i !== 0)
        return this.i -= 1, this.J.pop();
    }
    setElementByPos(s, l) {
      if (s < 0 || s > this.i - 1)
        throw new RangeError();
      this.J[s] = l;
    }
    insert(s, l, u = 1) {
      if (s < 0 || s > this.i)
        throw new RangeError();
      return this.J.splice(s, 0, ...new Array(u).fill(l)), this.i += u, this.i;
    }
    find(s) {
      for (let l = 0; l < this.i; ++l)
        if (this.J[l] === s)
          return new a(l, this);
      return this.end();
    }
    reverse() {
      this.J.reverse();
    }
    unique() {
      let s = 1;
      for (let l = 1; l < this.i; ++l)
        this.J[l] !== this.J[l - 1] && (this.J[s++] = this.J[l]);
      return this.i = this.J.length = s, this.i;
    }
    sort(s) {
      this.J.sort(s);
    }
    forEach(s) {
      for (let l = 0; l < this.i; ++l)
        s(this.J[l], l, this);
    }
    [Symbol.iterator]() {
      return function* () {
        yield* this.J;
      }.bind(this)();
    }
  }, o = n;
  r.default = o;
}), Nae = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), r.default = void 0;
  var e = a(ZE()), t = qu(), i = Xu();
  function a(l) {
    return l && l.t ? l : { default: l };
  }
  var n = class mW extends t.ContainerIterator {
    constructor(u, c, f, d) {
      super(d), this.o = u, this.h = c, this.container = f, this.iteratorType === 0 ? (this.pre = function() {
        return this.o.L === this.h && (0, i.throwIteratorAccessError)(), this.o = this.o.L, this;
      }, this.next = function() {
        return this.o === this.h && (0, i.throwIteratorAccessError)(), this.o = this.o.B, this;
      }) : (this.pre = function() {
        return this.o.B === this.h && (0, i.throwIteratorAccessError)(), this.o = this.o.B, this;
      }, this.next = function() {
        return this.o === this.h && (0, i.throwIteratorAccessError)(), this.o = this.o.L, this;
      });
    }
    get pointer() {
      return this.o === this.h && (0, i.throwIteratorAccessError)(), this.o.l;
    }
    set pointer(u) {
      this.o === this.h && (0, i.throwIteratorAccessError)(), this.o.l = u;
    }
    copy() {
      return new mW(this.o, this.h, this.container, this.iteratorType);
    }
  }, o = class extends e.default {
    constructor(l = []) {
      super(), this.h = {}, this.p = this._ = this.h.L = this.h.B = this.h;
      let u = this;
      l.forEach(function(c) {
        u.pushBack(c);
      });
    }
    V(l) {
      let { L: u, B: c } = l;
      u.B = c, c.L = u, l === this.p && (this.p = c), l === this._ && (this._ = u), this.i -= 1;
    }
    G(l, u) {
      let c = u.B, f = { l, L: u, B: c };
      u.B = f, c.L = f, u === this.h && (this.p = f), c === this.h && (this._ = f), this.i += 1;
    }
    clear() {
      this.i = 0, this.p = this._ = this.h.L = this.h.B = this.h;
    }
    begin() {
      return new n(this.p, this.h, this);
    }
    end() {
      return new n(this.h, this.h, this);
    }
    rBegin() {
      return new n(this._, this.h, this, 1);
    }
    rEnd() {
      return new n(this.h, this.h, this, 1);
    }
    front() {
      return this.p.l;
    }
    back() {
      return this._.l;
    }
    getElementByPos(l) {
      if (l < 0 || l > this.i - 1)
        throw new RangeError();
      let u = this.p;
      for (; l--; )
        u = u.B;
      return u.l;
    }
    eraseElementByPos(l) {
      if (l < 0 || l > this.i - 1)
        throw new RangeError();
      let u = this.p;
      for (; l--; )
        u = u.B;
      return this.V(u), this.i;
    }
    eraseElementByValue(l) {
      let u = this.p;
      for (; u !== this.h; )
        u.l === l && this.V(u), u = u.B;
      return this.i;
    }
    eraseElementByIterator(l) {
      let u = l.o;
      return u === this.h && (0, i.throwIteratorAccessError)(), l = l.next(), this.V(u), l;
    }
    pushBack(l) {
      return this.G(l, this._), this.i;
    }
    popBack() {
      if (this.i === 0)
        return;
      let l = this._.l;
      return this.V(this._), l;
    }
    pushFront(l) {
      return this.G(l, this.h), this.i;
    }
    popFront() {
      if (this.i === 0)
        return;
      let l = this.p.l;
      return this.V(this.p), l;
    }
    setElementByPos(l, u) {
      if (l < 0 || l > this.i - 1)
        throw new RangeError();
      let c = this.p;
      for (; l--; )
        c = c.B;
      c.l = u;
    }
    insert(l, u, c = 1) {
      if (l < 0 || l > this.i)
        throw new RangeError();
      if (c <= 0)
        return this.i;
      if (l === 0)
        for (; c--; )
          this.pushFront(u);
      else if (l === this.i)
        for (; c--; )
          this.pushBack(u);
      else {
        let f = this.p;
        for (let p = 1; p < l; ++p)
          f = f.B;
        let d = f.B;
        for (this.i += c; c--; )
          f.B = { l: u, L: f }, f.B.L = f, f = f.B;
        f.B = d, d.L = f;
      }
      return this.i;
    }
    find(l) {
      let u = this.p;
      for (; u !== this.h; ) {
        if (u.l === l)
          return new n(u, this.h, this);
        u = u.B;
      }
      return this.end();
    }
    reverse() {
      if (this.i <= 1)
        return;
      let l = this.p, u = this._, c = 0;
      for (; c << 1 < this.i; ) {
        let f = l.l;
        l.l = u.l, u.l = f, l = l.B, u = u.L, c += 1;
      }
    }
    unique() {
      if (this.i <= 1)
        return this.i;
      let l = this.p;
      for (; l !== this.h; ) {
        let u = l;
        for (; u.B !== this.h && u.l === u.B.l; )
          u = u.B, this.i -= 1;
        l.B = u.B, l.B.L = l, l = l.B;
      }
      return this.i;
    }
    sort(l) {
      if (this.i <= 1)
        return;
      let u = [];
      this.forEach(function(f) {
        u.push(f);
      }), u.sort(l);
      let c = this.p;
      u.forEach(function(f) {
        c.l = f, c = c.B;
      });
    }
    merge(l) {
      let u = this;
      if (this.i === 0)
        l.forEach(function(c) {
          u.pushBack(c);
        });
      else {
        let c = this.p;
        l.forEach(function(f) {
          for (; c !== u.h && c.l <= f; )
            c = c.B;
          u.G(f, c.L);
        });
      }
      return this.i;
    }
    forEach(l) {
      let u = this.p, c = 0;
      for (; u !== this.h; )
        l(u.l, c++, this), u = u.B;
    }
    [Symbol.iterator]() {
      return function* () {
        if (this.i === 0)
          return;
        let l = this.p;
        for (; l !== this.h; )
          yield l.l, l = l.B;
      }.bind(this)();
    }
  }, s = o;
  r.default = s;
}), Bae = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), r.default = void 0;
  var e = i(ZE()), t = vW();
  function i(s) {
    return s && s.t ? s : { default: s };
  }
  var a = class yW extends t.RandomIterator {
    constructor(l, u, c) {
      super(l, c), this.container = u;
    }
    copy() {
      return new yW(this.o, this.container, this.iteratorType);
    }
  }, n = class extends e.default {
    constructor(s = [], l = 4096) {
      super(), this.j = 0, this.D = 0, this.R = 0, this.N = 0, this.P = 0, this.A = [];
      let u = (() => {
        if (typeof s.length == "number")
          return s.length;
        if (typeof s.size == "number")
          return s.size;
        if (typeof s.size == "function")
          return s.size();
        throw new TypeError("Cannot get the length or size of the container");
      })();
      this.F = l, this.P = Math.max(Math.ceil(u / this.F), 1);
      for (let d = 0; d < this.P; ++d)
        this.A.push(new Array(this.F));
      let c = Math.ceil(u / this.F);
      this.j = this.R = (this.P >> 1) - (c >> 1), this.D = this.N = this.F - u % this.F >> 1;
      let f = this;
      s.forEach(function(d) {
        f.pushBack(d);
      });
    }
    T() {
      let s = [], l = Math.max(this.P >> 1, 1);
      for (let u = 0; u < l; ++u)
        s[u] = new Array(this.F);
      for (let u = this.j; u < this.P; ++u)
        s[s.length] = this.A[u];
      for (let u = 0; u < this.R; ++u)
        s[s.length] = this.A[u];
      s[s.length] = [...this.A[this.R]], this.j = l, this.R = s.length - 1;
      for (let u = 0; u < l; ++u)
        s[s.length] = new Array(this.F);
      this.A = s, this.P = s.length;
    }
    O(s) {
      let l = this.D + s + 1, u = l % this.F, c = u - 1, f = this.j + (l - u) / this.F;
      return u === 0 && (f -= 1), f %= this.P, c < 0 && (c += this.F), { curNodeBucketIndex: f, curNodePointerIndex: c };
    }
    clear() {
      this.A = [new Array(this.F)], this.P = 1, this.j = this.R = this.i = 0, this.D = this.N = this.F >> 1;
    }
    begin() {
      return new a(0, this);
    }
    end() {
      return new a(this.i, this);
    }
    rBegin() {
      return new a(this.i - 1, this, 1);
    }
    rEnd() {
      return new a(-1, this, 1);
    }
    front() {
      if (this.i !== 0)
        return this.A[this.j][this.D];
    }
    back() {
      if (this.i !== 0)
        return this.A[this.R][this.N];
    }
    pushBack(s) {
      return this.i && (this.N < this.F - 1 ? this.N += 1 : this.R < this.P - 1 ? (this.R += 1, this.N = 0) : (this.R = 0, this.N = 0), this.R === this.j && this.N === this.D && this.T()), this.i += 1, this.A[this.R][this.N] = s, this.i;
    }
    popBack() {
      if (this.i === 0)
        return;
      let s = this.A[this.R][this.N];
      return this.i !== 1 && (this.N > 0 ? this.N -= 1 : this.R > 0 ? (this.R -= 1, this.N = this.F - 1) : (this.R = this.P - 1, this.N = this.F - 1)), this.i -= 1, s;
    }
    pushFront(s) {
      return this.i && (this.D > 0 ? this.D -= 1 : this.j > 0 ? (this.j -= 1, this.D = this.F - 1) : (this.j = this.P - 1, this.D = this.F - 1), this.j === this.R && this.D === this.N && this.T()), this.i += 1, this.A[this.j][this.D] = s, this.i;
    }
    popFront() {
      if (this.i === 0)
        return;
      let s = this.A[this.j][this.D];
      return this.i !== 1 && (this.D < this.F - 1 ? this.D += 1 : this.j < this.P - 1 ? (this.j += 1, this.D = 0) : (this.j = 0, this.D = 0)), this.i -= 1, s;
    }
    getElementByPos(s) {
      if (s < 0 || s > this.i - 1)
        throw new RangeError();
      let { curNodeBucketIndex: l, curNodePointerIndex: u } = this.O(s);
      return this.A[l][u];
    }
    setElementByPos(s, l) {
      if (s < 0 || s > this.i - 1)
        throw new RangeError();
      let { curNodeBucketIndex: u, curNodePointerIndex: c } = this.O(s);
      this.A[u][c] = l;
    }
    insert(s, l, u = 1) {
      if (s < 0 || s > this.i)
        throw new RangeError();
      if (s === 0)
        for (; u--; )
          this.pushFront(l);
      else if (s === this.i)
        for (; u--; )
          this.pushBack(l);
      else {
        let c = [];
        for (let f = s; f < this.i; ++f)
          c.push(this.getElementByPos(f));
        this.cut(s - 1);
        for (let f = 0; f < u; ++f)
          this.pushBack(l);
        for (let f = 0; f < c.length; ++f)
          this.pushBack(c[f]);
      }
      return this.i;
    }
    cut(s) {
      if (s < 0)
        return this.clear(), 0;
      let { curNodeBucketIndex: l, curNodePointerIndex: u } = this.O(s);
      return this.R = l, this.N = u, this.i = s + 1, this.i;
    }
    eraseElementByPos(s) {
      if (s < 0 || s > this.i - 1)
        throw new RangeError();
      if (s === 0)
        this.popFront();
      else if (s === this.i - 1)
        this.popBack();
      else {
        let l = [];
        for (let c = s + 1; c < this.i; ++c)
          l.push(this.getElementByPos(c));
        this.cut(s), this.popBack();
        let u = this;
        l.forEach(function(c) {
          u.pushBack(c);
        });
      }
      return this.i;
    }
    eraseElementByValue(s) {
      if (this.i === 0)
        return 0;
      let l = [];
      for (let c = 0; c < this.i; ++c) {
        let f = this.getElementByPos(c);
        f !== s && l.push(f);
      }
      let u = l.length;
      for (let c = 0; c < u; ++c)
        this.setElementByPos(c, l[c]);
      return this.cut(u - 1);
    }
    eraseElementByIterator(s) {
      let l = s.o;
      return this.eraseElementByPos(l), s = s.next(), s;
    }
    find(s) {
      for (let l = 0; l < this.i; ++l)
        if (this.getElementByPos(l) === s)
          return new a(l, this);
      return this.end();
    }
    reverse() {
      let s = 0, l = this.i - 1;
      for (; s < l; ) {
        let u = this.getElementByPos(s);
        this.setElementByPos(s, this.getElementByPos(l)), this.setElementByPos(l, u), s += 1, l -= 1;
      }
    }
    unique() {
      if (this.i <= 1)
        return this.i;
      let s = 1, l = this.getElementByPos(0);
      for (let u = 1; u < this.i; ++u) {
        let c = this.getElementByPos(u);
        c !== l && (l = c, this.setElementByPos(s++, c));
      }
      for (; this.i > s; )
        this.popBack();
      return this.i;
    }
    sort(s) {
      let l = [];
      for (let u = 0; u < this.i; ++u)
        l.push(this.getElementByPos(u));
      l.sort(s);
      for (let u = 0; u < this.i; ++u)
        this.setElementByPos(u, l[u]);
    }
    shrinkToFit() {
      if (this.i === 0)
        return;
      let s = [];
      this.forEach(function(l) {
        s.push(l);
      }), this.P = Math.max(Math.ceil(this.i / this.F), 1), this.i = this.j = this.R = this.D = this.N = 0, this.A = [];
      for (let l = 0; l < this.P; ++l)
        this.A.push(new Array(this.F));
      for (let l = 0; l < s.length; ++l)
        this.pushBack(s[l]);
    }
    forEach(s) {
      for (let l = 0; l < this.i; ++l)
        s(this.getElementByPos(l), l, this);
    }
    [Symbol.iterator]() {
      return function* () {
        for (let s = 0; s < this.i; ++s)
          yield this.getElementByPos(s);
      }.bind(this)();
    }
  }, o = n;
  r.default = o;
}), Vae = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), r.TreeNodeEnableIndex = r.TreeNode = void 0;
  var e = class {
    constructor(i, a) {
      this.ee = 1, this.u = void 0, this.l = void 0, this.U = void 0, this.W = void 0, this.tt = void 0, this.u = i, this.l = a;
    }
    L() {
      let i = this;
      if (i.ee === 1 && i.tt.tt === i)
        i = i.W;
      else if (i.U)
        for (i = i.U; i.W; )
          i = i.W;
      else {
        let a = i.tt;
        for (; a.U === i; )
          i = a, a = i.tt;
        i = a;
      }
      return i;
    }
    B() {
      let i = this;
      if (i.W) {
        for (i = i.W; i.U; )
          i = i.U;
        return i;
      } else {
        let a = i.tt;
        for (; a.W === i; )
          i = a, a = i.tt;
        return i.W !== a ? a : i;
      }
    }
    te() {
      let i = this.tt, a = this.W, n = a.U;
      return i.tt === this ? i.tt = a : i.U === this ? i.U = a : i.W = a, a.tt = i, a.U = this, this.tt = a, this.W = n, n && (n.tt = this), a;
    }
    se() {
      let i = this.tt, a = this.U, n = a.W;
      return i.tt === this ? i.tt = a : i.U === this ? i.U = a : i.W = a, a.tt = i, a.W = this, this.tt = a, this.U = n, n && (n.tt = this), a;
    }
  };
  r.TreeNode = e;
  var t = class extends e {
    constructor() {
      super(...arguments), this.rt = 1;
    }
    te() {
      let i = super.te();
      return this.ie(), i.ie(), i;
    }
    se() {
      let i = super.se();
      return this.ie(), i.ie(), i;
    }
    ie() {
      this.rt = 1, this.U && (this.rt += this.U.rt), this.W && (this.rt += this.W.rt);
    }
  };
  r.TreeNodeEnableIndex = t;
}), _W = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), r.default = void 0;
  var e = Vae(), t = qu(), i = Xu(), a = class extends t.Container {
    constructor(o = function(l, u) {
      return l < u ? -1 : l > u ? 1 : 0;
    }, s = !1) {
      super(), this.Y = void 0, this.v = o, s ? (this.re = e.TreeNodeEnableIndex, this.M = function(l, u, c) {
        let f = this.ne(l, u, c);
        if (f) {
          let d = f.tt;
          for (; d !== this.h; )
            d.rt += 1, d = d.tt;
          let p = this.he(f);
          if (p) {
            let { parentNode: v, grandParent: y, curNode: _ } = p;
            v.ie(), y.ie(), _.ie();
          }
        }
        return this.i;
      }, this.V = function(l) {
        let u = this.fe(l);
        for (; u !== this.h; )
          u.rt -= 1, u = u.tt;
      }) : (this.re = e.TreeNode, this.M = function(l, u, c) {
        let f = this.ne(l, u, c);
        return f && this.he(f), this.i;
      }, this.V = this.fe), this.h = new this.re();
    }
    X(o, s) {
      let l = this.h;
      for (; o; ) {
        let u = this.v(o.u, s);
        if (u < 0)
          o = o.W;
        else if (u > 0)
          l = o, o = o.U;
        else
          return o;
      }
      return l;
    }
    Z(o, s) {
      let l = this.h;
      for (; o; )
        this.v(o.u, s) <= 0 ? o = o.W : (l = o, o = o.U);
      return l;
    }
    $(o, s) {
      let l = this.h;
      for (; o; ) {
        let u = this.v(o.u, s);
        if (u < 0)
          l = o, o = o.W;
        else if (u > 0)
          o = o.U;
        else
          return o;
      }
      return l;
    }
    rr(o, s) {
      let l = this.h;
      for (; o; )
        this.v(o.u, s) < 0 ? (l = o, o = o.W) : o = o.U;
      return l;
    }
    ue(o) {
      for (; ; ) {
        let s = o.tt;
        if (s === this.h)
          return;
        if (o.ee === 1) {
          o.ee = 0;
          return;
        }
        if (o === s.U) {
          let l = s.W;
          if (l.ee === 1)
            l.ee = 0, s.ee = 1, s === this.Y ? this.Y = s.te() : s.te();
          else if (l.W && l.W.ee === 1) {
            l.ee = s.ee, s.ee = 0, l.W.ee = 0, s === this.Y ? this.Y = s.te() : s.te();
            return;
          } else
            l.U && l.U.ee === 1 ? (l.ee = 1, l.U.ee = 0, l.se()) : (l.ee = 1, o = s);
        } else {
          let l = s.U;
          if (l.ee === 1)
            l.ee = 0, s.ee = 1, s === this.Y ? this.Y = s.se() : s.se();
          else if (l.U && l.U.ee === 1) {
            l.ee = s.ee, s.ee = 0, l.U.ee = 0, s === this.Y ? this.Y = s.se() : s.se();
            return;
          } else
            l.W && l.W.ee === 1 ? (l.ee = 1, l.W.ee = 0, l.te()) : (l.ee = 1, o = s);
        }
      }
    }
    fe(o) {
      if (this.i === 1)
        return this.clear(), this.h;
      let s = o;
      for (; s.U || s.W; ) {
        if (s.W)
          for (s = s.W; s.U; )
            s = s.U;
        else
          s = s.U;
        [o.u, s.u] = [s.u, o.u], [o.l, s.l] = [s.l, o.l], o = s;
      }
      this.h.U === s ? this.h.U = s.tt : this.h.W === s && (this.h.W = s.tt), this.ue(s);
      let l = s.tt;
      return s === l.U ? l.U = void 0 : l.W = void 0, this.i -= 1, this.Y.ee = 0, l;
    }
    oe(o, s) {
      return o === void 0 ? !1 : this.oe(o.U, s) || s(o) ? !0 : this.oe(o.W, s);
    }
    he(o) {
      for (; ; ) {
        let s = o.tt;
        if (s.ee === 0)
          return;
        let l = s.tt;
        if (s === l.U) {
          let u = l.W;
          if (u && u.ee === 1) {
            if (u.ee = s.ee = 0, l === this.Y)
              return;
            l.ee = 1, o = l;
            continue;
          } else if (o === s.W) {
            if (o.ee = 0, o.U && (o.U.tt = s), o.W && (o.W.tt = l), s.W = o.U, l.U = o.W, o.U = s, o.W = l, l === this.Y)
              this.Y = o, this.h.tt = o;
            else {
              let c = l.tt;
              c.U === l ? c.U = o : c.W = o;
            }
            return o.tt = l.tt, s.tt = o, l.tt = o, l.ee = 1, { parentNode: s, grandParent: l, curNode: o };
          } else
            s.ee = 0, l === this.Y ? this.Y = l.se() : l.se(), l.ee = 1;
        } else {
          let u = l.U;
          if (u && u.ee === 1) {
            if (u.ee = s.ee = 0, l === this.Y)
              return;
            l.ee = 1, o = l;
            continue;
          } else if (o === s.U) {
            if (o.ee = 0, o.U && (o.U.tt = l), o.W && (o.W.tt = s), l.W = o.U, s.U = o.W, o.U = l, o.W = s, l === this.Y)
              this.Y = o, this.h.tt = o;
            else {
              let c = l.tt;
              c.U === l ? c.U = o : c.W = o;
            }
            return o.tt = l.tt, s.tt = o, l.tt = o, l.ee = 1, { parentNode: s, grandParent: l, curNode: o };
          } else
            s.ee = 0, l === this.Y ? this.Y = l.te() : l.te(), l.ee = 1;
        }
        return;
      }
    }
    ne(o, s, l) {
      if (this.Y === void 0) {
        this.i += 1, this.Y = new this.re(o, s), this.Y.ee = 0, this.Y.tt = this.h, this.h.tt = this.Y, this.h.U = this.Y, this.h.W = this.Y;
        return;
      }
      let u, c = this.h.U, f = this.v(c.u, o);
      if (f === 0) {
        c.l = s;
        return;
      } else if (f > 0)
        c.U = new this.re(o, s), c.U.tt = c, u = c.U, this.h.U = u;
      else {
        let d = this.h.W, p = this.v(d.u, o);
        if (p === 0) {
          d.l = s;
          return;
        } else if (p < 0)
          d.W = new this.re(o, s), d.W.tt = d, u = d.W, this.h.W = u;
        else {
          if (l !== void 0) {
            let v = l.o;
            if (v !== this.h) {
              let y = this.v(v.u, o);
              if (y === 0) {
                v.l = s;
                return;
              } else if (y > 0) {
                let _ = v.L(), w = this.v(_.u, o);
                if (w === 0) {
                  _.l = s;
                  return;
                } else
                  w < 0 && (u = new this.re(o, s), _.W === void 0 ? (_.W = u, u.tt = _) : (v.U = u, u.tt = v));
              }
            }
          }
          if (u === void 0)
            for (u = this.Y; ; ) {
              let v = this.v(u.u, o);
              if (v > 0) {
                if (u.U === void 0) {
                  u.U = new this.re(o, s), u.U.tt = u, u = u.U;
                  break;
                }
                u = u.U;
              } else if (v < 0) {
                if (u.W === void 0) {
                  u.W = new this.re(o, s), u.W.tt = u, u = u.W;
                  break;
                }
                u = u.W;
              } else {
                u.l = s;
                return;
              }
            }
        }
      }
      return this.i += 1, u;
    }
    I(o, s) {
      for (; o; ) {
        let l = this.v(o.u, s);
        if (l < 0)
          o = o.W;
        else if (l > 0)
          o = o.U;
        else
          return o;
      }
      return o || this.h;
    }
    clear() {
      this.i = 0, this.Y = void 0, this.h.tt = void 0, this.h.U = this.h.W = void 0;
    }
    updateKeyByIterator(o, s) {
      let l = o.o;
      if (l === this.h && (0, i.throwIteratorAccessError)(), this.i === 1)
        return l.u = s, !0;
      if (l === this.h.U)
        return this.v(l.B().u, s) > 0 ? (l.u = s, !0) : !1;
      if (l === this.h.W)
        return this.v(l.L().u, s) < 0 ? (l.u = s, !0) : !1;
      let u = l.L().u;
      if (this.v(u, s) >= 0)
        return !1;
      let c = l.B().u;
      return this.v(c, s) <= 0 ? !1 : (l.u = s, !0);
    }
    eraseElementByPos(o) {
      if (o < 0 || o > this.i - 1)
        throw new RangeError();
      let s = 0, l = this;
      return this.oe(this.Y, function(u) {
        return o === s ? (l.V(u), !0) : (s += 1, !1);
      }), this.i;
    }
    eraseElementByKey(o) {
      if (this.i === 0)
        return !1;
      let s = this.I(this.Y, o);
      return s === this.h ? !1 : (this.V(s), !0);
    }
    eraseElementByIterator(o) {
      let s = o.o;
      s === this.h && (0, i.throwIteratorAccessError)();
      let l = s.W === void 0;
      return o.iteratorType === 0 ? l && o.next() : (!l || s.U === void 0) && o.next(), this.V(s), o;
    }
    forEach(o) {
      let s = 0;
      for (let l of this)
        o(l, s++, this);
    }
    getElementByPos(o) {
      if (o < 0 || o > this.i - 1)
        throw new RangeError();
      let s, l = 0;
      for (let u of this) {
        if (l === o) {
          s = u;
          break;
        }
        l += 1;
      }
      return s;
    }
    getHeight() {
      if (this.i === 0)
        return 0;
      let o = function(s) {
        return s ? Math.max(o(s.U), o(s.W)) + 1 : 0;
      };
      return o(this.Y);
    }
  }, n = a;
  r.default = n;
}), bW = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), r.default = void 0;
  var e = qu(), t = Xu(), i = class extends e.ContainerIterator {
    constructor(n, o, s) {
      super(s), this.o = n, this.h = o, this.iteratorType === 0 ? (this.pre = function() {
        return this.o === this.h.U && (0, t.throwIteratorAccessError)(), this.o = this.o.L(), this;
      }, this.next = function() {
        return this.o === this.h && (0, t.throwIteratorAccessError)(), this.o = this.o.B(), this;
      }) : (this.pre = function() {
        return this.o === this.h.W && (0, t.throwIteratorAccessError)(), this.o = this.o.B(), this;
      }, this.next = function() {
        return this.o === this.h && (0, t.throwIteratorAccessError)(), this.o = this.o.L(), this;
      });
    }
    get index() {
      let n = this.o, o = this.h.tt;
      if (n === this.h)
        return o ? o.rt - 1 : 0;
      let s = 0;
      for (n.U && (s += n.U.rt); n !== o; ) {
        let l = n.tt;
        n === l.W && (s += 1, l.U && (s += l.U.rt)), n = l;
      }
      return s;
    }
  }, a = i;
  r.default = a;
}), Uae = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), r.default = void 0;
  var e = a(_W()), t = a(bW()), i = Xu();
  function a(l) {
    return l && l.t ? l : { default: l };
  }
  var n = class wW extends t.default {
    constructor(u, c, f, d) {
      super(u, c, d), this.container = f;
    }
    get pointer() {
      return this.o === this.h && (0, i.throwIteratorAccessError)(), this.o.u;
    }
    copy() {
      return new wW(this.o, this.h, this.container, this.iteratorType);
    }
  }, o = class extends e.default {
    constructor(l = [], u, c) {
      super(u, c);
      let f = this;
      l.forEach(function(d) {
        f.insert(d);
      });
    }
    *K(l) {
      l !== void 0 && (yield* this.K(l.U), yield l.u, yield* this.K(l.W));
    }
    begin() {
      return new n(this.h.U || this.h, this.h, this);
    }
    end() {
      return new n(this.h, this.h, this);
    }
    rBegin() {
      return new n(this.h.W || this.h, this.h, this, 1);
    }
    rEnd() {
      return new n(this.h, this.h, this, 1);
    }
    front() {
      return this.h.U ? this.h.U.u : void 0;
    }
    back() {
      return this.h.W ? this.h.W.u : void 0;
    }
    insert(l, u) {
      return this.M(l, void 0, u);
    }
    find(l) {
      let u = this.I(this.Y, l);
      return new n(u, this.h, this);
    }
    lowerBound(l) {
      let u = this.X(this.Y, l);
      return new n(u, this.h, this);
    }
    upperBound(l) {
      let u = this.Z(this.Y, l);
      return new n(u, this.h, this);
    }
    reverseLowerBound(l) {
      let u = this.$(this.Y, l);
      return new n(u, this.h, this);
    }
    reverseUpperBound(l) {
      let u = this.rr(this.Y, l);
      return new n(u, this.h, this);
    }
    union(l) {
      let u = this;
      return l.forEach(function(c) {
        u.insert(c);
      }), this.i;
    }
    [Symbol.iterator]() {
      return this.K(this.Y);
    }
  }, s = o;
  r.default = s;
}), Gae = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), r.default = void 0;
  var e = a(_W()), t = a(bW()), i = Xu();
  function a(l) {
    return l && l.t ? l : { default: l };
  }
  var n = class SW extends t.default {
    constructor(u, c, f, d) {
      super(u, c, d), this.container = f;
    }
    get pointer() {
      this.o === this.h && (0, i.throwIteratorAccessError)();
      let u = this;
      return new Proxy([], { get(c, f) {
        if (f === "0")
          return u.o.u;
        if (f === "1")
          return u.o.l;
      }, set(c, f, d) {
        if (f !== "1")
          throw new TypeError("props must be 1");
        return u.o.l = d, !0;
      } });
    }
    copy() {
      return new SW(this.o, this.h, this.container, this.iteratorType);
    }
  }, o = class extends e.default {
    constructor(l = [], u, c) {
      super(u, c);
      let f = this;
      l.forEach(function(d) {
        f.setElement(d[0], d[1]);
      });
    }
    *K(l) {
      l !== void 0 && (yield* this.K(l.U), yield [l.u, l.l], yield* this.K(l.W));
    }
    begin() {
      return new n(this.h.U || this.h, this.h, this);
    }
    end() {
      return new n(this.h, this.h, this);
    }
    rBegin() {
      return new n(this.h.W || this.h, this.h, this, 1);
    }
    rEnd() {
      return new n(this.h, this.h, this, 1);
    }
    front() {
      if (this.i === 0)
        return;
      let l = this.h.U;
      return [l.u, l.l];
    }
    back() {
      if (this.i === 0)
        return;
      let l = this.h.W;
      return [l.u, l.l];
    }
    lowerBound(l) {
      let u = this.X(this.Y, l);
      return new n(u, this.h, this);
    }
    upperBound(l) {
      let u = this.Z(this.Y, l);
      return new n(u, this.h, this);
    }
    reverseLowerBound(l) {
      let u = this.$(this.Y, l);
      return new n(u, this.h, this);
    }
    reverseUpperBound(l) {
      let u = this.rr(this.Y, l);
      return new n(u, this.h, this);
    }
    setElement(l, u, c) {
      return this.M(l, u, c);
    }
    find(l) {
      let u = this.I(this.Y, l);
      return new n(u, this.h, this);
    }
    getElementByKey(l) {
      return this.I(this.Y, l).l;
    }
    union(l) {
      let u = this;
      return l.forEach(function(c) {
        u.setElement(c[0], c[1]);
      }), this.i;
    }
    [Symbol.iterator]() {
      return this.K(this.Y);
    }
  }, s = o;
  r.default = s;
}), xW = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), r.default = e;
  function e(t) {
    let i = typeof t;
    return i === "object" && t !== null || i === "function";
  }
}), TW = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), r.HashContainerIterator = r.HashContainer = void 0;
  var e = qu(), t = a(xW()), i = Xu();
  function a(s) {
    return s && s.t ? s : { default: s };
  }
  var n = class extends e.ContainerIterator {
    constructor(s, l, u) {
      super(u), this.o = s, this.h = l, this.iteratorType === 0 ? (this.pre = function() {
        return this.o.L === this.h && (0, i.throwIteratorAccessError)(), this.o = this.o.L, this;
      }, this.next = function() {
        return this.o === this.h && (0, i.throwIteratorAccessError)(), this.o = this.o.B, this;
      }) : (this.pre = function() {
        return this.o.B === this.h && (0, i.throwIteratorAccessError)(), this.o = this.o.B, this;
      }, this.next = function() {
        return this.o === this.h && (0, i.throwIteratorAccessError)(), this.o = this.o.L, this;
      });
    }
  };
  r.HashContainerIterator = n;
  var o = class extends e.Container {
    constructor() {
      super(), this.H = [], this.g = {}, this.HASH_TAG = Symbol("@@HASH_TAG"), Object.setPrototypeOf(this.g, null), this.h = {}, this.h.L = this.h.B = this.p = this._ = this.h;
    }
    V(s) {
      let { L: l, B: u } = s;
      l.B = u, u.L = l, s === this.p && (this.p = u), s === this._ && (this._ = l), this.i -= 1;
    }
    M(s, l, u) {
      u === void 0 && (u = (0, t.default)(s));
      let c;
      if (u) {
        let f = s[this.HASH_TAG];
        if (f !== void 0)
          return this.H[f].l = l, this.i;
        Object.defineProperty(s, this.HASH_TAG, { value: this.H.length, configurable: !0 }), c = { u: s, l, L: this._, B: this.h }, this.H.push(c);
      } else {
        let f = this.g[s];
        if (f)
          return f.l = l, this.i;
        c = { u: s, l, L: this._, B: this.h }, this.g[s] = c;
      }
      return this.i === 0 ? (this.p = c, this.h.B = c) : this._.B = c, this._ = c, this.h.L = c, ++this.i;
    }
    I(s, l) {
      if (l === void 0 && (l = (0, t.default)(s)), l) {
        let u = s[this.HASH_TAG];
        return u === void 0 ? this.h : this.H[u];
      } else
        return this.g[s] || this.h;
    }
    clear() {
      let s = this.HASH_TAG;
      this.H.forEach(function(l) {
        delete l.u[s];
      }), this.H = [], this.g = {}, Object.setPrototypeOf(this.g, null), this.i = 0, this.p = this._ = this.h.L = this.h.B = this.h;
    }
    eraseElementByKey(s, l) {
      let u;
      if (l === void 0 && (l = (0, t.default)(s)), l) {
        let c = s[this.HASH_TAG];
        if (c === void 0)
          return !1;
        delete s[this.HASH_TAG], u = this.H[c], delete this.H[c];
      } else {
        if (u = this.g[s], u === void 0)
          return !1;
        delete this.g[s];
      }
      return this.V(u), !0;
    }
    eraseElementByIterator(s) {
      let l = s.o;
      return l === this.h && (0, i.throwIteratorAccessError)(), this.V(l), s.next();
    }
    eraseElementByPos(s) {
      if (s < 0 || s > this.i - 1)
        throw new RangeError();
      let l = this.p;
      for (; s--; )
        l = l.B;
      return this.V(l), this.i;
    }
  };
  r.HashContainer = o;
}), zae = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), r.default = void 0;
  var e = TW(), t = Xu(), i = class CW extends e.HashContainerIterator {
    constructor(s, l, u, c) {
      super(s, l, c), this.container = u;
    }
    get pointer() {
      return this.o === this.h && (0, t.throwIteratorAccessError)(), this.o.u;
    }
    copy() {
      return new CW(this.o, this.h, this.container, this.iteratorType);
    }
  }, a = class extends e.HashContainer {
    constructor(o = []) {
      super();
      let s = this;
      o.forEach(function(l) {
        s.insert(l);
      });
    }
    begin() {
      return new i(this.p, this.h, this);
    }
    end() {
      return new i(this.h, this.h, this);
    }
    rBegin() {
      return new i(this._, this.h, this, 1);
    }
    rEnd() {
      return new i(this.h, this.h, this, 1);
    }
    front() {
      return this.p.u;
    }
    back() {
      return this._.u;
    }
    insert(o, s) {
      return this.M(o, void 0, s);
    }
    getElementByPos(o) {
      if (o < 0 || o > this.i - 1)
        throw new RangeError();
      let s = this.p;
      for (; o--; )
        s = s.B;
      return s.u;
    }
    find(o, s) {
      let l = this.I(o, s);
      return new i(l, this.h, this);
    }
    forEach(o) {
      let s = 0, l = this.p;
      for (; l !== this.h; )
        o(l.u, s++, this), l = l.B;
    }
    [Symbol.iterator]() {
      return function* () {
        let o = this.p;
        for (; o !== this.h; )
          yield o.u, o = o.B;
      }.bind(this)();
    }
  }, n = a;
  r.default = n;
}), Wae = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), r.default = void 0;
  var e = TW(), t = a(xW()), i = Xu();
  function a(l) {
    return l && l.t ? l : { default: l };
  }
  var n = class AW extends e.HashContainerIterator {
    constructor(u, c, f, d) {
      super(u, c, d), this.container = f;
    }
    get pointer() {
      this.o === this.h && (0, i.throwIteratorAccessError)();
      let u = this;
      return new Proxy([], { get(c, f) {
        if (f === "0")
          return u.o.u;
        if (f === "1")
          return u.o.l;
      }, set(c, f, d) {
        if (f !== "1")
          throw new TypeError("props must be 1");
        return u.o.l = d, !0;
      } });
    }
    copy() {
      return new AW(this.o, this.h, this.container, this.iteratorType);
    }
  }, o = class extends e.HashContainer {
    constructor(l = []) {
      super();
      let u = this;
      l.forEach(function(c) {
        u.setElement(c[0], c[1]);
      });
    }
    begin() {
      return new n(this.p, this.h, this);
    }
    end() {
      return new n(this.h, this.h, this);
    }
    rBegin() {
      return new n(this._, this.h, this, 1);
    }
    rEnd() {
      return new n(this.h, this.h, this, 1);
    }
    front() {
      if (this.i !== 0)
        return [this.p.u, this.p.l];
    }
    back() {
      if (this.i !== 0)
        return [this._.u, this._.l];
    }
    setElement(l, u, c) {
      return this.M(l, u, c);
    }
    getElementByKey(l, u) {
      if (u === void 0 && (u = (0, t.default)(l)), u) {
        let f = l[this.HASH_TAG];
        return f !== void 0 ? this.H[f].l : void 0;
      }
      let c = this.g[l];
      return c ? c.l : void 0;
    }
    getElementByPos(l) {
      if (l < 0 || l > this.i - 1)
        throw new RangeError();
      let u = this.p;
      for (; l--; )
        u = u.B;
      return [u.u, u.l];
    }
    find(l, u) {
      let c = this.I(l, u);
      return new n(c, this.h, this);
    }
    forEach(l) {
      let u = 0, c = this.p;
      for (; c !== this.h; )
        l([c.u, c.l], u++, this), c = c.B;
    }
    [Symbol.iterator]() {
      return function* () {
        let l = this.p;
        for (; l !== this.h; )
          yield [l.u, l.l], l = l.B;
      }.bind(this)();
    }
  }, s = o;
  r.default = s;
}), Hae = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "t", { value: !0 }), Object.defineProperty(r, "Deque", { enumerable: !0, get: function() {
    return o.default;
  } }), Object.defineProperty(r, "HashMap", { enumerable: !0, get: function() {
    return c.default;
  } }), Object.defineProperty(r, "HashSet", { enumerable: !0, get: function() {
    return u.default;
  } }), Object.defineProperty(r, "LinkList", { enumerable: !0, get: function() {
    return n.default;
  } }), Object.defineProperty(r, "OrderedMap", { enumerable: !0, get: function() {
    return l.default;
  } }), Object.defineProperty(r, "OrderedSet", { enumerable: !0, get: function() {
    return s.default;
  } }), Object.defineProperty(r, "PriorityQueue", { enumerable: !0, get: function() {
    return i.default;
  } }), Object.defineProperty(r, "Queue", { enumerable: !0, get: function() {
    return t.default;
  } }), Object.defineProperty(r, "Stack", { enumerable: !0, get: function() {
    return e.default;
  } }), Object.defineProperty(r, "Vector", { enumerable: !0, get: function() {
    return a.default;
  } });
  var e = f(Rae()), t = f(Lae()), i = f(Oae()), a = f(Fae()), n = f(Nae()), o = f(Bae()), s = f(Uae()), l = f(Gae()), u = f(zae()), c = f(Wae());
  function f(d) {
    return d && d.t ? d : { default: d };
  }
}), $ae = bt((r, e) => {
  lt(), st(), ot();
  var t = Hae().OrderedSet, i = Fu()("number-allocator:trace"), a = Fu()("number-allocator:error");
  function n(s, l) {
    this.low = s, this.high = l;
  }
  n.prototype.equals = function(s) {
    return this.low === s.low && this.high === s.high;
  }, n.prototype.compare = function(s) {
    return this.low < s.low && this.high < s.low ? -1 : s.low < this.low && s.high < this.low ? 1 : 0;
  };
  function o(s, l) {
    if (!(this instanceof o))
      return new o(s, l);
    this.min = s, this.max = l, this.ss = new t([], (u, c) => u.compare(c)), i("Create"), this.clear();
  }
  o.prototype.firstVacant = function() {
    return this.ss.size() === 0 ? null : this.ss.front().low;
  }, o.prototype.alloc = function() {
    if (this.ss.size() === 0)
      return i("alloc():empty"), null;
    let s = this.ss.begin(), l = s.pointer.low, u = s.pointer.high, c = l;
    return c + 1 <= u ? this.ss.updateKeyByIterator(s, new n(l + 1, u)) : this.ss.eraseElementByPos(0), i("alloc():" + c), c;
  }, o.prototype.use = function(s) {
    let l = new n(s, s), u = this.ss.lowerBound(l);
    if (!u.equals(this.ss.end())) {
      let c = u.pointer.low, f = u.pointer.high;
      return u.pointer.equals(l) ? (this.ss.eraseElementByIterator(u), i("use():" + s), !0) : c > s ? !1 : c === s ? (this.ss.updateKeyByIterator(u, new n(c + 1, f)), i("use():" + s), !0) : f === s ? (this.ss.updateKeyByIterator(u, new n(c, f - 1)), i("use():" + s), !0) : (this.ss.updateKeyByIterator(u, new n(s + 1, f)), this.ss.insert(new n(c, s - 1)), i("use():" + s), !0);
    }
    return i("use():failed"), !1;
  }, o.prototype.free = function(s) {
    if (s < this.min || s > this.max) {
      a("free():" + s + " is out of range");
      return;
    }
    let l = new n(s, s), u = this.ss.upperBound(l);
    if (u.equals(this.ss.end())) {
      if (u.equals(this.ss.begin())) {
        this.ss.insert(l);
        return;
      }
      u.pre();
      let c = u.pointer.high;
      u.pointer.high + 1 === s ? this.ss.updateKeyByIterator(u, new n(c, s)) : this.ss.insert(l);
    } else if (u.equals(this.ss.begin()))
      if (s + 1 === u.pointer.low) {
        let c = u.pointer.high;
        this.ss.updateKeyByIterator(u, new n(s, c));
      } else
        this.ss.insert(l);
    else {
      let c = u.pointer.low, f = u.pointer.high;
      u.pre();
      let d = u.pointer.low;
      u.pointer.high + 1 === s ? s + 1 === c ? (this.ss.eraseElementByIterator(u), this.ss.updateKeyByIterator(u, new n(d, f))) : this.ss.updateKeyByIterator(u, new n(d, s)) : s + 1 === c ? (this.ss.eraseElementByIterator(u.next()), this.ss.insert(new n(s, f))) : this.ss.insert(l);
    }
    i("free():" + s);
  }, o.prototype.clear = function() {
    i("clear()"), this.ss.clear(), this.ss.insert(new n(this.min, this.max));
  }, o.prototype.intervalCount = function() {
    return this.ss.size();
  }, o.prototype.dump = function() {
    console.log("length:" + this.ss.size());
    for (let s of this.ss)
      console.log(s);
  }, e.exports = o;
}), EW = bt((r, e) => {
  lt(), st(), ot();
  var t = $ae();
  e.exports.NumberAllocator = t;
}), Yae = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "__esModule", { value: !0 });
  var e = Pae(), t = EW(), i = class {
    constructor(a) {
      a > 0 && (this.aliasToTopic = new e.LRUCache({ max: a }), this.topicToAlias = {}, this.numberAllocator = new t.NumberAllocator(1, a), this.max = a, this.length = 0);
    }
    put(a, n) {
      if (n === 0 || n > this.max)
        return !1;
      let o = this.aliasToTopic.get(n);
      return o && delete this.topicToAlias[o], this.aliasToTopic.set(n, a), this.topicToAlias[a] = n, this.numberAllocator.use(n), this.length = this.aliasToTopic.size, !0;
    }
    getTopicByAlias(a) {
      return this.aliasToTopic.get(a);
    }
    getAliasByTopic(a) {
      let n = this.topicToAlias[a];
      return typeof n < "u" && this.aliasToTopic.get(n), n;
    }
    clear() {
      this.aliasToTopic.clear(), this.topicToAlias = {}, this.numberAllocator.clear(), this.length = 0;
    }
    getLruAlias() {
      return this.numberAllocator.firstVacant() || [...this.aliasToTopic.keys()][this.aliasToTopic.size - 1];
    }
  };
  r.default = i;
}), jae = bt((r) => {
  lt(), st(), ot();
  var e = r && r.__importDefault || function(o) {
    return o && o.__esModule ? o : { default: o };
  };
  Object.defineProperty(r, "__esModule", { value: !0 });
  var t = hw(), i = e(Yae()), a = G1(), n = (o, s) => {
    o.log("_handleConnack");
    let { options: l } = o, u = l.protocolVersion === 5 ? s.reasonCode : s.returnCode;
    if (clearTimeout(o.connackTimer), delete o.topicAliasSend, s.properties) {
      if (s.properties.topicAliasMaximum) {
        if (s.properties.topicAliasMaximum > 65535) {
          o.emit("error", new Error("topicAliasMaximum from broker is out of range"));
          return;
        }
        s.properties.topicAliasMaximum > 0 && (o.topicAliasSend = new i.default(s.properties.topicAliasMaximum));
      }
      s.properties.serverKeepAlive && l.keepalive && (l.keepalive = s.properties.serverKeepAlive), s.properties.maximumPacketSize && (l.properties || (l.properties = {}), l.properties.maximumPacketSize = s.properties.maximumPacketSize);
    }
    if (u === 0)
      o.reconnecting = !1, o._onConnect(s);
    else if (u > 0) {
      let c = new a.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[u]}`, u);
      o.emit("error", c);
    }
  };
  r.default = n;
}), qae = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "__esModule", { value: !0 });
  var e = (t, i, a) => {
    t.log("handling pubrel packet");
    let n = typeof a < "u" ? a : t.noop, { messageId: o } = i, s = { cmd: "pubcomp", messageId: o };
    t.incomingStore.get(i, (l, u) => {
      l ? t._sendPacket(s, n) : (t.emit("message", u.topic, u.payload, u), t.handleMessage(u, (c) => {
        if (c)
          return n(c);
        t.incomingStore.del(u, t.noop), t._sendPacket(s, n);
      }));
    });
  };
  r.default = e;
}), Xae = bt((r) => {
  lt(), st(), ot();
  var e = r && r.__importDefault || function(l) {
    return l && l.__esModule ? l : { default: l };
  };
  Object.defineProperty(r, "__esModule", { value: !0 });
  var t = e(kae()), i = e(Iae()), a = e(jae()), n = e(hw()), o = e(qae()), s = (l, u, c) => {
    let { options: f } = l;
    if (f.protocolVersion === 5 && f.properties && f.properties.maximumPacketSize && f.properties.maximumPacketSize < u.length)
      return l.emit("error", new Error(`exceeding packets size ${u.cmd}`)), l.end({ reasonCode: 149, properties: { reasonString: "Maximum packet size was exceeded" } }), l;
    switch (l.log("_handlePacket :: emitting packetreceive"), l.emit("packetreceive", u), u.cmd) {
      case "publish":
        (0, t.default)(l, u, c);
        break;
      case "puback":
      case "pubrec":
      case "pubcomp":
      case "suback":
      case "unsuback":
        l.reschedulePing(), (0, n.default)(l, u), c();
        break;
      case "pubrel":
        l.reschedulePing(), (0, o.default)(l, u, c);
        break;
      case "connack":
        (0, a.default)(l, u), c();
        break;
      case "auth":
        l.reschedulePing(), (0, i.default)(l, u), c();
        break;
      case "pingresp":
        l.log("_handlePacket :: received pingresp"), l.reschedulePing(), c();
        break;
      case "disconnect":
        l.emit("disconnect", u), c();
        break;
      default:
        l.log("_handlePacket :: unknown command"), c();
        break;
    }
  };
  r.default = s;
}), Kae = bt((r) => {
  lt(), st(), ot();
  var e = r && r.__importDefault || function(n) {
    return n && n.__esModule ? n : { default: n };
  };
  Object.defineProperty(r, "__esModule", { value: !0 }), r.TypedEventEmitter = void 0;
  var t = e((S0(), zn(ud))), i = G1(), a = class {
  };
  r.TypedEventEmitter = a, (0, i.applyMixin)(a, t.default);
}), fw = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "__esModule", { value: !0 }), r.isReactNativeBrowser = r.isWebWorker = void 0;
  var e = () => {
    var n;
    return typeof window < "u" ? typeof Za < "u" && ((n = Za.userAgent) === null || n === void 0 ? void 0 : n.toLowerCase().indexOf(" electron/")) > -1 && An != null && An.versions ? !Object.prototype.hasOwnProperty.call(An.versions, "electron") : typeof window.document < "u" : !1;
  }, t = () => {
    var n, o;
    return !!(typeof self == "object" && !((o = (n = self?.constructor) === null || n === void 0 ? void 0 : n.name) === null || o === void 0) && o.includes("WorkerGlobalScope"));
  }, i = () => typeof Za < "u" && Za.product === "ReactNative", a = e() || t() || i();
  r.isWebWorker = t(), r.isReactNativeBrowser = i(), r.default = a;
}), Zae = bt((r, e) => {
  lt(), st(), ot(), function(t, i) {
    typeof r == "object" && typeof e < "u" ? i(r) : typeof define == "function" && define.amd ? define(["exports"], i) : (t = typeof globalThis < "u" ? globalThis : t || self, i(t.fastUniqueNumbers = {}));
  }(r, function(t) {
    var i = function(p) {
      return function(v) {
        var y = p(v);
        return v.add(y), y;
      };
    }, a = function(p) {
      return function(v, y) {
        return p.set(v, y), y;
      };
    }, n = Number.MAX_SAFE_INTEGER === void 0 ? 9007199254740991 : Number.MAX_SAFE_INTEGER, o = 536870912, s = o * 2, l = function(p, v) {
      return function(y) {
        var _ = v.get(y), w = _ === void 0 ? y.size : _ < s ? _ + 1 : 0;
        if (!y.has(w))
          return p(y, w);
        if (y.size < o) {
          for (; y.has(w); )
            w = Math.floor(Math.random() * s);
          return p(y, w);
        }
        if (y.size > n)
          throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");
        for (; y.has(w); )
          w = Math.floor(Math.random() * n);
        return p(y, w);
      };
    }, u = /* @__PURE__ */ new WeakMap(), c = a(u), f = l(c, u), d = i(f);
    t.addUniqueNumber = d, t.generateUniqueNumber = f;
  });
}), Jae = bt((r, e) => {
  lt(), st(), ot(), function(t, i) {
    typeof r == "object" && typeof e < "u" ? i(r, Zae()) : typeof define == "function" && define.amd ? define(["exports", "fast-unique-numbers"], i) : (t = typeof globalThis < "u" ? globalThis : t || self, i(t.workerTimersBroker = {}, t.fastUniqueNumbers));
  }(r, function(t, i) {
    var a = function(s) {
      return s.method !== void 0 && s.method === "call";
    }, n = function(s) {
      return s.error === null && typeof s.id == "number";
    }, o = function(s) {
      var l = /* @__PURE__ */ new Map([[0, function() {
      }]]), u = /* @__PURE__ */ new Map([[0, function() {
      }]]), c = /* @__PURE__ */ new Map(), f = new Worker(s);
      f.addEventListener("message", function(_) {
        var w = _.data;
        if (a(w)) {
          var S = w.params, x = S.timerId, E = S.timerType;
          if (E === "interval") {
            var M = l.get(x);
            if (typeof M == "number") {
              var k = c.get(M);
              if (k === void 0 || k.timerId !== x || k.timerType !== E)
                throw new Error("The timer is in an undefined state.");
            } else if (typeof M < "u")
              M();
            else
              throw new Error("The timer is in an undefined state.");
          } else if (E === "timeout") {
            var P = u.get(x);
            if (typeof P == "number") {
              var L = c.get(P);
              if (L === void 0 || L.timerId !== x || L.timerType !== E)
                throw new Error("The timer is in an undefined state.");
            } else if (typeof P < "u")
              P(), u.delete(x);
            else
              throw new Error("The timer is in an undefined state.");
          }
        } else if (n(w)) {
          var F = w.id, O = c.get(F);
          if (O === void 0)
            throw new Error("The timer is in an undefined state.");
          var U = O.timerId, V = O.timerType;
          c.delete(F), V === "interval" ? l.delete(U) : u.delete(U);
        } else {
          var G = w.error.message;
          throw new Error(G);
        }
      });
      var d = function(_) {
        var w = i.generateUniqueNumber(c);
        c.set(w, { timerId: _, timerType: "interval" }), l.set(_, w), f.postMessage({ id: w, method: "clear", params: { timerId: _, timerType: "interval" } });
      }, p = function(_) {
        var w = i.generateUniqueNumber(c);
        c.set(w, { timerId: _, timerType: "timeout" }), u.set(_, w), f.postMessage({ id: w, method: "clear", params: { timerId: _, timerType: "timeout" } });
      }, v = function(_) {
        var w = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, S = i.generateUniqueNumber(l);
        return l.set(S, function() {
          _(), typeof l.get(S) == "function" && f.postMessage({ id: null, method: "set", params: { delay: w, now: performance.now(), timerId: S, timerType: "interval" } });
        }), f.postMessage({ id: null, method: "set", params: { delay: w, now: performance.now(), timerId: S, timerType: "interval" } }), S;
      }, y = function(_) {
        var w = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, S = i.generateUniqueNumber(u);
        return u.set(S, _), f.postMessage({ id: null, method: "set", params: { delay: w, now: performance.now(), timerId: S, timerType: "timeout" } }), S;
      };
      return { clearInterval: d, clearTimeout: p, setInterval: v, setTimeout: y };
    };
    t.load = o;
  });
}), Qae = bt((r, e) => {
  lt(), st(), ot(), function(t, i) {
    typeof r == "object" && typeof e < "u" ? i(r, Jae()) : typeof define == "function" && define.amd ? define(["exports", "worker-timers-broker"], i) : (t = typeof globalThis < "u" ? globalThis : t || self, i(t.workerTimers = {}, t.workerTimersBroker));
  }(r, function(t, i) {
    var a = function(f, d) {
      var p = null;
      return function() {
        if (p !== null)
          return p;
        var v = new Blob([d], { type: "application/javascript; charset=utf-8" }), y = URL.createObjectURL(v);
        return p = f(y), setTimeout(function() {
          return URL.revokeObjectURL(y);
        }), p;
      };
    }, n = `(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`, o = a(i.load, n), s = function(f) {
      return o().clearInterval(f);
    }, l = function(f) {
      return o().clearTimeout(f);
    }, u = function() {
      var f;
      return (f = o()).setInterval.apply(f, arguments);
    }, c = function() {
      var f;
      return (f = o()).setTimeout.apply(f, arguments);
    };
    t.clearInterval = s, t.clearTimeout = l, t.setInterval = u, t.setTimeout = c;
  });
}), eoe = bt((r) => {
  lt(), st(), ot();
  var e = r && r.__createBinding || (Object.create ? function(u, c, f, d) {
    d === void 0 && (d = f);
    var p = Object.getOwnPropertyDescriptor(c, f);
    (!p || ("get" in p ? !c.__esModule : p.writable || p.configurable)) && (p = { enumerable: !0, get: function() {
      return c[f];
    } }), Object.defineProperty(u, d, p);
  } : function(u, c, f, d) {
    d === void 0 && (d = f), u[d] = c[f];
  }), t = r && r.__setModuleDefault || (Object.create ? function(u, c) {
    Object.defineProperty(u, "default", { enumerable: !0, value: c });
  } : function(u, c) {
    u.default = c;
  }), i = r && r.__importStar || function(u) {
    if (u && u.__esModule)
      return u;
    var c = {};
    if (u != null)
      for (var f in u)
        f !== "default" && Object.prototype.hasOwnProperty.call(u, f) && e(c, u, f);
    return t(c, u), c;
  };
  Object.defineProperty(r, "__esModule", { value: !0 });
  var a = i(fw()), n = Qae(), o = { set: n.setInterval, clear: n.clearInterval }, s = { set: (u, c) => setInterval(u, c), clear: (u) => clearInterval(u) }, l = (u) => {
    switch (u) {
      case "native":
        return s;
      case "worker":
        return o;
      case "auto":
      default:
        return a.default && !a.isWebWorker && !a.isReactNativeBrowser ? o : s;
    }
  };
  r.default = l;
}), DW = bt((r) => {
  lt(), st(), ot();
  var e = r && r.__importDefault || function(a) {
    return a && a.__esModule ? a : { default: a };
  };
  Object.defineProperty(r, "__esModule", { value: !0 });
  var t = e(eoe()), i = class {
    get keepaliveTimeoutTimestamp() {
      return this._keepaliveTimeoutTimestamp;
    }
    get intervalEvery() {
      return this._intervalEvery;
    }
    get keepalive() {
      return this._keepalive;
    }
    constructor(a, n) {
      this.destroyed = !1, this.client = a, this.timer = (0, t.default)(n), this.setKeepalive(a.options.keepalive);
    }
    clear() {
      this.timerId && (this.timer.clear(this.timerId), this.timerId = null);
    }
    setKeepalive(a) {
      if (a *= 1e3, isNaN(a) || a <= 0 || a > 2147483647)
        throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${a}`);
      this._keepalive = a, this.reschedule(), this.client.log(`KeepaliveManager: set keepalive to ${a}ms`);
    }
    destroy() {
      this.clear(), this.destroyed = !0;
    }
    reschedule() {
      if (this.destroyed)
        return;
      this.clear(), this.counter = 0;
      let a = Math.ceil(this._keepalive * 1.5);
      this._keepaliveTimeoutTimestamp = Date.now() + a, this._intervalEvery = Math.ceil(this._keepalive / 2), this.timerId = this.timer.set(() => {
        this.destroyed || (this.counter += 1, this.counter === 2 ? this.client.sendPing() : this.counter > 2 && this.client.onKeepaliveTimeout());
      }, this._intervalEvery);
    }
  };
  r.default = i;
}), KC = bt((r) => {
  lt(), st(), ot();
  var e = r && r.__createBinding || (Object.create ? function(M, k, P, L) {
    L === void 0 && (L = P);
    var F = Object.getOwnPropertyDescriptor(k, P);
    (!F || ("get" in F ? !k.__esModule : F.writable || F.configurable)) && (F = { enumerable: !0, get: function() {
      return k[P];
    } }), Object.defineProperty(M, L, F);
  } : function(M, k, P, L) {
    L === void 0 && (L = P), M[L] = k[P];
  }), t = r && r.__setModuleDefault || (Object.create ? function(M, k) {
    Object.defineProperty(M, "default", { enumerable: !0, value: k });
  } : function(M, k) {
    M.default = k;
  }), i = r && r.__importStar || function(M) {
    if (M && M.__esModule)
      return M;
    var k = {};
    if (M != null)
      for (var P in M)
        P !== "default" && Object.prototype.hasOwnProperty.call(M, P) && e(k, M, P);
    return t(k, M), k;
  }, a = r && r.__importDefault || function(M) {
    return M && M.__esModule ? M : { default: M };
  };
  Object.defineProperty(r, "__esModule", { value: !0 });
  var n = a(Wie()), o = a(Cae()), s = a(hW()), l = cd(), u = a(Eae()), c = i(Dae()), f = a(Fu()), d = a(fW()), p = a(Xae()), v = G1(), y = Kae(), _ = a(DW()), w = i(fw()), S = globalThis.setImmediate || ((...M) => {
    let k = M.shift();
    (0, v.nextTick)(() => {
      k(...M);
    });
  }), x = { keepalive: 60, reschedulePings: !0, protocolId: "MQTT", protocolVersion: 4, reconnectPeriod: 1e3, connectTimeout: 30 * 1e3, clean: !0, resubscribe: !0, writeCache: !0, timerVariant: "auto" }, E = class ZC extends y.TypedEventEmitter {
    static defaultId() {
      return `mqttjs_${Math.random().toString(16).substr(2, 8)}`;
    }
    constructor(k, P) {
      super(), this.options = P || {};
      for (let L in x)
        typeof this.options[L] > "u" ? this.options[L] = x[L] : this.options[L] = P[L];
      this.log = this.options.log || (0, f.default)("mqttjs:client"), this.noop = this._noop.bind(this), this.log("MqttClient :: version:", ZC.VERSION), w.isWebWorker ? this.log("MqttClient :: environment", "webworker") : this.log("MqttClient :: environment", w.default ? "browser" : "node"), this.log("MqttClient :: options.protocol", P.protocol), this.log("MqttClient :: options.protocolVersion", P.protocolVersion), this.log("MqttClient :: options.username", P.username), this.log("MqttClient :: options.keepalive", P.keepalive), this.log("MqttClient :: options.reconnectPeriod", P.reconnectPeriod), this.log("MqttClient :: options.rejectUnauthorized", P.rejectUnauthorized), this.log("MqttClient :: options.properties.topicAliasMaximum", P.properties ? P.properties.topicAliasMaximum : void 0), this.options.clientId = typeof P.clientId == "string" ? P.clientId : ZC.defaultId(), this.log("MqttClient :: clientId", this.options.clientId), this.options.customHandleAcks = P.protocolVersion === 5 && P.customHandleAcks ? P.customHandleAcks : (...L) => {
        L[3](null, 0);
      }, this.options.writeCache || (o.default.writeToStream.cacheNumbers = !1), this.streamBuilder = k, this.messageIdProvider = typeof this.options.messageIdProvider > "u" ? new s.default() : this.options.messageIdProvider, this.outgoingStore = P.outgoingStore || new d.default(), this.incomingStore = P.incomingStore || new d.default(), this.queueQoSZero = P.queueQoSZero === void 0 ? !0 : P.queueQoSZero, this._resubscribeTopics = {}, this.messageIdToTopic = {}, this.keepaliveManager = null, this.connected = !1, this.disconnecting = !1, this.reconnecting = !1, this.queue = [], this.connackTimer = null, this.reconnectTimer = null, this._storeProcessing = !1, this._packetIdsDuringStoreProcessing = {}, this._storeProcessingQueue = [], this.outgoing = {}, this._firstConnection = !0, P.properties && P.properties.topicAliasMaximum > 0 && (P.properties.topicAliasMaximum > 65535 ? this.log("MqttClient :: options.properties.topicAliasMaximum is out of range") : this.topicAliasRecv = new n.default(P.properties.topicAliasMaximum)), this.on("connect", () => {
        let { queue: L } = this, F = () => {
          let O = L.shift();
          this.log("deliver :: entry %o", O);
          let U = null;
          if (!O) {
            this._resubscribe();
            return;
          }
          U = O.packet, this.log("deliver :: call _sendPacket for %o", U);
          let V = !0;
          U.messageId && U.messageId !== 0 && (this.messageIdProvider.register(U.messageId) || (V = !1)), V ? this._sendPacket(U, (G) => {
            O.cb && O.cb(G), F();
          }) : (this.log("messageId: %d has already used. The message is skipped and removed.", U.messageId), F());
        };
        this.log("connect :: sending queued packets"), F();
      }), this.on("close", () => {
        this.log("close :: connected set to `false`"), this.connected = !1, this.log("close :: clearing connackTimer"), clearTimeout(this.connackTimer), this._destroyKeepaliveManager(), this.topicAliasRecv && this.topicAliasRecv.clear(), this.log("close :: calling _setupReconnect"), this._setupReconnect();
      }), this.options.manualConnect || (this.log("MqttClient :: setting up stream"), this.connect());
    }
    handleAuth(k, P) {
      P();
    }
    handleMessage(k, P) {
      P();
    }
    _nextId() {
      return this.messageIdProvider.allocate();
    }
    getLastMessageId() {
      return this.messageIdProvider.getLastAllocated();
    }
    connect() {
      var k;
      let P = new l.Writable(), L = o.default.parser(this.options), F = null, O = [];
      this.log("connect :: calling method to clear reconnect"), this._clearReconnect(), this.log("connect :: using streamBuilder provided to client to create stream"), this.stream = this.streamBuilder(this), L.on("packet", (Q) => {
        this.log("parser :: on packet push to packets array."), O.push(Q);
      });
      let U = () => {
        this.log("work :: getting next packet in queue");
        let Q = O.shift();
        if (Q)
          this.log("work :: packet pulled from queue"), (0, p.default)(this, Q, V);
        else {
          this.log("work :: no packets in queue");
          let se = F;
          F = null, this.log("work :: done flag is %s", !!se), se && se();
        }
      }, V = () => {
        if (O.length)
          (0, v.nextTick)(U);
        else {
          let Q = F;
          F = null, Q();
        }
      };
      P._write = (Q, se, de) => {
        F = de, this.log("writable stream :: parsing buffer"), L.parse(Q), U();
      };
      let G = (Q) => {
        this.log("streamErrorHandler :: error", Q.message), Q.code ? (this.log("streamErrorHandler :: emitting error"), this.emit("error", Q)) : this.noop(Q);
      };
      this.log("connect :: pipe stream to writable stream"), this.stream.pipe(P), this.stream.on("error", G), this.stream.on("close", () => {
        this.log("(%s)stream :: on close", this.options.clientId), this._flushVolatile(), this.log("stream: emit close to MqttClient"), this.emit("close");
      }), this.log("connect: sending packet `connect`");
      let Z = { cmd: "connect", protocolId: this.options.protocolId, protocolVersion: this.options.protocolVersion, clean: this.options.clean, clientId: this.options.clientId, keepalive: this.options.keepalive, username: this.options.username, password: this.options.password, properties: this.options.properties };
      if (this.options.will && (Z.will = Object.assign(Object.assign({}, this.options.will), { payload: (k = this.options.will) === null || k === void 0 ? void 0 : k.payload })), this.topicAliasRecv && (Z.properties || (Z.properties = {}), this.topicAliasRecv && (Z.properties.topicAliasMaximum = this.topicAliasRecv.max)), this._writePacket(Z), L.on("error", this.emit.bind(this, "error")), this.options.properties) {
        if (!this.options.properties.authenticationMethod && this.options.properties.authenticationData)
          return this.end(() => this.emit("error", new Error("Packet has no Authentication Method"))), this;
        if (this.options.properties.authenticationMethod && this.options.authPacket && typeof this.options.authPacket == "object") {
          let Q = Object.assign({ cmd: "auth", reasonCode: 0 }, this.options.authPacket);
          this._writePacket(Q);
        }
      }
      return this.stream.setMaxListeners(1e3), clearTimeout(this.connackTimer), this.connackTimer = setTimeout(() => {
        this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"), this.emit("error", new Error("connack timeout")), this._cleanUp(!0);
      }, this.options.connectTimeout), this;
    }
    publish(k, P, L, F) {
      this.log("publish :: message `%s` to topic `%s`", P, k);
      let { options: O } = this;
      typeof L == "function" && (F = L, L = null), L = L || {}, L = Object.assign(Object.assign({}, { qos: 0, retain: !1, dup: !1 }), L);
      let { qos: U, retain: V, dup: G, properties: Z, cbStorePut: Q } = L;
      if (this._checkDisconnecting(F))
        return this;
      let se = () => {
        let de = 0;
        if ((U === 1 || U === 2) && (de = this._nextId(), de === null))
          return this.log("No messageId left"), !1;
        let le = { cmd: "publish", topic: k, payload: P, qos: U, retain: V, messageId: de, dup: G };
        switch (O.protocolVersion === 5 && (le.properties = Z), this.log("publish :: qos", U), U) {
          case 1:
          case 2:
            this.outgoing[le.messageId] = { volatile: !1, cb: F || this.noop }, this.log("MqttClient:publish: packet cmd: %s", le.cmd), this._sendPacket(le, void 0, Q);
            break;
          default:
            this.log("MqttClient:publish: packet cmd: %s", le.cmd), this._sendPacket(le, F, Q);
            break;
        }
        return !0;
      };
      return (this._storeProcessing || this._storeProcessingQueue.length > 0 || !se()) && this._storeProcessingQueue.push({ invoke: se, cbStorePut: L.cbStorePut, callback: F }), this;
    }
    publishAsync(k, P, L) {
      return new Promise((F, O) => {
        this.publish(k, P, L, (U, V) => {
          U ? O(U) : F(V);
        });
      });
    }
    subscribe(k, P, L) {
      let F = this.options.protocolVersion;
      typeof P == "function" && (L = P), L = L || this.noop;
      let O = !1, U = [];
      typeof k == "string" ? (k = [k], U = k) : Array.isArray(k) ? U = k : typeof k == "object" && (O = k.resubscribe, delete k.resubscribe, U = Object.keys(k));
      let V = c.validateTopics(U);
      if (V !== null)
        return S(L, new Error(`Invalid topic ${V}`)), this;
      if (this._checkDisconnecting(L))
        return this.log("subscribe: discconecting true"), this;
      let G = { qos: 0 };
      F === 5 && (G.nl = !1, G.rap = !1, G.rh = 0), P = Object.assign(Object.assign({}, G), P);
      let Z = P.properties, Q = [], se = (le, Se) => {
        if (Se = Se || P, !Object.prototype.hasOwnProperty.call(this._resubscribeTopics, le) || this._resubscribeTopics[le].qos < Se.qos || O) {
          let he = { topic: le, qos: Se.qos };
          F === 5 && (he.nl = Se.nl, he.rap = Se.rap, he.rh = Se.rh, he.properties = Z), this.log("subscribe: pushing topic `%s` and qos `%s` to subs list", he.topic, he.qos), Q.push(he);
        }
      };
      if (Array.isArray(k) ? k.forEach((le) => {
        this.log("subscribe: array topic %s", le), se(le);
      }) : Object.keys(k).forEach((le) => {
        this.log("subscribe: object topic %s, %o", le, k[le]), se(le, k[le]);
      }), !Q.length)
        return L(null, []), this;
      let de = () => {
        let le = this._nextId();
        if (le === null)
          return this.log("No messageId left"), !1;
        let Se = { cmd: "subscribe", subscriptions: Q, messageId: le };
        if (Z && (Se.properties = Z), this.options.resubscribe) {
          this.log("subscribe :: resubscribe true");
          let he = [];
          Q.forEach((fe) => {
            if (this.options.reconnectPeriod > 0) {
              let K = { qos: fe.qos };
              F === 5 && (K.nl = fe.nl || !1, K.rap = fe.rap || !1, K.rh = fe.rh || 0, K.properties = fe.properties), this._resubscribeTopics[fe.topic] = K, he.push(fe.topic);
            }
          }), this.messageIdToTopic[Se.messageId] = he;
        }
        return this.outgoing[Se.messageId] = { volatile: !0, cb(he, fe) {
          if (!he) {
            let { granted: K } = fe;
            for (let we = 0; we < K.length; we += 1)
              Q[we].qos = K[we];
          }
          L(he, Q);
        } }, this.log("subscribe :: call _sendPacket"), this._sendPacket(Se), !0;
      };
      return (this._storeProcessing || this._storeProcessingQueue.length > 0 || !de()) && this._storeProcessingQueue.push({ invoke: de, callback: L }), this;
    }
    subscribeAsync(k, P) {
      return new Promise((L, F) => {
        this.subscribe(k, P, (O, U) => {
          O ? F(O) : L(U);
        });
      });
    }
    unsubscribe(k, P, L) {
      typeof k == "string" && (k = [k]), typeof P == "function" && (L = P), L = L || this.noop;
      let F = c.validateTopics(k);
      if (F !== null)
        return S(L, new Error(`Invalid topic ${F}`)), this;
      if (this._checkDisconnecting(L))
        return this;
      let O = () => {
        let U = this._nextId();
        if (U === null)
          return this.log("No messageId left"), !1;
        let V = { cmd: "unsubscribe", messageId: U, unsubscriptions: [] };
        return typeof k == "string" ? V.unsubscriptions = [k] : Array.isArray(k) && (V.unsubscriptions = k), this.options.resubscribe && V.unsubscriptions.forEach((G) => {
          delete this._resubscribeTopics[G];
        }), typeof P == "object" && P.properties && (V.properties = P.properties), this.outgoing[V.messageId] = { volatile: !0, cb: L }, this.log("unsubscribe: call _sendPacket"), this._sendPacket(V), !0;
      };
      return (this._storeProcessing || this._storeProcessingQueue.length > 0 || !O()) && this._storeProcessingQueue.push({ invoke: O, callback: L }), this;
    }
    unsubscribeAsync(k, P) {
      return new Promise((L, F) => {
        this.unsubscribe(k, P, (O, U) => {
          O ? F(O) : L(U);
        });
      });
    }
    end(k, P, L) {
      this.log("end :: (%s)", this.options.clientId), (k == null || typeof k != "boolean") && (L = L || P, P = k, k = !1), typeof P != "object" && (L = L || P, P = null), this.log("end :: cb? %s", !!L), (!L || typeof L != "function") && (L = this.noop);
      let F = () => {
        this.log("end :: closeStores: closing incoming and outgoing stores"), this.disconnected = !0, this.incomingStore.close((U) => {
          this.outgoingStore.close((V) => {
            if (this.log("end :: closeStores: emitting end"), this.emit("end"), L) {
              let G = U || V;
              this.log("end :: closeStores: invoking callback with args"), L(G);
            }
          });
        }), this._deferredReconnect && this._deferredReconnect();
      }, O = () => {
        this.log("end :: (%s) :: finish :: calling _cleanUp with force %s", this.options.clientId, k), this._cleanUp(k, () => {
          this.log("end :: finish :: calling process.nextTick on closeStores"), (0, v.nextTick)(F);
        }, P);
      };
      return this.disconnecting ? (L(), this) : (this._clearReconnect(), this.disconnecting = !0, !k && Object.keys(this.outgoing).length > 0 ? (this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty", this.options.clientId), this.once("outgoingEmpty", setTimeout.bind(null, O, 10))) : (this.log("end :: (%s) :: immediately calling finish", this.options.clientId), O()), this);
    }
    endAsync(k, P) {
      return new Promise((L, F) => {
        this.end(k, P, (O) => {
          O ? F(O) : L();
        });
      });
    }
    removeOutgoingMessage(k) {
      if (this.outgoing[k]) {
        let { cb: P } = this.outgoing[k];
        this._removeOutgoingAndStoreMessage(k, () => {
          P(new Error("Message removed"));
        });
      }
      return this;
    }
    reconnect(k) {
      this.log("client reconnect");
      let P = () => {
        k ? (this.options.incomingStore = k.incomingStore, this.options.outgoingStore = k.outgoingStore) : (this.options.incomingStore = null, this.options.outgoingStore = null), this.incomingStore = this.options.incomingStore || new d.default(), this.outgoingStore = this.options.outgoingStore || new d.default(), this.disconnecting = !1, this.disconnected = !1, this._deferredReconnect = null, this._reconnect();
      };
      return this.disconnecting && !this.disconnected ? this._deferredReconnect = P : P(), this;
    }
    _flushVolatile() {
      this.outgoing && (this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"), Object.keys(this.outgoing).forEach((k) => {
        this.outgoing[k].volatile && typeof this.outgoing[k].cb == "function" && (this.outgoing[k].cb(new Error("Connection closed")), delete this.outgoing[k]);
      }));
    }
    _flush() {
      this.outgoing && (this.log("_flush: queue exists? %b", !!this.outgoing), Object.keys(this.outgoing).forEach((k) => {
        typeof this.outgoing[k].cb == "function" && (this.outgoing[k].cb(new Error("Connection closed")), delete this.outgoing[k]);
      }));
    }
    _removeTopicAliasAndRecoverTopicName(k) {
      let P;
      k.properties && (P = k.properties.topicAlias);
      let L = k.topic.toString();
      if (this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o", P, L), L.length === 0) {
        if (typeof P > "u")
          return new Error("Unregistered Topic Alias");
        if (L = this.topicAliasSend.getTopicByAlias(P), typeof L > "u")
          return new Error("Unregistered Topic Alias");
        k.topic = L;
      }
      P && delete k.properties.topicAlias;
    }
    _checkDisconnecting(k) {
      return this.disconnecting && (k && k !== this.noop ? k(new Error("client disconnecting")) : this.emit("error", new Error("client disconnecting"))), this.disconnecting;
    }
    _reconnect() {
      this.log("_reconnect: emitting reconnect to client"), this.emit("reconnect"), this.connected ? (this.end(() => {
        this.connect();
      }), this.log("client already connected. disconnecting first.")) : (this.log("_reconnect: calling connect"), this.connect());
    }
    _setupReconnect() {
      !this.disconnecting && !this.reconnectTimer && this.options.reconnectPeriod > 0 ? (this.reconnecting || (this.log("_setupReconnect :: emit `offline` state"), this.emit("offline"), this.log("_setupReconnect :: set `reconnecting` to `true`"), this.reconnecting = !0), this.log("_setupReconnect :: setting reconnectTimer for %d ms", this.options.reconnectPeriod), this.reconnectTimer = setInterval(() => {
        this.log("reconnectTimer :: reconnect triggered!"), this._reconnect();
      }, this.options.reconnectPeriod)) : this.log("_setupReconnect :: doing nothing...");
    }
    _clearReconnect() {
      this.log("_clearReconnect : clearing reconnect timer"), this.reconnectTimer && (clearInterval(this.reconnectTimer), this.reconnectTimer = null);
    }
    _cleanUp(k, P, L = {}) {
      if (P && (this.log("_cleanUp :: done callback provided for on stream close"), this.stream.on("close", P)), this.log("_cleanUp :: forced? %s", k), k)
        this.options.reconnectPeriod === 0 && this.options.clean && this._flush(), this.log("_cleanUp :: (%s) :: destroying stream", this.options.clientId), this.stream.destroy();
      else {
        let F = Object.assign({ cmd: "disconnect" }, L);
        this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet", this.options.clientId), this._sendPacket(F, () => {
          this.log("_cleanUp :: (%s) :: destroying stream", this.options.clientId), S(() => {
            this.stream.end(() => {
              this.log("_cleanUp :: (%s) :: stream destroyed", this.options.clientId);
            });
          });
        });
      }
      !this.disconnecting && !this.reconnecting && (this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."), this._clearReconnect(), this._setupReconnect()), this._destroyKeepaliveManager(), P && !this.connected && (this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener", this.options.clientId), this.stream.removeListener("close", P), P());
    }
    _storeAndSend(k, P, L) {
      this.log("storeAndSend :: store packet with cmd %s to outgoingStore", k.cmd);
      let F = k, O;
      if (F.cmd === "publish" && (F = (0, u.default)(k), O = this._removeTopicAliasAndRecoverTopicName(F), O))
        return P && P(O);
      this.outgoingStore.put(F, (U) => {
        if (U)
          return P && P(U);
        L(), this._writePacket(k, P);
      });
    }
    _applyTopicAlias(k) {
      if (this.options.protocolVersion === 5 && k.cmd === "publish") {
        let P;
        k.properties && (P = k.properties.topicAlias);
        let L = k.topic.toString();
        if (this.topicAliasSend)
          if (P) {
            if (L.length !== 0 && (this.log("applyTopicAlias :: register topic: %s - alias: %d", L, P), !this.topicAliasSend.put(L, P)))
              return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d", L, P), new Error("Sending Topic Alias out of range");
          } else
            L.length !== 0 && (this.options.autoAssignTopicAlias ? (P = this.topicAliasSend.getAliasByTopic(L), P ? (k.topic = "", k.properties = Object.assign(Object.assign({}, k.properties), { topicAlias: P }), this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d", L, P)) : (P = this.topicAliasSend.getLruAlias(), this.topicAliasSend.put(L, P), k.properties = Object.assign(Object.assign({}, k.properties), { topicAlias: P }), this.log("applyTopicAlias :: auto assign topic: %s - alias: %d", L, P))) : this.options.autoUseTopicAlias && (P = this.topicAliasSend.getAliasByTopic(L), P && (k.topic = "", k.properties = Object.assign(Object.assign({}, k.properties), { topicAlias: P }), this.log("applyTopicAlias :: auto use topic: %s - alias: %d", L, P))));
        else if (P)
          return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d", L, P), new Error("Sending Topic Alias out of range");
      }
    }
    _noop(k) {
      this.log("noop ::", k);
    }
    _writePacket(k, P) {
      this.log("_writePacket :: packet: %O", k), this.log("_writePacket :: emitting `packetsend`"), this.emit("packetsend", k), this.log("_writePacket :: writing to stream");
      let L = o.default.writeToStream(k, this.stream, this.options);
      this.log("_writePacket :: writeToStream result %s", L), !L && P && P !== this.noop ? (this.log("_writePacket :: handle events on `drain` once through callback."), this.stream.once("drain", P)) : P && (this.log("_writePacket :: invoking cb"), P());
    }
    _sendPacket(k, P, L, F) {
      this.log("_sendPacket :: (%s) ::  start", this.options.clientId), L = L || this.noop, P = P || this.noop;
      let O = this._applyTopicAlias(k);
      if (O) {
        P(O);
        return;
      }
      if (!this.connected) {
        if (k.cmd === "auth") {
          this._writePacket(k, P);
          return;
        }
        this.log("_sendPacket :: client not connected. Storing packet offline."), this._storePacket(k, P, L);
        return;
      }
      if (F) {
        this._writePacket(k, P);
        return;
      }
      switch (k.cmd) {
        case "publish":
          break;
        case "pubrel":
          this._storeAndSend(k, P, L);
          return;
        default:
          this._writePacket(k, P);
          return;
      }
      switch (k.qos) {
        case 2:
        case 1:
          this._storeAndSend(k, P, L);
          break;
        case 0:
        default:
          this._writePacket(k, P);
          break;
      }
      this.log("_sendPacket :: (%s) ::  end", this.options.clientId);
    }
    _storePacket(k, P, L) {
      this.log("_storePacket :: packet: %o", k), this.log("_storePacket :: cb? %s", !!P), L = L || this.noop;
      let F = k;
      if (F.cmd === "publish") {
        F = (0, u.default)(k);
        let U = this._removeTopicAliasAndRecoverTopicName(F);
        if (U)
          return P && P(U);
      }
      let O = F.qos || 0;
      O === 0 && this.queueQoSZero || F.cmd !== "publish" ? this.queue.push({ packet: F, cb: P }) : O > 0 ? (P = this.outgoing[F.messageId] ? this.outgoing[F.messageId].cb : null, this.outgoingStore.put(F, (U) => {
        if (U)
          return P && P(U);
        L();
      })) : P && P(new Error("No connection to broker"));
    }
    _setupKeepaliveManager() {
      this.log("_setupKeepaliveManager :: keepalive %d (seconds)", this.options.keepalive), !this.keepaliveManager && this.options.keepalive && (this.keepaliveManager = new _.default(this, this.options.timerVariant));
    }
    _destroyKeepaliveManager() {
      this.keepaliveManager && (this.log("_destroyKeepaliveManager :: destroying keepalive manager"), this.keepaliveManager.destroy(), this.keepaliveManager = null);
    }
    reschedulePing() {
      this.keepaliveManager && this.options.keepalive && this.options.reschedulePings && this._reschedulePing();
    }
    _reschedulePing() {
      this.log("_reschedulePing :: rescheduling ping"), this.keepaliveManager.reschedule();
    }
    sendPing() {
      this.log("_sendPing :: sending pingreq"), this._sendPacket({ cmd: "pingreq" });
    }
    onKeepaliveTimeout() {
      this.emit("error", new Error("Keepalive timeout")), this.log("onKeepaliveTimeout :: calling _cleanUp with force true"), this._cleanUp(!0);
    }
    _resubscribe() {
      this.log("_resubscribe");
      let k = Object.keys(this._resubscribeTopics);
      if (!this._firstConnection && (this.options.clean || this.options.protocolVersion >= 4 && !this.connackPacket.sessionPresent) && k.length > 0)
        if (this.options.resubscribe)
          if (this.options.protocolVersion === 5) {
            this.log("_resubscribe: protocolVersion 5");
            for (let P = 0; P < k.length; P++) {
              let L = {};
              L[k[P]] = this._resubscribeTopics[k[P]], L.resubscribe = !0, this.subscribe(L, { properties: L[k[P]].properties });
            }
          } else
            this._resubscribeTopics.resubscribe = !0, this.subscribe(this._resubscribeTopics);
        else
          this._resubscribeTopics = {};
      this._firstConnection = !1;
    }
    _onConnect(k) {
      if (this.disconnected) {
        this.emit("connect", k);
        return;
      }
      this.connackPacket = k, this.messageIdProvider.clear(), this._setupKeepaliveManager(), this.connected = !0;
      let P = () => {
        let L = this.outgoingStore.createStream(), F = () => {
          L.destroy(), L = null, this._flushStoreProcessingQueue(), O();
        }, O = () => {
          this._storeProcessing = !1, this._packetIdsDuringStoreProcessing = {};
        };
        this.once("close", F), L.on("error", (V) => {
          O(), this._flushStoreProcessingQueue(), this.removeListener("close", F), this.emit("error", V);
        });
        let U = () => {
          if (!L)
            return;
          let V = L.read(1), G;
          if (!V) {
            L.once("readable", U);
            return;
          }
          if (this._storeProcessing = !0, this._packetIdsDuringStoreProcessing[V.messageId]) {
            U();
            return;
          }
          !this.disconnecting && !this.reconnectTimer ? (G = this.outgoing[V.messageId] ? this.outgoing[V.messageId].cb : null, this.outgoing[V.messageId] = { volatile: !1, cb(Z, Q) {
            G && G(Z, Q), U();
          } }, this._packetIdsDuringStoreProcessing[V.messageId] = !0, this.messageIdProvider.register(V.messageId) ? this._sendPacket(V, void 0, void 0, !0) : this.log("messageId: %d has already used.", V.messageId)) : L.destroy && L.destroy();
        };
        L.on("end", () => {
          let V = !0;
          for (let G in this._packetIdsDuringStoreProcessing)
            if (!this._packetIdsDuringStoreProcessing[G]) {
              V = !1;
              break;
            }
          this.removeListener("close", F), V ? (O(), this._invokeAllStoreProcessingQueue(), this.emit("connect", k)) : P();
        }), U();
      };
      P();
    }
    _invokeStoreProcessingQueue() {
      if (!this._storeProcessing && this._storeProcessingQueue.length > 0) {
        let k = this._storeProcessingQueue[0];
        if (k && k.invoke())
          return this._storeProcessingQueue.shift(), !0;
      }
      return !1;
    }
    _invokeAllStoreProcessingQueue() {
      for (; this._invokeStoreProcessingQueue(); )
        ;
    }
    _flushStoreProcessingQueue() {
      for (let k of this._storeProcessingQueue)
        k.cbStorePut && k.cbStorePut(new Error("Connection closed")), k.callback && k.callback(new Error("Connection closed"));
      this._storeProcessingQueue.splice(0);
    }
    _removeOutgoingAndStoreMessage(k, P) {
      delete this.outgoing[k], this.outgoingStore.del({ messageId: k }, (L, F) => {
        P(L, F), this.messageIdProvider.deallocate(k), this._invokeStoreProcessingQueue();
      });
    }
  };
  E.VERSION = v.MQTTJS_VERSION, r.default = E;
}), toe = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "__esModule", { value: !0 });
  var e = EW(), t = class {
    constructor() {
      this.numberAllocator = new e.NumberAllocator(1, 65535);
    }
    allocate() {
      return this.lastId = this.numberAllocator.alloc(), this.lastId;
    }
    getLastAllocated() {
      return this.lastId;
    }
    register(i) {
      return this.numberAllocator.use(i);
    }
    deallocate(i) {
      this.numberAllocator.free(i);
    }
    clear() {
      this.numberAllocator.clear();
    }
  };
  r.default = t;
});
function Fh(r) {
  throw new RangeError(MW[r]);
}
function KP(r, e) {
  let t = r.split("@"), i = "";
  t.length > 1 && (i = t[0] + "@", r = t[1]);
  let a = function(n, o) {
    let s = [], l = n.length;
    for (; l--; )
      s[l] = o(n[l]);
    return s;
  }((r = r.replace(kW, ".")).split("."), e).join(".");
  return i + a;
}
function ZP(r) {
  let e = [], t = 0, i = r.length;
  for (; t < i; ) {
    let a = r.charCodeAt(t++);
    if (a >= 55296 && a <= 56319 && t < i) {
      let n = r.charCodeAt(t++);
      (64512 & n) == 56320 ? e.push(((1023 & a) << 10) + (1023 & n) + 65536) : (e.push(a), t--);
    } else
      e.push(a);
  }
  return e;
}
var JP, QP, kW, MW, bs, hy, P4, R4, L4, O4, xc, roe = Sa(() => {
  lt(), st(), ot(), JP = /^xn--/, QP = /[^\0-\x7E]/, kW = /[\x2E\u3002\uFF0E\uFF61]/g, MW = { overflow: "Overflow: input needs wider integers to process", "not-basic": "Illegal input >= 0x80 (not a basic code point)", "invalid-input": "Invalid input" }, bs = Math.floor, hy = String.fromCharCode, P4 = function(r, e) {
    return r + 22 + 75 * (r < 26) - ((e != 0) << 5);
  }, R4 = function(r, e, t) {
    let i = 0;
    for (r = t ? bs(r / 700) : r >> 1, r += bs(r / e); r > 455; i += 36)
      r = bs(r / 35);
    return bs(i + 36 * r / (r + 38));
  }, L4 = function(r) {
    let e = [], t = r.length, i = 0, a = 128, n = 72, o = r.lastIndexOf("-");
    o < 0 && (o = 0);
    for (let l = 0; l < o; ++l)
      r.charCodeAt(l) >= 128 && Fh("not-basic"), e.push(r.charCodeAt(l));
    for (let l = o > 0 ? o + 1 : 0; l < t; ) {
      let u = i;
      for (let f = 1, d = 36; ; d += 36) {
        l >= t && Fh("invalid-input");
        let p = (s = r.charCodeAt(l++)) - 48 < 10 ? s - 22 : s - 65 < 26 ? s - 65 : s - 97 < 26 ? s - 97 : 36;
        (p >= 36 || p > bs((2147483647 - i) / f)) && Fh("overflow"), i += p * f;
        let v = d <= n ? 1 : d >= n + 26 ? 26 : d - n;
        if (p < v)
          break;
        let y = 36 - v;
        f > bs(2147483647 / y) && Fh("overflow"), f *= y;
      }
      let c = e.length + 1;
      n = R4(i - u, c, u == 0), bs(i / c) > 2147483647 - a && Fh("overflow"), a += bs(i / c), i %= c, e.splice(i++, 0, a);
    }
    var s;
    return String.fromCodePoint(...e);
  }, O4 = function(r) {
    let e = [], t = (r = ZP(r)).length, i = 128, a = 0, n = 72;
    for (let l of r)
      l < 128 && e.push(hy(l));
    let o = e.length, s = o;
    for (o && e.push("-"); s < t; ) {
      let l = 2147483647;
      for (let c of r)
        c >= i && c < l && (l = c);
      let u = s + 1;
      l - i > bs((2147483647 - a) / u) && Fh("overflow"), a += (l - i) * u, i = l;
      for (let c of r)
        if (c < i && ++a > 2147483647 && Fh("overflow"), c == i) {
          let f = a;
          for (let d = 36; ; d += 36) {
            let p = d <= n ? 1 : d >= n + 26 ? 26 : d - n;
            if (f < p)
              break;
            let v = f - p, y = 36 - p;
            e.push(hy(P4(p + v % y, 0))), f = bs(v / y);
          }
          e.push(hy(P4(f, 0))), n = R4(a, u, s == o), a = 0, ++s;
        }
      ++a, ++i;
    }
    return e.join("");
  }, xc = { version: "2.1.0", ucs2: { decode: ZP, encode: (r) => String.fromCodePoint(...r) }, decode: L4, encode: O4, toASCII: function(r) {
    return KP(r, function(e) {
      return QP.test(e) ? "xn--" + O4(e) : e;
    });
  }, toUnicode: function(r) {
    return KP(r, function(e) {
      return JP.test(e) ? L4(e.slice(4).toLowerCase()) : e;
    });
  } }, xc.decode, xc.encode, xc.toASCII, xc.toUnicode, xc.ucs2, xc.version;
});
function noe(r, e) {
  return Object.prototype.hasOwnProperty.call(r, e);
}
var eR, Kd, tR, hl, ioe = Sa(() => {
  lt(), st(), ot(), eR = function(r, e, t, i) {
    e = e || "&", t = t || "=";
    var a = {};
    if (typeof r != "string" || r.length === 0)
      return a;
    var n = /\+/g;
    r = r.split(e);
    var o = 1e3;
    i && typeof i.maxKeys == "number" && (o = i.maxKeys);
    var s = r.length;
    o > 0 && s > o && (s = o);
    for (var l = 0; l < s; ++l) {
      var u, c, f, d, p = r[l].replace(n, "%20"), v = p.indexOf(t);
      v >= 0 ? (u = p.substr(0, v), c = p.substr(v + 1)) : (u = p, c = ""), f = decodeURIComponent(u), d = decodeURIComponent(c), noe(a, f) ? Array.isArray(a[f]) ? a[f].push(d) : a[f] = [a[f], d] : a[f] = d;
    }
    return a;
  }, Kd = function(r) {
    switch (typeof r) {
      case "string":
        return r;
      case "boolean":
        return r ? "true" : "false";
      case "number":
        return isFinite(r) ? r : "";
      default:
        return "";
    }
  }, tR = function(r, e, t, i) {
    return e = e || "&", t = t || "=", r === null && (r = void 0), typeof r == "object" ? Object.keys(r).map(function(a) {
      var n = encodeURIComponent(Kd(a)) + t;
      return Array.isArray(r[a]) ? r[a].map(function(o) {
        return n + encodeURIComponent(Kd(o));
      }).join(e) : n + encodeURIComponent(Kd(r[a]));
    }).join(e) : i ? encodeURIComponent(Kd(i)) + t + encodeURIComponent(Kd(r)) : "";
  }, hl = {}, hl.decode = hl.parse = eR, hl.encode = hl.stringify = tR, hl.decode, hl.encode, hl.parse, hl.stringify;
});
function JC() {
  throw new Error("setTimeout has not been defined");
}
function QC() {
  throw new Error("clearTimeout has not been defined");
}
function IW(r) {
  if (ou === setTimeout)
    return setTimeout(r, 0);
  if ((ou === JC || !ou) && setTimeout)
    return ou = setTimeout, setTimeout(r, 0);
  try {
    return ou(r, 0);
  } catch {
    try {
      return ou.call(null, r, 0);
    } catch {
      return ou.call(this || Vf, r, 0);
    }
  }
}
function aoe() {
  Uf && Df && (Uf = !1, Df.length ? bl = Df.concat(bl) : Bg = -1, bl.length && PW());
}
function PW() {
  if (!Uf) {
    var r = IW(aoe);
    Uf = !0;
    for (var e = bl.length; e; ) {
      for (Df = bl, bl = []; ++Bg < e; )
        Df && Df[Bg].run();
      Bg = -1, e = bl.length;
    }
    Df = null, Uf = !1, function(t) {
      if (su === clearTimeout)
        return clearTimeout(t);
      if ((su === QC || !su) && clearTimeout)
        return su = clearTimeout, clearTimeout(t);
      try {
        su(t);
      } catch {
        try {
          return su.call(null, t);
        } catch {
          return su.call(this || Vf, t);
        }
      }
    }(r);
  }
}
function rR(r, e) {
  (this || Vf).fun = r, (this || Vf).array = e;
}
function Xl() {
}
var nR, ou, su, Vf, vi, Df, bl, Uf, Bg, oi, ooe = Sa(() => {
  lt(), st(), ot(), Vf = typeof globalThis < "u" ? globalThis : typeof self < "u" ? self : global, vi = nR = {}, function() {
    try {
      ou = typeof setTimeout == "function" ? setTimeout : JC;
    } catch {
      ou = JC;
    }
    try {
      su = typeof clearTimeout == "function" ? clearTimeout : QC;
    } catch {
      su = QC;
    }
  }(), bl = [], Uf = !1, Bg = -1, vi.nextTick = function(r) {
    var e = new Array(arguments.length - 1);
    if (arguments.length > 1)
      for (var t = 1; t < arguments.length; t++)
        e[t - 1] = arguments[t];
    bl.push(new rR(r, e)), bl.length !== 1 || Uf || IW(PW);
  }, rR.prototype.run = function() {
    (this || Vf).fun.apply(null, (this || Vf).array);
  }, vi.title = "browser", vi.browser = !0, vi.env = {}, vi.argv = [], vi.version = "", vi.versions = {}, vi.on = Xl, vi.addListener = Xl, vi.once = Xl, vi.off = Xl, vi.removeListener = Xl, vi.removeAllListeners = Xl, vi.emit = Xl, vi.prependListener = Xl, vi.prependOnceListener = Xl, vi.listeners = function(r) {
    return [];
  }, vi.binding = function(r) {
    throw new Error("process.binding is not supported");
  }, vi.cwd = function() {
    return "/";
  }, vi.chdir = function(r) {
    throw new Error("process.chdir is not supported");
  }, vi.umask = function() {
    return 0;
  }, oi = nR, oi.addListener, oi.argv, oi.binding, oi.browser, oi.chdir, oi.cwd, oi.emit, oi.env, oi.listeners, oi.nextTick, oi.off, oi.on, oi.once, oi.prependListener, oi.prependOnceListener, oi.removeAllListeners, oi.removeListener, oi.title, oi.umask, oi.version, oi.versions;
});
function soe() {
  if (eA)
    return W2;
  eA = !0;
  var r = W2 = {}, e, t;
  function i() {
    throw new Error("setTimeout has not been defined");
  }
  function a() {
    throw new Error("clearTimeout has not been defined");
  }
  (function() {
    try {
      typeof setTimeout == "function" ? e = setTimeout : e = i;
    } catch {
      e = i;
    }
    try {
      typeof clearTimeout == "function" ? t = clearTimeout : t = a;
    } catch {
      t = a;
    }
  })();
  function n(y) {
    if (e === setTimeout)
      return setTimeout(y, 0);
    if ((e === i || !e) && setTimeout)
      return e = setTimeout, setTimeout(y, 0);
    try {
      return e(y, 0);
    } catch {
      try {
        return e.call(null, y, 0);
      } catch {
        return e.call(this || df, y, 0);
      }
    }
  }
  function o(y) {
    if (t === clearTimeout)
      return clearTimeout(y);
    if ((t === a || !t) && clearTimeout)
      return t = clearTimeout, clearTimeout(y);
    try {
      return t(y);
    } catch {
      try {
        return t.call(null, y);
      } catch {
        return t.call(this || df, y);
      }
    }
  }
  var s = [], l = !1, u, c = -1;
  function f() {
    !l || !u || (l = !1, u.length ? s = u.concat(s) : c = -1, s.length && d());
  }
  function d() {
    if (!l) {
      var y = n(f);
      l = !0;
      for (var _ = s.length; _; ) {
        for (u = s, s = []; ++c < _; )
          u && u[c].run();
        c = -1, _ = s.length;
      }
      u = null, l = !1, o(y);
    }
  }
  r.nextTick = function(y) {
    var _ = new Array(arguments.length - 1);
    if (arguments.length > 1)
      for (var w = 1; w < arguments.length; w++)
        _[w - 1] = arguments[w];
    s.push(new p(y, _)), s.length === 1 && !l && n(d);
  };
  function p(y, _) {
    (this || df).fun = y, (this || df).array = _;
  }
  p.prototype.run = function() {
    (this || df).fun.apply(null, (this || df).array);
  }, r.title = "browser", r.browser = !0, r.env = {}, r.argv = [], r.version = "", r.versions = {};
  function v() {
  }
  return r.on = v, r.addListener = v, r.once = v, r.off = v, r.removeListener = v, r.removeAllListeners = v, r.emit = v, r.prependListener = v, r.prependOnceListener = v, r.listeners = function(y) {
    return [];
  }, r.binding = function(y) {
    throw new Error("process.binding is not supported");
  }, r.cwd = function() {
    return "/";
  }, r.chdir = function(y) {
    throw new Error("process.chdir is not supported");
  }, r.umask = function() {
    return 0;
  }, W2;
}
var W2, eA, df, Qn, RW = Sa(() => {
  lt(), st(), ot(), W2 = {}, eA = !1, df = typeof globalThis < "u" ? globalThis : typeof self < "u" ? self : global, Qn = soe(), Qn.platform = "browser", Qn.addListener, Qn.argv, Qn.binding, Qn.browser, Qn.chdir, Qn.cwd, Qn.emit, Qn.env, Qn.listeners, Qn.nextTick, Qn.off, Qn.on, Qn.once, Qn.prependListener, Qn.prependOnceListener, Qn.removeAllListeners, Qn.removeListener, Qn.title, Qn.umask, Qn.version, Qn.versions;
});
function loe() {
  if (tA)
    return H2;
  tA = !0;
  var r = Qn;
  function e(n) {
    if (typeof n != "string")
      throw new TypeError("Path must be a string. Received " + JSON.stringify(n));
  }
  function t(n, o) {
    for (var s = "", l = 0, u = -1, c = 0, f, d = 0; d <= n.length; ++d) {
      if (d < n.length)
        f = n.charCodeAt(d);
      else {
        if (f === 47)
          break;
        f = 47;
      }
      if (f === 47) {
        if (!(u === d - 1 || c === 1))
          if (u !== d - 1 && c === 2) {
            if (s.length < 2 || l !== 2 || s.charCodeAt(s.length - 1) !== 46 || s.charCodeAt(s.length - 2) !== 46) {
              if (s.length > 2) {
                var p = s.lastIndexOf("/");
                if (p !== s.length - 1) {
                  p === -1 ? (s = "", l = 0) : (s = s.slice(0, p), l = s.length - 1 - s.lastIndexOf("/")), u = d, c = 0;
                  continue;
                }
              } else if (s.length === 2 || s.length === 1) {
                s = "", l = 0, u = d, c = 0;
                continue;
              }
            }
            o && (s.length > 0 ? s += "/.." : s = "..", l = 2);
          } else
            s.length > 0 ? s += "/" + n.slice(u + 1, d) : s = n.slice(u + 1, d), l = d - u - 1;
        u = d, c = 0;
      } else
        f === 46 && c !== -1 ? ++c : c = -1;
    }
    return s;
  }
  function i(n, o) {
    var s = o.dir || o.root, l = o.base || (o.name || "") + (o.ext || "");
    return s ? s === o.root ? s + l : s + n + l : l;
  }
  var a = { resolve: function() {
    for (var n = "", o = !1, s, l = arguments.length - 1; l >= -1 && !o; l--) {
      var u;
      l >= 0 ? u = arguments[l] : (s === void 0 && (s = r.cwd()), u = s), e(u), u.length !== 0 && (n = u + "/" + n, o = u.charCodeAt(0) === 47);
    }
    return n = t(n, !o), o ? n.length > 0 ? "/" + n : "/" : n.length > 0 ? n : ".";
  }, normalize: function(n) {
    if (e(n), n.length === 0)
      return ".";
    var o = n.charCodeAt(0) === 47, s = n.charCodeAt(n.length - 1) === 47;
    return n = t(n, !o), n.length === 0 && !o && (n = "."), n.length > 0 && s && (n += "/"), o ? "/" + n : n;
  }, isAbsolute: function(n) {
    return e(n), n.length > 0 && n.charCodeAt(0) === 47;
  }, join: function() {
    if (arguments.length === 0)
      return ".";
    for (var n, o = 0; o < arguments.length; ++o) {
      var s = arguments[o];
      e(s), s.length > 0 && (n === void 0 ? n = s : n += "/" + s);
    }
    return n === void 0 ? "." : a.normalize(n);
  }, relative: function(n, o) {
    if (e(n), e(o), n === o || (n = a.resolve(n), o = a.resolve(o), n === o))
      return "";
    for (var s = 1; s < n.length && n.charCodeAt(s) === 47; ++s)
      ;
    for (var l = n.length, u = l - s, c = 1; c < o.length && o.charCodeAt(c) === 47; ++c)
      ;
    for (var f = o.length, d = f - c, p = u < d ? u : d, v = -1, y = 0; y <= p; ++y) {
      if (y === p) {
        if (d > p) {
          if (o.charCodeAt(c + y) === 47)
            return o.slice(c + y + 1);
          if (y === 0)
            return o.slice(c + y);
        } else
          u > p && (n.charCodeAt(s + y) === 47 ? v = y : y === 0 && (v = 0));
        break;
      }
      var _ = n.charCodeAt(s + y), w = o.charCodeAt(c + y);
      if (_ !== w)
        break;
      _ === 47 && (v = y);
    }
    var S = "";
    for (y = s + v + 1; y <= l; ++y)
      (y === l || n.charCodeAt(y) === 47) && (S.length === 0 ? S += ".." : S += "/..");
    return S.length > 0 ? S + o.slice(c + v) : (c += v, o.charCodeAt(c) === 47 && ++c, o.slice(c));
  }, _makeLong: function(n) {
    return n;
  }, dirname: function(n) {
    if (e(n), n.length === 0)
      return ".";
    for (var o = n.charCodeAt(0), s = o === 47, l = -1, u = !0, c = n.length - 1; c >= 1; --c)
      if (o = n.charCodeAt(c), o === 47) {
        if (!u) {
          l = c;
          break;
        }
      } else
        u = !1;
    return l === -1 ? s ? "/" : "." : s && l === 1 ? "//" : n.slice(0, l);
  }, basename: function(n, o) {
    if (o !== void 0 && typeof o != "string")
      throw new TypeError('"ext" argument must be a string');
    e(n);
    var s = 0, l = -1, u = !0, c;
    if (o !== void 0 && o.length > 0 && o.length <= n.length) {
      if (o.length === n.length && o === n)
        return "";
      var f = o.length - 1, d = -1;
      for (c = n.length - 1; c >= 0; --c) {
        var p = n.charCodeAt(c);
        if (p === 47) {
          if (!u) {
            s = c + 1;
            break;
          }
        } else
          d === -1 && (u = !1, d = c + 1), f >= 0 && (p === o.charCodeAt(f) ? --f === -1 && (l = c) : (f = -1, l = d));
      }
      return s === l ? l = d : l === -1 && (l = n.length), n.slice(s, l);
    } else {
      for (c = n.length - 1; c >= 0; --c)
        if (n.charCodeAt(c) === 47) {
          if (!u) {
            s = c + 1;
            break;
          }
        } else
          l === -1 && (u = !1, l = c + 1);
      return l === -1 ? "" : n.slice(s, l);
    }
  }, extname: function(n) {
    e(n);
    for (var o = -1, s = 0, l = -1, u = !0, c = 0, f = n.length - 1; f >= 0; --f) {
      var d = n.charCodeAt(f);
      if (d === 47) {
        if (!u) {
          s = f + 1;
          break;
        }
        continue;
      }
      l === -1 && (u = !1, l = f + 1), d === 46 ? o === -1 ? o = f : c !== 1 && (c = 1) : o !== -1 && (c = -1);
    }
    return o === -1 || l === -1 || c === 0 || c === 1 && o === l - 1 && o === s + 1 ? "" : n.slice(o, l);
  }, format: function(n) {
    if (n === null || typeof n != "object")
      throw new TypeError('The "pathObject" argument must be of type Object. Received type ' + typeof n);
    return i("/", n);
  }, parse: function(n) {
    e(n);
    var o = { root: "", dir: "", base: "", ext: "", name: "" };
    if (n.length === 0)
      return o;
    var s = n.charCodeAt(0), l = s === 47, u;
    l ? (o.root = "/", u = 1) : u = 0;
    for (var c = -1, f = 0, d = -1, p = !0, v = n.length - 1, y = 0; v >= u; --v) {
      if (s = n.charCodeAt(v), s === 47) {
        if (!p) {
          f = v + 1;
          break;
        }
        continue;
      }
      d === -1 && (p = !1, d = v + 1), s === 46 ? c === -1 ? c = v : y !== 1 && (y = 1) : c !== -1 && (y = -1);
    }
    return c === -1 || d === -1 || y === 0 || y === 1 && c === d - 1 && c === f + 1 ? d !== -1 && (f === 0 && l ? o.base = o.name = n.slice(1, d) : o.base = o.name = n.slice(f, d)) : (f === 0 && l ? (o.name = n.slice(1, c), o.base = n.slice(1, d)) : (o.name = n.slice(f, c), o.base = n.slice(f, d)), o.ext = n.slice(c, d)), f > 0 ? o.dir = n.slice(0, f - 1) : l && (o.dir = "/"), o;
  }, sep: "/", delimiter: ":", win32: null, posix: null };
  return a.posix = a, H2 = a, H2;
}
var H2, tA, rA, uoe = Sa(() => {
  lt(), st(), ot(), RW(), H2 = {}, tA = !1, rA = loe();
}), LW = {};
sd(LW, { URL: () => JW, Url: () => jW, default: () => Ln, fileURLToPath: () => OW, format: () => qW, parse: () => ZW, pathToFileURL: () => FW, resolve: () => XW, resolveObject: () => KW });
function Xo() {
  this.protocol = null, this.slashes = null, this.auth = null, this.host = null, this.port = null, this.hostname = null, this.hash = null, this.search = null, this.query = null, this.pathname = null, this.path = null, this.href = null;
}
function Lv(r, e, t) {
  if (r && Ss.isObject(r) && r instanceof Xo)
    return r;
  var i = new Xo();
  return i.parse(r, e, t), i;
}
function coe() {
  if (nA)
    return $2;
  nA = !0;
  var r = oi;
  function e(n) {
    if (typeof n != "string")
      throw new TypeError("Path must be a string. Received " + JSON.stringify(n));
  }
  function t(n, o) {
    for (var s = "", l = 0, u = -1, c = 0, f, d = 0; d <= n.length; ++d) {
      if (d < n.length)
        f = n.charCodeAt(d);
      else {
        if (f === 47)
          break;
        f = 47;
      }
      if (f === 47) {
        if (!(u === d - 1 || c === 1))
          if (u !== d - 1 && c === 2) {
            if (s.length < 2 || l !== 2 || s.charCodeAt(s.length - 1) !== 46 || s.charCodeAt(s.length - 2) !== 46) {
              if (s.length > 2) {
                var p = s.lastIndexOf("/");
                if (p !== s.length - 1) {
                  p === -1 ? (s = "", l = 0) : (s = s.slice(0, p), l = s.length - 1 - s.lastIndexOf("/")), u = d, c = 0;
                  continue;
                }
              } else if (s.length === 2 || s.length === 1) {
                s = "", l = 0, u = d, c = 0;
                continue;
              }
            }
            o && (s.length > 0 ? s += "/.." : s = "..", l = 2);
          } else
            s.length > 0 ? s += "/" + n.slice(u + 1, d) : s = n.slice(u + 1, d), l = d - u - 1;
        u = d, c = 0;
      } else
        f === 46 && c !== -1 ? ++c : c = -1;
    }
    return s;
  }
  function i(n, o) {
    var s = o.dir || o.root, l = o.base || (o.name || "") + (o.ext || "");
    return s ? s === o.root ? s + l : s + n + l : l;
  }
  var a = { resolve: function() {
    for (var n = "", o = !1, s, l = arguments.length - 1; l >= -1 && !o; l--) {
      var u;
      l >= 0 ? u = arguments[l] : (s === void 0 && (s = r.cwd()), u = s), e(u), u.length !== 0 && (n = u + "/" + n, o = u.charCodeAt(0) === 47);
    }
    return n = t(n, !o), o ? n.length > 0 ? "/" + n : "/" : n.length > 0 ? n : ".";
  }, normalize: function(n) {
    if (e(n), n.length === 0)
      return ".";
    var o = n.charCodeAt(0) === 47, s = n.charCodeAt(n.length - 1) === 47;
    return n = t(n, !o), n.length === 0 && !o && (n = "."), n.length > 0 && s && (n += "/"), o ? "/" + n : n;
  }, isAbsolute: function(n) {
    return e(n), n.length > 0 && n.charCodeAt(0) === 47;
  }, join: function() {
    if (arguments.length === 0)
      return ".";
    for (var n, o = 0; o < arguments.length; ++o) {
      var s = arguments[o];
      e(s), s.length > 0 && (n === void 0 ? n = s : n += "/" + s);
    }
    return n === void 0 ? "." : a.normalize(n);
  }, relative: function(n, o) {
    if (e(n), e(o), n === o || (n = a.resolve(n), o = a.resolve(o), n === o))
      return "";
    for (var s = 1; s < n.length && n.charCodeAt(s) === 47; ++s)
      ;
    for (var l = n.length, u = l - s, c = 1; c < o.length && o.charCodeAt(c) === 47; ++c)
      ;
    for (var f = o.length, d = f - c, p = u < d ? u : d, v = -1, y = 0; y <= p; ++y) {
      if (y === p) {
        if (d > p) {
          if (o.charCodeAt(c + y) === 47)
            return o.slice(c + y + 1);
          if (y === 0)
            return o.slice(c + y);
        } else
          u > p && (n.charCodeAt(s + y) === 47 ? v = y : y === 0 && (v = 0));
        break;
      }
      var _ = n.charCodeAt(s + y), w = o.charCodeAt(c + y);
      if (_ !== w)
        break;
      _ === 47 && (v = y);
    }
    var S = "";
    for (y = s + v + 1; y <= l; ++y)
      (y === l || n.charCodeAt(y) === 47) && (S.length === 0 ? S += ".." : S += "/..");
    return S.length > 0 ? S + o.slice(c + v) : (c += v, o.charCodeAt(c) === 47 && ++c, o.slice(c));
  }, _makeLong: function(n) {
    return n;
  }, dirname: function(n) {
    if (e(n), n.length === 0)
      return ".";
    for (var o = n.charCodeAt(0), s = o === 47, l = -1, u = !0, c = n.length - 1; c >= 1; --c)
      if (o = n.charCodeAt(c), o === 47) {
        if (!u) {
          l = c;
          break;
        }
      } else
        u = !1;
    return l === -1 ? s ? "/" : "." : s && l === 1 ? "//" : n.slice(0, l);
  }, basename: function(n, o) {
    if (o !== void 0 && typeof o != "string")
      throw new TypeError('"ext" argument must be a string');
    e(n);
    var s = 0, l = -1, u = !0, c;
    if (o !== void 0 && o.length > 0 && o.length <= n.length) {
      if (o.length === n.length && o === n)
        return "";
      var f = o.length - 1, d = -1;
      for (c = n.length - 1; c >= 0; --c) {
        var p = n.charCodeAt(c);
        if (p === 47) {
          if (!u) {
            s = c + 1;
            break;
          }
        } else
          d === -1 && (u = !1, d = c + 1), f >= 0 && (p === o.charCodeAt(f) ? --f === -1 && (l = c) : (f = -1, l = d));
      }
      return s === l ? l = d : l === -1 && (l = n.length), n.slice(s, l);
    } else {
      for (c = n.length - 1; c >= 0; --c)
        if (n.charCodeAt(c) === 47) {
          if (!u) {
            s = c + 1;
            break;
          }
        } else
          l === -1 && (u = !1, l = c + 1);
      return l === -1 ? "" : n.slice(s, l);
    }
  }, extname: function(n) {
    e(n);
    for (var o = -1, s = 0, l = -1, u = !0, c = 0, f = n.length - 1; f >= 0; --f) {
      var d = n.charCodeAt(f);
      if (d === 47) {
        if (!u) {
          s = f + 1;
          break;
        }
        continue;
      }
      l === -1 && (u = !1, l = f + 1), d === 46 ? o === -1 ? o = f : c !== 1 && (c = 1) : o !== -1 && (c = -1);
    }
    return o === -1 || l === -1 || c === 0 || c === 1 && o === l - 1 && o === s + 1 ? "" : n.slice(o, l);
  }, format: function(n) {
    if (n === null || typeof n != "object")
      throw new TypeError('The "pathObject" argument must be of type Object. Received type ' + typeof n);
    return i("/", n);
  }, parse: function(n) {
    e(n);
    var o = { root: "", dir: "", base: "", ext: "", name: "" };
    if (n.length === 0)
      return o;
    var s = n.charCodeAt(0), l = s === 47, u;
    l ? (o.root = "/", u = 1) : u = 0;
    for (var c = -1, f = 0, d = -1, p = !0, v = n.length - 1, y = 0; v >= u; --v) {
      if (s = n.charCodeAt(v), s === 47) {
        if (!p) {
          f = v + 1;
          break;
        }
        continue;
      }
      d === -1 && (p = !1, d = v + 1), s === 46 ? c === -1 ? c = v : y !== 1 && (y = 1) : c !== -1 && (y = -1);
    }
    return c === -1 || d === -1 || y === 0 || y === 1 && c === d - 1 && c === f + 1 ? d !== -1 && (f === 0 && l ? o.base = o.name = n.slice(1, d) : o.base = o.name = n.slice(f, d)) : (f === 0 && l ? (o.name = n.slice(1, c), o.base = n.slice(1, d)) : (o.name = n.slice(f, c), o.base = n.slice(f, d)), o.ext = n.slice(c, d)), f > 0 ? o.dir = n.slice(0, f - 1) : l && (o.dir = "/"), o;
  }, sep: "/", delimiter: ":", win32: null, posix: null };
  return a.posix = a, $2 = a, $2;
}
function hoe(r) {
  if (typeof r == "string")
    r = new URL(r);
  else if (!(r instanceof URL))
    throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");
  if (r.protocol !== "file:")
    throw new Deno.errors.InvalidData("invalid url scheme");
  return C_ ? foe(r) : doe(r);
}
function foe(r) {
  let e = r.hostname, t = r.pathname;
  for (let i = 0; i < t.length; i++)
    if (t[i] === "%") {
      let a = t.codePointAt(i + 2) || 32;
      if (t[i + 1] === "2" && a === 102 || t[i + 1] === "5" && a === 99)
        throw new Deno.errors.InvalidData("must not include encoded \\ or / characters");
    }
  if (t = t.replace(GW, "\\"), t = decodeURIComponent(t), e !== "")
    return `\\\\${e}${t}`;
  {
    let i = t.codePointAt(1) | 32, a = t[2];
    if (i < VW || i > UW || a !== ":")
      throw new Deno.errors.InvalidData("file url path must be absolute");
    return t.slice(1);
  }
}
function doe(r) {
  if (r.hostname !== "")
    throw new Deno.errors.InvalidData("invalid file url hostname");
  let e = r.pathname;
  for (let t = 0; t < e.length; t++)
    if (e[t] === "%") {
      let i = e.codePointAt(t + 2) || 32;
      if (e[t + 1] === "2" && i === 102)
        throw new Deno.errors.InvalidData("must not include encoded / characters");
    }
  return decodeURIComponent(e);
}
function poe(r) {
  let e = iA.resolve(r), t = r.charCodeAt(r.length - 1);
  (t === BW || C_ && t === NW) && e[e.length - 1] !== iA.sep && (e += "/");
  let i = new URL("file://");
  return e.includes("%") && (e = e.replace(zW, "%25")), !C_ && e.includes("\\") && (e = e.replace(WW, "%5C")), e.includes(`
`) && (e = e.replace(HW, "%0A")), e.includes("\r") && (e = e.replace($W, "%0D")), e.includes("	") && (e = e.replace(YW, "%09")), i.pathname = e, i;
}
function OW(r) {
  if (typeof r == "string")
    r = new URL(r);
  else if (!(r instanceof URL))
    throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");
  if (r.protocol !== "file:")
    throw new Deno.errors.InvalidData("invalid url scheme");
  return A_ ? voe(r) : goe(r);
}
function voe(r) {
  let e = r.hostname, t = r.pathname;
  for (let i = 0; i < t.length; i++)
    if (t[i] === "%") {
      let a = t.codePointAt(i + 2) || 32;
      if (t[i + 1] === "2" && a === 102 || t[i + 1] === "5" && a === 99)
        throw new Deno.errors.InvalidData("must not include encoded \\ or / characters");
    }
  if (t = t.replace(nH, "\\"), t = decodeURIComponent(t), e !== "")
    return `\\\\${e}${t}`;
  {
    let i = t.codePointAt(1) | 32, a = t[2];
    if (i < tH || i > rH || a !== ":")
      throw new Deno.errors.InvalidData("file url path must be absolute");
    return t.slice(1);
  }
}
function goe(r) {
  if (r.hostname !== "")
    throw new Deno.errors.InvalidData("invalid file url hostname");
  let e = r.pathname;
  for (let t = 0; t < e.length; t++)
    if (e[t] === "%") {
      let i = e.codePointAt(t + 2) || 32;
      if (e[t + 1] === "2" && i === 102)
        throw new Deno.errors.InvalidData("must not include encoded / characters");
    }
  return decodeURIComponent(e);
}
function FW(r) {
  let e = rA.resolve(r), t = r.charCodeAt(r.length - 1);
  (t === eH || A_ && t === QW) && e[e.length - 1] !== rA.sep && (e += "/");
  let i = new URL("file://");
  return e.includes("%") && (e = e.replace(iH, "%25")), !A_ && e.includes("\\") && (e = e.replace(aH, "%5C")), e.includes(`
`) && (e = e.replace(oH, "%0A")), e.includes("\r") && (e = e.replace(sH, "%0D")), e.includes("	") && (e = e.replace(lH, "%09")), i.pathname = e, i;
}
var Ln, iR, Ss, aR, oR, sR, lR, fy, F4, N4, B4, uR, cR, dy, Nh, py, $2, nA, iA, hR, NW, BW, VW, UW, C_, GW, zW, WW, HW, $W, YW, fR, jW, qW, XW, KW, ZW, JW, QW, eH, tH, rH, A_, nH, iH, aH, oH, sH, lH, moe = Sa(() => {
  lt(), st(), ot(), roe(), ioe(), ooe(), uoe(), RW(), Ln = {}, iR = xc, Ss = { isString: function(r) {
    return typeof r == "string";
  }, isObject: function(r) {
    return typeof r == "object" && r !== null;
  }, isNull: function(r) {
    return r === null;
  }, isNullOrUndefined: function(r) {
    return r == null;
  } }, Ln.parse = Lv, Ln.resolve = function(r, e) {
    return Lv(r, !1, !0).resolve(e);
  }, Ln.resolveObject = function(r, e) {
    return r ? Lv(r, !1, !0).resolveObject(e) : e;
  }, Ln.format = function(r) {
    return Ss.isString(r) && (r = Lv(r)), r instanceof Xo ? r.format() : Xo.prototype.format.call(r);
  }, Ln.Url = Xo, aR = /^([a-z0-9.+-]+:)/i, oR = /:[0-9]*$/, sR = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/, lR = ["{", "}", "|", "\\", "^", "`"].concat(["<", ">", '"', "`", " ", "\r", `
`, "	"]), fy = ["'"].concat(lR), F4 = ["%", "/", "?", ";", "#"].concat(fy), N4 = ["/", "?", "#"], B4 = /^[+a-z0-9A-Z_-]{0,63}$/, uR = /^([+a-z0-9A-Z_-]{0,63})(.*)$/, cR = { javascript: !0, "javascript:": !0 }, dy = { javascript: !0, "javascript:": !0 }, Nh = { http: !0, https: !0, ftp: !0, gopher: !0, file: !0, "http:": !0, "https:": !0, "ftp:": !0, "gopher:": !0, "file:": !0 }, py = hl, Xo.prototype.parse = function(r, e, t) {
    if (!Ss.isString(r))
      throw new TypeError("Parameter 'url' must be a string, not " + typeof r);
    var i = r.indexOf("?"), a = i !== -1 && i < r.indexOf("#") ? "?" : "#", n = r.split(a);
    n[0] = n[0].replace(/\\/g, "/");
    var o = r = n.join(a);
    if (o = o.trim(), !t && r.split("#").length === 1) {
      var s = sR.exec(o);
      if (s)
        return this.path = o, this.href = o, this.pathname = s[1], s[2] ? (this.search = s[2], this.query = e ? py.parse(this.search.substr(1)) : this.search.substr(1)) : e && (this.search = "", this.query = {}), this;
    }
    var l = aR.exec(o);
    if (l) {
      var u = (l = l[0]).toLowerCase();
      this.protocol = u, o = o.substr(l.length);
    }
    if (t || l || o.match(/^\/\/[^@\/]+@[^@\/]+/)) {
      var c = o.substr(0, 2) === "//";
      !c || l && dy[l] || (o = o.substr(2), this.slashes = !0);
    }
    if (!dy[l] && (c || l && !Nh[l])) {
      for (var f, d, p = -1, v = 0; v < N4.length; v++)
        (y = o.indexOf(N4[v])) !== -1 && (p === -1 || y < p) && (p = y);
      for ((d = p === -1 ? o.lastIndexOf("@") : o.lastIndexOf("@", p)) !== -1 && (f = o.slice(0, d), o = o.slice(d + 1), this.auth = decodeURIComponent(f)), p = -1, v = 0; v < F4.length; v++) {
        var y;
        (y = o.indexOf(F4[v])) !== -1 && (p === -1 || y < p) && (p = y);
      }
      p === -1 && (p = o.length), this.host = o.slice(0, p), o = o.slice(p), this.parseHost(), this.hostname = this.hostname || "";
      var _ = this.hostname[0] === "[" && this.hostname[this.hostname.length - 1] === "]";
      if (!_)
        for (var w = this.hostname.split(/\./), S = (v = 0, w.length); v < S; v++) {
          var x = w[v];
          if (x && !x.match(B4)) {
            for (var E = "", M = 0, k = x.length; M < k; M++)
              x.charCodeAt(M) > 127 ? E += "x" : E += x[M];
            if (!E.match(B4)) {
              var P = w.slice(0, v), L = w.slice(v + 1), F = x.match(uR);
              F && (P.push(F[1]), L.unshift(F[2])), L.length && (o = "/" + L.join(".") + o), this.hostname = P.join(".");
              break;
            }
          }
        }
      this.hostname.length > 255 ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(), _ || (this.hostname = iR.toASCII(this.hostname));
      var O = this.port ? ":" + this.port : "", U = this.hostname || "";
      this.host = U + O, this.href += this.host, _ && (this.hostname = this.hostname.substr(1, this.hostname.length - 2), o[0] !== "/" && (o = "/" + o));
    }
    if (!cR[u])
      for (v = 0, S = fy.length; v < S; v++) {
        var V = fy[v];
        if (o.indexOf(V) !== -1) {
          var G = encodeURIComponent(V);
          G === V && (G = escape(V)), o = o.split(V).join(G);
        }
      }
    var Z = o.indexOf("#");
    Z !== -1 && (this.hash = o.substr(Z), o = o.slice(0, Z));
    var Q = o.indexOf("?");
    if (Q !== -1 ? (this.search = o.substr(Q), this.query = o.substr(Q + 1), e && (this.query = py.parse(this.query)), o = o.slice(0, Q)) : e && (this.search = "", this.query = {}), o && (this.pathname = o), Nh[u] && this.hostname && !this.pathname && (this.pathname = "/"), this.pathname || this.search) {
      O = this.pathname || "";
      var se = this.search || "";
      this.path = O + se;
    }
    return this.href = this.format(), this;
  }, Xo.prototype.format = function() {
    var r = this.auth || "";
    r && (r = (r = encodeURIComponent(r)).replace(/%3A/i, ":"), r += "@");
    var e = this.protocol || "", t = this.pathname || "", i = this.hash || "", a = !1, n = "";
    this.host ? a = r + this.host : this.hostname && (a = r + (this.hostname.indexOf(":") === -1 ? this.hostname : "[" + this.hostname + "]"), this.port && (a += ":" + this.port)), this.query && Ss.isObject(this.query) && Object.keys(this.query).length && (n = py.stringify(this.query));
    var o = this.search || n && "?" + n || "";
    return e && e.substr(-1) !== ":" && (e += ":"), this.slashes || (!e || Nh[e]) && a !== !1 ? (a = "//" + (a || ""), t && t.charAt(0) !== "/" && (t = "/" + t)) : a || (a = ""), i && i.charAt(0) !== "#" && (i = "#" + i), o && o.charAt(0) !== "?" && (o = "?" + o), e + a + (t = t.replace(/[?#]/g, function(s) {
      return encodeURIComponent(s);
    })) + (o = o.replace("#", "%23")) + i;
  }, Xo.prototype.resolve = function(r) {
    return this.resolveObject(Lv(r, !1, !0)).format();
  }, Xo.prototype.resolveObject = function(r) {
    if (Ss.isString(r)) {
      var e = new Xo();
      e.parse(r, !1, !0), r = e;
    }
    for (var t = new Xo(), i = Object.keys(this), a = 0; a < i.length; a++) {
      var n = i[a];
      t[n] = this[n];
    }
    if (t.hash = r.hash, r.href === "")
      return t.href = t.format(), t;
    if (r.slashes && !r.protocol) {
      for (var o = Object.keys(r), s = 0; s < o.length; s++) {
        var l = o[s];
        l !== "protocol" && (t[l] = r[l]);
      }
      return Nh[t.protocol] && t.hostname && !t.pathname && (t.path = t.pathname = "/"), t.href = t.format(), t;
    }
    if (r.protocol && r.protocol !== t.protocol) {
      if (!Nh[r.protocol]) {
        for (var u = Object.keys(r), c = 0; c < u.length; c++) {
          var f = u[c];
          t[f] = r[f];
        }
        return t.href = t.format(), t;
      }
      if (t.protocol = r.protocol, r.host || dy[r.protocol])
        t.pathname = r.pathname;
      else {
        for (var d = (r.pathname || "").split("/"); d.length && !(r.host = d.shift()); )
          ;
        r.host || (r.host = ""), r.hostname || (r.hostname = ""), d[0] !== "" && d.unshift(""), d.length < 2 && d.unshift(""), t.pathname = d.join("/");
      }
      if (t.search = r.search, t.query = r.query, t.host = r.host || "", t.auth = r.auth, t.hostname = r.hostname || r.host, t.port = r.port, t.pathname || t.search) {
        var p = t.pathname || "", v = t.search || "";
        t.path = p + v;
      }
      return t.slashes = t.slashes || r.slashes, t.href = t.format(), t;
    }
    var y = t.pathname && t.pathname.charAt(0) === "/", _ = r.host || r.pathname && r.pathname.charAt(0) === "/", w = _ || y || t.host && r.pathname, S = w, x = t.pathname && t.pathname.split("/") || [], E = (d = r.pathname && r.pathname.split("/") || [], t.protocol && !Nh[t.protocol]);
    if (E && (t.hostname = "", t.port = null, t.host && (x[0] === "" ? x[0] = t.host : x.unshift(t.host)), t.host = "", r.protocol && (r.hostname = null, r.port = null, r.host && (d[0] === "" ? d[0] = r.host : d.unshift(r.host)), r.host = null), w = w && (d[0] === "" || x[0] === "")), _)
      t.host = r.host || r.host === "" ? r.host : t.host, t.hostname = r.hostname || r.hostname === "" ? r.hostname : t.hostname, t.search = r.search, t.query = r.query, x = d;
    else if (d.length)
      x || (x = []), x.pop(), x = x.concat(d), t.search = r.search, t.query = r.query;
    else if (!Ss.isNullOrUndefined(r.search))
      return E && (t.hostname = t.host = x.shift(), (F = !!(t.host && t.host.indexOf("@") > 0) && t.host.split("@")) && (t.auth = F.shift(), t.host = t.hostname = F.shift())), t.search = r.search, t.query = r.query, Ss.isNull(t.pathname) && Ss.isNull(t.search) || (t.path = (t.pathname ? t.pathname : "") + (t.search ? t.search : "")), t.href = t.format(), t;
    if (!x.length)
      return t.pathname = null, t.search ? t.path = "/" + t.search : t.path = null, t.href = t.format(), t;
    for (var M = x.slice(-1)[0], k = (t.host || r.host || x.length > 1) && (M === "." || M === "..") || M === "", P = 0, L = x.length; L >= 0; L--)
      (M = x[L]) === "." ? x.splice(L, 1) : M === ".." ? (x.splice(L, 1), P++) : P && (x.splice(L, 1), P--);
    if (!w && !S)
      for (; P--; P)
        x.unshift("..");
    !w || x[0] === "" || x[0] && x[0].charAt(0) === "/" || x.unshift(""), k && x.join("/").substr(-1) !== "/" && x.push("");
    var F, O = x[0] === "" || x[0] && x[0].charAt(0) === "/";
    return E && (t.hostname = t.host = O ? "" : x.length ? x.shift() : "", (F = !!(t.host && t.host.indexOf("@") > 0) && t.host.split("@")) && (t.auth = F.shift(), t.host = t.hostname = F.shift())), (w = w || t.host && x.length) && !O && x.unshift(""), x.length ? t.pathname = x.join("/") : (t.pathname = null, t.path = null), Ss.isNull(t.pathname) && Ss.isNull(t.search) || (t.path = (t.pathname ? t.pathname : "") + (t.search ? t.search : "")), t.auth = r.auth || t.auth, t.slashes = t.slashes || r.slashes, t.href = t.format(), t;
  }, Xo.prototype.parseHost = function() {
    var r = this.host, e = oR.exec(r);
    e && ((e = e[0]) !== ":" && (this.port = e.substr(1)), r = r.substr(0, r.length - e.length)), r && (this.hostname = r);
  }, Ln.Url, Ln.format, Ln.resolve, Ln.resolveObject, $2 = {}, nA = !1, iA = coe(), hR = typeof Deno < "u" ? Deno.build.os === "windows" ? "win32" : Deno.build.os : void 0, Ln.URL = typeof URL < "u" ? URL : null, Ln.pathToFileURL = poe, Ln.fileURLToPath = hoe, Ln.Url, Ln.format, Ln.resolve, Ln.resolveObject, Ln.URL, NW = 92, BW = 47, VW = 97, UW = 122, C_ = hR === "win32", GW = /\//g, zW = /%/g, WW = /\\/g, HW = /\n/g, $W = /\r/g, YW = /\t/g, fR = typeof Deno < "u" ? Deno.build.os === "windows" ? "win32" : Deno.build.os : void 0, Ln.URL = typeof URL < "u" ? URL : null, Ln.pathToFileURL = FW, Ln.fileURLToPath = OW, jW = Ln.Url, qW = Ln.format, XW = Ln.resolve, KW = Ln.resolveObject, ZW = Ln.parse, JW = Ln.URL, QW = 92, eH = 47, tH = 97, rH = 122, A_ = fR === "win32", nH = /\//g, iH = /%/g, aH = /\\/g, oH = /\n/g, sH = /\r/g, lH = /\t/g;
}), JE = {};
sd(JE, { Server: () => ti, Socket: () => ti, Stream: () => ti, _createServerHandle: () => ti, _normalizeArgs: () => ti, _setSimultaneousAccepts: () => ti, connect: () => ti, createConnection: () => ti, createServer: () => ti, default: () => uH, isIP: () => ti, isIPv4: () => ti, isIPv6: () => ti });
function ti() {
  throw new Error("Node.js net module is not supported by JSPM core outside of Node.js");
}
var uH, cH = Sa(() => {
  lt(), st(), ot(), uH = { _createServerHandle: ti, _normalizeArgs: ti, _setSimultaneousAccepts: ti, connect: ti, createConnection: ti, createServer: ti, isIP: ti, isIPv4: ti, isIPv6: ti, Server: ti, Socket: ti, Stream: ti };
}), dR = bt((r) => {
  lt(), st(), ot();
  var e = r && r.__importDefault || function(o) {
    return o && o.__esModule ? o : { default: o };
  };
  Object.defineProperty(r, "__esModule", { value: !0 });
  var t = e((cH(), zn(JE))), i = e(Fu()), a = (0, i.default)("mqttjs:tcp"), n = (o, s) => {
    s.port = s.port || 1883, s.hostname = s.hostname || s.host || "localhost";
    let { port: l, path: u } = s, c = s.hostname;
    return a("port %d and host %s", l, c), t.default.createConnection({ port: l, host: c, path: u });
  };
  r.default = n;
}), hH = {};
sd(hH, { default: () => fH });
var fH, yoe = Sa(() => {
  lt(), st(), ot(), fH = {};
}), pR = bt((r) => {
  lt(), st(), ot();
  var e = r && r.__importDefault || function(s) {
    return s && s.__esModule ? s : { default: s };
  };
  Object.defineProperty(r, "__esModule", { value: !0 });
  var t = e((yoe(), zn(hH))), i = e((cH(), zn(JE))), a = e(Fu()), n = (0, a.default)("mqttjs:tls"), o = (s, l) => {
    l.port = l.port || 8883, l.host = l.hostname || l.host || "localhost", i.default.isIP(l.host) === 0 && (l.servername = l.host), l.rejectUnauthorized = l.rejectUnauthorized !== !1, delete l.path, n("port %d host %s rejectUnauthorized %b", l.port, l.host, l.rejectUnauthorized);
    let u = t.default.connect(l);
    u.on("secureConnect", () => {
      l.rejectUnauthorized && !u.authorized ? u.emit("error", new Error("TLS not authorized")) : u.removeListener("error", c);
    });
    function c(f) {
      l.rejectUnauthorized && s.emit("error", f), u.end();
    }
    return u.on("error", c), u;
  };
  r.default = o;
}), QE = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "__esModule", { value: !0 }), r.BufferedDuplex = r.writev = void 0;
  var e = cd(), t = (Ta(), zn(xa));
  function i(n, o) {
    let s = new Array(n.length);
    for (let l = 0; l < n.length; l++)
      typeof n[l].chunk == "string" ? s[l] = t.Buffer.from(n[l].chunk, "utf8") : s[l] = n[l].chunk;
    this._write(t.Buffer.concat(s), "binary", o);
  }
  r.writev = i;
  var a = class extends e.Duplex {
    constructor(n, o, s) {
      super({ objectMode: !0 }), this.proxy = o, this.socket = s, this.writeQueue = [], n.objectMode || (this._writev = i.bind(this)), this.isSocketOpen = !1, this.proxy.on("data", (l) => {
        this.push(l);
      });
    }
    _read(n) {
      this.proxy.read(n);
    }
    _write(n, o, s) {
      this.isSocketOpen ? this.writeToProxy(n, o, s) : this.writeQueue.push({ chunk: n, encoding: o, cb: s });
    }
    _final(n) {
      this.writeQueue = [], this.proxy.end(n);
    }
    _destroy(n, o) {
      this.writeQueue = [], this.proxy.destroy(), o(n);
    }
    socketReady() {
      this.emit("connect"), this.isSocketOpen = !0, this.processWriteQueue();
    }
    writeToProxy(n, o, s) {
      this.proxy.write(n, o) === !1 ? this.proxy.once("drain", s) : s();
    }
    processWriteQueue() {
      for (; this.writeQueue.length > 0; ) {
        let { chunk: n, encoding: o, cb: s } = this.writeQueue.shift();
        this.writeToProxy(n, o, s);
      }
    }
  };
  r.BufferedDuplex = a;
}), vR = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "__esModule", { value: !0 });
  var e = (Ta(), zn(xa)), t = cd(), i = QE(), a, n, o;
  function s() {
    let d = new t.Transform();
    return d._write = (p, v, y) => {
      a.send({ data: p.buffer, success() {
        y();
      }, fail(_) {
        y(new Error(_));
      } });
    }, d._flush = (p) => {
      a.close({ success() {
        p();
      } });
    }, d;
  }
  function l(d) {
    d.hostname || (d.hostname = "localhost"), d.path || (d.path = "/"), d.wsOptions || (d.wsOptions = {});
  }
  function u(d, p) {
    let v = d.protocol === "wxs" ? "wss" : "ws", y = `${v}://${d.hostname}${d.path}`;
    return d.port && d.port !== 80 && d.port !== 443 && (y = `${v}://${d.hostname}:${d.port}${d.path}`), typeof d.transformWsUrl == "function" && (y = d.transformWsUrl(y, d, p)), y;
  }
  function c() {
    a.onOpen(() => {
      o.socketReady();
    }), a.onMessage((d) => {
      let { data: p } = d;
      p instanceof ArrayBuffer ? p = e.Buffer.from(p) : p = e.Buffer.from(p, "utf8"), n.push(p);
    }), a.onClose(() => {
      o.emit("close"), o.end(), o.destroy();
    }), a.onError((d) => {
      let p = new Error(d.errMsg);
      o.destroy(p);
    });
  }
  var f = (d, p) => {
    if (p.hostname = p.hostname || p.host, !p.hostname)
      throw new Error("Could not determine host. Specify host manually.");
    let v = p.protocolId === "MQIsdp" && p.protocolVersion === 3 ? "mqttv3.1" : "mqtt";
    l(p);
    let y = u(p, d);
    a = wx.connectSocket({ url: y, protocols: [v] }), n = s(), o = new i.BufferedDuplex(p, n, a), o._destroy = (w, S) => {
      a.close({ success() {
        S && S(w);
      } });
    };
    let _ = o.destroy;
    return o.destroy = (w, S) => (o.destroy = _, setTimeout(() => {
      a.close({ fail() {
        o._destroy(w, S);
      } });
    }, 0), o), c(), o;
  };
  r.default = f;
}), gR = bt((r) => {
  lt(), st(), ot(), Object.defineProperty(r, "__esModule", { value: !0 });
  var e = (Ta(), zn(xa)), t = cd(), i = QE(), a, n, o, s = !1;
  function l() {
    let p = new t.Transform();
    return p._write = (v, y, _) => {
      a.sendSocketMessage({ data: v.buffer, success() {
        _();
      }, fail() {
        _(new Error());
      } });
    }, p._flush = (v) => {
      a.closeSocket({ success() {
        v();
      } });
    }, p;
  }
  function u(p) {
    p.hostname || (p.hostname = "localhost"), p.path || (p.path = "/"), p.wsOptions || (p.wsOptions = {});
  }
  function c(p, v) {
    let y = p.protocol === "alis" ? "wss" : "ws", _ = `${y}://${p.hostname}${p.path}`;
    return p.port && p.port !== 80 && p.port !== 443 && (_ = `${y}://${p.hostname}:${p.port}${p.path}`), typeof p.transformWsUrl == "function" && (_ = p.transformWsUrl(_, p, v)), _;
  }
  function f() {
    s || (s = !0, a.onSocketOpen(() => {
      o.socketReady();
    }), a.onSocketMessage((p) => {
      if (typeof p.data == "string") {
        let v = e.Buffer.from(p.data, "base64");
        n.push(v);
      } else {
        let v = new FileReader();
        v.addEventListener("load", () => {
          let y = v.result;
          y instanceof ArrayBuffer ? y = e.Buffer.from(y) : y = e.Buffer.from(y, "utf8"), n.push(y);
        }), v.readAsArrayBuffer(p.data);
      }
    }), a.onSocketClose(() => {
      o.end(), o.destroy();
    }), a.onSocketError((p) => {
      o.destroy(p);
    }));
  }
  var d = (p, v) => {
    if (v.hostname = v.hostname || v.host, !v.hostname)
      throw new Error("Could not determine host. Specify host manually.");
    let y = v.protocolId === "MQIsdp" && v.protocolVersion === 3 ? "mqttv3.1" : "mqtt";
    u(v);
    let _ = c(v, p);
    return a = v.my, a.connectSocket({ url: _, protocols: y }), n = l(), o = new i.BufferedDuplex(v, n, a), f(), o;
  };
  r.default = d;
}), _oe = bt((r, e) => {
  lt(), st(), ot(), e.exports = function() {
    throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object");
  };
}), mR = bt((r) => {
  lt(), st(), ot();
  var e = r && r.__importDefault || function(w) {
    return w && w.__esModule ? w : { default: w };
  };
  Object.defineProperty(r, "__esModule", { value: !0 });
  var t = (Ta(), zn(xa)), i = e(_oe()), a = e(Fu()), n = cd(), o = e(fw()), s = QE(), l = (0, a.default)("mqttjs:ws"), u = ["rejectUnauthorized", "ca", "cert", "key", "pfx", "passphrase"];
  function c(w, S) {
    let x = `${w.protocol}://${w.hostname}:${w.port}${w.path}`;
    return typeof w.transformWsUrl == "function" && (x = w.transformWsUrl(x, w, S)), x;
  }
  function f(w) {
    let S = w;
    return w.port || (w.protocol === "wss" ? S.port = 443 : S.port = 80), w.path || (S.path = "/"), w.wsOptions || (S.wsOptions = {}), !o.default && w.protocol === "wss" && u.forEach((x) => {
      Object.prototype.hasOwnProperty.call(w, x) && !Object.prototype.hasOwnProperty.call(w.wsOptions, x) && (S.wsOptions[x] = w[x]);
    }), S;
  }
  function d(w) {
    let S = f(w);
    if (S.hostname || (S.hostname = S.host), !S.hostname) {
      if (typeof document > "u")
        throw new Error("Could not determine host. Specify host manually.");
      let x = new URL(document.URL);
      S.hostname = x.hostname, S.port || (S.port = Number(x.port));
    }
    return S.objectMode === void 0 && (S.objectMode = !(S.binary === !0 || S.binary === void 0)), S;
  }
  function p(w, S, x) {
    l("createWebSocket"), l(`protocol: ${x.protocolId} ${x.protocolVersion}`);
    let E = x.protocolId === "MQIsdp" && x.protocolVersion === 3 ? "mqttv3.1" : "mqtt";
    l(`creating new Websocket for url: ${S} and protocol: ${E}`);
    let M;
    return x.createWebsocket ? M = x.createWebsocket(S, [E], x) : M = new i.default(S, [E], x.wsOptions), M;
  }
  function v(w, S) {
    let x = S.protocolId === "MQIsdp" && S.protocolVersion === 3 ? "mqttv3.1" : "mqtt", E = c(S, w), M;
    return S.createWebsocket ? M = S.createWebsocket(E, [x], S) : M = new WebSocket(E, [x]), M.binaryType = "arraybuffer", M;
  }
  var y = (w, S) => {
    l("streamBuilder");
    let x = f(S);
    x.hostname = x.hostname || x.host || "localhost";
    let E = c(x, w), M = p(w, E, x), k = i.default.createWebSocketStream(M, x.wsOptions);
    return k.url = E, M.on("close", () => {
      k.destroy();
    }), k;
  }, _ = (w, S) => {
    l("browserStreamBuilder");
    let x, E = d(S).browserBufferSize || 1024 * 512, M = S.browserBufferTimeout || 1e3, k = !S.objectMode, P = v(w, S), L = O(S, Q, se);
    S.objectMode || (L._writev = s.writev.bind(L)), L.on("close", () => {
      P.close();
    });
    let F = typeof P.addEventListener < "u";
    P.readyState === P.OPEN ? (x = L, x.socket = P) : (x = new s.BufferedDuplex(S, L, P), F ? P.addEventListener("open", U) : P.onopen = U), F ? (P.addEventListener("close", V), P.addEventListener("error", G), P.addEventListener("message", Z)) : (P.onclose = V, P.onerror = G, P.onmessage = Z);
    function O(de, le, Se) {
      let he = new n.Transform({ objectMode: de.objectMode });
      return he._write = le, he._flush = Se, he;
    }
    function U() {
      l("WebSocket onOpen"), x instanceof s.BufferedDuplex && x.socketReady();
    }
    function V(de) {
      l("WebSocket onClose", de), x.end(), x.destroy();
    }
    function G(de) {
      l("WebSocket onError", de);
      let le = new Error("WebSocket error");
      le.event = de, x.destroy(le);
    }
    function Z(de) {
      let { data: le } = de;
      le instanceof ArrayBuffer ? le = t.Buffer.from(le) : le = t.Buffer.from(le, "utf8"), L.push(le);
    }
    function Q(de, le, Se) {
      if (P.bufferedAmount > E) {
        setTimeout(Q, M, de, le, Se);
        return;
      }
      k && typeof de == "string" && (de = t.Buffer.from(de, "utf8"));
      try {
        P.send(de);
      } catch (he) {
        return Se(he);
      }
      Se();
    }
    function se(de) {
      P.close(), de();
    }
    return x;
  };
  r.default = o.default ? _ : y;
}), boe = bt((r) => {
  lt(), st(), ot();
  var e = r && r.__importDefault || function(f) {
    return f && f.__esModule ? f : { default: f };
  };
  Object.defineProperty(r, "__esModule", { value: !0 }), r.connectAsync = void 0;
  var t = e(Fu()), i = e((moe(), zn(LW))), a = e(KC()), n = e(fw());
  typeof An?.nextTick != "function" && (An.nextTick = setImmediate);
  var o = (0, t.default)("mqttjs"), s = {};
  n.default ? (s.wx = vR().default, s.wxs = vR().default, s.ali = gR().default, s.alis = gR().default) : (s.mqtt = dR().default, s.tcp = dR().default, s.ssl = pR().default, s.tls = s.ssl, s.mqtts = pR().default), s.ws = mR().default, s.wss = mR().default;
  function l(f) {
    let d;
    f.auth && (d = f.auth.match(/^(.+):(.+)$/), d ? (f.username = d[1], f.password = d[2]) : f.username = f.auth);
  }
  function u(f, d) {
    if (o("connecting to an MQTT broker..."), typeof f == "object" && !d && (d = f, f = ""), d = d || {}, f && typeof f == "string") {
      let y = i.default.parse(f, !0);
      if (y.port != null && (y.port = Number(y.port)), d = Object.assign({ port: y.port, host: y.hostname, protocol: y.protocol, query: y.query, auth: y.auth }, d), d.protocol === null)
        throw new Error("Missing protocol");
      d.protocol = d.protocol.replace(/:$/, "");
    }
    if (l(d), d.query && typeof d.query.clientId == "string" && (d.clientId = d.query.clientId), d.cert && d.key)
      if (d.protocol) {
        if (["mqtts", "wss", "wxs", "alis"].indexOf(d.protocol) === -1)
          switch (d.protocol) {
            case "mqtt":
              d.protocol = "mqtts";
              break;
            case "ws":
              d.protocol = "wss";
              break;
            case "wx":
              d.protocol = "wxs";
              break;
            case "ali":
              d.protocol = "alis";
              break;
            default:
              throw new Error(`Unknown protocol for secure connection: "${d.protocol}"!`);
          }
      } else
        throw new Error("Missing secure protocol key");
    if (!s[d.protocol]) {
      let y = ["mqtts", "wss"].indexOf(d.protocol) !== -1;
      d.protocol = ["mqtt", "mqtts", "ws", "wss", "wx", "wxs", "ali", "alis"].filter((_, w) => y && w % 2 === 0 ? !1 : typeof s[_] == "function")[0];
    }
    if (d.clean === !1 && !d.clientId)
      throw new Error("Missing clientId for unclean clients");
    d.protocol && (d.defaultProtocol = d.protocol);
    function p(y) {
      return d.servers && ((!y._reconnectCount || y._reconnectCount === d.servers.length) && (y._reconnectCount = 0), d.host = d.servers[y._reconnectCount].host, d.port = d.servers[y._reconnectCount].port, d.protocol = d.servers[y._reconnectCount].protocol ? d.servers[y._reconnectCount].protocol : d.defaultProtocol, d.hostname = d.host, y._reconnectCount++), o("calling streambuilder for", d.protocol), s[d.protocol](y, d);
    }
    let v = new a.default(p, d);
    return v.on("error", () => {
    }), v;
  }
  function c(f, d, p = !0) {
    return new Promise((v, y) => {
      let _ = u(f, d), w = { connect: (x) => {
        S(), v(_);
      }, end: () => {
        S(), v(_);
      }, error: (x) => {
        S(), _.end(), y(x);
      } };
      p === !1 && (w.close = () => {
        w.error(new Error("Couldn't connect to server"));
      });
      function S() {
        Object.keys(w).forEach((x) => {
          _.off(x, w[x]);
        });
      }
      Object.keys(w).forEach((x) => {
        _.on(x, w[x]);
      });
    });
  }
  r.connectAsync = c, r.default = u;
}), yR = bt((r) => {
  lt(), st(), ot();
  var e = r && r.__createBinding || (Object.create ? function(p, v, y, _) {
    _ === void 0 && (_ = y);
    var w = Object.getOwnPropertyDescriptor(v, y);
    (!w || ("get" in w ? !v.__esModule : w.writable || w.configurable)) && (w = { enumerable: !0, get: function() {
      return v[y];
    } }), Object.defineProperty(p, _, w);
  } : function(p, v, y, _) {
    _ === void 0 && (_ = y), p[_] = v[y];
  }), t = r && r.__setModuleDefault || (Object.create ? function(p, v) {
    Object.defineProperty(p, "default", { enumerable: !0, value: v });
  } : function(p, v) {
    p.default = v;
  }), i = r && r.__importStar || function(p) {
    if (p && p.__esModule)
      return p;
    var v = {};
    if (p != null)
      for (var y in p)
        y !== "default" && Object.prototype.hasOwnProperty.call(p, y) && e(v, p, y);
    return t(v, p), v;
  }, a = r && r.__exportStar || function(p, v) {
    for (var y in p)
      y !== "default" && !Object.prototype.hasOwnProperty.call(v, y) && e(v, p, y);
  }, n = r && r.__importDefault || function(p) {
    return p && p.__esModule ? p : { default: p };
  };
  Object.defineProperty(r, "__esModule", { value: !0 }), r.ReasonCodes = r.KeepaliveManager = r.UniqueMessageIdProvider = r.DefaultMessageIdProvider = r.Store = r.MqttClient = r.connectAsync = r.connect = r.Client = void 0;
  var o = n(KC());
  r.MqttClient = o.default;
  var s = n(hW());
  r.DefaultMessageIdProvider = s.default;
  var l = n(toe());
  r.UniqueMessageIdProvider = l.default;
  var u = n(fW());
  r.Store = u.default;
  var c = i(boe());
  r.connect = c.default, Object.defineProperty(r, "connectAsync", { enumerable: !0, get: function() {
    return c.connectAsync;
  } });
  var f = n(DW());
  r.KeepaliveManager = f.default, r.Client = o.default, a(KC(), r), a(G1(), r);
  var d = hw();
  Object.defineProperty(r, "ReasonCodes", { enumerable: !0, get: function() {
    return d.ReasonCodes;
  } });
}), woe = bt((r) => {
  lt(), st(), ot();
  var e = r && r.__createBinding || (Object.create ? function(o, s, l, u) {
    u === void 0 && (u = l);
    var c = Object.getOwnPropertyDescriptor(s, l);
    (!c || ("get" in c ? !s.__esModule : c.writable || c.configurable)) && (c = { enumerable: !0, get: function() {
      return s[l];
    } }), Object.defineProperty(o, u, c);
  } : function(o, s, l, u) {
    u === void 0 && (u = l), o[u] = s[l];
  }), t = r && r.__setModuleDefault || (Object.create ? function(o, s) {
    Object.defineProperty(o, "default", { enumerable: !0, value: s });
  } : function(o, s) {
    o.default = s;
  }), i = r && r.__importStar || function(o) {
    if (o && o.__esModule)
      return o;
    var s = {};
    if (o != null)
      for (var l in o)
        l !== "default" && Object.prototype.hasOwnProperty.call(o, l) && e(s, o, l);
    return t(s, o), s;
  }, a = r && r.__exportStar || function(o, s) {
    for (var l in o)
      l !== "default" && !Object.prototype.hasOwnProperty.call(s, l) && e(s, o, l);
  };
  Object.defineProperty(r, "__esModule", { value: !0 });
  var n = i(yR());
  r.default = n, a(yR(), r);
});
const Soe = woe();
/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
let E_ = "";
process.env.NODE_ENV === "development" ? E_ = "ws://192.168.8.181:8083" : E_ = window.location.origin;
function fc() {
  return ((1 + Math.random()) * 65536 | 0).toString(32).substring(1);
}
const xoe = fc() + fc() + "-" + fc() + "-" + fc() + "-" + fc() + "-" + fc() + fc() + fc(), V4 = {
  username: "admin",
  password: "1qaz@WSX",
  clean: !0,
  // true: , false: 
  connectTimeout: 4e3,
  // 
  clientId: "clientid-" + xoe,
  path: "/mqtt"
}, Toe = ["MqCoalInventoryLogF", "MqCoalInventoryProgressB"];
let Ko = null;
function Coe({ username: r, password: e, customTopics: t, devUrl: i }) {
  console.log("mqttStart"), r && (V4.username = r), e && (V4.password = e), i && process.env.NODE_ENV === "development" && (E_ = i), console.log("mqtt"), !(Ko && Ko.connected) && (Ko = Soe.connect(E_, V4), Ko.on("connect", (a) => {
    console.log("mqtt", a), Toe.forEach((n) => {
      Ko.subscribe(n);
    }), t && t.forEach((n) => {
      Ko.subscribe(n);
    });
  }), Ko.on("reconnect", (a) => {
    console.log("mqtt...", a);
  }), Ko.on("error", (a) => {
    console.log("mqtt...", a);
  }), Ko.on("message", (a, n) => {
    console.log("mmm", a, n);
    try {
      const o = JSON.parse(n.toString());
      console.log("mqttttttttttttttt", a, o), xz.emit(a, o);
    } catch (o) {
      console.log(o);
    }
  }));
}
function Aoe() {
  if (console.log(""), Ko && Ko.connected)
    try {
      Ko.end(!1, () => {
        console.log("mqtt");
      });
    } catch (r) {
      console.log("mqtt", r);
    }
}
var e8 = { exports: {} }, dw = {}, dH = {}, Kr = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), r._registerNode = r.Konva = r.glob = void 0;
  const e = Math.PI / 180;
  function t() {
    return typeof window < "u" && ({}.toString.call(window) === "[object Window]" || {}.toString.call(window) === "[object global]");
  }
  r.glob = typeof w_ < "u" ? w_ : typeof window < "u" ? window : typeof WorkerGlobalScope < "u" ? self : {}, r.Konva = {
    _global: r.glob,
    version: "9.3.20",
    isBrowser: t(),
    isUnminified: /param/.test(function(a) {
    }.toString()),
    dblClickWindow: 400,
    getAngle(a) {
      return r.Konva.angleDeg ? a * e : a;
    },
    enableTrace: !1,
    pointerEventsEnabled: !0,
    autoDrawEnabled: !0,
    hitOnDragEnabled: !1,
    capturePointerEventsEnabled: !1,
    _mouseListenClick: !1,
    _touchListenClick: !1,
    _pointerListenClick: !1,
    _mouseInDblClickWindow: !1,
    _touchInDblClickWindow: !1,
    _pointerInDblClickWindow: !1,
    _mouseDblClickPointerId: null,
    _touchDblClickPointerId: null,
    _pointerDblClickPointerId: null,
    _fixTextRendering: !1,
    pixelRatio: typeof window < "u" && window.devicePixelRatio || 1,
    dragDistance: 3,
    angleDeg: !0,
    showWarnings: !0,
    dragButtons: [0, 1],
    isDragging() {
      return r.Konva.DD.isDragging;
    },
    isTransforming() {
      var a;
      return (a = r.Konva.Transformer) === null || a === void 0 ? void 0 : a.isTransforming();
    },
    isDragReady() {
      return !!r.Konva.DD.node;
    },
    releaseCanvasOnDestroy: !0,
    document: r.glob.document,
    _injectGlobal(a) {
      r.glob.Konva = a;
    }
  };
  const i = (a) => {
    r.Konva[a.prototype.getClassName()] = a;
  };
  r._registerNode = i, r.Konva._injectGlobal(r.Konva);
})(Kr);
var ui = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), r.Util = r.Transform = void 0;
  const e = Kr;
  class t {
    constructor(E = [1, 0, 0, 1, 0, 0]) {
      this.dirty = !1, this.m = E && E.slice() || [1, 0, 0, 1, 0, 0];
    }
    reset() {
      this.m[0] = 1, this.m[1] = 0, this.m[2] = 0, this.m[3] = 1, this.m[4] = 0, this.m[5] = 0;
    }
    copy() {
      return new t(this.m);
    }
    copyInto(E) {
      E.m[0] = this.m[0], E.m[1] = this.m[1], E.m[2] = this.m[2], E.m[3] = this.m[3], E.m[4] = this.m[4], E.m[5] = this.m[5];
    }
    point(E) {
      const M = this.m;
      return {
        x: M[0] * E.x + M[2] * E.y + M[4],
        y: M[1] * E.x + M[3] * E.y + M[5]
      };
    }
    translate(E, M) {
      return this.m[4] += this.m[0] * E + this.m[2] * M, this.m[5] += this.m[1] * E + this.m[3] * M, this;
    }
    scale(E, M) {
      return this.m[0] *= E, this.m[1] *= E, this.m[2] *= M, this.m[3] *= M, this;
    }
    rotate(E) {
      const M = Math.cos(E), k = Math.sin(E), P = this.m[0] * M + this.m[2] * k, L = this.m[1] * M + this.m[3] * k, F = this.m[0] * -k + this.m[2] * M, O = this.m[1] * -k + this.m[3] * M;
      return this.m[0] = P, this.m[1] = L, this.m[2] = F, this.m[3] = O, this;
    }
    getTranslation() {
      return {
        x: this.m[4],
        y: this.m[5]
      };
    }
    skew(E, M) {
      const k = this.m[0] + this.m[2] * M, P = this.m[1] + this.m[3] * M, L = this.m[2] + this.m[0] * E, F = this.m[3] + this.m[1] * E;
      return this.m[0] = k, this.m[1] = P, this.m[2] = L, this.m[3] = F, this;
    }
    multiply(E) {
      const M = this.m[0] * E.m[0] + this.m[2] * E.m[1], k = this.m[1] * E.m[0] + this.m[3] * E.m[1], P = this.m[0] * E.m[2] + this.m[2] * E.m[3], L = this.m[1] * E.m[2] + this.m[3] * E.m[3], F = this.m[0] * E.m[4] + this.m[2] * E.m[5] + this.m[4], O = this.m[1] * E.m[4] + this.m[3] * E.m[5] + this.m[5];
      return this.m[0] = M, this.m[1] = k, this.m[2] = P, this.m[3] = L, this.m[4] = F, this.m[5] = O, this;
    }
    invert() {
      const E = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]), M = this.m[3] * E, k = -this.m[1] * E, P = -this.m[2] * E, L = this.m[0] * E, F = E * (this.m[2] * this.m[5] - this.m[3] * this.m[4]), O = E * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);
      return this.m[0] = M, this.m[1] = k, this.m[2] = P, this.m[3] = L, this.m[4] = F, this.m[5] = O, this;
    }
    getMatrix() {
      return this.m;
    }
    decompose() {
      const E = this.m[0], M = this.m[1], k = this.m[2], P = this.m[3], L = this.m[4], F = this.m[5], O = E * P - M * k, U = {
        x: L,
        y: F,
        rotation: 0,
        scaleX: 0,
        scaleY: 0,
        skewX: 0,
        skewY: 0
      };
      if (E != 0 || M != 0) {
        const V = Math.sqrt(E * E + M * M);
        U.rotation = M > 0 ? Math.acos(E / V) : -Math.acos(E / V), U.scaleX = V, U.scaleY = O / V, U.skewX = (E * k + M * P) / O, U.skewY = 0;
      } else if (k != 0 || P != 0) {
        const V = Math.sqrt(k * k + P * P);
        U.rotation = Math.PI / 2 - (P > 0 ? Math.acos(-k / V) : -Math.acos(k / V)), U.scaleX = O / V, U.scaleY = V, U.skewX = 0, U.skewY = (E * k + M * P) / O;
      }
      return U.rotation = r.Util._getRotation(U.rotation), U;
    }
  }
  r.Transform = t;
  const i = "[object Array]", a = "[object Number]", n = "[object String]", o = "[object Boolean]", s = Math.PI / 180, l = 180 / Math.PI, u = "#", c = "", f = "0", d = "Konva warning: ", p = "Konva error: ", v = "rgb(", y = {
    aliceblue: [240, 248, 255],
    antiquewhite: [250, 235, 215],
    aqua: [0, 255, 255],
    aquamarine: [127, 255, 212],
    azure: [240, 255, 255],
    beige: [245, 245, 220],
    bisque: [255, 228, 196],
    black: [0, 0, 0],
    blanchedalmond: [255, 235, 205],
    blue: [0, 0, 255],
    blueviolet: [138, 43, 226],
    brown: [165, 42, 42],
    burlywood: [222, 184, 135],
    cadetblue: [95, 158, 160],
    chartreuse: [127, 255, 0],
    chocolate: [210, 105, 30],
    coral: [255, 127, 80],
    cornflowerblue: [100, 149, 237],
    cornsilk: [255, 248, 220],
    crimson: [220, 20, 60],
    cyan: [0, 255, 255],
    darkblue: [0, 0, 139],
    darkcyan: [0, 139, 139],
    darkgoldenrod: [184, 132, 11],
    darkgray: [169, 169, 169],
    darkgreen: [0, 100, 0],
    darkgrey: [169, 169, 169],
    darkkhaki: [189, 183, 107],
    darkmagenta: [139, 0, 139],
    darkolivegreen: [85, 107, 47],
    darkorange: [255, 140, 0],
    darkorchid: [153, 50, 204],
    darkred: [139, 0, 0],
    darksalmon: [233, 150, 122],
    darkseagreen: [143, 188, 143],
    darkslateblue: [72, 61, 139],
    darkslategray: [47, 79, 79],
    darkslategrey: [47, 79, 79],
    darkturquoise: [0, 206, 209],
    darkviolet: [148, 0, 211],
    deeppink: [255, 20, 147],
    deepskyblue: [0, 191, 255],
    dimgray: [105, 105, 105],
    dimgrey: [105, 105, 105],
    dodgerblue: [30, 144, 255],
    firebrick: [178, 34, 34],
    floralwhite: [255, 255, 240],
    forestgreen: [34, 139, 34],
    fuchsia: [255, 0, 255],
    gainsboro: [220, 220, 220],
    ghostwhite: [248, 248, 255],
    gold: [255, 215, 0],
    goldenrod: [218, 165, 32],
    gray: [128, 128, 128],
    green: [0, 128, 0],
    greenyellow: [173, 255, 47],
    grey: [128, 128, 128],
    honeydew: [240, 255, 240],
    hotpink: [255, 105, 180],
    indianred: [205, 92, 92],
    indigo: [75, 0, 130],
    ivory: [255, 255, 240],
    khaki: [240, 230, 140],
    lavender: [230, 230, 250],
    lavenderblush: [255, 240, 245],
    lawngreen: [124, 252, 0],
    lemonchiffon: [255, 250, 205],
    lightblue: [173, 216, 230],
    lightcoral: [240, 128, 128],
    lightcyan: [224, 255, 255],
    lightgoldenrodyellow: [250, 250, 210],
    lightgray: [211, 211, 211],
    lightgreen: [144, 238, 144],
    lightgrey: [211, 211, 211],
    lightpink: [255, 182, 193],
    lightsalmon: [255, 160, 122],
    lightseagreen: [32, 178, 170],
    lightskyblue: [135, 206, 250],
    lightslategray: [119, 136, 153],
    lightslategrey: [119, 136, 153],
    lightsteelblue: [176, 196, 222],
    lightyellow: [255, 255, 224],
    lime: [0, 255, 0],
    limegreen: [50, 205, 50],
    linen: [250, 240, 230],
    magenta: [255, 0, 255],
    maroon: [128, 0, 0],
    mediumaquamarine: [102, 205, 170],
    mediumblue: [0, 0, 205],
    mediumorchid: [186, 85, 211],
    mediumpurple: [147, 112, 219],
    mediumseagreen: [60, 179, 113],
    mediumslateblue: [123, 104, 238],
    mediumspringgreen: [0, 250, 154],
    mediumturquoise: [72, 209, 204],
    mediumvioletred: [199, 21, 133],
    midnightblue: [25, 25, 112],
    mintcream: [245, 255, 250],
    mistyrose: [255, 228, 225],
    moccasin: [255, 228, 181],
    navajowhite: [255, 222, 173],
    navy: [0, 0, 128],
    oldlace: [253, 245, 230],
    olive: [128, 128, 0],
    olivedrab: [107, 142, 35],
    orange: [255, 165, 0],
    orangered: [255, 69, 0],
    orchid: [218, 112, 214],
    palegoldenrod: [238, 232, 170],
    palegreen: [152, 251, 152],
    paleturquoise: [175, 238, 238],
    palevioletred: [219, 112, 147],
    papayawhip: [255, 239, 213],
    peachpuff: [255, 218, 185],
    peru: [205, 133, 63],
    pink: [255, 192, 203],
    plum: [221, 160, 203],
    powderblue: [176, 224, 230],
    purple: [128, 0, 128],
    rebeccapurple: [102, 51, 153],
    red: [255, 0, 0],
    rosybrown: [188, 143, 143],
    royalblue: [65, 105, 225],
    saddlebrown: [139, 69, 19],
    salmon: [250, 128, 114],
    sandybrown: [244, 164, 96],
    seagreen: [46, 139, 87],
    seashell: [255, 245, 238],
    sienna: [160, 82, 45],
    silver: [192, 192, 192],
    skyblue: [135, 206, 235],
    slateblue: [106, 90, 205],
    slategray: [119, 128, 144],
    slategrey: [119, 128, 144],
    snow: [255, 255, 250],
    springgreen: [0, 255, 127],
    steelblue: [70, 130, 180],
    tan: [210, 180, 140],
    teal: [0, 128, 128],
    thistle: [216, 191, 216],
    transparent: [255, 255, 255, 0],
    tomato: [255, 99, 71],
    turquoise: [64, 224, 208],
    violet: [238, 130, 238],
    wheat: [245, 222, 179],
    white: [255, 255, 255],
    whitesmoke: [245, 245, 245],
    yellow: [255, 255, 0],
    yellowgreen: [154, 205, 5]
  }, _ = /rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;
  let w = [];
  const S = typeof requestAnimationFrame < "u" && requestAnimationFrame || function(x) {
    setTimeout(x, 60);
  };
  r.Util = {
    _isElement(x) {
      return !!(x && x.nodeType == 1);
    },
    _isFunction(x) {
      return !!(x && x.constructor && x.call && x.apply);
    },
    _isPlainObject(x) {
      return !!x && x.constructor === Object;
    },
    _isArray(x) {
      return Object.prototype.toString.call(x) === i;
    },
    _isNumber(x) {
      return Object.prototype.toString.call(x) === a && !isNaN(x) && isFinite(x);
    },
    _isString(x) {
      return Object.prototype.toString.call(x) === n;
    },
    _isBoolean(x) {
      return Object.prototype.toString.call(x) === o;
    },
    isObject(x) {
      return x instanceof Object;
    },
    isValidSelector(x) {
      if (typeof x != "string")
        return !1;
      const E = x[0];
      return E === "#" || E === "." || E === E.toUpperCase();
    },
    _sign(x) {
      return x === 0 || x > 0 ? 1 : -1;
    },
    requestAnimFrame(x) {
      w.push(x), w.length === 1 && S(function() {
        const E = w;
        w = [], E.forEach(function(M) {
          M();
        });
      });
    },
    createCanvasElement() {
      const x = document.createElement("canvas");
      try {
        x.style = x.style || {};
      } catch {
      }
      return x;
    },
    createImageElement() {
      return document.createElement("img");
    },
    _isInDocument(x) {
      for (; x = x.parentNode; )
        if (x == document)
          return !0;
      return !1;
    },
    _urlToImage(x, E) {
      const M = r.Util.createImageElement();
      M.onload = function() {
        E(M);
      }, M.src = x;
    },
    _rgbToHex(x, E, M) {
      return ((1 << 24) + (x << 16) + (E << 8) + M).toString(16).slice(1);
    },
    _hexToRgb(x) {
      x = x.replace(u, c);
      const E = parseInt(x, 16);
      return {
        r: E >> 16 & 255,
        g: E >> 8 & 255,
        b: E & 255
      };
    },
    getRandomColor() {
      let x = (Math.random() * 16777215 << 0).toString(16);
      for (; x.length < 6; )
        x = f + x;
      return u + x;
    },
    getRGB(x) {
      let E;
      return x in y ? (E = y[x], {
        r: E[0],
        g: E[1],
        b: E[2]
      }) : x[0] === u ? this._hexToRgb(x.substring(1)) : x.substr(0, 4) === v ? (E = _.exec(x.replace(/ /g, "")), {
        r: parseInt(E[1], 10),
        g: parseInt(E[2], 10),
        b: parseInt(E[3], 10)
      }) : {
        r: 0,
        g: 0,
        b: 0
      };
    },
    colorToRGBA(x) {
      return x = x || "black", r.Util._namedColorToRBA(x) || r.Util._hex3ColorToRGBA(x) || r.Util._hex4ColorToRGBA(x) || r.Util._hex6ColorToRGBA(x) || r.Util._hex8ColorToRGBA(x) || r.Util._rgbColorToRGBA(x) || r.Util._rgbaColorToRGBA(x) || r.Util._hslColorToRGBA(x);
    },
    _namedColorToRBA(x) {
      const E = y[x.toLowerCase()];
      return E ? {
        r: E[0],
        g: E[1],
        b: E[2],
        a: 1
      } : null;
    },
    _rgbColorToRGBA(x) {
      if (x.indexOf("rgb(") === 0) {
        x = x.match(/rgb\(([^)]+)\)/)[1];
        const E = x.split(/ *, */).map(Number);
        return {
          r: E[0],
          g: E[1],
          b: E[2],
          a: 1
        };
      }
    },
    _rgbaColorToRGBA(x) {
      if (x.indexOf("rgba(") === 0) {
        x = x.match(/rgba\(([^)]+)\)/)[1];
        const E = x.split(/ *, */).map((M, k) => M.slice(-1) === "%" ? k === 3 ? parseInt(M) / 100 : parseInt(M) / 100 * 255 : Number(M));
        return {
          r: E[0],
          g: E[1],
          b: E[2],
          a: E[3]
        };
      }
    },
    _hex8ColorToRGBA(x) {
      if (x[0] === "#" && x.length === 9)
        return {
          r: parseInt(x.slice(1, 3), 16),
          g: parseInt(x.slice(3, 5), 16),
          b: parseInt(x.slice(5, 7), 16),
          a: parseInt(x.slice(7, 9), 16) / 255
        };
    },
    _hex6ColorToRGBA(x) {
      if (x[0] === "#" && x.length === 7)
        return {
          r: parseInt(x.slice(1, 3), 16),
          g: parseInt(x.slice(3, 5), 16),
          b: parseInt(x.slice(5, 7), 16),
          a: 1
        };
    },
    _hex4ColorToRGBA(x) {
      if (x[0] === "#" && x.length === 5)
        return {
          r: parseInt(x[1] + x[1], 16),
          g: parseInt(x[2] + x[2], 16),
          b: parseInt(x[3] + x[3], 16),
          a: parseInt(x[4] + x[4], 16) / 255
        };
    },
    _hex3ColorToRGBA(x) {
      if (x[0] === "#" && x.length === 4)
        return {
          r: parseInt(x[1] + x[1], 16),
          g: parseInt(x[2] + x[2], 16),
          b: parseInt(x[3] + x[3], 16),
          a: 1
        };
    },
    _hslColorToRGBA(x) {
      if (/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(x)) {
        const [E, ...M] = /hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(x), k = Number(M[0]) / 360, P = Number(M[1]) / 100, L = Number(M[2]) / 100;
        let F, O, U;
        if (P === 0)
          return U = L * 255, {
            r: Math.round(U),
            g: Math.round(U),
            b: Math.round(U),
            a: 1
          };
        L < 0.5 ? F = L * (1 + P) : F = L + P - L * P;
        const V = 2 * L - F, G = [0, 0, 0];
        for (let Z = 0; Z < 3; Z++)
          O = k + 1 / 3 * -(Z - 1), O < 0 && O++, O > 1 && O--, 6 * O < 1 ? U = V + (F - V) * 6 * O : 2 * O < 1 ? U = F : 3 * O < 2 ? U = V + (F - V) * (2 / 3 - O) * 6 : U = V, G[Z] = U * 255;
        return {
          r: Math.round(G[0]),
          g: Math.round(G[1]),
          b: Math.round(G[2]),
          a: 1
        };
      }
    },
    haveIntersection(x, E) {
      return !(E.x > x.x + x.width || E.x + E.width < x.x || E.y > x.y + x.height || E.y + E.height < x.y);
    },
    cloneObject(x) {
      const E = {};
      for (const M in x)
        this._isPlainObject(x[M]) ? E[M] = this.cloneObject(x[M]) : this._isArray(x[M]) ? E[M] = this.cloneArray(x[M]) : E[M] = x[M];
      return E;
    },
    cloneArray(x) {
      return x.slice(0);
    },
    degToRad(x) {
      return x * s;
    },
    radToDeg(x) {
      return x * l;
    },
    _degToRad(x) {
      return r.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."), r.Util.degToRad(x);
    },
    _radToDeg(x) {
      return r.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."), r.Util.radToDeg(x);
    },
    _getRotation(x) {
      return e.Konva.angleDeg ? r.Util.radToDeg(x) : x;
    },
    _capitalize(x) {
      return x.charAt(0).toUpperCase() + x.slice(1);
    },
    throw(x) {
      throw new Error(p + x);
    },
    error(x) {
      console.error(p + x);
    },
    warn(x) {
      e.Konva.showWarnings && console.warn(d + x);
    },
    each(x, E) {
      for (const M in x)
        E(M, x[M]);
    },
    _inRange(x, E, M) {
      return E <= x && x < M;
    },
    _getProjectionToSegment(x, E, M, k, P, L) {
      let F, O, U;
      const V = (x - M) * (x - M) + (E - k) * (E - k);
      if (V == 0)
        F = x, O = E, U = (P - M) * (P - M) + (L - k) * (L - k);
      else {
        const G = ((P - x) * (M - x) + (L - E) * (k - E)) / V;
        G < 0 ? (F = x, O = E, U = (x - P) * (x - P) + (E - L) * (E - L)) : G > 1 ? (F = M, O = k, U = (M - P) * (M - P) + (k - L) * (k - L)) : (F = x + G * (M - x), O = E + G * (k - E), U = (F - P) * (F - P) + (O - L) * (O - L));
      }
      return [F, O, U];
    },
    _getProjectionToLine(x, E, M) {
      const k = r.Util.cloneObject(x);
      let P = Number.MAX_VALUE;
      return E.forEach(function(L, F) {
        if (!M && F === E.length - 1)
          return;
        const O = E[(F + 1) % E.length], U = r.Util._getProjectionToSegment(L.x, L.y, O.x, O.y, x.x, x.y), V = U[0], G = U[1], Z = U[2];
        Z < P && (k.x = V, k.y = G, P = Z);
      }), k;
    },
    _prepareArrayForTween(x, E, M) {
      const k = [], P = [];
      if (x.length > E.length) {
        const F = E;
        E = x, x = F;
      }
      for (let F = 0; F < x.length; F += 2)
        k.push({
          x: x[F],
          y: x[F + 1]
        });
      for (let F = 0; F < E.length; F += 2)
        P.push({
          x: E[F],
          y: E[F + 1]
        });
      const L = [];
      return P.forEach(function(F) {
        const O = r.Util._getProjectionToLine(F, k, M);
        L.push(O.x), L.push(O.y);
      }), L;
    },
    _prepareToStringify(x) {
      let E;
      x.visitedByCircularReferenceRemoval = !0;
      for (const M in x)
        if (x.hasOwnProperty(M) && x[M] && typeof x[M] == "object") {
          if (E = Object.getOwnPropertyDescriptor(x, M), x[M].visitedByCircularReferenceRemoval || r.Util._isElement(x[M]))
            if (E.configurable)
              delete x[M];
            else
              return null;
          else if (r.Util._prepareToStringify(x[M]) === null)
            if (E.configurable)
              delete x[M];
            else
              return null;
        }
      return delete x.visitedByCircularReferenceRemoval, x;
    },
    _assign(x, E) {
      for (const M in E)
        x[M] = E[M];
      return x;
    },
    _getFirstPointerId(x) {
      return x.touches ? x.changedTouches[0].identifier : x.pointerId || 999;
    },
    releaseCanvas(...x) {
      e.Konva.releaseCanvasOnDestroy && x.forEach((E) => {
        E.width = 0, E.height = 0;
      });
    },
    drawRoundedRectPath(x, E, M, k) {
      let P = 0, L = 0, F = 0, O = 0;
      typeof k == "number" ? P = L = F = O = Math.min(k, E / 2, M / 2) : (P = Math.min(k[0] || 0, E / 2, M / 2), L = Math.min(k[1] || 0, E / 2, M / 2), O = Math.min(k[2] || 0, E / 2, M / 2), F = Math.min(k[3] || 0, E / 2, M / 2)), x.moveTo(P, 0), x.lineTo(E - L, 0), x.arc(E - L, L, L, Math.PI * 3 / 2, 0, !1), x.lineTo(E, M - O), x.arc(E - O, M - O, O, 0, Math.PI / 2, !1), x.lineTo(F, M), x.arc(F, M - F, F, Math.PI / 2, Math.PI, !1), x.lineTo(0, P), x.arc(P, P, P, Math.PI, Math.PI * 3 / 2, !1);
    }
  };
})(ui);
var ni = {}, tn = {}, Pr = {};
Object.defineProperty(Pr, "__esModule", { value: !0 });
Pr.RGBComponent = Eoe;
Pr.alphaComponent = Doe;
Pr.getNumberValidator = koe;
Pr.getNumberOrArrayOfNumbersValidator = Moe;
Pr.getNumberOrAutoValidator = Ioe;
Pr.getStringValidator = Poe;
Pr.getStringOrGradientValidator = Roe;
Pr.getFunctionValidator = Loe;
Pr.getNumberArrayValidator = Ooe;
Pr.getBooleanValidator = Foe;
Pr.getComponentValidator = Noe;
const Ku = Kr, _i = ui;
function Zu(r) {
  return _i.Util._isString(r) ? '"' + r + '"' : Object.prototype.toString.call(r) === "[object Number]" || _i.Util._isBoolean(r) ? r : Object.prototype.toString.call(r);
}
function Eoe(r) {
  return r > 255 ? 255 : r < 0 ? 0 : Math.round(r);
}
function Doe(r) {
  return r > 1 ? 1 : r < 1e-4 ? 1e-4 : r;
}
function koe() {
  if (Ku.Konva.isUnminified)
    return function(r, e) {
      return _i.Util._isNumber(r) || _i.Util.warn(Zu(r) + ' is a not valid value for "' + e + '" attribute. The value should be a number.'), r;
    };
}
function Moe(r) {
  if (Ku.Konva.isUnminified)
    return function(e, t) {
      let i = _i.Util._isNumber(e), a = _i.Util._isArray(e) && e.length == r;
      return !i && !a && _i.Util.warn(Zu(e) + ' is a not valid value for "' + t + '" attribute. The value should be a number or Array<number>(' + r + ")"), e;
    };
}
function Ioe() {
  if (Ku.Konva.isUnminified)
    return function(r, e) {
      var t = _i.Util._isNumber(r), i = r === "auto";
      return t || i || _i.Util.warn(Zu(r) + ' is a not valid value for "' + e + '" attribute. The value should be a number or "auto".'), r;
    };
}
function Poe() {
  if (Ku.Konva.isUnminified)
    return function(r, e) {
      return _i.Util._isString(r) || _i.Util.warn(Zu(r) + ' is a not valid value for "' + e + '" attribute. The value should be a string.'), r;
    };
}
function Roe() {
  if (Ku.Konva.isUnminified)
    return function(r, e) {
      const t = _i.Util._isString(r), i = Object.prototype.toString.call(r) === "[object CanvasGradient]" || r && r.addColorStop;
      return t || i || _i.Util.warn(Zu(r) + ' is a not valid value for "' + e + '" attribute. The value should be a string or a native gradient.'), r;
    };
}
function Loe() {
  if (Ku.Konva.isUnminified)
    return function(r, e) {
      return _i.Util._isFunction(r) || _i.Util.warn(Zu(r) + ' is a not valid value for "' + e + '" attribute. The value should be a function.'), r;
    };
}
function Ooe() {
  if (Ku.Konva.isUnminified)
    return function(r, e) {
      const t = Int8Array ? Object.getPrototypeOf(Int8Array) : null;
      return t && r instanceof t || (_i.Util._isArray(r) ? r.forEach(function(i) {
        _i.Util._isNumber(i) || _i.Util.warn('"' + e + '" attribute has non numeric element ' + i + ". Make sure that all elements are numbers.");
      }) : _i.Util.warn(Zu(r) + ' is a not valid value for "' + e + '" attribute. The value should be a array of numbers.')), r;
    };
}
function Foe() {
  if (Ku.Konva.isUnminified)
    return function(r, e) {
      var t = r === !0 || r === !1;
      return t || _i.Util.warn(Zu(r) + ' is a not valid value for "' + e + '" attribute. The value should be a boolean.'), r;
    };
}
function Noe(r) {
  if (Ku.Konva.isUnminified)
    return function(e, t) {
      return e == null || _i.Util.isObject(e) || _i.Util.warn(Zu(e) + ' is a not valid value for "' + t + '" attribute. The value should be an object with properties ' + r), e;
    };
}
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), r.Factory = void 0;
  const e = ui, t = Pr, i = "get", a = "set";
  r.Factory = {
    addGetterSetter(n, o, s, l, u) {
      r.Factory.addGetter(n, o, s), r.Factory.addSetter(n, o, l, u), r.Factory.addOverloadedGetterSetter(n, o);
    },
    addGetter(n, o, s) {
      var l = i + e.Util._capitalize(o);
      n.prototype[l] = n.prototype[l] || function() {
        const u = this.attrs[o];
        return u === void 0 ? s : u;
      };
    },
    addSetter(n, o, s, l) {
      var u = a + e.Util._capitalize(o);
      n.prototype[u] || r.Factory.overWriteSetter(n, o, s, l);
    },
    overWriteSetter(n, o, s, l) {
      var u = a + e.Util._capitalize(o);
      n.prototype[u] = function(c) {
        return s && c !== void 0 && c !== null && (c = s.call(this, c, o)), this._setAttr(o, c), l && l.call(this), this;
      };
    },
    addComponentsGetterSetter(n, o, s, l, u) {
      const c = s.length, f = e.Util._capitalize, d = i + f(o), p = a + f(o);
      n.prototype[d] = function() {
        const y = {};
        for (let _ = 0; _ < c; _++) {
          const w = s[_];
          y[w] = this.getAttr(o + f(w));
        }
        return y;
      };
      const v = (0, t.getComponentValidator)(s);
      n.prototype[p] = function(y) {
        const _ = this.attrs[o];
        l && (y = l.call(this, y, o)), v && v.call(this, y, o);
        for (const w in y)
          y.hasOwnProperty(w) && this._setAttr(o + f(w), y[w]);
        return y || s.forEach((w) => {
          this._setAttr(o + f(w), void 0);
        }), this._fireChangeEvent(o, _, y), u && u.call(this), this;
      }, r.Factory.addOverloadedGetterSetter(n, o);
    },
    addOverloadedGetterSetter(n, o) {
      var s = e.Util._capitalize(o), l = a + s, u = i + s;
      n.prototype[o] = function() {
        return arguments.length ? (this[l](arguments[0]), this) : this[u]();
      };
    },
    addDeprecatedGetterSetter(n, o, s, l) {
      e.Util.error("Adding deprecated " + o);
      const u = i + e.Util._capitalize(o), c = o + " property is deprecated and will be removed soon. Look at Konva change log for more information.";
      n.prototype[u] = function() {
        e.Util.error(c);
        const f = this.attrs[o];
        return f === void 0 ? s : f;
      }, r.Factory.addSetter(n, o, l, function() {
        e.Util.error(c);
      }), r.Factory.addOverloadedGetterSetter(n, o);
    },
    backCompat(n, o) {
      e.Util.each(o, function(s, l) {
        const u = n.prototype[l], c = i + e.Util._capitalize(s), f = a + e.Util._capitalize(s);
        function d() {
          u.apply(this, arguments), e.Util.error('"' + s + '" method is deprecated and will be removed soon. Use ""' + l + '" instead.');
        }
        n.prototype[s] = d, n.prototype[c] = d, n.prototype[f] = d;
      });
    },
    afterSetFilter() {
      this._filterUpToDate = !1;
    }
  };
})(tn);
var Rs = {}, xu = {};
Object.defineProperty(xu, "__esModule", { value: !0 });
xu.HitContext = xu.SceneContext = xu.Context = void 0;
const pH = ui, Boe = Kr;
function Voe(r) {
  const e = [], t = r.length, i = pH.Util;
  for (let a = 0; a < t; a++) {
    let n = r[a];
    i._isNumber(n) ? n = Math.round(n * 1e3) / 1e3 : i._isString(n) || (n = n + ""), e.push(n);
  }
  return e;
}
const _R = ",", Uoe = "(", Goe = ")", zoe = "([", Woe = "])", Hoe = ";", $oe = "()", Yoe = "=", bR = [
  "arc",
  "arcTo",
  "beginPath",
  "bezierCurveTo",
  "clearRect",
  "clip",
  "closePath",
  "createLinearGradient",
  "createPattern",
  "createRadialGradient",
  "drawImage",
  "ellipse",
  "fill",
  "fillText",
  "getImageData",
  "createImageData",
  "lineTo",
  "moveTo",
  "putImageData",
  "quadraticCurveTo",
  "rect",
  "roundRect",
  "restore",
  "rotate",
  "save",
  "scale",
  "setLineDash",
  "setTransform",
  "stroke",
  "strokeText",
  "transform",
  "translate"
], joe = [
  "fillStyle",
  "strokeStyle",
  "shadowColor",
  "shadowBlur",
  "shadowOffsetX",
  "shadowOffsetY",
  "letterSpacing",
  "lineCap",
  "lineDashOffset",
  "lineJoin",
  "lineWidth",
  "miterLimit",
  "direction",
  "font",
  "textAlign",
  "textBaseline",
  "globalAlpha",
  "globalCompositeOperation",
  "imageSmoothingEnabled"
], qoe = 100;
class pw {
  constructor(e) {
    this.canvas = e, Boe.Konva.enableTrace && (this.traceArr = [], this._enableTrace());
  }
  fillShape(e) {
    e.fillEnabled() && this._fill(e);
  }
  _fill(e) {
  }
  strokeShape(e) {
    e.hasStroke() && this._stroke(e);
  }
  _stroke(e) {
  }
  fillStrokeShape(e) {
    e.attrs.fillAfterStrokeEnabled ? (this.strokeShape(e), this.fillShape(e)) : (this.fillShape(e), this.strokeShape(e));
  }
  getTrace(e, t) {
    let i = this.traceArr, a = i.length, n = "", o, s, l, u;
    for (o = 0; o < a; o++)
      s = i[o], l = s.method, l ? (u = s.args, n += l, e ? n += $oe : pH.Util._isArray(u[0]) ? n += zoe + u.join(_R) + Woe : (t && (u = u.map((c) => typeof c == "number" ? Math.floor(c) : c)), n += Uoe + u.join(_R) + Goe)) : (n += s.property, e || (n += Yoe + s.val)), n += Hoe;
    return n;
  }
  clearTrace() {
    this.traceArr = [];
  }
  _trace(e) {
    let t = this.traceArr, i;
    t.push(e), i = t.length, i >= qoe && t.shift();
  }
  reset() {
    const e = this.getCanvas().getPixelRatio();
    this.setTransform(1 * e, 0, 0, 1 * e, 0, 0);
  }
  getCanvas() {
    return this.canvas;
  }
  clear(e) {
    const t = this.getCanvas();
    e ? this.clearRect(e.x || 0, e.y || 0, e.width || 0, e.height || 0) : this.clearRect(0, 0, t.getWidth() / t.pixelRatio, t.getHeight() / t.pixelRatio);
  }
  _applyLineCap(e) {
    const t = e.attrs.lineCap;
    t && this.setAttr("lineCap", t);
  }
  _applyOpacity(e) {
    const t = e.getAbsoluteOpacity();
    t !== 1 && this.setAttr("globalAlpha", t);
  }
  _applyLineJoin(e) {
    const t = e.attrs.lineJoin;
    t && this.setAttr("lineJoin", t);
  }
  setAttr(e, t) {
    this._context[e] = t;
  }
  arc(e, t, i, a, n, o) {
    this._context.arc(e, t, i, a, n, o);
  }
  arcTo(e, t, i, a, n) {
    this._context.arcTo(e, t, i, a, n);
  }
  beginPath() {
    this._context.beginPath();
  }
  bezierCurveTo(e, t, i, a, n, o) {
    this._context.bezierCurveTo(e, t, i, a, n, o);
  }
  clearRect(e, t, i, a) {
    this._context.clearRect(e, t, i, a);
  }
  clip(...e) {
    this._context.clip.apply(this._context, e);
  }
  closePath() {
    this._context.closePath();
  }
  createImageData(e, t) {
    const i = arguments;
    if (i.length === 2)
      return this._context.createImageData(e, t);
    if (i.length === 1)
      return this._context.createImageData(e);
  }
  createLinearGradient(e, t, i, a) {
    return this._context.createLinearGradient(e, t, i, a);
  }
  createPattern(e, t) {
    return this._context.createPattern(e, t);
  }
  createRadialGradient(e, t, i, a, n, o) {
    return this._context.createRadialGradient(e, t, i, a, n, o);
  }
  drawImage(e, t, i, a, n, o, s, l, u) {
    const c = arguments, f = this._context;
    c.length === 3 ? f.drawImage(e, t, i) : c.length === 5 ? f.drawImage(e, t, i, a, n) : c.length === 9 && f.drawImage(e, t, i, a, n, o, s, l, u);
  }
  ellipse(e, t, i, a, n, o, s, l) {
    this._context.ellipse(e, t, i, a, n, o, s, l);
  }
  isPointInPath(e, t, i, a) {
    return i ? this._context.isPointInPath(i, e, t, a) : this._context.isPointInPath(e, t, a);
  }
  fill(...e) {
    this._context.fill.apply(this._context, e);
  }
  fillRect(e, t, i, a) {
    this._context.fillRect(e, t, i, a);
  }
  strokeRect(e, t, i, a) {
    this._context.strokeRect(e, t, i, a);
  }
  fillText(e, t, i, a) {
    a ? this._context.fillText(e, t, i, a) : this._context.fillText(e, t, i);
  }
  measureText(e) {
    return this._context.measureText(e);
  }
  getImageData(e, t, i, a) {
    return this._context.getImageData(e, t, i, a);
  }
  lineTo(e, t) {
    this._context.lineTo(e, t);
  }
  moveTo(e, t) {
    this._context.moveTo(e, t);
  }
  rect(e, t, i, a) {
    this._context.rect(e, t, i, a);
  }
  roundRect(e, t, i, a, n) {
    this._context.roundRect(e, t, i, a, n);
  }
  putImageData(e, t, i) {
    this._context.putImageData(e, t, i);
  }
  quadraticCurveTo(e, t, i, a) {
    this._context.quadraticCurveTo(e, t, i, a);
  }
  restore() {
    this._context.restore();
  }
  rotate(e) {
    this._context.rotate(e);
  }
  save() {
    this._context.save();
  }
  scale(e, t) {
    this._context.scale(e, t);
  }
  setLineDash(e) {
    this._context.setLineDash ? this._context.setLineDash(e) : "mozDash" in this._context ? this._context.mozDash = e : "webkitLineDash" in this._context && (this._context.webkitLineDash = e);
  }
  getLineDash() {
    return this._context.getLineDash();
  }
  setTransform(e, t, i, a, n, o) {
    this._context.setTransform(e, t, i, a, n, o);
  }
  stroke(e) {
    e ? this._context.stroke(e) : this._context.stroke();
  }
  strokeText(e, t, i, a) {
    this._context.strokeText(e, t, i, a);
  }
  transform(e, t, i, a, n, o) {
    this._context.transform(e, t, i, a, n, o);
  }
  translate(e, t) {
    this._context.translate(e, t);
  }
  _enableTrace() {
    let e = this, t = bR.length, i = this.setAttr, a, n;
    const o = function(s) {
      let l = e[s], u;
      e[s] = function() {
        return n = Voe(Array.prototype.slice.call(arguments, 0)), u = l.apply(e, arguments), e._trace({
          method: s,
          args: n
        }), u;
      };
    };
    for (a = 0; a < t; a++)
      o(bR[a]);
    e.setAttr = function() {
      i.apply(e, arguments);
      const s = arguments[0];
      let l = arguments[1];
      (s === "shadowOffsetX" || s === "shadowOffsetY" || s === "shadowBlur") && (l = l / this.canvas.getPixelRatio()), e._trace({
        property: s,
        val: l
      });
    };
  }
  _applyGlobalCompositeOperation(e) {
    const t = e.attrs.globalCompositeOperation;
    !t || t === "source-over" || this.setAttr("globalCompositeOperation", t);
  }
}
xu.Context = pw;
joe.forEach(function(r) {
  Object.defineProperty(pw.prototype, r, {
    get() {
      return this._context[r];
    },
    set(e) {
      this._context[r] = e;
    }
  });
});
class Xoe extends pw {
  constructor(e, { willReadFrequently: t = !1 } = {}) {
    super(e), this._context = e._canvas.getContext("2d", {
      willReadFrequently: t
    });
  }
  _fillColor(e) {
    const t = e.fill();
    this.setAttr("fillStyle", t), e._fillFunc(this);
  }
  _fillPattern(e) {
    this.setAttr("fillStyle", e._getFillPattern()), e._fillFunc(this);
  }
  _fillLinearGradient(e) {
    const t = e._getLinearGradient();
    t && (this.setAttr("fillStyle", t), e._fillFunc(this));
  }
  _fillRadialGradient(e) {
    const t = e._getRadialGradient();
    t && (this.setAttr("fillStyle", t), e._fillFunc(this));
  }
  _fill(e) {
    const t = e.fill(), i = e.getFillPriority();
    if (t && i === "color") {
      this._fillColor(e);
      return;
    }
    const a = e.getFillPatternImage();
    if (a && i === "pattern") {
      this._fillPattern(e);
      return;
    }
    const n = e.getFillLinearGradientColorStops();
    if (n && i === "linear-gradient") {
      this._fillLinearGradient(e);
      return;
    }
    const o = e.getFillRadialGradientColorStops();
    if (o && i === "radial-gradient") {
      this._fillRadialGradient(e);
      return;
    }
    t ? this._fillColor(e) : a ? this._fillPattern(e) : n ? this._fillLinearGradient(e) : o && this._fillRadialGradient(e);
  }
  _strokeLinearGradient(e) {
    const t = e.getStrokeLinearGradientStartPoint(), i = e.getStrokeLinearGradientEndPoint(), a = e.getStrokeLinearGradientColorStops(), n = this.createLinearGradient(t.x, t.y, i.x, i.y);
    if (a) {
      for (let o = 0; o < a.length; o += 2)
        n.addColorStop(a[o], a[o + 1]);
      this.setAttr("strokeStyle", n);
    }
  }
  _stroke(e) {
    const t = e.dash(), i = e.getStrokeScaleEnabled();
    if (e.hasStroke()) {
      if (!i) {
        this.save();
        const n = this.getCanvas().getPixelRatio();
        this.setTransform(n, 0, 0, n, 0, 0);
      }
      this._applyLineCap(e), t && e.dashEnabled() && (this.setLineDash(t), this.setAttr("lineDashOffset", e.dashOffset())), this.setAttr("lineWidth", e.strokeWidth()), e.getShadowForStrokeEnabled() || this.setAttr("shadowColor", "rgba(0,0,0,0)"), e.getStrokeLinearGradientColorStops() ? this._strokeLinearGradient(e) : this.setAttr("strokeStyle", e.stroke()), e._strokeFunc(this), i || this.restore();
    }
  }
  _applyShadow(e) {
    var t, i, a;
    const n = (t = e.getShadowRGBA()) !== null && t !== void 0 ? t : "black", o = (i = e.getShadowBlur()) !== null && i !== void 0 ? i : 5, s = (a = e.getShadowOffset()) !== null && a !== void 0 ? a : {
      x: 0,
      y: 0
    }, l = e.getAbsoluteScale(), u = this.canvas.getPixelRatio(), c = l.x * u, f = l.y * u;
    this.setAttr("shadowColor", n), this.setAttr("shadowBlur", o * Math.min(Math.abs(c), Math.abs(f))), this.setAttr("shadowOffsetX", s.x * c), this.setAttr("shadowOffsetY", s.y * f);
  }
}
xu.SceneContext = Xoe;
class Koe extends pw {
  constructor(e) {
    super(e), this._context = e._canvas.getContext("2d", {
      willReadFrequently: !0
    });
  }
  _fill(e) {
    this.save(), this.setAttr("fillStyle", e.colorKey), e._fillFuncHit(this), this.restore();
  }
  strokeShape(e) {
    e.hasHitStroke() && this._stroke(e);
  }
  _stroke(e) {
    if (e.hasHitStroke()) {
      const t = e.getStrokeScaleEnabled();
      if (!t) {
        this.save();
        const n = this.getCanvas().getPixelRatio();
        this.setTransform(n, 0, 0, n, 0, 0);
      }
      this._applyLineCap(e);
      const i = e.hitStrokeWidth(), a = i === "auto" ? e.strokeWidth() : i;
      this.setAttr("lineWidth", a), this.setAttr("strokeStyle", e.colorKey), e._strokeFuncHit(this), t || this.restore();
    }
  }
}
xu.HitContext = Koe;
Object.defineProperty(Rs, "__esModule", { value: !0 });
Rs.HitCanvas = Rs.SceneCanvas = Rs.Canvas = void 0;
const D_ = ui, vH = xu, gH = Kr;
let vy;
function Zoe() {
  if (vy)
    return vy;
  const r = D_.Util.createCanvasElement(), e = r.getContext("2d");
  return vy = function() {
    const t = gH.Konva._global.devicePixelRatio || 1, i = e.webkitBackingStorePixelRatio || e.mozBackingStorePixelRatio || e.msBackingStorePixelRatio || e.oBackingStorePixelRatio || e.backingStorePixelRatio || 1;
    return t / i;
  }(), D_.Util.releaseCanvas(r), vy;
}
class t8 {
  constructor(e) {
    this.pixelRatio = 1, this.width = 0, this.height = 0, this.isCache = !1;
    const i = (e || {}).pixelRatio || gH.Konva.pixelRatio || Zoe();
    this.pixelRatio = i, this._canvas = D_.Util.createCanvasElement(), this._canvas.style.padding = "0", this._canvas.style.margin = "0", this._canvas.style.border = "0", this._canvas.style.background = "transparent", this._canvas.style.position = "absolute", this._canvas.style.top = "0", this._canvas.style.left = "0";
  }
  getContext() {
    return this.context;
  }
  getPixelRatio() {
    return this.pixelRatio;
  }
  setPixelRatio(e) {
    const t = this.pixelRatio;
    this.pixelRatio = e, this.setSize(this.getWidth() / t, this.getHeight() / t);
  }
  setWidth(e) {
    this.width = this._canvas.width = e * this.pixelRatio, this._canvas.style.width = e + "px";
    const t = this.pixelRatio;
    this.getContext()._context.scale(t, t);
  }
  setHeight(e) {
    this.height = this._canvas.height = e * this.pixelRatio, this._canvas.style.height = e + "px";
    const t = this.pixelRatio;
    this.getContext()._context.scale(t, t);
  }
  getWidth() {
    return this.width;
  }
  getHeight() {
    return this.height;
  }
  setSize(e, t) {
    this.setWidth(e || 0), this.setHeight(t || 0);
  }
  toDataURL(e, t) {
    try {
      return this._canvas.toDataURL(e, t);
    } catch {
      try {
        return this._canvas.toDataURL();
      } catch (a) {
        return D_.Util.error("Unable to get data URL. " + a.message + " For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."), "";
      }
    }
  }
}
Rs.Canvas = t8;
class Joe extends t8 {
  constructor(e = { width: 0, height: 0, willReadFrequently: !1 }) {
    super(e), this.context = new vH.SceneContext(this, {
      willReadFrequently: e.willReadFrequently
    }), this.setSize(e.width, e.height);
  }
}
Rs.SceneCanvas = Joe;
class Qoe extends t8 {
  constructor(e = { width: 0, height: 0 }) {
    super(e), this.hitCanvas = !0, this.context = new vH.HitContext(this), this.setSize(e.width, e.height);
  }
}
Rs.HitCanvas = Qoe;
var vw = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), r.DD = void 0;
  const e = Kr, t = ui;
  r.DD = {
    get isDragging() {
      let i = !1;
      return r.DD._dragElements.forEach((a) => {
        a.dragStatus === "dragging" && (i = !0);
      }), i;
    },
    justDragged: !1,
    get node() {
      let i;
      return r.DD._dragElements.forEach((a) => {
        i = a.node;
      }), i;
    },
    _dragElements: /* @__PURE__ */ new Map(),
    _drag(i) {
      const a = [];
      r.DD._dragElements.forEach((n, o) => {
        const { node: s } = n, l = s.getStage();
        l.setPointersPositions(i), n.pointerId === void 0 && (n.pointerId = t.Util._getFirstPointerId(i));
        const u = l._changedPointerPositions.find((c) => c.id === n.pointerId);
        if (u) {
          if (n.dragStatus !== "dragging") {
            const c = s.dragDistance();
            if (Math.max(Math.abs(u.x - n.startPointerPos.x), Math.abs(u.y - n.startPointerPos.y)) < c || (s.startDrag({ evt: i }), !s.isDragging()))
              return;
          }
          s._setDragPosition(i, n), a.push(s);
        }
      }), a.forEach((n) => {
        n.fire("dragmove", {
          type: "dragmove",
          target: n,
          evt: i
        }, !0);
      });
    },
    _endDragBefore(i) {
      const a = [];
      r.DD._dragElements.forEach((n) => {
        const { node: o } = n, s = o.getStage();
        if (i && s.setPointersPositions(i), !s._changedPointerPositions.find((c) => c.id === n.pointerId))
          return;
        (n.dragStatus === "dragging" || n.dragStatus === "stopped") && (r.DD.justDragged = !0, e.Konva._mouseListenClick = !1, e.Konva._touchListenClick = !1, e.Konva._pointerListenClick = !1, n.dragStatus = "stopped");
        const u = n.node.getLayer() || n.node instanceof e.Konva.Stage && n.node;
        u && a.indexOf(u) === -1 && a.push(u);
      }), a.forEach((n) => {
        n.draw();
      });
    },
    _endDragAfter(i) {
      r.DD._dragElements.forEach((a, n) => {
        a.dragStatus === "stopped" && a.node.fire("dragend", {
          type: "dragend",
          target: a.node,
          evt: i
        }, !0), a.dragStatus !== "dragging" && r.DD._dragElements.delete(n);
      });
    }
  }, e.Konva.isBrowser && (window.addEventListener("mouseup", r.DD._endDragBefore, !0), window.addEventListener("touchend", r.DD._endDragBefore, !0), window.addEventListener("touchcancel", r.DD._endDragBefore, !0), window.addEventListener("mousemove", r.DD._drag), window.addEventListener("touchmove", r.DD._drag), window.addEventListener("mouseup", r.DD._endDragAfter, !1), window.addEventListener("touchend", r.DD._endDragAfter, !1), window.addEventListener("touchcancel", r.DD._endDragAfter, !1));
})(vw);
Object.defineProperty(ni, "__esModule", { value: !0 });
ni.Node = void 0;
const sn = ui, z1 = tn, Ov = Rs, dc = Kr, Wo = vw, Ri = Pr, Y2 = "absoluteOpacity", gy = "allEventListeners", au = "absoluteTransform", wR = "absoluteScale", Bh = "canvas", ese = "Change", tse = "children", rse = "konva", aA = "listening", SR = "mouseenter", xR = "mouseleave", TR = "set", CR = "Shape", j2 = " ", AR = "stage", Tc = "transform", nse = "Stage", oA = "visible", ise = [
  "xChange.konva",
  "yChange.konva",
  "scaleXChange.konva",
  "scaleYChange.konva",
  "skewXChange.konva",
  "skewYChange.konva",
  "rotationChange.konva",
  "offsetXChange.konva",
  "offsetYChange.konva",
  "transformsEnabledChange.konva"
].join(j2);
let ase = 1;
class Lr {
  constructor(e) {
    this._id = ase++, this.eventListeners = {}, this.attrs = {}, this.index = 0, this._allEventListeners = null, this.parent = null, this._cache = /* @__PURE__ */ new Map(), this._attachedDepsListeners = /* @__PURE__ */ new Map(), this._lastPos = null, this._batchingTransformChange = !1, this._needClearTransformCache = !1, this._filterUpToDate = !1, this._isUnderCache = !1, this._dragEventId = null, this._shouldFireChangeEvents = !1, this.setAttrs(e), this._shouldFireChangeEvents = !0;
  }
  hasChildren() {
    return !1;
  }
  _clearCache(e) {
    (e === Tc || e === au) && this._cache.get(e) ? this._cache.get(e).dirty = !0 : e ? this._cache.delete(e) : this._cache.clear();
  }
  _getCache(e, t) {
    let i = this._cache.get(e);
    return (i === void 0 || (e === Tc || e === au) && i.dirty === !0) && (i = t.call(this), this._cache.set(e, i)), i;
  }
  _calculate(e, t, i) {
    if (!this._attachedDepsListeners.get(e)) {
      const a = t.map((n) => n + "Change.konva").join(j2);
      this.on(a, () => {
        this._clearCache(e);
      }), this._attachedDepsListeners.set(e, !0);
    }
    return this._getCache(e, i);
  }
  _getCanvasCache() {
    return this._cache.get(Bh);
  }
  _clearSelfAndDescendantCache(e) {
    this._clearCache(e), e === au && this.fire("absoluteTransformChange");
  }
  clearCache() {
    if (this._cache.has(Bh)) {
      const { scene: e, filter: t, hit: i } = this._cache.get(Bh);
      sn.Util.releaseCanvas(e, t, i), this._cache.delete(Bh);
    }
    return this._clearSelfAndDescendantCache(), this._requestDraw(), this;
  }
  cache(e) {
    const t = e || {};
    let i = {};
    (t.x === void 0 || t.y === void 0 || t.width === void 0 || t.height === void 0) && (i = this.getClientRect({
      skipTransform: !0,
      relativeTo: this.getParent() || void 0
    }));
    let a = Math.ceil(t.width || i.width), n = Math.ceil(t.height || i.height), o = t.pixelRatio, s = t.x === void 0 ? Math.floor(i.x) : t.x, l = t.y === void 0 ? Math.floor(i.y) : t.y, u = t.offset || 0, c = t.drawBorder || !1, f = t.hitCanvasPixelRatio || 1;
    if (!a || !n) {
      sn.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");
      return;
    }
    const d = Math.abs(Math.round(i.x) - s) > 0.5 ? 1 : 0, p = Math.abs(Math.round(i.y) - l) > 0.5 ? 1 : 0;
    a += u * 2 + d, n += u * 2 + p, s -= u, l -= u;
    const v = new Ov.SceneCanvas({
      pixelRatio: o,
      width: a,
      height: n
    }), y = new Ov.SceneCanvas({
      pixelRatio: o,
      width: 0,
      height: 0,
      willReadFrequently: !0
    }), _ = new Ov.HitCanvas({
      pixelRatio: f,
      width: a,
      height: n
    }), w = v.getContext(), S = _.getContext();
    return _.isCache = !0, v.isCache = !0, this._cache.delete(Bh), this._filterUpToDate = !1, t.imageSmoothingEnabled === !1 && (v.getContext()._context.imageSmoothingEnabled = !1, y.getContext()._context.imageSmoothingEnabled = !1), w.save(), S.save(), w.translate(-s, -l), S.translate(-s, -l), this._isUnderCache = !0, this._clearSelfAndDescendantCache(Y2), this._clearSelfAndDescendantCache(wR), this.drawScene(v, this), this.drawHit(_, this), this._isUnderCache = !1, w.restore(), S.restore(), c && (w.save(), w.beginPath(), w.rect(0, 0, a, n), w.closePath(), w.setAttr("strokeStyle", "red"), w.setAttr("lineWidth", 5), w.stroke(), w.restore()), this._cache.set(Bh, {
      scene: v,
      filter: y,
      hit: _,
      x: s,
      y: l
    }), this._requestDraw(), this;
  }
  isCached() {
    return this._cache.has(Bh);
  }
  getClientRect(e) {
    throw new Error('abstract "getClientRect" method call');
  }
  _transformedRect(e, t) {
    const i = [
      { x: e.x, y: e.y },
      { x: e.x + e.width, y: e.y },
      { x: e.x + e.width, y: e.y + e.height },
      { x: e.x, y: e.y + e.height }
    ];
    let a = 1 / 0, n = 1 / 0, o = -1 / 0, s = -1 / 0;
    const l = this.getAbsoluteTransform(t);
    return i.forEach(function(u) {
      const c = l.point(u);
      a === void 0 && (a = o = c.x, n = s = c.y), a = Math.min(a, c.x), n = Math.min(n, c.y), o = Math.max(o, c.x), s = Math.max(s, c.y);
    }), {
      x: a,
      y: n,
      width: o - a,
      height: s - n
    };
  }
  _drawCachedSceneCanvas(e) {
    e.save(), e._applyOpacity(this), e._applyGlobalCompositeOperation(this);
    const t = this._getCanvasCache();
    e.translate(t.x, t.y);
    const i = this._getCachedSceneCanvas(), a = i.pixelRatio;
    e.drawImage(i._canvas, 0, 0, i.width / a, i.height / a), e.restore();
  }
  _drawCachedHitCanvas(e) {
    const t = this._getCanvasCache(), i = t.hit;
    e.save(), e.translate(t.x, t.y), e.drawImage(i._canvas, 0, 0, i.width / i.pixelRatio, i.height / i.pixelRatio), e.restore();
  }
  _getCachedSceneCanvas() {
    let e = this.filters(), t = this._getCanvasCache(), i = t.scene, a = t.filter, n = a.getContext(), o, s, l, u;
    if (e) {
      if (!this._filterUpToDate) {
        const c = i.pixelRatio;
        a.setSize(i.width / i.pixelRatio, i.height / i.pixelRatio);
        try {
          for (o = e.length, n.clear(), n.drawImage(i._canvas, 0, 0, i.getWidth() / c, i.getHeight() / c), s = n.getImageData(0, 0, a.getWidth(), a.getHeight()), l = 0; l < o; l++) {
            if (u = e[l], typeof u != "function") {
              sn.Util.error("Filter should be type of function, but got " + typeof u + " instead. Please check correct filters");
              continue;
            }
            u.call(this, s), n.putImageData(s, 0, 0);
          }
        } catch (f) {
          sn.Util.error("Unable to apply filter. " + f.message + " This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.");
        }
        this._filterUpToDate = !0;
      }
      return a;
    }
    return i;
  }
  on(e, t) {
    if (this._cache && this._cache.delete(gy), arguments.length === 3)
      return this._delegate.apply(this, arguments);
    let i = e.split(j2), a = i.length, n, o, s, l, u;
    for (n = 0; n < a; n++)
      o = i[n], s = o.split("."), l = s[0], u = s[1] || "", this.eventListeners[l] || (this.eventListeners[l] = []), this.eventListeners[l].push({
        name: u,
        handler: t
      });
    return this;
  }
  off(e, t) {
    let i = (e || "").split(j2), a = i.length, n, o, s, l, u, c;
    if (this._cache && this._cache.delete(gy), !e)
      for (o in this.eventListeners)
        this._off(o);
    for (n = 0; n < a; n++)
      if (s = i[n], l = s.split("."), u = l[0], c = l[1], u)
        this.eventListeners[u] && this._off(u, c, t);
      else
        for (o in this.eventListeners)
          this._off(o, c, t);
    return this;
  }
  dispatchEvent(e) {
    const t = {
      target: this,
      type: e.type,
      evt: e
    };
    return this.fire(e.type, t), this;
  }
  addEventListener(e, t) {
    return this.on(e, function(i) {
      t.call(this, i.evt);
    }), this;
  }
  removeEventListener(e) {
    return this.off(e), this;
  }
  _delegate(e, t, i) {
    const a = this;
    this.on(e, function(n) {
      const o = n.target.findAncestors(t, !0, a);
      for (let s = 0; s < o.length; s++)
        n = sn.Util.cloneObject(n), n.currentTarget = o[s], i.call(o[s], n);
    });
  }
  remove() {
    return this.isDragging() && this.stopDrag(), Wo.DD._dragElements.delete(this._id), this._remove(), this;
  }
  _clearCaches() {
    this._clearSelfAndDescendantCache(au), this._clearSelfAndDescendantCache(Y2), this._clearSelfAndDescendantCache(wR), this._clearSelfAndDescendantCache(AR), this._clearSelfAndDescendantCache(oA), this._clearSelfAndDescendantCache(aA);
  }
  _remove() {
    this._clearCaches();
    const e = this.getParent();
    e && e.children && (e.children.splice(this.index, 1), e._setChildrenIndices(), this.parent = null);
  }
  destroy() {
    return this.remove(), this.clearCache(), this;
  }
  getAttr(e) {
    const t = "get" + sn.Util._capitalize(e);
    return sn.Util._isFunction(this[t]) ? this[t]() : this.attrs[e];
  }
  getAncestors() {
    let e = this.getParent(), t = [];
    for (; e; )
      t.push(e), e = e.getParent();
    return t;
  }
  getAttrs() {
    return this.attrs || {};
  }
  setAttrs(e) {
    return this._batchTransformChanges(() => {
      let t, i;
      if (!e)
        return this;
      for (t in e)
        t !== tse && (i = TR + sn.Util._capitalize(t), sn.Util._isFunction(this[i]) ? this[i](e[t]) : this._setAttr(t, e[t]));
    }), this;
  }
  isListening() {
    return this._getCache(aA, this._isListening);
  }
  _isListening(e) {
    if (!this.listening())
      return !1;
    const i = this.getParent();
    return i && i !== e && this !== e ? i._isListening(e) : !0;
  }
  isVisible() {
    return this._getCache(oA, this._isVisible);
  }
  _isVisible(e) {
    if (!this.visible())
      return !1;
    const i = this.getParent();
    return i && i !== e && this !== e ? i._isVisible(e) : !0;
  }
  shouldDrawHit(e, t = !1) {
    if (e)
      return this._isVisible(e) && this._isListening(e);
    const i = this.getLayer();
    let a = !1;
    Wo.DD._dragElements.forEach((o) => {
      o.dragStatus === "dragging" && (o.node.nodeType === "Stage" || o.node.getLayer() === i) && (a = !0);
    });
    const n = !t && !dc.Konva.hitOnDragEnabled && (a || dc.Konva.isTransforming());
    return this.isListening() && this.isVisible() && !n;
  }
  show() {
    return this.visible(!0), this;
  }
  hide() {
    return this.visible(!1), this;
  }
  getZIndex() {
    return this.index || 0;
  }
  getAbsoluteZIndex() {
    let e = this.getDepth(), t = this, i = 0, a, n, o, s;
    function l(c) {
      for (a = [], n = c.length, o = 0; o < n; o++)
        s = c[o], i++, s.nodeType !== CR && (a = a.concat(s.getChildren().slice())), s._id === t._id && (o = n);
      a.length > 0 && a[0].getDepth() <= e && l(a);
    }
    const u = this.getStage();
    return t.nodeType !== nse && u && l(u.getChildren()), i;
  }
  getDepth() {
    let e = 0, t = this.parent;
    for (; t; )
      e++, t = t.parent;
    return e;
  }
  _batchTransformChanges(e) {
    this._batchingTransformChange = !0, e(), this._batchingTransformChange = !1, this._needClearTransformCache && (this._clearCache(Tc), this._clearSelfAndDescendantCache(au)), this._needClearTransformCache = !1;
  }
  setPosition(e) {
    return this._batchTransformChanges(() => {
      this.x(e.x), this.y(e.y);
    }), this;
  }
  getPosition() {
    return {
      x: this.x(),
      y: this.y()
    };
  }
  getRelativePointerPosition() {
    const e = this.getStage();
    if (!e)
      return null;
    const t = e.getPointerPosition();
    if (!t)
      return null;
    const i = this.getAbsoluteTransform().copy();
    return i.invert(), i.point(t);
  }
  getAbsolutePosition(e) {
    let t = !1, i = this.parent;
    for (; i; ) {
      if (i.isCached()) {
        t = !0;
        break;
      }
      i = i.parent;
    }
    t && !e && (e = !0);
    const a = this.getAbsoluteTransform(e).getMatrix(), n = new sn.Transform(), o = this.offset();
    return n.m = a.slice(), n.translate(o.x, o.y), n.getTranslation();
  }
  setAbsolutePosition(e) {
    const { x: t, y: i, ...a } = this._clearTransform();
    this.attrs.x = t, this.attrs.y = i, this._clearCache(Tc);
    const n = this._getAbsoluteTransform().copy();
    return n.invert(), n.translate(e.x, e.y), e = {
      x: this.attrs.x + n.getTranslation().x,
      y: this.attrs.y + n.getTranslation().y
    }, this._setTransform(a), this.setPosition({ x: e.x, y: e.y }), this._clearCache(Tc), this._clearSelfAndDescendantCache(au), this;
  }
  _setTransform(e) {
    let t;
    for (t in e)
      this.attrs[t] = e[t];
  }
  _clearTransform() {
    const e = {
      x: this.x(),
      y: this.y(),
      rotation: this.rotation(),
      scaleX: this.scaleX(),
      scaleY: this.scaleY(),
      offsetX: this.offsetX(),
      offsetY: this.offsetY(),
      skewX: this.skewX(),
      skewY: this.skewY()
    };
    return this.attrs.x = 0, this.attrs.y = 0, this.attrs.rotation = 0, this.attrs.scaleX = 1, this.attrs.scaleY = 1, this.attrs.offsetX = 0, this.attrs.offsetY = 0, this.attrs.skewX = 0, this.attrs.skewY = 0, e;
  }
  move(e) {
    let t = e.x, i = e.y, a = this.x(), n = this.y();
    return t !== void 0 && (a += t), i !== void 0 && (n += i), this.setPosition({ x: a, y: n }), this;
  }
  _eachAncestorReverse(e, t) {
    let i = [], a = this.getParent(), n, o;
    if (!(t && t._id === this._id)) {
      for (i.unshift(this); a && (!t || a._id !== t._id); )
        i.unshift(a), a = a.parent;
      for (n = i.length, o = 0; o < n; o++)
        e(i[o]);
    }
  }
  rotate(e) {
    return this.rotation(this.rotation() + e), this;
  }
  moveToTop() {
    if (!this.parent)
      return sn.Util.warn("Node has no parent. moveToTop function is ignored."), !1;
    const e = this.index, t = this.parent.getChildren().length;
    return e < t - 1 ? (this.parent.children.splice(e, 1), this.parent.children.push(this), this.parent._setChildrenIndices(), !0) : !1;
  }
  moveUp() {
    if (!this.parent)
      return sn.Util.warn("Node has no parent. moveUp function is ignored."), !1;
    const e = this.index, t = this.parent.getChildren().length;
    return e < t - 1 ? (this.parent.children.splice(e, 1), this.parent.children.splice(e + 1, 0, this), this.parent._setChildrenIndices(), !0) : !1;
  }
  moveDown() {
    if (!this.parent)
      return sn.Util.warn("Node has no parent. moveDown function is ignored."), !1;
    const e = this.index;
    return e > 0 ? (this.parent.children.splice(e, 1), this.parent.children.splice(e - 1, 0, this), this.parent._setChildrenIndices(), !0) : !1;
  }
  moveToBottom() {
    if (!this.parent)
      return sn.Util.warn("Node has no parent. moveToBottom function is ignored."), !1;
    const e = this.index;
    return e > 0 ? (this.parent.children.splice(e, 1), this.parent.children.unshift(this), this.parent._setChildrenIndices(), !0) : !1;
  }
  setZIndex(e) {
    if (!this.parent)
      return sn.Util.warn("Node has no parent. zIndex parameter is ignored."), this;
    (e < 0 || e >= this.parent.children.length) && sn.Util.warn("Unexpected value " + e + " for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to " + (this.parent.children.length - 1) + ".");
    const t = this.index;
    return this.parent.children.splice(t, 1), this.parent.children.splice(e, 0, this), this.parent._setChildrenIndices(), this;
  }
  getAbsoluteOpacity() {
    return this._getCache(Y2, this._getAbsoluteOpacity);
  }
  _getAbsoluteOpacity() {
    let e = this.opacity();
    const t = this.getParent();
    return t && !t._isUnderCache && (e *= t.getAbsoluteOpacity()), e;
  }
  moveTo(e) {
    return this.getParent() !== e && (this._remove(), e.add(this)), this;
  }
  toObject() {
    let e = this.getAttrs(), t, i, a, n, o;
    const s = {
      attrs: {},
      className: this.getClassName()
    };
    for (t in e)
      i = e[t], o = sn.Util.isObject(i) && !sn.Util._isPlainObject(i) && !sn.Util._isArray(i), !o && (a = typeof this[t] == "function" && this[t], delete e[t], n = a ? a.call(this) : null, e[t] = i, n !== i && (s.attrs[t] = i));
    return sn.Util._prepareToStringify(s);
  }
  toJSON() {
    return JSON.stringify(this.toObject());
  }
  getParent() {
    return this.parent;
  }
  findAncestors(e, t, i) {
    const a = [];
    t && this._isMatch(e) && a.push(this);
    let n = this.parent;
    for (; n; ) {
      if (n === i)
        return a;
      n._isMatch(e) && a.push(n), n = n.parent;
    }
    return a;
  }
  isAncestorOf(e) {
    return !1;
  }
  findAncestor(e, t, i) {
    return this.findAncestors(e, t, i)[0];
  }
  _isMatch(e) {
    if (!e)
      return !1;
    if (typeof e == "function")
      return e(this);
    let t = e.replace(/ /g, "").split(","), i = t.length, a, n;
    for (a = 0; a < i; a++)
      if (n = t[a], sn.Util.isValidSelector(n) || (sn.Util.warn('Selector "' + n + '" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'), sn.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'), sn.Util.warn("Konva is awesome, right?")), n.charAt(0) === "#") {
        if (this.id() === n.slice(1))
          return !0;
      } else if (n.charAt(0) === ".") {
        if (this.hasName(n.slice(1)))
          return !0;
      } else if (this.className === n || this.nodeType === n)
        return !0;
    return !1;
  }
  getLayer() {
    const e = this.getParent();
    return e ? e.getLayer() : null;
  }
  getStage() {
    return this._getCache(AR, this._getStage);
  }
  _getStage() {
    const e = this.getParent();
    return e ? e.getStage() : null;
  }
  fire(e, t = {}, i) {
    return t.target = t.target || this, i ? this._fireAndBubble(e, t) : this._fire(e, t), this;
  }
  getAbsoluteTransform(e) {
    return e ? this._getAbsoluteTransform(e) : this._getCache(au, this._getAbsoluteTransform);
  }
  _getAbsoluteTransform(e) {
    let t;
    if (e)
      return t = new sn.Transform(), this._eachAncestorReverse(function(i) {
        const a = i.transformsEnabled();
        a === "all" ? t.multiply(i.getTransform()) : a === "position" && t.translate(i.x() - i.offsetX(), i.y() - i.offsetY());
      }, e), t;
    {
      t = this._cache.get(au) || new sn.Transform(), this.parent ? this.parent.getAbsoluteTransform().copyInto(t) : t.reset();
      const i = this.transformsEnabled();
      if (i === "all")
        t.multiply(this.getTransform());
      else if (i === "position") {
        const a = this.attrs.x || 0, n = this.attrs.y || 0, o = this.attrs.offsetX || 0, s = this.attrs.offsetY || 0;
        t.translate(a - o, n - s);
      }
      return t.dirty = !1, t;
    }
  }
  getAbsoluteScale(e) {
    let t = this;
    for (; t; )
      t._isUnderCache && (e = t), t = t.getParent();
    const a = this.getAbsoluteTransform(e).decompose();
    return {
      x: a.scaleX,
      y: a.scaleY
    };
  }
  getAbsoluteRotation() {
    return this.getAbsoluteTransform().decompose().rotation;
  }
  getTransform() {
    return this._getCache(Tc, this._getTransform);
  }
  _getTransform() {
    var e, t;
    const i = this._cache.get(Tc) || new sn.Transform();
    i.reset();
    const a = this.x(), n = this.y(), o = dc.Konva.getAngle(this.rotation()), s = (e = this.attrs.scaleX) !== null && e !== void 0 ? e : 1, l = (t = this.attrs.scaleY) !== null && t !== void 0 ? t : 1, u = this.attrs.skewX || 0, c = this.attrs.skewY || 0, f = this.attrs.offsetX || 0, d = this.attrs.offsetY || 0;
    return (a !== 0 || n !== 0) && i.translate(a, n), o !== 0 && i.rotate(o), (u !== 0 || c !== 0) && i.skew(u, c), (s !== 1 || l !== 1) && i.scale(s, l), (f !== 0 || d !== 0) && i.translate(-1 * f, -1 * d), i.dirty = !1, i;
  }
  clone(e) {
    let t = sn.Util.cloneObject(this.attrs), i, a, n, o, s;
    for (i in e)
      t[i] = e[i];
    const l = new this.constructor(t);
    for (i in this.eventListeners)
      for (a = this.eventListeners[i], n = a.length, o = 0; o < n; o++)
        s = a[o], s.name.indexOf(rse) < 0 && (l.eventListeners[i] || (l.eventListeners[i] = []), l.eventListeners[i].push(s));
    return l;
  }
  _toKonvaCanvas(e) {
    e = e || {};
    const t = this.getClientRect(), i = this.getStage(), a = e.x !== void 0 ? e.x : Math.floor(t.x), n = e.y !== void 0 ? e.y : Math.floor(t.y), o = e.pixelRatio || 1, s = new Ov.SceneCanvas({
      width: e.width || Math.ceil(t.width) || (i ? i.width() : 0),
      height: e.height || Math.ceil(t.height) || (i ? i.height() : 0),
      pixelRatio: o
    }), l = s.getContext(), u = new Ov.SceneCanvas({
      width: s.width / s.pixelRatio + Math.abs(a),
      height: s.height / s.pixelRatio + Math.abs(n),
      pixelRatio: s.pixelRatio
    });
    return e.imageSmoothingEnabled === !1 && (l._context.imageSmoothingEnabled = !1), l.save(), (a || n) && l.translate(-1 * a, -1 * n), this.drawScene(s, void 0, u), l.restore(), s;
  }
  toCanvas(e) {
    return this._toKonvaCanvas(e)._canvas;
  }
  toDataURL(e) {
    e = e || {};
    const t = e.mimeType || null, i = e.quality || null, a = this._toKonvaCanvas(e).toDataURL(t, i);
    return e.callback && e.callback(a), a;
  }
  toImage(e) {
    return new Promise((t, i) => {
      try {
        const a = e?.callback;
        a && delete e.callback, sn.Util._urlToImage(this.toDataURL(e), function(n) {
          t(n), a?.(n);
        });
      } catch (a) {
        i(a);
      }
    });
  }
  toBlob(e) {
    return new Promise((t, i) => {
      try {
        const a = e?.callback;
        a && delete e.callback, this.toCanvas(e).toBlob((n) => {
          t(n), a?.(n);
        }, e?.mimeType, e?.quality);
      } catch (a) {
        i(a);
      }
    });
  }
  setSize(e) {
    return this.width(e.width), this.height(e.height), this;
  }
  getSize() {
    return {
      width: this.width(),
      height: this.height()
    };
  }
  getClassName() {
    return this.className || this.nodeType;
  }
  getType() {
    return this.nodeType;
  }
  getDragDistance() {
    return this.attrs.dragDistance !== void 0 ? this.attrs.dragDistance : this.parent ? this.parent.getDragDistance() : dc.Konva.dragDistance;
  }
  _off(e, t, i) {
    let a = this.eventListeners[e], n, o, s;
    for (n = 0; n < a.length; n++)
      if (o = a[n].name, s = a[n].handler, (o !== "konva" || t === "konva") && (!t || o === t) && (!i || i === s)) {
        if (a.splice(n, 1), a.length === 0) {
          delete this.eventListeners[e];
          break;
        }
        n--;
      }
  }
  _fireChangeEvent(e, t, i) {
    this._fire(e + ese, {
      oldVal: t,
      newVal: i
    });
  }
  addName(e) {
    if (!this.hasName(e)) {
      const t = this.name(), i = t ? t + " " + e : e;
      this.name(i);
    }
    return this;
  }
  hasName(e) {
    if (!e)
      return !1;
    const t = this.name();
    return t ? (t || "").split(/\s/g).indexOf(e) !== -1 : !1;
  }
  removeName(e) {
    const t = (this.name() || "").split(/\s/g), i = t.indexOf(e);
    return i !== -1 && (t.splice(i, 1), this.name(t.join(" "))), this;
  }
  setAttr(e, t) {
    const i = this[TR + sn.Util._capitalize(e)];
    return sn.Util._isFunction(i) ? i.call(this, t) : this._setAttr(e, t), this;
  }
  _requestDraw() {
    if (dc.Konva.autoDrawEnabled) {
      const e = this.getLayer() || this.getStage();
      e?.batchDraw();
    }
  }
  _setAttr(e, t) {
    const i = this.attrs[e];
    i === t && !sn.Util.isObject(t) || (t == null ? delete this.attrs[e] : this.attrs[e] = t, this._shouldFireChangeEvents && this._fireChangeEvent(e, i, t), this._requestDraw());
  }
  _setComponentAttr(e, t, i) {
    let a;
    i !== void 0 && (a = this.attrs[e], a || (this.attrs[e] = this.getAttr(e)), this.attrs[e][t] = i, this._fireChangeEvent(e, a, i));
  }
  _fireAndBubble(e, t, i) {
    if (t && this.nodeType === CR && (t.target = this), !((e === SR || e === xR) && (i && (this === i || this.isAncestorOf && this.isAncestorOf(i)) || this.nodeType === "Stage" && !i))) {
      this._fire(e, t);
      const n = (e === SR || e === xR) && i && i.isAncestorOf && i.isAncestorOf(this) && !i.isAncestorOf(this.parent);
      (t && !t.cancelBubble || !t) && this.parent && this.parent.isListening() && !n && (i && i.parent ? this._fireAndBubble.call(this.parent, e, t, i) : this._fireAndBubble.call(this.parent, e, t));
    }
  }
  _getProtoListeners(e) {
    var t, i, a;
    const n = (t = this._cache.get(gy)) !== null && t !== void 0 ? t : {};
    let o = n?.[e];
    if (o === void 0) {
      o = [];
      let s = Object.getPrototypeOf(this);
      for (; s; ) {
        const l = (a = (i = s.eventListeners) === null || i === void 0 ? void 0 : i[e]) !== null && a !== void 0 ? a : [];
        o.push(...l), s = Object.getPrototypeOf(s);
      }
      n[e] = o, this._cache.set(gy, n);
    }
    return o;
  }
  _fire(e, t) {
    t = t || {}, t.currentTarget = this, t.type = e;
    const i = this._getProtoListeners(e);
    if (i)
      for (var a = 0; a < i.length; a++)
        i[a].handler.call(this, t);
    const n = this.eventListeners[e];
    if (n)
      for (var a = 0; a < n.length; a++)
        n[a].handler.call(this, t);
  }
  draw() {
    return this.drawScene(), this.drawHit(), this;
  }
  _createDragElement(e) {
    const t = e ? e.pointerId : void 0, i = this.getStage(), a = this.getAbsolutePosition();
    if (!i)
      return;
    const n = i._getPointerById(t) || i._changedPointerPositions[0] || a;
    Wo.DD._dragElements.set(this._id, {
      node: this,
      startPointerPos: n,
      offset: {
        x: n.x - a.x,
        y: n.y - a.y
      },
      dragStatus: "ready",
      pointerId: t
    });
  }
  startDrag(e, t = !0) {
    Wo.DD._dragElements.has(this._id) || this._createDragElement(e);
    const i = Wo.DD._dragElements.get(this._id);
    i.dragStatus = "dragging", this.fire("dragstart", {
      type: "dragstart",
      target: this,
      evt: e && e.evt
    }, t);
  }
  _setDragPosition(e, t) {
    const i = this.getStage()._getPointerById(t.pointerId);
    if (!i)
      return;
    let a = {
      x: i.x - t.offset.x,
      y: i.y - t.offset.y
    };
    const n = this.dragBoundFunc();
    if (n !== void 0) {
      const o = n.call(this, a, e);
      o ? a = o : sn.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.");
    }
    (!this._lastPos || this._lastPos.x !== a.x || this._lastPos.y !== a.y) && (this.setAbsolutePosition(a), this._requestDraw()), this._lastPos = a;
  }
  stopDrag(e) {
    const t = Wo.DD._dragElements.get(this._id);
    t && (t.dragStatus = "stopped"), Wo.DD._endDragBefore(e), Wo.DD._endDragAfter(e);
  }
  setDraggable(e) {
    this._setAttr("draggable", e), this._dragChange();
  }
  isDragging() {
    const e = Wo.DD._dragElements.get(this._id);
    return e ? e.dragStatus === "dragging" : !1;
  }
  _listenDrag() {
    this._dragCleanup(), this.on("mousedown.konva touchstart.konva", function(e) {
      if (!(!(e.evt.button !== void 0) || dc.Konva.dragButtons.indexOf(e.evt.button) >= 0) || this.isDragging())
        return;
      let a = !1;
      Wo.DD._dragElements.forEach((n) => {
        this.isAncestorOf(n.node) && (a = !0);
      }), a || this._createDragElement(e);
    });
  }
  _dragChange() {
    if (this.attrs.draggable)
      this._listenDrag();
    else {
      if (this._dragCleanup(), !this.getStage())
        return;
      const t = Wo.DD._dragElements.get(this._id), i = t && t.dragStatus === "dragging", a = t && t.dragStatus === "ready";
      i ? this.stopDrag() : a && Wo.DD._dragElements.delete(this._id);
    }
  }
  _dragCleanup() {
    this.off("mousedown.konva"), this.off("touchstart.konva");
  }
  isClientRectOnScreen(e = { x: 0, y: 0 }) {
    const t = this.getStage();
    if (!t)
      return !1;
    const i = {
      x: -e.x,
      y: -e.y,
      width: t.width() + 2 * e.x,
      height: t.height() + 2 * e.y
    };
    return sn.Util.haveIntersection(i, this.getClientRect());
  }
  static create(e, t) {
    return sn.Util._isString(e) && (e = JSON.parse(e)), this._createNode(e, t);
  }
  static _createNode(e, t) {
    let i = Lr.prototype.getClassName.call(e), a = e.children, n, o, s;
    t && (e.attrs.container = t), dc.Konva[i] || (sn.Util.warn('Can not find a node with class name "' + i + '". Fallback to "Shape".'), i = "Shape");
    const l = dc.Konva[i];
    if (n = new l(e.attrs), a)
      for (o = a.length, s = 0; s < o; s++)
        n.add(Lr._createNode(a[s]));
    return n;
  }
}
ni.Node = Lr;
Lr.prototype.nodeType = "Node";
Lr.prototype._attrsAffectingSize = [];
Lr.prototype.eventListeners = {};
Lr.prototype.on.call(Lr.prototype, ise, function() {
  if (this._batchingTransformChange) {
    this._needClearTransformCache = !0;
    return;
  }
  this._clearCache(Tc), this._clearSelfAndDescendantCache(au);
});
Lr.prototype.on.call(Lr.prototype, "visibleChange.konva", function() {
  this._clearSelfAndDescendantCache(oA);
});
Lr.prototype.on.call(Lr.prototype, "listeningChange.konva", function() {
  this._clearSelfAndDescendantCache(aA);
});
Lr.prototype.on.call(Lr.prototype, "opacityChange.konva", function() {
  this._clearSelfAndDescendantCache(Y2);
});
const Hn = z1.Factory.addGetterSetter;
Hn(Lr, "zIndex");
Hn(Lr, "absolutePosition");
Hn(Lr, "position");
Hn(Lr, "x", 0, (0, Ri.getNumberValidator)());
Hn(Lr, "y", 0, (0, Ri.getNumberValidator)());
Hn(Lr, "globalCompositeOperation", "source-over", (0, Ri.getStringValidator)());
Hn(Lr, "opacity", 1, (0, Ri.getNumberValidator)());
Hn(Lr, "name", "", (0, Ri.getStringValidator)());
Hn(Lr, "id", "", (0, Ri.getStringValidator)());
Hn(Lr, "rotation", 0, (0, Ri.getNumberValidator)());
z1.Factory.addComponentsGetterSetter(Lr, "scale", ["x", "y"]);
Hn(Lr, "scaleX", 1, (0, Ri.getNumberValidator)());
Hn(Lr, "scaleY", 1, (0, Ri.getNumberValidator)());
z1.Factory.addComponentsGetterSetter(Lr, "skew", ["x", "y"]);
Hn(Lr, "skewX", 0, (0, Ri.getNumberValidator)());
Hn(Lr, "skewY", 0, (0, Ri.getNumberValidator)());
z1.Factory.addComponentsGetterSetter(Lr, "offset", ["x", "y"]);
Hn(Lr, "offsetX", 0, (0, Ri.getNumberValidator)());
Hn(Lr, "offsetY", 0, (0, Ri.getNumberValidator)());
Hn(Lr, "dragDistance", void 0, (0, Ri.getNumberValidator)());
Hn(Lr, "width", 0, (0, Ri.getNumberValidator)());
Hn(Lr, "height", 0, (0, Ri.getNumberValidator)());
Hn(Lr, "listening", !0, (0, Ri.getBooleanValidator)());
Hn(Lr, "preventDefault", !0, (0, Ri.getBooleanValidator)());
Hn(Lr, "filters", void 0, function(r) {
  return this._filterUpToDate = !1, r;
});
Hn(Lr, "visible", !0, (0, Ri.getBooleanValidator)());
Hn(Lr, "transformsEnabled", "all", (0, Ri.getStringValidator)());
Hn(Lr, "size");
Hn(Lr, "dragBoundFunc");
Hn(Lr, "draggable", !1, (0, Ri.getBooleanValidator)());
z1.Factory.backCompat(Lr, {
  rotateDeg: "rotate",
  setRotationDeg: "setRotation",
  getRotationDeg: "getRotation"
});
var hd = {};
Object.defineProperty(hd, "__esModule", { value: !0 });
hd.Container = void 0;
const x0 = tn, U4 = ni, gw = Pr;
class fd extends U4.Node {
  constructor() {
    super(...arguments), this.children = [];
  }
  getChildren(e) {
    if (!e)
      return this.children || [];
    const t = this.children || [], i = [];
    return t.forEach(function(a) {
      e(a) && i.push(a);
    }), i;
  }
  hasChildren() {
    return this.getChildren().length > 0;
  }
  removeChildren() {
    return this.getChildren().forEach((e) => {
      e.parent = null, e.index = 0, e.remove();
    }), this.children = [], this._requestDraw(), this;
  }
  destroyChildren() {
    return this.getChildren().forEach((e) => {
      e.parent = null, e.index = 0, e.destroy();
    }), this.children = [], this._requestDraw(), this;
  }
  add(...e) {
    if (e.length === 0)
      return this;
    if (e.length > 1) {
      for (let i = 0; i < e.length; i++)
        this.add(e[i]);
      return this;
    }
    const t = e[0];
    return t.getParent() ? (t.moveTo(this), this) : (this._validateAdd(t), t.index = this.getChildren().length, t.parent = this, t._clearCaches(), this.getChildren().push(t), this._fire("add", {
      child: t
    }), this._requestDraw(), this);
  }
  destroy() {
    return this.hasChildren() && this.destroyChildren(), super.destroy(), this;
  }
  find(e) {
    return this._generalFind(e, !1);
  }
  findOne(e) {
    const t = this._generalFind(e, !0);
    return t.length > 0 ? t[0] : void 0;
  }
  _generalFind(e, t) {
    const i = [];
    return this._descendants((a) => {
      const n = a._isMatch(e);
      return n && i.push(a), !!(n && t);
    }), i;
  }
  _descendants(e) {
    let t = !1;
    const i = this.getChildren();
    for (const a of i) {
      if (t = e(a), t)
        return !0;
      if (a.hasChildren() && (t = a._descendants(e), t))
        return !0;
    }
    return !1;
  }
  toObject() {
    const e = U4.Node.prototype.toObject.call(this);
    return e.children = [], this.getChildren().forEach((t) => {
      e.children.push(t.toObject());
    }), e;
  }
  isAncestorOf(e) {
    let t = e.getParent();
    for (; t; ) {
      if (t._id === this._id)
        return !0;
      t = t.getParent();
    }
    return !1;
  }
  clone(e) {
    const t = U4.Node.prototype.clone.call(this, e);
    return this.getChildren().forEach(function(i) {
      t.add(i.clone());
    }), t;
  }
  getAllIntersections(e) {
    const t = [];
    return this.find("Shape").forEach((i) => {
      i.isVisible() && i.intersects(e) && t.push(i);
    }), t;
  }
  _clearSelfAndDescendantCache(e) {
    var t;
    super._clearSelfAndDescendantCache(e), !this.isCached() && ((t = this.children) === null || t === void 0 || t.forEach(function(i) {
      i._clearSelfAndDescendantCache(e);
    }));
  }
  _setChildrenIndices() {
    var e;
    (e = this.children) === null || e === void 0 || e.forEach(function(t, i) {
      t.index = i;
    }), this._requestDraw();
  }
  drawScene(e, t, i) {
    const a = this.getLayer(), n = e || a && a.getCanvas(), o = n && n.getContext(), s = this._getCanvasCache(), l = s && s.scene, u = n && n.isCache;
    if (!this.isVisible() && !u)
      return this;
    if (l) {
      o.save();
      const c = this.getAbsoluteTransform(t).getMatrix();
      o.transform(c[0], c[1], c[2], c[3], c[4], c[5]), this._drawCachedSceneCanvas(o), o.restore();
    } else
      this._drawChildren("drawScene", n, t, i);
    return this;
  }
  drawHit(e, t) {
    if (!this.shouldDrawHit(t))
      return this;
    const i = this.getLayer(), a = e || i && i.hitCanvas, n = a && a.getContext(), o = this._getCanvasCache();
    if (o && o.hit) {
      n.save();
      const l = this.getAbsoluteTransform(t).getMatrix();
      n.transform(l[0], l[1], l[2], l[3], l[4], l[5]), this._drawCachedHitCanvas(n), n.restore();
    } else
      this._drawChildren("drawHit", a, t);
    return this;
  }
  _drawChildren(e, t, i, a) {
    var n;
    const o = t && t.getContext(), s = this.clipWidth(), l = this.clipHeight(), u = this.clipFunc(), c = typeof s == "number" && typeof l == "number" || u, f = i === this;
    if (c) {
      o.save();
      const p = this.getAbsoluteTransform(i);
      let v = p.getMatrix();
      o.transform(v[0], v[1], v[2], v[3], v[4], v[5]), o.beginPath();
      let y;
      if (u)
        y = u.call(this, o, this);
      else {
        const _ = this.clipX(), w = this.clipY();
        o.rect(_ || 0, w || 0, s, l);
      }
      o.clip.apply(o, y), v = p.copy().invert().getMatrix(), o.transform(v[0], v[1], v[2], v[3], v[4], v[5]);
    }
    const d = !f && this.globalCompositeOperation() !== "source-over" && e === "drawScene";
    d && (o.save(), o._applyGlobalCompositeOperation(this)), (n = this.children) === null || n === void 0 || n.forEach(function(p) {
      p[e](t, i, a);
    }), d && o.restore(), c && o.restore();
  }
  getClientRect(e = {}) {
    var t;
    const i = e.skipTransform, a = e.relativeTo;
    let n, o, s, l, u = {
      x: 1 / 0,
      y: 1 / 0,
      width: 0,
      height: 0
    };
    const c = this;
    (t = this.children) === null || t === void 0 || t.forEach(function(p) {
      if (!p.visible())
        return;
      const v = p.getClientRect({
        relativeTo: c,
        skipShadow: e.skipShadow,
        skipStroke: e.skipStroke
      });
      v.width === 0 && v.height === 0 || (n === void 0 ? (n = v.x, o = v.y, s = v.x + v.width, l = v.y + v.height) : (n = Math.min(n, v.x), o = Math.min(o, v.y), s = Math.max(s, v.x + v.width), l = Math.max(l, v.y + v.height)));
    });
    const f = this.find("Shape");
    let d = !1;
    for (let p = 0; p < f.length; p++)
      if (f[p]._isVisible(this)) {
        d = !0;
        break;
      }
    return d && n !== void 0 ? u = {
      x: n,
      y: o,
      width: s - n,
      height: l - o
    } : u = {
      x: 0,
      y: 0,
      width: 0,
      height: 0
    }, i ? u : this._transformedRect(u, a);
  }
}
hd.Container = fd;
x0.Factory.addComponentsGetterSetter(fd, "clip", [
  "x",
  "y",
  "width",
  "height"
]);
x0.Factory.addGetterSetter(fd, "clipX", void 0, (0, gw.getNumberValidator)());
x0.Factory.addGetterSetter(fd, "clipY", void 0, (0, gw.getNumberValidator)());
x0.Factory.addGetterSetter(fd, "clipWidth", void 0, (0, gw.getNumberValidator)());
x0.Factory.addGetterSetter(fd, "clipHeight", void 0, (0, gw.getNumberValidator)());
x0.Factory.addGetterSetter(fd, "clipFunc");
var mH = {}, ih = {};
Object.defineProperty(ih, "__esModule", { value: !0 });
ih.getCapturedShape = sse;
ih.createEvent = r8;
ih.hasPointerCapture = lse;
ih.setPointerCapture = use;
ih.releaseCapture = _H;
const ose = Kr, r1 = /* @__PURE__ */ new Map(), yH = ose.Konva._global.PointerEvent !== void 0;
function sse(r) {
  return r1.get(r);
}
function r8(r) {
  return {
    evt: r,
    pointerId: r.pointerId
  };
}
function lse(r, e) {
  return r1.get(r) === e;
}
function use(r, e) {
  _H(r), e.getStage() && (r1.set(r, e), yH && e._fire("gotpointercapture", r8(new PointerEvent("gotpointercapture"))));
}
function _H(r, e) {
  const t = r1.get(r);
  if (!t)
    return;
  const i = t.getStage();
  i && i.content, r1.delete(r), yH && t._fire("lostpointercapture", r8(new PointerEvent("lostpointercapture")));
}
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), r.Stage = r.stages = void 0;
  const e = ui, t = tn, i = hd, a = Kr, n = Rs, o = vw, s = Kr, l = ih, u = "Stage", c = "string", f = "px", d = "mouseout", p = "mouseleave", v = "mouseover", y = "mouseenter", _ = "mousemove", w = "mousedown", S = "mouseup", x = "pointermove", E = "pointerdown", M = "pointerup", k = "pointercancel", P = "lostpointercapture", L = "pointerout", F = "pointerleave", O = "pointerover", U = "pointerenter", V = "contextmenu", G = "touchstart", Z = "touchend", Q = "touchmove", se = "touchcancel", de = "wheel", le = 5, Se = [
    [y, "_pointerenter"],
    [w, "_pointerdown"],
    [_, "_pointermove"],
    [S, "_pointerup"],
    [p, "_pointerleave"],
    [G, "_pointerdown"],
    [Q, "_pointermove"],
    [Z, "_pointerup"],
    [se, "_pointercancel"],
    [v, "_pointerover"],
    [de, "_wheel"],
    [V, "_contextmenu"],
    [E, "_pointerdown"],
    [x, "_pointermove"],
    [M, "_pointerup"],
    [k, "_pointercancel"],
    [P, "_lostpointercapture"]
  ], he = {
    mouse: {
      [L]: d,
      [F]: p,
      [O]: v,
      [U]: y,
      [x]: _,
      [E]: w,
      [M]: S,
      [k]: "mousecancel",
      pointerclick: "click",
      pointerdblclick: "dblclick"
    },
    touch: {
      [L]: "touchout",
      [F]: "touchleave",
      [O]: "touchover",
      [U]: "touchenter",
      [x]: Q,
      [E]: G,
      [M]: Z,
      [k]: se,
      pointerclick: "tap",
      pointerdblclick: "dbltap"
    },
    pointer: {
      [L]: L,
      [F]: F,
      [O]: O,
      [U]: U,
      [x]: x,
      [E]: E,
      [M]: M,
      [k]: k,
      pointerclick: "pointerclick",
      pointerdblclick: "pointerdblclick"
    }
  }, fe = (Ie) => Ie.indexOf("pointer") >= 0 ? "pointer" : Ie.indexOf("touch") >= 0 ? "touch" : "mouse", K = (Ie) => {
    const q = fe(Ie);
    if (q === "pointer")
      return a.Konva.pointerEventsEnabled && he.pointer;
    if (q === "touch")
      return he.touch;
    if (q === "mouse")
      return he.mouse;
  };
  function we(Ie = {}) {
    return (Ie.clipFunc || Ie.clipWidth || Ie.clipHeight) && e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."), Ie;
  }
  const ve = "Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";
  r.stages = [];
  class De extends i.Container {
    constructor(q) {
      super(we(q)), this._pointerPositions = [], this._changedPointerPositions = [], this._buildDOM(), this._bindContentEvents(), r.stages.push(this), this.on("widthChange.konva heightChange.konva", this._resizeDOM), this.on("visibleChange.konva", this._checkVisibility), this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva", () => {
        we(this.attrs);
      }), this._checkVisibility();
    }
    _validateAdd(q) {
      const re = q.getType() === "Layer", be = q.getType() === "FastLayer";
      re || be || e.Util.throw("You may only add layers to the stage.");
    }
    _checkVisibility() {
      if (!this.content)
        return;
      const q = this.visible() ? "" : "none";
      this.content.style.display = q;
    }
    setContainer(q) {
      if (typeof q === c) {
        if (q.charAt(0) === ".") {
          const be = q.slice(1);
          q = document.getElementsByClassName(be)[0];
        } else {
          var re;
          q.charAt(0) !== "#" ? re = q : re = q.slice(1), q = document.getElementById(re);
        }
        if (!q)
          throw "Can not find container in document with id " + re;
      }
      return this._setAttr("container", q), this.content && (this.content.parentElement && this.content.parentElement.removeChild(this.content), q.appendChild(this.content)), this;
    }
    shouldDrawHit() {
      return !0;
    }
    clear() {
      const q = this.children, re = q.length;
      for (let be = 0; be < re; be++)
        q[be].clear();
      return this;
    }
    clone(q) {
      return q || (q = {}), q.container = typeof document < "u" && document.createElement("div"), i.Container.prototype.clone.call(this, q);
    }
    destroy() {
      super.destroy();
      const q = this.content;
      q && e.Util._isInDocument(q) && this.container().removeChild(q);
      const re = r.stages.indexOf(this);
      return re > -1 && r.stages.splice(re, 1), e.Util.releaseCanvas(this.bufferCanvas._canvas, this.bufferHitCanvas._canvas), this;
    }
    getPointerPosition() {
      const q = this._pointerPositions[0] || this._changedPointerPositions[0];
      return q ? {
        x: q.x,
        y: q.y
      } : (e.Util.warn(ve), null);
    }
    _getPointerById(q) {
      return this._pointerPositions.find((re) => re.id === q);
    }
    getPointersPositions() {
      return this._pointerPositions;
    }
    getStage() {
      return this;
    }
    getContent() {
      return this.content;
    }
    _toKonvaCanvas(q) {
      q = q || {}, q.x = q.x || 0, q.y = q.y || 0, q.width = q.width || this.width(), q.height = q.height || this.height();
      const re = new n.SceneCanvas({
        width: q.width,
        height: q.height,
        pixelRatio: q.pixelRatio || 1
      }), be = re.getContext()._context, te = this.children;
      return (q.x || q.y) && be.translate(-1 * q.x, -1 * q.y), te.forEach(function(ne) {
        if (!ne.isVisible())
          return;
        const ie = ne._toKonvaCanvas(q);
        be.drawImage(ie._canvas, q.x, q.y, ie.getWidth() / ie.getPixelRatio(), ie.getHeight() / ie.getPixelRatio());
      }), re;
    }
    getIntersection(q) {
      if (!q)
        return null;
      const re = this.children, be = re.length, te = be - 1;
      for (let ne = te; ne >= 0; ne--) {
        const ie = re[ne].getIntersection(q);
        if (ie)
          return ie;
      }
      return null;
    }
    _resizeDOM() {
      const q = this.width(), re = this.height();
      this.content && (this.content.style.width = q + f, this.content.style.height = re + f), this.bufferCanvas.setSize(q, re), this.bufferHitCanvas.setSize(q, re), this.children.forEach((be) => {
        be.setSize({ width: q, height: re }), be.draw();
      });
    }
    add(q, ...re) {
      if (arguments.length > 1) {
        for (let te = 0; te < arguments.length; te++)
          this.add(arguments[te]);
        return this;
      }
      super.add(q);
      const be = this.children.length;
      return be > le && e.Util.warn("The stage has " + be + " layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."), q.setSize({ width: this.width(), height: this.height() }), q.draw(), a.Konva.isBrowser && this.content.appendChild(q.canvas._canvas), this;
    }
    getParent() {
      return null;
    }
    getLayer() {
      return null;
    }
    hasPointerCapture(q) {
      return l.hasPointerCapture(q, this);
    }
    setPointerCapture(q) {
      l.setPointerCapture(q, this);
    }
    releaseCapture(q) {
      l.releaseCapture(q, this);
    }
    getLayers() {
      return this.children;
    }
    _bindContentEvents() {
      a.Konva.isBrowser && Se.forEach(([q, re]) => {
        this.content.addEventListener(q, (be) => {
          this[re](be);
        }, { passive: !1 });
      });
    }
    _pointerenter(q) {
      this.setPointersPositions(q);
      const re = K(q.type);
      re && this._fire(re.pointerenter, {
        evt: q,
        target: this,
        currentTarget: this
      });
    }
    _pointerover(q) {
      this.setPointersPositions(q);
      const re = K(q.type);
      re && this._fire(re.pointerover, {
        evt: q,
        target: this,
        currentTarget: this
      });
    }
    _getTargetShape(q) {
      let re = this[q + "targetShape"];
      return re && !re.getStage() && (re = null), re;
    }
    _pointerleave(q) {
      const re = K(q.type), be = fe(q.type);
      if (!re)
        return;
      this.setPointersPositions(q);
      const te = this._getTargetShape(be), ne = !(a.Konva.isDragging() || a.Konva.isTransforming()) || a.Konva.hitOnDragEnabled;
      te && ne ? (te._fireAndBubble(re.pointerout, { evt: q }), te._fireAndBubble(re.pointerleave, { evt: q }), this._fire(re.pointerleave, {
        evt: q,
        target: this,
        currentTarget: this
      }), this[be + "targetShape"] = null) : ne && (this._fire(re.pointerleave, {
        evt: q,
        target: this,
        currentTarget: this
      }), this._fire(re.pointerout, {
        evt: q,
        target: this,
        currentTarget: this
      })), this.pointerPos = null, this._pointerPositions = [];
    }
    _pointerdown(q) {
      const re = K(q.type), be = fe(q.type);
      if (!re)
        return;
      this.setPointersPositions(q);
      let te = !1;
      this._changedPointerPositions.forEach((ne) => {
        const ie = this.getIntersection(ne);
        if (o.DD.justDragged = !1, a.Konva["_" + be + "ListenClick"] = !0, !ie || !ie.isListening()) {
          this[be + "ClickStartShape"] = void 0;
          return;
        }
        a.Konva.capturePointerEventsEnabled && ie.setPointerCapture(ne.id), this[be + "ClickStartShape"] = ie, ie._fireAndBubble(re.pointerdown, {
          evt: q,
          pointerId: ne.id
        }), te = !0;
        const xe = q.type.indexOf("touch") >= 0;
        ie.preventDefault() && q.cancelable && xe && q.preventDefault();
      }), te || this._fire(re.pointerdown, {
        evt: q,
        target: this,
        currentTarget: this,
        pointerId: this._pointerPositions[0].id
      });
    }
    _pointermove(q) {
      const re = K(q.type), be = fe(q.type);
      if (!re || (a.Konva.isDragging() && o.DD.node.preventDefault() && q.cancelable && q.preventDefault(), this.setPointersPositions(q), !(!(a.Konva.isDragging() || a.Konva.isTransforming()) || a.Konva.hitOnDragEnabled)))
        return;
      const ne = {};
      let ie = !1;
      const xe = this._getTargetShape(be);
      this._changedPointerPositions.forEach((ge) => {
        const ae = l.getCapturedShape(ge.id) || this.getIntersection(ge), pe = ge.id, ce = { evt: q, pointerId: pe }, Ee = xe !== ae;
        if (Ee && xe && (xe._fireAndBubble(re.pointerout, { ...ce }, ae), xe._fireAndBubble(re.pointerleave, { ...ce }, ae)), ae) {
          if (ne[ae._id])
            return;
          ne[ae._id] = !0;
        }
        ae && ae.isListening() ? (ie = !0, Ee && (ae._fireAndBubble(re.pointerover, { ...ce }, xe), ae._fireAndBubble(re.pointerenter, { ...ce }, xe), this[be + "targetShape"] = ae), ae._fireAndBubble(re.pointermove, { ...ce })) : xe && (this._fire(re.pointerover, {
          evt: q,
          target: this,
          currentTarget: this,
          pointerId: pe
        }), this[be + "targetShape"] = null);
      }), ie || this._fire(re.pointermove, {
        evt: q,
        target: this,
        currentTarget: this,
        pointerId: this._changedPointerPositions[0].id
      });
    }
    _pointerup(q) {
      const re = K(q.type), be = fe(q.type);
      if (!re)
        return;
      this.setPointersPositions(q);
      const te = this[be + "ClickStartShape"], ne = this[be + "ClickEndShape"], ie = {};
      let xe = !1;
      this._changedPointerPositions.forEach((ge) => {
        const ae = l.getCapturedShape(ge.id) || this.getIntersection(ge);
        if (ae) {
          if (ae.releaseCapture(ge.id), ie[ae._id])
            return;
          ie[ae._id] = !0;
        }
        const pe = ge.id, ce = { evt: q, pointerId: pe };
        let Ee = !1;
        a.Konva["_" + be + "InDblClickWindow"] ? (Ee = !0, clearTimeout(this[be + "DblTimeout"])) : o.DD.justDragged || (a.Konva["_" + be + "InDblClickWindow"] = !0, clearTimeout(this[be + "DblTimeout"])), this[be + "DblTimeout"] = setTimeout(function() {
          a.Konva["_" + be + "InDblClickWindow"] = !1;
        }, a.Konva.dblClickWindow), ae && ae.isListening() ? (xe = !0, this[be + "ClickEndShape"] = ae, ae._fireAndBubble(re.pointerup, { ...ce }), a.Konva["_" + be + "ListenClick"] && te && te === ae && (ae._fireAndBubble(re.pointerclick, { ...ce }), Ee && ne && ne === ae && ae._fireAndBubble(re.pointerdblclick, { ...ce }))) : (this[be + "ClickEndShape"] = null, a.Konva["_" + be + "ListenClick"] && this._fire(re.pointerclick, {
          evt: q,
          target: this,
          currentTarget: this,
          pointerId: pe
        }), Ee && this._fire(re.pointerdblclick, {
          evt: q,
          target: this,
          currentTarget: this,
          pointerId: pe
        }));
      }), xe || this._fire(re.pointerup, {
        evt: q,
        target: this,
        currentTarget: this,
        pointerId: this._changedPointerPositions[0].id
      }), a.Konva["_" + be + "ListenClick"] = !1, q.cancelable && be !== "touch" && be !== "pointer" && q.preventDefault();
    }
    _contextmenu(q) {
      this.setPointersPositions(q);
      const re = this.getIntersection(this.getPointerPosition());
      re && re.isListening() ? re._fireAndBubble(V, { evt: q }) : this._fire(V, {
        evt: q,
        target: this,
        currentTarget: this
      });
    }
    _wheel(q) {
      this.setPointersPositions(q);
      const re = this.getIntersection(this.getPointerPosition());
      re && re.isListening() ? re._fireAndBubble(de, { evt: q }) : this._fire(de, {
        evt: q,
        target: this,
        currentTarget: this
      });
    }
    _pointercancel(q) {
      this.setPointersPositions(q);
      const re = l.getCapturedShape(q.pointerId) || this.getIntersection(this.getPointerPosition());
      re && re._fireAndBubble(M, l.createEvent(q)), l.releaseCapture(q.pointerId);
    }
    _lostpointercapture(q) {
      l.releaseCapture(q.pointerId);
    }
    setPointersPositions(q) {
      const re = this._getContentPosition();
      let be = null, te = null;
      q = q || window.event, q.touches !== void 0 ? (this._pointerPositions = [], this._changedPointerPositions = [], Array.prototype.forEach.call(q.touches, (ne) => {
        this._pointerPositions.push({
          id: ne.identifier,
          x: (ne.clientX - re.left) / re.scaleX,
          y: (ne.clientY - re.top) / re.scaleY
        });
      }), Array.prototype.forEach.call(q.changedTouches || q.touches, (ne) => {
        this._changedPointerPositions.push({
          id: ne.identifier,
          x: (ne.clientX - re.left) / re.scaleX,
          y: (ne.clientY - re.top) / re.scaleY
        });
      })) : (be = (q.clientX - re.left) / re.scaleX, te = (q.clientY - re.top) / re.scaleY, this.pointerPos = {
        x: be,
        y: te
      }, this._pointerPositions = [{ x: be, y: te, id: e.Util._getFirstPointerId(q) }], this._changedPointerPositions = [
        { x: be, y: te, id: e.Util._getFirstPointerId(q) }
      ]);
    }
    _setPointerPosition(q) {
      e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'), this.setPointersPositions(q);
    }
    _getContentPosition() {
      if (!this.content || !this.content.getBoundingClientRect)
        return {
          top: 0,
          left: 0,
          scaleX: 1,
          scaleY: 1
        };
      const q = this.content.getBoundingClientRect();
      return {
        top: q.top,
        left: q.left,
        scaleX: q.width / this.content.clientWidth || 1,
        scaleY: q.height / this.content.clientHeight || 1
      };
    }
    _buildDOM() {
      if (this.bufferCanvas = new n.SceneCanvas({
        width: this.width(),
        height: this.height()
      }), this.bufferHitCanvas = new n.HitCanvas({
        pixelRatio: 1,
        width: this.width(),
        height: this.height()
      }), !a.Konva.isBrowser)
        return;
      const q = this.container();
      if (!q)
        throw "Stage has no container. A container is required.";
      q.innerHTML = "", this.content = document.createElement("div"), this.content.style.position = "relative", this.content.style.userSelect = "none", this.content.className = "konvajs-content", this.content.setAttribute("role", "presentation"), q.appendChild(this.content), this._resizeDOM();
    }
    cache() {
      return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."), this;
    }
    clearCache() {
      return this;
    }
    batchDraw() {
      return this.getChildren().forEach(function(q) {
        q.batchDraw();
      }), this;
    }
  }
  r.Stage = De, De.prototype.nodeType = u, (0, s._registerNode)(De), t.Factory.addGetterSetter(De, "container"), a.Konva.isBrowser && document.addEventListener("visibilitychange", () => {
    r.stages.forEach((Ie) => {
      Ie.batchDraw();
    });
  });
})(mH);
var W1 = {}, ta = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), r.Shape = r.shapes = void 0;
  const e = Kr, t = ui, i = tn, a = ni, n = Pr, o = Kr, s = ih, l = "hasShadow", u = "shadowRGBA", c = "patternImage", f = "linearGradient", d = "radialGradient";
  let p;
  function v() {
    return p || (p = t.Util.createCanvasElement().getContext("2d"), p);
  }
  r.shapes = {};
  function y(F) {
    const O = this.attrs.fillRule;
    O ? F.fill(O) : F.fill();
  }
  function _(F) {
    F.stroke();
  }
  function w(F) {
    const O = this.attrs.fillRule;
    O ? F.fill(O) : F.fill();
  }
  function S(F) {
    F.stroke();
  }
  function x() {
    this._clearCache(l);
  }
  function E() {
    this._clearCache(u);
  }
  function M() {
    this._clearCache(c);
  }
  function k() {
    this._clearCache(f);
  }
  function P() {
    this._clearCache(d);
  }
  class L extends a.Node {
    constructor(O) {
      super(O);
      let U;
      for (; U = t.Util.getRandomColor(), !(U && !(U in r.shapes)); )
        ;
      this.colorKey = U, r.shapes[U] = this;
    }
    getContext() {
      return t.Util.warn("shape.getContext() method is deprecated. Please do not use it."), this.getLayer().getContext();
    }
    getCanvas() {
      return t.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."), this.getLayer().getCanvas();
    }
    getSceneFunc() {
      return this.attrs.sceneFunc || this._sceneFunc;
    }
    getHitFunc() {
      return this.attrs.hitFunc || this._hitFunc;
    }
    hasShadow() {
      return this._getCache(l, this._hasShadow);
    }
    _hasShadow() {
      return this.shadowEnabled() && this.shadowOpacity() !== 0 && !!(this.shadowColor() || this.shadowBlur() || this.shadowOffsetX() || this.shadowOffsetY());
    }
    _getFillPattern() {
      return this._getCache(c, this.__getFillPattern);
    }
    __getFillPattern() {
      if (this.fillPatternImage()) {
        const U = v().createPattern(this.fillPatternImage(), this.fillPatternRepeat() || "repeat");
        if (U && U.setTransform) {
          const V = new t.Transform();
          V.translate(this.fillPatternX(), this.fillPatternY()), V.rotate(e.Konva.getAngle(this.fillPatternRotation())), V.scale(this.fillPatternScaleX(), this.fillPatternScaleY()), V.translate(-1 * this.fillPatternOffsetX(), -1 * this.fillPatternOffsetY());
          const G = V.getMatrix(), Z = typeof DOMMatrix > "u" ? {
            a: G[0],
            b: G[1],
            c: G[2],
            d: G[3],
            e: G[4],
            f: G[5]
          } : new DOMMatrix(G);
          U.setTransform(Z);
        }
        return U;
      }
    }
    _getLinearGradient() {
      return this._getCache(f, this.__getLinearGradient);
    }
    __getLinearGradient() {
      const O = this.fillLinearGradientColorStops();
      if (O) {
        const U = v(), V = this.fillLinearGradientStartPoint(), G = this.fillLinearGradientEndPoint(), Z = U.createLinearGradient(V.x, V.y, G.x, G.y);
        for (let Q = 0; Q < O.length; Q += 2)
          Z.addColorStop(O[Q], O[Q + 1]);
        return Z;
      }
    }
    _getRadialGradient() {
      return this._getCache(d, this.__getRadialGradient);
    }
    __getRadialGradient() {
      const O = this.fillRadialGradientColorStops();
      if (O) {
        const U = v(), V = this.fillRadialGradientStartPoint(), G = this.fillRadialGradientEndPoint(), Z = U.createRadialGradient(V.x, V.y, this.fillRadialGradientStartRadius(), G.x, G.y, this.fillRadialGradientEndRadius());
        for (let Q = 0; Q < O.length; Q += 2)
          Z.addColorStop(O[Q], O[Q + 1]);
        return Z;
      }
    }
    getShadowRGBA() {
      return this._getCache(u, this._getShadowRGBA);
    }
    _getShadowRGBA() {
      if (!this.hasShadow())
        return;
      const O = t.Util.colorToRGBA(this.shadowColor());
      if (O)
        return "rgba(" + O.r + "," + O.g + "," + O.b + "," + O.a * (this.shadowOpacity() || 1) + ")";
    }
    hasFill() {
      return this._calculate("hasFill", [
        "fillEnabled",
        "fill",
        "fillPatternImage",
        "fillLinearGradientColorStops",
        "fillRadialGradientColorStops"
      ], () => this.fillEnabled() && !!(this.fill() || this.fillPatternImage() || this.fillLinearGradientColorStops() || this.fillRadialGradientColorStops()));
    }
    hasStroke() {
      return this._calculate("hasStroke", [
        "strokeEnabled",
        "strokeWidth",
        "stroke",
        "strokeLinearGradientColorStops"
      ], () => this.strokeEnabled() && this.strokeWidth() && !!(this.stroke() || this.strokeLinearGradientColorStops()));
    }
    hasHitStroke() {
      const O = this.hitStrokeWidth();
      return O === "auto" ? this.hasStroke() : this.strokeEnabled() && !!O;
    }
    intersects(O) {
      const U = this.getStage();
      if (!U)
        return !1;
      const V = U.bufferHitCanvas;
      return V.getContext().clear(), this.drawHit(V, void 0, !0), V.context.getImageData(Math.round(O.x), Math.round(O.y), 1, 1).data[3] > 0;
    }
    destroy() {
      return a.Node.prototype.destroy.call(this), delete r.shapes[this.colorKey], delete this.colorKey, this;
    }
    _useBufferCanvas(O) {
      var U;
      if (!((U = this.attrs.perfectDrawEnabled) !== null && U !== void 0 ? U : !0))
        return !1;
      const G = O || this.hasFill(), Z = this.hasStroke(), Q = this.getAbsoluteOpacity() !== 1;
      if (G && Z && Q)
        return !0;
      const se = this.hasShadow(), de = this.shadowForStrokeEnabled();
      return !!(G && Z && se && de);
    }
    setStrokeHitEnabled(O) {
      t.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."), O ? this.hitStrokeWidth("auto") : this.hitStrokeWidth(0);
    }
    getStrokeHitEnabled() {
      return this.hitStrokeWidth() !== 0;
    }
    getSelfRect() {
      const O = this.size();
      return {
        x: this._centroid ? -O.width / 2 : 0,
        y: this._centroid ? -O.height / 2 : 0,
        width: O.width,
        height: O.height
      };
    }
    getClientRect(O = {}) {
      let U = !1, V = this.getParent();
      for (; V; ) {
        if (V.isCached()) {
          U = !0;
          break;
        }
        V = V.getParent();
      }
      const G = O.skipTransform, Z = O.relativeTo || U && this.getStage() || void 0, Q = this.getSelfRect(), de = !O.skipStroke && this.hasStroke() && this.strokeWidth() || 0, le = Q.width + de, Se = Q.height + de, he = !O.skipShadow && this.hasShadow(), fe = he ? this.shadowOffsetX() : 0, K = he ? this.shadowOffsetY() : 0, we = le + Math.abs(fe), ve = Se + Math.abs(K), De = he && this.shadowBlur() || 0, Ie = we + De * 2, q = ve + De * 2, re = {
        width: Ie,
        height: q,
        x: -(de / 2 + De) + Math.min(fe, 0) + Q.x,
        y: -(de / 2 + De) + Math.min(K, 0) + Q.y
      };
      return G ? re : this._transformedRect(re, Z);
    }
    drawScene(O, U, V) {
      const G = this.getLayer();
      let Z = O || G.getCanvas(), Q = Z.getContext(), se = this._getCanvasCache(), de = this.getSceneFunc(), le = this.hasShadow(), Se, he;
      const fe = Z.isCache, K = U === this;
      if (!this.isVisible() && !K)
        return this;
      if (se) {
        Q.save();
        const ve = this.getAbsoluteTransform(U).getMatrix();
        return Q.transform(ve[0], ve[1], ve[2], ve[3], ve[4], ve[5]), this._drawCachedSceneCanvas(Q), Q.restore(), this;
      }
      if (!de)
        return this;
      if (Q.save(), this._useBufferCanvas() && !fe) {
        Se = this.getStage();
        const ve = V || Se.bufferCanvas;
        he = ve.getContext(), he.clear(), he.save(), he._applyLineJoin(this);
        var we = this.getAbsoluteTransform(U).getMatrix();
        he.transform(we[0], we[1], we[2], we[3], we[4], we[5]), de.call(this, he, this), he.restore();
        const De = ve.pixelRatio;
        le && Q._applyShadow(this), Q._applyOpacity(this), Q._applyGlobalCompositeOperation(this), Q.drawImage(ve._canvas, 0, 0, ve.width / De, ve.height / De);
      } else {
        if (Q._applyLineJoin(this), !K) {
          var we = this.getAbsoluteTransform(U).getMatrix();
          Q.transform(we[0], we[1], we[2], we[3], we[4], we[5]), Q._applyOpacity(this), Q._applyGlobalCompositeOperation(this);
        }
        le && Q._applyShadow(this), de.call(this, Q, this);
      }
      return Q.restore(), this;
    }
    drawHit(O, U, V = !1) {
      if (!this.shouldDrawHit(U, V))
        return this;
      const G = this.getLayer(), Z = O || G.hitCanvas, Q = Z && Z.getContext(), se = this.hitFunc() || this.sceneFunc(), de = this._getCanvasCache(), le = de && de.hit;
      if (this.colorKey || t.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"), le) {
        Q.save();
        const he = this.getAbsoluteTransform(U).getMatrix();
        return Q.transform(he[0], he[1], he[2], he[3], he[4], he[5]), this._drawCachedHitCanvas(Q), Q.restore(), this;
      }
      if (!se)
        return this;
      if (Q.save(), Q._applyLineJoin(this), !(this === U)) {
        const he = this.getAbsoluteTransform(U).getMatrix();
        Q.transform(he[0], he[1], he[2], he[3], he[4], he[5]);
      }
      return se.call(this, Q, this), Q.restore(), this;
    }
    drawHitFromCache(O = 0) {
      const U = this._getCanvasCache(), V = this._getCachedSceneCanvas(), G = U.hit, Z = G.getContext(), Q = G.getWidth(), se = G.getHeight();
      Z.clear(), Z.drawImage(V._canvas, 0, 0, Q, se);
      try {
        const de = Z.getImageData(0, 0, Q, se), le = de.data, Se = le.length, he = t.Util._hexToRgb(this.colorKey);
        for (let fe = 0; fe < Se; fe += 4)
          le[fe + 3] > O ? (le[fe] = he.r, le[fe + 1] = he.g, le[fe + 2] = he.b, le[fe + 3] = 255) : le[fe + 3] = 0;
        Z.putImageData(de, 0, 0);
      } catch (de) {
        t.Util.error("Unable to draw hit graph from cached scene canvas. " + de.message);
      }
      return this;
    }
    hasPointerCapture(O) {
      return s.hasPointerCapture(O, this);
    }
    setPointerCapture(O) {
      s.setPointerCapture(O, this);
    }
    releaseCapture(O) {
      s.releaseCapture(O, this);
    }
  }
  r.Shape = L, L.prototype._fillFunc = y, L.prototype._strokeFunc = _, L.prototype._fillFuncHit = w, L.prototype._strokeFuncHit = S, L.prototype._centroid = !1, L.prototype.nodeType = "Shape", (0, o._registerNode)(L), L.prototype.eventListeners = {}, L.prototype.on.call(L.prototype, "shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva", x), L.prototype.on.call(L.prototype, "shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva", E), L.prototype.on.call(L.prototype, "fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva", M), L.prototype.on.call(L.prototype, "fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva", k), L.prototype.on.call(L.prototype, "fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva", P), i.Factory.addGetterSetter(L, "stroke", void 0, (0, n.getStringOrGradientValidator)()), i.Factory.addGetterSetter(L, "strokeWidth", 2, (0, n.getNumberValidator)()), i.Factory.addGetterSetter(L, "fillAfterStrokeEnabled", !1), i.Factory.addGetterSetter(L, "hitStrokeWidth", "auto", (0, n.getNumberOrAutoValidator)()), i.Factory.addGetterSetter(L, "strokeHitEnabled", !0, (0, n.getBooleanValidator)()), i.Factory.addGetterSetter(L, "perfectDrawEnabled", !0, (0, n.getBooleanValidator)()), i.Factory.addGetterSetter(L, "shadowForStrokeEnabled", !0, (0, n.getBooleanValidator)()), i.Factory.addGetterSetter(L, "lineJoin"), i.Factory.addGetterSetter(L, "lineCap"), i.Factory.addGetterSetter(L, "sceneFunc"), i.Factory.addGetterSetter(L, "hitFunc"), i.Factory.addGetterSetter(L, "dash"), i.Factory.addGetterSetter(L, "dashOffset", 0, (0, n.getNumberValidator)()), i.Factory.addGetterSetter(L, "shadowColor", void 0, (0, n.getStringValidator)()), i.Factory.addGetterSetter(L, "shadowBlur", 0, (0, n.getNumberValidator)()), i.Factory.addGetterSetter(L, "shadowOpacity", 1, (0, n.getNumberValidator)()), i.Factory.addComponentsGetterSetter(L, "shadowOffset", ["x", "y"]), i.Factory.addGetterSetter(L, "shadowOffsetX", 0, (0, n.getNumberValidator)()), i.Factory.addGetterSetter(L, "shadowOffsetY", 0, (0, n.getNumberValidator)()), i.Factory.addGetterSetter(L, "fillPatternImage"), i.Factory.addGetterSetter(L, "fill", void 0, (0, n.getStringOrGradientValidator)()), i.Factory.addGetterSetter(L, "fillPatternX", 0, (0, n.getNumberValidator)()), i.Factory.addGetterSetter(L, "fillPatternY", 0, (0, n.getNumberValidator)()), i.Factory.addGetterSetter(L, "fillLinearGradientColorStops"), i.Factory.addGetterSetter(L, "strokeLinearGradientColorStops"), i.Factory.addGetterSetter(L, "fillRadialGradientStartRadius", 0), i.Factory.addGetterSetter(L, "fillRadialGradientEndRadius", 0), i.Factory.addGetterSetter(L, "fillRadialGradientColorStops"), i.Factory.addGetterSetter(L, "fillPatternRepeat", "repeat"), i.Factory.addGetterSetter(L, "fillEnabled", !0), i.Factory.addGetterSetter(L, "strokeEnabled", !0), i.Factory.addGetterSetter(L, "shadowEnabled", !0), i.Factory.addGetterSetter(L, "dashEnabled", !0), i.Factory.addGetterSetter(L, "strokeScaleEnabled", !0), i.Factory.addGetterSetter(L, "fillPriority", "color"), i.Factory.addComponentsGetterSetter(L, "fillPatternOffset", ["x", "y"]), i.Factory.addGetterSetter(L, "fillPatternOffsetX", 0, (0, n.getNumberValidator)()), i.Factory.addGetterSetter(L, "fillPatternOffsetY", 0, (0, n.getNumberValidator)()), i.Factory.addComponentsGetterSetter(L, "fillPatternScale", ["x", "y"]), i.Factory.addGetterSetter(L, "fillPatternScaleX", 1, (0, n.getNumberValidator)()), i.Factory.addGetterSetter(L, "fillPatternScaleY", 1, (0, n.getNumberValidator)()), i.Factory.addComponentsGetterSetter(L, "fillLinearGradientStartPoint", [
    "x",
    "y"
  ]), i.Factory.addComponentsGetterSetter(L, "strokeLinearGradientStartPoint", [
    "x",
    "y"
  ]), i.Factory.addGetterSetter(L, "fillLinearGradientStartPointX", 0), i.Factory.addGetterSetter(L, "strokeLinearGradientStartPointX", 0), i.Factory.addGetterSetter(L, "fillLinearGradientStartPointY", 0), i.Factory.addGetterSetter(L, "strokeLinearGradientStartPointY", 0), i.Factory.addComponentsGetterSetter(L, "fillLinearGradientEndPoint", [
    "x",
    "y"
  ]), i.Factory.addComponentsGetterSetter(L, "strokeLinearGradientEndPoint", [
    "x",
    "y"
  ]), i.Factory.addGetterSetter(L, "fillLinearGradientEndPointX", 0), i.Factory.addGetterSetter(L, "strokeLinearGradientEndPointX", 0), i.Factory.addGetterSetter(L, "fillLinearGradientEndPointY", 0), i.Factory.addGetterSetter(L, "strokeLinearGradientEndPointY", 0), i.Factory.addComponentsGetterSetter(L, "fillRadialGradientStartPoint", [
    "x",
    "y"
  ]), i.Factory.addGetterSetter(L, "fillRadialGradientStartPointX", 0), i.Factory.addGetterSetter(L, "fillRadialGradientStartPointY", 0), i.Factory.addComponentsGetterSetter(L, "fillRadialGradientEndPoint", [
    "x",
    "y"
  ]), i.Factory.addGetterSetter(L, "fillRadialGradientEndPointX", 0), i.Factory.addGetterSetter(L, "fillRadialGradientEndPointY", 0), i.Factory.addGetterSetter(L, "fillPatternRotation", 0), i.Factory.addGetterSetter(L, "fillRule", void 0, (0, n.getStringValidator)()), i.Factory.backCompat(L, {
    dashArray: "dash",
    getDashArray: "getDash",
    setDashArray: "getDash",
    drawFunc: "sceneFunc",
    getDrawFunc: "getSceneFunc",
    setDrawFunc: "setSceneFunc",
    drawHitFunc: "hitFunc",
    getDrawHitFunc: "getHitFunc",
    setDrawHitFunc: "setHitFunc"
  });
})(ta);
Object.defineProperty(W1, "__esModule", { value: !0 });
W1.Layer = void 0;
const Kl = ui, G4 = hd, Zd = ni, n8 = tn, ER = Rs, cse = Pr, hse = ta, fse = Kr, dse = "#", pse = "beforeDraw", vse = "draw", bH = [
  { x: 0, y: 0 },
  { x: -1, y: -1 },
  { x: 1, y: -1 },
  { x: 1, y: 1 },
  { x: -1, y: 1 }
], gse = bH.length;
let T0 = class extends G4.Container {
  constructor(e) {
    super(e), this.canvas = new ER.SceneCanvas(), this.hitCanvas = new ER.HitCanvas({
      pixelRatio: 1
    }), this._waitingForDraw = !1, this.on("visibleChange.konva", this._checkVisibility), this._checkVisibility(), this.on("imageSmoothingEnabledChange.konva", this._setSmoothEnabled), this._setSmoothEnabled();
  }
  createPNGStream() {
    return this.canvas._canvas.createPNGStream();
  }
  getCanvas() {
    return this.canvas;
  }
  getNativeCanvasElement() {
    return this.canvas._canvas;
  }
  getHitCanvas() {
    return this.hitCanvas;
  }
  getContext() {
    return this.getCanvas().getContext();
  }
  clear(e) {
    return this.getContext().clear(e), this.getHitCanvas().getContext().clear(e), this;
  }
  setZIndex(e) {
    super.setZIndex(e);
    const t = this.getStage();
    return t && t.content && (t.content.removeChild(this.getNativeCanvasElement()), e < t.children.length - 1 ? t.content.insertBefore(this.getNativeCanvasElement(), t.children[e + 1].getCanvas()._canvas) : t.content.appendChild(this.getNativeCanvasElement())), this;
  }
  moveToTop() {
    Zd.Node.prototype.moveToTop.call(this);
    const e = this.getStage();
    return e && e.content && (e.content.removeChild(this.getNativeCanvasElement()), e.content.appendChild(this.getNativeCanvasElement())), !0;
  }
  moveUp() {
    if (!Zd.Node.prototype.moveUp.call(this))
      return !1;
    const t = this.getStage();
    return !t || !t.content ? !1 : (t.content.removeChild(this.getNativeCanvasElement()), this.index < t.children.length - 1 ? t.content.insertBefore(this.getNativeCanvasElement(), t.children[this.index + 1].getCanvas()._canvas) : t.content.appendChild(this.getNativeCanvasElement()), !0);
  }
  moveDown() {
    if (Zd.Node.prototype.moveDown.call(this)) {
      const e = this.getStage();
      if (e) {
        const t = e.children;
        e.content && (e.content.removeChild(this.getNativeCanvasElement()), e.content.insertBefore(this.getNativeCanvasElement(), t[this.index + 1].getCanvas()._canvas));
      }
      return !0;
    }
    return !1;
  }
  moveToBottom() {
    if (Zd.Node.prototype.moveToBottom.call(this)) {
      const e = this.getStage();
      if (e) {
        const t = e.children;
        e.content && (e.content.removeChild(this.getNativeCanvasElement()), e.content.insertBefore(this.getNativeCanvasElement(), t[1].getCanvas()._canvas));
      }
      return !0;
    }
    return !1;
  }
  getLayer() {
    return this;
  }
  remove() {
    const e = this.getNativeCanvasElement();
    return Zd.Node.prototype.remove.call(this), e && e.parentNode && Kl.Util._isInDocument(e) && e.parentNode.removeChild(e), this;
  }
  getStage() {
    return this.parent;
  }
  setSize({ width: e, height: t }) {
    return this.canvas.setSize(e, t), this.hitCanvas.setSize(e, t), this._setSmoothEnabled(), this;
  }
  _validateAdd(e) {
    const t = e.getType();
    t !== "Group" && t !== "Shape" && Kl.Util.throw("You may only add groups and shapes to a layer.");
  }
  _toKonvaCanvas(e) {
    return e = e || {}, e.width = e.width || this.getWidth(), e.height = e.height || this.getHeight(), e.x = e.x !== void 0 ? e.x : this.x(), e.y = e.y !== void 0 ? e.y : this.y(), Zd.Node.prototype._toKonvaCanvas.call(this, e);
  }
  _checkVisibility() {
    this.visible() ? this.canvas._canvas.style.display = "block" : this.canvas._canvas.style.display = "none";
  }
  _setSmoothEnabled() {
    this.getContext()._context.imageSmoothingEnabled = this.imageSmoothingEnabled();
  }
  getWidth() {
    if (this.parent)
      return this.parent.width();
  }
  setWidth() {
    Kl.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.');
  }
  getHeight() {
    if (this.parent)
      return this.parent.height();
  }
  setHeight() {
    Kl.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.');
  }
  batchDraw() {
    return this._waitingForDraw || (this._waitingForDraw = !0, Kl.Util.requestAnimFrame(() => {
      this.draw(), this._waitingForDraw = !1;
    })), this;
  }
  getIntersection(e) {
    if (!this.isListening() || !this.isVisible())
      return null;
    let t = 1, i = !1;
    for (; ; ) {
      for (let a = 0; a < gse; a++) {
        const n = bH[a], o = this._getIntersection({
          x: e.x + n.x * t,
          y: e.y + n.y * t
        }), s = o.shape;
        if (s)
          return s;
        if (i = !!o.antialiased, !o.antialiased)
          break;
      }
      if (i)
        t += 1;
      else
        return null;
    }
  }
  _getIntersection(e) {
    const t = this.hitCanvas.pixelRatio, i = this.hitCanvas.context.getImageData(Math.round(e.x * t), Math.round(e.y * t), 1, 1).data, a = i[3];
    if (a === 255) {
      const n = Kl.Util._rgbToHex(i[0], i[1], i[2]), o = hse.shapes[dse + n];
      return o ? {
        shape: o
      } : {
        antialiased: !0
      };
    } else if (a > 0)
      return {
        antialiased: !0
      };
    return {};
  }
  drawScene(e, t) {
    const i = this.getLayer(), a = e || i && i.getCanvas();
    return this._fire(pse, {
      node: this
    }), this.clearBeforeDraw() && a.getContext().clear(), G4.Container.prototype.drawScene.call(this, a, t), this._fire(vse, {
      node: this
    }), this;
  }
  drawHit(e, t) {
    const i = this.getLayer(), a = e || i && i.hitCanvas;
    return i && i.clearBeforeDraw() && i.getHitCanvas().getContext().clear(), G4.Container.prototype.drawHit.call(this, a, t), this;
  }
  enableHitGraph() {
    return this.hitGraphEnabled(!0), this;
  }
  disableHitGraph() {
    return this.hitGraphEnabled(!1), this;
  }
  setHitGraphEnabled(e) {
    Kl.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."), this.listening(e);
  }
  getHitGraphEnabled(e) {
    return Kl.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."), this.listening();
  }
  toggleHitCanvas() {
    if (!this.parent || !this.parent.content)
      return;
    const e = this.parent;
    !!this.hitCanvas._canvas.parentNode ? e.content.removeChild(this.hitCanvas._canvas) : e.content.appendChild(this.hitCanvas._canvas);
  }
  destroy() {
    return Kl.Util.releaseCanvas(this.getNativeCanvasElement(), this.getHitCanvas()._canvas), super.destroy();
  }
};
W1.Layer = T0;
T0.prototype.nodeType = "Layer";
(0, fse._registerNode)(T0);
n8.Factory.addGetterSetter(T0, "imageSmoothingEnabled", !0);
n8.Factory.addGetterSetter(T0, "clearBeforeDraw", !0);
n8.Factory.addGetterSetter(T0, "hitGraphEnabled", !0, (0, cse.getBooleanValidator)());
var mw = {};
Object.defineProperty(mw, "__esModule", { value: !0 });
mw.FastLayer = void 0;
const mse = ui, yse = W1, _se = Kr;
class i8 extends yse.Layer {
  constructor(e) {
    super(e), this.listening(!1), mse.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.');
  }
}
mw.FastLayer = i8;
i8.prototype.nodeType = "FastLayer";
(0, _se._registerNode)(i8);
var C0 = {};
Object.defineProperty(C0, "__esModule", { value: !0 });
C0.Group = void 0;
const bse = ui, wse = hd, Sse = Kr;
let a8 = class extends wse.Container {
  _validateAdd(e) {
    const t = e.getType();
    t !== "Group" && t !== "Shape" && bse.Util.throw("You may only add groups and shapes to groups.");
  }
};
C0.Group = a8;
a8.prototype.nodeType = "Group";
(0, Sse._registerNode)(a8);
var A0 = {};
Object.defineProperty(A0, "__esModule", { value: !0 });
A0.Animation = void 0;
const z4 = Kr, DR = ui, W4 = function() {
  return z4.glob.performance && z4.glob.performance.now ? function() {
    return z4.glob.performance.now();
  } : function() {
    return (/* @__PURE__ */ new Date()).getTime();
  };
}();
let yw = class Mp {
  constructor(e, t) {
    this.id = Mp.animIdCounter++, this.frame = {
      time: 0,
      timeDiff: 0,
      lastTime: W4(),
      frameRate: 0
    }, this.func = e, this.setLayers(t);
  }
  setLayers(e) {
    let t = [];
    return e && (t = Array.isArray(e) ? e : [e]), this.layers = t, this;
  }
  getLayers() {
    return this.layers;
  }
  addLayer(e) {
    const t = this.layers, i = t.length;
    for (let a = 0; a < i; a++)
      if (t[a]._id === e._id)
        return !1;
    return this.layers.push(e), !0;
  }
  isRunning() {
    const t = Mp.animations, i = t.length;
    for (let a = 0; a < i; a++)
      if (t[a].id === this.id)
        return !0;
    return !1;
  }
  start() {
    return this.stop(), this.frame.timeDiff = 0, this.frame.lastTime = W4(), Mp._addAnimation(this), this;
  }
  stop() {
    return Mp._removeAnimation(this), this;
  }
  _updateFrameObject(e) {
    this.frame.timeDiff = e - this.frame.lastTime, this.frame.lastTime = e, this.frame.time += this.frame.timeDiff, this.frame.frameRate = 1e3 / this.frame.timeDiff;
  }
  static _addAnimation(e) {
    this.animations.push(e), this._handleAnimation();
  }
  static _removeAnimation(e) {
    const t = e.id, i = this.animations, a = i.length;
    for (let n = 0; n < a; n++)
      if (i[n].id === t) {
        this.animations.splice(n, 1);
        break;
      }
  }
  static _runFrames() {
    const e = {}, t = this.animations;
    for (let i = 0; i < t.length; i++) {
      const a = t[i], n = a.layers, o = a.func;
      a._updateFrameObject(W4());
      const s = n.length;
      let l;
      if (o ? l = o.call(a, a.frame) !== !1 : l = !0, !!l)
        for (let u = 0; u < s; u++) {
          const c = n[u];
          c._id !== void 0 && (e[c._id] = c);
        }
    }
    for (const i in e)
      e.hasOwnProperty(i) && e[i].batchDraw();
  }
  static _animationLoop() {
    const e = Mp;
    e.animations.length ? (e._runFrames(), DR.Util.requestAnimFrame(e._animationLoop)) : e.animRunning = !1;
  }
  static _handleAnimation() {
    this.animRunning || (this.animRunning = !0, DR.Util.requestAnimFrame(this._animationLoop));
  }
};
A0.Animation = yw;
yw.animations = [];
yw.animIdCounter = 0;
yw.animRunning = !1;
var wH = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), r.Easings = r.Tween = void 0;
  const e = ui, t = A0, i = ni, a = Kr, n = {
    node: 1,
    duration: 1,
    easing: 1,
    onFinish: 1,
    yoyo: 1
  }, o = 1, s = 2, l = 3, u = ["fill", "stroke", "shadowColor"];
  let c = 0;
  class f {
    constructor(v, y, _, w, S, x, E) {
      this.prop = v, this.propFunc = y, this.begin = w, this._pos = w, this.duration = x, this._change = 0, this.prevPos = 0, this.yoyo = E, this._time = 0, this._position = 0, this._startTime = 0, this._finish = 0, this.func = _, this._change = S - this.begin, this.pause();
    }
    fire(v) {
      const y = this[v];
      y && y();
    }
    setTime(v) {
      v > this.duration ? this.yoyo ? (this._time = this.duration, this.reverse()) : this.finish() : v < 0 ? this.yoyo ? (this._time = 0, this.play()) : this.reset() : (this._time = v, this.update());
    }
    getTime() {
      return this._time;
    }
    setPosition(v) {
      this.prevPos = this._pos, this.propFunc(v), this._pos = v;
    }
    getPosition(v) {
      return v === void 0 && (v = this._time), this.func(v, this.begin, this._change, this.duration);
    }
    play() {
      this.state = s, this._startTime = this.getTimer() - this._time, this.onEnterFrame(), this.fire("onPlay");
    }
    reverse() {
      this.state = l, this._time = this.duration - this._time, this._startTime = this.getTimer() - this._time, this.onEnterFrame(), this.fire("onReverse");
    }
    seek(v) {
      this.pause(), this._time = v, this.update(), this.fire("onSeek");
    }
    reset() {
      this.pause(), this._time = 0, this.update(), this.fire("onReset");
    }
    finish() {
      this.pause(), this._time = this.duration, this.update(), this.fire("onFinish");
    }
    update() {
      this.setPosition(this.getPosition(this._time)), this.fire("onUpdate");
    }
    onEnterFrame() {
      const v = this.getTimer() - this._startTime;
      this.state === s ? this.setTime(v) : this.state === l && this.setTime(this.duration - v);
    }
    pause() {
      this.state = o, this.fire("onPause");
    }
    getTimer() {
      return (/* @__PURE__ */ new Date()).getTime();
    }
  }
  class d {
    constructor(v) {
      const y = this, _ = v.node, w = _._id, S = v.easing || r.Easings.Linear, x = !!v.yoyo;
      let E, M;
      typeof v.duration > "u" ? E = 0.3 : v.duration === 0 ? E = 1e-3 : E = v.duration, this.node = _, this._id = c++;
      const k = _.getLayer() || (_ instanceof a.Konva.Stage ? _.getLayers() : null);
      k || e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."), this.anim = new t.Animation(function() {
        y.tween.onEnterFrame();
      }, k), this.tween = new f(M, function(P) {
        y._tweenFunc(P);
      }, S, 0, 1, E * 1e3, x), this._addListeners(), d.attrs[w] || (d.attrs[w] = {}), d.attrs[w][this._id] || (d.attrs[w][this._id] = {}), d.tweens[w] || (d.tweens[w] = {});
      for (M in v)
        n[M] === void 0 && this._addAttr(M, v[M]);
      this.reset(), this.onFinish = v.onFinish, this.onReset = v.onReset, this.onUpdate = v.onUpdate;
    }
    _addAttr(v, y) {
      const _ = this.node, w = _._id;
      let S, x, E, M, k;
      const P = d.tweens[w][v];
      P && delete d.attrs[w][P][v];
      let L = _.getAttr(v);
      if (e.Util._isArray(y))
        if (S = [], x = Math.max(y.length, L.length), v === "points" && y.length !== L.length && (y.length > L.length ? (M = L, L = e.Util._prepareArrayForTween(L, y, _.closed())) : (E = y, y = e.Util._prepareArrayForTween(y, L, _.closed()))), v.indexOf("fill") === 0)
          for (let F = 0; F < x; F++)
            if (F % 2 === 0)
              S.push(y[F] - L[F]);
            else {
              const O = e.Util.colorToRGBA(L[F]);
              k = e.Util.colorToRGBA(y[F]), L[F] = O, S.push({
                r: k.r - O.r,
                g: k.g - O.g,
                b: k.b - O.b,
                a: k.a - O.a
              });
            }
        else
          for (let F = 0; F < x; F++)
            S.push(y[F] - L[F]);
      else
        u.indexOf(v) !== -1 ? (L = e.Util.colorToRGBA(L), k = e.Util.colorToRGBA(y), S = {
          r: k.r - L.r,
          g: k.g - L.g,
          b: k.b - L.b,
          a: k.a - L.a
        }) : S = y - L;
      d.attrs[w][this._id][v] = {
        start: L,
        diff: S,
        end: y,
        trueEnd: E,
        trueStart: M
      }, d.tweens[w][v] = this._id;
    }
    _tweenFunc(v) {
      const y = this.node, _ = d.attrs[y._id][this._id];
      let w, S, x, E, M, k, P, L;
      for (w in _) {
        if (S = _[w], x = S.start, E = S.diff, L = S.end, e.Util._isArray(x))
          if (M = [], P = Math.max(x.length, L.length), w.indexOf("fill") === 0)
            for (k = 0; k < P; k++)
              k % 2 === 0 ? M.push((x[k] || 0) + E[k] * v) : M.push("rgba(" + Math.round(x[k].r + E[k].r * v) + "," + Math.round(x[k].g + E[k].g * v) + "," + Math.round(x[k].b + E[k].b * v) + "," + (x[k].a + E[k].a * v) + ")");
          else
            for (k = 0; k < P; k++)
              M.push((x[k] || 0) + E[k] * v);
        else
          u.indexOf(w) !== -1 ? M = "rgba(" + Math.round(x.r + E.r * v) + "," + Math.round(x.g + E.g * v) + "," + Math.round(x.b + E.b * v) + "," + (x.a + E.a * v) + ")" : M = x + E * v;
        y.setAttr(w, M);
      }
    }
    _addListeners() {
      this.tween.onPlay = () => {
        this.anim.start();
      }, this.tween.onReverse = () => {
        this.anim.start();
      }, this.tween.onPause = () => {
        this.anim.stop();
      }, this.tween.onFinish = () => {
        const v = this.node, y = d.attrs[v._id][this._id];
        y.points && y.points.trueEnd && v.setAttr("points", y.points.trueEnd), this.onFinish && this.onFinish.call(this);
      }, this.tween.onReset = () => {
        const v = this.node, y = d.attrs[v._id][this._id];
        y.points && y.points.trueStart && v.points(y.points.trueStart), this.onReset && this.onReset();
      }, this.tween.onUpdate = () => {
        this.onUpdate && this.onUpdate.call(this);
      };
    }
    play() {
      return this.tween.play(), this;
    }
    reverse() {
      return this.tween.reverse(), this;
    }
    reset() {
      return this.tween.reset(), this;
    }
    seek(v) {
      return this.tween.seek(v * 1e3), this;
    }
    pause() {
      return this.tween.pause(), this;
    }
    finish() {
      return this.tween.finish(), this;
    }
    destroy() {
      const v = this.node._id, y = this._id, _ = d.tweens[v];
      this.pause();
      for (const w in _)
        delete d.tweens[v][w];
      delete d.attrs[v][y];
    }
  }
  r.Tween = d, d.attrs = {}, d.tweens = {}, i.Node.prototype.to = function(p) {
    const v = p.onFinish;
    p.node = this, p.onFinish = function() {
      this.destroy(), v && v();
    }, new d(p).play();
  }, r.Easings = {
    BackEaseIn(p, v, y, _) {
      return y * (p /= _) * p * ((1.70158 + 1) * p - 1.70158) + v;
    },
    BackEaseOut(p, v, y, _) {
      return y * ((p = p / _ - 1) * p * ((1.70158 + 1) * p + 1.70158) + 1) + v;
    },
    BackEaseInOut(p, v, y, _) {
      let w = 1.70158;
      return (p /= _ / 2) < 1 ? y / 2 * (p * p * (((w *= 1.525) + 1) * p - w)) + v : y / 2 * ((p -= 2) * p * (((w *= 1.525) + 1) * p + w) + 2) + v;
    },
    ElasticEaseIn(p, v, y, _, w, S) {
      let x = 0;
      return p === 0 ? v : (p /= _) === 1 ? v + y : (S || (S = _ * 0.3), !w || w < Math.abs(y) ? (w = y, x = S / 4) : x = S / (2 * Math.PI) * Math.asin(y / w), -(w * Math.pow(2, 10 * (p -= 1)) * Math.sin((p * _ - x) * (2 * Math.PI) / S)) + v);
    },
    ElasticEaseOut(p, v, y, _, w, S) {
      let x = 0;
      return p === 0 ? v : (p /= _) === 1 ? v + y : (S || (S = _ * 0.3), !w || w < Math.abs(y) ? (w = y, x = S / 4) : x = S / (2 * Math.PI) * Math.asin(y / w), w * Math.pow(2, -10 * p) * Math.sin((p * _ - x) * (2 * Math.PI) / S) + y + v);
    },
    ElasticEaseInOut(p, v, y, _, w, S) {
      let x = 0;
      return p === 0 ? v : (p /= _ / 2) === 2 ? v + y : (S || (S = _ * (0.3 * 1.5)), !w || w < Math.abs(y) ? (w = y, x = S / 4) : x = S / (2 * Math.PI) * Math.asin(y / w), p < 1 ? -0.5 * (w * Math.pow(2, 10 * (p -= 1)) * Math.sin((p * _ - x) * (2 * Math.PI) / S)) + v : w * Math.pow(2, -10 * (p -= 1)) * Math.sin((p * _ - x) * (2 * Math.PI) / S) * 0.5 + y + v);
    },
    BounceEaseOut(p, v, y, _) {
      return (p /= _) < 1 / 2.75 ? y * (7.5625 * p * p) + v : p < 2 / 2.75 ? y * (7.5625 * (p -= 1.5 / 2.75) * p + 0.75) + v : p < 2.5 / 2.75 ? y * (7.5625 * (p -= 2.25 / 2.75) * p + 0.9375) + v : y * (7.5625 * (p -= 2.625 / 2.75) * p + 0.984375) + v;
    },
    BounceEaseIn(p, v, y, _) {
      return y - r.Easings.BounceEaseOut(_ - p, 0, y, _) + v;
    },
    BounceEaseInOut(p, v, y, _) {
      return p < _ / 2 ? r.Easings.BounceEaseIn(p * 2, 0, y, _) * 0.5 + v : r.Easings.BounceEaseOut(p * 2 - _, 0, y, _) * 0.5 + y * 0.5 + v;
    },
    EaseIn(p, v, y, _) {
      return y * (p /= _) * p + v;
    },
    EaseOut(p, v, y, _) {
      return -y * (p /= _) * (p - 2) + v;
    },
    EaseInOut(p, v, y, _) {
      return (p /= _ / 2) < 1 ? y / 2 * p * p + v : -y / 2 * (--p * (p - 2) - 1) + v;
    },
    StrongEaseIn(p, v, y, _) {
      return y * (p /= _) * p * p * p * p + v;
    },
    StrongEaseOut(p, v, y, _) {
      return y * ((p = p / _ - 1) * p * p * p * p + 1) + v;
    },
    StrongEaseInOut(p, v, y, _) {
      return (p /= _ / 2) < 1 ? y / 2 * p * p * p * p * p + v : y / 2 * ((p -= 2) * p * p * p * p + 2) + v;
    },
    Linear(p, v, y, _) {
      return y * p / _ + v;
    }
  };
})(wH);
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), r.Konva = void 0;
  const e = Kr, t = ui, i = ni, a = hd, n = mH, o = W1, s = mw, l = C0, u = vw, c = ta, f = A0, d = wH, p = xu, v = Rs;
  r.Konva = t.Util._assign(e.Konva, {
    Util: t.Util,
    Transform: t.Transform,
    Node: i.Node,
    Container: a.Container,
    Stage: n.Stage,
    stages: n.stages,
    Layer: o.Layer,
    FastLayer: s.FastLayer,
    Group: l.Group,
    DD: u.DD,
    Shape: c.Shape,
    shapes: c.shapes,
    Animation: f.Animation,
    Tween: d.Tween,
    Easings: d.Easings,
    Context: p.Context,
    Canvas: v.Canvas
  }), r.default = r.Konva;
})(dH);
var _w = {};
Object.defineProperty(_w, "__esModule", { value: !0 });
_w.Arc = void 0;
const bw = tn, xse = ta, kR = Kr, ww = Pr, Tse = Kr;
let Ju = class extends xse.Shape {
  _sceneFunc(e) {
    const t = kR.Konva.getAngle(this.angle()), i = this.clockwise();
    e.beginPath(), e.arc(0, 0, this.outerRadius(), 0, t, i), e.arc(0, 0, this.innerRadius(), t, 0, !i), e.closePath(), e.fillStrokeShape(this);
  }
  getWidth() {
    return this.outerRadius() * 2;
  }
  getHeight() {
    return this.outerRadius() * 2;
  }
  setWidth(e) {
    this.outerRadius(e / 2);
  }
  setHeight(e) {
    this.outerRadius(e / 2);
  }
  getSelfRect() {
    const e = this.innerRadius(), t = this.outerRadius(), i = this.clockwise(), a = kR.Konva.getAngle(i ? 360 - this.angle() : this.angle()), n = Math.cos(Math.min(a, Math.PI)), o = 1, s = Math.sin(Math.min(Math.max(Math.PI, a), 3 * Math.PI / 2)), l = Math.sin(Math.min(a, Math.PI / 2)), u = n * (n > 0 ? e : t), c = o * t, f = s * (s > 0 ? e : t), d = l * (l > 0 ? t : e);
    return {
      x: u,
      y: i ? -1 * d : f,
      width: c - u,
      height: d - f
    };
  }
};
_w.Arc = Ju;
Ju.prototype._centroid = !0;
Ju.prototype.className = "Arc";
Ju.prototype._attrsAffectingSize = [
  "innerRadius",
  "outerRadius",
  "angle",
  "clockwise"
];
(0, Tse._registerNode)(Ju);
bw.Factory.addGetterSetter(Ju, "innerRadius", 0, (0, ww.getNumberValidator)());
bw.Factory.addGetterSetter(Ju, "outerRadius", 0, (0, ww.getNumberValidator)());
bw.Factory.addGetterSetter(Ju, "angle", 0, (0, ww.getNumberValidator)());
bw.Factory.addGetterSetter(Ju, "clockwise", !1, (0, ww.getBooleanValidator)());
var Sw = {}, H1 = {};
Object.defineProperty(H1, "__esModule", { value: !0 });
H1.Line = void 0;
const xw = tn, Cse = Kr, Ase = ta, SH = Pr;
function sA(r, e, t, i, a, n, o) {
  const s = Math.sqrt(Math.pow(t - r, 2) + Math.pow(i - e, 2)), l = Math.sqrt(Math.pow(a - t, 2) + Math.pow(n - i, 2)), u = o * s / (s + l), c = o * l / (s + l), f = t - u * (a - r), d = i - u * (n - e), p = t + c * (a - r), v = i + c * (n - e);
  return [f, d, p, v];
}
function MR(r, e) {
  const t = r.length, i = [];
  for (let a = 2; a < t - 2; a += 2) {
    const n = sA(r[a - 2], r[a - 1], r[a], r[a + 1], r[a + 2], r[a + 3], e);
    isNaN(n[0]) || (i.push(n[0]), i.push(n[1]), i.push(r[a]), i.push(r[a + 1]), i.push(n[2]), i.push(n[3]));
  }
  return i;
}
let ah = class extends Ase.Shape {
  constructor(e) {
    super(e), this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva", function() {
      this._clearCache("tensionPoints");
    });
  }
  _sceneFunc(e) {
    let t = this.points(), i = t.length, a = this.tension(), n = this.closed(), o = this.bezier(), s, l, u;
    if (i) {
      if (e.beginPath(), e.moveTo(t[0], t[1]), a !== 0 && i > 4) {
        for (s = this.getTensionPoints(), l = s.length, u = n ? 0 : 4, n || e.quadraticCurveTo(s[0], s[1], s[2], s[3]); u < l - 2; )
          e.bezierCurveTo(s[u++], s[u++], s[u++], s[u++], s[u++], s[u++]);
        n || e.quadraticCurveTo(s[l - 2], s[l - 1], t[i - 2], t[i - 1]);
      } else if (o)
        for (u = 2; u < i; )
          e.bezierCurveTo(t[u++], t[u++], t[u++], t[u++], t[u++], t[u++]);
      else
        for (u = 2; u < i; u += 2)
          e.lineTo(t[u], t[u + 1]);
      n ? (e.closePath(), e.fillStrokeShape(this)) : e.strokeShape(this);
    }
  }
  getTensionPoints() {
    return this._getCache("tensionPoints", this._getTensionPoints);
  }
  _getTensionPoints() {
    return this.closed() ? this._getTensionPointsClosed() : MR(this.points(), this.tension());
  }
  _getTensionPointsClosed() {
    const e = this.points(), t = e.length, i = this.tension(), a = sA(e[t - 2], e[t - 1], e[0], e[1], e[2], e[3], i), n = sA(e[t - 4], e[t - 3], e[t - 2], e[t - 1], e[0], e[1], i), o = MR(e, i);
    return [a[2], a[3]].concat(o).concat([
      n[0],
      n[1],
      e[t - 2],
      e[t - 1],
      n[2],
      n[3],
      a[0],
      a[1],
      e[0],
      e[1]
    ]);
  }
  getWidth() {
    return this.getSelfRect().width;
  }
  getHeight() {
    return this.getSelfRect().height;
  }
  getSelfRect() {
    let e = this.points();
    if (e.length < 4)
      return {
        x: e[0] || 0,
        y: e[1] || 0,
        width: 0,
        height: 0
      };
    this.tension() !== 0 ? e = [
      e[0],
      e[1],
      ...this._getTensionPoints(),
      e[e.length - 2],
      e[e.length - 1]
    ] : e = this.points();
    let t = e[0], i = e[0], a = e[1], n = e[1], o, s;
    for (let l = 0; l < e.length / 2; l++)
      o = e[l * 2], s = e[l * 2 + 1], t = Math.min(t, o), i = Math.max(i, o), a = Math.min(a, s), n = Math.max(n, s);
    return {
      x: t,
      y: a,
      width: i - t,
      height: n - a
    };
  }
};
H1.Line = ah;
ah.prototype.className = "Line";
ah.prototype._attrsAffectingSize = ["points", "bezier", "tension"];
(0, Cse._registerNode)(ah);
xw.Factory.addGetterSetter(ah, "closed", !1);
xw.Factory.addGetterSetter(ah, "bezier", !1);
xw.Factory.addGetterSetter(ah, "tension", 0, (0, SH.getNumberValidator)());
xw.Factory.addGetterSetter(ah, "points", [], (0, SH.getNumberArrayValidator)());
var E0 = {}, xH = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), r.t2length = r.getQuadraticArcLength = r.getCubicArcLength = r.binomialCoefficients = r.cValues = r.tValues = void 0, r.tValues = [
    [],
    [],
    [
      -0.5773502691896257,
      0.5773502691896257
    ],
    [
      0,
      -0.7745966692414834,
      0.7745966692414834
    ],
    [
      -0.33998104358485626,
      0.33998104358485626,
      -0.8611363115940526,
      0.8611363115940526
    ],
    [
      0,
      -0.5384693101056831,
      0.5384693101056831,
      -0.906179845938664,
      0.906179845938664
    ],
    [
      0.6612093864662645,
      -0.6612093864662645,
      -0.2386191860831969,
      0.2386191860831969,
      -0.932469514203152,
      0.932469514203152
    ],
    [
      0,
      0.4058451513773972,
      -0.4058451513773972,
      -0.7415311855993945,
      0.7415311855993945,
      -0.9491079123427585,
      0.9491079123427585
    ],
    [
      -0.1834346424956498,
      0.1834346424956498,
      -0.525532409916329,
      0.525532409916329,
      -0.7966664774136267,
      0.7966664774136267,
      -0.9602898564975363,
      0.9602898564975363
    ],
    [
      0,
      -0.8360311073266358,
      0.8360311073266358,
      -0.9681602395076261,
      0.9681602395076261,
      -0.3242534234038089,
      0.3242534234038089,
      -0.6133714327005904,
      0.6133714327005904
    ],
    [
      -0.14887433898163122,
      0.14887433898163122,
      -0.4333953941292472,
      0.4333953941292472,
      -0.6794095682990244,
      0.6794095682990244,
      -0.8650633666889845,
      0.8650633666889845,
      -0.9739065285171717,
      0.9739065285171717
    ],
    [
      0,
      -0.26954315595234496,
      0.26954315595234496,
      -0.5190961292068118,
      0.5190961292068118,
      -0.7301520055740494,
      0.7301520055740494,
      -0.8870625997680953,
      0.8870625997680953,
      -0.978228658146057,
      0.978228658146057
    ],
    [
      -0.1252334085114689,
      0.1252334085114689,
      -0.3678314989981802,
      0.3678314989981802,
      -0.5873179542866175,
      0.5873179542866175,
      -0.7699026741943047,
      0.7699026741943047,
      -0.9041172563704749,
      0.9041172563704749,
      -0.9815606342467192,
      0.9815606342467192
    ],
    [
      0,
      -0.2304583159551348,
      0.2304583159551348,
      -0.44849275103644687,
      0.44849275103644687,
      -0.6423493394403402,
      0.6423493394403402,
      -0.8015780907333099,
      0.8015780907333099,
      -0.9175983992229779,
      0.9175983992229779,
      -0.9841830547185881,
      0.9841830547185881
    ],
    [
      -0.10805494870734367,
      0.10805494870734367,
      -0.31911236892788974,
      0.31911236892788974,
      -0.5152486363581541,
      0.5152486363581541,
      -0.6872929048116855,
      0.6872929048116855,
      -0.827201315069765,
      0.827201315069765,
      -0.9284348836635735,
      0.9284348836635735,
      -0.9862838086968123,
      0.9862838086968123
    ],
    [
      0,
      -0.20119409399743451,
      0.20119409399743451,
      -0.3941513470775634,
      0.3941513470775634,
      -0.5709721726085388,
      0.5709721726085388,
      -0.7244177313601701,
      0.7244177313601701,
      -0.8482065834104272,
      0.8482065834104272,
      -0.937273392400706,
      0.937273392400706,
      -0.9879925180204854,
      0.9879925180204854
    ],
    [
      -0.09501250983763744,
      0.09501250983763744,
      -0.2816035507792589,
      0.2816035507792589,
      -0.45801677765722737,
      0.45801677765722737,
      -0.6178762444026438,
      0.6178762444026438,
      -0.755404408355003,
      0.755404408355003,
      -0.8656312023878318,
      0.8656312023878318,
      -0.9445750230732326,
      0.9445750230732326,
      -0.9894009349916499,
      0.9894009349916499
    ],
    [
      0,
      -0.17848418149584785,
      0.17848418149584785,
      -0.3512317634538763,
      0.3512317634538763,
      -0.5126905370864769,
      0.5126905370864769,
      -0.6576711592166907,
      0.6576711592166907,
      -0.7815140038968014,
      0.7815140038968014,
      -0.8802391537269859,
      0.8802391537269859,
      -0.9506755217687678,
      0.9506755217687678,
      -0.9905754753144174,
      0.9905754753144174
    ],
    [
      -0.0847750130417353,
      0.0847750130417353,
      -0.2518862256915055,
      0.2518862256915055,
      -0.41175116146284263,
      0.41175116146284263,
      -0.5597708310739475,
      0.5597708310739475,
      -0.6916870430603532,
      0.6916870430603532,
      -0.8037049589725231,
      0.8037049589725231,
      -0.8926024664975557,
      0.8926024664975557,
      -0.9558239495713977,
      0.9558239495713977,
      -0.9915651684209309,
      0.9915651684209309
    ],
    [
      0,
      -0.16035864564022537,
      0.16035864564022537,
      -0.31656409996362983,
      0.31656409996362983,
      -0.46457074137596094,
      0.46457074137596094,
      -0.600545304661681,
      0.600545304661681,
      -0.7209661773352294,
      0.7209661773352294,
      -0.8227146565371428,
      0.8227146565371428,
      -0.9031559036148179,
      0.9031559036148179,
      -0.96020815213483,
      0.96020815213483,
      -0.9924068438435844,
      0.9924068438435844
    ],
    [
      -0.07652652113349734,
      0.07652652113349734,
      -0.22778585114164507,
      0.22778585114164507,
      -0.37370608871541955,
      0.37370608871541955,
      -0.5108670019508271,
      0.5108670019508271,
      -0.636053680726515,
      0.636053680726515,
      -0.7463319064601508,
      0.7463319064601508,
      -0.8391169718222188,
      0.8391169718222188,
      -0.912234428251326,
      0.912234428251326,
      -0.9639719272779138,
      0.9639719272779138,
      -0.9931285991850949,
      0.9931285991850949
    ],
    [
      0,
      -0.1455618541608951,
      0.1455618541608951,
      -0.2880213168024011,
      0.2880213168024011,
      -0.4243421202074388,
      0.4243421202074388,
      -0.5516188358872198,
      0.5516188358872198,
      -0.6671388041974123,
      0.6671388041974123,
      -0.7684399634756779,
      0.7684399634756779,
      -0.8533633645833173,
      0.8533633645833173,
      -0.9200993341504008,
      0.9200993341504008,
      -0.9672268385663063,
      0.9672268385663063,
      -0.9937521706203895,
      0.9937521706203895
    ],
    [
      -0.06973927331972223,
      0.06973927331972223,
      -0.20786042668822127,
      0.20786042668822127,
      -0.34193582089208424,
      0.34193582089208424,
      -0.469355837986757,
      0.469355837986757,
      -0.5876404035069116,
      0.5876404035069116,
      -0.6944872631866827,
      0.6944872631866827,
      -0.7878168059792081,
      0.7878168059792081,
      -0.8658125777203002,
      0.8658125777203002,
      -0.926956772187174,
      0.926956772187174,
      -0.9700604978354287,
      0.9700604978354287,
      -0.9942945854823992,
      0.9942945854823992
    ],
    [
      0,
      -0.1332568242984661,
      0.1332568242984661,
      -0.26413568097034495,
      0.26413568097034495,
      -0.3903010380302908,
      0.3903010380302908,
      -0.5095014778460075,
      0.5095014778460075,
      -0.6196098757636461,
      0.6196098757636461,
      -0.7186613631319502,
      0.7186613631319502,
      -0.8048884016188399,
      0.8048884016188399,
      -0.8767523582704416,
      0.8767523582704416,
      -0.9329710868260161,
      0.9329710868260161,
      -0.9725424712181152,
      0.9725424712181152,
      -0.9947693349975522,
      0.9947693349975522
    ],
    [
      -0.06405689286260563,
      0.06405689286260563,
      -0.1911188674736163,
      0.1911188674736163,
      -0.3150426796961634,
      0.3150426796961634,
      -0.4337935076260451,
      0.4337935076260451,
      -0.5454214713888396,
      0.5454214713888396,
      -0.6480936519369755,
      0.6480936519369755,
      -0.7401241915785544,
      0.7401241915785544,
      -0.820001985973903,
      0.820001985973903,
      -0.8864155270044011,
      0.8864155270044011,
      -0.9382745520027328,
      0.9382745520027328,
      -0.9747285559713095,
      0.9747285559713095,
      -0.9951872199970213,
      0.9951872199970213
    ]
  ], r.cValues = [
    [],
    [],
    [1, 1],
    [
      0.8888888888888888,
      0.5555555555555556,
      0.5555555555555556
    ],
    [
      0.6521451548625461,
      0.6521451548625461,
      0.34785484513745385,
      0.34785484513745385
    ],
    [
      0.5688888888888889,
      0.47862867049936647,
      0.47862867049936647,
      0.23692688505618908,
      0.23692688505618908
    ],
    [
      0.3607615730481386,
      0.3607615730481386,
      0.46791393457269104,
      0.46791393457269104,
      0.17132449237917036,
      0.17132449237917036
    ],
    [
      0.4179591836734694,
      0.3818300505051189,
      0.3818300505051189,
      0.27970539148927664,
      0.27970539148927664,
      0.1294849661688697,
      0.1294849661688697
    ],
    [
      0.362683783378362,
      0.362683783378362,
      0.31370664587788727,
      0.31370664587788727,
      0.22238103445337448,
      0.22238103445337448,
      0.10122853629037626,
      0.10122853629037626
    ],
    [
      0.3302393550012598,
      0.1806481606948574,
      0.1806481606948574,
      0.08127438836157441,
      0.08127438836157441,
      0.31234707704000286,
      0.31234707704000286,
      0.26061069640293544,
      0.26061069640293544
    ],
    [
      0.29552422471475287,
      0.29552422471475287,
      0.26926671930999635,
      0.26926671930999635,
      0.21908636251598204,
      0.21908636251598204,
      0.1494513491505806,
      0.1494513491505806,
      0.06667134430868814,
      0.06667134430868814
    ],
    [
      0.2729250867779006,
      0.26280454451024665,
      0.26280454451024665,
      0.23319376459199048,
      0.23319376459199048,
      0.18629021092773426,
      0.18629021092773426,
      0.1255803694649046,
      0.1255803694649046,
      0.05566856711617366,
      0.05566856711617366
    ],
    [
      0.24914704581340277,
      0.24914704581340277,
      0.2334925365383548,
      0.2334925365383548,
      0.20316742672306592,
      0.20316742672306592,
      0.16007832854334622,
      0.16007832854334622,
      0.10693932599531843,
      0.10693932599531843,
      0.04717533638651183,
      0.04717533638651183
    ],
    [
      0.2325515532308739,
      0.22628318026289723,
      0.22628318026289723,
      0.2078160475368885,
      0.2078160475368885,
      0.17814598076194574,
      0.17814598076194574,
      0.13887351021978725,
      0.13887351021978725,
      0.09212149983772845,
      0.09212149983772845,
      0.04048400476531588,
      0.04048400476531588
    ],
    [
      0.2152638534631578,
      0.2152638534631578,
      0.2051984637212956,
      0.2051984637212956,
      0.18553839747793782,
      0.18553839747793782,
      0.15720316715819355,
      0.15720316715819355,
      0.12151857068790319,
      0.12151857068790319,
      0.08015808715976021,
      0.08015808715976021,
      0.03511946033175186,
      0.03511946033175186
    ],
    [
      0.2025782419255613,
      0.19843148532711158,
      0.19843148532711158,
      0.1861610000155622,
      0.1861610000155622,
      0.16626920581699392,
      0.16626920581699392,
      0.13957067792615432,
      0.13957067792615432,
      0.10715922046717194,
      0.10715922046717194,
      0.07036604748810812,
      0.07036604748810812,
      0.03075324199611727,
      0.03075324199611727
    ],
    [
      0.1894506104550685,
      0.1894506104550685,
      0.18260341504492358,
      0.18260341504492358,
      0.16915651939500254,
      0.16915651939500254,
      0.14959598881657674,
      0.14959598881657674,
      0.12462897125553388,
      0.12462897125553388,
      0.09515851168249279,
      0.09515851168249279,
      0.062253523938647894,
      0.062253523938647894,
      0.027152459411754096,
      0.027152459411754096
    ],
    [
      0.17944647035620653,
      0.17656270536699264,
      0.17656270536699264,
      0.16800410215645004,
      0.16800410215645004,
      0.15404576107681028,
      0.15404576107681028,
      0.13513636846852548,
      0.13513636846852548,
      0.11188384719340397,
      0.11188384719340397,
      0.08503614831717918,
      0.08503614831717918,
      0.0554595293739872,
      0.0554595293739872,
      0.02414830286854793,
      0.02414830286854793
    ],
    [
      0.1691423829631436,
      0.1691423829631436,
      0.16427648374583273,
      0.16427648374583273,
      0.15468467512626524,
      0.15468467512626524,
      0.14064291467065065,
      0.14064291467065065,
      0.12255520671147846,
      0.12255520671147846,
      0.10094204410628717,
      0.10094204410628717,
      0.07642573025488905,
      0.07642573025488905,
      0.0497145488949698,
      0.0497145488949698,
      0.02161601352648331,
      0.02161601352648331
    ],
    [
      0.1610544498487837,
      0.15896884339395434,
      0.15896884339395434,
      0.15276604206585967,
      0.15276604206585967,
      0.1426067021736066,
      0.1426067021736066,
      0.12875396253933621,
      0.12875396253933621,
      0.11156664554733399,
      0.11156664554733399,
      0.09149002162245,
      0.09149002162245,
      0.06904454273764123,
      0.06904454273764123,
      0.0448142267656996,
      0.0448142267656996,
      0.019461788229726478,
      0.019461788229726478
    ],
    [
      0.15275338713072584,
      0.15275338713072584,
      0.14917298647260374,
      0.14917298647260374,
      0.14209610931838204,
      0.14209610931838204,
      0.13168863844917664,
      0.13168863844917664,
      0.11819453196151841,
      0.11819453196151841,
      0.10193011981724044,
      0.10193011981724044,
      0.08327674157670475,
      0.08327674157670475,
      0.06267204833410907,
      0.06267204833410907,
      0.04060142980038694,
      0.04060142980038694,
      0.017614007139152118,
      0.017614007139152118
    ],
    [
      0.14608113364969041,
      0.14452440398997005,
      0.14452440398997005,
      0.13988739479107315,
      0.13988739479107315,
      0.13226893863333747,
      0.13226893863333747,
      0.12183141605372853,
      0.12183141605372853,
      0.10879729916714838,
      0.10879729916714838,
      0.09344442345603386,
      0.09344442345603386,
      0.0761001136283793,
      0.0761001136283793,
      0.057134425426857205,
      0.057134425426857205,
      0.036953789770852494,
      0.036953789770852494,
      0.016017228257774335,
      0.016017228257774335
    ],
    [
      0.13925187285563198,
      0.13925187285563198,
      0.13654149834601517,
      0.13654149834601517,
      0.13117350478706238,
      0.13117350478706238,
      0.12325237681051242,
      0.12325237681051242,
      0.11293229608053922,
      0.11293229608053922,
      0.10041414444288096,
      0.10041414444288096,
      0.08594160621706773,
      0.08594160621706773,
      0.06979646842452049,
      0.06979646842452049,
      0.052293335152683286,
      0.052293335152683286,
      0.03377490158481415,
      0.03377490158481415,
      0.0146279952982722,
      0.0146279952982722
    ],
    [
      0.13365457218610619,
      0.1324620394046966,
      0.1324620394046966,
      0.12890572218808216,
      0.12890572218808216,
      0.12304908430672953,
      0.12304908430672953,
      0.11499664022241136,
      0.11499664022241136,
      0.10489209146454141,
      0.10489209146454141,
      0.09291576606003515,
      0.09291576606003515,
      0.07928141177671895,
      0.07928141177671895,
      0.06423242140852585,
      0.06423242140852585,
      0.04803767173108467,
      0.04803767173108467,
      0.030988005856979445,
      0.030988005856979445,
      0.013411859487141771,
      0.013411859487141771
    ],
    [
      0.12793819534675216,
      0.12793819534675216,
      0.1258374563468283,
      0.1258374563468283,
      0.12167047292780339,
      0.12167047292780339,
      0.1155056680537256,
      0.1155056680537256,
      0.10744427011596563,
      0.10744427011596563,
      0.09761865210411388,
      0.09761865210411388,
      0.08619016153195327,
      0.08619016153195327,
      0.0733464814110803,
      0.0733464814110803,
      0.05929858491543678,
      0.05929858491543678,
      0.04427743881741981,
      0.04427743881741981,
      0.028531388628933663,
      0.028531388628933663,
      0.0123412297999872,
      0.0123412297999872
    ]
  ], r.binomialCoefficients = [[1], [1, 1], [1, 2, 1], [1, 3, 3, 1]];
  const e = (o, s, l) => {
    let u, c;
    const d = l / 2;
    u = 0;
    for (let p = 0; p < 20; p++)
      c = d * r.tValues[20][p] + d, u += r.cValues[20][p] * i(o, s, c);
    return d * u;
  };
  r.getCubicArcLength = e;
  const t = (o, s, l) => {
    l === void 0 && (l = 1);
    const u = o[0] - 2 * o[1] + o[2], c = s[0] - 2 * s[1] + s[2], f = 2 * o[1] - 2 * o[0], d = 2 * s[1] - 2 * s[0], p = 4 * (u * u + c * c), v = 4 * (u * f + c * d), y = f * f + d * d;
    if (p === 0)
      return l * Math.sqrt(Math.pow(o[2] - o[0], 2) + Math.pow(s[2] - s[0], 2));
    const _ = v / (2 * p), w = y / p, S = l + _, x = w - _ * _, E = S * S + x > 0 ? Math.sqrt(S * S + x) : 0, M = _ * _ + x > 0 ? Math.sqrt(_ * _ + x) : 0, k = _ + Math.sqrt(_ * _ + x) !== 0 ? x * Math.log(Math.abs((S + E) / (_ + M))) : 0;
    return Math.sqrt(p) / 2 * (S * E - _ * M + k);
  };
  r.getQuadraticArcLength = t;
  function i(o, s, l) {
    const u = a(1, l, o), c = a(1, l, s), f = u * u + c * c;
    return Math.sqrt(f);
  }
  const a = (o, s, l) => {
    const u = l.length - 1;
    let c, f;
    if (u === 0)
      return 0;
    if (o === 0) {
      f = 0;
      for (let d = 0; d <= u; d++)
        f += r.binomialCoefficients[u][d] * Math.pow(1 - s, u - d) * Math.pow(s, d) * l[d];
      return f;
    } else {
      c = new Array(u);
      for (let d = 0; d < u; d++)
        c[d] = u * (l[d + 1] - l[d]);
      return a(o - 1, s, c);
    }
  }, n = (o, s, l) => {
    let u = 1, c = o / s, f = (o - l(c)) / s, d = 0;
    for (; u > 1e-3; ) {
      const p = l(c + f), v = Math.abs(o - p) / s;
      if (v < u)
        u = v, c += f;
      else {
        const y = l(c - f), _ = Math.abs(o - y) / s;
        _ < u ? (u = _, c -= f) : f /= 2;
      }
      if (d++, d > 500)
        break;
    }
    return c;
  };
  r.t2length = n;
})(xH);
Object.defineProperty(E0, "__esModule", { value: !0 });
E0.Path = void 0;
const Ese = tn, Dse = ta, kse = Kr, Jd = xH;
let $1 = class lo extends Dse.Shape {
  constructor(e) {
    super(e), this.dataArray = [], this.pathLength = 0, this._readDataAttribute(), this.on("dataChange.konva", function() {
      this._readDataAttribute();
    });
  }
  _readDataAttribute() {
    this.dataArray = lo.parsePathData(this.data()), this.pathLength = lo.getPathLength(this.dataArray);
  }
  _sceneFunc(e) {
    const t = this.dataArray;
    e.beginPath();
    let i = !1;
    for (let y = 0; y < t.length; y++) {
      const _ = t[y].command, w = t[y].points;
      switch (_) {
        case "L":
          e.lineTo(w[0], w[1]);
          break;
        case "M":
          e.moveTo(w[0], w[1]);
          break;
        case "C":
          e.bezierCurveTo(w[0], w[1], w[2], w[3], w[4], w[5]);
          break;
        case "Q":
          e.quadraticCurveTo(w[0], w[1], w[2], w[3]);
          break;
        case "A":
          var a = w[0], n = w[1], o = w[2], s = w[3], l = w[4], u = w[5], c = w[6], f = w[7], d = o > s ? o : s, p = o > s ? 1 : o / s, v = o > s ? s / o : 1;
          e.translate(a, n), e.rotate(c), e.scale(p, v), e.arc(0, 0, d, l, l + u, 1 - f), e.scale(1 / p, 1 / v), e.rotate(-c), e.translate(-a, -n);
          break;
        case "z":
          i = !0, e.closePath();
          break;
      }
    }
    !i && !this.hasFill() ? e.strokeShape(this) : e.fillStrokeShape(this);
  }
  getSelfRect() {
    let e = [];
    this.dataArray.forEach(function(l) {
      if (l.command === "A") {
        const u = l.points[4], c = l.points[5], f = l.points[4] + c;
        let d = Math.PI / 180;
        if (Math.abs(u - f) < d && (d = Math.abs(u - f)), c < 0)
          for (let p = u - d; p > f; p -= d) {
            const v = lo.getPointOnEllipticalArc(l.points[0], l.points[1], l.points[2], l.points[3], p, 0);
            e.push(v.x, v.y);
          }
        else
          for (let p = u + d; p < f; p += d) {
            const v = lo.getPointOnEllipticalArc(l.points[0], l.points[1], l.points[2], l.points[3], p, 0);
            e.push(v.x, v.y);
          }
      } else if (l.command === "C")
        for (let u = 0; u <= 1; u += 0.01) {
          const c = lo.getPointOnCubicBezier(u, l.start.x, l.start.y, l.points[0], l.points[1], l.points[2], l.points[3], l.points[4], l.points[5]);
          e.push(c.x, c.y);
        }
      else
        e = e.concat(l.points);
    });
    let t = e[0], i = e[0], a = e[1], n = e[1], o, s;
    for (let l = 0; l < e.length / 2; l++)
      o = e[l * 2], s = e[l * 2 + 1], isNaN(o) || (t = Math.min(t, o), i = Math.max(i, o)), isNaN(s) || (a = Math.min(a, s), n = Math.max(n, s));
    return {
      x: t,
      y: a,
      width: i - t,
      height: n - a
    };
  }
  getLength() {
    return this.pathLength;
  }
  getPointAtLength(e) {
    return lo.getPointAtLengthOfDataArray(e, this.dataArray);
  }
  static getLineLength(e, t, i, a) {
    return Math.sqrt((i - e) * (i - e) + (a - t) * (a - t));
  }
  static getPathLength(e) {
    let t = 0;
    for (let i = 0; i < e.length; ++i)
      t += e[i].pathLength;
    return t;
  }
  static getPointAtLengthOfDataArray(e, t) {
    let i, a = 0, n = t.length;
    if (!n)
      return null;
    for (; a < n && e > t[a].pathLength; )
      e -= t[a].pathLength, ++a;
    if (a === n)
      return i = t[a - 1].points.slice(-2), {
        x: i[0],
        y: i[1]
      };
    if (e < 0.01)
      return i = t[a].points.slice(0, 2), {
        x: i[0],
        y: i[1]
      };
    const o = t[a], s = o.points;
    switch (o.command) {
      case "L":
        return lo.getPointOnLine(e, o.start.x, o.start.y, s[0], s[1]);
      case "C":
        return lo.getPointOnCubicBezier((0, Jd.t2length)(e, lo.getPathLength(t), (y) => (0, Jd.getCubicArcLength)([o.start.x, s[0], s[2], s[4]], [o.start.y, s[1], s[3], s[5]], y)), o.start.x, o.start.y, s[0], s[1], s[2], s[3], s[4], s[5]);
      case "Q":
        return lo.getPointOnQuadraticBezier((0, Jd.t2length)(e, lo.getPathLength(t), (y) => (0, Jd.getQuadraticArcLength)([o.start.x, s[0], s[2]], [o.start.y, s[1], s[3]], y)), o.start.x, o.start.y, s[0], s[1], s[2], s[3]);
      case "A":
        var l = s[0], u = s[1], c = s[2], f = s[3], d = s[4], p = s[5], v = s[6];
        return d += p * e / o.pathLength, lo.getPointOnEllipticalArc(l, u, c, f, d, v);
    }
    return null;
  }
  static getPointOnLine(e, t, i, a, n, o, s) {
    o = o ?? t, s = s ?? i;
    const l = this.getLineLength(t, i, a, n);
    if (l < 1e-10)
      return { x: t, y: i };
    if (a === t)
      return { x: o, y: s + (n > i ? e : -e) };
    const u = (n - i) / (a - t), c = Math.sqrt(e * e / (1 + u * u)) * (a < t ? -1 : 1), f = u * c;
    if (Math.abs(s - i - u * (o - t)) < 1e-10)
      return { x: o + c, y: s + f };
    const d = ((o - t) * (a - t) + (s - i) * (n - i)) / (l * l), p = t + d * (a - t), v = i + d * (n - i), y = this.getLineLength(o, s, p, v), _ = Math.sqrt(e * e - y * y), w = Math.sqrt(_ * _ / (1 + u * u)) * (a < t ? -1 : 1), S = u * w;
    return { x: p + w, y: v + S };
  }
  static getPointOnCubicBezier(e, t, i, a, n, o, s, l, u) {
    function c(_) {
      return _ * _ * _;
    }
    function f(_) {
      return 3 * _ * _ * (1 - _);
    }
    function d(_) {
      return 3 * _ * (1 - _) * (1 - _);
    }
    function p(_) {
      return (1 - _) * (1 - _) * (1 - _);
    }
    const v = l * c(e) + o * f(e) + a * d(e) + t * p(e), y = u * c(e) + s * f(e) + n * d(e) + i * p(e);
    return {
      x: v,
      y
    };
  }
  static getPointOnQuadraticBezier(e, t, i, a, n, o, s) {
    function l(p) {
      return p * p;
    }
    function u(p) {
      return 2 * p * (1 - p);
    }
    function c(p) {
      return (1 - p) * (1 - p);
    }
    const f = o * l(e) + a * u(e) + t * c(e), d = s * l(e) + n * u(e) + i * c(e);
    return {
      x: f,
      y: d
    };
  }
  static getPointOnEllipticalArc(e, t, i, a, n, o) {
    const s = Math.cos(o), l = Math.sin(o), u = {
      x: i * Math.cos(n),
      y: a * Math.sin(n)
    };
    return {
      x: e + (u.x * s - u.y * l),
      y: t + (u.x * l + u.y * s)
    };
  }
  static parsePathData(e) {
    if (!e)
      return [];
    let t = e;
    const i = [
      "m",
      "M",
      "l",
      "L",
      "v",
      "V",
      "h",
      "H",
      "z",
      "Z",
      "c",
      "C",
      "q",
      "Q",
      "t",
      "T",
      "s",
      "S",
      "a",
      "A"
    ];
    t = t.replace(new RegExp(" ", "g"), ",");
    for (var a = 0; a < i.length; a++)
      t = t.replace(new RegExp(i[a], "g"), "|" + i[a]);
    const n = t.split("|"), o = [], s = [];
    let l = 0, u = 0;
    const c = /([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;
    let f;
    for (a = 1; a < n.length; a++) {
      let L = n[a], F = L.charAt(0);
      for (L = L.slice(1), s.length = 0; f = c.exec(L); )
        s.push(f[0]);
      const O = [];
      for (let U = 0, V = s.length; U < V; U++) {
        if (s[U] === "00") {
          O.push(0, 0);
          continue;
        }
        const G = parseFloat(s[U]);
        isNaN(G) ? O.push(0) : O.push(G);
      }
      for (; O.length > 0 && !isNaN(O[0]); ) {
        let U = "", V = [];
        const G = l, Z = u;
        var d, p, v, y, _, w, S, x, E, M;
        switch (F) {
          case "l":
            l += O.shift(), u += O.shift(), U = "L", V.push(l, u);
            break;
          case "L":
            l = O.shift(), u = O.shift(), V.push(l, u);
            break;
          case "m":
            var k = O.shift(), P = O.shift();
            if (l += k, u += P, U = "M", o.length > 2 && o[o.length - 1].command === "z") {
              for (let Q = o.length - 2; Q >= 0; Q--)
                if (o[Q].command === "M") {
                  l = o[Q].points[0] + k, u = o[Q].points[1] + P;
                  break;
                }
            }
            V.push(l, u), F = "l";
            break;
          case "M":
            l = O.shift(), u = O.shift(), U = "M", V.push(l, u), F = "L";
            break;
          case "h":
            l += O.shift(), U = "L", V.push(l, u);
            break;
          case "H":
            l = O.shift(), U = "L", V.push(l, u);
            break;
          case "v":
            u += O.shift(), U = "L", V.push(l, u);
            break;
          case "V":
            u = O.shift(), U = "L", V.push(l, u);
            break;
          case "C":
            V.push(O.shift(), O.shift(), O.shift(), O.shift()), l = O.shift(), u = O.shift(), V.push(l, u);
            break;
          case "c":
            V.push(l + O.shift(), u + O.shift(), l + O.shift(), u + O.shift()), l += O.shift(), u += O.shift(), U = "C", V.push(l, u);
            break;
          case "S":
            p = l, v = u, d = o[o.length - 1], d.command === "C" && (p = l + (l - d.points[2]), v = u + (u - d.points[3])), V.push(p, v, O.shift(), O.shift()), l = O.shift(), u = O.shift(), U = "C", V.push(l, u);
            break;
          case "s":
            p = l, v = u, d = o[o.length - 1], d.command === "C" && (p = l + (l - d.points[2]), v = u + (u - d.points[3])), V.push(p, v, l + O.shift(), u + O.shift()), l += O.shift(), u += O.shift(), U = "C", V.push(l, u);
            break;
          case "Q":
            V.push(O.shift(), O.shift()), l = O.shift(), u = O.shift(), V.push(l, u);
            break;
          case "q":
            V.push(l + O.shift(), u + O.shift()), l += O.shift(), u += O.shift(), U = "Q", V.push(l, u);
            break;
          case "T":
            p = l, v = u, d = o[o.length - 1], d.command === "Q" && (p = l + (l - d.points[0]), v = u + (u - d.points[1])), l = O.shift(), u = O.shift(), U = "Q", V.push(p, v, l, u);
            break;
          case "t":
            p = l, v = u, d = o[o.length - 1], d.command === "Q" && (p = l + (l - d.points[0]), v = u + (u - d.points[1])), l += O.shift(), u += O.shift(), U = "Q", V.push(p, v, l, u);
            break;
          case "A":
            y = O.shift(), _ = O.shift(), w = O.shift(), S = O.shift(), x = O.shift(), E = l, M = u, l = O.shift(), u = O.shift(), U = "A", V = this.convertEndpointToCenterParameterization(E, M, l, u, S, x, y, _, w);
            break;
          case "a":
            y = O.shift(), _ = O.shift(), w = O.shift(), S = O.shift(), x = O.shift(), E = l, M = u, l += O.shift(), u += O.shift(), U = "A", V = this.convertEndpointToCenterParameterization(E, M, l, u, S, x, y, _, w);
            break;
        }
        o.push({
          command: U || F,
          points: V,
          start: {
            x: G,
            y: Z
          },
          pathLength: this.calcLength(G, Z, U || F, V)
        });
      }
      (F === "z" || F === "Z") && o.push({
        command: "z",
        points: [],
        start: void 0,
        pathLength: 0
      });
    }
    return o;
  }
  static calcLength(e, t, i, a) {
    let n, o, s, l;
    const u = lo;
    switch (i) {
      case "L":
        return u.getLineLength(e, t, a[0], a[1]);
      case "C":
        return (0, Jd.getCubicArcLength)([e, a[0], a[2], a[4]], [t, a[1], a[3], a[5]], 1);
      case "Q":
        return (0, Jd.getQuadraticArcLength)([e, a[0], a[2]], [t, a[1], a[3]], 1);
      case "A":
        n = 0;
        var c = a[4], f = a[5], d = a[4] + f, p = Math.PI / 180;
        if (Math.abs(c - d) < p && (p = Math.abs(c - d)), o = u.getPointOnEllipticalArc(a[0], a[1], a[2], a[3], c, 0), f < 0)
          for (l = c - p; l > d; l -= p)
            s = u.getPointOnEllipticalArc(a[0], a[1], a[2], a[3], l, 0), n += u.getLineLength(o.x, o.y, s.x, s.y), o = s;
        else
          for (l = c + p; l < d; l += p)
            s = u.getPointOnEllipticalArc(a[0], a[1], a[2], a[3], l, 0), n += u.getLineLength(o.x, o.y, s.x, s.y), o = s;
        return s = u.getPointOnEllipticalArc(a[0], a[1], a[2], a[3], d, 0), n += u.getLineLength(o.x, o.y, s.x, s.y), n;
    }
    return 0;
  }
  static convertEndpointToCenterParameterization(e, t, i, a, n, o, s, l, u) {
    const c = u * (Math.PI / 180), f = Math.cos(c) * (e - i) / 2 + Math.sin(c) * (t - a) / 2, d = -1 * Math.sin(c) * (e - i) / 2 + Math.cos(c) * (t - a) / 2, p = f * f / (s * s) + d * d / (l * l);
    p > 1 && (s *= Math.sqrt(p), l *= Math.sqrt(p));
    let v = Math.sqrt((s * s * (l * l) - s * s * (d * d) - l * l * (f * f)) / (s * s * (d * d) + l * l * (f * f)));
    n === o && (v *= -1), isNaN(v) && (v = 0);
    const y = v * s * d / l, _ = v * -l * f / s, w = (e + i) / 2 + Math.cos(c) * y - Math.sin(c) * _, S = (t + a) / 2 + Math.sin(c) * y + Math.cos(c) * _, x = function(O) {
      return Math.sqrt(O[0] * O[0] + O[1] * O[1]);
    }, E = function(O, U) {
      return (O[0] * U[0] + O[1] * U[1]) / (x(O) * x(U));
    }, M = function(O, U) {
      return (O[0] * U[1] < O[1] * U[0] ? -1 : 1) * Math.acos(E(O, U));
    }, k = M([1, 0], [(f - y) / s, (d - _) / l]), P = [(f - y) / s, (d - _) / l], L = [(-1 * f - y) / s, (-1 * d - _) / l];
    let F = M(P, L);
    return E(P, L) <= -1 && (F = Math.PI), E(P, L) >= 1 && (F = 0), o === 0 && F > 0 && (F = F - 2 * Math.PI), o === 1 && F < 0 && (F = F + 2 * Math.PI), [w, S, s, l, k, F, c, o];
  }
};
E0.Path = $1;
$1.prototype.className = "Path";
$1.prototype._attrsAffectingSize = ["data"];
(0, kse._registerNode)($1);
Ese.Factory.addGetterSetter($1, "data");
Object.defineProperty(Sw, "__esModule", { value: !0 });
Sw.Arrow = void 0;
const Tw = tn, Mse = H1, TH = Pr, Ise = Kr, IR = E0;
let dd = class extends Mse.Line {
  _sceneFunc(e) {
    super._sceneFunc(e);
    const t = Math.PI * 2, i = this.points();
    let a = i;
    const n = this.tension() !== 0 && i.length > 4;
    n && (a = this.getTensionPoints());
    const o = this.pointerLength(), s = i.length;
    let l, u;
    if (n) {
      const d = [
        a[a.length - 4],
        a[a.length - 3],
        a[a.length - 2],
        a[a.length - 1],
        i[s - 2],
        i[s - 1]
      ], p = IR.Path.calcLength(a[a.length - 4], a[a.length - 3], "C", d), v = IR.Path.getPointOnQuadraticBezier(Math.min(1, 1 - o / p), d[0], d[1], d[2], d[3], d[4], d[5]);
      l = i[s - 2] - v.x, u = i[s - 1] - v.y;
    } else
      l = i[s - 2] - i[s - 4], u = i[s - 1] - i[s - 3];
    const c = (Math.atan2(u, l) + t) % t, f = this.pointerWidth();
    this.pointerAtEnding() && (e.save(), e.beginPath(), e.translate(i[s - 2], i[s - 1]), e.rotate(c), e.moveTo(0, 0), e.lineTo(-o, f / 2), e.lineTo(-o, -f / 2), e.closePath(), e.restore(), this.__fillStroke(e)), this.pointerAtBeginning() && (e.save(), e.beginPath(), e.translate(i[0], i[1]), n ? (l = (a[0] + a[2]) / 2 - i[0], u = (a[1] + a[3]) / 2 - i[1]) : (l = i[2] - i[0], u = i[3] - i[1]), e.rotate((Math.atan2(-u, -l) + t) % t), e.moveTo(0, 0), e.lineTo(-o, f / 2), e.lineTo(-o, -f / 2), e.closePath(), e.restore(), this.__fillStroke(e));
  }
  __fillStroke(e) {
    const t = this.dashEnabled();
    t && (this.attrs.dashEnabled = !1, e.setLineDash([])), e.fillStrokeShape(this), t && (this.attrs.dashEnabled = !0);
  }
  getSelfRect() {
    const e = super.getSelfRect(), t = this.pointerWidth() / 2;
    return {
      x: e.x,
      y: e.y - t,
      width: e.width,
      height: e.height + t * 2
    };
  }
};
Sw.Arrow = dd;
dd.prototype.className = "Arrow";
(0, Ise._registerNode)(dd);
Tw.Factory.addGetterSetter(dd, "pointerLength", 10, (0, TH.getNumberValidator)());
Tw.Factory.addGetterSetter(dd, "pointerWidth", 10, (0, TH.getNumberValidator)());
Tw.Factory.addGetterSetter(dd, "pointerAtBeginning", !1);
Tw.Factory.addGetterSetter(dd, "pointerAtEnding", !0);
var Cw = {};
Object.defineProperty(Cw, "__esModule", { value: !0 });
Cw.Circle = void 0;
const Pse = tn, Rse = ta, Lse = Pr, Ose = Kr;
let D0 = class extends Rse.Shape {
  _sceneFunc(e) {
    e.beginPath(), e.arc(0, 0, this.attrs.radius || 0, 0, Math.PI * 2, !1), e.closePath(), e.fillStrokeShape(this);
  }
  getWidth() {
    return this.radius() * 2;
  }
  getHeight() {
    return this.radius() * 2;
  }
  setWidth(e) {
    this.radius() !== e / 2 && this.radius(e / 2);
  }
  setHeight(e) {
    this.radius() !== e / 2 && this.radius(e / 2);
  }
};
Cw.Circle = D0;
D0.prototype._centroid = !0;
D0.prototype.className = "Circle";
D0.prototype._attrsAffectingSize = ["radius"];
(0, Ose._registerNode)(D0);
Pse.Factory.addGetterSetter(D0, "radius", 0, (0, Lse.getNumberValidator)());
var Aw = {};
Object.defineProperty(Aw, "__esModule", { value: !0 });
Aw.Ellipse = void 0;
const o8 = tn, Fse = ta, CH = Pr, Nse = Kr;
let oh = class extends Fse.Shape {
  _sceneFunc(e) {
    const t = this.radiusX(), i = this.radiusY();
    e.beginPath(), e.save(), t !== i && e.scale(1, i / t), e.arc(0, 0, t, 0, Math.PI * 2, !1), e.restore(), e.closePath(), e.fillStrokeShape(this);
  }
  getWidth() {
    return this.radiusX() * 2;
  }
  getHeight() {
    return this.radiusY() * 2;
  }
  setWidth(e) {
    this.radiusX(e / 2);
  }
  setHeight(e) {
    this.radiusY(e / 2);
  }
};
Aw.Ellipse = oh;
oh.prototype.className = "Ellipse";
oh.prototype._centroid = !0;
oh.prototype._attrsAffectingSize = ["radiusX", "radiusY"];
(0, Nse._registerNode)(oh);
o8.Factory.addComponentsGetterSetter(oh, "radius", ["x", "y"]);
o8.Factory.addGetterSetter(oh, "radiusX", 0, (0, CH.getNumberValidator)());
o8.Factory.addGetterSetter(oh, "radiusY", 0, (0, CH.getNumberValidator)());
var Ew = {};
Object.defineProperty(Ew, "__esModule", { value: !0 });
Ew.Image = void 0;
const H4 = ui, pd = tn, Bse = ta, Vse = Kr, Y1 = Pr;
let Ol = class AH extends Bse.Shape {
  constructor(e) {
    super(e), this._loadListener = () => {
      this._requestDraw();
    }, this.on("imageChange.konva", (t) => {
      this._removeImageLoad(t.oldVal), this._setImageLoad();
    }), this._setImageLoad();
  }
  _setImageLoad() {
    const e = this.image();
    e && e.complete || e && e.readyState === 4 || e && e.addEventListener && e.addEventListener("load", this._loadListener);
  }
  _removeImageLoad(e) {
    e && e.removeEventListener && e.removeEventListener("load", this._loadListener);
  }
  destroy() {
    return this._removeImageLoad(this.image()), super.destroy(), this;
  }
  _useBufferCanvas() {
    const e = !!this.cornerRadius(), t = this.hasShadow();
    return e && t ? !0 : super._useBufferCanvas(!0);
  }
  _sceneFunc(e) {
    const t = this.getWidth(), i = this.getHeight(), a = this.cornerRadius(), n = this.attrs.image;
    let o;
    if (n) {
      const s = this.attrs.cropWidth, l = this.attrs.cropHeight;
      s && l ? o = [
        n,
        this.cropX(),
        this.cropY(),
        s,
        l,
        0,
        0,
        t,
        i
      ] : o = [n, 0, 0, t, i];
    }
    (this.hasFill() || this.hasStroke() || a) && (e.beginPath(), a ? H4.Util.drawRoundedRectPath(e, t, i, a) : e.rect(0, 0, t, i), e.closePath(), e.fillStrokeShape(this)), n && (a && e.clip(), e.drawImage.apply(e, o));
  }
  _hitFunc(e) {
    const t = this.width(), i = this.height(), a = this.cornerRadius();
    e.beginPath(), a ? H4.Util.drawRoundedRectPath(e, t, i, a) : e.rect(0, 0, t, i), e.closePath(), e.fillStrokeShape(this);
  }
  getWidth() {
    var e, t;
    return (e = this.attrs.width) !== null && e !== void 0 ? e : (t = this.image()) === null || t === void 0 ? void 0 : t.width;
  }
  getHeight() {
    var e, t;
    return (e = this.attrs.height) !== null && e !== void 0 ? e : (t = this.image()) === null || t === void 0 ? void 0 : t.height;
  }
  static fromURL(e, t, i = null) {
    const a = H4.Util.createImageElement();
    a.onload = function() {
      const n = new AH({
        image: a
      });
      t(n);
    }, a.onerror = i, a.crossOrigin = "Anonymous", a.src = e;
  }
};
Ew.Image = Ol;
Ol.prototype.className = "Image";
(0, Vse._registerNode)(Ol);
pd.Factory.addGetterSetter(Ol, "cornerRadius", 0, (0, Y1.getNumberOrArrayOfNumbersValidator)(4));
pd.Factory.addGetterSetter(Ol, "image");
pd.Factory.addComponentsGetterSetter(Ol, "crop", ["x", "y", "width", "height"]);
pd.Factory.addGetterSetter(Ol, "cropX", 0, (0, Y1.getNumberValidator)());
pd.Factory.addGetterSetter(Ol, "cropY", 0, (0, Y1.getNumberValidator)());
pd.Factory.addGetterSetter(Ol, "cropWidth", 0, (0, Y1.getNumberValidator)());
pd.Factory.addGetterSetter(Ol, "cropHeight", 0, (0, Y1.getNumberValidator)());
var e0 = {};
Object.defineProperty(e0, "__esModule", { value: !0 });
e0.Tag = e0.Label = void 0;
const Dw = tn, Use = ta, Gse = C0, s8 = Pr, EH = Kr, DH = [
  "fontFamily",
  "fontSize",
  "fontStyle",
  "padding",
  "lineHeight",
  "text",
  "width",
  "height",
  "pointerDirection",
  "pointerWidth",
  "pointerHeight"
], zse = "Change.konva", Wse = "none", lA = "up", uA = "right", cA = "down", hA = "left", Hse = DH.length;
class l8 extends Gse.Group {
  constructor(e) {
    super(e), this.on("add.konva", function(t) {
      this._addListeners(t.child), this._sync();
    });
  }
  getText() {
    return this.find("Text")[0];
  }
  getTag() {
    return this.find("Tag")[0];
  }
  _addListeners(e) {
    let t = this, i;
    const a = function() {
      t._sync();
    };
    for (i = 0; i < Hse; i++)
      e.on(DH[i] + zse, a);
  }
  getWidth() {
    return this.getText().width();
  }
  getHeight() {
    return this.getText().height();
  }
  _sync() {
    let e = this.getText(), t = this.getTag(), i, a, n, o, s, l, u;
    if (e && t) {
      switch (i = e.width(), a = e.height(), n = t.pointerDirection(), o = t.pointerWidth(), u = t.pointerHeight(), s = 0, l = 0, n) {
        case lA:
          s = i / 2, l = -1 * u;
          break;
        case uA:
          s = i + o, l = a / 2;
          break;
        case cA:
          s = i / 2, l = a + u;
          break;
        case hA:
          s = -1 * o, l = a / 2;
          break;
      }
      t.setAttrs({
        x: -1 * s,
        y: -1 * l,
        width: i,
        height: a
      }), e.setAttrs({
        x: -1 * s,
        y: -1 * l
      });
    }
  }
}
e0.Label = l8;
l8.prototype.className = "Label";
(0, EH._registerNode)(l8);
class vd extends Use.Shape {
  _sceneFunc(e) {
    const t = this.width(), i = this.height(), a = this.pointerDirection(), n = this.pointerWidth(), o = this.pointerHeight(), s = this.cornerRadius();
    let l = 0, u = 0, c = 0, f = 0;
    typeof s == "number" ? l = u = c = f = Math.min(s, t / 2, i / 2) : (l = Math.min(s[0] || 0, t / 2, i / 2), u = Math.min(s[1] || 0, t / 2, i / 2), f = Math.min(s[2] || 0, t / 2, i / 2), c = Math.min(s[3] || 0, t / 2, i / 2)), e.beginPath(), e.moveTo(l, 0), a === lA && (e.lineTo((t - n) / 2, 0), e.lineTo(t / 2, -1 * o), e.lineTo((t + n) / 2, 0)), e.lineTo(t - u, 0), e.arc(t - u, u, u, Math.PI * 3 / 2, 0, !1), a === uA && (e.lineTo(t, (i - o) / 2), e.lineTo(t + n, i / 2), e.lineTo(t, (i + o) / 2)), e.lineTo(t, i - f), e.arc(t - f, i - f, f, 0, Math.PI / 2, !1), a === cA && (e.lineTo((t + n) / 2, i), e.lineTo(t / 2, i + o), e.lineTo((t - n) / 2, i)), e.lineTo(c, i), e.arc(c, i - c, c, Math.PI / 2, Math.PI, !1), a === hA && (e.lineTo(0, (i + o) / 2), e.lineTo(-1 * n, i / 2), e.lineTo(0, (i - o) / 2)), e.lineTo(0, l), e.arc(l, l, l, Math.PI, Math.PI * 3 / 2, !1), e.closePath(), e.fillStrokeShape(this);
  }
  getSelfRect() {
    let e = 0, t = 0, i = this.pointerWidth(), a = this.pointerHeight(), n = this.pointerDirection(), o = this.width(), s = this.height();
    return n === lA ? (t -= a, s += a) : n === cA ? s += a : n === hA ? (e -= i * 1.5, o += i) : n === uA && (o += i * 1.5), {
      x: e,
      y: t,
      width: o,
      height: s
    };
  }
}
e0.Tag = vd;
vd.prototype.className = "Tag";
(0, EH._registerNode)(vd);
Dw.Factory.addGetterSetter(vd, "pointerDirection", Wse);
Dw.Factory.addGetterSetter(vd, "pointerWidth", 0, (0, s8.getNumberValidator)());
Dw.Factory.addGetterSetter(vd, "pointerHeight", 0, (0, s8.getNumberValidator)());
Dw.Factory.addGetterSetter(vd, "cornerRadius", 0, (0, s8.getNumberOrArrayOfNumbersValidator)(4));
var j1 = {};
Object.defineProperty(j1, "__esModule", { value: !0 });
j1.Rect = void 0;
const $se = tn, Yse = ta, jse = Kr, qse = ui, Xse = Pr;
let kw = class extends Yse.Shape {
  _sceneFunc(e) {
    const t = this.cornerRadius(), i = this.width(), a = this.height();
    e.beginPath(), t ? qse.Util.drawRoundedRectPath(e, i, a, t) : e.rect(0, 0, i, a), e.closePath(), e.fillStrokeShape(this);
  }
};
j1.Rect = kw;
kw.prototype.className = "Rect";
(0, jse._registerNode)(kw);
$se.Factory.addGetterSetter(kw, "cornerRadius", 0, (0, Xse.getNumberOrArrayOfNumbersValidator)(4));
var Mw = {};
Object.defineProperty(Mw, "__esModule", { value: !0 });
Mw.RegularPolygon = void 0;
const kH = tn, Kse = ta, MH = Pr, Zse = Kr;
class gd extends Kse.Shape {
  _sceneFunc(e) {
    const t = this._getPoints();
    e.beginPath(), e.moveTo(t[0].x, t[0].y);
    for (let i = 1; i < t.length; i++)
      e.lineTo(t[i].x, t[i].y);
    e.closePath(), e.fillStrokeShape(this);
  }
  _getPoints() {
    const e = this.attrs.sides, t = this.attrs.radius || 0, i = [];
    for (let a = 0; a < e; a++)
      i.push({
        x: t * Math.sin(a * 2 * Math.PI / e),
        y: -1 * t * Math.cos(a * 2 * Math.PI / e)
      });
    return i;
  }
  getSelfRect() {
    const e = this._getPoints();
    let t = e[0].x, i = e[0].y, a = e[0].x, n = e[0].y;
    return e.forEach((o) => {
      t = Math.min(t, o.x), i = Math.max(i, o.x), a = Math.min(a, o.y), n = Math.max(n, o.y);
    }), {
      x: t,
      y: a,
      width: i - t,
      height: n - a
    };
  }
  getWidth() {
    return this.radius() * 2;
  }
  getHeight() {
    return this.radius() * 2;
  }
  setWidth(e) {
    this.radius(e / 2);
  }
  setHeight(e) {
    this.radius(e / 2);
  }
}
Mw.RegularPolygon = gd;
gd.prototype.className = "RegularPolygon";
gd.prototype._centroid = !0;
gd.prototype._attrsAffectingSize = ["radius"];
(0, Zse._registerNode)(gd);
kH.Factory.addGetterSetter(gd, "radius", 0, (0, MH.getNumberValidator)());
kH.Factory.addGetterSetter(gd, "sides", 0, (0, MH.getNumberValidator)());
var Iw = {};
Object.defineProperty(Iw, "__esModule", { value: !0 });
Iw.Ring = void 0;
const IH = tn, Jse = ta, PH = Pr, Qse = Kr, PR = Math.PI * 2;
let md = class extends Jse.Shape {
  _sceneFunc(e) {
    e.beginPath(), e.arc(0, 0, this.innerRadius(), 0, PR, !1), e.moveTo(this.outerRadius(), 0), e.arc(0, 0, this.outerRadius(), PR, 0, !0), e.closePath(), e.fillStrokeShape(this);
  }
  getWidth() {
    return this.outerRadius() * 2;
  }
  getHeight() {
    return this.outerRadius() * 2;
  }
  setWidth(e) {
    this.outerRadius(e / 2);
  }
  setHeight(e) {
    this.outerRadius(e / 2);
  }
};
Iw.Ring = md;
md.prototype.className = "Ring";
md.prototype._centroid = !0;
md.prototype._attrsAffectingSize = ["innerRadius", "outerRadius"];
(0, Qse._registerNode)(md);
IH.Factory.addGetterSetter(md, "innerRadius", 0, (0, PH.getNumberValidator)());
IH.Factory.addGetterSetter(md, "outerRadius", 0, (0, PH.getNumberValidator)());
var Pw = {};
Object.defineProperty(Pw, "__esModule", { value: !0 });
Pw.Sprite = void 0;
const yd = tn, ele = ta, tle = A0, RH = Pr, rle = Kr;
class Fl extends ele.Shape {
  constructor(e) {
    super(e), this._updated = !0, this.anim = new tle.Animation(() => {
      const t = this._updated;
      return this._updated = !1, t;
    }), this.on("animationChange.konva", function() {
      this.frameIndex(0);
    }), this.on("frameIndexChange.konva", function() {
      this._updated = !0;
    }), this.on("frameRateChange.konva", function() {
      this.anim.isRunning() && (clearInterval(this.interval), this._setInterval());
    });
  }
  _sceneFunc(e) {
    const t = this.animation(), i = this.frameIndex(), a = i * 4, n = this.animations()[t], o = this.frameOffsets(), s = n[a + 0], l = n[a + 1], u = n[a + 2], c = n[a + 3], f = this.image();
    if ((this.hasFill() || this.hasStroke()) && (e.beginPath(), e.rect(0, 0, u, c), e.closePath(), e.fillStrokeShape(this)), f)
      if (o) {
        const d = o[t], p = i * 2;
        e.drawImage(f, s, l, u, c, d[p + 0], d[p + 1], u, c);
      } else
        e.drawImage(f, s, l, u, c, 0, 0, u, c);
  }
  _hitFunc(e) {
    const t = this.animation(), i = this.frameIndex(), a = i * 4, n = this.animations()[t], o = this.frameOffsets(), s = n[a + 2], l = n[a + 3];
    if (e.beginPath(), o) {
      const u = o[t], c = i * 2;
      e.rect(u[c + 0], u[c + 1], s, l);
    } else
      e.rect(0, 0, s, l);
    e.closePath(), e.fillShape(this);
  }
  _useBufferCanvas() {
    return super._useBufferCanvas(!0);
  }
  _setInterval() {
    const e = this;
    this.interval = setInterval(function() {
      e._updateIndex();
    }, 1e3 / this.frameRate());
  }
  start() {
    if (this.isRunning())
      return;
    const e = this.getLayer();
    this.anim.setLayers(e), this._setInterval(), this.anim.start();
  }
  stop() {
    this.anim.stop(), clearInterval(this.interval);
  }
  isRunning() {
    return this.anim.isRunning();
  }
  _updateIndex() {
    const e = this.frameIndex(), t = this.animation(), i = this.animations(), a = i[t], n = a.length / 4;
    e < n - 1 ? this.frameIndex(e + 1) : this.frameIndex(0);
  }
}
Pw.Sprite = Fl;
Fl.prototype.className = "Sprite";
(0, rle._registerNode)(Fl);
yd.Factory.addGetterSetter(Fl, "animation");
yd.Factory.addGetterSetter(Fl, "animations");
yd.Factory.addGetterSetter(Fl, "frameOffsets");
yd.Factory.addGetterSetter(Fl, "image");
yd.Factory.addGetterSetter(Fl, "frameIndex", 0, (0, RH.getNumberValidator)());
yd.Factory.addGetterSetter(Fl, "frameRate", 17, (0, RH.getNumberValidator)());
yd.Factory.backCompat(Fl, {
  index: "frameIndex",
  getIndex: "getFrameIndex",
  setIndex: "setFrameIndex"
});
var Rw = {};
Object.defineProperty(Rw, "__esModule", { value: !0 });
Rw.Star = void 0;
const u8 = tn, nle = ta, c8 = Pr, ile = Kr;
class sh extends nle.Shape {
  _sceneFunc(e) {
    const t = this.innerRadius(), i = this.outerRadius(), a = this.numPoints();
    e.beginPath(), e.moveTo(0, 0 - i);
    for (let n = 1; n < a * 2; n++) {
      const o = n % 2 === 0 ? i : t, s = o * Math.sin(n * Math.PI / a), l = -1 * o * Math.cos(n * Math.PI / a);
      e.lineTo(s, l);
    }
    e.closePath(), e.fillStrokeShape(this);
  }
  getWidth() {
    return this.outerRadius() * 2;
  }
  getHeight() {
    return this.outerRadius() * 2;
  }
  setWidth(e) {
    this.outerRadius(e / 2);
  }
  setHeight(e) {
    this.outerRadius(e / 2);
  }
}
Rw.Star = sh;
sh.prototype.className = "Star";
sh.prototype._centroid = !0;
sh.prototype._attrsAffectingSize = ["innerRadius", "outerRadius"];
(0, ile._registerNode)(sh);
u8.Factory.addGetterSetter(sh, "numPoints", 5, (0, c8.getNumberValidator)());
u8.Factory.addGetterSetter(sh, "innerRadius", 0, (0, c8.getNumberValidator)());
u8.Factory.addGetterSetter(sh, "outerRadius", 0, (0, c8.getNumberValidator)());
var k0 = {};
Object.defineProperty(k0, "__esModule", { value: !0 });
k0.Text = void 0;
k0.stringToArray = pf;
const fA = ui, $a = tn, ale = ta, $4 = Kr, lh = Pr, ole = Kr;
function pf(r) {
  return [...r].reduce((e, t, i, a) => {
    if (/\p{Emoji}/u.test(t)) {
      const n = a[i + 1];
      n && /\p{Emoji_Modifier}|\u200D/u.test(n) ? (e.push(t + n), a[i + 1] = "") : e.push(t);
    } else
      /\p{Regional_Indicator}{2}/u.test(t + (a[i + 1] || "")) ? e.push(t + a[i + 1]) : i > 0 && /\p{Mn}|\p{Me}|\p{Mc}/u.test(t) ? e[e.length - 1] += t : t && e.push(t);
    return e;
  }, []);
}
const Qd = "auto", sle = "center", LH = "inherit", Fv = "justify", lle = "Change.konva", ule = "2d", RR = "-", OH = "left", cle = "text", hle = "Text", fle = "top", dle = "bottom", LR = "middle", FH = "normal", ple = "px ", my = " ", vle = "right", OR = "rtl", gle = "word", mle = "char", FR = "none", Y4 = "", NH = [
  "direction",
  "fontFamily",
  "fontSize",
  "fontStyle",
  "fontVariant",
  "padding",
  "align",
  "verticalAlign",
  "lineHeight",
  "text",
  "width",
  "height",
  "wrap",
  "ellipsis",
  "letterSpacing"
], yle = NH.length;
function _le(r) {
  return r.split(",").map((e) => {
    e = e.trim();
    const t = e.indexOf(" ") >= 0, i = e.indexOf('"') >= 0 || e.indexOf("'") >= 0;
    return t && !i && (e = `"${e}"`), e;
  }).join(", ");
}
let yy;
function j4() {
  return yy || (yy = fA.Util.createCanvasElement().getContext(ule), yy);
}
function ble(r) {
  r.fillText(this._partialText, this._partialTextX, this._partialTextY);
}
function wle(r) {
  r.setAttr("miterLimit", 2), r.strokeText(this._partialText, this._partialTextX, this._partialTextY);
}
function Sle(r) {
  return r = r || {}, !r.fillLinearGradientColorStops && !r.fillRadialGradientColorStops && !r.fillPatternImage && (r.fill = r.fill || "black"), r;
}
class xi extends ale.Shape {
  constructor(e) {
    super(Sle(e)), this._partialTextX = 0, this._partialTextY = 0;
    for (let t = 0; t < yle; t++)
      this.on(NH[t] + lle, this._setTextData);
    this._setTextData();
  }
  _sceneFunc(e) {
    const t = this.textArr, i = t.length;
    if (!this.text())
      return;
    let a = this.padding(), n = this.fontSize(), o = this.lineHeight() * n, s = this.verticalAlign(), l = this.direction(), u = 0, c = this.align(), f = this.getWidth(), d = this.letterSpacing(), p = this.fill(), v = this.textDecoration(), y = v.indexOf("underline") !== -1, _ = v.indexOf("line-through") !== -1, w;
    l = l === LH ? e.direction : l;
    let S = o / 2, x = LR;
    if ($4.Konva._fixTextRendering) {
      const V = this.measureSize("M");
      x = "alphabetic", S = (V.fontBoundingBoxAscent - V.fontBoundingBoxDescent) / 2 + o / 2;
    }
    var E = 0, M = 0;
    for (l === OR && e.setAttr("direction", l), e.setAttr("font", this._getContextFont()), e.setAttr("textBaseline", x), e.setAttr("textAlign", OH), s === LR ? u = (this.getHeight() - i * o - a * 2) / 2 : s === dle && (u = this.getHeight() - i * o - a * 2), e.translate(a, u + a), w = 0; w < i; w++) {
      var E = 0, M = 0, k = t[w], P = k.text, L = k.width, F = k.lastInParagraph, O, U;
      if (e.save(), c === vle ? E += f - L - a * 2 : c === sle && (E += (f - L - a * 2) / 2), y) {
        e.save(), e.beginPath();
        const Z = $4.Konva._fixTextRendering ? Math.round(n / 4) : Math.round(n / 2), Q = E, se = S + M + Z;
        e.moveTo(Q, se), O = P.split(" ").length - 1, U = c === Fv && !F ? f - a * 2 : L, e.lineTo(Q + Math.round(U), se), e.lineWidth = n / 15;
        const de = this._getLinearGradient();
        e.strokeStyle = de || p, e.stroke(), e.restore();
      }
      if (_) {
        e.save(), e.beginPath();
        const Z = $4.Konva._fixTextRendering ? -Math.round(n / 4) : 0;
        e.moveTo(E, S + M + Z), O = P.split(" ").length - 1, U = c === Fv && !F ? f - a * 2 : L, e.lineTo(E + Math.round(U), S + M + Z), e.lineWidth = n / 15;
        const Q = this._getLinearGradient();
        e.strokeStyle = Q || p, e.stroke(), e.restore();
      }
      if (l !== OR && (d !== 0 || c === Fv)) {
        O = P.split(" ").length - 1;
        const Z = pf(P);
        for (let Q = 0; Q < Z.length; Q++) {
          const se = Z[Q];
          se === " " && !F && c === Fv && (E += (f - a * 2 - L) / O), this._partialTextX = E, this._partialTextY = S + M, this._partialText = se, e.fillStrokeShape(this), E += this.measureSize(se).width + d;
        }
      } else
        d !== 0 && e.setAttr("letterSpacing", `${d}px`), this._partialTextX = E, this._partialTextY = S + M, this._partialText = P, e.fillStrokeShape(this);
      e.restore(), i > 1 && (S += o);
    }
  }
  _hitFunc(e) {
    const t = this.getWidth(), i = this.getHeight();
    e.beginPath(), e.rect(0, 0, t, i), e.closePath(), e.fillStrokeShape(this);
  }
  setText(e) {
    const t = fA.Util._isString(e) ? e : e == null ? "" : e + "";
    return this._setAttr(cle, t), this;
  }
  getWidth() {
    return this.attrs.width === Qd || this.attrs.width === void 0 ? this.getTextWidth() + this.padding() * 2 : this.attrs.width;
  }
  getHeight() {
    return this.attrs.height === Qd || this.attrs.height === void 0 ? this.fontSize() * this.textArr.length * this.lineHeight() + this.padding() * 2 : this.attrs.height;
  }
  getTextWidth() {
    return this.textWidth;
  }
  getTextHeight() {
    return fA.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."), this.textHeight;
  }
  measureSize(e) {
    var t, i, a, n, o, s, l, u, c, f, d;
    let p = j4(), v = this.fontSize(), y;
    p.save(), p.font = this._getContextFont(), y = p.measureText(e), p.restore();
    const _ = v / 100;
    return {
      actualBoundingBoxAscent: (t = y.actualBoundingBoxAscent) !== null && t !== void 0 ? t : 71.58203125 * _,
      actualBoundingBoxDescent: (i = y.actualBoundingBoxDescent) !== null && i !== void 0 ? i : 0,
      actualBoundingBoxLeft: (a = y.actualBoundingBoxLeft) !== null && a !== void 0 ? a : -7.421875 * _,
      actualBoundingBoxRight: (n = y.actualBoundingBoxRight) !== null && n !== void 0 ? n : 75.732421875 * _,
      alphabeticBaseline: (o = y.alphabeticBaseline) !== null && o !== void 0 ? o : 0,
      emHeightAscent: (s = y.emHeightAscent) !== null && s !== void 0 ? s : 100 * _,
      emHeightDescent: (l = y.emHeightDescent) !== null && l !== void 0 ? l : -20 * _,
      fontBoundingBoxAscent: (u = y.fontBoundingBoxAscent) !== null && u !== void 0 ? u : 91 * _,
      fontBoundingBoxDescent: (c = y.fontBoundingBoxDescent) !== null && c !== void 0 ? c : 21 * _,
      hangingBaseline: (f = y.hangingBaseline) !== null && f !== void 0 ? f : 72.80000305175781 * _,
      ideographicBaseline: (d = y.ideographicBaseline) !== null && d !== void 0 ? d : -21 * _,
      width: y.width,
      height: v
    };
  }
  _getContextFont() {
    return this.fontStyle() + my + this.fontVariant() + my + (this.fontSize() + ple) + _le(this.fontFamily());
  }
  _addTextLine(e) {
    this.align() === Fv && (e = e.trim());
    const i = this._getTextWidth(e);
    return this.textArr.push({
      text: e,
      width: i,
      lastInParagraph: !1
    });
  }
  _getTextWidth(e) {
    const t = this.letterSpacing(), i = e.length;
    return j4().measureText(e).width + t * i;
  }
  _setTextData() {
    let e = this.text().split(`
`), t = +this.fontSize(), i = 0, a = this.lineHeight() * t, n = this.attrs.width, o = this.attrs.height, s = n !== Qd && n !== void 0, l = o !== Qd && o !== void 0, u = this.padding(), c = n - u * 2, f = o - u * 2, d = 0, p = this.wrap(), v = p !== FR, y = p !== mle && v, _ = this.ellipsis();
    this.textArr = [], j4().font = this._getContextFont();
    const w = _ ? this._getTextWidth(Y4) : 0;
    for (let S = 0, x = e.length; S < x; ++S) {
      let E = e[S], M = this._getTextWidth(E);
      if (s && M > c)
        for (; E.length > 0; ) {
          let k = 0, P = pf(E).length, L = "", F = 0;
          for (; k < P; ) {
            const O = k + P >>> 1, U = pf(E), V = U.slice(0, O + 1).join(""), G = this._getTextWidth(V);
            (_ && l && d + a > f ? G + w : G) <= c ? (k = O + 1, L = V, F = G) : P = O;
          }
          if (L) {
            if (y) {
              const V = pf(E), G = pf(L), Z = V[G.length], Q = Z === my || Z === RR;
              let se;
              if (Q && F <= c)
                se = G.length;
              else {
                const de = G.lastIndexOf(my), le = G.lastIndexOf(RR);
                se = Math.max(de, le) + 1;
              }
              se > 0 && (k = se, L = V.slice(0, k).join(""), F = this._getTextWidth(L));
            }
            if (L = L.trimRight(), this._addTextLine(L), i = Math.max(i, F), d += a, this._shouldHandleEllipsis(d)) {
              this._tryToAddEllipsisToLastLine();
              break;
            }
            if (E = pf(E).slice(k).join("").trimLeft(), E.length > 0 && (M = this._getTextWidth(E), M <= c)) {
              this._addTextLine(E), d += a, i = Math.max(i, M);
              break;
            }
          } else
            break;
        }
      else
        this._addTextLine(E), d += a, i = Math.max(i, M), this._shouldHandleEllipsis(d) && S < x - 1 && this._tryToAddEllipsisToLastLine();
      if (this.textArr[this.textArr.length - 1] && (this.textArr[this.textArr.length - 1].lastInParagraph = !0), l && d + a > f)
        break;
    }
    this.textHeight = t, this.textWidth = i;
  }
  _shouldHandleEllipsis(e) {
    const t = +this.fontSize(), i = this.lineHeight() * t, a = this.attrs.height, n = a !== Qd && a !== void 0, o = this.padding(), s = a - o * 2;
    return !(this.wrap() !== FR) || n && e + i > s;
  }
  _tryToAddEllipsisToLastLine() {
    const e = this.attrs.width, t = e !== Qd && e !== void 0, i = this.padding(), a = e - i * 2, n = this.ellipsis(), o = this.textArr[this.textArr.length - 1];
    !o || !n || (t && (this._getTextWidth(o.text + Y4) < a || (o.text = o.text.slice(0, o.text.length - 3))), this.textArr.splice(this.textArr.length - 1, 1), this._addTextLine(o.text + Y4));
  }
  getStrokeScaleEnabled() {
    return !0;
  }
  _useBufferCanvas() {
    const e = this.textDecoration().indexOf("underline") !== -1 || this.textDecoration().indexOf("line-through") !== -1, t = this.hasShadow();
    return e && t ? !0 : super._useBufferCanvas();
  }
}
k0.Text = xi;
xi.prototype._fillFunc = ble;
xi.prototype._strokeFunc = wle;
xi.prototype.className = hle;
xi.prototype._attrsAffectingSize = [
  "text",
  "fontSize",
  "padding",
  "wrap",
  "lineHeight",
  "letterSpacing"
];
(0, ole._registerNode)(xi);
$a.Factory.overWriteSetter(xi, "width", (0, lh.getNumberOrAutoValidator)());
$a.Factory.overWriteSetter(xi, "height", (0, lh.getNumberOrAutoValidator)());
$a.Factory.addGetterSetter(xi, "direction", LH);
$a.Factory.addGetterSetter(xi, "fontFamily", "Arial");
$a.Factory.addGetterSetter(xi, "fontSize", 12, (0, lh.getNumberValidator)());
$a.Factory.addGetterSetter(xi, "fontStyle", FH);
$a.Factory.addGetterSetter(xi, "fontVariant", FH);
$a.Factory.addGetterSetter(xi, "padding", 0, (0, lh.getNumberValidator)());
$a.Factory.addGetterSetter(xi, "align", OH);
$a.Factory.addGetterSetter(xi, "verticalAlign", fle);
$a.Factory.addGetterSetter(xi, "lineHeight", 1, (0, lh.getNumberValidator)());
$a.Factory.addGetterSetter(xi, "wrap", gle);
$a.Factory.addGetterSetter(xi, "ellipsis", !1, (0, lh.getBooleanValidator)());
$a.Factory.addGetterSetter(xi, "letterSpacing", 0, (0, lh.getNumberValidator)());
$a.Factory.addGetterSetter(xi, "text", "", (0, lh.getStringValidator)());
$a.Factory.addGetterSetter(xi, "textDecoration", "");
var Lw = {};
Object.defineProperty(Lw, "__esModule", { value: !0 });
Lw.TextPath = void 0;
const q4 = ui, $s = tn, xle = ta, Nv = E0, X4 = k0, BH = Pr, Tle = Kr, Cle = "", VH = "normal";
function UH(r) {
  r.fillText(this.partialText, 0, 0);
}
function GH(r) {
  r.strokeText(this.partialText, 0, 0);
}
class ra extends xle.Shape {
  constructor(e) {
    super(e), this.dummyCanvas = q4.Util.createCanvasElement(), this.dataArray = [], this._readDataAttribute(), this.on("dataChange.konva", function() {
      this._readDataAttribute(), this._setTextData();
    }), this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva", this._setTextData), this._setTextData();
  }
  _getTextPathLength() {
    return Nv.Path.getPathLength(this.dataArray);
  }
  _getPointAtLength(e) {
    if (!this.attrs.data)
      return null;
    const t = this.pathLength;
    return e - 1 > t ? null : Nv.Path.getPointAtLengthOfDataArray(e, this.dataArray);
  }
  _readDataAttribute() {
    this.dataArray = Nv.Path.parsePathData(this.attrs.data), this.pathLength = this._getTextPathLength();
  }
  _sceneFunc(e) {
    e.setAttr("font", this._getContextFont()), e.setAttr("textBaseline", this.textBaseline()), e.setAttr("textAlign", "left"), e.save();
    const t = this.textDecoration(), i = this.fill(), a = this.fontSize(), n = this.glyphInfo;
    t === "underline" && e.beginPath();
    for (let o = 0; o < n.length; o++) {
      e.save();
      const s = n[o].p0;
      e.translate(s.x, s.y), e.rotate(n[o].rotation), this.partialText = n[o].text, e.fillStrokeShape(this), t === "underline" && (o === 0 && e.moveTo(0, a / 2 + 1), e.lineTo(a, a / 2 + 1)), e.restore();
    }
    t === "underline" && (e.strokeStyle = i, e.lineWidth = a / 20, e.stroke()), e.restore();
  }
  _hitFunc(e) {
    e.beginPath();
    const t = this.glyphInfo;
    if (t.length >= 1) {
      const i = t[0].p0;
      e.moveTo(i.x, i.y);
    }
    for (let i = 0; i < t.length; i++) {
      const a = t[i].p1;
      e.lineTo(a.x, a.y);
    }
    e.setAttr("lineWidth", this.fontSize()), e.setAttr("strokeStyle", this.colorKey), e.stroke();
  }
  getTextWidth() {
    return this.textWidth;
  }
  getTextHeight() {
    return q4.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."), this.textHeight;
  }
  setText(e) {
    return X4.Text.prototype.setText.call(this, e);
  }
  _getContextFont() {
    return X4.Text.prototype._getContextFont.call(this);
  }
  _getTextSize(e) {
    const i = this.dummyCanvas.getContext("2d");
    i.save(), i.font = this._getContextFont();
    const a = i.measureText(e);
    return i.restore(), {
      width: a.width,
      height: parseInt(`${this.fontSize()}`, 10)
    };
  }
  _setTextData() {
    const { width: e, height: t } = this._getTextSize(this.attrs.text);
    if (this.textWidth = e, this.textHeight = t, this.glyphInfo = [], !this.attrs.data)
      return null;
    const i = this.letterSpacing(), a = this.align(), n = this.kerningFunc(), o = Math.max(this.textWidth + ((this.attrs.text || "").length - 1) * i, 0);
    let s = 0;
    a === "center" && (s = Math.max(0, this.pathLength / 2 - o / 2)), a === "right" && (s = Math.max(0, this.pathLength - o));
    const l = (0, X4.stringToArray)(this.text());
    let u = s;
    for (let c = 0; c < l.length; c++) {
      const f = this._getPointAtLength(u);
      if (!f)
        return;
      let d = this._getTextSize(l[c]).width + i;
      if (l[c] === " " && a === "justify") {
        const S = this.text().split(" ").length - 1;
        d += (this.pathLength - o) / S;
      }
      const p = this._getPointAtLength(u + d);
      if (!p)
        return;
      const v = Nv.Path.getLineLength(f.x, f.y, p.x, p.y);
      let y = 0;
      if (n)
        try {
          y = n(l[c - 1], l[c]) * this.fontSize();
        } catch {
          y = 0;
        }
      f.x += y, p.x += y, this.textWidth += y;
      const _ = Nv.Path.getPointOnLine(y + v / 2, f.x, f.y, p.x, p.y), w = Math.atan2(p.y - f.y, p.x - f.x);
      this.glyphInfo.push({
        transposeX: _.x,
        transposeY: _.y,
        text: l[c],
        rotation: w,
        p0: f,
        p1: p
      }), u += d;
    }
  }
  getSelfRect() {
    if (!this.glyphInfo.length)
      return {
        x: 0,
        y: 0,
        width: 0,
        height: 0
      };
    const e = [];
    this.glyphInfo.forEach(function(u) {
      e.push(u.p0.x), e.push(u.p0.y), e.push(u.p1.x), e.push(u.p1.y);
    });
    let t = e[0] || 0, i = e[0] || 0, a = e[1] || 0, n = e[1] || 0, o, s;
    for (let u = 0; u < e.length / 2; u++)
      o = e[u * 2], s = e[u * 2 + 1], t = Math.min(t, o), i = Math.max(i, o), a = Math.min(a, s), n = Math.max(n, s);
    const l = this.fontSize();
    return {
      x: t - l / 2,
      y: a - l / 2,
      width: i - t + l,
      height: n - a + l
    };
  }
  destroy() {
    return q4.Util.releaseCanvas(this.dummyCanvas), super.destroy();
  }
}
Lw.TextPath = ra;
ra.prototype._fillFunc = UH;
ra.prototype._strokeFunc = GH;
ra.prototype._fillFuncHit = UH;
ra.prototype._strokeFuncHit = GH;
ra.prototype.className = "TextPath";
ra.prototype._attrsAffectingSize = ["text", "fontSize", "data"];
(0, Tle._registerNode)(ra);
$s.Factory.addGetterSetter(ra, "data");
$s.Factory.addGetterSetter(ra, "fontFamily", "Arial");
$s.Factory.addGetterSetter(ra, "fontSize", 12, (0, BH.getNumberValidator)());
$s.Factory.addGetterSetter(ra, "fontStyle", VH);
$s.Factory.addGetterSetter(ra, "align", "left");
$s.Factory.addGetterSetter(ra, "letterSpacing", 0, (0, BH.getNumberValidator)());
$s.Factory.addGetterSetter(ra, "textBaseline", "middle");
$s.Factory.addGetterSetter(ra, "fontVariant", VH);
$s.Factory.addGetterSetter(ra, "text", Cle);
$s.Factory.addGetterSetter(ra, "textDecoration", "");
$s.Factory.addGetterSetter(ra, "kerningFunc", void 0);
var Ow = {};
Object.defineProperty(Ow, "__esModule", { value: !0 });
Ow.Transformer = void 0;
const Fn = ui, Tn = tn, NR = ni, Ale = ta, Ele = j1, BR = C0, Ts = Kr, uh = Pr, Dle = Kr, zH = "tr-konva", kle = [
  "resizeEnabledChange",
  "rotateAnchorOffsetChange",
  "rotateEnabledChange",
  "enabledAnchorsChange",
  "anchorSizeChange",
  "borderEnabledChange",
  "borderStrokeChange",
  "borderStrokeWidthChange",
  "borderDashChange",
  "anchorStrokeChange",
  "anchorStrokeWidthChange",
  "anchorFillChange",
  "anchorCornerRadiusChange",
  "ignoreStrokeChange",
  "anchorStyleFuncChange"
].map((r) => r + `.${zH}`).join(" "), VR = "nodesRect", Mle = [
  "widthChange",
  "heightChange",
  "scaleXChange",
  "scaleYChange",
  "skewXChange",
  "skewYChange",
  "rotationChange",
  "offsetXChange",
  "offsetYChange",
  "transformsEnabledChange",
  "strokeWidthChange"
], Ile = {
  "top-left": -45,
  "top-center": 0,
  "top-right": 45,
  "middle-right": -90,
  "middle-left": 90,
  "bottom-left": -135,
  "bottom-center": 180,
  "bottom-right": 135
}, Ple = "ontouchstart" in Ts.Konva._global;
function Rle(r, e, t) {
  if (r === "rotater")
    return t;
  e += Fn.Util.degToRad(Ile[r] || 0);
  const i = (Fn.Util.radToDeg(e) % 360 + 360) % 360;
  return Fn.Util._inRange(i, 315 + 22.5, 360) || Fn.Util._inRange(i, 0, 22.5) ? "ns-resize" : Fn.Util._inRange(i, 45 - 22.5, 45 + 22.5) ? "nesw-resize" : Fn.Util._inRange(i, 90 - 22.5, 90 + 22.5) ? "ew-resize" : Fn.Util._inRange(i, 135 - 22.5, 135 + 22.5) ? "nwse-resize" : Fn.Util._inRange(i, 180 - 22.5, 180 + 22.5) ? "ns-resize" : Fn.Util._inRange(i, 225 - 22.5, 225 + 22.5) ? "nesw-resize" : Fn.Util._inRange(i, 270 - 22.5, 270 + 22.5) ? "ew-resize" : Fn.Util._inRange(i, 315 - 22.5, 315 + 22.5) ? "nwse-resize" : (Fn.Util.error("Transformer has unknown angle for cursor detection: " + i), "pointer");
}
const k_ = [
  "top-left",
  "top-center",
  "top-right",
  "middle-right",
  "middle-left",
  "bottom-left",
  "bottom-center",
  "bottom-right"
], UR = 1e8;
function Lle(r) {
  return {
    x: r.x + r.width / 2 * Math.cos(r.rotation) + r.height / 2 * Math.sin(-r.rotation),
    y: r.y + r.height / 2 * Math.cos(r.rotation) + r.width / 2 * Math.sin(r.rotation)
  };
}
function WH(r, e, t) {
  const i = t.x + (r.x - t.x) * Math.cos(e) - (r.y - t.y) * Math.sin(e), a = t.y + (r.x - t.x) * Math.sin(e) + (r.y - t.y) * Math.cos(e);
  return {
    ...r,
    rotation: r.rotation + e,
    x: i,
    y: a
  };
}
function Ole(r, e) {
  const t = Lle(r);
  return WH(r, e, t);
}
function Fle(r, e, t) {
  let i = e;
  for (let a = 0; a < r.length; a++) {
    const n = Ts.Konva.getAngle(r[a]), o = Math.abs(n - e) % (Math.PI * 2);
    Math.min(o, Math.PI * 2 - o) < t && (i = n);
  }
  return i;
}
let dA = 0;
class cn extends BR.Group {
  constructor(e) {
    super(e), this._movingAnchorName = null, this._transforming = !1, this._createElements(), this._handleMouseMove = this._handleMouseMove.bind(this), this._handleMouseUp = this._handleMouseUp.bind(this), this.update = this.update.bind(this), this.on(kle, this.update), this.getNode() && this.update();
  }
  attachTo(e) {
    return this.setNode(e), this;
  }
  setNode(e) {
    return Fn.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."), this.setNodes([e]);
  }
  getNode() {
    return this._nodes && this._nodes[0];
  }
  _getEventNamespace() {
    return zH + this._id;
  }
  setNodes(e = []) {
    this._nodes && this._nodes.length && this.detach();
    const t = e.filter((a) => a.isAncestorOf(this) ? (Fn.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"), !1) : !0);
    return this._nodes = e = t, e.length === 1 && this.useSingleNodeRotation() ? this.rotation(e[0].getAbsoluteRotation()) : this.rotation(0), this._nodes.forEach((a) => {
      const n = () => {
        this.nodes().length === 1 && this.useSingleNodeRotation() && this.rotation(this.nodes()[0].getAbsoluteRotation()), this._resetTransformCache(), !this._transforming && !this.isDragging() && this.update();
      };
      if (a._attrsAffectingSize.length) {
        const o = a._attrsAffectingSize.map((s) => s + "Change." + this._getEventNamespace()).join(" ");
        a.on(o, n);
      }
      a.on(Mle.map((o) => o + `.${this._getEventNamespace()}`).join(" "), n), a.on(`absoluteTransformChange.${this._getEventNamespace()}`, n), this._proxyDrag(a);
    }), this._resetTransformCache(), !!this.findOne(".top-left") && this.update(), this;
  }
  _proxyDrag(e) {
    let t;
    e.on(`dragstart.${this._getEventNamespace()}`, (i) => {
      t = e.getAbsolutePosition(), !this.isDragging() && e !== this.findOne(".back") && this.startDrag(i, !1);
    }), e.on(`dragmove.${this._getEventNamespace()}`, (i) => {
      if (!t)
        return;
      const a = e.getAbsolutePosition(), n = a.x - t.x, o = a.y - t.y;
      this.nodes().forEach((s) => {
        if (s === e || s.isDragging())
          return;
        const l = s.getAbsolutePosition();
        s.setAbsolutePosition({
          x: l.x + n,
          y: l.y + o
        }), s.startDrag(i);
      }), t = null;
    });
  }
  getNodes() {
    return this._nodes || [];
  }
  getActiveAnchor() {
    return this._movingAnchorName;
  }
  detach() {
    this._nodes && this._nodes.forEach((e) => {
      e.off("." + this._getEventNamespace());
    }), this._nodes = [], this._resetTransformCache();
  }
  _resetTransformCache() {
    this._clearCache(VR), this._clearCache("transform"), this._clearSelfAndDescendantCache("absoluteTransform");
  }
  _getNodeRect() {
    return this._getCache(VR, this.__getNodeRect);
  }
  __getNodeShape(e, t = this.rotation(), i) {
    const a = e.getClientRect({
      skipTransform: !0,
      skipShadow: !0,
      skipStroke: this.ignoreStroke()
    }), n = e.getAbsoluteScale(i), o = e.getAbsolutePosition(i), s = a.x * n.x - e.offsetX() * n.x, l = a.y * n.y - e.offsetY() * n.y, u = (Ts.Konva.getAngle(e.getAbsoluteRotation()) + Math.PI * 2) % (Math.PI * 2), c = {
      x: o.x + s * Math.cos(u) + l * Math.sin(-u),
      y: o.y + l * Math.cos(u) + s * Math.sin(u),
      width: a.width * n.x,
      height: a.height * n.y,
      rotation: u
    };
    return WH(c, -Ts.Konva.getAngle(t), {
      x: 0,
      y: 0
    });
  }
  __getNodeRect() {
    if (!this.getNode())
      return {
        x: -UR,
        y: -UR,
        width: 0,
        height: 0,
        rotation: 0
      };
    const t = [];
    this.nodes().map((u) => {
      const c = u.getClientRect({
        skipTransform: !0,
        skipShadow: !0,
        skipStroke: this.ignoreStroke()
      }), f = [
        { x: c.x, y: c.y },
        { x: c.x + c.width, y: c.y },
        { x: c.x + c.width, y: c.y + c.height },
        { x: c.x, y: c.y + c.height }
      ], d = u.getAbsoluteTransform();
      f.forEach(function(p) {
        const v = d.point(p);
        t.push(v);
      });
    });
    const i = new Fn.Transform();
    i.rotate(-Ts.Konva.getAngle(this.rotation()));
    let a = 1 / 0, n = 1 / 0, o = -1 / 0, s = -1 / 0;
    t.forEach(function(u) {
      const c = i.point(u);
      a === void 0 && (a = o = c.x, n = s = c.y), a = Math.min(a, c.x), n = Math.min(n, c.y), o = Math.max(o, c.x), s = Math.max(s, c.y);
    }), i.invert();
    const l = i.point({ x: a, y: n });
    return {
      x: l.x,
      y: l.y,
      width: o - a,
      height: s - n,
      rotation: Ts.Konva.getAngle(this.rotation())
    };
  }
  getX() {
    return this._getNodeRect().x;
  }
  getY() {
    return this._getNodeRect().y;
  }
  getWidth() {
    return this._getNodeRect().width;
  }
  getHeight() {
    return this._getNodeRect().height;
  }
  _createElements() {
    this._createBack(), k_.forEach((e) => {
      this._createAnchor(e);
    }), this._createAnchor("rotater");
  }
  _createAnchor(e) {
    const t = new Ele.Rect({
      stroke: "rgb(0, 161, 255)",
      fill: "white",
      strokeWidth: 1,
      name: e + " _anchor",
      dragDistance: 0,
      draggable: !0,
      hitStrokeWidth: Ple ? 10 : "auto"
    }), i = this;
    t.on("mousedown touchstart", function(a) {
      i._handleMouseDown(a);
    }), t.on("dragstart", (a) => {
      t.stopDrag(), a.cancelBubble = !0;
    }), t.on("dragend", (a) => {
      a.cancelBubble = !0;
    }), t.on("mouseenter", () => {
      const a = Ts.Konva.getAngle(this.rotation()), n = this.rotateAnchorCursor(), o = Rle(e, a, n);
      t.getStage().content && (t.getStage().content.style.cursor = o), this._cursorChange = !0;
    }), t.on("mouseout", () => {
      t.getStage().content && (t.getStage().content.style.cursor = ""), this._cursorChange = !1;
    }), this.add(t);
  }
  _createBack() {
    const e = new Ale.Shape({
      name: "back",
      width: 0,
      height: 0,
      draggable: !0,
      sceneFunc(t, i) {
        const a = i.getParent(), n = a.padding();
        t.beginPath(), t.rect(-n, -n, i.width() + n * 2, i.height() + n * 2), t.moveTo(i.width() / 2, -n), a.rotateEnabled() && a.rotateLineVisible() && t.lineTo(i.width() / 2, -a.rotateAnchorOffset() * Fn.Util._sign(i.height()) - n), t.fillStrokeShape(i);
      },
      hitFunc: (t, i) => {
        if (!this.shouldOverdrawWholeArea())
          return;
        const a = this.padding();
        t.beginPath(), t.rect(-a, -a, i.width() + a * 2, i.height() + a * 2), t.fillStrokeShape(i);
      }
    });
    this.add(e), this._proxyDrag(e), e.on("dragstart", (t) => {
      t.cancelBubble = !0;
    }), e.on("dragmove", (t) => {
      t.cancelBubble = !0;
    }), e.on("dragend", (t) => {
      t.cancelBubble = !0;
    }), this.on("dragmove", (t) => {
      this.update();
    });
  }
  _handleMouseDown(e) {
    if (this._transforming)
      return;
    this._movingAnchorName = e.target.name().split(" ")[0];
    const t = this._getNodeRect(), i = t.width, a = t.height, n = Math.sqrt(Math.pow(i, 2) + Math.pow(a, 2));
    this.sin = Math.abs(a / n), this.cos = Math.abs(i / n), typeof window < "u" && (window.addEventListener("mousemove", this._handleMouseMove), window.addEventListener("touchmove", this._handleMouseMove), window.addEventListener("mouseup", this._handleMouseUp, !0), window.addEventListener("touchend", this._handleMouseUp, !0)), this._transforming = !0;
    const o = e.target.getAbsolutePosition(), s = e.target.getStage().getPointerPosition();
    this._anchorDragOffset = {
      x: s.x - o.x,
      y: s.y - o.y
    }, dA++, this._fire("transformstart", { evt: e.evt, target: this.getNode() }), this._nodes.forEach((l) => {
      l._fire("transformstart", { evt: e.evt, target: l });
    });
  }
  _handleMouseMove(e) {
    let t, i, a;
    const n = this.findOne("." + this._movingAnchorName), o = n.getStage();
    o.setPointersPositions(e);
    const s = o.getPointerPosition();
    let l = {
      x: s.x - this._anchorDragOffset.x,
      y: s.y - this._anchorDragOffset.y
    };
    const u = n.getAbsolutePosition();
    this.anchorDragBoundFunc() && (l = this.anchorDragBoundFunc()(u, l, e)), n.setAbsolutePosition(l);
    const c = n.getAbsolutePosition();
    if (u.x === c.x && u.y === c.y)
      return;
    if (this._movingAnchorName === "rotater") {
      const M = this._getNodeRect();
      t = n.x() - M.width / 2, i = -n.y() + M.height / 2;
      let k = Math.atan2(-i, t) + Math.PI / 2;
      M.height < 0 && (k -= Math.PI);
      const L = Ts.Konva.getAngle(this.rotation()) + k, F = Ts.Konva.getAngle(this.rotationSnapTolerance()), U = Fle(this.rotationSnaps(), L, F) - M.rotation, V = Ole(M, U);
      this._fitNodesInto(V, e);
      return;
    }
    const f = this.shiftBehavior();
    let d;
    f === "inverted" ? d = this.keepRatio() && !e.shiftKey : f === "none" ? d = this.keepRatio() : d = this.keepRatio() || e.shiftKey;
    var w = this.centeredScaling() || e.altKey;
    if (this._movingAnchorName === "top-left") {
      if (d) {
        var p = w ? {
          x: this.width() / 2,
          y: this.height() / 2
        } : {
          x: this.findOne(".bottom-right").x(),
          y: this.findOne(".bottom-right").y()
        };
        a = Math.sqrt(Math.pow(p.x - n.x(), 2) + Math.pow(p.y - n.y(), 2));
        var v = this.findOne(".top-left").x() > p.x ? -1 : 1, y = this.findOne(".top-left").y() > p.y ? -1 : 1;
        t = a * this.cos * v, i = a * this.sin * y, this.findOne(".top-left").x(p.x - t), this.findOne(".top-left").y(p.y - i);
      }
    } else if (this._movingAnchorName === "top-center")
      this.findOne(".top-left").y(n.y());
    else if (this._movingAnchorName === "top-right") {
      if (d) {
        var p = w ? {
          x: this.width() / 2,
          y: this.height() / 2
        } : {
          x: this.findOne(".bottom-left").x(),
          y: this.findOne(".bottom-left").y()
        };
        a = Math.sqrt(Math.pow(n.x() - p.x, 2) + Math.pow(p.y - n.y(), 2));
        var v = this.findOne(".top-right").x() < p.x ? -1 : 1, y = this.findOne(".top-right").y() > p.y ? -1 : 1;
        t = a * this.cos * v, i = a * this.sin * y, this.findOne(".top-right").x(p.x + t), this.findOne(".top-right").y(p.y - i);
      }
      var _ = n.position();
      this.findOne(".top-left").y(_.y), this.findOne(".bottom-right").x(_.x);
    } else if (this._movingAnchorName === "middle-left")
      this.findOne(".top-left").x(n.x());
    else if (this._movingAnchorName === "middle-right")
      this.findOne(".bottom-right").x(n.x());
    else if (this._movingAnchorName === "bottom-left") {
      if (d) {
        var p = w ? {
          x: this.width() / 2,
          y: this.height() / 2
        } : {
          x: this.findOne(".top-right").x(),
          y: this.findOne(".top-right").y()
        };
        a = Math.sqrt(Math.pow(p.x - n.x(), 2) + Math.pow(n.y() - p.y, 2));
        var v = p.x < n.x() ? -1 : 1, y = n.y() < p.y ? -1 : 1;
        t = a * this.cos * v, i = a * this.sin * y, n.x(p.x - t), n.y(p.y + i);
      }
      _ = n.position(), this.findOne(".top-left").x(_.x), this.findOne(".bottom-right").y(_.y);
    } else if (this._movingAnchorName === "bottom-center")
      this.findOne(".bottom-right").y(n.y());
    else if (this._movingAnchorName === "bottom-right") {
      if (d) {
        var p = w ? {
          x: this.width() / 2,
          y: this.height() / 2
        } : {
          x: this.findOne(".top-left").x(),
          y: this.findOne(".top-left").y()
        };
        a = Math.sqrt(Math.pow(n.x() - p.x, 2) + Math.pow(n.y() - p.y, 2));
        var v = this.findOne(".bottom-right").x() < p.x ? -1 : 1, y = this.findOne(".bottom-right").y() < p.y ? -1 : 1;
        t = a * this.cos * v, i = a * this.sin * y, this.findOne(".bottom-right").x(p.x + t), this.findOne(".bottom-right").y(p.y + i);
      }
    } else
      console.error(new Error("Wrong position argument of selection resizer: " + this._movingAnchorName));
    var w = this.centeredScaling() || e.altKey;
    if (w) {
      const M = this.findOne(".top-left"), k = this.findOne(".bottom-right"), P = M.x(), L = M.y(), F = this.getWidth() - k.x(), O = this.getHeight() - k.y();
      k.move({
        x: -P,
        y: -L
      }), M.move({
        x: F,
        y: O
      });
    }
    const S = this.findOne(".top-left").getAbsolutePosition();
    t = S.x, i = S.y;
    const x = this.findOne(".bottom-right").x() - this.findOne(".top-left").x(), E = this.findOne(".bottom-right").y() - this.findOne(".top-left").y();
    this._fitNodesInto({
      x: t,
      y: i,
      width: x,
      height: E,
      rotation: Ts.Konva.getAngle(this.rotation())
    }, e);
  }
  _handleMouseUp(e) {
    this._removeEvents(e);
  }
  getAbsoluteTransform() {
    return this.getTransform();
  }
  _removeEvents(e) {
    var t;
    if (this._transforming) {
      this._transforming = !1, typeof window < "u" && (window.removeEventListener("mousemove", this._handleMouseMove), window.removeEventListener("touchmove", this._handleMouseMove), window.removeEventListener("mouseup", this._handleMouseUp, !0), window.removeEventListener("touchend", this._handleMouseUp, !0));
      const i = this.getNode();
      dA--, this._fire("transformend", { evt: e, target: i }), (t = this.getLayer()) === null || t === void 0 || t.batchDraw(), i && this._nodes.forEach((a) => {
        var n;
        a._fire("transformend", { evt: e, target: a }), (n = a.getLayer()) === null || n === void 0 || n.batchDraw();
      }), this._movingAnchorName = null;
    }
  }
  _fitNodesInto(e, t) {
    const i = this._getNodeRect(), a = 1;
    if (Fn.Util._inRange(e.width, -this.padding() * 2 - a, a)) {
      this.update();
      return;
    }
    if (Fn.Util._inRange(e.height, -this.padding() * 2 - a, a)) {
      this.update();
      return;
    }
    const n = new Fn.Transform();
    if (n.rotate(Ts.Konva.getAngle(this.rotation())), this._movingAnchorName && e.width < 0 && this._movingAnchorName.indexOf("left") >= 0) {
      const d = n.point({
        x: -this.padding() * 2,
        y: 0
      });
      e.x += d.x, e.y += d.y, e.width += this.padding() * 2, this._movingAnchorName = this._movingAnchorName.replace("left", "right"), this._anchorDragOffset.x -= d.x, this._anchorDragOffset.y -= d.y;
    } else if (this._movingAnchorName && e.width < 0 && this._movingAnchorName.indexOf("right") >= 0) {
      const d = n.point({
        x: this.padding() * 2,
        y: 0
      });
      this._movingAnchorName = this._movingAnchorName.replace("right", "left"), this._anchorDragOffset.x -= d.x, this._anchorDragOffset.y -= d.y, e.width += this.padding() * 2;
    }
    if (this._movingAnchorName && e.height < 0 && this._movingAnchorName.indexOf("top") >= 0) {
      const d = n.point({
        x: 0,
        y: -this.padding() * 2
      });
      e.x += d.x, e.y += d.y, this._movingAnchorName = this._movingAnchorName.replace("top", "bottom"), this._anchorDragOffset.x -= d.x, this._anchorDragOffset.y -= d.y, e.height += this.padding() * 2;
    } else if (this._movingAnchorName && e.height < 0 && this._movingAnchorName.indexOf("bottom") >= 0) {
      const d = n.point({
        x: 0,
        y: this.padding() * 2
      });
      this._movingAnchorName = this._movingAnchorName.replace("bottom", "top"), this._anchorDragOffset.x -= d.x, this._anchorDragOffset.y -= d.y, e.height += this.padding() * 2;
    }
    if (this.boundBoxFunc()) {
      const d = this.boundBoxFunc()(i, e);
      d ? e = d : Fn.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!");
    }
    const o = 1e7, s = new Fn.Transform();
    s.translate(i.x, i.y), s.rotate(i.rotation), s.scale(i.width / o, i.height / o);
    const l = new Fn.Transform(), u = e.width / o, c = e.height / o;
    this.flipEnabled() === !1 ? (l.translate(e.x, e.y), l.rotate(e.rotation), l.translate(e.width < 0 ? e.width : 0, e.height < 0 ? e.height : 0), l.scale(Math.abs(u), Math.abs(c))) : (l.translate(e.x, e.y), l.rotate(e.rotation), l.scale(u, c));
    const f = l.multiply(s.invert());
    this._nodes.forEach((d) => {
      var p;
      const v = d.getParent().getAbsoluteTransform(), y = d.getTransform().copy();
      y.translate(d.offsetX(), d.offsetY());
      const _ = new Fn.Transform();
      _.multiply(v.copy().invert()).multiply(f).multiply(v).multiply(y);
      const w = _.decompose();
      d.setAttrs(w), (p = d.getLayer()) === null || p === void 0 || p.batchDraw();
    }), this.rotation(Fn.Util._getRotation(e.rotation)), this._nodes.forEach((d) => {
      this._fire("transform", { evt: t, target: d }), d._fire("transform", { evt: t, target: d });
    }), this._resetTransformCache(), this.update(), this.getLayer().batchDraw();
  }
  forceUpdate() {
    this._resetTransformCache(), this.update();
  }
  _batchChangeChild(e, t) {
    this.findOne(e).setAttrs(t);
  }
  update() {
    var e;
    const t = this._getNodeRect();
    this.rotation(Fn.Util._getRotation(t.rotation));
    const i = t.width, a = t.height, n = this.enabledAnchors(), o = this.resizeEnabled(), s = this.padding(), l = this.anchorSize(), u = this.find("._anchor");
    u.forEach((f) => {
      f.setAttrs({
        width: l,
        height: l,
        offsetX: l / 2,
        offsetY: l / 2,
        stroke: this.anchorStroke(),
        strokeWidth: this.anchorStrokeWidth(),
        fill: this.anchorFill(),
        cornerRadius: this.anchorCornerRadius()
      });
    }), this._batchChangeChild(".top-left", {
      x: 0,
      y: 0,
      offsetX: l / 2 + s,
      offsetY: l / 2 + s,
      visible: o && n.indexOf("top-left") >= 0
    }), this._batchChangeChild(".top-center", {
      x: i / 2,
      y: 0,
      offsetY: l / 2 + s,
      visible: o && n.indexOf("top-center") >= 0
    }), this._batchChangeChild(".top-right", {
      x: i,
      y: 0,
      offsetX: l / 2 - s,
      offsetY: l / 2 + s,
      visible: o && n.indexOf("top-right") >= 0
    }), this._batchChangeChild(".middle-left", {
      x: 0,
      y: a / 2,
      offsetX: l / 2 + s,
      visible: o && n.indexOf("middle-left") >= 0
    }), this._batchChangeChild(".middle-right", {
      x: i,
      y: a / 2,
      offsetX: l / 2 - s,
      visible: o && n.indexOf("middle-right") >= 0
    }), this._batchChangeChild(".bottom-left", {
      x: 0,
      y: a,
      offsetX: l / 2 + s,
      offsetY: l / 2 - s,
      visible: o && n.indexOf("bottom-left") >= 0
    }), this._batchChangeChild(".bottom-center", {
      x: i / 2,
      y: a,
      offsetY: l / 2 - s,
      visible: o && n.indexOf("bottom-center") >= 0
    }), this._batchChangeChild(".bottom-right", {
      x: i,
      y: a,
      offsetX: l / 2 - s,
      offsetY: l / 2 - s,
      visible: o && n.indexOf("bottom-right") >= 0
    }), this._batchChangeChild(".rotater", {
      x: i / 2,
      y: -this.rotateAnchorOffset() * Fn.Util._sign(a) - s,
      visible: this.rotateEnabled()
    }), this._batchChangeChild(".back", {
      width: i,
      height: a,
      visible: this.borderEnabled(),
      stroke: this.borderStroke(),
      strokeWidth: this.borderStrokeWidth(),
      dash: this.borderDash(),
      x: 0,
      y: 0
    });
    const c = this.anchorStyleFunc();
    c && u.forEach((f) => {
      c(f);
    }), (e = this.getLayer()) === null || e === void 0 || e.batchDraw();
  }
  isTransforming() {
    return this._transforming;
  }
  stopTransform() {
    if (this._transforming) {
      this._removeEvents();
      const e = this.findOne("." + this._movingAnchorName);
      e && e.stopDrag();
    }
  }
  destroy() {
    return this.getStage() && this._cursorChange && this.getStage().content && (this.getStage().content.style.cursor = ""), BR.Group.prototype.destroy.call(this), this.detach(), this._removeEvents(), this;
  }
  toObject() {
    return NR.Node.prototype.toObject.call(this);
  }
  clone(e) {
    return NR.Node.prototype.clone.call(this, e);
  }
  getClientRect() {
    return this.nodes().length > 0 ? super.getClientRect() : { x: 0, y: 0, width: 0, height: 0 };
  }
}
Ow.Transformer = cn;
cn.isTransforming = () => dA > 0;
function Nle(r) {
  return r instanceof Array || Fn.Util.warn("enabledAnchors value should be an array"), r instanceof Array && r.forEach(function(e) {
    k_.indexOf(e) === -1 && Fn.Util.warn("Unknown anchor name: " + e + ". Available names are: " + k_.join(", "));
  }), r || [];
}
cn.prototype.className = "Transformer";
(0, Dle._registerNode)(cn);
Tn.Factory.addGetterSetter(cn, "enabledAnchors", k_, Nle);
Tn.Factory.addGetterSetter(cn, "flipEnabled", !0, (0, uh.getBooleanValidator)());
Tn.Factory.addGetterSetter(cn, "resizeEnabled", !0);
Tn.Factory.addGetterSetter(cn, "anchorSize", 10, (0, uh.getNumberValidator)());
Tn.Factory.addGetterSetter(cn, "rotateEnabled", !0);
Tn.Factory.addGetterSetter(cn, "rotateLineVisible", !0);
Tn.Factory.addGetterSetter(cn, "rotationSnaps", []);
Tn.Factory.addGetterSetter(cn, "rotateAnchorOffset", 50, (0, uh.getNumberValidator)());
Tn.Factory.addGetterSetter(cn, "rotateAnchorCursor", "crosshair");
Tn.Factory.addGetterSetter(cn, "rotationSnapTolerance", 5, (0, uh.getNumberValidator)());
Tn.Factory.addGetterSetter(cn, "borderEnabled", !0);
Tn.Factory.addGetterSetter(cn, "anchorStroke", "rgb(0, 161, 255)");
Tn.Factory.addGetterSetter(cn, "anchorStrokeWidth", 1, (0, uh.getNumberValidator)());
Tn.Factory.addGetterSetter(cn, "anchorFill", "white");
Tn.Factory.addGetterSetter(cn, "anchorCornerRadius", 0, (0, uh.getNumberValidator)());
Tn.Factory.addGetterSetter(cn, "borderStroke", "rgb(0, 161, 255)");
Tn.Factory.addGetterSetter(cn, "borderStrokeWidth", 1, (0, uh.getNumberValidator)());
Tn.Factory.addGetterSetter(cn, "borderDash");
Tn.Factory.addGetterSetter(cn, "keepRatio", !0);
Tn.Factory.addGetterSetter(cn, "shiftBehavior", "default");
Tn.Factory.addGetterSetter(cn, "centeredScaling", !1);
Tn.Factory.addGetterSetter(cn, "ignoreStroke", !1);
Tn.Factory.addGetterSetter(cn, "padding", 0, (0, uh.getNumberValidator)());
Tn.Factory.addGetterSetter(cn, "nodes");
Tn.Factory.addGetterSetter(cn, "node");
Tn.Factory.addGetterSetter(cn, "boundBoxFunc");
Tn.Factory.addGetterSetter(cn, "anchorDragBoundFunc");
Tn.Factory.addGetterSetter(cn, "anchorStyleFunc");
Tn.Factory.addGetterSetter(cn, "shouldOverdrawWholeArea", !1);
Tn.Factory.addGetterSetter(cn, "useSingleNodeRotation", !0);
Tn.Factory.backCompat(cn, {
  lineEnabled: "borderEnabled",
  rotateHandlerOffset: "rotateAnchorOffset",
  enabledHandlers: "enabledAnchors"
});
var Fw = {};
Object.defineProperty(Fw, "__esModule", { value: !0 });
Fw.Wedge = void 0;
const Nw = tn, Ble = ta, Vle = Kr, HH = Pr, Ule = Kr;
class Qu extends Ble.Shape {
  _sceneFunc(e) {
    e.beginPath(), e.arc(0, 0, this.radius(), 0, Vle.Konva.getAngle(this.angle()), this.clockwise()), e.lineTo(0, 0), e.closePath(), e.fillStrokeShape(this);
  }
  getWidth() {
    return this.radius() * 2;
  }
  getHeight() {
    return this.radius() * 2;
  }
  setWidth(e) {
    this.radius(e / 2);
  }
  setHeight(e) {
    this.radius(e / 2);
  }
}
Fw.Wedge = Qu;
Qu.prototype.className = "Wedge";
Qu.prototype._centroid = !0;
Qu.prototype._attrsAffectingSize = ["radius"];
(0, Ule._registerNode)(Qu);
Nw.Factory.addGetterSetter(Qu, "radius", 0, (0, HH.getNumberValidator)());
Nw.Factory.addGetterSetter(Qu, "angle", 0, (0, HH.getNumberValidator)());
Nw.Factory.addGetterSetter(Qu, "clockwise", !1);
Nw.Factory.backCompat(Qu, {
  angleDeg: "angle",
  getAngleDeg: "getAngle",
  setAngleDeg: "setAngle"
});
var Bw = {};
Object.defineProperty(Bw, "__esModule", { value: !0 });
Bw.Blur = void 0;
const GR = tn, Gle = ni, zle = Pr;
function zR() {
  this.r = 0, this.g = 0, this.b = 0, this.a = 0, this.next = null;
}
const Wle = [
  512,
  512,
  456,
  512,
  328,
  456,
  335,
  512,
  405,
  328,
  271,
  456,
  388,
  335,
  292,
  512,
  454,
  405,
  364,
  328,
  298,
  271,
  496,
  456,
  420,
  388,
  360,
  335,
  312,
  292,
  273,
  512,
  482,
  454,
  428,
  405,
  383,
  364,
  345,
  328,
  312,
  298,
  284,
  271,
  259,
  496,
  475,
  456,
  437,
  420,
  404,
  388,
  374,
  360,
  347,
  335,
  323,
  312,
  302,
  292,
  282,
  273,
  265,
  512,
  497,
  482,
  468,
  454,
  441,
  428,
  417,
  405,
  394,
  383,
  373,
  364,
  354,
  345,
  337,
  328,
  320,
  312,
  305,
  298,
  291,
  284,
  278,
  271,
  265,
  259,
  507,
  496,
  485,
  475,
  465,
  456,
  446,
  437,
  428,
  420,
  412,
  404,
  396,
  388,
  381,
  374,
  367,
  360,
  354,
  347,
  341,
  335,
  329,
  323,
  318,
  312,
  307,
  302,
  297,
  292,
  287,
  282,
  278,
  273,
  269,
  265,
  261,
  512,
  505,
  497,
  489,
  482,
  475,
  468,
  461,
  454,
  447,
  441,
  435,
  428,
  422,
  417,
  411,
  405,
  399,
  394,
  389,
  383,
  378,
  373,
  368,
  364,
  359,
  354,
  350,
  345,
  341,
  337,
  332,
  328,
  324,
  320,
  316,
  312,
  309,
  305,
  301,
  298,
  294,
  291,
  287,
  284,
  281,
  278,
  274,
  271,
  268,
  265,
  262,
  259,
  257,
  507,
  501,
  496,
  491,
  485,
  480,
  475,
  470,
  465,
  460,
  456,
  451,
  446,
  442,
  437,
  433,
  428,
  424,
  420,
  416,
  412,
  408,
  404,
  400,
  396,
  392,
  388,
  385,
  381,
  377,
  374,
  370,
  367,
  363,
  360,
  357,
  354,
  350,
  347,
  344,
  341,
  338,
  335,
  332,
  329,
  326,
  323,
  320,
  318,
  315,
  312,
  310,
  307,
  304,
  302,
  299,
  297,
  294,
  292,
  289,
  287,
  285,
  282,
  280,
  278,
  275,
  273,
  271,
  269,
  267,
  265,
  263,
  261,
  259
], Hle = [
  9,
  11,
  12,
  13,
  13,
  14,
  14,
  15,
  15,
  15,
  15,
  16,
  16,
  16,
  16,
  17,
  17,
  17,
  17,
  17,
  17,
  17,
  18,
  18,
  18,
  18,
  18,
  18,
  18,
  18,
  18,
  19,
  19,
  19,
  19,
  19,
  19,
  19,
  19,
  19,
  19,
  19,
  19,
  19,
  19,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24
];
function $le(r, e) {
  const t = r.data, i = r.width, a = r.height;
  let n, o, s, l, u, c, f, d, p, v, y, _, w, S, x, E, M, k, P, L, F, O, U, V;
  const G = e + e + 1, Z = i - 1, Q = a - 1, se = e + 1, de = se * (se + 1) / 2, le = new zR(), Se = Wle[e], he = Hle[e];
  let fe = null, K = le, we = null, ve = null;
  for (s = 1; s < G; s++)
    K = K.next = new zR(), s === se && (fe = K);
  for (K.next = le, f = c = 0, o = 0; o < a; o++) {
    for (E = M = k = P = d = p = v = y = 0, _ = se * (L = t[c]), w = se * (F = t[c + 1]), S = se * (O = t[c + 2]), x = se * (U = t[c + 3]), d += de * L, p += de * F, v += de * O, y += de * U, K = le, s = 0; s < se; s++)
      K.r = L, K.g = F, K.b = O, K.a = U, K = K.next;
    for (s = 1; s < se; s++)
      l = c + ((Z < s ? Z : s) << 2), d += (K.r = L = t[l]) * (V = se - s), p += (K.g = F = t[l + 1]) * V, v += (K.b = O = t[l + 2]) * V, y += (K.a = U = t[l + 3]) * V, E += L, M += F, k += O, P += U, K = K.next;
    for (we = le, ve = fe, n = 0; n < i; n++)
      t[c + 3] = U = y * Se >> he, U !== 0 ? (U = 255 / U, t[c] = (d * Se >> he) * U, t[c + 1] = (p * Se >> he) * U, t[c + 2] = (v * Se >> he) * U) : t[c] = t[c + 1] = t[c + 2] = 0, d -= _, p -= w, v -= S, y -= x, _ -= we.r, w -= we.g, S -= we.b, x -= we.a, l = f + ((l = n + e + 1) < Z ? l : Z) << 2, E += we.r = t[l], M += we.g = t[l + 1], k += we.b = t[l + 2], P += we.a = t[l + 3], d += E, p += M, v += k, y += P, we = we.next, _ += L = ve.r, w += F = ve.g, S += O = ve.b, x += U = ve.a, E -= L, M -= F, k -= O, P -= U, ve = ve.next, c += 4;
    f += i;
  }
  for (n = 0; n < i; n++) {
    for (M = k = P = E = p = v = y = d = 0, c = n << 2, _ = se * (L = t[c]), w = se * (F = t[c + 1]), S = se * (O = t[c + 2]), x = se * (U = t[c + 3]), d += de * L, p += de * F, v += de * O, y += de * U, K = le, s = 0; s < se; s++)
      K.r = L, K.g = F, K.b = O, K.a = U, K = K.next;
    for (u = i, s = 1; s <= e; s++)
      c = u + n << 2, d += (K.r = L = t[c]) * (V = se - s), p += (K.g = F = t[c + 1]) * V, v += (K.b = O = t[c + 2]) * V, y += (K.a = U = t[c + 3]) * V, E += L, M += F, k += O, P += U, K = K.next, s < Q && (u += i);
    for (c = n, we = le, ve = fe, o = 0; o < a; o++)
      l = c << 2, t[l + 3] = U = y * Se >> he, U > 0 ? (U = 255 / U, t[l] = (d * Se >> he) * U, t[l + 1] = (p * Se >> he) * U, t[l + 2] = (v * Se >> he) * U) : t[l] = t[l + 1] = t[l + 2] = 0, d -= _, p -= w, v -= S, y -= x, _ -= we.r, w -= we.g, S -= we.b, x -= we.a, l = n + ((l = o + se) < Q ? l : Q) * i << 2, d += E += we.r = t[l], p += M += we.g = t[l + 1], v += k += we.b = t[l + 2], y += P += we.a = t[l + 3], we = we.next, _ += L = ve.r, w += F = ve.g, S += O = ve.b, x += U = ve.a, E -= L, M -= F, k -= O, P -= U, ve = ve.next, c += i;
  }
}
const Yle = function(e) {
  const t = Math.round(this.blurRadius());
  t > 0 && $le(e, t);
};
Bw.Blur = Yle;
GR.Factory.addGetterSetter(Gle.Node, "blurRadius", 0, (0, zle.getNumberValidator)(), GR.Factory.afterSetFilter);
var Vw = {};
Object.defineProperty(Vw, "__esModule", { value: !0 });
Vw.Brighten = void 0;
const WR = tn, jle = ni, qle = Pr, Xle = function(r) {
  const e = this.brightness() * 255, t = r.data, i = t.length;
  for (let a = 0; a < i; a += 4)
    t[a] += e, t[a + 1] += e, t[a + 2] += e;
};
Vw.Brighten = Xle;
WR.Factory.addGetterSetter(jle.Node, "brightness", 0, (0, qle.getNumberValidator)(), WR.Factory.afterSetFilter);
var Uw = {};
Object.defineProperty(Uw, "__esModule", { value: !0 });
Uw.Contrast = void 0;
const HR = tn, Kle = ni, Zle = Pr, Jle = function(r) {
  const e = Math.pow((this.contrast() + 100) / 100, 2), t = r.data, i = t.length;
  let a = 150, n = 150, o = 150;
  for (let s = 0; s < i; s += 4)
    a = t[s], n = t[s + 1], o = t[s + 2], a /= 255, a -= 0.5, a *= e, a += 0.5, a *= 255, n /= 255, n -= 0.5, n *= e, n += 0.5, n *= 255, o /= 255, o -= 0.5, o *= e, o += 0.5, o *= 255, a = a < 0 ? 0 : a > 255 ? 255 : a, n = n < 0 ? 0 : n > 255 ? 255 : n, o = o < 0 ? 0 : o > 255 ? 255 : o, t[s] = a, t[s + 1] = n, t[s + 2] = o;
};
Uw.Contrast = Jle;
HR.Factory.addGetterSetter(Kle.Node, "contrast", 0, (0, Zle.getNumberValidator)(), HR.Factory.afterSetFilter);
var Gw = {};
Object.defineProperty(Gw, "__esModule", { value: !0 });
Gw.Emboss = void 0;
const jc = tn, zw = ni, Qle = ui, $H = Pr, eue = function(r) {
  const e = this.embossStrength() * 10, t = this.embossWhiteLevel() * 255, i = this.embossDirection(), a = this.embossBlend(), n = r.data, o = r.width, s = r.height, l = o * 4;
  let u = 0, c = 0, f = s;
  switch (i) {
    case "top-left":
      u = -1, c = -1;
      break;
    case "top":
      u = -1, c = 0;
      break;
    case "top-right":
      u = -1, c = 1;
      break;
    case "right":
      u = 0, c = 1;
      break;
    case "bottom-right":
      u = 1, c = 1;
      break;
    case "bottom":
      u = 1, c = 0;
      break;
    case "bottom-left":
      u = 1, c = -1;
      break;
    case "left":
      u = 0, c = -1;
      break;
    default:
      Qle.Util.error("Unknown emboss direction: " + i);
  }
  do {
    const d = (f - 1) * l;
    let p = u;
    f + p < 1 && (p = 0), f + p > s && (p = 0);
    const v = (f - 1 + p) * o * 4;
    let y = o;
    do {
      const _ = d + (y - 1) * 4;
      let w = c;
      y + w < 1 && (w = 0), y + w > o && (w = 0);
      const S = v + (y - 1 + w) * 4, x = n[_] - n[S], E = n[_ + 1] - n[S + 1], M = n[_ + 2] - n[S + 2];
      let k = x;
      const P = k > 0 ? k : -k, L = E > 0 ? E : -E, F = M > 0 ? M : -M;
      if (L > P && (k = E), F > P && (k = M), k *= e, a) {
        const O = n[_] + k, U = n[_ + 1] + k, V = n[_ + 2] + k;
        n[_] = O > 255 ? 255 : O < 0 ? 0 : O, n[_ + 1] = U > 255 ? 255 : U < 0 ? 0 : U, n[_ + 2] = V > 255 ? 255 : V < 0 ? 0 : V;
      } else {
        let O = t - k;
        O < 0 ? O = 0 : O > 255 && (O = 255), n[_] = n[_ + 1] = n[_ + 2] = O;
      }
    } while (--y);
  } while (--f);
};
Gw.Emboss = eue;
jc.Factory.addGetterSetter(zw.Node, "embossStrength", 0.5, (0, $H.getNumberValidator)(), jc.Factory.afterSetFilter);
jc.Factory.addGetterSetter(zw.Node, "embossWhiteLevel", 0.5, (0, $H.getNumberValidator)(), jc.Factory.afterSetFilter);
jc.Factory.addGetterSetter(zw.Node, "embossDirection", "top-left", void 0, jc.Factory.afterSetFilter);
jc.Factory.addGetterSetter(zw.Node, "embossBlend", !1, void 0, jc.Factory.afterSetFilter);
var Ww = {};
Object.defineProperty(Ww, "__esModule", { value: !0 });
Ww.Enhance = void 0;
const $R = tn, tue = ni, rue = Pr;
function K4(r, e, t, i, a) {
  const n = t - e, o = a - i;
  if (n === 0)
    return i + o / 2;
  if (o === 0)
    return i;
  let s = (r - e) / n;
  return s = o * s + i, s;
}
const nue = function(r) {
  const e = r.data, t = e.length;
  let i = e[0], a = i, n, o = e[1], s = o, l, u = e[2], c = u, f;
  const d = this.enhance();
  if (d === 0)
    return;
  for (let k = 0; k < t; k += 4)
    n = e[k + 0], n < i ? i = n : n > a && (a = n), l = e[k + 1], l < o ? o = l : l > s && (s = l), f = e[k + 2], f < u ? u = f : f > c && (c = f);
  a === i && (a = 255, i = 0), s === o && (s = 255, o = 0), c === u && (c = 255, u = 0);
  let p, v, y, _, w, S, x, E, M;
  d > 0 ? (v = a + d * (255 - a), y = i - d * (i - 0), w = s + d * (255 - s), S = o - d * (o - 0), E = c + d * (255 - c), M = u - d * (u - 0)) : (p = (a + i) * 0.5, v = a + d * (a - p), y = i + d * (i - p), _ = (s + o) * 0.5, w = s + d * (s - _), S = o + d * (o - _), x = (c + u) * 0.5, E = c + d * (c - x), M = u + d * (u - x));
  for (let k = 0; k < t; k += 4)
    e[k + 0] = K4(e[k + 0], i, a, y, v), e[k + 1] = K4(e[k + 1], o, s, S, w), e[k + 2] = K4(e[k + 2], u, c, M, E);
};
Ww.Enhance = nue;
$R.Factory.addGetterSetter(tue.Node, "enhance", 0, (0, rue.getNumberValidator)(), $R.Factory.afterSetFilter);
var Hw = {};
Object.defineProperty(Hw, "__esModule", { value: !0 });
Hw.Grayscale = void 0;
const iue = function(r) {
  const e = r.data, t = e.length;
  for (let i = 0; i < t; i += 4) {
    const a = 0.34 * e[i] + 0.5 * e[i + 1] + 0.16 * e[i + 2];
    e[i] = a, e[i + 1] = a, e[i + 2] = a;
  }
};
Hw.Grayscale = iue;
var $w = {};
Object.defineProperty($w, "__esModule", { value: !0 });
$w.HSL = void 0;
const t0 = tn, h8 = ni, f8 = Pr;
t0.Factory.addGetterSetter(h8.Node, "hue", 0, (0, f8.getNumberValidator)(), t0.Factory.afterSetFilter);
t0.Factory.addGetterSetter(h8.Node, "saturation", 0, (0, f8.getNumberValidator)(), t0.Factory.afterSetFilter);
t0.Factory.addGetterSetter(h8.Node, "luminance", 0, (0, f8.getNumberValidator)(), t0.Factory.afterSetFilter);
const aue = function(r) {
  const e = r.data, t = e.length, i = 1, a = Math.pow(2, this.saturation()), n = Math.abs(this.hue() + 360) % 360, o = this.luminance() * 127, s = i * a * Math.cos(n * Math.PI / 180), l = i * a * Math.sin(n * Math.PI / 180), u = 0.299 * i + 0.701 * s + 0.167 * l, c = 0.587 * i - 0.587 * s + 0.33 * l, f = 0.114 * i - 0.114 * s - 0.497 * l, d = 0.299 * i - 0.299 * s - 0.328 * l, p = 0.587 * i + 0.413 * s + 0.035 * l, v = 0.114 * i - 0.114 * s + 0.293 * l, y = 0.299 * i - 0.3 * s + 1.25 * l, _ = 0.587 * i - 0.586 * s - 1.05 * l, w = 0.114 * i + 0.886 * s - 0.2 * l;
  let S, x, E, M;
  for (let k = 0; k < t; k += 4)
    S = e[k + 0], x = e[k + 1], E = e[k + 2], M = e[k + 3], e[k + 0] = u * S + c * x + f * E + o, e[k + 1] = d * S + p * x + v * E + o, e[k + 2] = y * S + _ * x + w * E + o, e[k + 3] = M;
};
$w.HSL = aue;
var Yw = {};
Object.defineProperty(Yw, "__esModule", { value: !0 });
Yw.HSV = void 0;
const r0 = tn, d8 = ni, p8 = Pr, oue = function(r) {
  const e = r.data, t = e.length, i = Math.pow(2, this.value()), a = Math.pow(2, this.saturation()), n = Math.abs(this.hue() + 360) % 360, o = i * a * Math.cos(n * Math.PI / 180), s = i * a * Math.sin(n * Math.PI / 180), l = 0.299 * i + 0.701 * o + 0.167 * s, u = 0.587 * i - 0.587 * o + 0.33 * s, c = 0.114 * i - 0.114 * o - 0.497 * s, f = 0.299 * i - 0.299 * o - 0.328 * s, d = 0.587 * i + 0.413 * o + 0.035 * s, p = 0.114 * i - 0.114 * o + 0.293 * s, v = 0.299 * i - 0.3 * o + 1.25 * s, y = 0.587 * i - 0.586 * o - 1.05 * s, _ = 0.114 * i + 0.886 * o - 0.2 * s;
  let w, S, x, E;
  for (let M = 0; M < t; M += 4)
    w = e[M + 0], S = e[M + 1], x = e[M + 2], E = e[M + 3], e[M + 0] = l * w + u * S + c * x, e[M + 1] = f * w + d * S + p * x, e[M + 2] = v * w + y * S + _ * x, e[M + 3] = E;
};
Yw.HSV = oue;
r0.Factory.addGetterSetter(d8.Node, "hue", 0, (0, p8.getNumberValidator)(), r0.Factory.afterSetFilter);
r0.Factory.addGetterSetter(d8.Node, "saturation", 0, (0, p8.getNumberValidator)(), r0.Factory.afterSetFilter);
r0.Factory.addGetterSetter(d8.Node, "value", 0, (0, p8.getNumberValidator)(), r0.Factory.afterSetFilter);
var jw = {};
Object.defineProperty(jw, "__esModule", { value: !0 });
jw.Invert = void 0;
const sue = function(r) {
  const e = r.data, t = e.length;
  for (let i = 0; i < t; i += 4)
    e[i] = 255 - e[i], e[i + 1] = 255 - e[i + 1], e[i + 2] = 255 - e[i + 2];
};
jw.Invert = sue;
var qw = {};
Object.defineProperty(qw, "__esModule", { value: !0 });
qw.Kaleidoscope = void 0;
const M_ = tn, YH = ni, YR = ui, jH = Pr, lue = function(r, e, t) {
  const i = r.data, a = e.data, n = r.width, o = r.height, s = t.polarCenterX || n / 2, l = t.polarCenterY || o / 2;
  let u = Math.sqrt(s * s + l * l), c = n - s, f = o - l;
  const d = Math.sqrt(c * c + f * f);
  u = d > u ? d : u;
  const p = o, v = n, y = 360 / v * Math.PI / 180;
  for (let _ = 0; _ < v; _ += 1) {
    const w = Math.sin(_ * y), S = Math.cos(_ * y);
    for (let x = 0; x < p; x += 1) {
      c = Math.floor(s + u * x / p * S), f = Math.floor(l + u * x / p * w);
      let E = (f * n + c) * 4;
      const M = i[E + 0], k = i[E + 1], P = i[E + 2], L = i[E + 3];
      E = (_ + x * n) * 4, a[E + 0] = M, a[E + 1] = k, a[E + 2] = P, a[E + 3] = L;
    }
  }
}, uue = function(r, e, t) {
  const i = r.data, a = e.data, n = r.width, o = r.height, s = t.polarCenterX || n / 2, l = t.polarCenterY || o / 2;
  let u = Math.sqrt(s * s + l * l), c = n - s, f = o - l;
  const d = Math.sqrt(c * c + f * f);
  u = d > u ? d : u;
  const p = o, v = n, y = t.polarRotation || 0;
  let _, w;
  for (c = 0; c < n; c += 1)
    for (f = 0; f < o; f += 1) {
      const S = c - s, x = f - l, E = Math.sqrt(S * S + x * x) * p / u;
      let M = (Math.atan2(x, S) * 180 / Math.PI + 360 + y) % 360;
      M = M * v / 360, _ = Math.floor(M), w = Math.floor(E);
      let k = (w * n + _) * 4;
      const P = i[k + 0], L = i[k + 1], F = i[k + 2], O = i[k + 3];
      k = (f * n + c) * 4, a[k + 0] = P, a[k + 1] = L, a[k + 2] = F, a[k + 3] = O;
    }
}, cue = function(r) {
  const e = r.width, t = r.height;
  let i, a, n, o, s, l, u, c, f, d, p = Math.round(this.kaleidoscopePower());
  const v = Math.round(this.kaleidoscopeAngle()), y = Math.floor(e * (v % 360) / 360);
  if (p < 1)
    return;
  const _ = YR.Util.createCanvasElement();
  _.width = e, _.height = t;
  const w = _.getContext("2d").getImageData(0, 0, e, t);
  YR.Util.releaseCanvas(_), lue(r, w, {
    polarCenterX: e / 2,
    polarCenterY: t / 2
  });
  let S = e / Math.pow(2, p);
  for (; S <= 8; )
    S = S * 2, p -= 1;
  S = Math.ceil(S);
  let x = S, E = 0, M = x, k = 1;
  for (y + S > e && (E = x, M = 0, k = -1), a = 0; a < t; a += 1)
    for (i = E; i !== M; i += k)
      n = Math.round(i + y) % e, f = (e * a + n) * 4, s = w.data[f + 0], l = w.data[f + 1], u = w.data[f + 2], c = w.data[f + 3], d = (e * a + i) * 4, w.data[d + 0] = s, w.data[d + 1] = l, w.data[d + 2] = u, w.data[d + 3] = c;
  for (a = 0; a < t; a += 1)
    for (x = Math.floor(S), o = 0; o < p; o += 1) {
      for (i = 0; i < x + 1; i += 1)
        f = (e * a + i) * 4, s = w.data[f + 0], l = w.data[f + 1], u = w.data[f + 2], c = w.data[f + 3], d = (e * a + x * 2 - i - 1) * 4, w.data[d + 0] = s, w.data[d + 1] = l, w.data[d + 2] = u, w.data[d + 3] = c;
      x *= 2;
    }
  uue(w, r, { polarRotation: 0 });
};
qw.Kaleidoscope = cue;
M_.Factory.addGetterSetter(YH.Node, "kaleidoscopePower", 2, (0, jH.getNumberValidator)(), M_.Factory.afterSetFilter);
M_.Factory.addGetterSetter(YH.Node, "kaleidoscopeAngle", 0, (0, jH.getNumberValidator)(), M_.Factory.afterSetFilter);
var Xw = {};
Object.defineProperty(Xw, "__esModule", { value: !0 });
Xw.Mask = void 0;
const jR = tn, hue = ni, fue = Pr;
function _y(r, e, t) {
  let i = (t * r.width + e) * 4;
  const a = [];
  return a.push(r.data[i++], r.data[i++], r.data[i++], r.data[i++]), a;
}
function Bv(r, e) {
  return Math.sqrt(Math.pow(r[0] - e[0], 2) + Math.pow(r[1] - e[1], 2) + Math.pow(r[2] - e[2], 2));
}
function due(r) {
  const e = [0, 0, 0];
  for (let t = 0; t < r.length; t++)
    e[0] += r[t][0], e[1] += r[t][1], e[2] += r[t][2];
  return e[0] /= r.length, e[1] /= r.length, e[2] /= r.length, e;
}
function pue(r, e) {
  const t = _y(r, 0, 0), i = _y(r, r.width - 1, 0), a = _y(r, 0, r.height - 1), n = _y(r, r.width - 1, r.height - 1), o = e || 10;
  if (Bv(t, i) < o && Bv(i, n) < o && Bv(n, a) < o && Bv(a, t) < o) {
    const s = due([i, t, n, a]), l = [];
    for (let u = 0; u < r.width * r.height; u++) {
      const c = Bv(s, [
        r.data[u * 4],
        r.data[u * 4 + 1],
        r.data[u * 4 + 2]
      ]);
      l[u] = c < o ? 0 : 255;
    }
    return l;
  }
}
function vue(r, e) {
  for (let t = 0; t < r.width * r.height; t++)
    r.data[4 * t + 3] = e[t];
}
function gue(r, e, t) {
  const i = [1, 1, 1, 1, 0, 1, 1, 1, 1], a = Math.round(Math.sqrt(i.length)), n = Math.floor(a / 2), o = [];
  for (let s = 0; s < t; s++)
    for (let l = 0; l < e; l++) {
      const u = s * e + l;
      let c = 0;
      for (let f = 0; f < a; f++)
        for (let d = 0; d < a; d++) {
          const p = s + f - n, v = l + d - n;
          if (p >= 0 && p < t && v >= 0 && v < e) {
            const y = p * e + v, _ = i[f * a + d];
            c += r[y] * _;
          }
        }
      o[u] = c === 255 * 8 ? 255 : 0;
    }
  return o;
}
function mue(r, e, t) {
  const i = [1, 1, 1, 1, 1, 1, 1, 1, 1], a = Math.round(Math.sqrt(i.length)), n = Math.floor(a / 2), o = [];
  for (let s = 0; s < t; s++)
    for (let l = 0; l < e; l++) {
      const u = s * e + l;
      let c = 0;
      for (let f = 0; f < a; f++)
        for (let d = 0; d < a; d++) {
          const p = s + f - n, v = l + d - n;
          if (p >= 0 && p < t && v >= 0 && v < e) {
            const y = p * e + v, _ = i[f * a + d];
            c += r[y] * _;
          }
        }
      o[u] = c >= 255 * 4 ? 255 : 0;
    }
  return o;
}
function yue(r, e, t) {
  const i = [0.1111111111111111, 0.1111111111111111, 0.1111111111111111, 0.1111111111111111, 0.1111111111111111, 0.1111111111111111, 0.1111111111111111, 0.1111111111111111, 0.1111111111111111], a = Math.round(Math.sqrt(i.length)), n = Math.floor(a / 2), o = [];
  for (let s = 0; s < t; s++)
    for (let l = 0; l < e; l++) {
      const u = s * e + l;
      let c = 0;
      for (let f = 0; f < a; f++)
        for (let d = 0; d < a; d++) {
          const p = s + f - n, v = l + d - n;
          if (p >= 0 && p < t && v >= 0 && v < e) {
            const y = p * e + v, _ = i[f * a + d];
            c += r[y] * _;
          }
        }
      o[u] = c;
    }
  return o;
}
const _ue = function(r) {
  const e = this.threshold();
  let t = pue(r, e);
  return t && (t = gue(t, r.width, r.height), t = mue(t, r.width, r.height), t = yue(t, r.width, r.height), vue(r, t)), r;
};
Xw.Mask = _ue;
jR.Factory.addGetterSetter(hue.Node, "threshold", 0, (0, fue.getNumberValidator)(), jR.Factory.afterSetFilter);
var Kw = {};
Object.defineProperty(Kw, "__esModule", { value: !0 });
Kw.Noise = void 0;
const qR = tn, bue = ni, wue = Pr, Sue = function(r) {
  const e = this.noise() * 255, t = r.data, i = t.length, a = e / 2;
  for (let n = 0; n < i; n += 4)
    t[n + 0] += a - 2 * a * Math.random(), t[n + 1] += a - 2 * a * Math.random(), t[n + 2] += a - 2 * a * Math.random();
};
Kw.Noise = Sue;
qR.Factory.addGetterSetter(bue.Node, "noise", 0.2, (0, wue.getNumberValidator)(), qR.Factory.afterSetFilter);
var Zw = {};
Object.defineProperty(Zw, "__esModule", { value: !0 });
Zw.Pixelate = void 0;
const XR = tn, xue = ui, Tue = ni, Cue = Pr, Aue = function(r) {
  let e = Math.ceil(this.pixelSize()), t = r.width, i = r.height, a, n, o, s, l, u, c, f = Math.ceil(t / e), d = Math.ceil(i / e), p, v, y, _, w, S, x, E = r.data;
  if (e <= 0) {
    xue.Util.error("pixelSize value can not be <= 0");
    return;
  }
  for (w = 0; w < f; w += 1)
    for (S = 0; S < d; S += 1) {
      for (s = 0, l = 0, u = 0, c = 0, p = w * e, v = p + e, y = S * e, _ = y + e, x = 0, a = p; a < v; a += 1)
        if (!(a >= t))
          for (n = y; n < _; n += 1)
            n >= i || (o = (t * n + a) * 4, s += E[o + 0], l += E[o + 1], u += E[o + 2], c += E[o + 3], x += 1);
      for (s = s / x, l = l / x, u = u / x, c = c / x, a = p; a < v; a += 1)
        if (!(a >= t))
          for (n = y; n < _; n += 1)
            n >= i || (o = (t * n + a) * 4, E[o + 0] = s, E[o + 1] = l, E[o + 2] = u, E[o + 3] = c);
    }
};
Zw.Pixelate = Aue;
XR.Factory.addGetterSetter(Tue.Node, "pixelSize", 8, (0, Cue.getNumberValidator)(), XR.Factory.afterSetFilter);
var Jw = {};
Object.defineProperty(Jw, "__esModule", { value: !0 });
Jw.Posterize = void 0;
const KR = tn, Eue = ni, Due = Pr, kue = function(r) {
  const e = Math.round(this.levels() * 254) + 1, t = r.data, i = t.length, a = 255 / e;
  for (let n = 0; n < i; n += 1)
    t[n] = Math.floor(t[n] / a) * a;
};
Jw.Posterize = kue;
KR.Factory.addGetterSetter(Eue.Node, "levels", 0.5, (0, Due.getNumberValidator)(), KR.Factory.afterSetFilter);
var Qw = {};
Object.defineProperty(Qw, "__esModule", { value: !0 });
Qw.RGB = void 0;
const I_ = tn, v8 = ni, Mue = Pr, Iue = function(r) {
  const e = r.data, t = e.length, i = this.red(), a = this.green(), n = this.blue();
  for (let o = 0; o < t; o += 4) {
    const s = (0.34 * e[o] + 0.5 * e[o + 1] + 0.16 * e[o + 2]) / 255;
    e[o] = s * i, e[o + 1] = s * a, e[o + 2] = s * n, e[o + 3] = e[o + 3];
  }
};
Qw.RGB = Iue;
I_.Factory.addGetterSetter(v8.Node, "red", 0, function(r) {
  return this._filterUpToDate = !1, r > 255 ? 255 : r < 0 ? 0 : Math.round(r);
});
I_.Factory.addGetterSetter(v8.Node, "green", 0, function(r) {
  return this._filterUpToDate = !1, r > 255 ? 255 : r < 0 ? 0 : Math.round(r);
});
I_.Factory.addGetterSetter(v8.Node, "blue", 0, Mue.RGBComponent, I_.Factory.afterSetFilter);
var eS = {};
Object.defineProperty(eS, "__esModule", { value: !0 });
eS.RGBA = void 0;
const n1 = tn, tS = ni, Pue = Pr, Rue = function(r) {
  const e = r.data, t = e.length, i = this.red(), a = this.green(), n = this.blue(), o = this.alpha();
  for (let s = 0; s < t; s += 4) {
    const l = 1 - o;
    e[s] = i * o + e[s] * l, e[s + 1] = a * o + e[s + 1] * l, e[s + 2] = n * o + e[s + 2] * l;
  }
};
eS.RGBA = Rue;
n1.Factory.addGetterSetter(tS.Node, "red", 0, function(r) {
  return this._filterUpToDate = !1, r > 255 ? 255 : r < 0 ? 0 : Math.round(r);
});
n1.Factory.addGetterSetter(tS.Node, "green", 0, function(r) {
  return this._filterUpToDate = !1, r > 255 ? 255 : r < 0 ? 0 : Math.round(r);
});
n1.Factory.addGetterSetter(tS.Node, "blue", 0, Pue.RGBComponent, n1.Factory.afterSetFilter);
n1.Factory.addGetterSetter(tS.Node, "alpha", 1, function(r) {
  return this._filterUpToDate = !1, r > 1 ? 1 : r < 0 ? 0 : r;
});
var rS = {};
Object.defineProperty(rS, "__esModule", { value: !0 });
rS.Sepia = void 0;
const Lue = function(r) {
  const e = r.data, t = e.length;
  for (let i = 0; i < t; i += 4) {
    const a = e[i + 0], n = e[i + 1], o = e[i + 2];
    e[i + 0] = Math.min(255, a * 0.393 + n * 0.769 + o * 0.189), e[i + 1] = Math.min(255, a * 0.349 + n * 0.686 + o * 0.168), e[i + 2] = Math.min(255, a * 0.272 + n * 0.534 + o * 0.131);
  }
};
rS.Sepia = Lue;
var nS = {};
Object.defineProperty(nS, "__esModule", { value: !0 });
nS.Solarize = void 0;
const Oue = function(r) {
  const e = r.data, t = r.width, i = r.height, a = t * 4;
  let n = i;
  do {
    const o = (n - 1) * a;
    let s = t;
    do {
      const l = o + (s - 1) * 4;
      let u = e[l], c = e[l + 1], f = e[l + 2];
      u > 127 && (u = 255 - u), c > 127 && (c = 255 - c), f > 127 && (f = 255 - f), e[l] = u, e[l + 1] = c, e[l + 2] = f;
    } while (--s);
  } while (--n);
};
nS.Solarize = Oue;
var iS = {};
Object.defineProperty(iS, "__esModule", { value: !0 });
iS.Threshold = void 0;
const ZR = tn, Fue = ni, Nue = Pr, Bue = function(r) {
  const e = this.threshold() * 255, t = r.data, i = t.length;
  for (let a = 0; a < i; a += 1)
    t[a] = t[a] < e ? 0 : 255;
};
iS.Threshold = Bue;
ZR.Factory.addGetterSetter(Fue.Node, "threshold", 0.5, (0, Nue.getNumberValidator)(), ZR.Factory.afterSetFilter);
Object.defineProperty(dw, "__esModule", { value: !0 });
dw.Konva = void 0;
const JR = dH, Vue = _w, Uue = Sw, Gue = Cw, zue = Aw, Wue = Ew, QR = e0, Hue = H1, $ue = E0, Yue = j1, jue = Mw, que = Iw, Xue = Pw, Kue = Rw, Zue = k0, Jue = Lw, Que = Ow, ece = Fw, tce = Bw, rce = Vw, nce = Uw, ice = Gw, ace = Ww, oce = Hw, sce = $w, lce = Yw, uce = jw, cce = qw, hce = Xw, fce = Kw, dce = Zw, pce = Jw, vce = Qw, gce = eS, mce = rS, yce = nS, _ce = iS;
dw.Konva = JR.Konva.Util._assign(JR.Konva, {
  Arc: Vue.Arc,
  Arrow: Uue.Arrow,
  Circle: Gue.Circle,
  Ellipse: zue.Ellipse,
  Image: Wue.Image,
  Label: QR.Label,
  Tag: QR.Tag,
  Line: Hue.Line,
  Path: $ue.Path,
  Rect: Yue.Rect,
  RegularPolygon: jue.RegularPolygon,
  Ring: que.Ring,
  Sprite: Xue.Sprite,
  Star: Kue.Star,
  Text: Zue.Text,
  TextPath: Jue.TextPath,
  Transformer: Que.Transformer,
  Wedge: ece.Wedge,
  Filters: {
    Blur: tce.Blur,
    Brighten: rce.Brighten,
    Contrast: nce.Contrast,
    Emboss: ice.Emboss,
    Enhance: ace.Enhance,
    Grayscale: oce.Grayscale,
    HSL: sce.HSL,
    HSV: lce.HSV,
    Invert: uce.Invert,
    Kaleidoscope: cce.Kaleidoscope,
    Mask: hce.Mask,
    Noise: fce.Noise,
    Pixelate: dce.Pixelate,
    Posterize: pce.Posterize,
    RGB: vce.RGB,
    RGBA: gce.RGBA,
    Sepia: mce.Sepia,
    Solarize: yce.Solarize,
    Threshold: _ce.Threshold
  }
});
var bce = e8.exports;
Object.defineProperty(bce, "__esModule", { value: !0 });
const wce = dw;
e8.exports = wce.Konva;
var Sce = e8.exports;
const Vv = /* @__PURE__ */ GE(Sce);
class xce {
  constructor(e) {
    this.params = e, this.stage = new Vv.Stage({
      container: this.params.container,
      width: this.params.width,
      height: this.params.height
    }), this.layers = [], this.addLayer();
  }
  stage;
  layers;
  addLayer(e = "") {
    const t = new Vv.Layer({
      name: e || "layer"
    });
    return this.layers.push(t), this.stage.add(t), t;
  }
  addTexts(e, t = "") {
    let i = this.layers[this.layers.length - 1];
    t && (i = this.addLayer(t)), e.forEach((a, n) => {
      const o = new Vv.Text({
        id: a.id || (n + 1).toString(),
        text: a.text,
        x: a.x,
        y: a.y,
        fontSize: a.fontSize || 12,
        fill: a.color || "black"
      });
      i.add(o);
    }), i.batchDraw();
  }
  addImages(e, t = "") {
    let i = this.layers[this.layers.length - 1];
    t && (i = this.addLayer(t)), e.forEach((a, n) => {
      Vv.Image.fromURL(a.url, (o) => {
        o.setAttrs({
          id: a.id || (n + 1).toString(),
          x: a.x,
          y: a.y,
          width: a.width,
          height: a.height,
          scaleX: a.scale || 1,
          scaleY: a.scale || 1
        }), i.add(o);
      });
    }), i.batchDraw();
  }
  addLines(e, t = "") {
    let i = this.layers[this.layers.length - 1];
    t && (i = this.addLayer(t)), e.forEach((a, n) => {
      const o = new Vv.Line({
        id: a.id || (n + 1).toString(),
        points: a.points,
        stroke: a.color || "black",
        strokeWidth: a.width || 1,
        lineGap: a.lineGap || "butt",
        lineJoin: a.lineJoin || "miter"
      });
      i.add(o);
    }), i.batchDraw(), console.log(i, this.stage);
  }
  setState({ layerName: e, targetId: t, color: i, type: a }) {
    const n = this.stage.children.find((o) => e ? o.attrs.name === e : o.attrs.name === "layer");
    if (n) {
      const o = n.children.find((s) => s.attrs.id === t);
      o && (a === "line" ? o.stroke(i) : a === "text" && o.fill(i), n.batchDraw());
    }
  }
}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var pA = function(r, e) {
  return pA = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t, i) {
    t.__proto__ = i;
  } || function(t, i) {
    for (var a in i)
      Object.prototype.hasOwnProperty.call(i, a) && (t[a] = i[a]);
  }, pA(r, e);
};
function Ge(r, e) {
  if (typeof e != "function" && e !== null)
    throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
  pA(r, e);
  function t() {
    this.constructor = r;
  }
  r.prototype = e === null ? Object.create(e) : (t.prototype = e.prototype, new t());
}
var Tce = function() {
  function r() {
    this.firefox = !1, this.ie = !1, this.edge = !1, this.newEdge = !1, this.weChat = !1;
  }
  return r;
}(), Cce = function() {
  function r() {
    this.browser = new Tce(), this.node = !1, this.wxa = !1, this.worker = !1, this.svgSupported = !1, this.touchEventsSupported = !1, this.pointerEventsSupported = !1, this.domSupported = !1, this.transformSupported = !1, this.transform3dSupported = !1, this.hasGlobalWindow = typeof window < "u";
  }
  return r;
}(), Cc = new Cce();
typeof wx == "object" && typeof wx.getSystemInfoSync == "function" ? (Cc.wxa = !0, Cc.touchEventsSupported = !0) : typeof document > "u" && typeof self < "u" ? Cc.worker = !0 : !Cc.hasGlobalWindow || "Deno" in window || typeof navigator < "u" && typeof navigator.userAgent == "string" && navigator.userAgent.indexOf("Node.js") > -1 ? (Cc.node = !0, Cc.svgSupported = !0) : Ace(navigator.userAgent, Cc);
function Ace(r, e) {
  var t = e.browser, i = r.match(/Firefox\/([\d.]+)/), a = r.match(/MSIE\s([\d.]+)/) || r.match(/Trident\/.+?rv:(([\d.]+))/), n = r.match(/Edge?\/([\d.]+)/), o = /micromessenger/i.test(r);
  i && (t.firefox = !0, t.version = i[1]), a && (t.ie = !0, t.version = a[1]), n && (t.edge = !0, t.version = n[1], t.newEdge = +n[1].split(".")[0] > 18), o && (t.weChat = !0), e.svgSupported = typeof SVGRect < "u", e.touchEventsSupported = "ontouchstart" in window && !t.ie && !t.edge, e.pointerEventsSupported = "onpointerdown" in window && (t.edge || t.ie && +t.version >= 11);
  var s = e.domSupported = typeof document < "u";
  if (s) {
    var l = document.documentElement.style;
    e.transform3dSupported = (t.ie && "transition" in l || t.edge || "WebKitCSSMatrix" in window && "m11" in new WebKitCSSMatrix() || "MozPerspective" in l) && !("OTransition" in l), e.transformSupported = e.transform3dSupported || t.ie && +t.version >= 9;
  }
}
const qr = Cc;
var g8 = 12, qH = "sans-serif", Nu = g8 + "px " + qH, Ece = 20, Dce = 100, kce = "007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";
function Mce(r) {
  var e = {};
  if (typeof JSON > "u")
    return e;
  for (var t = 0; t < r.length; t++) {
    var i = String.fromCharCode(t + 32), a = (r.charCodeAt(t) - Ece) / Dce;
    e[i] = a;
  }
  return e;
}
var Ice = Mce(kce), vo = {
  createCanvas: function() {
    return typeof document < "u" && document.createElement("canvas");
  },
  measureText: function() {
    var r, e;
    return function(t, i) {
      if (!r) {
        var a = vo.createCanvas();
        r = a && a.getContext("2d");
      }
      if (r)
        return e !== i && (e = r.font = i || Nu), r.measureText(t);
      t = t || "", i = i || Nu;
      var n = /((?:\d+)?\.?\d*)px/.exec(i), o = n && +n[1] || g8, s = 0;
      if (i.indexOf("mono") >= 0)
        s = o * t.length;
      else
        for (var l = 0; l < t.length; l++) {
          var u = Ice[t[l]];
          s += u == null ? o : u * o;
        }
      return { width: s };
    };
  }(),
  loadImage: function(r, e, t) {
    var i = new Image();
    return i.onload = e, i.onerror = t, i.src = r, i;
  }
};
function XH(r) {
  for (var e in vo)
    r[e] && (vo[e] = r[e]);
}
var KH = ls([
  "Function",
  "RegExp",
  "Date",
  "Error",
  "CanvasGradient",
  "CanvasPattern",
  "Image",
  "Canvas"
], function(r, e) {
  return r["[object " + e + "]"] = !0, r;
}, {}), ZH = ls([
  "Int8",
  "Uint8",
  "Uint8Clamped",
  "Int16",
  "Uint16",
  "Int32",
  "Uint32",
  "Float32",
  "Float64"
], function(r, e) {
  return r["[object " + e + "Array]"] = !0, r;
}, {}), M0 = Object.prototype.toString, aS = Array.prototype, Pce = aS.forEach, Rce = aS.filter, m8 = aS.slice, Lce = aS.map, eL = function() {
}.constructor, by = eL ? eL.prototype : null, y8 = "__proto__", Oce = 2311;
function _8() {
  return Oce++;
}
function as() {
  for (var r = [], e = 0; e < arguments.length; e++)
    r[e] = arguments[e];
  typeof console < "u" && console.error.apply(console, r);
}
function Gt(r) {
  if (r == null || typeof r != "object")
    return r;
  var e = r, t = M0.call(r);
  if (t === "[object Array]") {
    if (!$p(r)) {
      e = [];
      for (var i = 0, a = r.length; i < a; i++)
        e[i] = Gt(r[i]);
    }
  } else if (ZH[t]) {
    if (!$p(r)) {
      var n = r.constructor;
      if (n.from)
        e = n.from(r);
      else {
        e = new n(r.length);
        for (var i = 0, a = r.length; i < a; i++)
          e[i] = r[i];
      }
    }
  } else if (!KH[t] && !$p(r) && !qc(r)) {
    e = {};
    for (var o in r)
      r.hasOwnProperty(o) && o !== y8 && (e[o] = Gt(r[o]));
  }
  return e;
}
function gr(r, e, t) {
  if (!zt(e) || !zt(r))
    return t ? Gt(e) : r;
  for (var i in e)
    if (e.hasOwnProperty(i) && i !== y8) {
      var a = r[i], n = e[i];
      zt(n) && zt(a) && !Ke(n) && !Ke(a) && !qc(n) && !qc(a) && !vA(n) && !vA(a) && !$p(n) && !$p(a) ? gr(a, n, t) : (t || !(i in r)) && (r[i] = Gt(e[i]));
    }
  return r;
}
function oS(r, e) {
  for (var t = r[0], i = 1, a = r.length; i < a; i++)
    t = gr(t, r[i], e);
  return t;
}
function $e(r, e) {
  if (Object.assign)
    Object.assign(r, e);
  else
    for (var t in e)
      e.hasOwnProperty(t) && t !== y8 && (r[t] = e[t]);
  return r;
}
function Yt(r, e, t) {
  for (var i = Ir(e), a = 0, n = i.length; a < n; a++) {
    var o = i[a];
    (t ? e[o] != null : r[o] == null) && (r[o] = e[o]);
  }
  return r;
}
var Fce = vo.createCanvas;
function dr(r, e) {
  if (r) {
    if (r.indexOf)
      return r.indexOf(e);
    for (var t = 0, i = r.length; t < i; t++)
      if (r[t] === e)
        return t;
  }
  return -1;
}
function b8(r, e) {
  var t = r.prototype;
  function i() {
  }
  i.prototype = e.prototype, r.prototype = new i();
  for (var a in t)
    t.hasOwnProperty(a) && (r.prototype[a] = t[a]);
  r.prototype.constructor = r, r.superClass = e;
}
function ci(r, e, t) {
  if (r = "prototype" in r ? r.prototype : r, e = "prototype" in e ? e.prototype : e, Object.getOwnPropertyNames)
    for (var i = Object.getOwnPropertyNames(e), a = 0; a < i.length; a++) {
      var n = i[a];
      n !== "constructor" && (t ? e[n] != null : r[n] == null) && (r[n] = e[n]);
    }
  else
    Yt(r, e, t);
}
function ba(r) {
  return !r || typeof r == "string" ? !1 : typeof r.length == "number";
}
function J(r, e, t) {
  if (r && e)
    if (r.forEach && r.forEach === Pce)
      r.forEach(e, t);
    else if (r.length === +r.length)
      for (var i = 0, a = r.length; i < a; i++)
        e.call(t, r[i], i, r);
    else
      for (var n in r)
        r.hasOwnProperty(n) && e.call(t, r[n], n, r);
}
function Je(r, e, t) {
  if (!r)
    return [];
  if (!e)
    return sS(r);
  if (r.map && r.map === Lce)
    return r.map(e, t);
  for (var i = [], a = 0, n = r.length; a < n; a++)
    i.push(e.call(t, r[a], a, r));
  return i;
}
function ls(r, e, t, i) {
  if (r && e) {
    for (var a = 0, n = r.length; a < n; a++)
      t = e.call(i, t, r[a], a, r);
    return t;
  }
}
function Xr(r, e, t) {
  if (!r)
    return [];
  if (!e)
    return sS(r);
  if (r.filter && r.filter === Rce)
    return r.filter(e, t);
  for (var i = [], a = 0, n = r.length; a < n; a++)
    e.call(t, r[a], a, r) && i.push(r[a]);
  return i;
}
function ch(r, e, t) {
  if (r && e) {
    for (var i = 0, a = r.length; i < a; i++)
      if (e.call(t, r[i], i, r))
        return r[i];
  }
}
function Ir(r) {
  if (!r)
    return [];
  if (Object.keys)
    return Object.keys(r);
  var e = [];
  for (var t in r)
    r.hasOwnProperty(t) && e.push(t);
  return e;
}
function Nce(r, e) {
  for (var t = [], i = 2; i < arguments.length; i++)
    t[i - 2] = arguments[i];
  return function() {
    return r.apply(e, t.concat(m8.call(arguments)));
  };
}
var mt = by && Bt(by.bind) ? by.call.bind(by.bind) : Nce;
function fr(r) {
  for (var e = [], t = 1; t < arguments.length; t++)
    e[t - 1] = arguments[t];
  return function() {
    return r.apply(this, e.concat(m8.call(arguments)));
  };
}
function Ke(r) {
  return Array.isArray ? Array.isArray(r) : M0.call(r) === "[object Array]";
}
function Bt(r) {
  return typeof r == "function";
}
function vt(r) {
  return typeof r == "string";
}
function i1(r) {
  return M0.call(r) === "[object String]";
}
function Or(r) {
  return typeof r == "number";
}
function zt(r) {
  var e = typeof r;
  return e === "function" || !!r && e === "object";
}
function vA(r) {
  return !!KH[M0.call(r)];
}
function za(r) {
  return !!ZH[M0.call(r)];
}
function qc(r) {
  return typeof r == "object" && typeof r.nodeType == "number" && typeof r.ownerDocument == "object";
}
function q1(r) {
  return r.colorStops != null;
}
function JH(r) {
  return r.image != null;
}
function w8(r) {
  return M0.call(r) === "[object RegExp]";
}
function Zi(r) {
  return r !== r;
}
function Di() {
  for (var r = [], e = 0; e < arguments.length; e++)
    r[e] = arguments[e];
  for (var t = 0, i = r.length; t < i; t++)
    if (r[t] != null)
      return r[t];
}
function It(r, e) {
  return r ?? e;
}
function Ba(r, e, t) {
  return r ?? e ?? t;
}
function sS(r) {
  for (var e = [], t = 1; t < arguments.length; t++)
    e[t - 1] = arguments[t];
  return m8.apply(r, e);
}
function X1(r) {
  if (typeof r == "number")
    return [r, r, r, r];
  var e = r.length;
  return e === 2 ? [r[0], r[1], r[0], r[1]] : e === 3 ? [r[0], r[1], r[2], r[1]] : r;
}
function kt(r, e) {
  if (!r)
    throw new Error(e);
}
function Ao(r) {
  return r == null ? null : typeof r.trim == "function" ? r.trim() : r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
}
var QH = "__ec_primitive__";
function a1(r) {
  r[QH] = !0;
}
function $p(r) {
  return r[QH];
}
var Bce = function() {
  function r() {
    this.data = {};
  }
  return r.prototype.delete = function(e) {
    var t = this.has(e);
    return t && delete this.data[e], t;
  }, r.prototype.has = function(e) {
    return this.data.hasOwnProperty(e);
  }, r.prototype.get = function(e) {
    return this.data[e];
  }, r.prototype.set = function(e, t) {
    return this.data[e] = t, this;
  }, r.prototype.keys = function() {
    return Ir(this.data);
  }, r.prototype.forEach = function(e) {
    var t = this.data;
    for (var i in t)
      t.hasOwnProperty(i) && e(t[i], i);
  }, r;
}(), e$ = typeof Map == "function";
function Vce() {
  return e$ ? /* @__PURE__ */ new Map() : new Bce();
}
var t$ = function() {
  function r(e) {
    var t = Ke(e);
    this.data = Vce();
    var i = this;
    e instanceof r ? e.each(a) : e && J(e, a);
    function a(n, o) {
      t ? i.set(n, o) : i.set(o, n);
    }
  }
  return r.prototype.hasKey = function(e) {
    return this.data.has(e);
  }, r.prototype.get = function(e) {
    return this.data.get(e);
  }, r.prototype.set = function(e, t) {
    return this.data.set(e, t), t;
  }, r.prototype.each = function(e, t) {
    this.data.forEach(function(i, a) {
      e.call(t, i, a);
    });
  }, r.prototype.keys = function() {
    var e = this.data.keys();
    return e$ ? Array.from(e) : e;
  }, r.prototype.removeKey = function(e) {
    this.data.delete(e);
  }, r;
}();
function Pt(r) {
  return new t$(r);
}
function n0(r, e) {
  for (var t = new r.constructor(r.length + e.length), i = 0; i < r.length; i++)
    t[i] = r[i];
  for (var a = r.length, i = 0; i < e.length; i++)
    t[i + a] = e[i];
  return t;
}
function K1(r, e) {
  var t;
  if (Object.create)
    t = Object.create(r);
  else {
    var i = function() {
    };
    i.prototype = r, t = new i();
  }
  return e && $e(t, e), t;
}
function S8(r) {
  var e = r.style;
  e.webkitUserSelect = "none", e.userSelect = "none", e.webkitTapHighlightColor = "rgba(0,0,0,0)", e["-webkit-touch-callout"] = "none";
}
function xt(r, e) {
  return r.hasOwnProperty(e);
}
function si() {
}
var Vg = 180 / Math.PI, Uce = Number.EPSILON || Math.pow(2, -52);
const Gce = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  EPSILON: Uce,
  HashMap: t$,
  RADIAN_TO_DEGREE: Vg,
  assert: kt,
  bind: mt,
  clone: Gt,
  concatArray: n0,
  createCanvas: Fce,
  createHashMap: Pt,
  createObject: K1,
  curry: fr,
  defaults: Yt,
  disableUserSelect: S8,
  each: J,
  eqNaN: Zi,
  extend: $e,
  filter: Xr,
  find: ch,
  guid: _8,
  hasOwn: xt,
  indexOf: dr,
  inherits: b8,
  isArray: Ke,
  isArrayLike: ba,
  isBuiltInObject: vA,
  isDom: qc,
  isFunction: Bt,
  isGradientObject: q1,
  isImagePatternObject: JH,
  isNumber: Or,
  isObject: zt,
  isPrimitive: $p,
  isRegExp: w8,
  isString: vt,
  isStringSafe: i1,
  isTypedArray: za,
  keys: Ir,
  logError: as,
  map: Je,
  merge: gr,
  mergeAll: oS,
  mixin: ci,
  noop: si,
  normalizeCssArray: X1,
  reduce: ls,
  retrieve: Di,
  retrieve2: It,
  retrieve3: Ba,
  setAsPrimitive: a1,
  slice: sS,
  trim: Ao
}, Symbol.toStringTag, { value: "Module" }));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var gA = function(r, e) {
  return gA = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t, i) {
    t.__proto__ = i;
  } || function(t, i) {
    for (var a in i)
      Object.prototype.hasOwnProperty.call(i, a) && (t[a] = i[a]);
  }, gA(r, e);
};
function Nn(r, e) {
  if (typeof e != "function" && e !== null)
    throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
  gA(r, e);
  function t() {
    this.constructor = r;
  }
  r.prototype = e === null ? Object.create(e) : (t.prototype = e.prototype, new t());
}
function hh(r, e) {
  return r == null && (r = 0), e == null && (e = 0), [r, e];
}
function Oa(r, e) {
  return r[0] = e[0], r[1] = e[1], r;
}
function Al(r) {
  return [r[0], r[1]];
}
function lS(r, e, t) {
  return r[0] = e, r[1] = t, r;
}
function mA(r, e, t) {
  return r[0] = e[0] + t[0], r[1] = e[1] + t[1], r;
}
function P_(r, e, t, i) {
  return r[0] = e[0] + t[0] * i, r[1] = e[1] + t[1] * i, r;
}
function Mc(r, e, t) {
  return r[0] = e[0] - t[0], r[1] = e[1] - t[1], r;
}
function o1(r) {
  return Math.sqrt(x8(r));
}
var zce = o1;
function x8(r) {
  return r[0] * r[0] + r[1] * r[1];
}
var Wce = x8;
function Hce(r, e, t) {
  return r[0] = e[0] * t[0], r[1] = e[1] * t[1], r;
}
function $ce(r, e, t) {
  return r[0] = e[0] / t[0], r[1] = e[1] / t[1], r;
}
function Yce(r, e) {
  return r[0] * e[0] + r[1] * e[1];
}
function Ug(r, e, t) {
  return r[0] = e[0] * t, r[1] = e[1] * t, r;
}
function _d(r, e) {
  var t = o1(e);
  return t === 0 ? (r[0] = 0, r[1] = 0) : (r[0] = e[0] / t, r[1] = e[1] / t), r;
}
function R_(r, e) {
  return Math.sqrt((r[0] - e[0]) * (r[0] - e[0]) + (r[1] - e[1]) * (r[1] - e[1]));
}
var gu = R_;
function r$(r, e) {
  return (r[0] - e[0]) * (r[0] - e[0]) + (r[1] - e[1]) * (r[1] - e[1]);
}
var Vc = r$;
function jce(r, e) {
  return r[0] = -e[0], r[1] = -e[1], r;
}
function Gg(r, e, t, i) {
  return r[0] = e[0] + i * (t[0] - e[0]), r[1] = e[1] + i * (t[1] - e[1]), r;
}
function li(r, e, t) {
  var i = e[0], a = e[1];
  return r[0] = t[0] * i + t[2] * a + t[4], r[1] = t[1] * i + t[3] * a + t[5], r;
}
function mu(r, e, t) {
  return r[0] = Math.min(e[0], t[0]), r[1] = Math.min(e[1], t[1]), r;
}
function yu(r, e, t) {
  return r[0] = Math.max(e[0], t[0]), r[1] = Math.max(e[1], t[1]), r;
}
const qce = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  add: mA,
  applyTransform: li,
  clone: Al,
  copy: Oa,
  create: hh,
  dist: gu,
  distSquare: Vc,
  distance: R_,
  distanceSquare: r$,
  div: $ce,
  dot: Yce,
  len: o1,
  lenSquare: x8,
  length: zce,
  lengthSquare: Wce,
  lerp: Gg,
  max: yu,
  min: mu,
  mul: Hce,
  negate: jce,
  normalize: _d,
  scale: Ug,
  scaleAndAdd: P_,
  set: lS,
  sub: Mc
}, Symbol.toStringTag, { value: "Module" }));
var ep = function() {
  function r(e, t) {
    this.target = e, this.topTarget = t && t.topTarget;
  }
  return r;
}(), Xce = function() {
  function r(e) {
    this.handler = e, e.on("mousedown", this._dragStart, this), e.on("mousemove", this._drag, this), e.on("mouseup", this._dragEnd, this);
  }
  return r.prototype._dragStart = function(e) {
    for (var t = e.target; t && !t.draggable; )
      t = t.parent || t.__hostTarget;
    t && (this._draggingTarget = t, t.dragging = !0, this._x = e.offsetX, this._y = e.offsetY, this.handler.dispatchToElement(new ep(t, e), "dragstart", e.event));
  }, r.prototype._drag = function(e) {
    var t = this._draggingTarget;
    if (t) {
      var i = e.offsetX, a = e.offsetY, n = i - this._x, o = a - this._y;
      this._x = i, this._y = a, t.drift(n, o, e), this.handler.dispatchToElement(new ep(t, e), "drag", e.event);
      var s = this.handler.findHover(i, a, t).target, l = this._dropTarget;
      this._dropTarget = s, t !== s && (l && s !== l && this.handler.dispatchToElement(new ep(l, e), "dragleave", e.event), s && s !== l && this.handler.dispatchToElement(new ep(s, e), "dragenter", e.event));
    }
  }, r.prototype._dragEnd = function(e) {
    var t = this._draggingTarget;
    t && (t.dragging = !1), this.handler.dispatchToElement(new ep(t, e), "dragend", e.event), this._dropTarget && this.handler.dispatchToElement(new ep(this._dropTarget, e), "drop", e.event), this._draggingTarget = null, this._dropTarget = null;
  }, r;
}();
const Kce = Xce;
var Zce = function() {
  function r(e) {
    e && (this._$eventProcessor = e);
  }
  return r.prototype.on = function(e, t, i, a) {
    this._$handlers || (this._$handlers = {});
    var n = this._$handlers;
    if (typeof t == "function" && (a = i, i = t, t = null), !i || !e)
      return this;
    var o = this._$eventProcessor;
    t != null && o && o.normalizeQuery && (t = o.normalizeQuery(t)), n[e] || (n[e] = []);
    for (var s = 0; s < n[e].length; s++)
      if (n[e][s].h === i)
        return this;
    var l = {
      h: i,
      query: t,
      ctx: a || this,
      callAtLast: i.zrEventfulCallAtLast
    }, u = n[e].length - 1, c = n[e][u];
    return c && c.callAtLast ? n[e].splice(u, 0, l) : n[e].push(l), this;
  }, r.prototype.isSilent = function(e) {
    var t = this._$handlers;
    return !t || !t[e] || !t[e].length;
  }, r.prototype.off = function(e, t) {
    var i = this._$handlers;
    if (!i)
      return this;
    if (!e)
      return this._$handlers = {}, this;
    if (t) {
      if (i[e]) {
        for (var a = [], n = 0, o = i[e].length; n < o; n++)
          i[e][n].h !== t && a.push(i[e][n]);
        i[e] = a;
      }
      i[e] && i[e].length === 0 && delete i[e];
    } else
      delete i[e];
    return this;
  }, r.prototype.trigger = function(e) {
    for (var t = [], i = 1; i < arguments.length; i++)
      t[i - 1] = arguments[i];
    if (!this._$handlers)
      return this;
    var a = this._$handlers[e], n = this._$eventProcessor;
    if (a)
      for (var o = t.length, s = a.length, l = 0; l < s; l++) {
        var u = a[l];
        if (!(n && n.filter && u.query != null && !n.filter(e, u.query)))
          switch (o) {
            case 0:
              u.h.call(u.ctx);
              break;
            case 1:
              u.h.call(u.ctx, t[0]);
              break;
            case 2:
              u.h.call(u.ctx, t[0], t[1]);
              break;
            default:
              u.h.apply(u.ctx, t);
              break;
          }
      }
    return n && n.afterTrigger && n.afterTrigger(e), this;
  }, r.prototype.triggerWithContext = function(e) {
    for (var t = [], i = 1; i < arguments.length; i++)
      t[i - 1] = arguments[i];
    if (!this._$handlers)
      return this;
    var a = this._$handlers[e], n = this._$eventProcessor;
    if (a)
      for (var o = t.length, s = t[o - 1], l = a.length, u = 0; u < l; u++) {
        var c = a[u];
        if (!(n && n.filter && c.query != null && !n.filter(e, c.query)))
          switch (o) {
            case 0:
              c.h.call(s);
              break;
            case 1:
              c.h.call(s, t[0]);
              break;
            case 2:
              c.h.call(s, t[0], t[1]);
              break;
            default:
              c.h.apply(s, t.slice(1, o - 1));
              break;
          }
      }
    return n && n.afterTrigger && n.afterTrigger(e), this;
  }, r;
}();
const fs = Zce;
var Jce = Math.log(2);
function yA(r, e, t, i, a, n) {
  var o = i + "-" + a, s = r.length;
  if (n.hasOwnProperty(o))
    return n[o];
  if (e === 1) {
    var l = Math.round(Math.log((1 << s) - 1 & ~a) / Jce);
    return r[t][l];
  }
  for (var u = i | 1 << t, c = t + 1; i & 1 << c; )
    c++;
  for (var f = 0, d = 0, p = 0; d < s; d++) {
    var v = 1 << d;
    v & a || (f += (p % 2 ? -1 : 1) * r[t][d] * yA(r, e - 1, c, u, a | v, n), p++);
  }
  return n[o] = f, f;
}
function tL(r, e) {
  var t = [
    [r[0], r[1], 1, 0, 0, 0, -e[0] * r[0], -e[0] * r[1]],
    [0, 0, 0, r[0], r[1], 1, -e[1] * r[0], -e[1] * r[1]],
    [r[2], r[3], 1, 0, 0, 0, -e[2] * r[2], -e[2] * r[3]],
    [0, 0, 0, r[2], r[3], 1, -e[3] * r[2], -e[3] * r[3]],
    [r[4], r[5], 1, 0, 0, 0, -e[4] * r[4], -e[4] * r[5]],
    [0, 0, 0, r[4], r[5], 1, -e[5] * r[4], -e[5] * r[5]],
    [r[6], r[7], 1, 0, 0, 0, -e[6] * r[6], -e[6] * r[7]],
    [0, 0, 0, r[6], r[7], 1, -e[7] * r[6], -e[7] * r[7]]
  ], i = {}, a = yA(t, 8, 0, 0, 0, i);
  if (a !== 0) {
    for (var n = [], o = 0; o < 8; o++)
      for (var s = 0; s < 8; s++)
        n[s] == null && (n[s] = 0), n[s] += ((o + s) % 2 ? -1 : 1) * yA(t, 7, o === 0 ? 1 : 0, 1 << o, 1 << s, i) / a * e[o];
    return function(l, u, c) {
      var f = u * n[6] + c * n[7] + 1;
      l[0] = (u * n[0] + c * n[1] + n[2]) / f, l[1] = (u * n[3] + c * n[4] + n[5]) / f;
    };
  }
}
var L_ = "___zrEVENTSAVED", Z4 = [];
function Qce(r, e, t, i, a) {
  return _A(Z4, e, i, a, !0) && _A(r, t, Z4[0], Z4[1]);
}
function ehe(r, e) {
  r && t(r), e && t(e);
  function t(i) {
    var a = i[L_];
    a && (a.clearMarkers && a.clearMarkers(), delete i[L_]);
  }
}
function _A(r, e, t, i, a) {
  if (e.getBoundingClientRect && qr.domSupported && !n$(e)) {
    var n = e[L_] || (e[L_] = {}), o = the(e, n), s = rhe(o, n, a);
    if (s)
      return s(r, t, i), !0;
  }
  return !1;
}
function the(r, e) {
  var t = e.markers;
  if (t)
    return t;
  t = e.markers = [];
  for (var i = ["left", "right"], a = ["top", "bottom"], n = 0; n < 4; n++) {
    var o = document.createElement("div"), s = o.style, l = n % 2, u = (n >> 1) % 2;
    s.cssText = [
      "position: absolute",
      "visibility: hidden",
      "padding: 0",
      "margin: 0",
      "border-width: 0",
      "user-select: none",
      "width:0",
      "height:0",
      i[l] + ":0",
      a[u] + ":0",
      i[1 - l] + ":auto",
      a[1 - u] + ":auto",
      ""
    ].join("!important;"), r.appendChild(o), t.push(o);
  }
  return e.clearMarkers = function() {
    J(t, function(c) {
      c.parentNode && c.parentNode.removeChild(c);
    });
  }, t;
}
function rhe(r, e, t) {
  for (var i = t ? "invTrans" : "trans", a = e[i], n = e.srcCoords, o = [], s = [], l = !0, u = 0; u < 4; u++) {
    var c = r[u].getBoundingClientRect(), f = 2 * u, d = c.left, p = c.top;
    o.push(d, p), l = l && n && d === n[f] && p === n[f + 1], s.push(r[u].offsetLeft, r[u].offsetTop);
  }
  return l && a ? a : (e.srcCoords = o, e[i] = t ? tL(s, o) : tL(o, s));
}
function n$(r) {
  return r.nodeName.toUpperCase() === "CANVAS";
}
var nhe = /([&<>"'])/g, ihe = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;"
};
function ya(r) {
  return r == null ? "" : (r + "").replace(nhe, function(e, t) {
    return ihe[t];
  });
}
var ahe = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, J4 = [], ohe = qr.browser.firefox && +qr.browser.version.split(".")[0] < 39;
function bA(r, e, t, i) {
  return t = t || {}, i ? rL(r, e, t) : ohe && e.layerX != null && e.layerX !== e.offsetX ? (t.zrX = e.layerX, t.zrY = e.layerY) : e.offsetX != null ? (t.zrX = e.offsetX, t.zrY = e.offsetY) : rL(r, e, t), t;
}
function rL(r, e, t) {
  if (qr.domSupported && r.getBoundingClientRect) {
    var i = e.clientX, a = e.clientY;
    if (n$(r)) {
      var n = r.getBoundingClientRect();
      t.zrX = i - n.left, t.zrY = a - n.top;
      return;
    } else if (_A(J4, r, i, a)) {
      t.zrX = J4[0], t.zrY = J4[1];
      return;
    }
  }
  t.zrX = t.zrY = 0;
}
function T8(r) {
  return r || window.event;
}
function Zo(r, e, t) {
  if (e = T8(e), e.zrX != null)
    return e;
  var i = e.type, a = i && i.indexOf("touch") >= 0;
  if (a) {
    var o = i !== "touchend" ? e.targetTouches[0] : e.changedTouches[0];
    o && bA(r, o, e, t);
  } else {
    bA(r, e, e, t);
    var n = she(e);
    e.zrDelta = n ? n / 120 : -(e.detail || 0) / 3;
  }
  var s = e.button;
  return e.which == null && s !== void 0 && ahe.test(e.type) && (e.which = s & 1 ? 1 : s & 2 ? 3 : s & 4 ? 2 : 0), e;
}
function she(r) {
  var e = r.wheelDelta;
  if (e)
    return e;
  var t = r.deltaX, i = r.deltaY;
  if (t == null || i == null)
    return e;
  var a = Math.abs(i !== 0 ? i : t), n = i > 0 ? -1 : i < 0 ? 1 : t > 0 ? -1 : 1;
  return 3 * a * n;
}
function wA(r, e, t, i) {
  r.addEventListener(e, t, i);
}
function lhe(r, e, t, i) {
  r.removeEventListener(e, t, i);
}
var Bu = function(r) {
  r.preventDefault(), r.stopPropagation(), r.cancelBubble = !0;
};
function nL(r) {
  return r.which === 2 || r.which === 3;
}
var uhe = function() {
  function r() {
    this._track = [];
  }
  return r.prototype.recognize = function(e, t, i) {
    return this._doTrack(e, t, i), this._recognize(e);
  }, r.prototype.clear = function() {
    return this._track.length = 0, this;
  }, r.prototype._doTrack = function(e, t, i) {
    var a = e.touches;
    if (a) {
      for (var n = {
        points: [],
        touches: [],
        target: t,
        event: e
      }, o = 0, s = a.length; o < s; o++) {
        var l = a[o], u = bA(i, l, {});
        n.points.push([u.zrX, u.zrY]), n.touches.push(l);
      }
      this._track.push(n);
    }
  }, r.prototype._recognize = function(e) {
    for (var t in Q4)
      if (Q4.hasOwnProperty(t)) {
        var i = Q4[t](this._track, e);
        if (i)
          return i;
      }
  }, r;
}();
function iL(r) {
  var e = r[1][0] - r[0][0], t = r[1][1] - r[0][1];
  return Math.sqrt(e * e + t * t);
}
function che(r) {
  return [
    (r[0][0] + r[1][0]) / 2,
    (r[0][1] + r[1][1]) / 2
  ];
}
var Q4 = {
  pinch: function(r, e) {
    var t = r.length;
    if (t) {
      var i = (r[t - 1] || {}).points, a = (r[t - 2] || {}).points || i;
      if (a && a.length > 1 && i && i.length > 1) {
        var n = iL(i) / iL(a);
        !isFinite(n) && (n = 1), e.pinchScale = n;
        var o = che(i);
        return e.pinchX = o[0], e.pinchY = o[1], {
          type: "pinch",
          target: r[0].target,
          event: e
        };
      }
    }
  }
};
function Ji() {
  return [1, 0, 0, 1, 0, 0];
}
function Z1(r) {
  return r[0] = 1, r[1] = 0, r[2] = 0, r[3] = 1, r[4] = 0, r[5] = 0, r;
}
function J1(r, e) {
  return r[0] = e[0], r[1] = e[1], r[2] = e[2], r[3] = e[3], r[4] = e[4], r[5] = e[5], r;
}
function Ls(r, e, t) {
  var i = e[0] * t[0] + e[2] * t[1], a = e[1] * t[0] + e[3] * t[1], n = e[0] * t[2] + e[2] * t[3], o = e[1] * t[2] + e[3] * t[3], s = e[0] * t[4] + e[2] * t[5] + e[4], l = e[1] * t[4] + e[3] * t[5] + e[5];
  return r[0] = i, r[1] = a, r[2] = n, r[3] = o, r[4] = s, r[5] = l, r;
}
function Bs(r, e, t) {
  return r[0] = e[0], r[1] = e[1], r[2] = e[2], r[3] = e[3], r[4] = e[4] + t[0], r[5] = e[5] + t[1], r;
}
function ec(r, e, t, i) {
  i === void 0 && (i = [0, 0]);
  var a = e[0], n = e[2], o = e[4], s = e[1], l = e[3], u = e[5], c = Math.sin(t), f = Math.cos(t);
  return r[0] = a * f + s * c, r[1] = -a * c + s * f, r[2] = n * f + l * c, r[3] = -n * c + f * l, r[4] = f * (o - i[0]) + c * (u - i[1]) + i[0], r[5] = f * (u - i[1]) - c * (o - i[0]) + i[1], r;
}
function uS(r, e, t) {
  var i = t[0], a = t[1];
  return r[0] = e[0] * i, r[1] = e[1] * a, r[2] = e[2] * i, r[3] = e[3] * a, r[4] = e[4] * i, r[5] = e[5] * a, r;
}
function us(r, e) {
  var t = e[0], i = e[2], a = e[4], n = e[1], o = e[3], s = e[5], l = t * o - n * i;
  return l ? (l = 1 / l, r[0] = o * l, r[1] = -n * l, r[2] = -i * l, r[3] = t * l, r[4] = (i * s - o * a) * l, r[5] = (n * a - t * s) * l, r) : null;
}
function i$(r) {
  var e = Ji();
  return J1(e, r), e;
}
const hhe = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  clone: i$,
  copy: J1,
  create: Ji,
  identity: Z1,
  invert: us,
  mul: Ls,
  rotate: ec,
  scale: uS,
  translate: Bs
}, Symbol.toStringTag, { value: "Module" }));
var fhe = function() {
  function r(e, t) {
    this.x = e || 0, this.y = t || 0;
  }
  return r.prototype.copy = function(e) {
    return this.x = e.x, this.y = e.y, this;
  }, r.prototype.clone = function() {
    return new r(this.x, this.y);
  }, r.prototype.set = function(e, t) {
    return this.x = e, this.y = t, this;
  }, r.prototype.equal = function(e) {
    return e.x === this.x && e.y === this.y;
  }, r.prototype.add = function(e) {
    return this.x += e.x, this.y += e.y, this;
  }, r.prototype.scale = function(e) {
    this.x *= e, this.y *= e;
  }, r.prototype.scaleAndAdd = function(e, t) {
    this.x += e.x * t, this.y += e.y * t;
  }, r.prototype.sub = function(e) {
    return this.x -= e.x, this.y -= e.y, this;
  }, r.prototype.dot = function(e) {
    return this.x * e.x + this.y * e.y;
  }, r.prototype.len = function() {
    return Math.sqrt(this.x * this.x + this.y * this.y);
  }, r.prototype.lenSquare = function() {
    return this.x * this.x + this.y * this.y;
  }, r.prototype.normalize = function() {
    var e = this.len();
    return this.x /= e, this.y /= e, this;
  }, r.prototype.distance = function(e) {
    var t = this.x - e.x, i = this.y - e.y;
    return Math.sqrt(t * t + i * i);
  }, r.prototype.distanceSquare = function(e) {
    var t = this.x - e.x, i = this.y - e.y;
    return t * t + i * i;
  }, r.prototype.negate = function() {
    return this.x = -this.x, this.y = -this.y, this;
  }, r.prototype.transform = function(e) {
    if (e) {
      var t = this.x, i = this.y;
      return this.x = e[0] * t + e[2] * i + e[4], this.y = e[1] * t + e[3] * i + e[5], this;
    }
  }, r.prototype.toArray = function(e) {
    return e[0] = this.x, e[1] = this.y, e;
  }, r.prototype.fromArray = function(e) {
    this.x = e[0], this.y = e[1];
  }, r.set = function(e, t, i) {
    e.x = t, e.y = i;
  }, r.copy = function(e, t) {
    e.x = t.x, e.y = t.y;
  }, r.len = function(e) {
    return Math.sqrt(e.x * e.x + e.y * e.y);
  }, r.lenSquare = function(e) {
    return e.x * e.x + e.y * e.y;
  }, r.dot = function(e, t) {
    return e.x * t.x + e.y * t.y;
  }, r.add = function(e, t, i) {
    e.x = t.x + i.x, e.y = t.y + i.y;
  }, r.sub = function(e, t, i) {
    e.x = t.x - i.x, e.y = t.y - i.y;
  }, r.scale = function(e, t, i) {
    e.x = t.x * i, e.y = t.y * i;
  }, r.scaleAndAdd = function(e, t, i, a) {
    e.x = t.x + i.x * a, e.y = t.y + i.y * a;
  }, r.lerp = function(e, t, i, a) {
    var n = 1 - a;
    e.x = n * t.x + a * i.x, e.y = n * t.y + a * i.y;
  }, r;
}();
const Xt = fhe;
var kf = Math.min, Np = Math.max, SA = Math.abs, aL = ["x", "y"], dhe = ["width", "height"], Vh = new Xt(), Uh = new Xt(), Gh = new Xt(), zh = new Xt(), xo = a$(), xg = xo.minTv, xA = xo.maxTv, zg = [0, 0], C8 = function() {
  function r(e, t, i, a) {
    r.set(this, e, t, i, a);
  }
  return r.set = function(e, t, i, a, n) {
    return a < 0 && (t = t + a, a = -a), n < 0 && (i = i + n, n = -n), e.x = t, e.y = i, e.width = a, e.height = n, e;
  }, r.prototype.union = function(e) {
    var t = kf(e.x, this.x), i = kf(e.y, this.y);
    isFinite(this.x) && isFinite(this.width) ? this.width = Np(e.x + e.width, this.x + this.width) - t : this.width = e.width, isFinite(this.y) && isFinite(this.height) ? this.height = Np(e.y + e.height, this.y + this.height) - i : this.height = e.height, this.x = t, this.y = i;
  }, r.prototype.applyTransform = function(e) {
    r.applyTransform(this, this, e);
  }, r.prototype.calculateTransform = function(e) {
    var t = this, i = e.width / t.width, a = e.height / t.height, n = Ji();
    return Bs(n, n, [-t.x, -t.y]), uS(n, n, [i, a]), Bs(n, n, [e.x, e.y]), n;
  }, r.prototype.intersect = function(e, t, i) {
    return r.intersect(this, e, t, i);
  }, r.intersect = function(e, t, i, a) {
    i && Xt.set(i, 0, 0);
    var n = a && a.outIntersectRect || null, o = a && a.clamp;
    if (n && (n.x = n.y = n.width = n.height = NaN), !e || !t)
      return !1;
    e instanceof r || (e = r.set(phe, e.x, e.y, e.width, e.height)), t instanceof r || (t = r.set(vhe, t.x, t.y, t.width, t.height));
    var s = !!i;
    xo.reset(a, s);
    var l = xo.touchThreshold, u = e.x + l, c = e.x + e.width - l, f = e.y + l, d = e.y + e.height - l, p = t.x + l, v = t.x + t.width - l, y = t.y + l, _ = t.y + t.height - l;
    if (u > c || f > d || p > v || y > _)
      return !1;
    var w = !(c < p || v < u || d < y || _ < f);
    return (s || n) && (zg[0] = 1 / 0, zg[1] = 0, oL(u, c, p, v, 0, s, n, o), oL(f, d, y, _, 1, s, n, o), s && Xt.copy(i, w ? xo.useDir ? xo.dirMinTv : xg : xA)), w;
  }, r.contain = function(e, t, i) {
    return t >= e.x && t <= e.x + e.width && i >= e.y && i <= e.y + e.height;
  }, r.prototype.contain = function(e, t) {
    return r.contain(this, e, t);
  }, r.prototype.clone = function() {
    return new r(this.x, this.y, this.width, this.height);
  }, r.prototype.copy = function(e) {
    r.copy(this, e);
  }, r.prototype.plain = function() {
    return {
      x: this.x,
      y: this.y,
      width: this.width,
      height: this.height
    };
  }, r.prototype.isFinite = function() {
    return isFinite(this.x) && isFinite(this.y) && isFinite(this.width) && isFinite(this.height);
  }, r.prototype.isZero = function() {
    return this.width === 0 || this.height === 0;
  }, r.create = function(e) {
    return new r(e.x, e.y, e.width, e.height);
  }, r.copy = function(e, t) {
    return e.x = t.x, e.y = t.y, e.width = t.width, e.height = t.height, e;
  }, r.applyTransform = function(e, t, i) {
    if (!i) {
      e !== t && r.copy(e, t);
      return;
    }
    if (i[1] < 1e-5 && i[1] > -1e-5 && i[2] < 1e-5 && i[2] > -1e-5) {
      var a = i[0], n = i[3], o = i[4], s = i[5];
      e.x = t.x * a + o, e.y = t.y * n + s, e.width = t.width * a, e.height = t.height * n, e.width < 0 && (e.x += e.width, e.width = -e.width), e.height < 0 && (e.y += e.height, e.height = -e.height);
      return;
    }
    Vh.x = Gh.x = t.x, Vh.y = zh.y = t.y, Uh.x = zh.x = t.x + t.width, Uh.y = Gh.y = t.y + t.height, Vh.transform(i), zh.transform(i), Uh.transform(i), Gh.transform(i), e.x = kf(Vh.x, Uh.x, Gh.x, zh.x), e.y = kf(Vh.y, Uh.y, Gh.y, zh.y);
    var l = Np(Vh.x, Uh.x, Gh.x, zh.x), u = Np(Vh.y, Uh.y, Gh.y, zh.y);
    e.width = l - e.x, e.height = u - e.y;
  }, r;
}(), phe = new C8(0, 0, 0, 0), vhe = new C8(0, 0, 0, 0);
function oL(r, e, t, i, a, n, o, s) {
  var l = SA(e - t), u = SA(i - r), c = kf(l, u), f = aL[a], d = aL[1 - a], p = dhe[a];
  e < t || i < r ? l < u ? (n && (xA[f] = -l), s && (o[f] = e, o[p] = 0)) : (n && (xA[f] = u), s && (o[f] = r, o[p] = 0)) : (o && (o[f] = Np(r, t), o[p] = kf(e, i) - o[f]), n && (c < zg[0] || xo.useDir) && (zg[0] = kf(c, zg[0]), (l < u || !xo.bidirectional) && (xg[f] = l, xg[d] = 0, xo.useDir && xo.calcDirMTV()), (l >= u || !xo.bidirectional) && (xg[f] = -u, xg[d] = 0, xo.useDir && xo.calcDirMTV())));
}
function a$() {
  var r = 0, e = new Xt(), t = new Xt(), i = {
    minTv: new Xt(),
    maxTv: new Xt(),
    useDir: !1,
    dirMinTv: new Xt(),
    touchThreshold: 0,
    bidirectional: !0,
    negativeSize: !1,
    reset: function(n, o) {
      i.touchThreshold = 0, n && n.touchThreshold != null && (i.touchThreshold = Np(0, n.touchThreshold)), i.negativeSize = !1, o && (i.minTv.set(1 / 0, 1 / 0), i.maxTv.set(0, 0), i.useDir = !1, n && n.direction != null && (i.useDir = !0, i.dirMinTv.copy(i.minTv), t.copy(i.minTv), r = n.direction, i.bidirectional = n.bidirectional == null || !!n.bidirectional, i.bidirectional || e.set(Math.cos(r), Math.sin(r))));
    },
    calcDirMTV: function() {
      var n = i.minTv, o = i.dirMinTv, s = n.y * n.y + n.x * n.x, l = Math.sin(r), u = Math.cos(r), c = l * n.y + u * n.x;
      if (a(c)) {
        a(n.x) && a(n.y) && o.set(0, 0);
        return;
      }
      if (t.x = s * u / c, t.y = s * l / c, a(t.x) && a(t.y)) {
        o.set(0, 0);
        return;
      }
      (i.bidirectional || e.dot(t) > 0) && t.len() < o.len() && o.copy(t);
    }
  };
  function a(n) {
    return SA(n) < 1e-10;
  }
  return i;
}
const Jt = C8;
var o$ = "silent";
function ghe(r, e, t) {
  return {
    type: r,
    event: t,
    target: e.target,
    topTarget: e.topTarget,
    cancelBubble: !1,
    offsetX: t.zrX,
    offsetY: t.zrY,
    gestureEvent: t.gestureEvent,
    pinchX: t.pinchX,
    pinchY: t.pinchY,
    pinchScale: t.pinchScale,
    wheelDelta: t.zrDelta,
    zrByTouch: t.zrByTouch,
    which: t.which,
    stop: mhe
  };
}
function mhe() {
  Bu(this.event);
}
var yhe = function(r) {
  Nn(e, r);
  function e() {
    var t = r !== null && r.apply(this, arguments) || this;
    return t.handler = null, t;
  }
  return e.prototype.dispose = function() {
  }, e.prototype.setCursor = function() {
  }, e;
}(fs), Uv = function() {
  function r(e, t) {
    this.x = e, this.y = t;
  }
  return r;
}(), _he = [
  "click",
  "dblclick",
  "mousewheel",
  "mouseout",
  "mouseup",
  "mousedown",
  "mousemove",
  "contextmenu"
], e3 = new Jt(0, 0, 0, 0), s$ = function(r) {
  Nn(e, r);
  function e(t, i, a, n, o) {
    var s = r.call(this) || this;
    return s._hovered = new Uv(0, 0), s.storage = t, s.painter = i, s.painterRoot = n, s._pointerSize = o, a = a || new yhe(), s.proxy = null, s.setHandlerProxy(a), s._draggingMgr = new Kce(s), s;
  }
  return e.prototype.setHandlerProxy = function(t) {
    this.proxy && this.proxy.dispose(), t && (J(_he, function(i) {
      t.on && t.on(i, this[i], this);
    }, this), t.handler = this), this.proxy = t;
  }, e.prototype.mousemove = function(t) {
    var i = t.zrX, a = t.zrY, n = l$(this, i, a), o = this._hovered, s = o.target;
    s && !s.__zr && (o = this.findHover(o.x, o.y), s = o.target);
    var l = this._hovered = n ? new Uv(i, a) : this.findHover(i, a), u = l.target, c = this.proxy;
    c.setCursor && c.setCursor(u ? u.cursor : "default"), s && u !== s && this.dispatchToElement(o, "mouseout", t), this.dispatchToElement(l, "mousemove", t), u && u !== s && this.dispatchToElement(l, "mouseover", t);
  }, e.prototype.mouseout = function(t) {
    var i = t.zrEventControl;
    i !== "only_globalout" && this.dispatchToElement(this._hovered, "mouseout", t), i !== "no_globalout" && this.trigger("globalout", { type: "globalout", event: t });
  }, e.prototype.resize = function() {
    this._hovered = new Uv(0, 0);
  }, e.prototype.dispatch = function(t, i) {
    var a = this[t];
    a && a.call(this, i);
  }, e.prototype.dispose = function() {
    this.proxy.dispose(), this.storage = null, this.proxy = null, this.painter = null;
  }, e.prototype.setCursorStyle = function(t) {
    var i = this.proxy;
    i.setCursor && i.setCursor(t);
  }, e.prototype.dispatchToElement = function(t, i, a) {
    t = t || {};
    var n = t.target;
    if (!(n && n.silent)) {
      for (var o = "on" + i, s = ghe(i, t, a); n && (n[o] && (s.cancelBubble = !!n[o].call(n, s)), n.trigger(i, s), n = n.__hostTarget ? n.__hostTarget : n.parent, !s.cancelBubble); )
        ;
      s.cancelBubble || (this.trigger(i, s), this.painter && this.painter.eachOtherLayer && this.painter.eachOtherLayer(function(l) {
        typeof l[o] == "function" && l[o].call(l, s), l.trigger && l.trigger(i, s);
      }));
    }
  }, e.prototype.findHover = function(t, i, a) {
    var n = this.storage.getDisplayList(), o = new Uv(t, i);
    if (sL(n, o, t, i, a), this._pointerSize && !o.target) {
      for (var s = [], l = this._pointerSize, u = l / 2, c = new Jt(t - u, i - u, l, l), f = n.length - 1; f >= 0; f--) {
        var d = n[f];
        d !== a && !d.ignore && !d.ignoreCoarsePointer && (!d.parent || !d.parent.ignoreCoarsePointer) && (e3.copy(d.getBoundingRect()), d.transform && e3.applyTransform(d.transform), e3.intersect(c) && s.push(d));
      }
      if (s.length)
        for (var p = 4, v = Math.PI / 12, y = Math.PI * 2, _ = 0; _ < u; _ += p)
          for (var w = 0; w < y; w += v) {
            var S = t + _ * Math.cos(w), x = i + _ * Math.sin(w);
            if (sL(s, o, S, x, a), o.target)
              return o;
          }
    }
    return o;
  }, e.prototype.processGesture = function(t, i) {
    this._gestureMgr || (this._gestureMgr = new uhe());
    var a = this._gestureMgr;
    i === "start" && a.clear();
    var n = a.recognize(t, this.findHover(t.zrX, t.zrY, null).target, this.proxy.dom);
    if (i === "end" && a.clear(), n) {
      var o = n.type;
      t.gestureEvent = o;
      var s = new Uv();
      s.target = n.target, this.dispatchToElement(s, o, n.event);
    }
  }, e;
}(fs);
J(["click", "mousedown", "mouseup", "mousewheel", "dblclick", "contextmenu"], function(r) {
  s$.prototype[r] = function(e) {
    var t = e.zrX, i = e.zrY, a = l$(this, t, i), n, o;
    if ((r !== "mouseup" || !a) && (n = this.findHover(t, i), o = n.target), r === "mousedown")
      this._downEl = o, this._downPoint = [e.zrX, e.zrY], this._upEl = o;
    else if (r === "mouseup")
      this._upEl = o;
    else if (r === "click") {
      if (this._downEl !== this._upEl || !this._downPoint || gu(this._downPoint, [e.zrX, e.zrY]) > 4)
        return;
      this._downPoint = null;
    }
    this.dispatchToElement(n, r, e);
  };
});
function bhe(r, e, t) {
  if (r[r.rectHover ? "rectContain" : "contain"](e, t)) {
    for (var i = r, a = void 0, n = !1; i; ) {
      if (i.ignoreClip && (n = !0), !n) {
        var o = i.getClipPath();
        if (o && !o.contain(e, t))
          return !1;
      }
      i.silent && (a = !0);
      var s = i.__hostTarget;
      i = s ? i.ignoreHostSilent ? null : s : i.parent;
    }
    return a ? o$ : !0;
  }
  return !1;
}
function sL(r, e, t, i, a) {
  for (var n = r.length - 1; n >= 0; n--) {
    var o = r[n], s = void 0;
    if (o !== a && !o.ignore && (s = bhe(o, t, i)) && (!e.topTarget && (e.topTarget = o), s !== o$)) {
      e.target = o;
      break;
    }
  }
}
function l$(r, e, t) {
  var i = r.painter;
  return e < 0 || e > i.getWidth() || t < 0 || t > i.getHeight();
}
const whe = s$;
var u$ = 32, Gv = 7;
function She(r) {
  for (var e = 0; r >= u$; )
    e |= r & 1, r >>= 1;
  return r + e;
}
function lL(r, e, t, i) {
  var a = e + 1;
  if (a === t)
    return 1;
  if (i(r[a++], r[e]) < 0) {
    for (; a < t && i(r[a], r[a - 1]) < 0; )
      a++;
    xhe(r, e, a);
  } else
    for (; a < t && i(r[a], r[a - 1]) >= 0; )
      a++;
  return a - e;
}
function xhe(r, e, t) {
  for (t--; e < t; ) {
    var i = r[e];
    r[e++] = r[t], r[t--] = i;
  }
}
function uL(r, e, t, i, a) {
  for (i === e && i++; i < t; i++) {
    for (var n = r[i], o = e, s = i, l; o < s; )
      l = o + s >>> 1, a(n, r[l]) < 0 ? s = l : o = l + 1;
    var u = i - o;
    switch (u) {
      case 3:
        r[o + 3] = r[o + 2];
      case 2:
        r[o + 2] = r[o + 1];
      case 1:
        r[o + 1] = r[o];
        break;
      default:
        for (; u > 0; )
          r[o + u] = r[o + u - 1], u--;
    }
    r[o] = n;
  }
}
function t3(r, e, t, i, a, n) {
  var o = 0, s = 0, l = 1;
  if (n(r, e[t + a]) > 0) {
    for (s = i - a; l < s && n(r, e[t + a + l]) > 0; )
      o = l, l = (l << 1) + 1, l <= 0 && (l = s);
    l > s && (l = s), o += a, l += a;
  } else {
    for (s = a + 1; l < s && n(r, e[t + a - l]) <= 0; )
      o = l, l = (l << 1) + 1, l <= 0 && (l = s);
    l > s && (l = s);
    var u = o;
    o = a - l, l = a - u;
  }
  for (o++; o < l; ) {
    var c = o + (l - o >>> 1);
    n(r, e[t + c]) > 0 ? o = c + 1 : l = c;
  }
  return l;
}
function r3(r, e, t, i, a, n) {
  var o = 0, s = 0, l = 1;
  if (n(r, e[t + a]) < 0) {
    for (s = a + 1; l < s && n(r, e[t + a - l]) < 0; )
      o = l, l = (l << 1) + 1, l <= 0 && (l = s);
    l > s && (l = s);
    var u = o;
    o = a - l, l = a - u;
  } else {
    for (s = i - a; l < s && n(r, e[t + a + l]) >= 0; )
      o = l, l = (l << 1) + 1, l <= 0 && (l = s);
    l > s && (l = s), o += a, l += a;
  }
  for (o++; o < l; ) {
    var c = o + (l - o >>> 1);
    n(r, e[t + c]) < 0 ? l = c : o = c + 1;
  }
  return l;
}
function The(r, e) {
  var t = Gv, i, a, n = 0, o = [];
  i = [], a = [];
  function s(p, v) {
    i[n] = p, a[n] = v, n += 1;
  }
  function l() {
    for (; n > 1; ) {
      var p = n - 2;
      if (p >= 1 && a[p - 1] <= a[p] + a[p + 1] || p >= 2 && a[p - 2] <= a[p] + a[p - 1])
        a[p - 1] < a[p + 1] && p--;
      else if (a[p] > a[p + 1])
        break;
      c(p);
    }
  }
  function u() {
    for (; n > 1; ) {
      var p = n - 2;
      p > 0 && a[p - 1] < a[p + 1] && p--, c(p);
    }
  }
  function c(p) {
    var v = i[p], y = a[p], _ = i[p + 1], w = a[p + 1];
    a[p] = y + w, p === n - 3 && (i[p + 1] = i[p + 2], a[p + 1] = a[p + 2]), n--;
    var S = r3(r[_], r, v, y, 0, e);
    v += S, y -= S, y !== 0 && (w = t3(r[v + y - 1], r, _, w, w - 1, e), w !== 0 && (y <= w ? f(v, y, _, w) : d(v, y, _, w)));
  }
  function f(p, v, y, _) {
    var w = 0;
    for (w = 0; w < v; w++)
      o[w] = r[p + w];
    var S = 0, x = y, E = p;
    if (r[E++] = r[x++], --_ === 0) {
      for (w = 0; w < v; w++)
        r[E + w] = o[S + w];
      return;
    }
    if (v === 1) {
      for (w = 0; w < _; w++)
        r[E + w] = r[x + w];
      r[E + _] = o[S];
      return;
    }
    for (var M = t, k, P, L; ; ) {
      k = 0, P = 0, L = !1;
      do
        if (e(r[x], o[S]) < 0) {
          if (r[E++] = r[x++], P++, k = 0, --_ === 0) {
            L = !0;
            break;
          }
        } else if (r[E++] = o[S++], k++, P = 0, --v === 1) {
          L = !0;
          break;
        }
      while ((k | P) < M);
      if (L)
        break;
      do {
        if (k = r3(r[x], o, S, v, 0, e), k !== 0) {
          for (w = 0; w < k; w++)
            r[E + w] = o[S + w];
          if (E += k, S += k, v -= k, v <= 1) {
            L = !0;
            break;
          }
        }
        if (r[E++] = r[x++], --_ === 0) {
          L = !0;
          break;
        }
        if (P = t3(o[S], r, x, _, 0, e), P !== 0) {
          for (w = 0; w < P; w++)
            r[E + w] = r[x + w];
          if (E += P, x += P, _ -= P, _ === 0) {
            L = !0;
            break;
          }
        }
        if (r[E++] = o[S++], --v === 1) {
          L = !0;
          break;
        }
        M--;
      } while (k >= Gv || P >= Gv);
      if (L)
        break;
      M < 0 && (M = 0), M += 2;
    }
    if (t = M, t < 1 && (t = 1), v === 1) {
      for (w = 0; w < _; w++)
        r[E + w] = r[x + w];
      r[E + _] = o[S];
    } else {
      if (v === 0)
        throw new Error();
      for (w = 0; w < v; w++)
        r[E + w] = o[S + w];
    }
  }
  function d(p, v, y, _) {
    var w = 0;
    for (w = 0; w < _; w++)
      o[w] = r[y + w];
    var S = p + v - 1, x = _ - 1, E = y + _ - 1, M = 0, k = 0;
    if (r[E--] = r[S--], --v === 0) {
      for (M = E - (_ - 1), w = 0; w < _; w++)
        r[M + w] = o[w];
      return;
    }
    if (_ === 1) {
      for (E -= v, S -= v, k = E + 1, M = S + 1, w = v - 1; w >= 0; w--)
        r[k + w] = r[M + w];
      r[E] = o[x];
      return;
    }
    for (var P = t; ; ) {
      var L = 0, F = 0, O = !1;
      do
        if (e(o[x], r[S]) < 0) {
          if (r[E--] = r[S--], L++, F = 0, --v === 0) {
            O = !0;
            break;
          }
        } else if (r[E--] = o[x--], F++, L = 0, --_ === 1) {
          O = !0;
          break;
        }
      while ((L | F) < P);
      if (O)
        break;
      do {
        if (L = v - r3(o[x], r, p, v, v - 1, e), L !== 0) {
          for (E -= L, S -= L, v -= L, k = E + 1, M = S + 1, w = L - 1; w >= 0; w--)
            r[k + w] = r[M + w];
          if (v === 0) {
            O = !0;
            break;
          }
        }
        if (r[E--] = o[x--], --_ === 1) {
          O = !0;
          break;
        }
        if (F = _ - t3(r[S], o, 0, _, _ - 1, e), F !== 0) {
          for (E -= F, x -= F, _ -= F, k = E + 1, M = x + 1, w = 0; w < F; w++)
            r[k + w] = o[M + w];
          if (_ <= 1) {
            O = !0;
            break;
          }
        }
        if (r[E--] = r[S--], --v === 0) {
          O = !0;
          break;
        }
        P--;
      } while (L >= Gv || F >= Gv);
      if (O)
        break;
      P < 0 && (P = 0), P += 2;
    }
    if (t = P, t < 1 && (t = 1), _ === 1) {
      for (E -= v, S -= v, k = E + 1, M = S + 1, w = v - 1; w >= 0; w--)
        r[k + w] = r[M + w];
      r[E] = o[x];
    } else {
      if (_ === 0)
        throw new Error();
      for (M = E - (_ - 1), w = 0; w < _; w++)
        r[M + w] = o[w];
    }
  }
  return {
    mergeRuns: l,
    forceMergeRuns: u,
    pushRun: s
  };
}
function q2(r, e, t, i) {
  t || (t = 0), i || (i = r.length);
  var a = i - t;
  if (!(a < 2)) {
    var n = 0;
    if (a < u$) {
      n = lL(r, t, i, e), uL(r, t, i, t + n, e);
      return;
    }
    var o = The(r, e), s = She(a);
    do {
      if (n = lL(r, t, i, e), n < s) {
        var l = a;
        l > s && (l = s), uL(r, t, t + l, t + n, e), n = l;
      }
      o.pushRun(t, n), o.mergeRuns(), a -= n, t += n;
    } while (a !== 0);
    o.forceMergeRuns();
  }
}
var To = 1, Tg = 2, Ip = 4, cL = !1;
function n3() {
  cL || (cL = !0, console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"));
}
function hL(r, e) {
  return r.zlevel === e.zlevel ? r.z === e.z ? r.z2 - e.z2 : r.z - e.z : r.zlevel - e.zlevel;
}
var Che = function() {
  function r() {
    this._roots = [], this._displayList = [], this._displayListLen = 0, this.displayableSortFunc = hL;
  }
  return r.prototype.traverse = function(e, t) {
    for (var i = 0; i < this._roots.length; i++)
      this._roots[i].traverse(e, t);
  }, r.prototype.getDisplayList = function(e, t) {
    t = t || !1;
    var i = this._displayList;
    return (e || !i.length) && this.updateDisplayList(t), i;
  }, r.prototype.updateDisplayList = function(e) {
    this._displayListLen = 0;
    for (var t = this._roots, i = this._displayList, a = 0, n = t.length; a < n; a++)
      this._updateAndAddDisplayable(t[a], null, e);
    i.length = this._displayListLen, q2(i, hL);
  }, r.prototype._updateAndAddDisplayable = function(e, t, i) {
    if (!(e.ignore && !i)) {
      e.beforeUpdate(), e.update(), e.afterUpdate();
      var a = e.getClipPath(), n = t && t.length, o = 0, s = e.__clipPaths;
      if (!e.ignoreClip && (n || a)) {
        if (s || (s = e.__clipPaths = []), n)
          for (var l = 0; l < t.length; l++)
            s[o++] = t[l];
        for (var u = a, c = e; u; )
          u.parent = c, u.updateTransform(), s[o++] = u, c = u, u = u.getClipPath();
      }
      if (s && (s.length = o), e.childrenRef) {
        for (var f = e.childrenRef(), d = 0; d < f.length; d++) {
          var p = f[d];
          e.__dirty && (p.__dirty |= To), this._updateAndAddDisplayable(p, s, i);
        }
        e.__dirty = 0;
      } else {
        var v = e;
        isNaN(v.z) && (n3(), v.z = 0), isNaN(v.z2) && (n3(), v.z2 = 0), isNaN(v.zlevel) && (n3(), v.zlevel = 0), this._displayList[this._displayListLen++] = v;
      }
      var y = e.getDecalElement && e.getDecalElement();
      y && this._updateAndAddDisplayable(y, s, i);
      var _ = e.getTextGuideLine();
      _ && this._updateAndAddDisplayable(_, s, i);
      var w = e.getTextContent();
      w && this._updateAndAddDisplayable(w, s, i);
    }
  }, r.prototype.addRoot = function(e) {
    e.__zr && e.__zr.storage === this || this._roots.push(e);
  }, r.prototype.delRoot = function(e) {
    if (e instanceof Array) {
      for (var t = 0, i = e.length; t < i; t++)
        this.delRoot(e[t]);
      return;
    }
    var a = dr(this._roots, e);
    a >= 0 && this._roots.splice(a, 1);
  }, r.prototype.delAllRoots = function() {
    this._roots = [], this._displayList = [], this._displayListLen = 0;
  }, r.prototype.getRoots = function() {
    return this._roots;
  }, r.prototype.dispose = function() {
    this._displayList = null, this._roots = null;
  }, r;
}();
const Ahe = Che;
var c$;
c$ = qr.hasGlobalWindow && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function(r) {
  return setTimeout(r, 16);
};
const TA = c$;
var X2 = {
  linear: function(r) {
    return r;
  },
  quadraticIn: function(r) {
    return r * r;
  },
  quadraticOut: function(r) {
    return r * (2 - r);
  },
  quadraticInOut: function(r) {
    return (r *= 2) < 1 ? 0.5 * r * r : -0.5 * (--r * (r - 2) - 1);
  },
  cubicIn: function(r) {
    return r * r * r;
  },
  cubicOut: function(r) {
    return --r * r * r + 1;
  },
  cubicInOut: function(r) {
    return (r *= 2) < 1 ? 0.5 * r * r * r : 0.5 * ((r -= 2) * r * r + 2);
  },
  quarticIn: function(r) {
    return r * r * r * r;
  },
  quarticOut: function(r) {
    return 1 - --r * r * r * r;
  },
  quarticInOut: function(r) {
    return (r *= 2) < 1 ? 0.5 * r * r * r * r : -0.5 * ((r -= 2) * r * r * r - 2);
  },
  quinticIn: function(r) {
    return r * r * r * r * r;
  },
  quinticOut: function(r) {
    return --r * r * r * r * r + 1;
  },
  quinticInOut: function(r) {
    return (r *= 2) < 1 ? 0.5 * r * r * r * r * r : 0.5 * ((r -= 2) * r * r * r * r + 2);
  },
  sinusoidalIn: function(r) {
    return 1 - Math.cos(r * Math.PI / 2);
  },
  sinusoidalOut: function(r) {
    return Math.sin(r * Math.PI / 2);
  },
  sinusoidalInOut: function(r) {
    return 0.5 * (1 - Math.cos(Math.PI * r));
  },
  exponentialIn: function(r) {
    return r === 0 ? 0 : Math.pow(1024, r - 1);
  },
  exponentialOut: function(r) {
    return r === 1 ? 1 : 1 - Math.pow(2, -10 * r);
  },
  exponentialInOut: function(r) {
    return r === 0 ? 0 : r === 1 ? 1 : (r *= 2) < 1 ? 0.5 * Math.pow(1024, r - 1) : 0.5 * (-Math.pow(2, -10 * (r - 1)) + 2);
  },
  circularIn: function(r) {
    return 1 - Math.sqrt(1 - r * r);
  },
  circularOut: function(r) {
    return Math.sqrt(1 - --r * r);
  },
  circularInOut: function(r) {
    return (r *= 2) < 1 ? -0.5 * (Math.sqrt(1 - r * r) - 1) : 0.5 * (Math.sqrt(1 - (r -= 2) * r) + 1);
  },
  elasticIn: function(r) {
    var e, t = 0.1, i = 0.4;
    return r === 0 ? 0 : r === 1 ? 1 : (!t || t < 1 ? (t = 1, e = i / 4) : e = i * Math.asin(1 / t) / (2 * Math.PI), -(t * Math.pow(2, 10 * (r -= 1)) * Math.sin((r - e) * (2 * Math.PI) / i)));
  },
  elasticOut: function(r) {
    var e, t = 0.1, i = 0.4;
    return r === 0 ? 0 : r === 1 ? 1 : (!t || t < 1 ? (t = 1, e = i / 4) : e = i * Math.asin(1 / t) / (2 * Math.PI), t * Math.pow(2, -10 * r) * Math.sin((r - e) * (2 * Math.PI) / i) + 1);
  },
  elasticInOut: function(r) {
    var e, t = 0.1, i = 0.4;
    return r === 0 ? 0 : r === 1 ? 1 : (!t || t < 1 ? (t = 1, e = i / 4) : e = i * Math.asin(1 / t) / (2 * Math.PI), (r *= 2) < 1 ? -0.5 * (t * Math.pow(2, 10 * (r -= 1)) * Math.sin((r - e) * (2 * Math.PI) / i)) : t * Math.pow(2, -10 * (r -= 1)) * Math.sin((r - e) * (2 * Math.PI) / i) * 0.5 + 1);
  },
  backIn: function(r) {
    var e = 1.70158;
    return r * r * ((e + 1) * r - e);
  },
  backOut: function(r) {
    var e = 1.70158;
    return --r * r * ((e + 1) * r + e) + 1;
  },
  backInOut: function(r) {
    var e = 2.5949095;
    return (r *= 2) < 1 ? 0.5 * (r * r * ((e + 1) * r - e)) : 0.5 * ((r -= 2) * r * ((e + 1) * r + e) + 2);
  },
  bounceIn: function(r) {
    return 1 - X2.bounceOut(1 - r);
  },
  bounceOut: function(r) {
    return r < 1 / 2.75 ? 7.5625 * r * r : r < 2 / 2.75 ? 7.5625 * (r -= 1.5 / 2.75) * r + 0.75 : r < 2.5 / 2.75 ? 7.5625 * (r -= 2.25 / 2.75) * r + 0.9375 : 7.5625 * (r -= 2.625 / 2.75) * r + 0.984375;
  },
  bounceInOut: function(r) {
    return r < 0.5 ? X2.bounceIn(r * 2) * 0.5 : X2.bounceOut(r * 2 - 1) * 0.5 + 0.5;
  }
};
const h$ = X2;
var wy = Math.pow, Uc = Math.sqrt, O_ = 1e-8, f$ = 1e-4, fL = Uc(3), Sy = 1 / 3, vl = hh(), ts = hh(), Yp = hh();
function Ic(r) {
  return r > -O_ && r < O_;
}
function d$(r) {
  return r > O_ || r < -O_;
}
function qi(r, e, t, i, a) {
  var n = 1 - a;
  return n * n * (n * r + 3 * a * e) + a * a * (a * i + 3 * n * t);
}
function dL(r, e, t, i, a) {
  var n = 1 - a;
  return 3 * (((e - r) * n + 2 * (t - e) * a) * n + (i - t) * a * a);
}
function F_(r, e, t, i, a, n) {
  var o = i + 3 * (e - t) - r, s = 3 * (t - e * 2 + r), l = 3 * (e - r), u = r - a, c = s * s - 3 * o * l, f = s * l - 9 * o * u, d = l * l - 3 * s * u, p = 0;
  if (Ic(c) && Ic(f))
    if (Ic(s))
      n[0] = 0;
    else {
      var v = -l / s;
      v >= 0 && v <= 1 && (n[p++] = v);
    }
  else {
    var y = f * f - 4 * c * d;
    if (Ic(y)) {
      var _ = f / c, v = -s / o + _, w = -_ / 2;
      v >= 0 && v <= 1 && (n[p++] = v), w >= 0 && w <= 1 && (n[p++] = w);
    } else if (y > 0) {
      var S = Uc(y), x = c * s + 1.5 * o * (-f + S), E = c * s + 1.5 * o * (-f - S);
      x < 0 ? x = -wy(-x, Sy) : x = wy(x, Sy), E < 0 ? E = -wy(-E, Sy) : E = wy(E, Sy);
      var v = (-s - (x + E)) / (3 * o);
      v >= 0 && v <= 1 && (n[p++] = v);
    } else {
      var M = (2 * c * s - 3 * o * f) / (2 * Uc(c * c * c)), k = Math.acos(M) / 3, P = Uc(c), L = Math.cos(k), v = (-s - 2 * P * L) / (3 * o), w = (-s + P * (L + fL * Math.sin(k))) / (3 * o), F = (-s + P * (L - fL * Math.sin(k))) / (3 * o);
      v >= 0 && v <= 1 && (n[p++] = v), w >= 0 && w <= 1 && (n[p++] = w), F >= 0 && F <= 1 && (n[p++] = F);
    }
  }
  return p;
}
function p$(r, e, t, i, a) {
  var n = 6 * t - 12 * e + 6 * r, o = 9 * e + 3 * i - 3 * r - 9 * t, s = 3 * e - 3 * r, l = 0;
  if (Ic(o)) {
    if (d$(n)) {
      var u = -s / n;
      u >= 0 && u <= 1 && (a[l++] = u);
    }
  } else {
    var c = n * n - 4 * o * s;
    if (Ic(c))
      a[0] = -n / (2 * o);
    else if (c > 0) {
      var f = Uc(c), u = (-n + f) / (2 * o), d = (-n - f) / (2 * o);
      u >= 0 && u <= 1 && (a[l++] = u), d >= 0 && d <= 1 && (a[l++] = d);
    }
  }
  return l;
}
function Xc(r, e, t, i, a, n) {
  var o = (e - r) * a + r, s = (t - e) * a + e, l = (i - t) * a + t, u = (s - o) * a + o, c = (l - s) * a + s, f = (c - u) * a + u;
  n[0] = r, n[1] = o, n[2] = u, n[3] = f, n[4] = f, n[5] = c, n[6] = l, n[7] = i;
}
function v$(r, e, t, i, a, n, o, s, l, u, c) {
  var f, d = 5e-3, p = 1 / 0, v, y, _, w;
  vl[0] = l, vl[1] = u;
  for (var S = 0; S < 1; S += 0.05)
    ts[0] = qi(r, t, a, o, S), ts[1] = qi(e, i, n, s, S), _ = Vc(vl, ts), _ < p && (f = S, p = _);
  p = 1 / 0;
  for (var x = 0; x < 32 && !(d < f$); x++)
    v = f - d, y = f + d, ts[0] = qi(r, t, a, o, v), ts[1] = qi(e, i, n, s, v), _ = Vc(ts, vl), v >= 0 && _ < p ? (f = v, p = _) : (Yp[0] = qi(r, t, a, o, y), Yp[1] = qi(e, i, n, s, y), w = Vc(Yp, vl), y <= 1 && w < p ? (f = y, p = w) : d *= 0.5);
  return c && (c[0] = qi(r, t, a, o, f), c[1] = qi(e, i, n, s, f)), Uc(p);
}
function Ehe(r, e, t, i, a, n, o, s, l) {
  for (var u = r, c = e, f = 0, d = 1 / l, p = 1; p <= l; p++) {
    var v = p * d, y = qi(r, t, a, o, v), _ = qi(e, i, n, s, v), w = y - u, S = _ - c;
    f += Math.sqrt(w * w + S * S), u = y, c = _;
  }
  return f;
}
function ua(r, e, t, i) {
  var a = 1 - i;
  return a * (a * r + 2 * i * e) + i * i * t;
}
function CA(r, e, t, i) {
  return 2 * ((1 - i) * (e - r) + i * (t - e));
}
function Dhe(r, e, t, i, a) {
  var n = r - 2 * e + t, o = 2 * (e - r), s = r - i, l = 0;
  if (Ic(n)) {
    if (d$(o)) {
      var u = -s / o;
      u >= 0 && u <= 1 && (a[l++] = u);
    }
  } else {
    var c = o * o - 4 * n * s;
    if (Ic(c)) {
      var u = -o / (2 * n);
      u >= 0 && u <= 1 && (a[l++] = u);
    } else if (c > 0) {
      var f = Uc(c), u = (-o + f) / (2 * n), d = (-o - f) / (2 * n);
      u >= 0 && u <= 1 && (a[l++] = u), d >= 0 && d <= 1 && (a[l++] = d);
    }
  }
  return l;
}
function g$(r, e, t) {
  var i = r + t - 2 * e;
  return i === 0 ? 0.5 : (r - e) / i;
}
function s1(r, e, t, i, a) {
  var n = (e - r) * i + r, o = (t - e) * i + e, s = (o - n) * i + n;
  a[0] = r, a[1] = n, a[2] = s, a[3] = s, a[4] = o, a[5] = t;
}
function m$(r, e, t, i, a, n, o, s, l) {
  var u, c = 5e-3, f = 1 / 0;
  vl[0] = o, vl[1] = s;
  for (var d = 0; d < 1; d += 0.05) {
    ts[0] = ua(r, t, a, d), ts[1] = ua(e, i, n, d);
    var p = Vc(vl, ts);
    p < f && (u = d, f = p);
  }
  f = 1 / 0;
  for (var v = 0; v < 32 && !(c < f$); v++) {
    var y = u - c, _ = u + c;
    ts[0] = ua(r, t, a, y), ts[1] = ua(e, i, n, y);
    var p = Vc(ts, vl);
    if (y >= 0 && p < f)
      u = y, f = p;
    else {
      Yp[0] = ua(r, t, a, _), Yp[1] = ua(e, i, n, _);
      var w = Vc(Yp, vl);
      _ <= 1 && w < f ? (u = _, f = w) : c *= 0.5;
    }
  }
  return l && (l[0] = ua(r, t, a, u), l[1] = ua(e, i, n, u)), Uc(f);
}
function khe(r, e, t, i, a, n, o) {
  for (var s = r, l = e, u = 0, c = 1 / o, f = 1; f <= o; f++) {
    var d = f * c, p = ua(r, t, a, d), v = ua(e, i, n, d), y = p - s, _ = v - l;
    u += Math.sqrt(y * y + _ * _), s = p, l = v;
  }
  return u;
}
var Mhe = /cubic-bezier\(([0-9,\.e ]+)\)/;
function A8(r) {
  var e = r && Mhe.exec(r);
  if (e) {
    var t = e[1].split(","), i = +Ao(t[0]), a = +Ao(t[1]), n = +Ao(t[2]), o = +Ao(t[3]);
    if (isNaN(i + a + n + o))
      return;
    var s = [];
    return function(l) {
      return l <= 0 ? 0 : l >= 1 ? 1 : F_(0, i, n, 1, l, s) && qi(0, a, o, 1, s[0]);
    };
  }
}
var Ihe = function() {
  function r(e) {
    this._inited = !1, this._startTime = 0, this._pausedTime = 0, this._paused = !1, this._life = e.life || 1e3, this._delay = e.delay || 0, this.loop = e.loop || !1, this.onframe = e.onframe || si, this.ondestroy = e.ondestroy || si, this.onrestart = e.onrestart || si, e.easing && this.setEasing(e.easing);
  }
  return r.prototype.step = function(e, t) {
    if (this._inited || (this._startTime = e + this._delay, this._inited = !0), this._paused) {
      this._pausedTime += t;
      return;
    }
    var i = this._life, a = e - this._startTime - this._pausedTime, n = a / i;
    n < 0 && (n = 0), n = Math.min(n, 1);
    var o = this.easingFunc, s = o ? o(n) : n;
    if (this.onframe(s), n === 1)
      if (this.loop) {
        var l = a % i;
        this._startTime = e - l, this._pausedTime = 0, this.onrestart();
      } else
        return !0;
    return !1;
  }, r.prototype.pause = function() {
    this._paused = !0;
  }, r.prototype.resume = function() {
    this._paused = !1;
  }, r.prototype.setEasing = function(e) {
    this.easing = e, this.easingFunc = Bt(e) ? e : h$[e] || A8(e);
  }, r;
}();
const Phe = Ihe;
var y$ = function() {
  function r(e) {
    this.value = e;
  }
  return r;
}(), Rhe = function() {
  function r() {
    this._len = 0;
  }
  return r.prototype.insert = function(e) {
    var t = new y$(e);
    return this.insertEntry(t), t;
  }, r.prototype.insertEntry = function(e) {
    this.head ? (this.tail.next = e, e.prev = this.tail, e.next = null, this.tail = e) : this.head = this.tail = e, this._len++;
  }, r.prototype.remove = function(e) {
    var t = e.prev, i = e.next;
    t ? t.next = i : this.head = i, i ? i.prev = t : this.tail = t, e.next = e.prev = null, this._len--;
  }, r.prototype.len = function() {
    return this._len;
  }, r.prototype.clear = function() {
    this.head = this.tail = null, this._len = 0;
  }, r;
}(), Lhe = function() {
  function r(e) {
    this._list = new Rhe(), this._maxSize = 10, this._map = {}, this._maxSize = e;
  }
  return r.prototype.put = function(e, t) {
    var i = this._list, a = this._map, n = null;
    if (a[e] == null) {
      var o = i.len(), s = this._lastRemovedEntry;
      if (o >= this._maxSize && o > 0) {
        var l = i.head;
        i.remove(l), delete a[l.key], n = l.value, this._lastRemovedEntry = l;
      }
      s ? s.value = t : s = new y$(t), s.key = e, i.insertEntry(s), a[e] = s;
    }
    return n;
  }, r.prototype.get = function(e) {
    var t = this._map[e], i = this._list;
    if (t != null)
      return t !== i.tail && (i.remove(t), i.insertEntry(t)), t.value;
  }, r.prototype.clear = function() {
    this._list.clear(), this._map = {};
  }, r.prototype.len = function() {
    return this._list.len();
  }, r;
}();
const i0 = Lhe;
var pL = {
  transparent: [0, 0, 0, 0],
  aliceblue: [240, 248, 255, 1],
  antiquewhite: [250, 235, 215, 1],
  aqua: [0, 255, 255, 1],
  aquamarine: [127, 255, 212, 1],
  azure: [240, 255, 255, 1],
  beige: [245, 245, 220, 1],
  bisque: [255, 228, 196, 1],
  black: [0, 0, 0, 1],
  blanchedalmond: [255, 235, 205, 1],
  blue: [0, 0, 255, 1],
  blueviolet: [138, 43, 226, 1],
  brown: [165, 42, 42, 1],
  burlywood: [222, 184, 135, 1],
  cadetblue: [95, 158, 160, 1],
  chartreuse: [127, 255, 0, 1],
  chocolate: [210, 105, 30, 1],
  coral: [255, 127, 80, 1],
  cornflowerblue: [100, 149, 237, 1],
  cornsilk: [255, 248, 220, 1],
  crimson: [220, 20, 60, 1],
  cyan: [0, 255, 255, 1],
  darkblue: [0, 0, 139, 1],
  darkcyan: [0, 139, 139, 1],
  darkgoldenrod: [184, 134, 11, 1],
  darkgray: [169, 169, 169, 1],
  darkgreen: [0, 100, 0, 1],
  darkgrey: [169, 169, 169, 1],
  darkkhaki: [189, 183, 107, 1],
  darkmagenta: [139, 0, 139, 1],
  darkolivegreen: [85, 107, 47, 1],
  darkorange: [255, 140, 0, 1],
  darkorchid: [153, 50, 204, 1],
  darkred: [139, 0, 0, 1],
  darksalmon: [233, 150, 122, 1],
  darkseagreen: [143, 188, 143, 1],
  darkslateblue: [72, 61, 139, 1],
  darkslategray: [47, 79, 79, 1],
  darkslategrey: [47, 79, 79, 1],
  darkturquoise: [0, 206, 209, 1],
  darkviolet: [148, 0, 211, 1],
  deeppink: [255, 20, 147, 1],
  deepskyblue: [0, 191, 255, 1],
  dimgray: [105, 105, 105, 1],
  dimgrey: [105, 105, 105, 1],
  dodgerblue: [30, 144, 255, 1],
  firebrick: [178, 34, 34, 1],
  floralwhite: [255, 250, 240, 1],
  forestgreen: [34, 139, 34, 1],
  fuchsia: [255, 0, 255, 1],
  gainsboro: [220, 220, 220, 1],
  ghostwhite: [248, 248, 255, 1],
  gold: [255, 215, 0, 1],
  goldenrod: [218, 165, 32, 1],
  gray: [128, 128, 128, 1],
  green: [0, 128, 0, 1],
  greenyellow: [173, 255, 47, 1],
  grey: [128, 128, 128, 1],
  honeydew: [240, 255, 240, 1],
  hotpink: [255, 105, 180, 1],
  indianred: [205, 92, 92, 1],
  indigo: [75, 0, 130, 1],
  ivory: [255, 255, 240, 1],
  khaki: [240, 230, 140, 1],
  lavender: [230, 230, 250, 1],
  lavenderblush: [255, 240, 245, 1],
  lawngreen: [124, 252, 0, 1],
  lemonchiffon: [255, 250, 205, 1],
  lightblue: [173, 216, 230, 1],
  lightcoral: [240, 128, 128, 1],
  lightcyan: [224, 255, 255, 1],
  lightgoldenrodyellow: [250, 250, 210, 1],
  lightgray: [211, 211, 211, 1],
  lightgreen: [144, 238, 144, 1],
  lightgrey: [211, 211, 211, 1],
  lightpink: [255, 182, 193, 1],
  lightsalmon: [255, 160, 122, 1],
  lightseagreen: [32, 178, 170, 1],
  lightskyblue: [135, 206, 250, 1],
  lightslategray: [119, 136, 153, 1],
  lightslategrey: [119, 136, 153, 1],
  lightsteelblue: [176, 196, 222, 1],
  lightyellow: [255, 255, 224, 1],
  lime: [0, 255, 0, 1],
  limegreen: [50, 205, 50, 1],
  linen: [250, 240, 230, 1],
  magenta: [255, 0, 255, 1],
  maroon: [128, 0, 0, 1],
  mediumaquamarine: [102, 205, 170, 1],
  mediumblue: [0, 0, 205, 1],
  mediumorchid: [186, 85, 211, 1],
  mediumpurple: [147, 112, 219, 1],
  mediumseagreen: [60, 179, 113, 1],
  mediumslateblue: [123, 104, 238, 1],
  mediumspringgreen: [0, 250, 154, 1],
  mediumturquoise: [72, 209, 204, 1],
  mediumvioletred: [199, 21, 133, 1],
  midnightblue: [25, 25, 112, 1],
  mintcream: [245, 255, 250, 1],
  mistyrose: [255, 228, 225, 1],
  moccasin: [255, 228, 181, 1],
  navajowhite: [255, 222, 173, 1],
  navy: [0, 0, 128, 1],
  oldlace: [253, 245, 230, 1],
  olive: [128, 128, 0, 1],
  olivedrab: [107, 142, 35, 1],
  orange: [255, 165, 0, 1],
  orangered: [255, 69, 0, 1],
  orchid: [218, 112, 214, 1],
  palegoldenrod: [238, 232, 170, 1],
  palegreen: [152, 251, 152, 1],
  paleturquoise: [175, 238, 238, 1],
  palevioletred: [219, 112, 147, 1],
  papayawhip: [255, 239, 213, 1],
  peachpuff: [255, 218, 185, 1],
  peru: [205, 133, 63, 1],
  pink: [255, 192, 203, 1],
  plum: [221, 160, 221, 1],
  powderblue: [176, 224, 230, 1],
  purple: [128, 0, 128, 1],
  red: [255, 0, 0, 1],
  rosybrown: [188, 143, 143, 1],
  royalblue: [65, 105, 225, 1],
  saddlebrown: [139, 69, 19, 1],
  salmon: [250, 128, 114, 1],
  sandybrown: [244, 164, 96, 1],
  seagreen: [46, 139, 87, 1],
  seashell: [255, 245, 238, 1],
  sienna: [160, 82, 45, 1],
  silver: [192, 192, 192, 1],
  skyblue: [135, 206, 235, 1],
  slateblue: [106, 90, 205, 1],
  slategray: [112, 128, 144, 1],
  slategrey: [112, 128, 144, 1],
  snow: [255, 250, 250, 1],
  springgreen: [0, 255, 127, 1],
  steelblue: [70, 130, 180, 1],
  tan: [210, 180, 140, 1],
  teal: [0, 128, 128, 1],
  thistle: [216, 191, 216, 1],
  tomato: [255, 99, 71, 1],
  turquoise: [64, 224, 208, 1],
  violet: [238, 130, 238, 1],
  wheat: [245, 222, 179, 1],
  white: [255, 255, 255, 1],
  whitesmoke: [245, 245, 245, 1],
  yellow: [255, 255, 0, 1],
  yellowgreen: [154, 205, 50, 1]
};
function Os(r) {
  return r = Math.round(r), r < 0 ? 0 : r > 255 ? 255 : r;
}
function Ohe(r) {
  return r = Math.round(r), r < 0 ? 0 : r > 360 ? 360 : r;
}
function l1(r) {
  return r < 0 ? 0 : r > 1 ? 1 : r;
}
function K2(r) {
  var e = r;
  return e.length && e.charAt(e.length - 1) === "%" ? Os(parseFloat(e) / 100 * 255) : Os(parseInt(e, 10));
}
function Tu(r) {
  var e = r;
  return e.length && e.charAt(e.length - 1) === "%" ? l1(parseFloat(e) / 100) : l1(parseFloat(e));
}
function i3(r, e, t) {
  return t < 0 ? t += 1 : t > 1 && (t -= 1), t * 6 < 1 ? r + (e - r) * t * 6 : t * 2 < 1 ? e : t * 3 < 2 ? r + (e - r) * (2 / 3 - t) * 6 : r;
}
function Pc(r, e, t) {
  return r + (e - r) * t;
}
function qo(r, e, t, i, a) {
  return r[0] = e, r[1] = t, r[2] = i, r[3] = a, r;
}
function AA(r, e) {
  return r[0] = e[0], r[1] = e[1], r[2] = e[2], r[3] = e[3], r;
}
var _$ = new i0(20), xy = null;
function tp(r, e) {
  xy && AA(xy, e), xy = _$.put(r, xy || e.slice());
}
function Va(r, e) {
  if (r) {
    e = e || [];
    var t = _$.get(r);
    if (t)
      return AA(e, t);
    r = r + "";
    var i = r.replace(/ /g, "").toLowerCase();
    if (i in pL)
      return AA(e, pL[i]), tp(r, e), e;
    var a = i.length;
    if (i.charAt(0) === "#") {
      if (a === 4 || a === 5) {
        var n = parseInt(i.slice(1, 4), 16);
        if (!(n >= 0 && n <= 4095)) {
          qo(e, 0, 0, 0, 1);
          return;
        }
        return qo(e, (n & 3840) >> 4 | (n & 3840) >> 8, n & 240 | (n & 240) >> 4, n & 15 | (n & 15) << 4, a === 5 ? parseInt(i.slice(4), 16) / 15 : 1), tp(r, e), e;
      } else if (a === 7 || a === 9) {
        var n = parseInt(i.slice(1, 7), 16);
        if (!(n >= 0 && n <= 16777215)) {
          qo(e, 0, 0, 0, 1);
          return;
        }
        return qo(e, (n & 16711680) >> 16, (n & 65280) >> 8, n & 255, a === 9 ? parseInt(i.slice(7), 16) / 255 : 1), tp(r, e), e;
      }
      return;
    }
    var o = i.indexOf("("), s = i.indexOf(")");
    if (o !== -1 && s + 1 === a) {
      var l = i.substr(0, o), u = i.substr(o + 1, s - (o + 1)).split(","), c = 1;
      switch (l) {
        case "rgba":
          if (u.length !== 4)
            return u.length === 3 ? qo(e, +u[0], +u[1], +u[2], 1) : qo(e, 0, 0, 0, 1);
          c = Tu(u.pop());
        case "rgb":
          if (u.length >= 3)
            return qo(e, K2(u[0]), K2(u[1]), K2(u[2]), u.length === 3 ? c : Tu(u[3])), tp(r, e), e;
          qo(e, 0, 0, 0, 1);
          return;
        case "hsla":
          if (u.length !== 4) {
            qo(e, 0, 0, 0, 1);
            return;
          }
          return u[3] = Tu(u[3]), EA(u, e), tp(r, e), e;
        case "hsl":
          if (u.length !== 3) {
            qo(e, 0, 0, 0, 1);
            return;
          }
          return EA(u, e), tp(r, e), e;
        default:
          return;
      }
    }
    qo(e, 0, 0, 0, 1);
  }
}
function EA(r, e) {
  var t = (parseFloat(r[0]) % 360 + 360) % 360 / 360, i = Tu(r[1]), a = Tu(r[2]), n = a <= 0.5 ? a * (i + 1) : a + i - a * i, o = a * 2 - n;
  return e = e || [], qo(e, Os(i3(o, n, t + 1 / 3) * 255), Os(i3(o, n, t) * 255), Os(i3(o, n, t - 1 / 3) * 255), 1), r.length === 4 && (e[3] = r[3]), e;
}
function Fhe(r) {
  if (r) {
    var e = r[0] / 255, t = r[1] / 255, i = r[2] / 255, a = Math.min(e, t, i), n = Math.max(e, t, i), o = n - a, s = (n + a) / 2, l, u;
    if (o === 0)
      l = 0, u = 0;
    else {
      s < 0.5 ? u = o / (n + a) : u = o / (2 - n - a);
      var c = ((n - e) / 6 + o / 2) / o, f = ((n - t) / 6 + o / 2) / o, d = ((n - i) / 6 + o / 2) / o;
      e === n ? l = d - f : t === n ? l = 1 / 3 + c - d : i === n && (l = 2 / 3 + f - c), l < 0 && (l += 1), l > 1 && (l -= 1);
    }
    var p = [l * 360, u, s];
    return r[3] != null && p.push(r[3]), p;
  }
}
function N_(r, e) {
  var t = Va(r);
  if (t) {
    for (var i = 0; i < 3; i++)
      e < 0 ? t[i] = t[i] * (1 - e) | 0 : t[i] = (255 - t[i]) * e + t[i] | 0, t[i] > 255 ? t[i] = 255 : t[i] < 0 && (t[i] = 0);
    return os(t, t.length === 4 ? "rgba" : "rgb");
  }
}
function Nhe(r) {
  var e = Va(r);
  if (e)
    return ((1 << 24) + (e[0] << 16) + (e[1] << 8) + +e[2]).toString(16).slice(1);
}
function Wg(r, e, t) {
  if (!(!(e && e.length) || !(r >= 0 && r <= 1))) {
    t = t || [];
    var i = r * (e.length - 1), a = Math.floor(i), n = Math.ceil(i), o = e[a], s = e[n], l = i - a;
    return t[0] = Os(Pc(o[0], s[0], l)), t[1] = Os(Pc(o[1], s[1], l)), t[2] = Os(Pc(o[2], s[2], l)), t[3] = l1(Pc(o[3], s[3], l)), t;
  }
}
var Bhe = Wg;
function E8(r, e, t) {
  if (!(!(e && e.length) || !(r >= 0 && r <= 1))) {
    var i = r * (e.length - 1), a = Math.floor(i), n = Math.ceil(i), o = Va(e[a]), s = Va(e[n]), l = i - a, u = os([
      Os(Pc(o[0], s[0], l)),
      Os(Pc(o[1], s[1], l)),
      Os(Pc(o[2], s[2], l)),
      l1(Pc(o[3], s[3], l))
    ], "rgba");
    return t ? {
      color: u,
      leftIndex: a,
      rightIndex: n,
      value: i
    } : u;
  }
}
var Vhe = E8;
function Cu(r, e, t, i) {
  var a = Va(r);
  if (r)
    return a = Fhe(a), e != null && (a[0] = Ohe(Bt(e) ? e(a[0]) : e)), t != null && (a[1] = Tu(Bt(t) ? t(a[1]) : t)), i != null && (a[2] = Tu(Bt(i) ? i(a[2]) : i)), os(EA(a), "rgba");
}
function u1(r, e) {
  var t = Va(r);
  if (t && e != null)
    return t[3] = l1(e), os(t, "rgba");
}
function os(r, e) {
  if (!(!r || !r.length)) {
    var t = r[0] + "," + r[1] + "," + r[2];
    return (e === "rgba" || e === "hsva" || e === "hsla") && (t += "," + r[3]), e + "(" + t + ")";
  }
}
function c1(r, e) {
  var t = Va(r);
  return t ? (0.299 * t[0] + 0.587 * t[1] + 0.114 * t[2]) * t[3] / 255 + (1 - t[3]) * e : 0;
}
function Uhe() {
  return os([
    Math.round(Math.random() * 255),
    Math.round(Math.random() * 255),
    Math.round(Math.random() * 255)
  ], "rgb");
}
var vL = new i0(100);
function B_(r) {
  if (vt(r)) {
    var e = vL.get(r);
    return e || (e = N_(r, -0.1), vL.put(r, e)), e;
  } else if (q1(r)) {
    var t = $e({}, r);
    return t.colorStops = Je(r.colorStops, function(i) {
      return {
        offset: i.offset,
        color: N_(i.color, -0.1)
      };
    }), t;
  }
  return r;
}
const Ghe = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  fastLerp: Wg,
  fastMapToColor: Bhe,
  lerp: E8,
  lift: N_,
  liftColor: B_,
  lum: c1,
  mapToColor: Vhe,
  modifyAlpha: u1,
  modifyHSL: Cu,
  parse: Va,
  parseCssFloat: Tu,
  parseCssInt: K2,
  random: Uhe,
  stringify: os,
  toHex: Nhe
}, Symbol.toStringTag, { value: "Module" }));
var V_ = Math.round;
function h1(r) {
  var e;
  if (!r || r === "transparent")
    r = "none";
  else if (typeof r == "string" && r.indexOf("rgba") > -1) {
    var t = Va(r);
    t && (r = "rgb(" + t[0] + "," + t[1] + "," + t[2] + ")", e = t[3]);
  }
  return {
    color: r,
    opacity: e ?? 1
  };
}
var gL = 1e-4;
function Rc(r) {
  return r < gL && r > -gL;
}
function Ty(r) {
  return V_(r * 1e3) / 1e3;
}
function DA(r) {
  return V_(r * 1e4) / 1e4;
}
function zhe(r) {
  return "matrix(" + Ty(r[0]) + "," + Ty(r[1]) + "," + Ty(r[2]) + "," + Ty(r[3]) + "," + DA(r[4]) + "," + DA(r[5]) + ")";
}
var Whe = {
  left: "start",
  right: "end",
  center: "middle",
  middle: "middle"
};
function Hhe(r, e, t) {
  return t === "top" ? r += e / 2 : t === "bottom" && (r -= e / 2), r;
}
function $he(r) {
  return r && (r.shadowBlur || r.shadowOffsetX || r.shadowOffsetY);
}
function Yhe(r) {
  var e = r.style, t = r.getGlobalScale();
  return [
    e.shadowColor,
    (e.shadowBlur || 0).toFixed(2),
    (e.shadowOffsetX || 0).toFixed(2),
    (e.shadowOffsetY || 0).toFixed(2),
    t[0],
    t[1]
  ].join(",");
}
function b$(r) {
  return r && !!r.image;
}
function jhe(r) {
  return r && !!r.svgElement;
}
function D8(r) {
  return b$(r) || jhe(r);
}
function w$(r) {
  return r.type === "linear";
}
function S$(r) {
  return r.type === "radial";
}
function x$(r) {
  return r && (r.type === "linear" || r.type === "radial");
}
function cS(r) {
  return "url(#" + r + ")";
}
function T$(r) {
  var e = r.getGlobalScale(), t = Math.max(e[0], e[1]);
  return Math.max(Math.ceil(Math.log(t) / Math.log(10)), 1);
}
function C$(r) {
  var e = r.x || 0, t = r.y || 0, i = (r.rotation || 0) * Vg, a = It(r.scaleX, 1), n = It(r.scaleY, 1), o = r.skewX || 0, s = r.skewY || 0, l = [];
  return (e || t) && l.push("translate(" + e + "px," + t + "px)"), i && l.push("rotate(" + i + ")"), (a !== 1 || n !== 1) && l.push("scale(" + a + "," + n + ")"), (o || s) && l.push("skew(" + V_(o * Vg) + "deg, " + V_(s * Vg) + "deg)"), l.join(" ");
}
var qhe = function() {
  return qr.hasGlobalWindow && Bt(window.btoa) ? function(r) {
    return window.btoa(unescape(encodeURIComponent(r)));
  } : typeof Buffer < "u" ? function(r) {
    return Buffer.from(r).toString("base64");
  } : function(r) {
    return process.env.NODE_ENV !== "production" && as("Base64 isn't natively supported in the current environment."), null;
  };
}(), kA = Array.prototype.slice;
function lu(r, e, t) {
  return (e - r) * t + r;
}
function a3(r, e, t, i) {
  for (var a = e.length, n = 0; n < a; n++)
    r[n] = lu(e[n], t[n], i);
  return r;
}
function Xhe(r, e, t, i) {
  for (var a = e.length, n = a && e[0].length, o = 0; o < a; o++) {
    r[o] || (r[o] = []);
    for (var s = 0; s < n; s++)
      r[o][s] = lu(e[o][s], t[o][s], i);
  }
  return r;
}
function Cy(r, e, t, i) {
  for (var a = e.length, n = 0; n < a; n++)
    r[n] = e[n] + t[n] * i;
  return r;
}
function mL(r, e, t, i) {
  for (var a = e.length, n = a && e[0].length, o = 0; o < a; o++) {
    r[o] || (r[o] = []);
    for (var s = 0; s < n; s++)
      r[o][s] = e[o][s] + t[o][s] * i;
  }
  return r;
}
function Khe(r, e) {
  for (var t = r.length, i = e.length, a = t > i ? e : r, n = Math.min(t, i), o = a[n - 1] || { color: [0, 0, 0, 0], offset: 0 }, s = n; s < Math.max(t, i); s++)
    a.push({
      offset: o.offset,
      color: o.color.slice()
    });
}
function Zhe(r, e, t) {
  var i = r, a = e;
  if (!(!i.push || !a.push)) {
    var n = i.length, o = a.length;
    if (n !== o) {
      var s = n > o;
      if (s)
        i.length = o;
      else
        for (var l = n; l < o; l++)
          i.push(t === 1 ? a[l] : kA.call(a[l]));
    }
    for (var u = i[0] && i[0].length, l = 0; l < i.length; l++)
      if (t === 1)
        isNaN(i[l]) && (i[l] = a[l]);
      else
        for (var c = 0; c < u; c++)
          isNaN(i[l][c]) && (i[l][c] = a[l][c]);
  }
}
function Hg(r) {
  if (ba(r)) {
    var e = r.length;
    if (ba(r[0])) {
      for (var t = [], i = 0; i < e; i++)
        t.push(kA.call(r[i]));
      return t;
    }
    return kA.call(r);
  }
  return r;
}
function Z2(r) {
  return r[0] = Math.floor(r[0]) || 0, r[1] = Math.floor(r[1]) || 0, r[2] = Math.floor(r[2]) || 0, r[3] = r[3] == null ? 1 : r[3], "rgba(" + r.join(",") + ")";
}
function Jhe(r) {
  return ba(r && r[0]) ? 2 : 1;
}
var Ay = 0, J2 = 1, A$ = 2, Cg = 3, MA = 4, IA = 5, yL = 6;
function _L(r) {
  return r === MA || r === IA;
}
function Ey(r) {
  return r === J2 || r === A$;
}
var zv = [0, 0, 0, 0], Qhe = function() {
  function r(e) {
    this.keyframes = [], this.discrete = !1, this._invalid = !1, this._needsSort = !1, this._lastFr = 0, this._lastFrP = 0, this.propName = e;
  }
  return r.prototype.isFinished = function() {
    return this._finished;
  }, r.prototype.setFinished = function() {
    this._finished = !0, this._additiveTrack && this._additiveTrack.setFinished();
  }, r.prototype.needsAnimate = function() {
    return this.keyframes.length >= 1;
  }, r.prototype.getAdditiveTrack = function() {
    return this._additiveTrack;
  }, r.prototype.addKeyframe = function(e, t, i) {
    this._needsSort = !0;
    var a = this.keyframes, n = a.length, o = !1, s = yL, l = t;
    if (ba(t)) {
      var u = Jhe(t);
      s = u, (u === 1 && !Or(t[0]) || u === 2 && !Or(t[0][0])) && (o = !0);
    } else if (Or(t) && !Zi(t))
      s = Ay;
    else if (vt(t))
      if (!isNaN(+t))
        s = Ay;
      else {
        var c = Va(t);
        c && (l = c, s = Cg);
      }
    else if (q1(t)) {
      var f = $e({}, l);
      f.colorStops = Je(t.colorStops, function(p) {
        return {
          offset: p.offset,
          color: Va(p.color)
        };
      }), w$(t) ? s = MA : S$(t) && (s = IA), l = f;
    }
    n === 0 ? this.valType = s : (s !== this.valType || s === yL) && (o = !0), this.discrete = this.discrete || o;
    var d = {
      time: e,
      value: l,
      rawValue: t,
      percent: 0
    };
    return i && (d.easing = i, d.easingFunc = Bt(i) ? i : h$[i] || A8(i)), a.push(d), d;
  }, r.prototype.prepare = function(e, t) {
    var i = this.keyframes;
    this._needsSort && i.sort(function(y, _) {
      return y.time - _.time;
    });
    for (var a = this.valType, n = i.length, o = i[n - 1], s = this.discrete, l = Ey(a), u = _L(a), c = 0; c < n; c++) {
      var f = i[c], d = f.value, p = o.value;
      f.percent = f.time / e, s || (l && c !== n - 1 ? Zhe(d, p, a) : u && Khe(d.colorStops, p.colorStops));
    }
    if (!s && a !== IA && t && this.needsAnimate() && t.needsAnimate() && a === t.valType && !t._finished) {
      this._additiveTrack = t;
      for (var v = i[0].value, c = 0; c < n; c++)
        a === Ay ? i[c].additiveValue = i[c].value - v : a === Cg ? i[c].additiveValue = Cy([], i[c].value, v, -1) : Ey(a) && (i[c].additiveValue = a === J2 ? Cy([], i[c].value, v, -1) : mL([], i[c].value, v, -1));
    }
  }, r.prototype.step = function(e, t) {
    if (!this._finished) {
      this._additiveTrack && this._additiveTrack._finished && (this._additiveTrack = null);
      var i = this._additiveTrack != null, a = i ? "additiveValue" : "value", n = this.valType, o = this.keyframes, s = o.length, l = this.propName, u = n === Cg, c, f = this._lastFr, d = Math.min, p, v;
      if (s === 1)
        p = v = o[0];
      else {
        if (t < 0)
          c = 0;
        else if (t < this._lastFrP) {
          var y = d(f + 1, s - 1);
          for (c = y; c >= 0 && !(o[c].percent <= t); c--)
            ;
          c = d(c, s - 2);
        } else {
          for (c = f; c < s && !(o[c].percent > t); c++)
            ;
          c = d(c - 1, s - 2);
        }
        v = o[c + 1], p = o[c];
      }
      if (p && v) {
        this._lastFr = c, this._lastFrP = t;
        var _ = v.percent - p.percent, w = _ === 0 ? 1 : d((t - p.percent) / _, 1);
        v.easingFunc && (w = v.easingFunc(w));
        var S = i ? this._additiveValue : u ? zv : e[l];
        if ((Ey(n) || u) && !S && (S = this._additiveValue = []), this.discrete)
          e[l] = w < 1 ? p.rawValue : v.rawValue;
        else if (Ey(n))
          n === J2 ? a3(S, p[a], v[a], w) : Xhe(S, p[a], v[a], w);
        else if (_L(n)) {
          var x = p[a], E = v[a], M = n === MA;
          e[l] = {
            type: M ? "linear" : "radial",
            x: lu(x.x, E.x, w),
            y: lu(x.y, E.y, w),
            colorStops: Je(x.colorStops, function(P, L) {
              var F = E.colorStops[L];
              return {
                offset: lu(P.offset, F.offset, w),
                color: Z2(a3([], P.color, F.color, w))
              };
            }),
            global: E.global
          }, M ? (e[l].x2 = lu(x.x2, E.x2, w), e[l].y2 = lu(x.y2, E.y2, w)) : e[l].r = lu(x.r, E.r, w);
        } else if (u)
          a3(S, p[a], v[a], w), i || (e[l] = Z2(S));
        else {
          var k = lu(p[a], v[a], w);
          i ? this._additiveValue = k : e[l] = k;
        }
        i && this._addToTarget(e);
      }
    }
  }, r.prototype._addToTarget = function(e) {
    var t = this.valType, i = this.propName, a = this._additiveValue;
    t === Ay ? e[i] = e[i] + a : t === Cg ? (Va(e[i], zv), Cy(zv, zv, a, 1), e[i] = Z2(zv)) : t === J2 ? Cy(e[i], e[i], a, 1) : t === A$ && mL(e[i], e[i], a, 1);
  }, r;
}(), efe = function() {
  function r(e, t, i, a) {
    if (this._tracks = {}, this._trackKeys = [], this._maxTime = 0, this._started = 0, this._clip = null, this._target = e, this._loop = t, t && a) {
      as("Can' use additive animation on looped animation.");
      return;
    }
    this._additiveAnimators = a, this._allowDiscrete = i;
  }
  return r.prototype.getMaxTime = function() {
    return this._maxTime;
  }, r.prototype.getDelay = function() {
    return this._delay;
  }, r.prototype.getLoop = function() {
    return this._loop;
  }, r.prototype.getTarget = function() {
    return this._target;
  }, r.prototype.changeTarget = function(e) {
    this._target = e;
  }, r.prototype.when = function(e, t, i) {
    return this.whenWithKeys(e, t, Ir(t), i);
  }, r.prototype.whenWithKeys = function(e, t, i, a) {
    for (var n = this._tracks, o = 0; o < i.length; o++) {
      var s = i[o], l = n[s];
      if (!l) {
        l = n[s] = new Qhe(s);
        var u = void 0, c = this._getAdditiveTrack(s);
        if (c) {
          var f = c.keyframes, d = f[f.length - 1];
          u = d && d.value, c.valType === Cg && u && (u = Z2(u));
        } else
          u = this._target[s];
        if (u == null)
          continue;
        e > 0 && l.addKeyframe(0, Hg(u), a), this._trackKeys.push(s);
      }
      l.addKeyframe(e, Hg(t[s]), a);
    }
    return this._maxTime = Math.max(this._maxTime, e), this;
  }, r.prototype.pause = function() {
    this._clip.pause(), this._paused = !0;
  }, r.prototype.resume = function() {
    this._clip.resume(), this._paused = !1;
  }, r.prototype.isPaused = function() {
    return !!this._paused;
  }, r.prototype.duration = function(e) {
    return this._maxTime = e, this._force = !0, this;
  }, r.prototype._doneCallback = function() {
    this._setTracksFinished(), this._clip = null;
    var e = this._doneCbs;
    if (e)
      for (var t = e.length, i = 0; i < t; i++)
        e[i].call(this);
  }, r.prototype._abortedCallback = function() {
    this._setTracksFinished();
    var e = this.animation, t = this._abortedCbs;
    if (e && e.removeClip(this._clip), this._clip = null, t)
      for (var i = 0; i < t.length; i++)
        t[i].call(this);
  }, r.prototype._setTracksFinished = function() {
    for (var e = this._tracks, t = this._trackKeys, i = 0; i < t.length; i++)
      e[t[i]].setFinished();
  }, r.prototype._getAdditiveTrack = function(e) {
    var t, i = this._additiveAnimators;
    if (i)
      for (var a = 0; a < i.length; a++) {
        var n = i[a].getTrack(e);
        n && (t = n);
      }
    return t;
  }, r.prototype.start = function(e) {
    if (!(this._started > 0)) {
      this._started = 1;
      for (var t = this, i = [], a = this._maxTime || 0, n = 0; n < this._trackKeys.length; n++) {
        var o = this._trackKeys[n], s = this._tracks[o], l = this._getAdditiveTrack(o), u = s.keyframes, c = u.length;
        if (s.prepare(a, l), s.needsAnimate())
          if (!this._allowDiscrete && s.discrete) {
            var f = u[c - 1];
            f && (t._target[s.propName] = f.rawValue), s.setFinished();
          } else
            i.push(s);
      }
      if (i.length || this._force) {
        var d = new Phe({
          life: a,
          loop: this._loop,
          delay: this._delay || 0,
          onframe: function(p) {
            t._started = 2;
            var v = t._additiveAnimators;
            if (v) {
              for (var y = !1, _ = 0; _ < v.length; _++)
                if (v[_]._clip) {
                  y = !0;
                  break;
                }
              y || (t._additiveAnimators = null);
            }
            for (var _ = 0; _ < i.length; _++)
              i[_].step(t._target, p);
            var w = t._onframeCbs;
            if (w)
              for (var _ = 0; _ < w.length; _++)
                w[_](t._target, p);
          },
          ondestroy: function() {
            t._doneCallback();
          }
        });
        this._clip = d, this.animation && this.animation.addClip(d), e && d.setEasing(e);
      } else
        this._doneCallback();
      return this;
    }
  }, r.prototype.stop = function(e) {
    if (this._clip) {
      var t = this._clip;
      e && t.onframe(1), this._abortedCallback();
    }
  }, r.prototype.delay = function(e) {
    return this._delay = e, this;
  }, r.prototype.during = function(e) {
    return e && (this._onframeCbs || (this._onframeCbs = []), this._onframeCbs.push(e)), this;
  }, r.prototype.done = function(e) {
    return e && (this._doneCbs || (this._doneCbs = []), this._doneCbs.push(e)), this;
  }, r.prototype.aborted = function(e) {
    return e && (this._abortedCbs || (this._abortedCbs = []), this._abortedCbs.push(e)), this;
  }, r.prototype.getClip = function() {
    return this._clip;
  }, r.prototype.getTrack = function(e) {
    return this._tracks[e];
  }, r.prototype.getTracks = function() {
    var e = this;
    return Je(this._trackKeys, function(t) {
      return e._tracks[t];
    });
  }, r.prototype.stopTracks = function(e, t) {
    if (!e.length || !this._clip)
      return !0;
    for (var i = this._tracks, a = this._trackKeys, n = 0; n < e.length; n++) {
      var o = i[e[n]];
      o && !o.isFinished() && (t ? o.step(this._target, 1) : this._started === 1 && o.step(this._target, 0), o.setFinished());
    }
    for (var s = !0, n = 0; n < a.length; n++)
      if (!i[a[n]].isFinished()) {
        s = !1;
        break;
      }
    return s && this._abortedCallback(), s;
  }, r.prototype.saveTo = function(e, t, i) {
    if (e) {
      t = t || this._trackKeys;
      for (var a = 0; a < t.length; a++) {
        var n = t[a], o = this._tracks[n];
        if (!(!o || o.isFinished())) {
          var s = o.keyframes, l = s[i ? 0 : s.length - 1];
          l && (e[n] = Hg(l.rawValue));
        }
      }
    }
  }, r.prototype.__changeFinalValue = function(e, t) {
    t = t || Ir(e);
    for (var i = 0; i < t.length; i++) {
      var a = t[i], n = this._tracks[a];
      if (n) {
        var o = n.keyframes;
        if (o.length > 1) {
          var s = o.pop();
          n.addKeyframe(s.time, e[a]), n.prepare(this._maxTime, n.getAdditiveTrack());
        }
      }
    }
  }, r;
}();
const k8 = efe;
function Bp() {
  return (/* @__PURE__ */ new Date()).getTime();
}
var tfe = function(r) {
  Nn(e, r);
  function e(t) {
    var i = r.call(this) || this;
    return i._running = !1, i._time = 0, i._pausedTime = 0, i._pauseStart = 0, i._paused = !1, t = t || {}, i.stage = t.stage || {}, i;
  }
  return e.prototype.addClip = function(t) {
    t.animation && this.removeClip(t), this._head ? (this._tail.next = t, t.prev = this._tail, t.next = null, this._tail = t) : this._head = this._tail = t, t.animation = this;
  }, e.prototype.addAnimator = function(t) {
    t.animation = this;
    var i = t.getClip();
    i && this.addClip(i);
  }, e.prototype.removeClip = function(t) {
    if (t.animation) {
      var i = t.prev, a = t.next;
      i ? i.next = a : this._head = a, a ? a.prev = i : this._tail = i, t.next = t.prev = t.animation = null;
    }
  }, e.prototype.removeAnimator = function(t) {
    var i = t.getClip();
    i && this.removeClip(i), t.animation = null;
  }, e.prototype.update = function(t) {
    for (var i = Bp() - this._pausedTime, a = i - this._time, n = this._head; n; ) {
      var o = n.next, s = n.step(i, a);
      s && (n.ondestroy(), this.removeClip(n)), n = o;
    }
    this._time = i, t || (this.trigger("frame", a), this.stage.update && this.stage.update());
  }, e.prototype._startLoop = function() {
    var t = this;
    this._running = !0;
    function i() {
      t._running && (TA(i), !t._paused && t.update());
    }
    TA(i);
  }, e.prototype.start = function() {
    this._running || (this._time = Bp(), this._pausedTime = 0, this._startLoop());
  }, e.prototype.stop = function() {
    this._running = !1;
  }, e.prototype.pause = function() {
    this._paused || (this._pauseStart = Bp(), this._paused = !0);
  }, e.prototype.resume = function() {
    this._paused && (this._pausedTime += Bp() - this._pauseStart, this._paused = !1);
  }, e.prototype.clear = function() {
    for (var t = this._head; t; ) {
      var i = t.next;
      t.prev = t.next = t.animation = null, t = i;
    }
    this._head = this._tail = null;
  }, e.prototype.isFinished = function() {
    return this._head == null;
  }, e.prototype.animate = function(t, i) {
    i = i || {}, this.start();
    var a = new k8(t, i.loop);
    return this.addAnimator(a), a;
  }, e;
}(fs);
const rfe = tfe;
var nfe = 300, o3 = qr.domSupported, s3 = function() {
  var r = [
    "click",
    "dblclick",
    "mousewheel",
    "wheel",
    "mouseout",
    "mouseup",
    "mousedown",
    "mousemove",
    "contextmenu"
  ], e = [
    "touchstart",
    "touchend",
    "touchmove"
  ], t = {
    pointerdown: 1,
    pointerup: 1,
    pointermove: 1,
    pointerout: 1
  }, i = Je(r, function(a) {
    var n = a.replace("mouse", "pointer");
    return t.hasOwnProperty(n) ? n : a;
  });
  return {
    mouse: r,
    touch: e,
    pointer: i
  };
}(), bL = {
  mouse: ["mousemove", "mouseup"],
  pointer: ["pointermove", "pointerup"]
}, wL = !1;
function PA(r) {
  var e = r.pointerType;
  return e === "pen" || e === "touch";
}
function ife(r) {
  r.touching = !0, r.touchTimer != null && (clearTimeout(r.touchTimer), r.touchTimer = null), r.touchTimer = setTimeout(function() {
    r.touching = !1, r.touchTimer = null;
  }, 700);
}
function l3(r) {
  r && (r.zrByTouch = !0);
}
function afe(r, e) {
  return Zo(r.dom, new ofe(r, e), !0);
}
function E$(r, e) {
  for (var t = e, i = !1; t && t.nodeType !== 9 && !(i = t.domBelongToZr || t !== e && t === r.painterRoot); )
    t = t.parentNode;
  return i;
}
var ofe = function() {
  function r(e, t) {
    this.stopPropagation = si, this.stopImmediatePropagation = si, this.preventDefault = si, this.type = t.type, this.target = this.currentTarget = e.dom, this.pointerType = t.pointerType, this.clientX = t.clientX, this.clientY = t.clientY;
  }
  return r;
}(), Cs = {
  mousedown: function(r) {
    r = Zo(this.dom, r), this.__mayPointerCapture = [r.zrX, r.zrY], this.trigger("mousedown", r);
  },
  mousemove: function(r) {
    r = Zo(this.dom, r);
    var e = this.__mayPointerCapture;
    e && (r.zrX !== e[0] || r.zrY !== e[1]) && this.__togglePointerCapture(!0), this.trigger("mousemove", r);
  },
  mouseup: function(r) {
    r = Zo(this.dom, r), this.__togglePointerCapture(!1), this.trigger("mouseup", r);
  },
  mouseout: function(r) {
    r = Zo(this.dom, r);
    var e = r.toElement || r.relatedTarget;
    E$(this, e) || (this.__pointerCapturing && (r.zrEventControl = "no_globalout"), this.trigger("mouseout", r));
  },
  wheel: function(r) {
    wL = !0, r = Zo(this.dom, r), this.trigger("mousewheel", r);
  },
  mousewheel: function(r) {
    wL || (r = Zo(this.dom, r), this.trigger("mousewheel", r));
  },
  touchstart: function(r) {
    r = Zo(this.dom, r), l3(r), this.__lastTouchMoment = /* @__PURE__ */ new Date(), this.handler.processGesture(r, "start"), Cs.mousemove.call(this, r), Cs.mousedown.call(this, r);
  },
  touchmove: function(r) {
    r = Zo(this.dom, r), l3(r), this.handler.processGesture(r, "change"), Cs.mousemove.call(this, r);
  },
  touchend: function(r) {
    r = Zo(this.dom, r), l3(r), this.handler.processGesture(r, "end"), Cs.mouseup.call(this, r), +/* @__PURE__ */ new Date() - +this.__lastTouchMoment < nfe && Cs.click.call(this, r);
  },
  pointerdown: function(r) {
    Cs.mousedown.call(this, r);
  },
  pointermove: function(r) {
    PA(r) || Cs.mousemove.call(this, r);
  },
  pointerup: function(r) {
    Cs.mouseup.call(this, r);
  },
  pointerout: function(r) {
    PA(r) || Cs.mouseout.call(this, r);
  }
};
J(["click", "dblclick", "contextmenu"], function(r) {
  Cs[r] = function(e) {
    e = Zo(this.dom, e), this.trigger(r, e);
  };
});
var RA = {
  pointermove: function(r) {
    PA(r) || RA.mousemove.call(this, r);
  },
  pointerup: function(r) {
    RA.mouseup.call(this, r);
  },
  mousemove: function(r) {
    this.trigger("mousemove", r);
  },
  mouseup: function(r) {
    var e = this.__pointerCapturing;
    this.__togglePointerCapture(!1), this.trigger("mouseup", r), e && (r.zrEventControl = "only_globalout", this.trigger("mouseout", r));
  }
};
function sfe(r, e) {
  var t = e.domHandlers;
  qr.pointerEventsSupported ? J(s3.pointer, function(i) {
    Q2(e, i, function(a) {
      t[i].call(r, a);
    });
  }) : (qr.touchEventsSupported && J(s3.touch, function(i) {
    Q2(e, i, function(a) {
      t[i].call(r, a), ife(e);
    });
  }), J(s3.mouse, function(i) {
    Q2(e, i, function(a) {
      a = T8(a), e.touching || t[i].call(r, a);
    });
  }));
}
function lfe(r, e) {
  qr.pointerEventsSupported ? J(bL.pointer, t) : qr.touchEventsSupported || J(bL.mouse, t);
  function t(i) {
    function a(n) {
      n = T8(n), E$(r, n.target) || (n = afe(r, n), e.domHandlers[i].call(r, n));
    }
    Q2(e, i, a, { capture: !0 });
  }
}
function Q2(r, e, t, i) {
  r.mounted[e] = t, r.listenerOpts[e] = i, wA(r.domTarget, e, t, i);
}
function u3(r) {
  var e = r.mounted;
  for (var t in e)
    e.hasOwnProperty(t) && lhe(r.domTarget, t, e[t], r.listenerOpts[t]);
  r.mounted = {};
}
var SL = function() {
  function r(e, t) {
    this.mounted = {}, this.listenerOpts = {}, this.touching = !1, this.domTarget = e, this.domHandlers = t;
  }
  return r;
}(), ufe = function(r) {
  Nn(e, r);
  function e(t, i) {
    var a = r.call(this) || this;
    return a.__pointerCapturing = !1, a.dom = t, a.painterRoot = i, a._localHandlerScope = new SL(t, Cs), o3 && (a._globalHandlerScope = new SL(document, RA)), sfe(a, a._localHandlerScope), a;
  }
  return e.prototype.dispose = function() {
    u3(this._localHandlerScope), o3 && u3(this._globalHandlerScope);
  }, e.prototype.setCursor = function(t) {
    this.dom.style && (this.dom.style.cursor = t || "default");
  }, e.prototype.__togglePointerCapture = function(t) {
    if (this.__mayPointerCapture = null, o3 && +this.__pointerCapturing ^ +t) {
      this.__pointerCapturing = t;
      var i = this._globalHandlerScope;
      t ? lfe(this, i) : u3(i);
    }
  }, e;
}(fs);
const cfe = ufe;
var D$ = 1;
qr.hasGlobalWindow && (D$ = Math.max(window.devicePixelRatio || window.screen && window.screen.deviceXDPI / window.screen.logicalXDPI || 1, 1));
var U_ = D$, LA = 0.4, OA = "#333", FA = "#ccc", hfe = "#eee", xL = Z1, TL = 5e-5;
function Wh(r) {
  return r > TL || r < -TL;
}
var Hh = [], rp = [], c3 = Ji(), h3 = Math.abs, ffe = function() {
  function r() {
  }
  return r.prototype.getLocalTransform = function(e) {
    return r.getLocalTransform(this, e);
  }, r.prototype.setPosition = function(e) {
    this.x = e[0], this.y = e[1];
  }, r.prototype.setScale = function(e) {
    this.scaleX = e[0], this.scaleY = e[1];
  }, r.prototype.setSkew = function(e) {
    this.skewX = e[0], this.skewY = e[1];
  }, r.prototype.setOrigin = function(e) {
    this.originX = e[0], this.originY = e[1];
  }, r.prototype.needLocalTransform = function() {
    return Wh(this.rotation) || Wh(this.x) || Wh(this.y) || Wh(this.scaleX - 1) || Wh(this.scaleY - 1) || Wh(this.skewX) || Wh(this.skewY);
  }, r.prototype.updateTransform = function() {
    var e = this.parent && this.parent.transform, t = this.needLocalTransform(), i = this.transform;
    if (!(t || e)) {
      i && (xL(i), this.invTransform = null);
      return;
    }
    i = i || Ji(), t ? this.getLocalTransform(i) : xL(i), e && (t ? Ls(i, e, i) : J1(i, e)), this.transform = i, this._resolveGlobalScaleRatio(i);
  }, r.prototype._resolveGlobalScaleRatio = function(e) {
    var t = this.globalScaleRatio;
    if (t != null && t !== 1) {
      this.getGlobalScale(Hh);
      var i = Hh[0] < 0 ? -1 : 1, a = Hh[1] < 0 ? -1 : 1, n = ((Hh[0] - i) * t + i) / Hh[0] || 0, o = ((Hh[1] - a) * t + a) / Hh[1] || 0;
      e[0] *= n, e[1] *= n, e[2] *= o, e[3] *= o;
    }
    this.invTransform = this.invTransform || Ji(), us(this.invTransform, e);
  }, r.prototype.getComputedTransform = function() {
    for (var e = this, t = []; e; )
      t.push(e), e = e.parent;
    for (; e = t.pop(); )
      e.updateTransform();
    return this.transform;
  }, r.prototype.setLocalTransform = function(e) {
    if (e) {
      var t = e[0] * e[0] + e[1] * e[1], i = e[2] * e[2] + e[3] * e[3], a = Math.atan2(e[1], e[0]), n = Math.PI / 2 + a - Math.atan2(e[3], e[2]);
      i = Math.sqrt(i) * Math.cos(n), t = Math.sqrt(t), this.skewX = n, this.skewY = 0, this.rotation = -a, this.x = +e[4], this.y = +e[5], this.scaleX = t, this.scaleY = i, this.originX = 0, this.originY = 0;
    }
  }, r.prototype.decomposeTransform = function() {
    if (this.transform) {
      var e = this.parent, t = this.transform;
      e && e.transform && (e.invTransform = e.invTransform || Ji(), Ls(rp, e.invTransform, t), t = rp);
      var i = this.originX, a = this.originY;
      (i || a) && (c3[4] = i, c3[5] = a, Ls(rp, t, c3), rp[4] -= i, rp[5] -= a, t = rp), this.setLocalTransform(t);
    }
  }, r.prototype.getGlobalScale = function(e) {
    var t = this.transform;
    return e = e || [], t ? (e[0] = Math.sqrt(t[0] * t[0] + t[1] * t[1]), e[1] = Math.sqrt(t[2] * t[2] + t[3] * t[3]), t[0] < 0 && (e[0] = -e[0]), t[3] < 0 && (e[1] = -e[1]), e) : (e[0] = 1, e[1] = 1, e);
  }, r.prototype.transformCoordToLocal = function(e, t) {
    var i = [e, t], a = this.invTransform;
    return a && li(i, i, a), i;
  }, r.prototype.transformCoordToGlobal = function(e, t) {
    var i = [e, t], a = this.transform;
    return a && li(i, i, a), i;
  }, r.prototype.getLineScale = function() {
    var e = this.transform;
    return e && h3(e[0] - 1) > 1e-10 && h3(e[3] - 1) > 1e-10 ? Math.sqrt(h3(e[0] * e[3] - e[2] * e[1])) : 1;
  }, r.prototype.copyTransform = function(e) {
    G_(this, e);
  }, r.getLocalTransform = function(e, t) {
    t = t || [];
    var i = e.originX || 0, a = e.originY || 0, n = e.scaleX, o = e.scaleY, s = e.anchorX, l = e.anchorY, u = e.rotation || 0, c = e.x, f = e.y, d = e.skewX ? Math.tan(e.skewX) : 0, p = e.skewY ? Math.tan(-e.skewY) : 0;
    if (i || a || s || l) {
      var v = i + s, y = a + l;
      t[4] = -v * n - d * y * o, t[5] = -y * o - p * v * n;
    } else
      t[4] = t[5] = 0;
    return t[0] = n, t[3] = o, t[1] = p * n, t[2] = d * o, u && ec(t, t, u), t[4] += i + c, t[5] += a + f, t;
  }, r.initDefaultProps = function() {
    var e = r.prototype;
    e.scaleX = e.scaleY = e.globalScaleRatio = 1, e.x = e.y = e.originX = e.originY = e.skewX = e.skewY = e.rotation = e.anchorX = e.anchorY = 0;
  }(), r;
}(), kl = [
  "x",
  "y",
  "originX",
  "originY",
  "anchorX",
  "anchorY",
  "rotation",
  "scaleX",
  "scaleY",
  "skewX",
  "skewY"
];
function G_(r, e) {
  for (var t = 0; t < kl.length; t++) {
    var i = kl[t];
    r[i] = e[i];
  }
}
const _u = ffe;
function El(r) {
  Dy || (Dy = new i0(100)), r = r || Nu;
  var e = Dy.get(r);
  return e || (e = {
    font: r,
    strWidthCache: new i0(500),
    asciiWidthMap: null,
    asciiWidthMapTried: !1,
    stWideCharWidth: vo.measureText("", r).width,
    asciiCharWidth: vo.measureText("a", r).width
  }, Dy.put(r, e)), e;
}
var Dy;
function dfe(r) {
  if (!(f3 >= CL)) {
    r = r || Nu;
    for (var e = [], t = +/* @__PURE__ */ new Date(), i = 0; i <= 127; i++)
      e[i] = vo.measureText(String.fromCharCode(i), r).width;
    var a = +/* @__PURE__ */ new Date() - t;
    return a > 16 ? f3 = CL : a > 2 && f3++, e;
  }
}
var f3 = 0, CL = 5;
function k$(r, e) {
  return r.asciiWidthMapTried || (r.asciiWidthMap = dfe(r.font), r.asciiWidthMapTried = !0), 0 <= e && e <= 127 ? r.asciiWidthMap != null ? r.asciiWidthMap[e] : r.asciiCharWidth : r.stWideCharWidth;
}
function Dl(r, e) {
  var t = r.strWidthCache, i = t.get(e);
  return i == null && (i = vo.measureText(e, r.font).width, t.put(e, i)), i;
}
function AL(r, e, t, i) {
  var a = Dl(El(e), r), n = Q1(e), o = a0(0, a, t), s = Gf(0, n, i), l = new Jt(o, s, a, n);
  return l;
}
function hS(r, e, t, i) {
  var a = ((r || "") + "").split(`
`), n = a.length;
  if (n === 1)
    return AL(a[0], e, t, i);
  for (var o = new Jt(0, 0, 0, 0), s = 0; s < a.length; s++) {
    var l = AL(a[s], e, t, i);
    s === 0 ? o.copy(l) : o.union(l);
  }
  return o;
}
function a0(r, e, t, i) {
  return t === "right" ? i ? r += e : r -= e : t === "center" && (i ? r += e / 2 : r -= e / 2), r;
}
function Gf(r, e, t, i) {
  return t === "middle" ? i ? r += e / 2 : r -= e / 2 : t === "bottom" && (i ? r += e : r -= e), r;
}
function Q1(r) {
  return El(r).stWideCharWidth;
}
function Vs(r, e) {
  return typeof r == "string" ? r.lastIndexOf("%") >= 0 ? parseFloat(r) / 100 * e : parseFloat(r) : r;
}
function z_(r, e, t) {
  var i = e.position || "inside", a = e.distance != null ? e.distance : 5, n = t.height, o = t.width, s = n / 2, l = t.x, u = t.y, c = "left", f = "top";
  if (i instanceof Array)
    l += Vs(i[0], t.width), u += Vs(i[1], t.height), c = null, f = null;
  else
    switch (i) {
      case "left":
        l -= a, u += s, c = "right", f = "middle";
        break;
      case "right":
        l += a + o, u += s, f = "middle";
        break;
      case "top":
        l += o / 2, u -= a, c = "center", f = "bottom";
        break;
      case "bottom":
        l += o / 2, u += n + a, c = "center";
        break;
      case "inside":
        l += o / 2, u += s, c = "center", f = "middle";
        break;
      case "insideLeft":
        l += a, u += s, f = "middle";
        break;
      case "insideRight":
        l += o - a, u += s, c = "right", f = "middle";
        break;
      case "insideTop":
        l += o / 2, u += a, c = "center";
        break;
      case "insideBottom":
        l += o / 2, u += n - a, c = "center", f = "bottom";
        break;
      case "insideTopLeft":
        l += a, u += a;
        break;
      case "insideTopRight":
        l += o - a, u += a, c = "right";
        break;
      case "insideBottomLeft":
        l += a, u += n - a, f = "bottom";
        break;
      case "insideBottomRight":
        l += o - a, u += n - a, c = "right", f = "bottom";
        break;
    }
  return r = r || {}, r.x = l, r.y = u, r.align = c, r.verticalAlign = f, r;
}
var d3 = "__zr_normal__", p3 = kl.concat(["ignore"]), pfe = ls(kl, function(r, e) {
  return r[e] = !0, r;
}, { ignore: !1 }), np = {}, vfe = new Jt(0, 0, 0, 0), ky = [], M8 = function() {
  function r(e) {
    this.id = _8(), this.animators = [], this.currentStates = [], this.states = {}, this._init(e);
  }
  return r.prototype._init = function(e) {
    this.attr(e);
  }, r.prototype.drift = function(e, t, i) {
    switch (this.draggable) {
      case "horizontal":
        t = 0;
        break;
      case "vertical":
        e = 0;
        break;
    }
    var a = this.transform;
    a || (a = this.transform = [1, 0, 0, 1, 0, 0]), a[4] += e, a[5] += t, this.decomposeTransform(), this.markRedraw();
  }, r.prototype.beforeUpdate = function() {
  }, r.prototype.afterUpdate = function() {
  }, r.prototype.update = function() {
    this.updateTransform(), this.__dirty && this.updateInnerText();
  }, r.prototype.updateInnerText = function(e) {
    var t = this._textContent;
    if (t && (!t.ignore || e)) {
      this.textConfig || (this.textConfig = {});
      var i = this.textConfig, a = i.local, n = t.innerTransformable, o = void 0, s = void 0, l = !1;
      n.parent = a ? this : null;
      var u = !1;
      n.copyTransform(t);
      var c = i.position != null, f = i.autoOverflowArea, d = void 0;
      if ((f || c) && (d = vfe, i.layoutRect ? d.copy(i.layoutRect) : d.copy(this.getBoundingRect()), a || d.applyTransform(this.transform)), c) {
        this.calculateTextPosition ? this.calculateTextPosition(np, i, d) : z_(np, i, d), n.x = np.x, n.y = np.y, o = np.align, s = np.verticalAlign;
        var p = i.origin;
        if (p && i.rotation != null) {
          var v = void 0, y = void 0;
          p === "center" ? (v = d.width * 0.5, y = d.height * 0.5) : (v = Vs(p[0], d.width), y = Vs(p[1], d.height)), u = !0, n.originX = -n.x + v + (a ? 0 : d.x), n.originY = -n.y + y + (a ? 0 : d.y);
        }
      }
      i.rotation != null && (n.rotation = i.rotation);
      var _ = i.offset;
      _ && (n.x += _[0], n.y += _[1], u || (n.originX = -_[0], n.originY = -_[1]));
      var w = this._innerTextDefaultStyle || (this._innerTextDefaultStyle = {});
      if (f) {
        var S = w.overflowRect = w.overflowRect || new Jt(0, 0, 0, 0);
        n.getLocalTransform(ky), us(ky, ky), Jt.copy(S, d), S.applyTransform(ky);
      } else
        w.overflowRect = null;
      var x = i.inside == null ? typeof i.position == "string" && i.position.indexOf("inside") >= 0 : i.inside, E = void 0, M = void 0, k = void 0;
      x && this.canBeInsideText() ? (E = i.insideFill, M = i.insideStroke, (E == null || E === "auto") && (E = this.getInsideTextFill()), (M == null || M === "auto") && (M = this.getInsideTextStroke(E), k = !0)) : (E = i.outsideFill, M = i.outsideStroke, (E == null || E === "auto") && (E = this.getOutsideFill()), (M == null || M === "auto") && (M = this.getOutsideStroke(E), k = !0)), E = E || "#000", (E !== w.fill || M !== w.stroke || k !== w.autoStroke || o !== w.align || s !== w.verticalAlign) && (l = !0, w.fill = E, w.stroke = M, w.autoStroke = k, w.align = o, w.verticalAlign = s, t.setDefaultTextStyle(w)), t.__dirty |= To, l && t.dirtyStyle(!0);
    }
  }, r.prototype.canBeInsideText = function() {
    return !0;
  }, r.prototype.getInsideTextFill = function() {
    return "#fff";
  }, r.prototype.getInsideTextStroke = function(e) {
    return "#000";
  }, r.prototype.getOutsideFill = function() {
    return this.__zr && this.__zr.isDarkMode() ? FA : OA;
  }, r.prototype.getOutsideStroke = function(e) {
    var t = this.__zr && this.__zr.getBackgroundColor(), i = typeof t == "string" && Va(t);
    i || (i = [255, 255, 255, 1]);
    for (var a = i[3], n = this.__zr.isDarkMode(), o = 0; o < 3; o++)
      i[o] = i[o] * a + (n ? 0 : 255) * (1 - a);
    return i[3] = 1, os(i, "rgba");
  }, r.prototype.traverse = function(e, t) {
  }, r.prototype.attrKV = function(e, t) {
    e === "textConfig" ? this.setTextConfig(t) : e === "textContent" ? this.setTextContent(t) : e === "clipPath" ? this.setClipPath(t) : e === "extra" ? (this.extra = this.extra || {}, $e(this.extra, t)) : this[e] = t;
  }, r.prototype.hide = function() {
    this.ignore = !0, this.markRedraw();
  }, r.prototype.show = function() {
    this.ignore = !1, this.markRedraw();
  }, r.prototype.attr = function(e, t) {
    if (typeof e == "string")
      this.attrKV(e, t);
    else if (zt(e))
      for (var i = e, a = Ir(i), n = 0; n < a.length; n++) {
        var o = a[n];
        this.attrKV(o, e[o]);
      }
    return this.markRedraw(), this;
  }, r.prototype.saveCurrentToNormalState = function(e) {
    this._innerSaveToNormal(e);
    for (var t = this._normalState, i = 0; i < this.animators.length; i++) {
      var a = this.animators[i], n = a.__fromStateTransition;
      if (!(a.getLoop() || n && n !== d3)) {
        var o = a.targetName, s = o ? t[o] : t;
        a.saveTo(s);
      }
    }
  }, r.prototype._innerSaveToNormal = function(e) {
    var t = this._normalState;
    t || (t = this._normalState = {}), e.textConfig && !t.textConfig && (t.textConfig = this.textConfig), this._savePrimaryToNormal(e, t, p3);
  }, r.prototype._savePrimaryToNormal = function(e, t, i) {
    for (var a = 0; a < i.length; a++) {
      var n = i[a];
      e[n] != null && !(n in t) && (t[n] = this[n]);
    }
  }, r.prototype.hasState = function() {
    return this.currentStates.length > 0;
  }, r.prototype.getState = function(e) {
    return this.states[e];
  }, r.prototype.ensureState = function(e) {
    var t = this.states;
    return t[e] || (t[e] = {}), t[e];
  }, r.prototype.clearStates = function(e) {
    this.useState(d3, !1, e);
  }, r.prototype.useState = function(e, t, i, a) {
    var n = e === d3, o = this.hasState();
    if (!(!o && n)) {
      var s = this.currentStates, l = this.stateTransition;
      if (!(dr(s, e) >= 0 && (t || s.length === 1))) {
        var u;
        if (this.stateProxy && !n && (u = this.stateProxy(e)), u || (u = this.states && this.states[e]), !u && !n) {
          as("State " + e + " not exists.");
          return;
        }
        n || this.saveCurrentToNormalState(u);
        var c = !!(u && u.hoverLayer || a);
        c && this._toggleHoverLayerFlag(!0), this._applyStateObj(e, u, this._normalState, t, !i && !this.__inHover && l && l.duration > 0, l);
        var f = this._textContent, d = this._textGuide;
        return f && f.useState(e, t, i, c), d && d.useState(e, t, i, c), n ? (this.currentStates = [], this._normalState = {}) : t ? this.currentStates.push(e) : this.currentStates = [e], this._updateAnimationTargets(), this.markRedraw(), !c && this.__inHover && (this._toggleHoverLayerFlag(!1), this.__dirty &= ~To), u;
      }
    }
  }, r.prototype.useStates = function(e, t, i) {
    if (!e.length)
      this.clearStates();
    else {
      var a = [], n = this.currentStates, o = e.length, s = o === n.length;
      if (s) {
        for (var l = 0; l < o; l++)
          if (e[l] !== n[l]) {
            s = !1;
            break;
          }
      }
      if (s)
        return;
      for (var l = 0; l < o; l++) {
        var u = e[l], c = void 0;
        this.stateProxy && (c = this.stateProxy(u, e)), c || (c = this.states[u]), c && a.push(c);
      }
      var f = a[o - 1], d = !!(f && f.hoverLayer || i);
      d && this._toggleHoverLayerFlag(!0);
      var p = this._mergeStates(a), v = this.stateTransition;
      this.saveCurrentToNormalState(p), this._applyStateObj(e.join(","), p, this._normalState, !1, !t && !this.__inHover && v && v.duration > 0, v);
      var y = this._textContent, _ = this._textGuide;
      y && y.useStates(e, t, d), _ && _.useStates(e, t, d), this._updateAnimationTargets(), this.currentStates = e.slice(), this.markRedraw(), !d && this.__inHover && (this._toggleHoverLayerFlag(!1), this.__dirty &= ~To);
    }
  }, r.prototype.isSilent = function() {
    for (var e = this; e; ) {
      if (e.silent)
        return !0;
      var t = e.__hostTarget;
      e = t ? e.ignoreHostSilent ? null : t : e.parent;
    }
    return !1;
  }, r.prototype._updateAnimationTargets = function() {
    for (var e = 0; e < this.animators.length; e++) {
      var t = this.animators[e];
      t.targetName && t.changeTarget(this[t.targetName]);
    }
  }, r.prototype.removeState = function(e) {
    var t = dr(this.currentStates, e);
    if (t >= 0) {
      var i = this.currentStates.slice();
      i.splice(t, 1), this.useStates(i);
    }
  }, r.prototype.replaceState = function(e, t, i) {
    var a = this.currentStates.slice(), n = dr(a, e), o = dr(a, t) >= 0;
    n >= 0 ? o ? a.splice(n, 1) : a[n] = t : i && !o && a.push(t), this.useStates(a);
  }, r.prototype.toggleState = function(e, t) {
    t ? this.useState(e, !0) : this.removeState(e);
  }, r.prototype._mergeStates = function(e) {
    for (var t = {}, i, a = 0; a < e.length; a++) {
      var n = e[a];
      $e(t, n), n.textConfig && (i = i || {}, $e(i, n.textConfig));
    }
    return i && (t.textConfig = i), t;
  }, r.prototype._applyStateObj = function(e, t, i, a, n, o) {
    var s = !(t && a);
    t && t.textConfig ? (this.textConfig = $e({}, a ? this.textConfig : i.textConfig), $e(this.textConfig, t.textConfig)) : s && i.textConfig && (this.textConfig = i.textConfig);
    for (var l = {}, u = !1, c = 0; c < p3.length; c++) {
      var f = p3[c], d = n && pfe[f];
      t && t[f] != null ? d ? (u = !0, l[f] = t[f]) : this[f] = t[f] : s && i[f] != null && (d ? (u = !0, l[f] = i[f]) : this[f] = i[f]);
    }
    if (!n)
      for (var c = 0; c < this.animators.length; c++) {
        var p = this.animators[c], v = p.targetName;
        p.getLoop() || p.__changeFinalValue(v ? (t || i)[v] : t || i);
      }
    u && this._transitionState(e, l, o);
  }, r.prototype._attachComponent = function(e) {
    if (e.__zr && !e.__hostTarget) {
      if (process.env.NODE_ENV !== "production")
        throw new Error("Text element has been added to zrender.");
      return;
    }
    if (e === this) {
      if (process.env.NODE_ENV !== "production")
        throw new Error("Recursive component attachment.");
      return;
    }
    var t = this.__zr;
    t && e.addSelfToZr(t), e.__zr = t, e.__hostTarget = this;
  }, r.prototype._detachComponent = function(e) {
    e.__zr && e.removeSelfFromZr(e.__zr), e.__zr = null, e.__hostTarget = null;
  }, r.prototype.getClipPath = function() {
    return this._clipPath;
  }, r.prototype.setClipPath = function(e) {
    this._clipPath && this._clipPath !== e && this.removeClipPath(), this._attachComponent(e), this._clipPath = e, this.markRedraw();
  }, r.prototype.removeClipPath = function() {
    var e = this._clipPath;
    e && (this._detachComponent(e), this._clipPath = null, this.markRedraw());
  }, r.prototype.getTextContent = function() {
    return this._textContent;
  }, r.prototype.setTextContent = function(e) {
    var t = this._textContent;
    if (t !== e) {
      if (t && t !== e && this.removeTextContent(), process.env.NODE_ENV !== "production" && e.__zr && !e.__hostTarget)
        throw new Error("Text element has been added to zrender.");
      e.innerTransformable = new _u(), this._attachComponent(e), this._textContent = e, this.markRedraw();
    }
  }, r.prototype.setTextConfig = function(e) {
    this.textConfig || (this.textConfig = {}), $e(this.textConfig, e), this.markRedraw();
  }, r.prototype.removeTextConfig = function() {
    this.textConfig = null, this.markRedraw();
  }, r.prototype.removeTextContent = function() {
    var e = this._textContent;
    e && (e.innerTransformable = null, this._detachComponent(e), this._textContent = null, this._innerTextDefaultStyle = null, this.markRedraw());
  }, r.prototype.getTextGuideLine = function() {
    return this._textGuide;
  }, r.prototype.setTextGuideLine = function(e) {
    this._textGuide && this._textGuide !== e && this.removeTextGuideLine(), this._attachComponent(e), this._textGuide = e, this.markRedraw();
  }, r.prototype.removeTextGuideLine = function() {
    var e = this._textGuide;
    e && (this._detachComponent(e), this._textGuide = null, this.markRedraw());
  }, r.prototype.markRedraw = function() {
    this.__dirty |= To;
    var e = this.__zr;
    e && (this.__inHover ? e.refreshHover() : e.refresh()), this.__hostTarget && this.__hostTarget.markRedraw();
  }, r.prototype.dirty = function() {
    this.markRedraw();
  }, r.prototype._toggleHoverLayerFlag = function(e) {
    this.__inHover = e;
    var t = this._textContent, i = this._textGuide;
    t && (t.__inHover = e), i && (i.__inHover = e);
  }, r.prototype.addSelfToZr = function(e) {
    if (this.__zr !== e) {
      this.__zr = e;
      var t = this.animators;
      if (t)
        for (var i = 0; i < t.length; i++)
          e.animation.addAnimator(t[i]);
      this._clipPath && this._clipPath.addSelfToZr(e), this._textContent && this._textContent.addSelfToZr(e), this._textGuide && this._textGuide.addSelfToZr(e);
    }
  }, r.prototype.removeSelfFromZr = function(e) {
    if (this.__zr) {
      this.__zr = null;
      var t = this.animators;
      if (t)
        for (var i = 0; i < t.length; i++)
          e.animation.removeAnimator(t[i]);
      this._clipPath && this._clipPath.removeSelfFromZr(e), this._textContent && this._textContent.removeSelfFromZr(e), this._textGuide && this._textGuide.removeSelfFromZr(e);
    }
  }, r.prototype.animate = function(e, t, i) {
    var a = e ? this[e] : this;
    if (process.env.NODE_ENV !== "production" && !a) {
      as('Property "' + e + '" is not existed in element ' + this.id);
      return;
    }
    var n = new k8(a, t, i);
    return e && (n.targetName = e), this.addAnimator(n, e), n;
  }, r.prototype.addAnimator = function(e, t) {
    var i = this.__zr, a = this;
    e.during(function() {
      a.updateDuringAnimation(t);
    }).done(function() {
      var n = a.animators, o = dr(n, e);
      o >= 0 && n.splice(o, 1);
    }), this.animators.push(e), i && i.animation.addAnimator(e), i && i.wakeUp();
  }, r.prototype.updateDuringAnimation = function(e) {
    this.markRedraw();
  }, r.prototype.stopAnimation = function(e, t) {
    for (var i = this.animators, a = i.length, n = [], o = 0; o < a; o++) {
      var s = i[o];
      !e || e === s.scope ? s.stop(t) : n.push(s);
    }
    return this.animators = n, this;
  }, r.prototype.animateTo = function(e, t, i) {
    v3(this, e, t, i);
  }, r.prototype.animateFrom = function(e, t, i) {
    v3(this, e, t, i, !0);
  }, r.prototype._transitionState = function(e, t, i, a) {
    for (var n = v3(this, t, i, a), o = 0; o < n.length; o++)
      n[o].__fromStateTransition = e;
  }, r.prototype.getBoundingRect = function() {
    return null;
  }, r.prototype.getPaintRect = function() {
    return null;
  }, r.initDefaultProps = function() {
    var e = r.prototype;
    e.type = "element", e.name = "", e.ignore = e.silent = e.ignoreHostSilent = e.isGroup = e.draggable = e.dragging = e.ignoreClip = e.__inHover = !1, e.__dirty = To;
    var t = {};
    function i(n, o, s) {
      t[n + o + s] || (console.warn("DEPRECATED: '" + n + "' has been deprecated. use '" + o + "', '" + s + "' instead"), t[n + o + s] = !0);
    }
    function a(n, o, s, l) {
      Object.defineProperty(e, n, {
        get: function() {
          if (process.env.NODE_ENV !== "production" && i(n, s, l), !this[o]) {
            var c = this[o] = [];
            u(this, c);
          }
          return this[o];
        },
        set: function(c) {
          process.env.NODE_ENV !== "production" && i(n, s, l), this[s] = c[0], this[l] = c[1], this[o] = c, u(this, c);
        }
      });
      function u(c, f) {
        Object.defineProperty(f, 0, {
          get: function() {
            return c[s];
          },
          set: function(d) {
            c[s] = d;
          }
        }), Object.defineProperty(f, 1, {
          get: function() {
            return c[l];
          },
          set: function(d) {
            c[l] = d;
          }
        });
      }
    }
    Object.defineProperty && (a("position", "_legacyPos", "x", "y"), a("scale", "_legacyScale", "scaleX", "scaleY"), a("origin", "_legacyOrigin", "originX", "originY"));
  }(), r;
}();
ci(M8, fs);
ci(M8, _u);
function v3(r, e, t, i, a) {
  t = t || {};
  var n = [];
  M$(r, "", r, e, t, i, n, a);
  var o = n.length, s = !1, l = t.done, u = t.aborted, c = function() {
    s = !0, o--, o <= 0 && (s ? l && l() : u && u());
  }, f = function() {
    o--, o <= 0 && (s ? l && l() : u && u());
  };
  o || l && l(), n.length > 0 && t.during && n[0].during(function(v, y) {
    t.during(y);
  });
  for (var d = 0; d < n.length; d++) {
    var p = n[d];
    c && p.done(c), f && p.aborted(f), t.force && p.duration(t.duration), p.start(t.easing);
  }
  return n;
}
function g3(r, e, t) {
  for (var i = 0; i < t; i++)
    r[i] = e[i];
}
function gfe(r) {
  return ba(r[0]);
}
function mfe(r, e, t) {
  if (ba(e[t]))
    if (ba(r[t]) || (r[t] = []), za(e[t])) {
      var i = e[t].length;
      r[t].length !== i && (r[t] = new e[t].constructor(i), g3(r[t], e[t], i));
    } else {
      var a = e[t], n = r[t], o = a.length;
      if (gfe(a))
        for (var s = a[0].length, l = 0; l < o; l++)
          n[l] ? g3(n[l], a[l], s) : n[l] = Array.prototype.slice.call(a[l]);
      else
        g3(n, a, o);
      n.length = a.length;
    }
  else
    r[t] = e[t];
}
function yfe(r, e) {
  return r === e || ba(r) && ba(e) && _fe(r, e);
}
function _fe(r, e) {
  var t = r.length;
  if (t !== e.length)
    return !1;
  for (var i = 0; i < t; i++)
    if (r[i] !== e[i])
      return !1;
  return !0;
}
function M$(r, e, t, i, a, n, o, s) {
  for (var l = Ir(i), u = a.duration, c = a.delay, f = a.additive, d = a.setToFinal, p = !zt(n), v = r.animators, y = [], _ = 0; _ < l.length; _++) {
    var w = l[_], S = i[w];
    if (S != null && t[w] != null && (p || n[w]))
      if (zt(S) && !ba(S) && !q1(S)) {
        if (e) {
          s || (t[w] = S, r.updateDuringAnimation(e));
          continue;
        }
        M$(r, w, t[w], S, a, n && n[w], o, s);
      } else
        y.push(w);
    else
      s || (t[w] = S, r.updateDuringAnimation(e), y.push(w));
  }
  var x = y.length;
  if (!f && x)
    for (var E = 0; E < v.length; E++) {
      var M = v[E];
      if (M.targetName === e) {
        var k = M.stopTracks(y);
        if (k) {
          var P = dr(v, M);
          v.splice(P, 1);
        }
      }
    }
  if (a.force || (y = Xr(y, function(U) {
    return !yfe(i[U], t[U]);
  }), x = y.length), x > 0 || a.force && !o.length) {
    var L = void 0, F = void 0, O = void 0;
    if (s) {
      F = {}, d && (L = {});
      for (var E = 0; E < x; E++) {
        var w = y[E];
        F[w] = t[w], d ? L[w] = i[w] : t[w] = i[w];
      }
    } else if (d) {
      O = {};
      for (var E = 0; E < x; E++) {
        var w = y[E];
        O[w] = Hg(t[w]), mfe(t, i, w);
      }
    }
    var M = new k8(t, !1, !1, f ? Xr(v, function(V) {
      return V.targetName === e;
    }) : null);
    M.targetName = e, a.scope && (M.scope = a.scope), d && L && M.whenWithKeys(0, L, y), O && M.whenWithKeys(0, O, y), M.whenWithKeys(u ?? 500, s ? F : i, y).delay(c || 0), r.addAnimator(M, e), o.push(M);
  }
}
const I$ = M8;
var P$ = function(r) {
  Nn(e, r);
  function e(t) {
    var i = r.call(this) || this;
    return i.isGroup = !0, i._children = [], i.attr(t), i;
  }
  return e.prototype.childrenRef = function() {
    return this._children;
  }, e.prototype.children = function() {
    return this._children.slice();
  }, e.prototype.childAt = function(t) {
    return this._children[t];
  }, e.prototype.childOfName = function(t) {
    for (var i = this._children, a = 0; a < i.length; a++)
      if (i[a].name === t)
        return i[a];
  }, e.prototype.childCount = function() {
    return this._children.length;
  }, e.prototype.add = function(t) {
    if (t && (t !== this && t.parent !== this && (this._children.push(t), this._doAdd(t)), process.env.NODE_ENV !== "production" && t.__hostTarget))
      throw "This elemenet has been used as an attachment";
    return this;
  }, e.prototype.addBefore = function(t, i) {
    if (t && t !== this && t.parent !== this && i && i.parent === this) {
      var a = this._children, n = a.indexOf(i);
      n >= 0 && (a.splice(n, 0, t), this._doAdd(t));
    }
    return this;
  }, e.prototype.replace = function(t, i) {
    var a = dr(this._children, t);
    return a >= 0 && this.replaceAt(i, a), this;
  }, e.prototype.replaceAt = function(t, i) {
    var a = this._children, n = a[i];
    if (t && t !== this && t.parent !== this && t !== n) {
      a[i] = t, n.parent = null;
      var o = this.__zr;
      o && n.removeSelfFromZr(o), this._doAdd(t);
    }
    return this;
  }, e.prototype._doAdd = function(t) {
    t.parent && t.parent.remove(t), t.parent = this;
    var i = this.__zr;
    i && i !== t.__zr && t.addSelfToZr(i), i && i.refresh();
  }, e.prototype.remove = function(t) {
    var i = this.__zr, a = this._children, n = dr(a, t);
    return n < 0 ? this : (a.splice(n, 1), t.parent = null, i && t.removeSelfFromZr(i), i && i.refresh(), this);
  }, e.prototype.removeAll = function() {
    for (var t = this._children, i = this.__zr, a = 0; a < t.length; a++) {
      var n = t[a];
      i && n.removeSelfFromZr(i), n.parent = null;
    }
    return t.length = 0, this;
  }, e.prototype.eachChild = function(t, i) {
    for (var a = this._children, n = 0; n < a.length; n++) {
      var o = a[n];
      t.call(i, o, n);
    }
    return this;
  }, e.prototype.traverse = function(t, i) {
    for (var a = 0; a < this._children.length; a++) {
      var n = this._children[a], o = t.call(i, n);
      n.isGroup && !o && n.traverse(t, i);
    }
    return this;
  }, e.prototype.addSelfToZr = function(t) {
    r.prototype.addSelfToZr.call(this, t);
    for (var i = 0; i < this._children.length; i++) {
      var a = this._children[i];
      a.addSelfToZr(t);
    }
  }, e.prototype.removeSelfFromZr = function(t) {
    r.prototype.removeSelfFromZr.call(this, t);
    for (var i = 0; i < this._children.length; i++) {
      var a = this._children[i];
      a.removeSelfFromZr(t);
    }
  }, e.prototype.getBoundingRect = function(t) {
    for (var i = new Jt(0, 0, 0, 0), a = t || this._children, n = [], o = null, s = 0; s < a.length; s++) {
      var l = a[s];
      if (!(l.ignore || l.invisible)) {
        var u = l.getBoundingRect(), c = l.getLocalTransform(n);
        c ? (Jt.applyTransform(i, u, c), o = o || i.clone(), o.union(i)) : (o = o || u.clone(), o.union(u));
      }
    }
    return o || i;
  }, e;
}(I$);
P$.prototype.type = "group";
const Wt = P$;
/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/
var Ag = {}, Mf = {};
function bfe(r) {
  delete Mf[r];
}
function wfe(r) {
  if (!r)
    return !1;
  if (typeof r == "string")
    return c1(r, 1) < LA;
  if (r.colorStops) {
    for (var e = r.colorStops, t = 0, i = e.length, a = 0; a < i; a++)
      t += c1(e[a].color, 1);
    return t /= i, t < LA;
  }
  return !1;
}
var Sfe = function() {
  function r(e, t, i) {
    var a = this;
    this._sleepAfterStill = 10, this._stillFrameAccum = 0, this._needsRefresh = !0, this._needsRefreshHover = !0, this._darkMode = !1, i = i || {}, this.dom = t, this.id = e;
    var n = new Ahe(), o = i.renderer || "canvas";
    if (Ag[o] || (o = Ir(Ag)[0]), process.env.NODE_ENV !== "production" && !Ag[o])
      throw new Error("Renderer '" + o + "' is not imported. Please import it first.");
    i.useDirtyRect = i.useDirtyRect == null ? !1 : i.useDirtyRect;
    var s = new Ag[o](t, n, i, e), l = i.ssr || s.ssrOnly;
    this.storage = n, this.painter = s;
    var u = !qr.node && !qr.worker && !l ? new cfe(s.getViewportRoot(), s.root) : null, c = i.useCoarsePointer, f = c == null || c === "auto" ? qr.touchEventsSupported : !!c, d = 44, p;
    f && (p = It(i.pointerSize, d)), this.handler = new whe(n, s, u, s.root, p), this.animation = new rfe({
      stage: {
        update: l ? null : function() {
          return a._flush(!0);
        }
      }
    }), l || this.animation.start();
  }
  return r.prototype.add = function(e) {
    this._disposed || !e || (this.storage.addRoot(e), e.addSelfToZr(this), this.refresh());
  }, r.prototype.remove = function(e) {
    this._disposed || !e || (this.storage.delRoot(e), e.removeSelfFromZr(this), this.refresh());
  }, r.prototype.configLayer = function(e, t) {
    this._disposed || (this.painter.configLayer && this.painter.configLayer(e, t), this.refresh());
  }, r.prototype.setBackgroundColor = function(e) {
    this._disposed || (this.painter.setBackgroundColor && this.painter.setBackgroundColor(e), this.refresh(), this._backgroundColor = e, this._darkMode = wfe(e));
  }, r.prototype.getBackgroundColor = function() {
    return this._backgroundColor;
  }, r.prototype.setDarkMode = function(e) {
    this._darkMode = e;
  }, r.prototype.isDarkMode = function() {
    return this._darkMode;
  }, r.prototype.refreshImmediately = function(e) {
    this._disposed || (e || this.animation.update(!0), this._needsRefresh = !1, this.painter.refresh(), this._needsRefresh = !1);
  }, r.prototype.refresh = function() {
    this._disposed || (this._needsRefresh = !0, this.animation.start());
  }, r.prototype.flush = function() {
    this._disposed || this._flush(!1);
  }, r.prototype._flush = function(e) {
    var t, i = Bp();
    this._needsRefresh && (t = !0, this.refreshImmediately(e)), this._needsRefreshHover && (t = !0, this.refreshHoverImmediately());
    var a = Bp();
    t ? (this._stillFrameAccum = 0, this.trigger("rendered", {
      elapsedTime: a - i
    })) : this._sleepAfterStill > 0 && (this._stillFrameAccum++, this._stillFrameAccum > this._sleepAfterStill && this.animation.stop());
  }, r.prototype.setSleepAfterStill = function(e) {
    this._sleepAfterStill = e;
  }, r.prototype.wakeUp = function() {
    this._disposed || (this.animation.start(), this._stillFrameAccum = 0);
  }, r.prototype.refreshHover = function() {
    this._needsRefreshHover = !0;
  }, r.prototype.refreshHoverImmediately = function() {
    this._disposed || (this._needsRefreshHover = !1, this.painter.refreshHover && this.painter.getType() === "canvas" && this.painter.refreshHover());
  }, r.prototype.resize = function(e) {
    this._disposed || (e = e || {}, this.painter.resize(e.width, e.height), this.handler.resize());
  }, r.prototype.clearAnimation = function() {
    this._disposed || this.animation.clear();
  }, r.prototype.getWidth = function() {
    if (!this._disposed)
      return this.painter.getWidth();
  }, r.prototype.getHeight = function() {
    if (!this._disposed)
      return this.painter.getHeight();
  }, r.prototype.setCursorStyle = function(e) {
    this._disposed || this.handler.setCursorStyle(e);
  }, r.prototype.findHover = function(e, t) {
    if (!this._disposed)
      return this.handler.findHover(e, t);
  }, r.prototype.on = function(e, t, i) {
    return this._disposed || this.handler.on(e, t, i), this;
  }, r.prototype.off = function(e, t) {
    this._disposed || this.handler.off(e, t);
  }, r.prototype.trigger = function(e, t) {
    this._disposed || this.handler.trigger(e, t);
  }, r.prototype.clear = function() {
    if (!this._disposed) {
      for (var e = this.storage.getRoots(), t = 0; t < e.length; t++)
        e[t] instanceof Wt && e[t].removeSelfFromZr(this);
      this.storage.delAllRoots(), this.painter.clear();
    }
  }, r.prototype.dispose = function() {
    this._disposed || (this.animation.stop(), this.clear(), this.storage.dispose(), this.painter.dispose(), this.handler.dispose(), this.animation = this.storage = this.painter = this.handler = null, this._disposed = !0, bfe(this.id));
  }, r;
}();
function NA(r, e) {
  var t = new Sfe(_8(), r, e);
  return Mf[t.id] = t, t;
}
function xfe(r) {
  r.dispose();
}
function Tfe() {
  for (var r in Mf)
    Mf.hasOwnProperty(r) && Mf[r].dispose();
  Mf = {};
}
function Cfe(r) {
  return Mf[r];
}
function R$(r, e) {
  Ag[r] = e;
}
var BA;
function L$(r) {
  if (typeof BA == "function")
    return BA(r);
}
function O$(r) {
  BA = r;
}
var Afe = "6.0.0";
const Efe = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  dispose: xfe,
  disposeAll: Tfe,
  getElementSSRData: L$,
  getInstance: Cfe,
  init: NA,
  registerPainter: R$,
  registerSSRDataGetter: O$,
  version: Afe
}, Symbol.toStringTag, { value: "Module" }));
var EL = 1e-4, F$ = 20;
function Dfe(r) {
  return r.replace(/^\s+|\s+$/g, "");
}
var Io = Math.min, bi = Math.max, wl = Math.abs;
function Qr(r, e, t, i) {
  var a = e[0], n = e[1], o = t[0], s = t[1], l = n - a, u = s - o;
  if (l === 0)
    return u === 0 ? o : (o + s) / 2;
  if (i)
    if (l > 0) {
      if (r <= a)
        return o;
      if (r >= n)
        return s;
    } else {
      if (r >= a)
        return o;
      if (r <= n)
        return s;
    }
  else {
    if (r === a)
      return o;
    if (r === n)
      return s;
  }
  return (r - a) / l * u + o;
}
var gt = kfe;
function kfe(r, e, t) {
  switch (r) {
    case "center":
    case "middle":
      r = "50%";
      break;
    case "left":
    case "top":
      r = "0%";
      break;
    case "right":
    case "bottom":
      r = "100%";
      break;
  }
  return W_(r, e, t);
}
function W_(r, e, t) {
  return vt(r) ? Dfe(r).match(/%$/) ? parseFloat(r) / 100 * e + (t || 0) : parseFloat(r) : r == null ? NaN : +r;
}
function wi(r, e, t) {
  return e == null && (e = 10), e = Math.min(Math.max(0, e), F$), r = (+r).toFixed(e), t ? r : +r;
}
function Eo(r) {
  return r.sort(function(e, t) {
    return e - t;
  }), r;
}
function ks(r) {
  if (r = +r, isNaN(r))
    return 0;
  if (r > 1e-14) {
    for (var e = 1, t = 0; t < 15; t++, e *= 10)
      if (Math.round(r * e) / e === r)
        return t;
  }
  return H_(r);
}
function H_(r) {
  var e = r.toString().toLowerCase(), t = e.indexOf("e"), i = t > 0 ? +e.slice(t + 1) : 0, a = t > 0 ? t : e.length, n = e.indexOf("."), o = n < 0 ? 0 : a - 1 - n;
  return Math.max(0, o - i);
}
function I8(r, e) {
  var t = Math.log, i = Math.LN10, a = Math.floor(t(r[1] - r[0]) / i), n = Math.round(t(wl(e[1] - e[0])) / i), o = Math.min(Math.max(-a + n, 0), 20);
  return isFinite(o) ? o : 20;
}
function Mfe(r, e, t) {
  if (!r[e])
    return 0;
  var i = N$(r, t);
  return i[e] || 0;
}
function N$(r, e) {
  var t = ls(r, function(p, v) {
    return p + (isNaN(v) ? 0 : v);
  }, 0);
  if (t === 0)
    return [];
  for (var i = Math.pow(10, e), a = Je(r, function(p) {
    return (isNaN(p) ? 0 : p) / t * i * 100;
  }), n = i * 100, o = Je(a, function(p) {
    return Math.floor(p);
  }), s = ls(o, function(p, v) {
    return p + v;
  }, 0), l = Je(a, function(p, v) {
    return p - o[v];
  }); s < n; ) {
    for (var u = Number.NEGATIVE_INFINITY, c = null, f = 0, d = l.length; f < d; ++f)
      l[f] > u && (u = l[f], c = f);
    ++o[c], l[c] = 0, ++s;
  }
  return Je(o, function(p) {
    return p / i;
  });
}
function Ife(r, e) {
  var t = Math.max(ks(r), ks(e)), i = r + e;
  return t > F$ ? i : wi(i, t);
}
var VA = 9007199254740991;
function P8(r) {
  var e = Math.PI * 2;
  return (r % e + e) % e;
}
function o0(r) {
  return r > -EL && r < EL;
}
var Pfe = /^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;
function Nl(r) {
  if (r instanceof Date)
    return r;
  if (vt(r)) {
    var e = Pfe.exec(r);
    if (!e)
      return /* @__PURE__ */ new Date(NaN);
    if (e[8]) {
      var t = +e[4] || 0;
      return e[8].toUpperCase() !== "Z" && (t -= +e[8].slice(0, 3)), new Date(Date.UTC(+e[1], +(e[2] || 1) - 1, +e[3] || 1, t, +(e[5] || 0), +e[6] || 0, e[7] ? +e[7].substring(0, 3) : 0));
    } else
      return new Date(+e[1], +(e[2] || 1) - 1, +e[3] || 1, +e[4] || 0, +(e[5] || 0), +e[6] || 0, e[7] ? +e[7].substring(0, 3) : 0);
  } else if (r == null)
    return /* @__PURE__ */ new Date(NaN);
  return new Date(Math.round(r));
}
function B$(r) {
  return Math.pow(10, em(r));
}
function em(r) {
  if (r === 0)
    return 0;
  var e = Math.floor(Math.log(r) / Math.LN10);
  return r / Math.pow(10, e) >= 10 && e++, e;
}
function R8(r, e) {
  var t = em(r), i = Math.pow(10, t), a = r / i, n;
  return e ? a < 1.5 ? n = 1 : a < 2.5 ? n = 2 : a < 4 ? n = 3 : a < 7 ? n = 5 : n = 10 : a < 1 ? n = 1 : a < 2 ? n = 2 : a < 3 ? n = 3 : a < 5 ? n = 5 : n = 10, r = n * i, t >= -20 ? +r.toFixed(t < 0 ? -t : 0) : r;
}
function e_(r, e) {
  var t = (r.length - 1) * e + 1, i = Math.floor(t), a = +r[i - 1], n = t - i;
  return n ? a + n * (r[i] - a) : a;
}
function UA(r) {
  r.sort(function(l, u) {
    return s(l, u, 0) ? -1 : 1;
  });
  for (var e = -1 / 0, t = 1, i = 0; i < r.length; ) {
    for (var a = r[i].interval, n = r[i].close, o = 0; o < 2; o++)
      a[o] <= e && (a[o] = e, n[o] = o ? 1 : 1 - t), e = a[o], t = n[o];
    a[0] === a[1] && n[0] * n[1] !== 1 ? r.splice(i, 1) : i++;
  }
  return r;
  function s(l, u, c) {
    return l.interval[c] < u.interval[c] || l.interval[c] === u.interval[c] && (l.close[c] - u.close[c] === (c ? -1 : 1) || !c && s(l, u, 1));
  }
}
function Ml(r) {
  var e = parseFloat(r);
  return e == r && (e !== 0 || !vt(r) || r.indexOf("x") <= 0) ? e : NaN;
}
function fS(r) {
  return !isNaN(Ml(r));
}
function V$() {
  return Math.round(Math.random() * 9);
}
function U$(r, e) {
  return e === 0 ? r : U$(e, r % e);
}
function DL(r, e) {
  return r == null ? e : e == null ? r : r * e / U$(r, e);
}
var Rfe = "[ECharts] ", kL = {}, Lfe = typeof console < "u" && console.warn && console.log;
function dS(r, e, t) {
  if (Lfe) {
    if (t) {
      if (kL[e])
        return;
      kL[e] = !0;
    }
    console[r](Rfe + e);
  }
}
function G$(r, e) {
  dS("log", r, e);
}
function Yn(r, e) {
  dS("warn", r, e);
}
function Nr(r, e) {
  dS("error", r, e);
}
function Us(r) {
  process.env.NODE_ENV !== "production" && dS("warn", "DEPRECATED: " + r, !0);
}
function yi(r, e, t) {
  process.env.NODE_ENV !== "production" && Us((t ? "[" + t + "]" : "") + (r + " is deprecated; use " + e + " instead."));
}
function to() {
  for (var r = [], e = 0; e < arguments.length; e++)
    r[e] = arguments[e];
  var t = "";
  if (process.env.NODE_ENV !== "production") {
    var i = function(a) {
      return a === void 0 ? "undefined" : a === 1 / 0 ? "Infinity" : a === -1 / 0 ? "-Infinity" : Zi(a) ? "NaN" : a instanceof Date ? "Date(" + a.toISOString() + ")" : Bt(a) ? "function () { ... }" : w8(a) ? a + "" : null;
    };
    t = Je(r, function(a) {
      if (vt(a))
        return a;
      var n = i(a);
      if (n != null)
        return n;
      if (typeof JSON < "u" && JSON.stringify)
        try {
          return JSON.stringify(a, function(o, s) {
            var l = i(s);
            return l ?? s;
          });
        } catch {
          return "?";
        }
      else
        return "?";
    }).join(" ");
  }
  return t;
}
function en(r) {
  throw new Error(r);
}
function ML(r, e, t) {
  return (e - r) * t + r;
}
var z$ = "series\0", W$ = "\0_ec_\0";
function xn(r) {
  return r instanceof Array ? r : r == null ? [] : [r];
}
function Zf(r, e, t) {
  if (r) {
    r[e] = r[e] || {}, r.emphasis = r.emphasis || {}, r.emphasis[e] = r.emphasis[e] || {};
    for (var i = 0, a = t.length; i < a; i++) {
      var n = t[i];
      !r.emphasis[e].hasOwnProperty(n) && r[e].hasOwnProperty(n) && (r.emphasis[e][n] = r[e][n]);
    }
  }
}
var IL = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "rich", "tag", "color", "textBorderColor", "textBorderWidth", "width", "height", "lineHeight", "align", "verticalAlign", "baseline", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY", "backgroundColor", "borderColor", "borderWidth", "borderRadius", "padding"];
function I0(r) {
  return zt(r) && !Ke(r) && !(r instanceof Date) ? r.value : r;
}
function Ofe(r) {
  return zt(r) && !(r instanceof Array);
}
function H$(r, e, t) {
  var i = t === "normalMerge", a = t === "replaceMerge", n = t === "replaceAll";
  r = r || [], e = (e || []).slice();
  var o = Pt();
  J(e, function(l, u) {
    if (!zt(l)) {
      e[u] = null;
      return;
    }
    process.env.NODE_ENV !== "production" && (l.id != null && !RL(l.id) && PL(l.id), l.name != null && !RL(l.name) && PL(l.name));
  });
  var s = Ffe(r, o, t);
  return (i || a) && Nfe(s, r, o, e), i && Bfe(s, e), i || a ? Vfe(s, e, a) : n && Ufe(s, e), Gfe(s), s;
}
function Ffe(r, e, t) {
  var i = [];
  if (t === "replaceAll")
    return i;
  for (var a = 0; a < r.length; a++) {
    var n = r[a];
    n && n.id != null && e.set(n.id, a), i.push({
      existing: t === "replaceMerge" || s0(n) ? null : n,
      newOption: null,
      keyInfo: null,
      brandNew: null
    });
  }
  return i;
}
function Nfe(r, e, t, i) {
  J(i, function(a, n) {
    if (!(!a || a.id == null)) {
      var o = $g(a.id), s = t.get(o);
      if (s != null) {
        var l = r[s];
        kt(!l.newOption, 'Duplicated option on id "' + o + '".'), l.newOption = a, l.existing = e[s], i[n] = null;
      }
    }
  });
}
function Bfe(r, e) {
  J(e, function(t, i) {
    if (!(!t || t.name == null))
      for (var a = 0; a < r.length; a++) {
        var n = r[a].existing;
        if (!r[a].newOption && n && (n.id == null || t.id == null) && !s0(t) && !s0(n) && $$("name", n, t)) {
          r[a].newOption = t, e[i] = null;
          return;
        }
      }
  });
}
function Vfe(r, e, t) {
  J(e, function(i) {
    if (i) {
      for (
        var a, n = 0;
        // Be `!resultItem` only when `nextIdx >= result.length`.
        (a = r[n]) && (a.newOption || s0(a.existing) || // In mode "replaceMerge", here no not-mapped-non-internal-existing.
        a.existing && i.id != null && !$$("id", i, a.existing));
      )
        n++;
      a ? (a.newOption = i, a.brandNew = t) : r.push({
        newOption: i,
        brandNew: t,
        existing: null,
        keyInfo: null
      }), n++;
    }
  });
}
function Ufe(r, e) {
  J(e, function(t) {
    r.push({
      newOption: t,
      brandNew: !0,
      existing: null,
      keyInfo: null
    });
  });
}
function Gfe(r) {
  var e = Pt();
  J(r, function(t) {
    var i = t.existing;
    i && e.set(i.id, t);
  }), J(r, function(t) {
    var i = t.newOption;
    kt(!i || i.id == null || !e.get(i.id) || e.get(i.id) === t, "id duplicates: " + (i && i.id)), i && i.id != null && e.set(i.id, t), !t.keyInfo && (t.keyInfo = {});
  }), J(r, function(t, i) {
    var a = t.existing, n = t.newOption, o = t.keyInfo;
    if (zt(n)) {
      if (o.name = n.name != null ? $g(n.name) : a ? a.name : z$ + i, a)
        o.id = $g(a.id);
      else if (n.id != null)
        o.id = $g(n.id);
      else {
        var s = 0;
        do
          o.id = "\0" + o.name + "\0" + s++;
        while (e.get(o.id));
      }
      e.set(o.id, t);
    }
  });
}
function $$(r, e, t) {
  var i = Vi(e[r], null), a = Vi(t[r], null);
  return i != null && a != null && i === a;
}
function $g(r) {
  if (process.env.NODE_ENV !== "production" && r == null)
    throw new Error();
  return Vi(r, "");
}
function Vi(r, e) {
  return r == null ? e : vt(r) ? r : Or(r) || i1(r) ? r + "" : e;
}
function PL(r) {
  process.env.NODE_ENV !== "production" && Yn("`" + r + "` is invalid id or name. Must be a string or number.");
}
function RL(r) {
  return i1(r) || fS(r);
}
function L8(r) {
  var e = r.name;
  return !!(e && e.indexOf(z$));
}
function s0(r) {
  return r && r.id != null && $g(r.id).indexOf(W$) === 0;
}
function zfe(r) {
  return W$ + r;
}
function Wfe(r, e, t) {
  J(r, function(i) {
    var a = i.newOption;
    zt(a) && (i.keyInfo.mainType = e, i.keyInfo.subType = Hfe(e, a, i.existing, t));
  });
}
function Hfe(r, e, t, i) {
  var a = e.type ? e.type : t ? t.subType : i.determineSubType(r, e);
  return a;
}
function $fe(r, e) {
  var t = {}, i = {};
  return a(r || [], t), a(e || [], i, t), [n(t), n(i)];
  function a(o, s, l) {
    for (var u = 0, c = o.length; u < c; u++) {
      var f = Vi(o[u].seriesId, null);
      if (f == null)
        return;
      for (var d = xn(o[u].dataIndex), p = l && l[f], v = 0, y = d.length; v < y; v++) {
        var _ = d[v];
        p && p[_] ? p[_] = null : (s[f] || (s[f] = {}))[_] = 1;
      }
    }
  }
  function n(o, s) {
    var l = [];
    for (var u in o)
      if (o.hasOwnProperty(u) && o[u] != null)
        if (s)
          l.push(+u);
        else {
          var c = n(o[u], !0);
          c.length && l.push({
            seriesId: u,
            dataIndex: c
          });
        }
    return l;
  }
}
function Jf(r, e) {
  if (e.dataIndexInside != null)
    return e.dataIndexInside;
  if (e.dataIndex != null)
    return Ke(e.dataIndex) ? Je(e.dataIndex, function(t) {
      return r.indexOfRawIndex(t);
    }) : r.indexOfRawIndex(e.dataIndex);
  if (e.name != null)
    return Ke(e.name) ? Je(e.name, function(t) {
      return r.indexOfName(t);
    }) : r.indexOfName(e.name);
}
function Ar() {
  var r = "__ec_inner_" + Yfe++;
  return function(e) {
    return e[r] || (e[r] = {});
  };
}
var Yfe = V$();
function jp(r, e, t) {
  var i = O8(e, t), a = i.mainTypeSpecified, n = i.queryOptionMap, o = i.others, s = o, l = t ? t.defaultMainType : null;
  return !a && l && n.set(l, {}), n.each(function(u, c) {
    var f = P0(r, c, u, {
      useDefault: l === c,
      enableAll: t && t.enableAll != null ? t.enableAll : !0,
      enableNone: t && t.enableNone != null ? t.enableNone : !0
    });
    s[c + "Models"] = f.models, s[c + "Model"] = f.models[0];
  }), s;
}
function O8(r, e) {
  var t;
  if (vt(r)) {
    var i = {};
    i[r + "Index"] = 0, t = i;
  } else
    t = r;
  var a = Pt(), n = {}, o = !1;
  return J(t, function(s, l) {
    if (l === "dataIndex" || l === "dataIndexInside") {
      n[l] = s;
      return;
    }
    var u = l.match(/^(\w+)(Index|Id|Name)$/) || [], c = u[1], f = (u[2] || "").toLowerCase();
    if (!(!c || !f || e && e.includeMainTypes && dr(e.includeMainTypes, c) < 0)) {
      o = o || !!c;
      var d = a.get(c) || a.set(c, {});
      d[f] = s;
    }
  }), {
    mainTypeSpecified: o,
    queryOptionMap: a,
    others: n
  };
}
var ri = {
  useDefault: !0,
  enableAll: !1,
  enableNone: !1
}, jfe = {
  useDefault: !1,
  enableAll: !0,
  enableNone: !0
};
function P0(r, e, t, i) {
  i = i || ri;
  var a = t.index, n = t.id, o = t.name, s = {
    models: null,
    specified: a != null || n != null || o != null
  };
  if (!s.specified) {
    var l = void 0;
    return s.models = i.useDefault && (l = r.getComponent(e)) ? [l] : [], s;
  }
  if (a === "none" || a === !1) {
    if (i.enableNone)
      return s.models = [], s;
    process.env.NODE_ENV !== "production" && Nr('`"none"` or `false` is not a valid value on index option.'), a = -1;
  }
  return a === "all" && (i.enableAll ? a = n = o = null : (process.env.NODE_ENV !== "production" && Nr('`"all"` is not a valid value on index option.'), a = -1)), s.models = r.queryComponents({
    mainType: e,
    index: a,
    id: n,
    name: o
  }), s;
}
function Y$(r, e, t) {
  r.setAttribute ? r.setAttribute(e, t) : r[e] = t;
}
function qfe(r, e) {
  return r.getAttribute ? r.getAttribute(e) : r[e];
}
function Xfe(r) {
  return r === "auto" ? qr.domSupported ? "html" : "richText" : r || "html";
}
function GA(r, e) {
  var t = Pt(), i = [];
  return J(r, function(a) {
    var n = e(a);
    (t.get(n) || (i.push(n), t.set(n, []))).push(a);
  }), {
    keys: i,
    buckets: t
  };
}
function j$(r, e, t, i, a) {
  var n = e == null || e === "auto";
  if (i == null)
    return i;
  if (Or(i)) {
    var o = ML(t || 0, i, a);
    return wi(o, n ? Math.max(ks(t || 0), ks(i)) : e);
  } else {
    if (vt(i))
      return a < 1 ? t : i;
    for (var s = [], l = t, u = i, c = Math.max(l ? l.length : 0, u.length), f = 0; f < c; ++f) {
      var d = r.getDimensionInfo(f);
      if (d && d.type === "ordinal")
        s[f] = (a < 1 && l ? l : u)[f];
      else {
        var p = l && l[f] ? l[f] : 0, v = u[f], o = ML(p, v, a);
        s[f] = wi(o, n ? Math.max(ks(p), ks(v)) : e);
      }
    }
    return s;
  }
}
var Gc = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.reset = function(e, t, i, a) {
      return this._list = e, this._step = a = a || 1, this._idx = t, this._end = i ?? (a > 0 ? e.length : 0), this.item = null, this.key = NaN, this;
    }, r.prototype.next = function() {
      return (this._step > 0 ? this._idx < this._end : this._idx >= this._end) ? (this.item = this._list[this._idx], this.key = this._idx = this._idx + this._step, !0) : !1;
    }, r;
  }()
);
function m3(r) {
  r.option = r.parentModel = r.ecModel = null;
}
var Kfe = ".", $h = "___EC__COMPONENT__CONTAINER___", q$ = "___EC__EXTENDED_CLASS___";
function Sl(r) {
  var e = {
    main: "",
    sub: ""
  };
  if (r) {
    var t = r.split(Kfe);
    e.main = t[0] || "", e.sub = t[1] || "";
  }
  return e;
}
function Zfe(r) {
  kt(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r), 'componentType "' + r + '" illegal');
}
function Jfe(r) {
  return !!(r && r[q$]);
}
function F8(r, e) {
  r.$constructor = r, r.extend = function(t) {
    process.env.NODE_ENV !== "production" && J(e, function(n) {
      t[n] || console.warn("Method `" + n + "` should be implemented" + (t.type ? " in " + t.type : "") + ".");
    });
    var i = this, a;
    return Qfe(i) ? a = /** @class */
    function(n) {
      Ge(o, n);
      function o() {
        return n.apply(this, arguments) || this;
      }
      return o;
    }(i) : (a = function() {
      (t.$constructor || i).apply(this, arguments);
    }, b8(a, this)), $e(a.prototype, t), a[q$] = !0, a.extend = this.extend, a.superCall = rde, a.superApply = nde, a.superClass = i, a;
  };
}
function Qfe(r) {
  return Bt(r) && /^class\s/.test(Function.prototype.toString.call(r));
}
function X$(r, e) {
  r.extend = e.extend;
}
var ede = Math.round(Math.random() * 10);
function tde(r) {
  var e = ["__\0is_clz", ede++].join("_");
  r.prototype[e] = !0, process.env.NODE_ENV !== "production" && kt(!r.isInstance, 'The method "is" can not be defined.'), r.isInstance = function(t) {
    return !!(t && t[e]);
  };
}
function rde(r, e) {
  for (var t = [], i = 2; i < arguments.length; i++)
    t[i - 2] = arguments[i];
  return this.superClass.prototype[e].apply(r, t);
}
function nde(r, e, t) {
  return this.superClass.prototype[e].apply(r, t);
}
function pS(r) {
  var e = {};
  r.registerClass = function(i) {
    var a = i.type || i.prototype.type;
    if (a) {
      Zfe(a), i.prototype.type = a;
      var n = Sl(a);
      if (!n.sub)
        process.env.NODE_ENV !== "production" && e[n.main] && console.warn(n.main + " exists."), e[n.main] = i;
      else if (n.sub !== $h) {
        var o = t(n);
        o[n.sub] = i;
      }
    }
    return i;
  }, r.getClass = function(i, a, n) {
    var o = e[i];
    if (o && o[$h] && (o = a ? o[a] : null), n && !o)
      throw new Error(a ? "Component " + i + "." + (a || "") + " is used but not imported." : i + ".type should be specified.");
    return o;
  }, r.getClassesByMainType = function(i) {
    var a = Sl(i), n = [], o = e[a.main];
    return o && o[$h] ? J(o, function(s, l) {
      l !== $h && n.push(s);
    }) : n.push(o), n;
  }, r.hasClass = function(i) {
    var a = Sl(i);
    return !!e[a.main];
  }, r.getAllClassMainTypes = function() {
    var i = [];
    return J(e, function(a, n) {
      i.push(n);
    }), i;
  }, r.hasSubTypes = function(i) {
    var a = Sl(i), n = e[a.main];
    return n && n[$h];
  };
  function t(i) {
    var a = e[i.main];
    return (!a || !a[$h]) && (a = e[i.main] = {}, a[$h] = !0), a;
  }
}
function Qf(r, e) {
  for (var t = 0; t < r.length; t++)
    r[t][1] || (r[t][1] = r[t][0]);
  return e = e || !1, function(i, a, n) {
    for (var o = {}, s = 0; s < r.length; s++) {
      var l = r[s][1];
      if (!(a && dr(a, l) >= 0 || n && dr(n, l) < 0)) {
        var u = i.getShallow(l, e);
        u != null && (o[r[s][0]] = u);
      }
    }
    return o;
  };
}
var ide = [
  ["fill", "color"],
  ["shadowBlur"],
  ["shadowOffsetX"],
  ["shadowOffsetY"],
  ["opacity"],
  ["shadowColor"]
  // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
  // So do not transfer decal directly.
], ade = Qf(ide), ode = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.getAreaStyle = function(e, t) {
      return ade(this, e, t);
    }, r;
  }()
), zA = new i0(50);
function sde(r) {
  if (typeof r == "string") {
    var e = zA.get(r);
    return e && e.image;
  } else
    return r;
}
function N8(r, e, t, i, a) {
  if (r)
    if (typeof r == "string") {
      if (e && e.__zrImageSrc === r || !t)
        return e;
      var n = zA.get(r), o = { hostEl: t, cb: i, cbPayload: a };
      return n ? (e = n.image, !vS(e) && n.pending.push(o)) : (e = vo.loadImage(r, LL, LL), e.__zrImageSrc = r, zA.put(r, e.__cachedImgObj = {
        image: e,
        pending: [o]
      })), e;
    } else
      return r;
  else
    return e;
}
function LL() {
  var r = this.__cachedImgObj;
  this.onload = this.onerror = this.__cachedImgObj = null;
  for (var e = 0; e < r.pending.length; e++) {
    var t = r.pending[e], i = t.cb;
    i && i(this, t.cbPayload), t.hostEl.dirty();
  }
  r.pending.length = 0;
}
function vS(r) {
  return r && r.width && r.height;
}
var y3 = /\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;
function lde(r, e, t, i, a) {
  var n = {};
  return K$(n, r, e, t, i, a), n.text;
}
function K$(r, e, t, i, a, n) {
  if (!t) {
    r.text = "", r.isTruncated = !1;
    return;
  }
  var o = (e + "").split(`
`);
  n = Z$(t, i, a, n);
  for (var s = !1, l = {}, u = 0, c = o.length; u < c; u++)
    J$(l, o[u], n), o[u] = l.textLine, s = s || l.isTruncated;
  r.text = o.join(`
`), r.isTruncated = s;
}
function Z$(r, e, t, i) {
  i = i || {};
  var a = $e({}, i);
  t = It(t, "..."), a.maxIterations = It(i.maxIterations, 2);
  var n = a.minChar = It(i.minChar, 0), o = a.fontMeasureInfo = El(e), s = o.asciiCharWidth;
  a.placeholder = It(i.placeholder, "");
  for (var l = r = Math.max(0, r - 1), u = 0; u < n && l >= s; u++)
    l -= s;
  var c = Dl(o, t);
  return c > l && (t = "", c = 0), l = r - c, a.ellipsis = t, a.ellipsisWidth = c, a.contentWidth = l, a.containerWidth = r, a;
}
function J$(r, e, t) {
  var i = t.containerWidth, a = t.contentWidth, n = t.fontMeasureInfo;
  if (!i) {
    r.textLine = "", r.isTruncated = !1;
    return;
  }
  var o = Dl(n, e);
  if (o <= i) {
    r.textLine = e, r.isTruncated = !1;
    return;
  }
  for (var s = 0; ; s++) {
    if (o <= a || s >= t.maxIterations) {
      e += t.ellipsis;
      break;
    }
    var l = s === 0 ? ude(e, a, n) : o > 0 ? Math.floor(e.length * a / o) : 0;
    e = e.substr(0, l), o = Dl(n, e);
  }
  e === "" && (e = t.placeholder), r.textLine = e, r.isTruncated = !0;
}
function ude(r, e, t) {
  for (var i = 0, a = 0, n = r.length; a < n && i < e; a++)
    i += k$(t, r.charCodeAt(a));
  return a;
}
function cde(r, e, t, i) {
  var a = B8(r), n = e.overflow, o = e.padding, s = o ? o[1] + o[3] : 0, l = o ? o[0] + o[2] : 0, u = e.font, c = n === "truncate", f = Q1(u), d = It(e.lineHeight, f), p = e.lineOverflow === "truncate", v = !1, y = e.width;
  y == null && t != null && (y = t - s);
  var _ = e.height;
  _ == null && i != null && (_ = i - l);
  var w;
  y != null && (n === "break" || n === "breakAll") ? w = a ? Q$(a, e.font, y, n === "breakAll", 0).lines : [] : w = a ? a.split(`
`) : [];
  var S = w.length * d;
  if (_ == null && (_ = S), S > _ && p) {
    var x = Math.floor(_ / d);
    v = v || w.length > x, w = w.slice(0, x), S = w.length * d;
  }
  if (a && c && y != null)
    for (var E = Z$(y, u, e.ellipsis, {
      minChar: e.truncateMinChar,
      placeholder: e.placeholder
    }), M = {}, k = 0; k < w.length; k++)
      J$(M, w[k], E), w[k] = M.textLine, v = v || M.isTruncated;
  for (var P = _, L = 0, F = El(u), k = 0; k < w.length; k++)
    L = Math.max(Dl(F, w[k]), L);
  y == null && (y = L);
  var O = y;
  return P += l, O += s, {
    lines: w,
    height: _,
    outerWidth: O,
    outerHeight: P,
    lineHeight: d,
    calculatedLineHeight: f,
    contentWidth: L,
    contentHeight: S,
    width: y,
    isTruncated: v
  };
}
var hde = function() {
  function r() {
  }
  return r;
}(), OL = function() {
  function r(e) {
    this.tokens = [], e && (this.tokens = e);
  }
  return r;
}(), fde = function() {
  function r() {
    this.width = 0, this.height = 0, this.contentWidth = 0, this.contentHeight = 0, this.outerWidth = 0, this.outerHeight = 0, this.lines = [], this.isTruncated = !1;
  }
  return r;
}();
function dde(r, e, t, i, a) {
  var n = new fde(), o = B8(r);
  if (!o)
    return n;
  var s = e.padding, l = s ? s[1] + s[3] : 0, u = s ? s[0] + s[2] : 0, c = e.width;
  c == null && t != null && (c = t - l);
  var f = e.height;
  f == null && i != null && (f = i - u);
  for (var d = e.overflow, p = (d === "break" || d === "breakAll") && c != null ? { width: c, accumWidth: 0, breakAll: d === "breakAll" } : null, v = y3.lastIndex = 0, y; (y = y3.exec(o)) != null; ) {
    var _ = y.index;
    _ > v && _3(n, o.substring(v, _), e, p), _3(n, y[2], e, p, y[1]), v = y3.lastIndex;
  }
  v < o.length && _3(n, o.substring(v, o.length), e, p);
  var w = [], S = 0, x = 0, E = d === "truncate", M = e.lineOverflow === "truncate", k = {};
  function P(Ie, q, re) {
    Ie.width = q, Ie.lineHeight = re, S += re, x = Math.max(x, q);
  }
  e:
    for (var L = 0; L < n.lines.length; L++) {
      for (var F = n.lines[L], O = 0, U = 0, V = 0; V < F.tokens.length; V++) {
        var G = F.tokens[V], Z = G.styleName && e.rich[G.styleName] || {}, Q = G.textPadding = Z.padding, se = Q ? Q[1] + Q[3] : 0, de = G.font = Z.font || e.font;
        G.contentHeight = Q1(de);
        var le = It(Z.height, G.contentHeight);
        if (G.innerHeight = le, Q && (le += Q[0] + Q[2]), G.height = le, G.lineHeight = Ba(Z.lineHeight, e.lineHeight, le), G.align = Z && Z.align || a, G.verticalAlign = Z && Z.verticalAlign || "middle", M && f != null && S + G.lineHeight > f) {
          var Se = n.lines.length;
          V > 0 ? (F.tokens = F.tokens.slice(0, V), P(F, U, O), n.lines = n.lines.slice(0, L + 1)) : n.lines = n.lines.slice(0, L), n.isTruncated = n.isTruncated || n.lines.length < Se;
          break e;
        }
        var he = Z.width, fe = he == null || he === "auto";
        if (typeof he == "string" && he.charAt(he.length - 1) === "%")
          G.percentWidth = he, w.push(G), G.contentWidth = Dl(El(de), G.text);
        else {
          if (fe) {
            var K = Z.backgroundColor, we = K && K.image;
            we && (we = sde(we), vS(we) && (G.width = Math.max(G.width, we.width * le / we.height)));
          }
          var ve = E && c != null ? c - U : null;
          ve != null && ve < G.width ? !fe || ve < se ? (G.text = "", G.width = G.contentWidth = 0) : (K$(k, G.text, ve - se, de, e.ellipsis, { minChar: e.truncateMinChar }), G.text = k.text, n.isTruncated = n.isTruncated || k.isTruncated, G.width = G.contentWidth = Dl(El(de), G.text)) : G.contentWidth = Dl(El(de), G.text);
        }
        G.width += se, U += G.width, Z && (O = Math.max(O, G.lineHeight));
      }
      P(F, U, O);
    }
  n.outerWidth = n.width = It(c, x), n.outerHeight = n.height = It(f, S), n.contentHeight = S, n.contentWidth = x, n.outerWidth += l, n.outerHeight += u;
  for (var L = 0; L < w.length; L++) {
    var G = w[L], De = G.percentWidth;
    G.width = parseInt(De, 10) / 100 * n.width;
  }
  return n;
}
function _3(r, e, t, i, a) {
  var n = e === "", o = a && t.rich[a] || {}, s = r.lines, l = o.font || t.font, u = !1, c, f;
  if (i) {
    var d = o.padding, p = d ? d[1] + d[3] : 0;
    if (o.width != null && o.width !== "auto") {
      var v = Vs(o.width, i.width) + p;
      s.length > 0 && v + i.accumWidth > i.width && (c = e.split(`
`), u = !0), i.accumWidth = v;
    } else {
      var y = Q$(e, l, i.width, i.breakAll, i.accumWidth);
      i.accumWidth = y.accumWidth + p, f = y.linesWidths, c = y.lines;
    }
  }
  c || (c = e.split(`
`));
  for (var _ = El(l), w = 0; w < c.length; w++) {
    var S = c[w], x = new hde();
    if (x.styleName = a, x.text = S, x.isLineHolder = !S && !n, typeof o.width == "number" ? x.width = o.width : x.width = f ? f[w] : Dl(_, S), !w && !u) {
      var E = (s[s.length - 1] || (s[0] = new OL())).tokens, M = E.length;
      M === 1 && E[0].isLineHolder ? E[0] = x : (S || !M || n) && E.push(x);
    } else
      s.push(new OL([x]));
  }
}
function pde(r) {
  var e = r.charCodeAt(0);
  return e >= 32 && e <= 591 || e >= 880 && e <= 4351 || e >= 4608 && e <= 5119 || e >= 7680 && e <= 8303;
}
var vde = ls(",&?/;] ".split(""), function(r, e) {
  return r[e] = !0, r;
}, {});
function gde(r) {
  return pde(r) ? !!vde[r] : !0;
}
function Q$(r, e, t, i, a) {
  for (var n = [], o = [], s = "", l = "", u = 0, c = 0, f = El(e), d = 0; d < r.length; d++) {
    var p = r.charAt(d);
    if (p === `
`) {
      l && (s += l, c += u), n.push(s), o.push(c), s = "", l = "", u = 0, c = 0;
      continue;
    }
    var v = k$(f, p.charCodeAt(0)), y = i ? !1 : !gde(p);
    if (n.length ? c + v > t : a + c + v > t) {
      c ? (s || l) && (y ? (s || (s = l, l = "", u = 0, c = u), n.push(s), o.push(c - u), l += p, u += v, s = "", c = u) : (l && (s += l, l = "", u = 0), n.push(s), o.push(c), s = p, c = v)) : y ? (n.push(l), o.push(u), l = p, u = v) : (n.push(p), o.push(v));
      continue;
    }
    c += v, y ? (l += p, u += v) : (l && (s += l, l = "", u = 0), s += p);
  }
  return l && (s += l), s && (n.push(s), o.push(c)), n.length === 1 && (c += a), {
    accumWidth: c,
    lines: n,
    linesWidths: o
  };
}
function FL(r, e, t, i, a, n) {
  if (r.baseX = t, r.baseY = i, r.outerWidth = r.outerHeight = null, !!e) {
    var o = e.width * 2, s = e.height * 2;
    Jt.set(NL, a0(t, o, a), Gf(i, s, n), o, s), Jt.intersect(e, NL, null, BL);
    var l = BL.outIntersectRect;
    r.outerWidth = l.width, r.outerHeight = l.height, r.baseX = a0(l.x, l.width, a, !0), r.baseY = Gf(l.y, l.height, n, !0);
  }
}
var NL = new Jt(0, 0, 0, 0), BL = { outIntersectRect: {}, clamp: !0 };
function B8(r) {
  return r != null ? r += "" : r = "";
}
function mde(r) {
  var e = B8(r.text), t = r.font, i = Dl(El(t), e), a = Q1(t);
  return WA(r, i, a, null);
}
function WA(r, e, t, i) {
  var a = new Jt(a0(r.x || 0, e, r.textAlign), Gf(r.y || 0, t, r.textBaseline), e, t), n = i ?? (eY(r) ? r.lineWidth : 0);
  return n > 0 && (a.x -= n / 2, a.y -= n / 2, a.width += n, a.height += n), a;
}
function eY(r) {
  var e = r.stroke;
  return e != null && e !== "none" && r.lineWidth > 0;
}
var HA = "__zr_style_" + Math.round(Math.random() * 10), zf = {
  shadowBlur: 0,
  shadowOffsetX: 0,
  shadowOffsetY: 0,
  shadowColor: "#000",
  opacity: 1,
  blend: "source-over"
}, gS = {
  style: {
    shadowBlur: !0,
    shadowOffsetX: !0,
    shadowOffsetY: !0,
    shadowColor: !0,
    opacity: !0
  }
};
zf[HA] = !0;
var VL = ["z", "z2", "invisible"], yde = ["invisible"], _de = function(r) {
  Nn(e, r);
  function e(t) {
    return r.call(this, t) || this;
  }
  return e.prototype._init = function(t) {
    for (var i = Ir(t), a = 0; a < i.length; a++) {
      var n = i[a];
      n === "style" ? this.useStyle(t[n]) : r.prototype.attrKV.call(this, n, t[n]);
    }
    this.style || this.useStyle({});
  }, e.prototype.beforeBrush = function() {
  }, e.prototype.afterBrush = function() {
  }, e.prototype.innerBeforeBrush = function() {
  }, e.prototype.innerAfterBrush = function() {
  }, e.prototype.shouldBePainted = function(t, i, a, n) {
    var o = this.transform;
    if (this.ignore || this.invisible || this.style.opacity === 0 || this.culling && bde(this, t, i) || o && !o[0] && !o[3])
      return !1;
    if (a && this.__clipPaths && this.__clipPaths.length) {
      for (var s = 0; s < this.__clipPaths.length; ++s)
        if (this.__clipPaths[s].isZeroArea())
          return !1;
    }
    if (n && this.parent)
      for (var l = this.parent; l; ) {
        if (l.ignore)
          return !1;
        l = l.parent;
      }
    return !0;
  }, e.prototype.contain = function(t, i) {
    return this.rectContain(t, i);
  }, e.prototype.traverse = function(t, i) {
    t.call(i, this);
  }, e.prototype.rectContain = function(t, i) {
    var a = this.transformCoordToLocal(t, i), n = this.getBoundingRect();
    return n.contain(a[0], a[1]);
  }, e.prototype.getPaintRect = function() {
    var t = this._paintRect;
    if (!this._paintRect || this.__dirty) {
      var i = this.transform, a = this.getBoundingRect(), n = this.style, o = n.shadowBlur || 0, s = n.shadowOffsetX || 0, l = n.shadowOffsetY || 0;
      t = this._paintRect || (this._paintRect = new Jt(0, 0, 0, 0)), i ? Jt.applyTransform(t, a, i) : t.copy(a), (o || s || l) && (t.width += o * 2 + Math.abs(s), t.height += o * 2 + Math.abs(l), t.x = Math.min(t.x, t.x + s - o), t.y = Math.min(t.y, t.y + l - o));
      var u = this.dirtyRectTolerance;
      t.isZero() || (t.x = Math.floor(t.x - u), t.y = Math.floor(t.y - u), t.width = Math.ceil(t.width + 1 + u * 2), t.height = Math.ceil(t.height + 1 + u * 2));
    }
    return t;
  }, e.prototype.setPrevPaintRect = function(t) {
    t ? (this._prevPaintRect = this._prevPaintRect || new Jt(0, 0, 0, 0), this._prevPaintRect.copy(t)) : this._prevPaintRect = null;
  }, e.prototype.getPrevPaintRect = function() {
    return this._prevPaintRect;
  }, e.prototype.animateStyle = function(t) {
    return this.animate("style", t);
  }, e.prototype.updateDuringAnimation = function(t) {
    t === "style" ? this.dirtyStyle() : this.markRedraw();
  }, e.prototype.attrKV = function(t, i) {
    t !== "style" ? r.prototype.attrKV.call(this, t, i) : this.style ? this.setStyle(i) : this.useStyle(i);
  }, e.prototype.setStyle = function(t, i) {
    return typeof t == "string" ? this.style[t] = i : $e(this.style, t), this.dirtyStyle(), this;
  }, e.prototype.dirtyStyle = function(t) {
    t || this.markRedraw(), this.__dirty |= Tg, this._rect && (this._rect = null);
  }, e.prototype.dirty = function() {
    this.dirtyStyle();
  }, e.prototype.styleChanged = function() {
    return !!(this.__dirty & Tg);
  }, e.prototype.styleUpdated = function() {
    this.__dirty &= ~Tg;
  }, e.prototype.createStyle = function(t) {
    return K1(zf, t);
  }, e.prototype.useStyle = function(t) {
    t[HA] || (t = this.createStyle(t)), this.__inHover ? this.__hoverStyle = t : this.style = t, this.dirtyStyle();
  }, e.prototype.isStyleObject = function(t) {
    return t[HA];
  }, e.prototype._innerSaveToNormal = function(t) {
    r.prototype._innerSaveToNormal.call(this, t);
    var i = this._normalState;
    t.style && !i.style && (i.style = this._mergeStyle(this.createStyle(), this.style)), this._savePrimaryToNormal(t, i, VL);
  }, e.prototype._applyStateObj = function(t, i, a, n, o, s) {
    r.prototype._applyStateObj.call(this, t, i, a, n, o, s);
    var l = !(i && n), u;
    if (i && i.style ? o ? n ? u = i.style : (u = this._mergeStyle(this.createStyle(), a.style), this._mergeStyle(u, i.style)) : (u = this._mergeStyle(this.createStyle(), n ? this.style : a.style), this._mergeStyle(u, i.style)) : l && (u = a.style), u)
      if (o) {
        var c = this.style;
        if (this.style = this.createStyle(l ? {} : c), l)
          for (var f = Ir(c), d = 0; d < f.length; d++) {
            var p = f[d];
            p in u && (u[p] = u[p], this.style[p] = c[p]);
          }
        for (var v = Ir(u), d = 0; d < v.length; d++) {
          var p = v[d];
          this.style[p] = this.style[p];
        }
        this._transitionState(t, {
          style: u
        }, s, this.getAnimationStyleProps());
      } else
        this.useStyle(u);
    for (var y = this.__inHover ? yde : VL, d = 0; d < y.length; d++) {
      var p = y[d];
      i && i[p] != null ? this[p] = i[p] : l && a[p] != null && (this[p] = a[p]);
    }
  }, e.prototype._mergeStates = function(t) {
    for (var i = r.prototype._mergeStates.call(this, t), a, n = 0; n < t.length; n++) {
      var o = t[n];
      o.style && (a = a || {}, this._mergeStyle(a, o.style));
    }
    return a && (i.style = a), i;
  }, e.prototype._mergeStyle = function(t, i) {
    return $e(t, i), t;
  }, e.prototype.getAnimationStyleProps = function() {
    return gS;
  }, e.initDefaultProps = function() {
    var t = e.prototype;
    t.type = "displayable", t.invisible = !1, t.z = 0, t.z2 = 0, t.zlevel = 0, t.culling = !1, t.cursor = "pointer", t.rectHover = !1, t.incremental = !1, t._rect = null, t.dirtyRectTolerance = 0, t.__dirty = To | Tg;
  }(), e;
}(I$), b3 = new Jt(0, 0, 0, 0), w3 = new Jt(0, 0, 0, 0);
function bde(r, e, t) {
  return b3.copy(r.getBoundingRect()), r.transform && b3.applyTransform(r.transform), w3.width = e, w3.height = t, !b3.intersect(w3);
}
const cs = _de;
var ho = Math.min, fo = Math.max, S3 = Math.sin, x3 = Math.cos, Yh = Math.PI * 2, My = hh(), Iy = hh(), Py = hh();
function mS(r, e, t) {
  if (r.length !== 0) {
    for (var i = r[0], a = i[0], n = i[0], o = i[1], s = i[1], l = 1; l < r.length; l++)
      i = r[l], a = ho(a, i[0]), n = fo(n, i[0]), o = ho(o, i[1]), s = fo(s, i[1]);
    e[0] = a, e[1] = o, t[0] = n, t[1] = s;
  }
}
function UL(r, e, t, i, a, n) {
  a[0] = ho(r, t), a[1] = ho(e, i), n[0] = fo(r, t), n[1] = fo(e, i);
}
var GL = [], zL = [];
function wde(r, e, t, i, a, n, o, s, l, u) {
  var c = p$, f = qi, d = c(r, t, a, o, GL);
  l[0] = 1 / 0, l[1] = 1 / 0, u[0] = -1 / 0, u[1] = -1 / 0;
  for (var p = 0; p < d; p++) {
    var v = f(r, t, a, o, GL[p]);
    l[0] = ho(v, l[0]), u[0] = fo(v, u[0]);
  }
  d = c(e, i, n, s, zL);
  for (var p = 0; p < d; p++) {
    var y = f(e, i, n, s, zL[p]);
    l[1] = ho(y, l[1]), u[1] = fo(y, u[1]);
  }
  l[0] = ho(r, l[0]), u[0] = fo(r, u[0]), l[0] = ho(o, l[0]), u[0] = fo(o, u[0]), l[1] = ho(e, l[1]), u[1] = fo(e, u[1]), l[1] = ho(s, l[1]), u[1] = fo(s, u[1]);
}
function Sde(r, e, t, i, a, n, o, s) {
  var l = g$, u = ua, c = fo(ho(l(r, t, a), 1), 0), f = fo(ho(l(e, i, n), 1), 0), d = u(r, t, a, c), p = u(e, i, n, f);
  o[0] = ho(r, a, d), o[1] = ho(e, n, p), s[0] = fo(r, a, d), s[1] = fo(e, n, p);
}
function xde(r, e, t, i, a, n, o, s, l) {
  var u = mu, c = yu, f = Math.abs(a - n);
  if (f % Yh < 1e-4 && f > 1e-4) {
    s[0] = r - t, s[1] = e - i, l[0] = r + t, l[1] = e + i;
    return;
  }
  if (My[0] = x3(a) * t + r, My[1] = S3(a) * i + e, Iy[0] = x3(n) * t + r, Iy[1] = S3(n) * i + e, u(s, My, Iy), c(l, My, Iy), a = a % Yh, a < 0 && (a = a + Yh), n = n % Yh, n < 0 && (n = n + Yh), a > n && !o ? n += Yh : a < n && o && (a += Yh), o) {
    var d = n;
    n = a, a = d;
  }
  for (var p = 0; p < n; p += Math.PI / 2)
    p > a && (Py[0] = x3(p) * t + r, Py[1] = S3(p) * i + e, u(s, Py, s), c(l, Py, l));
}
var Cn = {
  M: 1,
  L: 2,
  C: 3,
  Q: 4,
  A: 5,
  Z: 6,
  R: 7
}, jh = [], qh = [], il = [], pc = [], al = [], ol = [], T3 = Math.min, C3 = Math.max, Xh = Math.cos, Kh = Math.sin, Zl = Math.abs, $A = Math.PI, Ac = $A * 2, A3 = typeof Float32Array < "u", Wv = [];
function E3(r) {
  var e = Math.round(r / $A * 1e8) / 1e8;
  return e % 2 * $A;
}
function yS(r, e) {
  var t = E3(r[0]);
  t < 0 && (t += Ac);
  var i = t - r[0], a = r[1];
  a += i, !e && a - t >= Ac ? a = t + Ac : e && t - a >= Ac ? a = t - Ac : !e && t > a ? a = t + (Ac - E3(t - a)) : e && t < a && (a = t - (Ac - E3(a - t))), r[0] = t, r[1] = a;
}
var Tde = function() {
  function r(e) {
    this.dpr = 1, this._xi = 0, this._yi = 0, this._x0 = 0, this._y0 = 0, this._len = 0, e && (this._saveData = !1), this._saveData && (this.data = []);
  }
  return r.prototype.increaseVersion = function() {
    this._version++;
  }, r.prototype.getVersion = function() {
    return this._version;
  }, r.prototype.setScale = function(e, t, i) {
    i = i || 0, i > 0 && (this._ux = Zl(i / U_ / e) || 0, this._uy = Zl(i / U_ / t) || 0);
  }, r.prototype.setDPR = function(e) {
    this.dpr = e;
  }, r.prototype.setContext = function(e) {
    this._ctx = e;
  }, r.prototype.getContext = function() {
    return this._ctx;
  }, r.prototype.beginPath = function() {
    return this._ctx && this._ctx.beginPath(), this.reset(), this;
  }, r.prototype.reset = function() {
    this._saveData && (this._len = 0), this._pathSegLen && (this._pathSegLen = null, this._pathLen = 0), this._version++;
  }, r.prototype.moveTo = function(e, t) {
    return this._drawPendingPt(), this.addData(Cn.M, e, t), this._ctx && this._ctx.moveTo(e, t), this._x0 = e, this._y0 = t, this._xi = e, this._yi = t, this;
  }, r.prototype.lineTo = function(e, t) {
    var i = Zl(e - this._xi), a = Zl(t - this._yi), n = i > this._ux || a > this._uy;
    if (this.addData(Cn.L, e, t), this._ctx && n && this._ctx.lineTo(e, t), n)
      this._xi = e, this._yi = t, this._pendingPtDist = 0;
    else {
      var o = i * i + a * a;
      o > this._pendingPtDist && (this._pendingPtX = e, this._pendingPtY = t, this._pendingPtDist = o);
    }
    return this;
  }, r.prototype.bezierCurveTo = function(e, t, i, a, n, o) {
    return this._drawPendingPt(), this.addData(Cn.C, e, t, i, a, n, o), this._ctx && this._ctx.bezierCurveTo(e, t, i, a, n, o), this._xi = n, this._yi = o, this;
  }, r.prototype.quadraticCurveTo = function(e, t, i, a) {
    return this._drawPendingPt(), this.addData(Cn.Q, e, t, i, a), this._ctx && this._ctx.quadraticCurveTo(e, t, i, a), this._xi = i, this._yi = a, this;
  }, r.prototype.arc = function(e, t, i, a, n, o) {
    this._drawPendingPt(), Wv[0] = a, Wv[1] = n, yS(Wv, o), a = Wv[0], n = Wv[1];
    var s = n - a;
    return this.addData(Cn.A, e, t, i, i, a, s, 0, o ? 0 : 1), this._ctx && this._ctx.arc(e, t, i, a, n, o), this._xi = Xh(n) * i + e, this._yi = Kh(n) * i + t, this;
  }, r.prototype.arcTo = function(e, t, i, a, n) {
    return this._drawPendingPt(), this._ctx && this._ctx.arcTo(e, t, i, a, n), this;
  }, r.prototype.rect = function(e, t, i, a) {
    return this._drawPendingPt(), this._ctx && this._ctx.rect(e, t, i, a), this.addData(Cn.R, e, t, i, a), this;
  }, r.prototype.closePath = function() {
    this._drawPendingPt(), this.addData(Cn.Z);
    var e = this._ctx, t = this._x0, i = this._y0;
    return e && e.closePath(), this._xi = t, this._yi = i, this;
  }, r.prototype.fill = function(e) {
    e && e.fill(), this.toStatic();
  }, r.prototype.stroke = function(e) {
    e && e.stroke(), this.toStatic();
  }, r.prototype.len = function() {
    return this._len;
  }, r.prototype.setData = function(e) {
    if (this._saveData) {
      var t = e.length;
      !(this.data && this.data.length === t) && A3 && (this.data = new Float32Array(t));
      for (var i = 0; i < t; i++)
        this.data[i] = e[i];
      this._len = t;
    }
  }, r.prototype.appendPath = function(e) {
    if (this._saveData) {
      e instanceof Array || (e = [e]);
      for (var t = e.length, i = 0, a = this._len, n = 0; n < t; n++)
        i += e[n].len();
      var o = this.data;
      if (A3 && (o instanceof Float32Array || !o) && (this.data = new Float32Array(a + i), a > 0 && o))
        for (var s = 0; s < a; s++)
          this.data[s] = o[s];
      for (var n = 0; n < t; n++)
        for (var l = e[n].data, s = 0; s < l.length; s++)
          this.data[a++] = l[s];
      this._len = a;
    }
  }, r.prototype.addData = function(e, t, i, a, n, o, s, l, u) {
    if (this._saveData) {
      var c = this.data;
      this._len + arguments.length > c.length && (this._expandData(), c = this.data);
      for (var f = 0; f < arguments.length; f++)
        c[this._len++] = arguments[f];
    }
  }, r.prototype._drawPendingPt = function() {
    this._pendingPtDist > 0 && (this._ctx && this._ctx.lineTo(this._pendingPtX, this._pendingPtY), this._pendingPtDist = 0);
  }, r.prototype._expandData = function() {
    if (!(this.data instanceof Array)) {
      for (var e = [], t = 0; t < this._len; t++)
        e[t] = this.data[t];
      this.data = e;
    }
  }, r.prototype.toStatic = function() {
    if (this._saveData) {
      this._drawPendingPt();
      var e = this.data;
      e instanceof Array && (e.length = this._len, A3 && this._len > 11 && (this.data = new Float32Array(e)));
    }
  }, r.prototype.getBoundingRect = function() {
    il[0] = il[1] = al[0] = al[1] = Number.MAX_VALUE, pc[0] = pc[1] = ol[0] = ol[1] = -Number.MAX_VALUE;
    var e = this.data, t = 0, i = 0, a = 0, n = 0, o;
    for (o = 0; o < this._len; ) {
      var s = e[o++], l = o === 1;
      switch (l && (t = e[o], i = e[o + 1], a = t, n = i), s) {
        case Cn.M:
          t = a = e[o++], i = n = e[o++], al[0] = a, al[1] = n, ol[0] = a, ol[1] = n;
          break;
        case Cn.L:
          UL(t, i, e[o], e[o + 1], al, ol), t = e[o++], i = e[o++];
          break;
        case Cn.C:
          wde(t, i, e[o++], e[o++], e[o++], e[o++], e[o], e[o + 1], al, ol), t = e[o++], i = e[o++];
          break;
        case Cn.Q:
          Sde(t, i, e[o++], e[o++], e[o], e[o + 1], al, ol), t = e[o++], i = e[o++];
          break;
        case Cn.A:
          var u = e[o++], c = e[o++], f = e[o++], d = e[o++], p = e[o++], v = e[o++] + p;
          o += 1;
          var y = !e[o++];
          l && (a = Xh(p) * f + u, n = Kh(p) * d + c), xde(u, c, f, d, p, v, y, al, ol), t = Xh(v) * f + u, i = Kh(v) * d + c;
          break;
        case Cn.R:
          a = t = e[o++], n = i = e[o++];
          var _ = e[o++], w = e[o++];
          UL(a, n, a + _, n + w, al, ol);
          break;
        case Cn.Z:
          t = a, i = n;
          break;
      }
      mu(il, il, al), yu(pc, pc, ol);
    }
    return o === 0 && (il[0] = il[1] = pc[0] = pc[1] = 0), new Jt(il[0], il[1], pc[0] - il[0], pc[1] - il[1]);
  }, r.prototype._calculateLength = function() {
    var e = this.data, t = this._len, i = this._ux, a = this._uy, n = 0, o = 0, s = 0, l = 0;
    this._pathSegLen || (this._pathSegLen = []);
    for (var u = this._pathSegLen, c = 0, f = 0, d = 0; d < t; ) {
      var p = e[d++], v = d === 1;
      v && (n = e[d], o = e[d + 1], s = n, l = o);
      var y = -1;
      switch (p) {
        case Cn.M:
          n = s = e[d++], o = l = e[d++];
          break;
        case Cn.L: {
          var _ = e[d++], w = e[d++], S = _ - n, x = w - o;
          (Zl(S) > i || Zl(x) > a || d === t - 1) && (y = Math.sqrt(S * S + x * x), n = _, o = w);
          break;
        }
        case Cn.C: {
          var E = e[d++], M = e[d++], _ = e[d++], w = e[d++], k = e[d++], P = e[d++];
          y = Ehe(n, o, E, M, _, w, k, P, 10), n = k, o = P;
          break;
        }
        case Cn.Q: {
          var E = e[d++], M = e[d++], _ = e[d++], w = e[d++];
          y = khe(n, o, E, M, _, w, 10), n = _, o = w;
          break;
        }
        case Cn.A:
          var L = e[d++], F = e[d++], O = e[d++], U = e[d++], V = e[d++], G = e[d++], Z = G + V;
          d += 1, v && (s = Xh(V) * O + L, l = Kh(V) * U + F), y = C3(O, U) * T3(Ac, Math.abs(G)), n = Xh(Z) * O + L, o = Kh(Z) * U + F;
          break;
        case Cn.R: {
          s = n = e[d++], l = o = e[d++];
          var Q = e[d++], se = e[d++];
          y = Q * 2 + se * 2;
          break;
        }
        case Cn.Z: {
          var S = s - n, x = l - o;
          y = Math.sqrt(S * S + x * x), n = s, o = l;
          break;
        }
      }
      y >= 0 && (u[f++] = y, c += y);
    }
    return this._pathLen = c, c;
  }, r.prototype.rebuildPath = function(e, t) {
    var i = this.data, a = this._ux, n = this._uy, o = this._len, s, l, u, c, f, d, p = t < 1, v, y, _ = 0, w = 0, S, x = 0, E, M;
    if (!(p && (this._pathSegLen || this._calculateLength(), v = this._pathSegLen, y = this._pathLen, S = t * y, !S)))
      e:
        for (var k = 0; k < o; ) {
          var P = i[k++], L = k === 1;
          switch (L && (u = i[k], c = i[k + 1], s = u, l = c), P !== Cn.L && x > 0 && (e.lineTo(E, M), x = 0), P) {
            case Cn.M:
              s = u = i[k++], l = c = i[k++], e.moveTo(u, c);
              break;
            case Cn.L: {
              f = i[k++], d = i[k++];
              var F = Zl(f - u), O = Zl(d - c);
              if (F > a || O > n) {
                if (p) {
                  var U = v[w++];
                  if (_ + U > S) {
                    var V = (S - _) / U;
                    e.lineTo(u * (1 - V) + f * V, c * (1 - V) + d * V);
                    break e;
                  }
                  _ += U;
                }
                e.lineTo(f, d), u = f, c = d, x = 0;
              } else {
                var G = F * F + O * O;
                G > x && (E = f, M = d, x = G);
              }
              break;
            }
            case Cn.C: {
              var Z = i[k++], Q = i[k++], se = i[k++], de = i[k++], le = i[k++], Se = i[k++];
              if (p) {
                var U = v[w++];
                if (_ + U > S) {
                  var V = (S - _) / U;
                  Xc(u, Z, se, le, V, jh), Xc(c, Q, de, Se, V, qh), e.bezierCurveTo(jh[1], qh[1], jh[2], qh[2], jh[3], qh[3]);
                  break e;
                }
                _ += U;
              }
              e.bezierCurveTo(Z, Q, se, de, le, Se), u = le, c = Se;
              break;
            }
            case Cn.Q: {
              var Z = i[k++], Q = i[k++], se = i[k++], de = i[k++];
              if (p) {
                var U = v[w++];
                if (_ + U > S) {
                  var V = (S - _) / U;
                  s1(u, Z, se, V, jh), s1(c, Q, de, V, qh), e.quadraticCurveTo(jh[1], qh[1], jh[2], qh[2]);
                  break e;
                }
                _ += U;
              }
              e.quadraticCurveTo(Z, Q, se, de), u = se, c = de;
              break;
            }
            case Cn.A:
              var he = i[k++], fe = i[k++], K = i[k++], we = i[k++], ve = i[k++], De = i[k++], Ie = i[k++], q = !i[k++], re = K > we ? K : we, be = Zl(K - we) > 1e-3, te = ve + De, ne = !1;
              if (p) {
                var U = v[w++];
                _ + U > S && (te = ve + De * (S - _) / U, ne = !0), _ += U;
              }
              if (be && e.ellipse ? e.ellipse(he, fe, K, we, Ie, ve, te, q) : e.arc(he, fe, re, ve, te, q), ne)
                break e;
              L && (s = Xh(ve) * K + he, l = Kh(ve) * we + fe), u = Xh(te) * K + he, c = Kh(te) * we + fe;
              break;
            case Cn.R:
              s = u = i[k], l = c = i[k + 1], f = i[k++], d = i[k++];
              var ie = i[k++], xe = i[k++];
              if (p) {
                var U = v[w++];
                if (_ + U > S) {
                  var ge = S - _;
                  e.moveTo(f, d), e.lineTo(f + T3(ge, ie), d), ge -= ie, ge > 0 && e.lineTo(f + ie, d + T3(ge, xe)), ge -= xe, ge > 0 && e.lineTo(f + C3(ie - ge, 0), d + xe), ge -= ie, ge > 0 && e.lineTo(f, d + C3(xe - ge, 0));
                  break e;
                }
                _ += U;
              }
              e.rect(f, d, ie, xe);
              break;
            case Cn.Z:
              if (p) {
                var U = v[w++];
                if (_ + U > S) {
                  var V = (S - _) / U;
                  e.lineTo(u * (1 - V) + s * V, c * (1 - V) + l * V);
                  break e;
                }
                _ += U;
              }
              e.closePath(), u = s, c = l;
          }
        }
  }, r.prototype.clone = function() {
    var e = new r(), t = this.data;
    return e.data = t.slice ? t.slice() : Array.prototype.slice.call(t), e._len = this._len, e;
  }, r.prototype.canSave = function() {
    return !!this._saveData;
  }, r.CMD = Cn, r.initDefaultProps = function() {
    var e = r.prototype;
    e._saveData = !0, e._ux = 0, e._uy = 0, e._pendingPtDist = 0, e._version = 0;
  }(), r;
}();
const Il = Tde;
function Dc(r, e, t, i, a, n, o) {
  if (a === 0)
    return !1;
  var s = a, l = 0, u = r;
  if (o > e + s && o > i + s || o < e - s && o < i - s || n > r + s && n > t + s || n < r - s && n < t - s)
    return !1;
  if (r !== t)
    l = (e - i) / (r - t), u = (r * i - t * e) / (r - t);
  else
    return Math.abs(n - r) <= s / 2;
  var c = l * n - o + u, f = c * c / (l * l + 1);
  return f <= s / 2 * s / 2;
}
function Cde(r, e, t, i, a, n, o, s, l, u, c) {
  if (l === 0)
    return !1;
  var f = l;
  if (c > e + f && c > i + f && c > n + f && c > s + f || c < e - f && c < i - f && c < n - f && c < s - f || u > r + f && u > t + f && u > a + f && u > o + f || u < r - f && u < t - f && u < a - f && u < o - f)
    return !1;
  var d = v$(r, e, t, i, a, n, o, s, u, c, null);
  return d <= f / 2;
}
function tY(r, e, t, i, a, n, o, s, l) {
  if (o === 0)
    return !1;
  var u = o;
  if (l > e + u && l > i + u && l > n + u || l < e - u && l < i - u && l < n - u || s > r + u && s > t + u && s > a + u || s < r - u && s < t - u && s < a - u)
    return !1;
  var c = m$(r, e, t, i, a, n, s, l, null);
  return c <= u / 2;
}
var WL = Math.PI * 2;
function Do(r) {
  return r %= WL, r < 0 && (r += WL), r;
}
var Hv = Math.PI * 2;
function Ade(r, e, t, i, a, n, o, s, l) {
  if (o === 0)
    return !1;
  var u = o;
  s -= r, l -= e;
  var c = Math.sqrt(s * s + l * l);
  if (c - u > t || c + u < t)
    return !1;
  if (Math.abs(i - a) % Hv < 1e-4)
    return !0;
  if (n) {
    var f = i;
    i = Do(a), a = Do(f);
  } else
    i = Do(i), a = Do(a);
  i > a && (a += Hv);
  var d = Math.atan2(l, s);
  return d < 0 && (d += Hv), d >= i && d <= a || d + Hv >= i && d + Hv <= a;
}
function uu(r, e, t, i, a, n) {
  if (n > e && n > i || n < e && n < i || i === e)
    return 0;
  var o = (n - e) / (i - e), s = i < e ? 1 : -1;
  (o === 1 || o === 0) && (s = i < e ? 0.5 : -0.5);
  var l = o * (t - r) + r;
  return l === a ? 1 / 0 : l > a ? s : 0;
}
var vc = Il.CMD, Zh = Math.PI * 2, Ede = 1e-4;
function Dde(r, e) {
  return Math.abs(r - e) < Ede;
}
var Ja = [-1, -1, -1], Qo = [-1, -1];
function kde() {
  var r = Qo[0];
  Qo[0] = Qo[1], Qo[1] = r;
}
function Mde(r, e, t, i, a, n, o, s, l, u) {
  if (u > e && u > i && u > n && u > s || u < e && u < i && u < n && u < s)
    return 0;
  var c = F_(e, i, n, s, u, Ja);
  if (c === 0)
    return 0;
  for (var f = 0, d = -1, p = void 0, v = void 0, y = 0; y < c; y++) {
    var _ = Ja[y], w = _ === 0 || _ === 1 ? 0.5 : 1, S = qi(r, t, a, o, _);
    S < l || (d < 0 && (d = p$(e, i, n, s, Qo), Qo[1] < Qo[0] && d > 1 && kde(), p = qi(e, i, n, s, Qo[0]), d > 1 && (v = qi(e, i, n, s, Qo[1]))), d === 2 ? _ < Qo[0] ? f += p < e ? w : -w : _ < Qo[1] ? f += v < p ? w : -w : f += s < v ? w : -w : _ < Qo[0] ? f += p < e ? w : -w : f += s < p ? w : -w);
  }
  return f;
}
function Ide(r, e, t, i, a, n, o, s) {
  if (s > e && s > i && s > n || s < e && s < i && s < n)
    return 0;
  var l = Dhe(e, i, n, s, Ja);
  if (l === 0)
    return 0;
  var u = g$(e, i, n);
  if (u >= 0 && u <= 1) {
    for (var c = 0, f = ua(e, i, n, u), d = 0; d < l; d++) {
      var p = Ja[d] === 0 || Ja[d] === 1 ? 0.5 : 1, v = ua(r, t, a, Ja[d]);
      v < o || (Ja[d] < u ? c += f < e ? p : -p : c += n < f ? p : -p);
    }
    return c;
  } else {
    var p = Ja[0] === 0 || Ja[0] === 1 ? 0.5 : 1, v = ua(r, t, a, Ja[0]);
    return v < o ? 0 : n < e ? p : -p;
  }
}
function Pde(r, e, t, i, a, n, o, s) {
  if (s -= e, s > t || s < -t)
    return 0;
  var l = Math.sqrt(t * t - s * s);
  Ja[0] = -l, Ja[1] = l;
  var u = Math.abs(i - a);
  if (u < 1e-4)
    return 0;
  if (u >= Zh - 1e-4) {
    i = 0, a = Zh;
    var c = n ? 1 : -1;
    return o >= Ja[0] + r && o <= Ja[1] + r ? c : 0;
  }
  if (i > a) {
    var f = i;
    i = a, a = f;
  }
  i < 0 && (i += Zh, a += Zh);
  for (var d = 0, p = 0; p < 2; p++) {
    var v = Ja[p];
    if (v + r > o) {
      var y = Math.atan2(s, v), c = n ? 1 : -1;
      y < 0 && (y = Zh + y), (y >= i && y <= a || y + Zh >= i && y + Zh <= a) && (y > Math.PI / 2 && y < Math.PI * 1.5 && (c = -c), d += c);
    }
  }
  return d;
}
function rY(r, e, t, i, a) {
  for (var n = r.data, o = r.len(), s = 0, l = 0, u = 0, c = 0, f = 0, d, p, v = 0; v < o; ) {
    var y = n[v++], _ = v === 1;
    switch (y === vc.M && v > 1 && (t || (s += uu(l, u, c, f, i, a))), _ && (l = n[v], u = n[v + 1], c = l, f = u), y) {
      case vc.M:
        c = n[v++], f = n[v++], l = c, u = f;
        break;
      case vc.L:
        if (t) {
          if (Dc(l, u, n[v], n[v + 1], e, i, a))
            return !0;
        } else
          s += uu(l, u, n[v], n[v + 1], i, a) || 0;
        l = n[v++], u = n[v++];
        break;
      case vc.C:
        if (t) {
          if (Cde(l, u, n[v++], n[v++], n[v++], n[v++], n[v], n[v + 1], e, i, a))
            return !0;
        } else
          s += Mde(l, u, n[v++], n[v++], n[v++], n[v++], n[v], n[v + 1], i, a) || 0;
        l = n[v++], u = n[v++];
        break;
      case vc.Q:
        if (t) {
          if (tY(l, u, n[v++], n[v++], n[v], n[v + 1], e, i, a))
            return !0;
        } else
          s += Ide(l, u, n[v++], n[v++], n[v], n[v + 1], i, a) || 0;
        l = n[v++], u = n[v++];
        break;
      case vc.A:
        var w = n[v++], S = n[v++], x = n[v++], E = n[v++], M = n[v++], k = n[v++];
        v += 1;
        var P = !!(1 - n[v++]);
        d = Math.cos(M) * x + w, p = Math.sin(M) * E + S, _ ? (c = d, f = p) : s += uu(l, u, d, p, i, a);
        var L = (i - w) * E / x + w;
        if (t) {
          if (Ade(w, S, E, M, M + k, P, e, L, a))
            return !0;
        } else
          s += Pde(w, S, E, M, M + k, P, L, a);
        l = Math.cos(M + k) * x + w, u = Math.sin(M + k) * E + S;
        break;
      case vc.R:
        c = l = n[v++], f = u = n[v++];
        var F = n[v++], O = n[v++];
        if (d = c + F, p = f + O, t) {
          if (Dc(c, f, d, f, e, i, a) || Dc(d, f, d, p, e, i, a) || Dc(d, p, c, p, e, i, a) || Dc(c, p, c, f, e, i, a))
            return !0;
        } else
          s += uu(d, f, d, p, i, a), s += uu(c, p, c, f, i, a);
        break;
      case vc.Z:
        if (t) {
          if (Dc(l, u, c, f, e, i, a))
            return !0;
        } else
          s += uu(l, u, c, f, i, a);
        l = c, u = f;
        break;
    }
  }
  return !t && !Dde(u, f) && (s += uu(l, u, c, f, i, a) || 0), s !== 0;
}
function Rde(r, e, t) {
  return rY(r, 0, !1, e, t);
}
function Lde(r, e, t, i) {
  return rY(r, e, !0, t, i);
}
var $_ = Yt({
  fill: "#000",
  stroke: null,
  strokePercent: 1,
  fillOpacity: 1,
  strokeOpacity: 1,
  lineDashOffset: 0,
  lineWidth: 1,
  lineCap: "butt",
  miterLimit: 10,
  strokeNoScale: !1,
  strokeFirst: !1
}, zf), Ode = {
  style: Yt({
    fill: !0,
    stroke: !0,
    strokePercent: !0,
    fillOpacity: !0,
    strokeOpacity: !0,
    lineDashOffset: !0,
    lineWidth: !0,
    miterLimit: !0
  }, gS.style)
}, D3 = kl.concat([
  "invisible",
  "culling",
  "z",
  "z2",
  "zlevel",
  "parent"
]), Fde = function(r) {
  Nn(e, r);
  function e(t) {
    return r.call(this, t) || this;
  }
  return e.prototype.update = function() {
    var t = this;
    r.prototype.update.call(this);
    var i = this.style;
    if (i.decal) {
      var a = this._decalEl = this._decalEl || new e();
      a.buildPath === e.prototype.buildPath && (a.buildPath = function(l) {
        t.buildPath(l, t.shape);
      }), a.silent = !0;
      var n = a.style;
      for (var o in i)
        n[o] !== i[o] && (n[o] = i[o]);
      n.fill = i.fill ? i.decal : null, n.decal = null, n.shadowColor = null, i.strokeFirst && (n.stroke = null);
      for (var s = 0; s < D3.length; ++s)
        a[D3[s]] = this[D3[s]];
      a.__dirty |= To;
    } else
      this._decalEl && (this._decalEl = null);
  }, e.prototype.getDecalElement = function() {
    return this._decalEl;
  }, e.prototype._init = function(t) {
    var i = Ir(t);
    this.shape = this.getDefaultShape();
    var a = this.getDefaultStyle();
    a && this.useStyle(a);
    for (var n = 0; n < i.length; n++) {
      var o = i[n], s = t[o];
      o === "style" ? this.style ? $e(this.style, s) : this.useStyle(s) : o === "shape" ? $e(this.shape, s) : r.prototype.attrKV.call(this, o, s);
    }
    this.style || this.useStyle({});
  }, e.prototype.getDefaultStyle = function() {
    return null;
  }, e.prototype.getDefaultShape = function() {
    return {};
  }, e.prototype.canBeInsideText = function() {
    return this.hasFill();
  }, e.prototype.getInsideTextFill = function() {
    var t = this.style.fill;
    if (t !== "none") {
      if (vt(t)) {
        var i = c1(t, 0);
        return i > 0.5 ? OA : i > 0.2 ? hfe : FA;
      } else if (t)
        return FA;
    }
    return OA;
  }, e.prototype.getInsideTextStroke = function(t) {
    var i = this.style.fill;
    if (vt(i)) {
      var a = this.__zr, n = !!(a && a.isDarkMode()), o = c1(t, 0) < LA;
      if (n === o)
        return i;
    }
  }, e.prototype.buildPath = function(t, i, a) {
  }, e.prototype.pathUpdated = function() {
    this.__dirty &= ~Ip;
  }, e.prototype.getUpdatedPathProxy = function(t) {
    return !this.path && this.createPathProxy(), this.path.beginPath(), this.buildPath(this.path, this.shape, t), this.path;
  }, e.prototype.createPathProxy = function() {
    this.path = new Il(!1);
  }, e.prototype.hasStroke = function() {
    var t = this.style, i = t.stroke;
    return !(i == null || i === "none" || !(t.lineWidth > 0));
  }, e.prototype.hasFill = function() {
    var t = this.style, i = t.fill;
    return i != null && i !== "none";
  }, e.prototype.getBoundingRect = function() {
    var t = this._rect, i = this.style, a = !t;
    if (a) {
      var n = !1;
      this.path || (n = !0, this.createPathProxy());
      var o = this.path;
      (n || this.__dirty & Ip) && (o.beginPath(), this.buildPath(o, this.shape, !1), this.pathUpdated()), t = o.getBoundingRect();
    }
    if (this._rect = t, this.hasStroke() && this.path && this.path.len() > 0) {
      var s = this._rectStroke || (this._rectStroke = t.clone());
      if (this.__dirty || a) {
        s.copy(t);
        var l = i.strokeNoScale ? this.getLineScale() : 1, u = i.lineWidth;
        if (!this.hasFill()) {
          var c = this.strokeContainThreshold;
          u = Math.max(u, c ?? 4);
        }
        l > 1e-10 && (s.width += u / l, s.height += u / l, s.x -= u / l / 2, s.y -= u / l / 2);
      }
      return s;
    }
    return t;
  }, e.prototype.contain = function(t, i) {
    var a = this.transformCoordToLocal(t, i), n = this.getBoundingRect(), o = this.style;
    if (t = a[0], i = a[1], n.contain(t, i)) {
      var s = this.path;
      if (this.hasStroke()) {
        var l = o.lineWidth, u = o.strokeNoScale ? this.getLineScale() : 1;
        if (u > 1e-10 && (this.hasFill() || (l = Math.max(l, this.strokeContainThreshold)), Lde(s, l / u, t, i)))
          return !0;
      }
      if (this.hasFill())
        return Rde(s, t, i);
    }
    return !1;
  }, e.prototype.dirtyShape = function() {
    this.__dirty |= Ip, this._rect && (this._rect = null), this._decalEl && this._decalEl.dirtyShape(), this.markRedraw();
  }, e.prototype.dirty = function() {
    this.dirtyStyle(), this.dirtyShape();
  }, e.prototype.animateShape = function(t) {
    return this.animate("shape", t);
  }, e.prototype.updateDuringAnimation = function(t) {
    t === "style" ? this.dirtyStyle() : t === "shape" ? this.dirtyShape() : this.markRedraw();
  }, e.prototype.attrKV = function(t, i) {
    t === "shape" ? this.setShape(i) : r.prototype.attrKV.call(this, t, i);
  }, e.prototype.setShape = function(t, i) {
    var a = this.shape;
    return a || (a = this.shape = {}), typeof t == "string" ? a[t] = i : $e(a, t), this.dirtyShape(), this;
  }, e.prototype.shapeChanged = function() {
    return !!(this.__dirty & Ip);
  }, e.prototype.createStyle = function(t) {
    return K1($_, t);
  }, e.prototype._innerSaveToNormal = function(t) {
    r.prototype._innerSaveToNormal.call(this, t);
    var i = this._normalState;
    t.shape && !i.shape && (i.shape = $e({}, this.shape));
  }, e.prototype._applyStateObj = function(t, i, a, n, o, s) {
    r.prototype._applyStateObj.call(this, t, i, a, n, o, s);
    var l = !(i && n), u;
    if (i && i.shape ? o ? n ? u = i.shape : (u = $e({}, a.shape), $e(u, i.shape)) : (u = $e({}, n ? this.shape : a.shape), $e(u, i.shape)) : l && (u = a.shape), u)
      if (o) {
        this.shape = $e({}, this.shape);
        for (var c = {}, f = Ir(u), d = 0; d < f.length; d++) {
          var p = f[d];
          typeof u[p] == "object" ? this.shape[p] = u[p] : c[p] = u[p];
        }
        this._transitionState(t, {
          shape: c
        }, s);
      } else
        this.shape = u, this.dirtyShape();
  }, e.prototype._mergeStates = function(t) {
    for (var i = r.prototype._mergeStates.call(this, t), a, n = 0; n < t.length; n++) {
      var o = t[n];
      o.shape && (a = a || {}, this._mergeStyle(a, o.shape));
    }
    return a && (i.shape = a), i;
  }, e.prototype.getAnimationStyleProps = function() {
    return Ode;
  }, e.prototype.isZeroArea = function() {
    return !1;
  }, e.extend = function(t) {
    var i = function(n) {
      Nn(o, n);
      function o(s) {
        var l = n.call(this, s) || this;
        return t.init && t.init.call(l, s), l;
      }
      return o.prototype.getDefaultStyle = function() {
        return Gt(t.style);
      }, o.prototype.getDefaultShape = function() {
        return Gt(t.shape);
      }, o;
    }(e);
    for (var a in t)
      typeof t[a] == "function" && (i.prototype[a] = t[a]);
    return i;
  }, e.initDefaultProps = function() {
    var t = e.prototype;
    t.type = "path", t.strokeContainThreshold = 5, t.segmentIgnoreThreshold = 0, t.subPixelOptimize = !1, t.autoBatch = !1, t.__dirty = To | Tg | Ip;
  }(), e;
}(cs);
const Er = Fde;
var Nde = Yt({
  strokeFirst: !0,
  font: Nu,
  x: 0,
  y: 0,
  textAlign: "left",
  textBaseline: "top",
  miterLimit: 2
}, $_), nY = function(r) {
  Nn(e, r);
  function e() {
    return r !== null && r.apply(this, arguments) || this;
  }
  return e.prototype.hasStroke = function() {
    return eY(this.style);
  }, e.prototype.hasFill = function() {
    var t = this.style, i = t.fill;
    return i != null && i !== "none";
  }, e.prototype.createStyle = function(t) {
    return K1(Nde, t);
  }, e.prototype.setBoundingRect = function(t) {
    this._rect = t;
  }, e.prototype.getBoundingRect = function() {
    return this._rect || (this._rect = mde(this.style)), this._rect;
  }, e.initDefaultProps = function() {
    var t = e.prototype;
    t.dirtyRectTolerance = 10;
  }(), e;
}(cs);
nY.prototype.type = "tspan";
const f1 = nY;
var Bde = Yt({
  x: 0,
  y: 0
}, zf), Vde = {
  style: Yt({
    x: !0,
    y: !0,
    width: !0,
    height: !0,
    sx: !0,
    sy: !0,
    sWidth: !0,
    sHeight: !0
  }, gS.style)
};
function Ude(r) {
  return !!(r && typeof r != "string" && r.width && r.height);
}
var iY = function(r) {
  Nn(e, r);
  function e() {
    return r !== null && r.apply(this, arguments) || this;
  }
  return e.prototype.createStyle = function(t) {
    return K1(Bde, t);
  }, e.prototype._getSize = function(t) {
    var i = this.style, a = i[t];
    if (a != null)
      return a;
    var n = Ude(i.image) ? i.image : this.__image;
    if (!n)
      return 0;
    var o = t === "width" ? "height" : "width", s = i[o];
    return s == null ? n[t] : n[t] / n[o] * s;
  }, e.prototype.getWidth = function() {
    return this._getSize("width");
  }, e.prototype.getHeight = function() {
    return this._getSize("height");
  }, e.prototype.getAnimationStyleProps = function() {
    return Vde;
  }, e.prototype.getBoundingRect = function() {
    var t = this.style;
    return this._rect || (this._rect = new Jt(t.x || 0, t.y || 0, this.getWidth(), this.getHeight())), this._rect;
  }, e;
}(cs);
iY.prototype.type = "image";
const ha = iY;
function Gde(r, e) {
  var t = e.x, i = e.y, a = e.width, n = e.height, o = e.r, s, l, u, c;
  a < 0 && (t = t + a, a = -a), n < 0 && (i = i + n, n = -n), typeof o == "number" ? s = l = u = c = o : o instanceof Array ? o.length === 1 ? s = l = u = c = o[0] : o.length === 2 ? (s = u = o[0], l = c = o[1]) : o.length === 3 ? (s = o[0], l = c = o[1], u = o[2]) : (s = o[0], l = o[1], u = o[2], c = o[3]) : s = l = u = c = 0;
  var f;
  s + l > a && (f = s + l, s *= a / f, l *= a / f), u + c > a && (f = u + c, u *= a / f, c *= a / f), l + u > n && (f = l + u, l *= n / f, u *= n / f), s + c > n && (f = s + c, s *= n / f, c *= n / f), r.moveTo(t + s, i), r.lineTo(t + a - l, i), l !== 0 && r.arc(t + a - l, i + l, l, -Math.PI / 2, 0), r.lineTo(t + a, i + n - u), u !== 0 && r.arc(t + a - u, i + n - u, u, 0, Math.PI / 2), r.lineTo(t + c, i + n), c !== 0 && r.arc(t + c, i + n - c, c, Math.PI / 2, Math.PI), r.lineTo(t, i + s), s !== 0 && r.arc(t + s, i + s, s, Math.PI, Math.PI * 1.5);
}
var Vp = Math.round;
function _S(r, e, t) {
  if (e) {
    var i = e.x1, a = e.x2, n = e.y1, o = e.y2;
    r.x1 = i, r.x2 = a, r.y1 = n, r.y2 = o;
    var s = t && t.lineWidth;
    return s && (Vp(i * 2) === Vp(a * 2) && (r.x1 = r.x2 = ko(i, s, !0)), Vp(n * 2) === Vp(o * 2) && (r.y1 = r.y2 = ko(n, s, !0))), r;
  }
}
function aY(r, e, t) {
  if (e) {
    var i = e.x, a = e.y, n = e.width, o = e.height;
    r.x = i, r.y = a, r.width = n, r.height = o;
    var s = t && t.lineWidth;
    return s && (r.x = ko(i, s, !0), r.y = ko(a, s, !0), r.width = Math.max(ko(i + n, s, !1) - r.x, n === 0 ? 0 : 1), r.height = Math.max(ko(a + o, s, !1) - r.y, o === 0 ? 0 : 1)), r;
  }
}
function ko(r, e, t) {
  if (!e)
    return r;
  var i = Vp(r * 2);
  return (i + Vp(e)) % 2 === 0 ? i / 2 : (i + (t ? 1 : -1)) / 2;
}
var zde = function() {
  function r() {
    this.x = 0, this.y = 0, this.width = 0, this.height = 0;
  }
  return r;
}(), Wde = {}, oY = function(r) {
  Nn(e, r);
  function e(t) {
    return r.call(this, t) || this;
  }
  return e.prototype.getDefaultShape = function() {
    return new zde();
  }, e.prototype.buildPath = function(t, i) {
    var a, n, o, s;
    if (this.subPixelOptimize) {
      var l = aY(Wde, i, this.style);
      a = l.x, n = l.y, o = l.width, s = l.height, l.r = i.r, i = l;
    } else
      a = i.x, n = i.y, o = i.width, s = i.height;
    i.r ? Gde(t, i) : t.rect(a, n, o, s);
  }, e.prototype.isZeroArea = function() {
    return !this.shape.width || !this.shape.height;
  }, e;
}(Er);
oY.prototype.type = "rect";
const Cr = oY;
var HL = {
  fill: "#000"
}, $L = 2, sl = {}, Hde = {
  style: Yt({
    fill: !0,
    stroke: !0,
    fillOpacity: !0,
    strokeOpacity: !0,
    lineWidth: !0,
    fontSize: !0,
    lineHeight: !0,
    width: !0,
    height: !0,
    textShadowColor: !0,
    textShadowBlur: !0,
    textShadowOffsetX: !0,
    textShadowOffsetY: !0,
    backgroundColor: !0,
    padding: !0,
    borderColor: !0,
    borderWidth: !0,
    borderRadius: !0
  }, gS.style)
}, sY = function(r) {
  Nn(e, r);
  function e(t) {
    var i = r.call(this) || this;
    return i.type = "text", i._children = [], i._defaultStyle = HL, i.attr(t), i;
  }
  return e.prototype.childrenRef = function() {
    return this._children;
  }, e.prototype.update = function() {
    r.prototype.update.call(this), this.styleChanged() && this._updateSubTexts();
    for (var t = 0; t < this._children.length; t++) {
      var i = this._children[t];
      i.zlevel = this.zlevel, i.z = this.z, i.z2 = this.z2, i.culling = this.culling, i.cursor = this.cursor, i.invisible = this.invisible;
    }
  }, e.prototype.updateTransform = function() {
    var t = this.innerTransformable;
    t ? (t.updateTransform(), t.transform && (this.transform = t.transform)) : r.prototype.updateTransform.call(this);
  }, e.prototype.getLocalTransform = function(t) {
    var i = this.innerTransformable;
    return i ? i.getLocalTransform(t) : r.prototype.getLocalTransform.call(this, t);
  }, e.prototype.getComputedTransform = function() {
    return this.__hostTarget && (this.__hostTarget.getComputedTransform(), this.__hostTarget.updateInnerText(!0)), r.prototype.getComputedTransform.call(this);
  }, e.prototype._updateSubTexts = function() {
    this._childCursor = 0, jde(this.style), this.style.rich ? this._updateRichTexts() : this._updatePlainTexts(), this._children.length = this._childCursor, this.styleUpdated();
  }, e.prototype.addSelfToZr = function(t) {
    r.prototype.addSelfToZr.call(this, t);
    for (var i = 0; i < this._children.length; i++)
      this._children[i].__zr = t;
  }, e.prototype.removeSelfFromZr = function(t) {
    r.prototype.removeSelfFromZr.call(this, t);
    for (var i = 0; i < this._children.length; i++)
      this._children[i].__zr = null;
  }, e.prototype.getBoundingRect = function() {
    if (this.styleChanged() && this._updateSubTexts(), !this._rect) {
      for (var t = new Jt(0, 0, 0, 0), i = this._children, a = [], n = null, o = 0; o < i.length; o++) {
        var s = i[o], l = s.getBoundingRect(), u = s.getLocalTransform(a);
        u ? (t.copy(l), t.applyTransform(u), n = n || t.clone(), n.union(t)) : (n = n || l.clone(), n.union(l));
      }
      this._rect = n || t;
    }
    return this._rect;
  }, e.prototype.setDefaultTextStyle = function(t) {
    this._defaultStyle = t || HL;
  }, e.prototype.setTextContent = function(t) {
    if (process.env.NODE_ENV !== "production")
      throw new Error("Can't attach text on another text");
  }, e.prototype._mergeStyle = function(t, i) {
    if (!i)
      return t;
    var a = i.rich, n = t.rich || a && {};
    return $e(t, i), a && n ? (this._mergeRich(n, a), t.rich = n) : n && (t.rich = n), t;
  }, e.prototype._mergeRich = function(t, i) {
    for (var a = Ir(i), n = 0; n < a.length; n++) {
      var o = a[n];
      t[o] = t[o] || {}, $e(t[o], i[o]);
    }
  }, e.prototype.getAnimationStyleProps = function() {
    return Hde;
  }, e.prototype._getOrCreateChild = function(t) {
    var i = this._children[this._childCursor];
    return (!i || !(i instanceof t)) && (i = new t()), this._children[this._childCursor++] = i, i.__zr = this.__zr, i.parent = this, i;
  }, e.prototype._updatePlainTexts = function() {
    var t = this.style, i = t.font || Nu, a = t.padding, n = this._defaultStyle, o = t.x || 0, s = t.y || 0, l = t.align || n.align || "left", u = t.verticalAlign || n.verticalAlign || "top";
    FL(sl, n.overflowRect, o, s, l, u), o = sl.baseX, s = sl.baseY;
    var c = JL(t), f = cde(c, t, sl.outerWidth, sl.outerHeight), d = k3(t), p = !!t.backgroundColor, v = f.outerHeight, y = f.outerWidth, _ = f.lines, w = f.lineHeight;
    this.isTruncated = !!f.isTruncated;
    var S = o, x = Gf(s, f.contentHeight, u);
    if (d || a) {
      var E = a0(o, y, l), M = Gf(s, v, u);
      d && this._renderBackground(t, t, E, M, y, v);
    }
    x += w / 2, a && (S = ZL(o, l, a), u === "top" ? x += a[0] : u === "bottom" && (x -= a[2]));
    for (var k = 0, P = !1, L = !1, F = KL("fill" in t ? t.fill : (L = !0, n.fill)), O = XL("stroke" in t ? t.stroke : !p && (!n.autoStroke || L) ? (k = $L, P = !0, n.stroke) : null), U = t.textShadowBlur > 0, V = 0; V < _.length; V++) {
      var G = this._getOrCreateChild(f1), Z = G.createStyle();
      G.useStyle(Z), Z.text = _[V], Z.x = S, Z.y = x, l && (Z.textAlign = l), Z.textBaseline = "middle", Z.opacity = t.opacity, Z.strokeFirst = !0, U && (Z.shadowBlur = t.textShadowBlur || 0, Z.shadowColor = t.textShadowColor || "transparent", Z.shadowOffsetX = t.textShadowOffsetX || 0, Z.shadowOffsetY = t.textShadowOffsetY || 0), Z.stroke = O, Z.fill = F, O && (Z.lineWidth = t.lineWidth || k, Z.lineDash = t.lineDash, Z.lineDashOffset = t.lineDashOffset || 0), Z.font = i, jL(Z, t), x += w, G.setBoundingRect(WA(Z, f.contentWidth, f.calculatedLineHeight, P ? 0 : null));
    }
  }, e.prototype._updateRichTexts = function() {
    var t = this.style, i = this._defaultStyle, a = t.align || i.align, n = t.verticalAlign || i.verticalAlign, o = t.x || 0, s = t.y || 0;
    FL(sl, i.overflowRect, o, s, a, n), o = sl.baseX, s = sl.baseY;
    var l = JL(t), u = dde(l, t, sl.outerWidth, sl.outerHeight, a), c = u.width, f = u.outerWidth, d = u.outerHeight, p = t.padding;
    this.isTruncated = !!u.isTruncated;
    var v = a0(o, f, a), y = Gf(s, d, n), _ = v, w = y;
    p && (_ += p[3], w += p[0]);
    var S = _ + c;
    k3(t) && this._renderBackground(t, t, v, y, f, d);
    for (var x = !!t.backgroundColor, E = 0; E < u.lines.length; E++) {
      for (var M = u.lines[E], k = M.tokens, P = k.length, L = M.lineHeight, F = M.width, O = 0, U = _, V = S, G = P - 1, Z = void 0; O < P && (Z = k[O], !Z.align || Z.align === "left"); )
        this._placeToken(Z, t, L, w, U, "left", x), F -= Z.width, U += Z.width, O++;
      for (; G >= 0 && (Z = k[G], Z.align === "right"); )
        this._placeToken(Z, t, L, w, V, "right", x), F -= Z.width, V -= Z.width, G--;
      for (U += (c - (U - _) - (S - V) - F) / 2; O <= G; )
        Z = k[O], this._placeToken(Z, t, L, w, U + Z.width / 2, "center", x), U += Z.width, O++;
      w += L;
    }
  }, e.prototype._placeToken = function(t, i, a, n, o, s, l) {
    var u = i.rich[t.styleName] || {};
    u.text = t.text;
    var c = t.verticalAlign, f = n + a / 2;
    c === "top" ? f = n + t.height / 2 : c === "bottom" && (f = n + a - t.height / 2);
    var d = !t.isLineHolder && k3(u);
    d && this._renderBackground(u, i, s === "right" ? o - t.width : s === "center" ? o - t.width / 2 : o, f - t.height / 2, t.width, t.height);
    var p = !!u.backgroundColor, v = t.textPadding;
    v && (o = ZL(o, s, v), f -= t.height / 2 - v[0] - t.innerHeight / 2);
    var y = this._getOrCreateChild(f1), _ = y.createStyle();
    y.useStyle(_);
    var w = this._defaultStyle, S = !1, x = 0, E = !1, M = KL("fill" in u ? u.fill : "fill" in i ? i.fill : (S = !0, w.fill)), k = XL("stroke" in u ? u.stroke : "stroke" in i ? i.stroke : !p && !l && (!w.autoStroke || S) ? (x = $L, E = !0, w.stroke) : null), P = u.textShadowBlur > 0 || i.textShadowBlur > 0;
    _.text = t.text, _.x = o, _.y = f, P && (_.shadowBlur = u.textShadowBlur || i.textShadowBlur || 0, _.shadowColor = u.textShadowColor || i.textShadowColor || "transparent", _.shadowOffsetX = u.textShadowOffsetX || i.textShadowOffsetX || 0, _.shadowOffsetY = u.textShadowOffsetY || i.textShadowOffsetY || 0), _.textAlign = s, _.textBaseline = "middle", _.font = t.font || Nu, _.opacity = Ba(u.opacity, i.opacity, 1), jL(_, u), k && (_.lineWidth = Ba(u.lineWidth, i.lineWidth, x), _.lineDash = It(u.lineDash, i.lineDash), _.lineDashOffset = i.lineDashOffset || 0, _.stroke = k), M && (_.fill = M), y.setBoundingRect(WA(_, t.contentWidth, t.contentHeight, E ? 0 : null));
  }, e.prototype._renderBackground = function(t, i, a, n, o, s) {
    var l = t.backgroundColor, u = t.borderWidth, c = t.borderColor, f = l && l.image, d = l && !f, p = t.borderRadius, v = this, y, _;
    if (d || t.lineHeight || u && c) {
      y = this._getOrCreateChild(Cr), y.useStyle(y.createStyle()), y.style.fill = null;
      var w = y.shape;
      w.x = a, w.y = n, w.width = o, w.height = s, w.r = p, y.dirtyShape();
    }
    if (d) {
      var S = y.style;
      S.fill = l || null, S.fillOpacity = It(t.fillOpacity, 1);
    } else if (f) {
      _ = this._getOrCreateChild(ha), _.onload = function() {
        v.dirtyStyle();
      };
      var x = _.style;
      x.image = l.image, x.x = a, x.y = n, x.width = o, x.height = s;
    }
    if (u && c) {
      var S = y.style;
      S.lineWidth = u, S.stroke = c, S.strokeOpacity = It(t.strokeOpacity, 1), S.lineDash = t.borderDash, S.lineDashOffset = t.borderDashOffset || 0, y.strokeContainThreshold = 0, y.hasFill() && y.hasStroke() && (S.strokeFirst = !0, S.lineWidth *= 2);
    }
    var E = (y || _).style;
    E.shadowBlur = t.shadowBlur || 0, E.shadowColor = t.shadowColor || "transparent", E.shadowOffsetX = t.shadowOffsetX || 0, E.shadowOffsetY = t.shadowOffsetY || 0, E.opacity = Ba(t.opacity, i.opacity, 1);
  }, e.makeFont = function(t) {
    var i = "";
    return uY(t) && (i = [
      t.fontStyle,
      t.fontWeight,
      lY(t.fontSize),
      t.fontFamily || "sans-serif"
    ].join(" ")), i && Ao(i) || t.textFont || t.font;
  }, e;
}(cs), $de = { left: !0, right: 1, center: 1 }, Yde = { top: 1, bottom: 1, middle: 1 }, YL = ["fontStyle", "fontWeight", "fontSize", "fontFamily"];
function lY(r) {
  return typeof r == "string" && (r.indexOf("px") !== -1 || r.indexOf("rem") !== -1 || r.indexOf("em") !== -1) ? r : isNaN(+r) ? g8 + "px" : r + "px";
}
function jL(r, e) {
  for (var t = 0; t < YL.length; t++) {
    var i = YL[t], a = e[i];
    a != null && (r[i] = a);
  }
}
function uY(r) {
  return r.fontSize != null || r.fontFamily || r.fontWeight;
}
function jde(r) {
  return qL(r), J(r.rich, qL), r;
}
function qL(r) {
  if (r) {
    r.font = sY.makeFont(r);
    var e = r.align;
    e === "middle" && (e = "center"), r.align = e == null || $de[e] ? e : "left";
    var t = r.verticalAlign;
    t === "center" && (t = "middle"), r.verticalAlign = t == null || Yde[t] ? t : "top";
    var i = r.padding;
    i && (r.padding = X1(r.padding));
  }
}
function XL(r, e) {
  return r == null || e <= 0 || r === "transparent" || r === "none" ? null : r.image || r.colorStops ? "#000" : r;
}
function KL(r) {
  return r == null || r === "none" ? null : r.image || r.colorStops ? "#000" : r;
}
function ZL(r, e, t) {
  return e === "right" ? r - t[1] : e === "center" ? r + t[3] / 2 - t[1] / 2 : r + t[3];
}
function JL(r) {
  var e = r.text;
  return e != null && (e += ""), e;
}
function k3(r) {
  return !!(r.backgroundColor || r.lineHeight || r.borderWidth && r.borderColor);
}
const Br = sY;
var er = Ar(), YA = function(r, e, t, i) {
  if (i) {
    var a = er(i);
    a.dataIndex = t, a.dataType = e, a.seriesIndex = r, a.ssrType = "chart", i.type === "group" && i.traverse(function(n) {
      var o = er(n);
      o.seriesIndex = r, o.dataIndex = t, o.dataType = e, o.ssrType = "chart";
    });
  }
}, QL = 1, eO = {}, cY = Ar(), V8 = Ar(), U8 = 0, tm = 1, bS = 2, ro = ["emphasis", "blur", "select"], d1 = ["normal", "emphasis", "blur", "select"], R0 = 10, qde = 9, Wf = "highlight", t_ = "downplay", Y_ = "select", jA = "unselect", j_ = "toggleSelect", G8 = "selectchanged";
function ip(r) {
  return r != null && r !== "none";
}
function wS(r, e, t) {
  r.onHoverStateChange && (r.hoverState || 0) !== t && r.onHoverStateChange(e), r.hoverState = t;
}
function hY(r) {
  wS(r, "emphasis", bS);
}
function fY(r) {
  r.hoverState === bS && wS(r, "normal", U8);
}
function z8(r) {
  wS(r, "blur", tm);
}
function dY(r) {
  r.hoverState === tm && wS(r, "normal", U8);
}
function Xde(r) {
  r.selected = !0;
}
function Kde(r) {
  r.selected = !1;
}
function tO(r, e, t) {
  e(r, t);
}
function tc(r, e, t) {
  tO(r, e, t), r.isGroup && r.traverse(function(i) {
    tO(i, e, t);
  });
}
function q_(r, e) {
  switch (e) {
    case "emphasis":
      r.hoverState = bS;
      break;
    case "normal":
      r.hoverState = U8;
      break;
    case "blur":
      r.hoverState = tm;
      break;
    case "select":
      r.selected = !0;
  }
}
function Zde(r, e, t, i) {
  for (var a = r.style, n = {}, o = 0; o < e.length; o++) {
    var s = e[o], l = a[s];
    n[s] = l ?? (i && i[s]);
  }
  for (var o = 0; o < r.animators.length; o++) {
    var u = r.animators[o];
    u.__fromStateTransition && u.__fromStateTransition.indexOf(t) < 0 && u.targetName === "style" && u.saveTo(n, e);
  }
  return n;
}
function Jde(r, e, t, i) {
  var a = t && dr(t, "select") >= 0, n = !1;
  if (r instanceof Er) {
    var o = cY(r), s = a && o.selectFill || o.normalFill, l = a && o.selectStroke || o.normalStroke;
    if (ip(s) || ip(l)) {
      i = i || {};
      var u = i.style || {};
      u.fill === "inherit" ? (n = !0, i = $e({}, i), u = $e({}, u), u.fill = s) : !ip(u.fill) && ip(s) ? (n = !0, i = $e({}, i), u = $e({}, u), u.fill = B_(s)) : !ip(u.stroke) && ip(l) && (n || (i = $e({}, i), u = $e({}, u)), u.stroke = B_(l)), i.style = u;
    }
  }
  if (i && i.z2 == null) {
    n || (i = $e({}, i));
    var c = r.z2EmphasisLift;
    i.z2 = r.z2 + (c ?? R0);
  }
  return i;
}
function Qde(r, e, t) {
  if (t && t.z2 == null) {
    t = $e({}, t);
    var i = r.z2SelectLift;
    t.z2 = r.z2 + (i ?? qde);
  }
  return t;
}
function epe(r, e, t) {
  var i = dr(r.currentStates, e) >= 0, a = r.style.opacity, n = i ? null : Zde(r, ["opacity"], e, {
    opacity: 1
  });
  t = t || {};
  var o = t.style || {};
  return o.opacity == null && (t = $e({}, t), o = $e({
    // Already being applied 'emphasis'. DON'T mul opacity multiple times.
    opacity: i ? a : n.opacity * 0.1
  }, o), t.style = o), t;
}
function M3(r, e) {
  var t = this.states[r];
  if (this.style) {
    if (r === "emphasis")
      return Jde(this, r, e, t);
    if (r === "blur")
      return epe(this, r, t);
    if (r === "select")
      return Qde(this, r, t);
  }
  return t;
}
function ed(r) {
  r.stateProxy = M3;
  var e = r.getTextContent(), t = r.getTextGuideLine();
  e && (e.stateProxy = M3), t && (t.stateProxy = M3);
}
function rO(r, e) {
  !mY(r, e) && !r.__highByOuter && tc(r, hY);
}
function nO(r, e) {
  !mY(r, e) && !r.__highByOuter && tc(r, fY);
}
function Vu(r, e) {
  r.__highByOuter |= 1 << (e || 0), tc(r, hY);
}
function Uu(r, e) {
  !(r.__highByOuter &= ~(1 << (e || 0))) && tc(r, fY);
}
function pY(r) {
  tc(r, z8);
}
function W8(r) {
  tc(r, dY);
}
function vY(r) {
  tc(r, Xde);
}
function gY(r) {
  tc(r, Kde);
}
function mY(r, e) {
  return r.__highDownSilentOnTouch && e.zrByTouch;
}
function yY(r) {
  var e = r.getModel(), t = [], i = [];
  e.eachComponent(function(a, n) {
    var o = V8(n), s = a === "series", l = s ? r.getViewOfSeriesModel(n) : r.getViewOfComponentModel(n);
    !s && i.push(l), o.isBlured && (l.group.traverse(function(u) {
      dY(u);
    }), s && t.push(n)), o.isBlured = !1;
  }), J(i, function(a) {
    a && a.toggleBlurSeries && a.toggleBlurSeries(t, !1, e);
  });
}
function qA(r, e, t, i) {
  var a = i.getModel();
  t = t || "coordinateSystem";
  function n(u, c) {
    for (var f = 0; f < c.length; f++) {
      var d = u.getItemGraphicEl(c[f]);
      d && W8(d);
    }
  }
  if (r != null && !(!e || e === "none")) {
    var o = a.getSeriesByIndex(r), s = o.coordinateSystem;
    s && s.master && (s = s.master);
    var l = [];
    a.eachSeries(function(u) {
      var c = o === u, f = u.coordinateSystem;
      f && f.master && (f = f.master);
      var d = f && s ? f === s : c;
      if (!// Not blur other series if blurScope series
      (t === "series" && !c || t === "coordinateSystem" && !d || e === "series" && c)) {
        var p = i.getViewOfSeriesModel(u);
        if (p.group.traverse(function(_) {
          _.__highByOuter && c && e === "self" || z8(_);
        }), ba(e))
          n(u.getData(), e);
        else if (zt(e))
          for (var v = Ir(e), y = 0; y < v.length; y++)
            n(u.getData(v[y]), e[v[y]]);
        l.push(u), V8(u).isBlured = !0;
      }
    }), a.eachComponent(function(u, c) {
      if (u !== "series") {
        var f = i.getViewOfComponentModel(c);
        f && f.toggleBlurSeries && f.toggleBlurSeries(l, !0, a);
      }
    });
  }
}
function XA(r, e, t) {
  if (!(r == null || e == null)) {
    var i = t.getModel().getComponent(r, e);
    if (i) {
      V8(i).isBlured = !0;
      var a = t.getViewOfComponentModel(i);
      !a || !a.focusBlurEnabled || a.group.traverse(function(n) {
        z8(n);
      });
    }
  }
}
function tpe(r, e, t) {
  var i = r.seriesIndex, a = r.getData(e.dataType);
  if (!a) {
    process.env.NODE_ENV !== "production" && Nr("Unknown dataType " + e.dataType);
    return;
  }
  var n = Jf(a, e);
  n = (Ke(n) ? n[0] : n) || 0;
  var o = a.getItemGraphicEl(n);
  if (!o)
    for (var s = a.count(), l = 0; !o && l < s; )
      o = a.getItemGraphicEl(l++);
  if (o) {
    var u = er(o);
    qA(i, u.focus, u.blurScope, t);
  } else {
    var c = r.get(["emphasis", "focus"]), f = r.get(["emphasis", "blurScope"]);
    c != null && qA(i, c, f, t);
  }
}
function H8(r, e, t, i) {
  var a = {
    focusSelf: !1,
    dispatchers: null
  };
  if (r == null || r === "series" || e == null || t == null)
    return a;
  var n = i.getModel().getComponent(r, e);
  if (!n)
    return a;
  var o = i.getViewOfComponentModel(n);
  if (!o || !o.findHighDownDispatchers)
    return a;
  for (var s = o.findHighDownDispatchers(t), l, u = 0; u < s.length; u++)
    if (process.env.NODE_ENV !== "production" && !Kc(s[u]) && Nr("param should be highDownDispatcher"), er(s[u]).focus === "self") {
      l = !0;
      break;
    }
  return {
    focusSelf: l,
    dispatchers: s
  };
}
function rpe(r, e, t) {
  process.env.NODE_ENV !== "production" && !Kc(r) && Nr("param should be highDownDispatcher");
  var i = er(r), a = H8(i.componentMainType, i.componentIndex, i.componentHighDownName, t), n = a.dispatchers, o = a.focusSelf;
  n ? (o && XA(i.componentMainType, i.componentIndex, t), J(n, function(s) {
    return rO(s, e);
  })) : (qA(i.seriesIndex, i.focus, i.blurScope, t), i.focus === "self" && XA(i.componentMainType, i.componentIndex, t), rO(r, e));
}
function npe(r, e, t) {
  process.env.NODE_ENV !== "production" && !Kc(r) && Nr("param should be highDownDispatcher"), yY(t);
  var i = er(r), a = H8(i.componentMainType, i.componentIndex, i.componentHighDownName, t).dispatchers;
  a ? J(a, function(n) {
    return nO(n, e);
  }) : nO(r, e);
}
function ipe(r, e, t) {
  if (ZA(e)) {
    var i = e.dataType, a = r.getData(i), n = Jf(a, e);
    Ke(n) || (n = [n]), r[e.type === j_ ? "toggleSelect" : e.type === Y_ ? "select" : "unselect"](n, i);
  }
}
function iO(r) {
  var e = r.getAllData();
  J(e, function(t) {
    var i = t.data, a = t.type;
    i.eachItemGraphicEl(function(n, o) {
      r.isSelected(o, a) ? vY(n) : gY(n);
    });
  });
}
function ape(r) {
  var e = [];
  return r.eachSeries(function(t) {
    var i = t.getAllData();
    J(i, function(a) {
      a.data;
      var n = a.type, o = t.getSelectedDataIndices();
      if (o.length > 0) {
        var s = {
          dataIndex: o,
          seriesIndex: t.seriesIndex
        };
        n != null && (s.dataType = n), e.push(s);
      }
    });
  }), e;
}
function zc(r, e, t) {
  If(r, !0), tc(r, ed), KA(r, e, t);
}
function ope(r) {
  If(r, !1);
}
function Wn(r, e, t, i) {
  i ? ope(r) : zc(r, e, t);
}
function KA(r, e, t) {
  var i = er(r);
  e != null ? (i.focus = e, i.blurScope = t) : i.focus && (i.focus = null);
}
var aO = ["emphasis", "blur", "select"], spe = {
  itemStyle: "getItemStyle",
  lineStyle: "getLineStyle",
  areaStyle: "getAreaStyle"
};
function Gi(r, e, t, i) {
  t = t || "itemStyle";
  for (var a = 0; a < aO.length; a++) {
    var n = aO[a], o = e.getModel([n, t]), s = r.ensureState(n);
    s.style = i ? i(o) : o[spe[t]]();
  }
}
function If(r, e) {
  var t = e === !1, i = r;
  r.highDownSilentOnTouch && (i.__highDownSilentOnTouch = r.highDownSilentOnTouch), (!t || i.__highDownDispatcher) && (i.__highByOuter = i.__highByOuter || 0, i.__highDownDispatcher = !t);
}
function Kc(r) {
  return !!(r && r.__highDownDispatcher);
}
function lpe(r, e, t) {
  var i = er(r);
  i.componentMainType = e.mainType, i.componentIndex = e.componentIndex, i.componentHighDownName = t;
}
function upe(r) {
  var e = eO[r];
  return e == null && QL <= 32 && (e = eO[r] = QL++), e;
}
function ZA(r) {
  var e = r.type;
  return e === Y_ || e === jA || e === j_;
}
function oO(r) {
  var e = r.type;
  return e === Wf || e === t_;
}
function cpe(r) {
  var e = cY(r);
  e.normalFill = r.style.fill, e.normalStroke = r.style.stroke;
  var t = r.states.select || {};
  e.selectFill = t.style && t.style.fill || null, e.selectStroke = t.style && t.style.stroke || null;
}
var ap = Il.CMD, hpe = [[], [], []], sO = Math.sqrt, fpe = Math.atan2;
function _Y(r, e) {
  if (e) {
    var t = r.data, i = r.len(), a, n, o, s, l, u, c = ap.M, f = ap.C, d = ap.L, p = ap.R, v = ap.A, y = ap.Q;
    for (o = 0, s = 0; o < i; ) {
      switch (a = t[o++], s = o, n = 0, a) {
        case c:
          n = 1;
          break;
        case d:
          n = 1;
          break;
        case f:
          n = 3;
          break;
        case y:
          n = 2;
          break;
        case v:
          var _ = e[4], w = e[5], S = sO(e[0] * e[0] + e[1] * e[1]), x = sO(e[2] * e[2] + e[3] * e[3]), E = fpe(-e[1] / x, e[0] / S);
          t[o] *= S, t[o++] += _, t[o] *= x, t[o++] += w, t[o++] *= S, t[o++] *= x, t[o++] += E, t[o++] += E, o += 2, s = o;
          break;
        case p:
          u[0] = t[o++], u[1] = t[o++], li(u, u, e), t[s++] = u[0], t[s++] = u[1], u[0] += t[o++], u[1] += t[o++], li(u, u, e), t[s++] = u[0], t[s++] = u[1];
      }
      for (l = 0; l < n; l++) {
        var M = hpe[l];
        M[0] = t[o++], M[1] = t[o++], li(M, M, e), t[s++] = M[0], t[s++] = M[1];
      }
    }
    r.increaseVersion();
  }
}
var I3 = Math.sqrt, Ry = Math.sin, Ly = Math.cos, $v = Math.PI;
function lO(r) {
  return Math.sqrt(r[0] * r[0] + r[1] * r[1]);
}
function JA(r, e) {
  return (r[0] * e[0] + r[1] * e[1]) / (lO(r) * lO(e));
}
function uO(r, e) {
  return (r[0] * e[1] < r[1] * e[0] ? -1 : 1) * Math.acos(JA(r, e));
}
function cO(r, e, t, i, a, n, o, s, l, u, c) {
  var f = l * ($v / 180), d = Ly(f) * (r - t) / 2 + Ry(f) * (e - i) / 2, p = -1 * Ry(f) * (r - t) / 2 + Ly(f) * (e - i) / 2, v = d * d / (o * o) + p * p / (s * s);
  v > 1 && (o *= I3(v), s *= I3(v));
  var y = (a === n ? -1 : 1) * I3((o * o * (s * s) - o * o * (p * p) - s * s * (d * d)) / (o * o * (p * p) + s * s * (d * d))) || 0, _ = y * o * p / s, w = y * -s * d / o, S = (r + t) / 2 + Ly(f) * _ - Ry(f) * w, x = (e + i) / 2 + Ry(f) * _ + Ly(f) * w, E = uO([1, 0], [(d - _) / o, (p - w) / s]), M = [(d - _) / o, (p - w) / s], k = [(-1 * d - _) / o, (-1 * p - w) / s], P = uO(M, k);
  if (JA(M, k) <= -1 && (P = $v), JA(M, k) >= 1 && (P = 0), P < 0) {
    var L = Math.round(P / $v * 1e6) / 1e6;
    P = $v * 2 + L % 2 * $v;
  }
  c.addData(u, S, x, o, s, E, P, f, n);
}
var dpe = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig, ppe = /-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;
function vpe(r) {
  var e = new Il();
  if (!r)
    return e;
  var t = 0, i = 0, a = t, n = i, o, s = Il.CMD, l = r.match(dpe);
  if (!l)
    return e;
  for (var u = 0; u < l.length; u++) {
    for (var c = l[u], f = c.charAt(0), d = void 0, p = c.match(ppe) || [], v = p.length, y = 0; y < v; y++)
      p[y] = parseFloat(p[y]);
    for (var _ = 0; _ < v; ) {
      var w = void 0, S = void 0, x = void 0, E = void 0, M = void 0, k = void 0, P = void 0, L = t, F = i, O = void 0, U = void 0;
      switch (f) {
        case "l":
          t += p[_++], i += p[_++], d = s.L, e.addData(d, t, i);
          break;
        case "L":
          t = p[_++], i = p[_++], d = s.L, e.addData(d, t, i);
          break;
        case "m":
          t += p[_++], i += p[_++], d = s.M, e.addData(d, t, i), a = t, n = i, f = "l";
          break;
        case "M":
          t = p[_++], i = p[_++], d = s.M, e.addData(d, t, i), a = t, n = i, f = "L";
          break;
        case "h":
          t += p[_++], d = s.L, e.addData(d, t, i);
          break;
        case "H":
          t = p[_++], d = s.L, e.addData(d, t, i);
          break;
        case "v":
          i += p[_++], d = s.L, e.addData(d, t, i);
          break;
        case "V":
          i = p[_++], d = s.L, e.addData(d, t, i);
          break;
        case "C":
          d = s.C, e.addData(d, p[_++], p[_++], p[_++], p[_++], p[_++], p[_++]), t = p[_ - 2], i = p[_ - 1];
          break;
        case "c":
          d = s.C, e.addData(d, p[_++] + t, p[_++] + i, p[_++] + t, p[_++] + i, p[_++] + t, p[_++] + i), t += p[_ - 2], i += p[_ - 1];
          break;
        case "S":
          w = t, S = i, O = e.len(), U = e.data, o === s.C && (w += t - U[O - 4], S += i - U[O - 3]), d = s.C, L = p[_++], F = p[_++], t = p[_++], i = p[_++], e.addData(d, w, S, L, F, t, i);
          break;
        case "s":
          w = t, S = i, O = e.len(), U = e.data, o === s.C && (w += t - U[O - 4], S += i - U[O - 3]), d = s.C, L = t + p[_++], F = i + p[_++], t += p[_++], i += p[_++], e.addData(d, w, S, L, F, t, i);
          break;
        case "Q":
          L = p[_++], F = p[_++], t = p[_++], i = p[_++], d = s.Q, e.addData(d, L, F, t, i);
          break;
        case "q":
          L = p[_++] + t, F = p[_++] + i, t += p[_++], i += p[_++], d = s.Q, e.addData(d, L, F, t, i);
          break;
        case "T":
          w = t, S = i, O = e.len(), U = e.data, o === s.Q && (w += t - U[O - 4], S += i - U[O - 3]), t = p[_++], i = p[_++], d = s.Q, e.addData(d, w, S, t, i);
          break;
        case "t":
          w = t, S = i, O = e.len(), U = e.data, o === s.Q && (w += t - U[O - 4], S += i - U[O - 3]), t += p[_++], i += p[_++], d = s.Q, e.addData(d, w, S, t, i);
          break;
        case "A":
          x = p[_++], E = p[_++], M = p[_++], k = p[_++], P = p[_++], L = t, F = i, t = p[_++], i = p[_++], d = s.A, cO(L, F, t, i, k, P, x, E, M, d, e);
          break;
        case "a":
          x = p[_++], E = p[_++], M = p[_++], k = p[_++], P = p[_++], L = t, F = i, t += p[_++], i += p[_++], d = s.A, cO(L, F, t, i, k, P, x, E, M, d, e);
          break;
      }
    }
    (f === "z" || f === "Z") && (d = s.Z, e.addData(d), t = a, i = n), o = d;
  }
  return e.toStatic(), e;
}
var bY = function(r) {
  Nn(e, r);
  function e() {
    return r !== null && r.apply(this, arguments) || this;
  }
  return e.prototype.applyTransform = function(t) {
  }, e;
}(Er);
function wY(r) {
  return r.setData != null;
}
function SY(r, e) {
  var t = vpe(r), i = $e({}, e);
  return i.buildPath = function(a) {
    var n = wY(a);
    if (n && a.canSave()) {
      a.appendPath(t);
      var o = a.getContext();
      o && a.rebuildPath(o, 1);
    } else {
      var o = n ? a.getContext() : a;
      o && t.rebuildPath(o, 1);
    }
  }, i.applyTransform = function(a) {
    _Y(t, a), this.dirtyShape();
  }, i;
}
function xY(r, e) {
  return new bY(SY(r, e));
}
function gpe(r, e) {
  var t = SY(r, e), i = function(a) {
    Nn(n, a);
    function n(o) {
      var s = a.call(this, o) || this;
      return s.applyTransform = t.applyTransform, s.buildPath = t.buildPath, s;
    }
    return n;
  }(bY);
  return i;
}
function mpe(r, e) {
  for (var t = [], i = r.length, a = 0; a < i; a++) {
    var n = r[a];
    t.push(n.getUpdatedPathProxy(!0));
  }
  var o = new Er(e);
  return o.createPathProxy(), o.buildPath = function(s) {
    if (wY(s)) {
      s.appendPath(t);
      var l = s.getContext();
      l && s.rebuildPath(l, 1);
    }
  }, o;
}
function $8(r, e) {
  e = e || {};
  var t = new Er();
  return r.shape && t.setShape(r.shape), t.setStyle(r.style), e.bakeTransform ? _Y(t.path, r.getComputedTransform()) : e.toLocal ? t.setLocalTransform(r.getComputedTransform()) : t.copyTransform(r), t.buildPath = r.buildPath, t.applyTransform = t.applyTransform, t.z = r.z, t.z2 = r.z2, t.zlevel = r.zlevel, t;
}
var ype = function() {
  function r() {
    this.cx = 0, this.cy = 0, this.r = 0;
  }
  return r;
}(), TY = function(r) {
  Nn(e, r);
  function e(t) {
    return r.call(this, t) || this;
  }
  return e.prototype.getDefaultShape = function() {
    return new ype();
  }, e.prototype.buildPath = function(t, i) {
    t.moveTo(i.cx + i.r, i.cy), t.arc(i.cx, i.cy, i.r, 0, Math.PI * 2);
  }, e;
}(Er);
TY.prototype.type = "circle";
const rc = TY;
var _pe = function() {
  function r() {
    this.cx = 0, this.cy = 0, this.rx = 0, this.ry = 0;
  }
  return r;
}(), CY = function(r) {
  Nn(e, r);
  function e(t) {
    return r.call(this, t) || this;
  }
  return e.prototype.getDefaultShape = function() {
    return new _pe();
  }, e.prototype.buildPath = function(t, i) {
    var a = 0.5522848, n = i.cx, o = i.cy, s = i.rx, l = i.ry, u = s * a, c = l * a;
    t.moveTo(n - s, o), t.bezierCurveTo(n - s, o - c, n - u, o - l, n, o - l), t.bezierCurveTo(n + u, o - l, n + s, o - c, n + s, o), t.bezierCurveTo(n + s, o + c, n + u, o + l, n, o + l), t.bezierCurveTo(n - u, o + l, n - s, o + c, n - s, o), t.closePath();
  }, e;
}(Er);
CY.prototype.type = "ellipse";
const SS = CY;
var AY = Math.PI, P3 = AY * 2, Jh = Math.sin, op = Math.cos, bpe = Math.acos, La = Math.atan2, hO = Math.abs, Yg = Math.sqrt, Eg = Math.max, ll = Math.min, xs = 1e-4;
function wpe(r, e, t, i, a, n, o, s) {
  var l = t - r, u = i - e, c = o - a, f = s - n, d = f * l - c * u;
  if (!(d * d < xs))
    return d = (c * (e - n) - f * (r - a)) / d, [r + d * l, e + d * u];
}
function Oy(r, e, t, i, a, n, o) {
  var s = r - t, l = e - i, u = (o ? n : -n) / Yg(s * s + l * l), c = u * l, f = -u * s, d = r + c, p = e + f, v = t + c, y = i + f, _ = (d + v) / 2, w = (p + y) / 2, S = v - d, x = y - p, E = S * S + x * x, M = a - n, k = d * y - v * p, P = (x < 0 ? -1 : 1) * Yg(Eg(0, M * M * E - k * k)), L = (k * x - S * P) / E, F = (-k * S - x * P) / E, O = (k * x + S * P) / E, U = (-k * S + x * P) / E, V = L - _, G = F - w, Z = O - _, Q = U - w;
  return V * V + G * G > Z * Z + Q * Q && (L = O, F = U), {
    cx: L,
    cy: F,
    x0: -c,
    y0: -f,
    x1: L * (a / M - 1),
    y1: F * (a / M - 1)
  };
}
function Spe(r) {
  var e;
  if (Ke(r)) {
    var t = r.length;
    if (!t)
      return r;
    t === 1 ? e = [r[0], r[0], 0, 0] : t === 2 ? e = [r[0], r[0], r[1], r[1]] : t === 3 ? e = r.concat(r[2]) : e = r;
  } else
    e = [r, r, r, r];
  return e;
}
function xpe(r, e) {
  var t, i = Eg(e.r, 0), a = Eg(e.r0 || 0, 0), n = i > 0, o = a > 0;
  if (!(!n && !o)) {
    if (n || (i = a, a = 0), a > i) {
      var s = i;
      i = a, a = s;
    }
    var l = e.startAngle, u = e.endAngle;
    if (!(isNaN(l) || isNaN(u))) {
      var c = e.cx, f = e.cy, d = !!e.clockwise, p = hO(u - l), v = p > P3 && p % P3;
      if (v > xs && (p = v), !(i > xs))
        r.moveTo(c, f);
      else if (p > P3 - xs)
        r.moveTo(c + i * op(l), f + i * Jh(l)), r.arc(c, f, i, l, u, !d), a > xs && (r.moveTo(c + a * op(u), f + a * Jh(u)), r.arc(c, f, a, u, l, d));
      else {
        var y = void 0, _ = void 0, w = void 0, S = void 0, x = void 0, E = void 0, M = void 0, k = void 0, P = void 0, L = void 0, F = void 0, O = void 0, U = void 0, V = void 0, G = void 0, Z = void 0, Q = i * op(l), se = i * Jh(l), de = a * op(u), le = a * Jh(u), Se = p > xs;
        if (Se) {
          var he = e.cornerRadius;
          he && (t = Spe(he), y = t[0], _ = t[1], w = t[2], S = t[3]);
          var fe = hO(i - a) / 2;
          if (x = ll(fe, w), E = ll(fe, S), M = ll(fe, y), k = ll(fe, _), F = P = Eg(x, E), O = L = Eg(M, k), (P > xs || L > xs) && (U = i * op(u), V = i * Jh(u), G = a * op(l), Z = a * Jh(l), p < AY)) {
            var K = wpe(Q, se, G, Z, U, V, de, le);
            if (K) {
              var we = Q - K[0], ve = se - K[1], De = U - K[0], Ie = V - K[1], q = 1 / Jh(bpe((we * De + ve * Ie) / (Yg(we * we + ve * ve) * Yg(De * De + Ie * Ie))) / 2), re = Yg(K[0] * K[0] + K[1] * K[1]);
              F = ll(P, (i - re) / (q + 1)), O = ll(L, (a - re) / (q - 1));
            }
          }
        }
        if (!Se)
          r.moveTo(c + Q, f + se);
        else if (F > xs) {
          var be = ll(w, F), te = ll(S, F), ne = Oy(G, Z, Q, se, i, be, d), ie = Oy(U, V, de, le, i, te, d);
          r.moveTo(c + ne.cx + ne.x0, f + ne.cy + ne.y0), F < P && be === te ? r.arc(c + ne.cx, f + ne.cy, F, La(ne.y0, ne.x0), La(ie.y0, ie.x0), !d) : (be > 0 && r.arc(c + ne.cx, f + ne.cy, be, La(ne.y0, ne.x0), La(ne.y1, ne.x1), !d), r.arc(c, f, i, La(ne.cy + ne.y1, ne.cx + ne.x1), La(ie.cy + ie.y1, ie.cx + ie.x1), !d), te > 0 && r.arc(c + ie.cx, f + ie.cy, te, La(ie.y1, ie.x1), La(ie.y0, ie.x0), !d));
        } else
          r.moveTo(c + Q, f + se), r.arc(c, f, i, l, u, !d);
        if (!(a > xs) || !Se)
          r.lineTo(c + de, f + le);
        else if (O > xs) {
          var be = ll(y, O), te = ll(_, O), ne = Oy(de, le, U, V, a, -te, d), ie = Oy(Q, se, G, Z, a, -be, d);
          r.lineTo(c + ne.cx + ne.x0, f + ne.cy + ne.y0), O < L && be === te ? r.arc(c + ne.cx, f + ne.cy, O, La(ne.y0, ne.x0), La(ie.y0, ie.x0), !d) : (te > 0 && r.arc(c + ne.cx, f + ne.cy, te, La(ne.y0, ne.x0), La(ne.y1, ne.x1), !d), r.arc(c, f, a, La(ne.cy + ne.y1, ne.cx + ne.x1), La(ie.cy + ie.y1, ie.cx + ie.x1), d), be > 0 && r.arc(c + ie.cx, f + ie.cy, be, La(ie.y1, ie.x1), La(ie.y0, ie.x0), !d));
        } else
          r.lineTo(c + de, f + le), r.arc(c, f, a, u, l, d);
      }
      r.closePath();
    }
  }
}
var Tpe = function() {
  function r() {
    this.cx = 0, this.cy = 0, this.r0 = 0, this.r = 0, this.startAngle = 0, this.endAngle = Math.PI * 2, this.clockwise = !0, this.cornerRadius = 0;
  }
  return r;
}(), EY = function(r) {
  Nn(e, r);
  function e(t) {
    return r.call(this, t) || this;
  }
  return e.prototype.getDefaultShape = function() {
    return new Tpe();
  }, e.prototype.buildPath = function(t, i) {
    xpe(t, i);
  }, e.prototype.isZeroArea = function() {
    return this.shape.startAngle === this.shape.endAngle || this.shape.r === this.shape.r0;
  }, e;
}(Er);
EY.prototype.type = "sector";
const Wa = EY;
var Cpe = function() {
  function r() {
    this.cx = 0, this.cy = 0, this.r = 0, this.r0 = 0;
  }
  return r;
}(), DY = function(r) {
  Nn(e, r);
  function e(t) {
    return r.call(this, t) || this;
  }
  return e.prototype.getDefaultShape = function() {
    return new Cpe();
  }, e.prototype.buildPath = function(t, i) {
    var a = i.cx, n = i.cy, o = Math.PI * 2;
    t.moveTo(a + i.r, n), t.arc(a, n, i.r, 0, o, !1), t.moveTo(a + i.r0, n), t.arc(a, n, i.r0, 0, o, !0);
  }, e;
}(Er);
DY.prototype.type = "ring";
const rm = DY;
function Ape(r, e, t, i) {
  var a = [], n = [], o = [], s = [], l, u, c, f;
  if (i) {
    c = [1 / 0, 1 / 0], f = [-1 / 0, -1 / 0];
    for (var d = 0, p = r.length; d < p; d++)
      mu(c, c, r[d]), yu(f, f, r[d]);
    mu(c, c, i[0]), yu(f, f, i[1]);
  }
  for (var d = 0, p = r.length; d < p; d++) {
    var v = r[d];
    if (t)
      l = r[d ? d - 1 : p - 1], u = r[(d + 1) % p];
    else if (d === 0 || d === p - 1) {
      a.push(Al(r[d]));
      continue;
    } else
      l = r[d - 1], u = r[d + 1];
    Mc(n, u, l), Ug(n, n, e);
    var y = R_(v, l), _ = R_(v, u), w = y + _;
    w !== 0 && (y /= w, _ /= w), Ug(o, n, -y), Ug(s, n, _);
    var S = mA([], v, o), x = mA([], v, s);
    i && (yu(S, S, c), mu(S, S, f), yu(x, x, c), mu(x, x, f)), a.push(S), a.push(x);
  }
  return t && a.push(a.shift()), a;
}
function kY(r, e, t) {
  var i = e.smooth, a = e.points;
  if (a && a.length >= 2) {
    if (i) {
      var n = Ape(a, i, t, e.smoothConstraint);
      r.moveTo(a[0][0], a[0][1]);
      for (var o = a.length, s = 0; s < (t ? o : o - 1); s++) {
        var l = n[s * 2], u = n[s * 2 + 1], c = a[(s + 1) % o];
        r.bezierCurveTo(l[0], l[1], u[0], u[1], c[0], c[1]);
      }
    } else {
      r.moveTo(a[0][0], a[0][1]);
      for (var s = 1, f = a.length; s < f; s++)
        r.lineTo(a[s][0], a[s][1]);
    }
    t && r.closePath();
  }
}
var Epe = function() {
  function r() {
    this.points = null, this.smooth = 0, this.smoothConstraint = null;
  }
  return r;
}(), MY = function(r) {
  Nn(e, r);
  function e(t) {
    return r.call(this, t) || this;
  }
  return e.prototype.getDefaultShape = function() {
    return new Epe();
  }, e.prototype.buildPath = function(t, i) {
    kY(t, i, !0);
  }, e;
}(Er);
MY.prototype.type = "polygon";
const Ha = MY;
var Dpe = function() {
  function r() {
    this.points = null, this.percent = 1, this.smooth = 0, this.smoothConstraint = null;
  }
  return r;
}(), IY = function(r) {
  Nn(e, r);
  function e(t) {
    return r.call(this, t) || this;
  }
  return e.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, e.prototype.getDefaultShape = function() {
    return new Dpe();
  }, e.prototype.buildPath = function(t, i) {
    kY(t, i, !1);
  }, e;
}(Er);
IY.prototype.type = "polyline";
const wa = IY;
var kpe = {}, Mpe = function() {
  function r() {
    this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.percent = 1;
  }
  return r;
}(), PY = function(r) {
  Nn(e, r);
  function e(t) {
    return r.call(this, t) || this;
  }
  return e.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, e.prototype.getDefaultShape = function() {
    return new Mpe();
  }, e.prototype.buildPath = function(t, i) {
    var a, n, o, s;
    if (this.subPixelOptimize) {
      var l = _S(kpe, i, this.style);
      a = l.x1, n = l.y1, o = l.x2, s = l.y2;
    } else
      a = i.x1, n = i.y1, o = i.x2, s = i.y2;
    var u = i.percent;
    u !== 0 && (t.moveTo(a, n), u < 1 && (o = a * (1 - u) + o * u, s = n * (1 - u) + s * u), t.lineTo(o, s));
  }, e.prototype.pointAt = function(t) {
    var i = this.shape;
    return [
      i.x1 * (1 - t) + i.x2 * t,
      i.y1 * (1 - t) + i.y2 * t
    ];
  }, e;
}(Er);
PY.prototype.type = "line";
const ki = PY;
var so = [], Ipe = function() {
  function r() {
    this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.cpx1 = 0, this.cpy1 = 0, this.percent = 1;
  }
  return r;
}();
function fO(r, e, t) {
  var i = r.cpx2, a = r.cpy2;
  return i != null || a != null ? [
    (t ? dL : qi)(r.x1, r.cpx1, r.cpx2, r.x2, e),
    (t ? dL : qi)(r.y1, r.cpy1, r.cpy2, r.y2, e)
  ] : [
    (t ? CA : ua)(r.x1, r.cpx1, r.x2, e),
    (t ? CA : ua)(r.y1, r.cpy1, r.y2, e)
  ];
}
var RY = function(r) {
  Nn(e, r);
  function e(t) {
    return r.call(this, t) || this;
  }
  return e.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, e.prototype.getDefaultShape = function() {
    return new Ipe();
  }, e.prototype.buildPath = function(t, i) {
    var a = i.x1, n = i.y1, o = i.x2, s = i.y2, l = i.cpx1, u = i.cpy1, c = i.cpx2, f = i.cpy2, d = i.percent;
    d !== 0 && (t.moveTo(a, n), c == null || f == null ? (d < 1 && (s1(a, l, o, d, so), l = so[1], o = so[2], s1(n, u, s, d, so), u = so[1], s = so[2]), t.quadraticCurveTo(l, u, o, s)) : (d < 1 && (Xc(a, l, c, o, d, so), l = so[1], c = so[2], o = so[3], Xc(n, u, f, s, d, so), u = so[1], f = so[2], s = so[3]), t.bezierCurveTo(l, u, c, f, o, s)));
  }, e.prototype.pointAt = function(t) {
    return fO(this.shape, t, !1);
  }, e.prototype.tangentAt = function(t) {
    var i = fO(this.shape, t, !0);
    return _d(i, i);
  }, e;
}(Er);
RY.prototype.type = "bezier-curve";
const nm = RY;
var Ppe = function() {
  function r() {
    this.cx = 0, this.cy = 0, this.r = 0, this.startAngle = 0, this.endAngle = Math.PI * 2, this.clockwise = !0;
  }
  return r;
}(), LY = function(r) {
  Nn(e, r);
  function e(t) {
    return r.call(this, t) || this;
  }
  return e.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, e.prototype.getDefaultShape = function() {
    return new Ppe();
  }, e.prototype.buildPath = function(t, i) {
    var a = i.cx, n = i.cy, o = Math.max(i.r, 0), s = i.startAngle, l = i.endAngle, u = i.clockwise, c = Math.cos(s), f = Math.sin(s);
    t.moveTo(c * o + a, f * o + n), t.arc(a, n, o, s, l, !u);
  }, e;
}(Er);
LY.prototype.type = "arc";
const xS = LY;
var Rpe = function(r) {
  Nn(e, r);
  function e() {
    var t = r !== null && r.apply(this, arguments) || this;
    return t.type = "compound", t;
  }
  return e.prototype._updatePathDirty = function() {
    for (var t = this.shape.paths, i = this.shapeChanged(), a = 0; a < t.length; a++)
      i = i || t[a].shapeChanged();
    i && this.dirtyShape();
  }, e.prototype.beforeBrush = function() {
    this._updatePathDirty();
    for (var t = this.shape.paths || [], i = this.getGlobalScale(), a = 0; a < t.length; a++)
      t[a].path || t[a].createPathProxy(), t[a].path.setScale(i[0], i[1], t[a].segmentIgnoreThreshold);
  }, e.prototype.buildPath = function(t, i) {
    for (var a = i.paths || [], n = 0; n < a.length; n++)
      a[n].buildPath(t, a[n].shape, !0);
  }, e.prototype.afterBrush = function() {
    for (var t = this.shape.paths || [], i = 0; i < t.length; i++)
      t[i].pathUpdated();
  }, e.prototype.getBoundingRect = function() {
    return this._updatePathDirty.call(this), Er.prototype.getBoundingRect.call(this);
  }, e;
}(Er);
const im = Rpe;
var Lpe = function() {
  function r(e) {
    this.colorStops = e || [];
  }
  return r.prototype.addColorStop = function(e, t) {
    this.colorStops.push({
      offset: e,
      color: t
    });
  }, r;
}();
const OY = Lpe;
var Ope = function(r) {
  Nn(e, r);
  function e(t, i, a, n, o, s) {
    var l = r.call(this, o) || this;
    return l.x = t ?? 0, l.y = i ?? 0, l.x2 = a ?? 1, l.y2 = n ?? 0, l.type = "linear", l.global = s || !1, l;
  }
  return e;
}(OY);
const bd = Ope;
var Fpe = function(r) {
  Nn(e, r);
  function e(t, i, a, n, o) {
    var s = r.call(this, n) || this;
    return s.x = t ?? 0.5, s.y = i ?? 0.5, s.r = a ?? 0.5, s.type = "radial", s.global = o || !1, s;
  }
  return e;
}(OY);
const Y8 = Fpe;
var R3 = Math.min, Npe = Math.max, Fy = Math.abs, Qh = [0, 0], ef = [0, 0], la = a$(), Ny = la.minTv, By = la.maxTv, Bpe = function() {
  function r(e, t) {
    this._corners = [], this._axes = [], this._origin = [0, 0];
    for (var i = 0; i < 4; i++)
      this._corners[i] = new Xt();
    for (var i = 0; i < 2; i++)
      this._axes[i] = new Xt();
    e && this.fromBoundingRect(e, t);
  }
  return r.prototype.fromBoundingRect = function(e, t) {
    var i = this._corners, a = this._axes, n = e.x, o = e.y, s = n + e.width, l = o + e.height;
    if (i[0].set(n, o), i[1].set(s, o), i[2].set(s, l), i[3].set(n, l), t)
      for (var u = 0; u < 4; u++)
        i[u].transform(t);
    Xt.sub(a[0], i[1], i[0]), Xt.sub(a[1], i[3], i[0]), a[0].normalize(), a[1].normalize();
    for (var u = 0; u < 2; u++)
      this._origin[u] = a[u].dot(i[0]);
  }, r.prototype.intersect = function(e, t, i) {
    var a = !0, n = !t;
    return t && Xt.set(t, 0, 0), la.reset(i, !n), !this._intersectCheckOneSide(this, e, n, 1) && (a = !1, n) || !this._intersectCheckOneSide(e, this, n, -1) && (a = !1, n) || !n && !la.negativeSize && Xt.copy(t, a ? la.useDir ? la.dirMinTv : Ny : By), a;
  }, r.prototype._intersectCheckOneSide = function(e, t, i, a) {
    for (var n = !0, o = 0; o < 2; o++) {
      var s = e._axes[o];
      if (e._getProjMinMaxOnAxis(o, e._corners, Qh), e._getProjMinMaxOnAxis(o, t._corners, ef), la.negativeSize || Qh[1] < ef[0] || Qh[0] > ef[1]) {
        if (n = !1, la.negativeSize || i)
          return n;
        var l = Fy(ef[0] - Qh[1]), u = Fy(Qh[0] - ef[1]);
        R3(l, u) > By.len() && (l < u ? Xt.scale(By, s, -l * a) : Xt.scale(By, s, u * a));
      } else if (!i) {
        var l = Fy(ef[0] - Qh[1]), u = Fy(Qh[0] - ef[1]);
        (la.useDir || R3(l, u) < Ny.len()) && ((l < u || !la.bidirectional) && (Xt.scale(Ny, s, l * a), la.useDir && la.calcDirMTV()), (l >= u || !la.bidirectional) && (Xt.scale(Ny, s, -u * a), la.useDir && la.calcDirMTV()));
      }
    }
    return n;
  }, r.prototype._getProjMinMaxOnAxis = function(e, t, i) {
    for (var a = this._axes[e], n = this._origin, o = t[0].dot(a) + n[e], s = o, l = o, u = 1; u < t.length; u++) {
      var c = t[u].dot(a) + n[e];
      s = R3(c, s), l = Npe(c, l);
    }
    i[0] = s + la.touchThreshold, i[1] = l - la.touchThreshold, la.negativeSize = i[1] < i[0];
  }, r;
}();
const FY = Bpe;
var Vpe = [], Upe = function(r) {
  Nn(e, r);
  function e() {
    var t = r !== null && r.apply(this, arguments) || this;
    return t.notClear = !0, t.incremental = !0, t._displayables = [], t._temporaryDisplayables = [], t._cursor = 0, t;
  }
  return e.prototype.traverse = function(t, i) {
    t.call(i, this);
  }, e.prototype.useStyle = function() {
    this.style = {};
  }, e.prototype.getCursor = function() {
    return this._cursor;
  }, e.prototype.innerAfterBrush = function() {
    this._cursor = this._displayables.length;
  }, e.prototype.clearDisplaybles = function() {
    this._displayables = [], this._temporaryDisplayables = [], this._cursor = 0, this.markRedraw(), this.notClear = !1;
  }, e.prototype.clearTemporalDisplayables = function() {
    this._temporaryDisplayables = [];
  }, e.prototype.addDisplayable = function(t, i) {
    i ? this._temporaryDisplayables.push(t) : this._displayables.push(t), this.markRedraw();
  }, e.prototype.addDisplayables = function(t, i) {
    i = i || !1;
    for (var a = 0; a < t.length; a++)
      this.addDisplayable(t[a], i);
  }, e.prototype.getDisplayables = function() {
    return this._displayables;
  }, e.prototype.getTemporalDisplayables = function() {
    return this._temporaryDisplayables;
  }, e.prototype.eachPendingDisplayable = function(t) {
    for (var i = this._cursor; i < this._displayables.length; i++)
      t && t(this._displayables[i]);
    for (var i = 0; i < this._temporaryDisplayables.length; i++)
      t && t(this._temporaryDisplayables[i]);
  }, e.prototype.update = function() {
    this.updateTransform();
    for (var t = this._cursor; t < this._displayables.length; t++) {
      var i = this._displayables[t];
      i.parent = this, i.update(), i.parent = null;
    }
    for (var t = 0; t < this._temporaryDisplayables.length; t++) {
      var i = this._temporaryDisplayables[t];
      i.parent = this, i.update(), i.parent = null;
    }
  }, e.prototype.getBoundingRect = function() {
    if (!this._rect) {
      for (var t = new Jt(1 / 0, 1 / 0, -1 / 0, -1 / 0), i = 0; i < this._displayables.length; i++) {
        var a = this._displayables[i], n = a.getBoundingRect().clone();
        a.needLocalTransform() && n.applyTransform(a.getLocalTransform(Vpe)), t.union(n);
      }
      this._rect = t;
    }
    return this._rect;
  }, e.prototype.contain = function(t, i) {
    var a = this.transformCoordToLocal(t, i), n = this.getBoundingRect();
    if (n.contain(a[0], a[1]))
      for (var o = 0; o < this._displayables.length; o++) {
        var s = this._displayables[o];
        if (s.contain(t, i))
          return !0;
      }
    return !1;
  }, e;
}(cs);
const NY = Upe;
var BY = Ar();
function L0(r, e, t, i, a) {
  var n;
  if (e && e.ecModel) {
    var o = e.ecModel.getUpdatePayload();
    n = o && o.animation;
  }
  var s = e && e.isAnimationEnabled(), l = r === "update";
  if (s) {
    var u = void 0, c = void 0, f = void 0;
    i ? (u = It(i.duration, 200), c = It(i.easing, "cubicOut"), f = 0) : (u = e.getShallow(l ? "animationDurationUpdate" : "animationDuration"), c = e.getShallow(l ? "animationEasingUpdate" : "animationEasing"), f = e.getShallow(l ? "animationDelayUpdate" : "animationDelay")), n && (n.duration != null && (u = n.duration), n.easing != null && (c = n.easing), n.delay != null && (f = n.delay)), Bt(f) && (f = f(t, a)), Bt(u) && (u = u(t));
    var d = {
      duration: u || 0,
      delay: f,
      easing: c
    };
    return d;
  } else
    return null;
}
function j8(r, e, t, i, a, n, o) {
  var s = !1, l;
  Bt(a) ? (o = n, n = a, a = null) : zt(a) && (n = a.cb, o = a.during, s = a.isFrom, l = a.removeOpt, a = a.dataIndex);
  var u = r === "leave";
  u || e.stopAnimation("leave");
  var c = L0(r, i, a, u ? l || {} : null, i && i.getAnimationDelayParams ? i.getAnimationDelayParams(e, a) : null);
  if (c && c.duration > 0) {
    var f = c.duration, d = c.delay, p = c.easing, v = {
      duration: f,
      delay: d || 0,
      easing: p,
      done: n,
      force: !!n || !!o,
      // Set to final state in update/init animation.
      // So the post processing based on the path shape can be done correctly.
      setToFinal: !u,
      scope: r,
      during: o
    };
    s ? e.animateFrom(t, v) : e.animateTo(t, v);
  } else
    e.stopAnimation(), !s && e.attr(t), o && o(1), n && n();
}
function Wr(r, e, t, i, a, n) {
  j8("update", r, e, t, i, a, n);
}
function In(r, e, t, i, a, n) {
  j8("enter", r, e, t, i, a, n);
}
function qp(r) {
  if (!r.__zr)
    return !0;
  for (var e = 0; e < r.animators.length; e++) {
    var t = r.animators[e];
    if (t.scope === "leave")
      return !0;
  }
  return !1;
}
function Zc(r, e, t, i, a, n) {
  qp(r) || j8("leave", r, e, t, i, a, n);
}
function dO(r, e, t, i) {
  r.removeTextContent(), r.removeTextGuideLine(), Zc(r, {
    style: {
      opacity: 0
    }
  }, e, t, i);
}
function Au(r, e, t) {
  function i() {
    r.parent && r.parent.remove(r);
  }
  r.isGroup ? r.traverse(function(a) {
    a.isGroup || dO(a, e, t, i);
  }) : dO(r, e, t, i);
}
function hs(r) {
  BY(r).oldStyle = r.style;
}
function Gpe(r) {
  return BY(r).oldStyle;
}
var QA = {}, cr = ["x", "y"], Ii = ["width", "height"];
function VY(r) {
  return Er.extend(r);
}
var zpe = gpe;
function UY(r, e) {
  return zpe(r, e);
}
function ds(r, e) {
  QA[r] = e;
}
function p1(r) {
  if (QA.hasOwnProperty(r))
    return QA[r];
}
function l0(r, e, t, i) {
  var a = xY(r, e);
  return t && (i === "center" && (t = GY(t, a.getBoundingRect())), X8(a, t)), a;
}
function q8(r, e, t) {
  var i = new ha({
    style: {
      image: r,
      x: e.x,
      y: e.y,
      width: e.width,
      height: e.height
    },
    onload: function(a) {
      if (t === "center") {
        var n = {
          width: a.width,
          height: a.height
        };
        i.setStyle(GY(e, n));
      }
    }
  });
  return i;
}
function GY(r, e) {
  var t = e.width / e.height, i = r.height * t, a;
  i <= r.width ? a = r.height : (i = r.width, a = i / t);
  var n = r.x + r.width / 2, o = r.y + r.height / 2;
  return {
    x: n - i / 2,
    y: o - a / 2,
    width: i,
    height: a
  };
}
var Co = mpe;
function X8(r, e) {
  if (r.applyTransform) {
    var t = r.getBoundingRect(), i = t.calculateTransform(e);
    r.applyTransform(i);
  }
}
function u0(r, e) {
  return _S(r, r, {
    lineWidth: e
  }), r;
}
function Wpe(r, e) {
  return aY(r, r, e), r;
}
var r_ = ko;
function Wc(r, e) {
  for (var t = Z1([]); r && r !== e; )
    Ls(t, r.getLocalTransform(), t), r = r.parent;
  return t;
}
function Fs(r, e, t) {
  return e && !ba(e) && (e = _u.getLocalTransform(e)), t && (e = us([], e)), li([], r, e);
}
function TS(r, e, t) {
  var i = e[4] === 0 || e[5] === 0 || e[0] === 0 ? 1 : wl(2 * e[4] / e[0]), a = e[4] === 0 || e[5] === 0 || e[2] === 0 ? 1 : wl(2 * e[4] / e[2]), n = [r === "left" ? -i : r === "right" ? i : 0, r === "top" ? -a : r === "bottom" ? a : 0];
  return n = Fs(n, e, t), wl(n[0]) > wl(n[1]) ? n[0] > 0 ? "right" : "left" : n[1] > 0 ? "bottom" : "top";
}
function pO(r) {
  return !r.isGroup;
}
function Hpe(r) {
  return r.shape != null;
}
function am(r, e, t) {
  if (!r || !e)
    return;
  function i(o) {
    var s = {};
    return o.traverse(function(l) {
      pO(l) && l.anid && (s[l.anid] = l);
    }), s;
  }
  function a(o) {
    var s = {
      x: o.x,
      y: o.y,
      rotation: o.rotation
    };
    return Hpe(o) && (s.shape = Gt(o.shape)), s;
  }
  var n = i(r);
  e.traverse(function(o) {
    if (pO(o) && o.anid) {
      var s = n[o.anid];
      if (s) {
        var l = a(o);
        o.attr(a(s)), Wr(o, l, t, er(o).dataIndex);
      }
    }
  });
}
function K8(r, e) {
  return Je(r, function(t) {
    var i = t[0];
    i = bi(i, e.x), i = Io(i, e.x + e.width);
    var a = t[1];
    return a = bi(a, e.y), a = Io(a, e.y + e.height), [i, a];
  });
}
function zY(r, e) {
  var t = bi(r.x, e.x), i = Io(r.x + r.width, e.x + e.width), a = bi(r.y, e.y), n = Io(r.y + r.height, e.y + e.height);
  if (i >= t && n >= a)
    return {
      x: t,
      y: a,
      width: i - t,
      height: n - a
    };
}
function O0(r, e, t) {
  var i = $e({
    rectHover: !0
  }, e), a = i.style = {
    strokeNoScale: !0
  };
  if (t = t || {
    x: -1,
    y: -1,
    width: 2,
    height: 2
  }, r)
    return r.indexOf("image://") === 0 ? (a.image = r.slice(8), Yt(a, t), new ha(i)) : l0(r.replace("path://", ""), i, t, "center");
}
function Dg(r, e, t, i, a) {
  for (var n = 0, o = a[a.length - 1]; n < a.length; n++) {
    var s = a[n];
    if (WY(r, e, t, i, s[0], s[1], o[0], o[1]))
      return !0;
    o = s;
  }
}
function WY(r, e, t, i, a, n, o, s) {
  var l = t - r, u = i - e, c = o - a, f = s - n, d = L3(c, f, l, u);
  if ($pe(d))
    return !1;
  var p = r - a, v = e - n, y = L3(p, v, l, u) / d;
  if (y < 0 || y > 1)
    return !1;
  var _ = L3(p, v, c, f) / d;
  return !(_ < 0 || _ > 1);
}
function L3(r, e, t, i) {
  return r * i - t * e;
}
function $pe(r) {
  return r <= 1e-6 && r >= -1e-6;
}
function td(r, e, t, i, a) {
  return e == null || (Or(e) ? $n[0] = $n[1] = $n[2] = $n[3] = e : (process.env.NODE_ENV !== "production" && kt(e.length === 4), $n[0] = e[0], $n[1] = e[1], $n[2] = e[2], $n[3] = e[3]), i && ($n[0] = bi(0, $n[0]), $n[1] = bi(0, $n[1]), $n[2] = bi(0, $n[2]), $n[3] = bi(0, $n[3])), t && ($n[0] = -$n[0], $n[1] = -$n[1], $n[2] = -$n[2], $n[3] = -$n[3]), vO(r, $n, "x", "width", 3, 1, a && a[0] || 0), vO(r, $n, "y", "height", 0, 2, a && a[1] || 0)), r;
}
var $n = [0, 0, 0, 0];
function vO(r, e, t, i, a, n, o) {
  var s = e[n] + e[a], l = r[i];
  r[i] += s, o = bi(0, Io(o, l)), r[i] < o ? (r[i] = o, r[t] += e[a] >= 0 ? -e[a] : e[n] >= 0 ? l + e[n] : wl(s) > 1e-8 ? (l - o) * e[a] / s : 0) : r[t] -= e[a];
}
function nc(r) {
  var e = r.itemTooltipOption, t = r.componentModel, i = r.itemName, a = vt(e) ? {
    formatter: e
  } : e, n = t.mainType, o = t.componentIndex, s = {
    componentType: n,
    name: i,
    $vars: ["name"]
  };
  s[n + "Index"] = o;
  var l = r.formatterParamsExtra;
  l && J(Ir(l), function(c) {
    xt(s, c) || (s[c] = l[c], s.$vars.push(c));
  });
  var u = er(r.el);
  u.componentMainType = n, u.componentIndex = o, u.tooltipConfig = {
    name: i,
    option: Yt({
      content: i,
      encodeHTMLContent: !0,
      formatterParams: s
    }, a)
  };
}
function e6(r, e) {
  var t;
  r.isGroup && (t = e(r)), t || r.traverse(e);
}
function fh(r, e) {
  if (r)
    if (Ke(r))
      for (var t = 0; t < r.length; t++)
        e6(r[t], e);
    else
      e6(r, e);
}
function Z8(r) {
  return !r || wl(r[1]) < Vy && wl(r[2]) < Vy || wl(r[0]) < Vy && wl(r[3]) < Vy;
}
var Vy = 1e-5;
function v1(r, e) {
  return r ? Jt.copy(r, e) : e.clone();
}
function J8(r, e) {
  return e ? J1(r || Ji(), e) : void 0;
}
function rd(r) {
  return {
    z: r.get("z") || 0,
    zlevel: r.get("zlevel") || 0
  };
}
function HY(r) {
  var e = -1 / 0, t = 1 / 0;
  e6(r, function(n) {
    i(n), i(n.getTextContent()), i(n.getTextGuideLine());
  });
  function i(n) {
    if (!(!n || n.isGroup)) {
      var o = n.currentStates;
      if (o.length)
        for (var s = 0; s < o.length; s++)
          a(n.states[o[s]]);
      a(n);
    }
  }
  function a(n) {
    if (n) {
      var o = n.z2;
      o > e && (e = o), o < t && (t = o);
    }
  }
  return t > e && (t = e = 0), {
    min: t,
    max: e
  };
}
function CS(r, e, t) {
  $Y(r, e, t, -1 / 0);
}
function $Y(r, e, t, i) {
  if (r.ignoreModelZ)
    return i;
  var a = r.getTextContent(), n = r.getTextGuideLine(), o = r.isGroup;
  if (o)
    for (var s = r.childrenRef(), l = 0; l < s.length; l++)
      i = bi($Y(s[l], e, t, i), i);
  else
    r.z = e, r.zlevel = t, i = bi(r.z2 || 0, i);
  if (a && (a.z = e, a.zlevel = t, isFinite(i) && (a.z2 = i + 2)), n) {
    var u = r.textGuideLineConfig;
    n.z = e, n.zlevel = t, isFinite(i) && (n.z2 = i + (u && u.showAbove ? 1 : -1));
  }
  return i;
}
ds("circle", rc);
ds("ellipse", SS);
ds("sector", Wa);
ds("ring", rm);
ds("polygon", Ha);
ds("polyline", wa);
ds("rect", Cr);
ds("line", ki);
ds("bezierCurve", nm);
ds("arc", xS);
const wd = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  Arc: xS,
  BezierCurve: nm,
  BoundingRect: Jt,
  Circle: rc,
  CompoundPath: im,
  Ellipse: SS,
  Group: Wt,
  Image: ha,
  IncrementalDisplayable: NY,
  Line: ki,
  LinearGradient: bd,
  OrientedBoundingRect: FY,
  Path: Er,
  Point: Xt,
  Polygon: Ha,
  Polyline: wa,
  RadialGradient: Y8,
  Rect: Cr,
  Ring: rm,
  Sector: Wa,
  Text: Br,
  WH: Ii,
  XY: cr,
  applyTransform: Fs,
  calcZ2Range: HY,
  clipPointsByRect: K8,
  clipRectByRect: zY,
  createIcon: O0,
  ensureCopyRect: v1,
  ensureCopyTransform: J8,
  expandOrShrinkRect: td,
  extendPath: UY,
  extendShape: VY,
  getShapeClass: p1,
  getTransform: Wc,
  groupTransition: am,
  initProps: In,
  isBoundingRectAxisAligned: Z8,
  isElementRemoved: qp,
  lineLineIntersect: WY,
  linePolygonIntersect: Dg,
  makeImage: q8,
  makePath: l0,
  mergePath: Co,
  registerShape: ds,
  removeElement: Zc,
  removeElementWithFadeOut: Au,
  resizePath: X8,
  retrieveZInfo: rd,
  setTooltipConfig: nc,
  subPixelOptimize: r_,
  subPixelOptimizeLine: u0,
  subPixelOptimizeRect: Wpe,
  transformDirection: TS,
  traverseElements: fh,
  traverseUpdateZ: CS,
  updateProps: Wr
}, Symbol.toStringTag, { value: "Module" }));
var AS = {};
function YY(r, e) {
  for (var t = 0; t < ro.length; t++) {
    var i = ro[t], a = e[i], n = r.ensureState(i);
    n.style = n.style || {}, n.style.text = a;
  }
  var o = r.currentStates.slice();
  r.clearStates(!0), r.setStyle({
    text: e.normal
  }), r.useStates(o, !0);
}
function t6(r, e, t) {
  var i = r.labelFetcher, a = r.labelDataIndex, n = r.labelDimIndex, o = e.normal, s;
  i && (s = i.getFormattedLabel(a, "normal", null, n, o && o.get("formatter"), t != null ? {
    interpolatedValue: t
  } : null)), s == null && (s = Bt(r.defaultText) ? r.defaultText(a, r, t) : r.defaultText);
  for (var l = {
    normal: s
  }, u = 0; u < ro.length; u++) {
    var c = ro[u], f = e[c];
    l[c] = It(i ? i.getFormattedLabel(a, c, null, n, f && f.get("formatter")) : null, s);
  }
  return l;
}
function ea(r, e, t, i) {
  t = t || AS;
  for (var a = r instanceof Br, n = !1, o = 0; o < d1.length; o++) {
    var s = e[d1[o]];
    if (s && s.getShallow("show")) {
      n = !0;
      break;
    }
  }
  var l = a ? r : r.getTextContent();
  if (n) {
    a || (l || (l = new Br(), r.setTextContent(l)), r.stateProxy && (l.stateProxy = r.stateProxy));
    var u = t6(t, e), c = e.normal, f = !!c.getShallow("show"), d = Sn(c, i && i.normal, t, !1, !a);
    d.text = u.normal, a || r.setTextConfig(X_(c, t, !1));
    for (var o = 0; o < ro.length; o++) {
      var p = ro[o], s = e[p];
      if (s) {
        var v = l.ensureState(p), y = !!It(s.getShallow("show"), f);
        if (y !== f && (v.ignore = !y), v.style = Sn(s, i && i[p], t, !0, !a), v.style.text = u[p], !a) {
          var _ = r.ensureState(p);
          _.textConfig = X_(s, t, !0);
        }
      }
    }
    l.silent = !!c.getShallow("silent"), l.style.x != null && (d.x = l.style.x), l.style.y != null && (d.y = l.style.y), l.ignore = !f, l.useStyle(d), l.dirty(), t.enableTextSetter && (F0(l).setLabelText = function(w) {
      var S = t6(t, e, w);
      YY(l, S);
    });
  } else
    l && (l.ignore = !0);
  r.dirty();
}
function zi(r, e) {
  e = e || "label";
  for (var t = {
    normal: r.getModel(e)
  }, i = 0; i < ro.length; i++) {
    var a = ro[i];
    t[a] = r.getModel([a, e]);
  }
  return t;
}
function Sn(r, e, t, i, a) {
  var n = {};
  return Ype(n, r, t, i, a), e && $e(n, e), n;
}
function X_(r, e, t) {
  e = e || {};
  var i = {}, a, n = r.getShallow("rotate"), o = It(r.getShallow("distance"), t ? null : 5), s = r.getShallow("offset");
  return a = r.getShallow("position") || (t ? null : "inside"), a === "outside" && (a = e.defaultOutsidePosition || "top"), a != null && (i.position = a), s != null && (i.offset = s), n != null && (n *= Math.PI / 180, i.rotation = n), o != null && (i.distance = o), i.outsideFill = r.get("color") === "inherit" ? e.inheritColor || null : "auto", e.autoOverflowArea != null && (i.autoOverflowArea = e.autoOverflowArea), e.layoutRect != null && (i.layoutRect = e.layoutRect), i;
}
function Ype(r, e, t, i, a) {
  t = t || AS;
  var n = e.ecModel, o = n && n.option.textStyle, s = jpe(e), l;
  if (s) {
    l = {};
    var u = "richInheritPlainLabel", c = It(e.get(u), n ? n.get(u) : void 0);
    for (var f in s)
      if (s.hasOwnProperty(f)) {
        var d = e.getModel(["rich", f]);
        _O(l[f] = {}, d, o, e, c, t, i, a, !1, !0);
      }
  }
  l && (r.rich = l);
  var p = e.get("overflow");
  p && (r.overflow = p);
  var v = e.get("lineOverflow");
  v && (r.lineOverflow = v);
  var y = r, _ = e.get("minMargin");
  if (_ != null)
    _ = Or(_) ? _ / 2 : 0, y.margin = [_, _, _, _], y.__marginType = Up.minMargin;
  else {
    var w = e.get("textMargin");
    w != null && (y.margin = X1(w), y.__marginType = Up.textMargin);
  }
  _O(r, e, o, null, null, t, i, a, !0, !1);
}
function jpe(r) {
  for (var e; r && r !== r.ecModel; ) {
    var t = (r.option || AS).rich;
    if (t) {
      e = e || {};
      for (var i = Ir(t), a = 0; a < i.length; a++) {
        var n = i[a];
        e[n] = 1;
      }
    }
    r = r.parentModel;
  }
  return e;
}
var gO = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY"], mO = ["align", "lineHeight", "width", "height", "tag", "verticalAlign", "ellipsis"], yO = ["padding", "borderWidth", "borderRadius", "borderDashOffset", "backgroundColor", "borderColor", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"];
function _O(r, e, t, i, a, n, o, s, l, u) {
  t = !o && t || AS;
  var c = n && n.inheritColor, f = e.getShallow("color"), d = e.getShallow("textBorderColor"), p = It(e.getShallow("opacity"), t.opacity);
  (f === "inherit" || f === "auto") && (process.env.NODE_ENV !== "production" && f === "auto" && yi("color: 'auto'", "color: 'inherit'"), c ? f = c : f = null), (d === "inherit" || d === "auto") && (process.env.NODE_ENV !== "production" && d === "auto" && yi("color: 'auto'", "color: 'inherit'"), c ? d = c : d = null), s || (f = f || t.color, d = d || t.textBorderColor), f != null && (r.fill = f), d != null && (r.stroke = d);
  var v = It(e.getShallow("textBorderWidth"), t.textBorderWidth);
  v != null && (r.lineWidth = v);
  var y = It(e.getShallow("textBorderType"), t.textBorderType);
  y != null && (r.lineDash = y);
  var _ = It(e.getShallow("textBorderDashOffset"), t.textBorderDashOffset);
  _ != null && (r.lineDashOffset = _), !o && p == null && !u && (p = n && n.defaultOpacity), p != null && (r.opacity = p), !o && !s && r.fill == null && n.inheritColor && (r.fill = n.inheritColor);
  for (var w = 0; w < gO.length; w++) {
    var S = gO[w], x = a !== !1 && i ? Ba(e.getShallow(S), i.getShallow(S), t[S]) : It(e.getShallow(S), t[S]);
    x != null && (r[S] = x);
  }
  for (var w = 0; w < mO.length; w++) {
    var S = mO[w], x = e.getShallow(S);
    x != null && (r[S] = x);
  }
  if (r.verticalAlign == null) {
    var E = e.getShallow("baseline");
    E != null && (r.verticalAlign = E);
  }
  if (!l || !n.disableBox) {
    for (var w = 0; w < yO.length; w++) {
      var S = yO[w], x = e.getShallow(S);
      x != null && (r[S] = x);
    }
    var M = e.getShallow("borderType");
    M != null && (r.borderDash = M), (r.backgroundColor === "auto" || r.backgroundColor === "inherit") && c && (process.env.NODE_ENV !== "production" && r.backgroundColor === "auto" && yi("backgroundColor: 'auto'", "backgroundColor: 'inherit'"), r.backgroundColor = c), (r.borderColor === "auto" || r.borderColor === "inherit") && c && (process.env.NODE_ENV !== "production" && r.borderColor === "auto" && yi("borderColor: 'auto'", "borderColor: 'inherit'"), r.borderColor = c);
  }
}
function Q8(r, e) {
  var t = e && e.getModel("textStyle");
  return Ao([
    // FIXME in node-canvas fontWeight is before fontStyle
    r.fontStyle || t && t.getShallow("fontStyle") || "",
    r.fontWeight || t && t.getShallow("fontWeight") || "",
    (r.fontSize || t && t.getShallow("fontSize") || 12) + "px",
    r.fontFamily || t && t.getShallow("fontFamily") || "sans-serif"
  ].join(" "));
}
var F0 = Ar();
function jY(r, e, t, i) {
  if (r) {
    var a = F0(r);
    a.prevValue = a.value, a.value = t;
    var n = e.normal;
    a.valueAnimation = n.get("valueAnimation"), a.valueAnimation && (a.precision = n.get("precision"), a.defaultInterpolatedText = i, a.statesModels = e);
  }
}
function qY(r, e, t, i, a) {
  var n = F0(r);
  if (!n.valueAnimation || n.prevValue === n.value)
    return;
  var o = n.defaultInterpolatedText, s = It(n.interpolatedValue, n.prevValue), l = n.value;
  function u(c) {
    var f = j$(t, n.precision, s, l, c);
    n.interpolatedValue = c === 1 ? null : f;
    var d = t6({
      labelDataIndex: e,
      labelFetcher: a,
      defaultText: o ? o(f) : f + ""
    }, n.statesModels, f);
    YY(r, d);
  }
  r.percent = 0, (n.prevValue == null ? In : Wr)(r, {
    // percent is used to prevent animation from being aborted #15916
    percent: 1
  }, i, e, null, u);
}
var Up = {
  minMargin: 1,
  textMargin: 2
}, qpe = ["textStyle", "color"], O3 = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "padding", "lineHeight", "rich", "width", "height", "overflow"], F3 = new Br(), Xpe = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.getTextColor = function(e) {
      var t = this.ecModel;
      return this.getShallow("color") || (!e && t ? t.get(qpe) : null);
    }, r.prototype.getFont = function() {
      return Q8({
        fontStyle: this.getShallow("fontStyle"),
        fontWeight: this.getShallow("fontWeight"),
        fontSize: this.getShallow("fontSize"),
        fontFamily: this.getShallow("fontFamily")
      }, this.ecModel);
    }, r.prototype.getTextRect = function(e) {
      for (var t = {
        text: e,
        verticalAlign: this.getShallow("verticalAlign") || this.getShallow("baseline")
      }, i = 0; i < O3.length; i++)
        t[O3[i]] = this.getShallow(O3[i]);
      return F3.useStyle(t), F3.update(), F3.getBoundingRect();
    }, r;
  }()
);
const Kpe = Xpe;
var XY = [
  ["lineWidth", "width"],
  ["stroke", "color"],
  ["opacity"],
  ["shadowBlur"],
  ["shadowOffsetX"],
  ["shadowOffsetY"],
  ["shadowColor"],
  ["lineDash", "type"],
  ["lineDashOffset", "dashOffset"],
  ["lineCap", "cap"],
  ["lineJoin", "join"],
  ["miterLimit"]
  // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
  // So do not transfer decal directly.
], Zpe = Qf(XY), Jpe = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.getLineStyle = function(e) {
      return Zpe(this, e);
    }, r;
  }()
), KY = [
  ["fill", "color"],
  ["stroke", "borderColor"],
  ["lineWidth", "borderWidth"],
  ["opacity"],
  ["shadowBlur"],
  ["shadowOffsetX"],
  ["shadowOffsetY"],
  ["shadowColor"],
  ["lineDash", "borderType"],
  ["lineDashOffset", "borderDashOffset"],
  ["lineCap", "borderCap"],
  ["lineJoin", "borderJoin"],
  ["miterLimit", "borderMiterLimit"]
  // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
  // So do not transfer decal directly.
], Qpe = Qf(KY), e0e = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.getItemStyle = function(e, t) {
      return Qpe(this, e, t);
    }, r;
  }()
), Sd = (
  /** @class */
  function() {
    function r(e, t, i) {
      this.parentModel = t, this.ecModel = i, this.option = e;
    }
    return r.prototype.init = function(e, t, i) {
    }, r.prototype.mergeOption = function(e, t) {
      gr(this.option, e, !0);
    }, r.prototype.get = function(e, t) {
      return e == null ? this.option : this._doGet(this.parsePath(e), !t && this.parentModel);
    }, r.prototype.getShallow = function(e, t) {
      var i = this.option, a = i == null ? i : i[e];
      if (a == null && !t) {
        var n = this.parentModel;
        n && (a = n.getShallow(e));
      }
      return a;
    }, r.prototype.getModel = function(e, t) {
      var i = e != null, a = i ? this.parsePath(e) : null, n = i ? this._doGet(a) : this.option;
      return t = t || this.parentModel && this.parentModel.getModel(this.resolveParentPath(a)), new r(n, t, this.ecModel);
    }, r.prototype.isEmpty = function() {
      return this.option == null;
    }, r.prototype.restoreData = function() {
    }, r.prototype.clone = function() {
      var e = this.constructor;
      return new e(Gt(this.option));
    }, r.prototype.parsePath = function(e) {
      return typeof e == "string" ? e.split(".") : e;
    }, r.prototype.resolveParentPath = function(e) {
      return e;
    }, r.prototype.isAnimationEnabled = function() {
      if (!qr.node && this.option) {
        if (this.option.animation != null)
          return !!this.option.animation;
        if (this.parentModel)
          return this.parentModel.isAnimationEnabled();
      }
    }, r.prototype._doGet = function(e, t) {
      var i = this.option;
      if (!e)
        return i;
      for (var a = 0; a < e.length && !(e[a] && (i = i && typeof i == "object" ? i[e[a]] : null, i == null)); a++)
        ;
      return i == null && t && (i = t._doGet(this.resolveParentPath(e), t.parentModel)), i;
    }, r;
  }()
);
F8(Sd);
tde(Sd);
ci(Sd, Jpe);
ci(Sd, e0e);
ci(Sd, ode);
ci(Sd, Kpe);
const Vr = Sd;
var t0e = Math.round(Math.random() * 10);
function N0(r) {
  return [r || "", t0e++].join("_");
}
function r0e(r) {
  var e = {};
  r.registerSubTypeDefaulter = function(t, i) {
    var a = Sl(t);
    e[a.main] = i;
  }, r.determineSubType = function(t, i) {
    var a = i.type;
    if (!a) {
      var n = Sl(t).main;
      r.hasSubTypes(t) && e[n] && (a = e[n](i));
    }
    return a;
  };
}
function n0e(r, e) {
  r.topologicalTravel = function(n, o, s, l) {
    if (!n.length)
      return;
    var u = t(o), c = u.graph, f = u.noEntryList, d = {};
    for (J(n, function(S) {
      d[S] = !0;
    }); f.length; ) {
      var p = f.pop(), v = c[p], y = !!d[p];
      y && (s.call(l, p, v.originalDeps.slice()), delete d[p]), J(v.successor, y ? w : _);
    }
    J(d, function() {
      var S = "";
      throw process.env.NODE_ENV !== "production" && (S = to("Circular dependency may exists: ", d, n, o)), new Error(S);
    });
    function _(S) {
      c[S].entryCount--, c[S].entryCount === 0 && f.push(S);
    }
    function w(S) {
      d[S] = !0, _(S);
    }
  };
  function t(n) {
    var o = {}, s = [];
    return J(n, function(l) {
      var u = i(o, l), c = u.originalDeps = e(l), f = a(c, n);
      u.entryCount = f.length, u.entryCount === 0 && s.push(l), J(f, function(d) {
        dr(u.predecessor, d) < 0 && u.predecessor.push(d);
        var p = i(o, d);
        dr(p.successor, d) < 0 && p.successor.push(l);
      });
    }), {
      graph: o,
      noEntryList: s
    };
  }
  function i(n, o) {
    return n[o] || (n[o] = {
      predecessor: [],
      successor: []
    }), n[o];
  }
  function a(n, o) {
    var s = [];
    return J(n, function(l) {
      dr(o, l) >= 0 && s.push(l);
    }), s;
  }
}
function dh(r, e) {
  return gr(gr({}, r, !0), e, !0);
}
const i0e = {
  time: {
    month: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
    monthAbbr: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
    dayOfWeek: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
    dayOfWeekAbbr: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"]
  },
  legend: {
    selector: {
      all: "All",
      inverse: "Inv"
    }
  },
  toolbox: {
    brush: {
      title: {
        rect: "Box Select",
        polygon: "Lasso Select",
        lineX: "Horizontally Select",
        lineY: "Vertically Select",
        keep: "Keep Selections",
        clear: "Clear Selections"
      }
    },
    dataView: {
      title: "Data View",
      lang: ["Data View", "Close", "Refresh"]
    },
    dataZoom: {
      title: {
        zoom: "Zoom",
        back: "Zoom Reset"
      }
    },
    magicType: {
      title: {
        line: "Switch to Line Chart",
        bar: "Switch to Bar Chart",
        stack: "Stack",
        tiled: "Tile"
      }
    },
    restore: {
      title: "Restore"
    },
    saveAsImage: {
      title: "Save as Image",
      lang: ["Right Click to Save Image"]
    }
  },
  series: {
    typeNames: {
      pie: "Pie chart",
      bar: "Bar chart",
      line: "Line chart",
      scatter: "Scatter plot",
      effectScatter: "Ripple scatter plot",
      radar: "Radar chart",
      tree: "Tree",
      treemap: "Treemap",
      boxplot: "Boxplot",
      candlestick: "Candlestick",
      k: "K line chart",
      heatmap: "Heat map",
      map: "Map",
      parallel: "Parallel coordinate map",
      lines: "Line graph",
      graph: "Relationship graph",
      sankey: "Sankey diagram",
      funnel: "Funnel chart",
      gauge: "Gauge",
      pictorialBar: "Pictorial bar",
      themeRiver: "Theme River Map",
      sunburst: "Sunburst",
      custom: "Custom chart",
      chart: "Chart"
    }
  },
  aria: {
    general: {
      withTitle: 'This is a chart about "{title}"',
      withoutTitle: "This is a chart"
    },
    series: {
      single: {
        prefix: "",
        withName: " with type {seriesType} named {seriesName}.",
        withoutName: " with type {seriesType}."
      },
      multiple: {
        prefix: ". It consists of {seriesCount} series count.",
        withName: " The {seriesId} series is a {seriesType} representing {seriesName}.",
        withoutName: " The {seriesId} series is a {seriesType}.",
        separator: {
          middle: "",
          end: ""
        }
      }
    },
    data: {
      allData: "The data is as follows: ",
      partialData: "The first {displayCnt} items are: ",
      withName: "the data for {name} is {value}",
      withoutName: "{value}",
      separator: {
        middle: ", ",
        end: ". "
      }
    }
  }
}, a0e = {
  time: {
    month: ["", "", "", "", "", "", "", "", "", "", "", ""],
    monthAbbr: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"],
    dayOfWeek: ["", "", "", "", "", "", ""],
    dayOfWeekAbbr: ["", "", "", "", "", "", ""]
  },
  legend: {
    selector: {
      all: "",
      inverse: ""
    }
  },
  toolbox: {
    brush: {
      title: {
        rect: "",
        polygon: "",
        lineX: "",
        lineY: "",
        keep: "",
        clear: ""
      }
    },
    dataView: {
      title: "",
      lang: ["", "", ""]
    },
    dataZoom: {
      title: {
        zoom: "",
        back: ""
      }
    },
    magicType: {
      title: {
        line: "",
        bar: "",
        stack: "",
        tiled: ""
      }
    },
    restore: {
      title: ""
    },
    saveAsImage: {
      title: "",
      lang: [""]
    }
  },
  series: {
    typeNames: {
      pie: "",
      bar: "",
      line: "",
      scatter: "",
      effectScatter: "",
      radar: "",
      tree: "",
      treemap: "",
      boxplot: "",
      candlestick: "K",
      k: "K",
      heatmap: "",
      map: "",
      parallel: "",
      lines: "",
      graph: "",
      sankey: "",
      funnel: "",
      gauge: "",
      pictorialBar: "",
      themeRiver: "",
      sunburst: "",
      custom: "",
      chart: ""
    }
  },
  aria: {
    general: {
      withTitle: "{title}",
      withoutTitle: ""
    },
    series: {
      single: {
        prefix: "",
        withName: "{seriesType}{seriesName}",
        withoutName: "{seriesType}"
      },
      multiple: {
        prefix: "{seriesCount}",
        withName: "{seriesId}{seriesName}{seriesType}",
        withoutName: "{seriesId}{seriesType}",
        separator: {
          middle: "",
          end: ""
        }
      }
    },
    data: {
      allData: "",
      partialData: "{displayCnt}",
      withName: "{name}{value}",
      withoutName: "{value}",
      separator: {
        middle: "",
        end: ""
      }
    }
  }
};
var K_ = "ZH", eD = "EN", Xp = eD, n_ = {}, tD = {}, ZY = qr.domSupported ? function() {
  var r = (
    /* eslint-disable-next-line */
    (document.documentElement.lang || navigator.language || navigator.browserLanguage || Xp).toUpperCase()
  );
  return r.indexOf(K_) > -1 ? K_ : Xp;
}() : Xp;
function rD(r, e) {
  r = r.toUpperCase(), tD[r] = new Vr(e), n_[r] = e;
}
function o0e(r) {
  if (vt(r)) {
    var e = n_[r.toUpperCase()] || {};
    return r === K_ || r === eD ? Gt(e) : gr(Gt(e), Gt(n_[Xp]), !1);
  } else
    return gr(Gt(r), Gt(n_[Xp]), !1);
}
function r6(r) {
  return tD[r];
}
function s0e() {
  return tD[Xp];
}
rD(eD, i0e);
rD(K_, a0e);
var n6 = null;
function l0e(r) {
  n6 || (n6 = r);
}
function Mi() {
  return n6;
}
var nD = 1e3, iD = nD * 60, jg = iD * 60, is = jg * 24, bO = is * 365, u0e = {
  year: /({yyyy}|{yy})/,
  month: /({MMMM}|{MMM}|{MM}|{M})/,
  day: /({dd}|{d})/,
  hour: /({HH}|{H}|{hh}|{h})/,
  minute: /({mm}|{m})/,
  second: /({ss}|{s})/,
  millisecond: /({SSS}|{S})/
}, i_ = {
  year: "{yyyy}",
  month: "{MMM}",
  day: "{d}",
  hour: "{HH}:{mm}",
  minute: "{HH}:{mm}",
  second: "{HH}:{mm}:{ss}",
  millisecond: "{HH}:{mm}:{ss} {SSS}"
}, c0e = "{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}", Uy = "{yyyy}-{MM}-{dd}", wO = {
  year: "{yyyy}",
  month: "{yyyy}-{MM}",
  day: Uy,
  hour: Uy + " " + i_.hour,
  minute: Uy + " " + i_.minute,
  second: Uy + " " + i_.second,
  millisecond: c0e
}, So = ["year", "month", "day", "hour", "minute", "second", "millisecond"], h0e = ["year", "half-year", "quarter", "month", "week", "half-week", "day", "half-day", "quarter-day", "hour", "minute", "second", "millisecond"];
function f0e(r) {
  return !vt(r) && !Bt(r) ? d0e(r) : r;
}
function d0e(r) {
  r = r || {};
  var e = {}, t = !0;
  return J(So, function(i) {
    t && (t = r[i] == null);
  }), J(So, function(i, a) {
    var n = r[i];
    e[i] = {};
    for (var o = null, s = a; s >= 0; s--) {
      var l = So[s], u = zt(n) && !Ke(n) ? n[l] : n, c = void 0;
      Ke(u) ? (c = u.slice(), o = c[0] || "") : vt(u) ? (o = u, c = [o]) : (o == null ? o = i_[i] : u0e[l].test(o) || (o = e[l][l][0] + " " + o), c = [o], t && (c[1] = "{primary|" + o + "}")), e[i][l] = c;
    }
  }), e;
}
function Qa(r, e) {
  return r += "", "0000".substr(0, e - r.length) + r;
}
function qg(r) {
  switch (r) {
    case "half-year":
    case "quarter":
      return "month";
    case "week":
    case "half-week":
      return "day";
    case "half-day":
    case "quarter-day":
      return "hour";
    default:
      return r;
  }
}
function p0e(r) {
  return r === qg(r);
}
function v0e(r) {
  switch (r) {
    case "year":
    case "month":
      return "day";
    case "millisecond":
      return "millisecond";
    default:
      return "second";
  }
}
function om(r, e, t, i) {
  var a = Nl(r), n = a[JY(t)](), o = a[aD(t)]() + 1, s = Math.floor((o - 1) / 3) + 1, l = a[oD(t)](), u = a["get" + (t ? "UTC" : "") + "Day"](), c = a[sD(t)](), f = (c - 1) % 12 + 1, d = a[lD(t)](), p = a[uD(t)](), v = a[cD(t)](), y = c >= 12 ? "pm" : "am", _ = y.toUpperCase(), w = i instanceof Vr ? i : r6(i || ZY) || s0e(), S = w.getModel("time"), x = S.get("month"), E = S.get("monthAbbr"), M = S.get("dayOfWeek"), k = S.get("dayOfWeekAbbr");
  return (e || "").replace(/{a}/g, y + "").replace(/{A}/g, _ + "").replace(/{yyyy}/g, n + "").replace(/{yy}/g, Qa(n % 100 + "", 2)).replace(/{Q}/g, s + "").replace(/{MMMM}/g, x[o - 1]).replace(/{MMM}/g, E[o - 1]).replace(/{MM}/g, Qa(o, 2)).replace(/{M}/g, o + "").replace(/{dd}/g, Qa(l, 2)).replace(/{d}/g, l + "").replace(/{eeee}/g, M[u]).replace(/{ee}/g, k[u]).replace(/{e}/g, u + "").replace(/{HH}/g, Qa(c, 2)).replace(/{H}/g, c + "").replace(/{hh}/g, Qa(f + "", 2)).replace(/{h}/g, f + "").replace(/{mm}/g, Qa(d, 2)).replace(/{m}/g, d + "").replace(/{ss}/g, Qa(p, 2)).replace(/{s}/g, p + "").replace(/{SSS}/g, Qa(v, 3)).replace(/{S}/g, v + "");
}
function g0e(r, e, t, i, a) {
  var n = null;
  if (vt(t))
    n = t;
  else if (Bt(t)) {
    var o = {
      time: r.time,
      level: r.time.level
    }, s = Mi();
    s && s.makeAxisLabelFormatterParamBreak(o, r.break), n = t(r.value, e, o);
  } else {
    var l = r.time;
    if (l) {
      var u = t[l.lowerTimeUnit][l.upperTimeUnit];
      n = u[Math.min(l.level, u.length - 1)] || "";
    } else {
      var c = Gp(r.value, a);
      n = t[c][c][0];
    }
  }
  return om(new Date(r.value), n, a, i);
}
function Gp(r, e) {
  var t = Nl(r), i = t[aD(e)]() + 1, a = t[oD(e)](), n = t[sD(e)](), o = t[lD(e)](), s = t[uD(e)](), l = t[cD(e)](), u = l === 0, c = u && s === 0, f = c && o === 0, d = f && n === 0, p = d && a === 1, v = p && i === 1;
  return v ? "year" : p ? "month" : d ? "day" : f ? "hour" : c ? "minute" : u ? "second" : "millisecond";
}
function Z_(r, e, t) {
  switch (e) {
    case "year":
      r[QY(t)](0);
    case "month":
      r[ej(t)](1);
    case "day":
      r[tj(t)](0);
    case "hour":
      r[rj(t)](0);
    case "minute":
      r[nj(t)](0);
    case "second":
      r[ij(t)](0);
  }
  return r;
}
function JY(r) {
  return r ? "getUTCFullYear" : "getFullYear";
}
function aD(r) {
  return r ? "getUTCMonth" : "getMonth";
}
function oD(r) {
  return r ? "getUTCDate" : "getDate";
}
function sD(r) {
  return r ? "getUTCHours" : "getHours";
}
function lD(r) {
  return r ? "getUTCMinutes" : "getMinutes";
}
function uD(r) {
  return r ? "getUTCSeconds" : "getSeconds";
}
function cD(r) {
  return r ? "getUTCMilliseconds" : "getMilliseconds";
}
function m0e(r) {
  return r ? "setUTCFullYear" : "setFullYear";
}
function QY(r) {
  return r ? "setUTCMonth" : "setMonth";
}
function ej(r) {
  return r ? "setUTCDate" : "setDate";
}
function tj(r) {
  return r ? "setUTCHours" : "setHours";
}
function rj(r) {
  return r ? "setUTCMinutes" : "setMinutes";
}
function nj(r) {
  return r ? "setUTCSeconds" : "setSeconds";
}
function ij(r) {
  return r ? "setUTCMilliseconds" : "setMilliseconds";
}
function y0e(r, e, t, i, a, n, o, s) {
  var l = new Br({
    style: {
      text: r,
      font: e,
      align: t,
      verticalAlign: i,
      padding: a,
      rich: n,
      overflow: o ? "truncate" : null,
      lineHeight: s
    }
  });
  return l.getBoundingRect();
}
function hD(r) {
  if (!fS(r))
    return vt(r) ? r : "-";
  var e = (r + "").split(".");
  return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g, "$1,") + (e.length > 1 ? "." + e[1] : "");
}
function fD(r, e) {
  return r = (r || "").toLowerCase().replace(/-(.)/g, function(t, i) {
    return i.toUpperCase();
  }), e && r && (r = r.charAt(0).toUpperCase() + r.slice(1)), r;
}
var B0 = X1;
function i6(r, e, t) {
  var i = "{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";
  function a(c) {
    return c && Ao(c) ? c : "-";
  }
  function n(c) {
    return !!(c != null && !isNaN(c) && isFinite(c));
  }
  var o = e === "time", s = r instanceof Date;
  if (o || s) {
    var l = o ? Nl(r) : r;
    if (isNaN(+l)) {
      if (s)
        return "-";
    } else
      return om(l, i, t);
  }
  if (e === "ordinal")
    return i1(r) ? a(r) : Or(r) && n(r) ? r + "" : "-";
  var u = Ml(r);
  return n(u) ? hD(u) : i1(r) ? a(r) : typeof r == "boolean" ? r + "" : "-";
}
var SO = ["a", "b", "c", "d", "e", "f", "g"], N3 = function(r, e) {
  return "{" + r + (e ?? "") + "}";
};
function dD(r, e, t) {
  Ke(e) || (e = [e]);
  var i = e.length;
  if (!i)
    return "";
  for (var a = e[0].$vars || [], n = 0; n < a.length; n++) {
    var o = SO[n];
    r = r.replace(N3(o), N3(o, 0));
  }
  for (var s = 0; s < i; s++)
    for (var l = 0; l < a.length; l++) {
      var u = e[s][a[l]];
      r = r.replace(N3(SO[l], s), t ? ya(u) : u);
    }
  return r;
}
function _0e(r, e, t) {
  return J(e, function(i, a) {
    r = r.replace("{" + a + "}", t ? ya(i) : i);
  }), r;
}
function aj(r, e) {
  var t = vt(r) ? {
    color: r,
    extraCssText: e
  } : r || {}, i = t.color, a = t.type;
  e = t.extraCssText;
  var n = t.renderMode || "html";
  if (!i)
    return "";
  if (n === "html")
    return a === "subItem" ? '<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:' + ya(i) + ";" + (e || "") + '"></span>' : '<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:' + ya(i) + ";" + (e || "") + '"></span>';
  var o = t.markerId || "markerX";
  return {
    renderMode: n,
    content: "{" + o + "|}  ",
    style: a === "subItem" ? {
      width: 4,
      height: 4,
      borderRadius: 2,
      backgroundColor: i
    } : {
      width: 10,
      height: 10,
      borderRadius: 5,
      backgroundColor: i
    }
  };
}
function b0e(r, e, t) {
  process.env.NODE_ENV !== "production" && yi("echarts.format.formatTime", "echarts.time.format"), (r === "week" || r === "month" || r === "quarter" || r === "half-year" || r === "year") && (r = `MM-dd
yyyy`);
  var i = Nl(e), a = t ? "getUTC" : "get", n = i[a + "FullYear"](), o = i[a + "Month"]() + 1, s = i[a + "Date"](), l = i[a + "Hours"](), u = i[a + "Minutes"](), c = i[a + "Seconds"](), f = i[a + "Milliseconds"]();
  return r = r.replace("MM", Qa(o, 2)).replace("M", o).replace("yyyy", n).replace("yy", Qa(n % 100 + "", 2)).replace("dd", Qa(s, 2)).replace("d", s).replace("hh", Qa(l, 2)).replace("h", l).replace("mm", Qa(u, 2)).replace("m", u).replace("ss", Qa(c, 2)).replace("s", c).replace("SSS", Qa(f, 3)), r;
}
function w0e(r) {
  return r && r.charAt(0).toUpperCase() + r.substr(1);
}
function nd(r, e) {
  return e = e || "transparent", vt(r) ? r : zt(r) && r.colorStops && (r.colorStops[0] || {}).color || e;
}
function J_(r, e) {
  if (e === "_blank" || e === "blank") {
    var t = window.open();
    t.opener = null, t.location.href = r;
  } else
    window.open(r, e);
}
var a_ = {}, B3 = {}, S0e = (
  /** @class */
  function() {
    function r() {
      this._normalMasterList = [], this._nonSeriesBoxMasterList = [];
    }
    return r.prototype.create = function(e, t) {
      this._nonSeriesBoxMasterList = i(a_, !0), this._normalMasterList = i(B3, !1);
      function i(a, n) {
        var o = [];
        return J(a, function(s, l) {
          var u = s.create(e, t);
          o = o.concat(u || []), process.env.NODE_ENV !== "production" && n && J(u, function(c) {
            return kt(!c.update);
          });
        }), o;
      }
    }, r.prototype.update = function(e, t) {
      J(this._normalMasterList, function(i) {
        i.update && i.update(e, t);
      });
    }, r.prototype.getCoordinateSystems = function() {
      return this._normalMasterList.concat(this._nonSeriesBoxMasterList);
    }, r.register = function(e, t) {
      if (e === "matrix" || e === "calendar") {
        a_[e] = t;
        return;
      }
      B3[e] = t;
    }, r.get = function(e) {
      return B3[e] || a_[e];
    }, r;
  }()
);
function x0e(r) {
  return !!a_[r];
}
var a6 = {
  // By default fetch coord from `model.get('coord')`.
  coord: 1,
  // Some model/series, such as pie, is allowed to also get coord from `model.get('center')`,
  // if cannot get from `model.get('coord')`. But historically pie use `center` option, but
  // geo use `layoutCenter` option to specify layout center; they are not able to be unified.
  // Therefor it is not recommended.
  coord2: 2
};
function T0e(r) {
  process.env.NODE_ENV !== "production" && kt(!o6.get(r.fullType)), o6.set(r.fullType, {
    getCoord2: void 0
  }).getCoord2 = r.getCoord2;
}
var o6 = Pt();
function C0e(r) {
  var e = r.getShallow("coord", !0), t = a6.coord;
  if (e == null) {
    var i = o6.get(r.type);
    i && i.getCoord2 && (t = a6.coord2, e = i.getCoord2(r));
  }
  return {
    coord: e,
    from: t
  };
}
var gl = {
  none: 0,
  dataCoordSys: 1,
  boxCoordSys: 2
};
function oj(r, e) {
  var t = r.getShallow("coordinateSystem"), i = r.getShallow("coordinateSystemUsage", !0), a = i != null, n = gl.none;
  if (t) {
    var o = r.mainType === "series";
    i == null && (i = o ? "data" : "box"), i === "data" ? (n = gl.dataCoordSys, o || (process.env.NODE_ENV !== "production" && a && e && Nr('coordinateSystemUsage "data" is not supported in non-series components.'), n = gl.none)) : i === "box" && (n = gl.boxCoordSys, !o && !x0e(t) && (process.env.NODE_ENV !== "production" && a && e && Nr('coordinateSystem "' + t + '" cannot be used' + (' as coordinateSystemUsage "box" for "' + r.type + '" yet.')), n = gl.none));
  }
  return {
    coordSysType: t,
    kind: n
  };
}
function sm(r) {
  var e = r.targetModel, t = r.coordSysType, i = r.coordSysProvider, a = r.isDefaultDataCoordSys, n = r.allowNotFound;
  process.env.NODE_ENV !== "production" && kt(!!t);
  var o = oj(e, !0), s = o.kind, l = o.coordSysType;
  if (a && s !== gl.dataCoordSys && (s = gl.dataCoordSys, l = t), s === gl.none || l !== t)
    return !1;
  var u = i(t, e);
  return u ? (s === gl.dataCoordSys ? (process.env.NODE_ENV !== "production" && kt(e.mainType === "series"), e.coordinateSystem = u) : e.boxCoordinateSystem = u, !0) : (process.env.NODE_ENV !== "production" && (n || Nr(t + " cannot be found for" + (" " + e.type + " (index: " + e.componentIndex + ")."))), !1);
}
var sj = function(r, e) {
  var t = e.getReferringComponents(r, ri).models[0];
  return t && t.coordinateSystem;
};
const xd = S0e;
var o_ = J, lj = ["left", "right", "top", "bottom", "width", "height"], Pf = [["width", "left", "right"], ["height", "top", "bottom"]];
function pD(r, e, t, i, a) {
  var n = 0, o = 0;
  i == null && (i = 1 / 0), a == null && (a = 1 / 0);
  var s = 0;
  e.eachChild(function(l, u) {
    var c = l.getBoundingRect(), f = e.childAt(u + 1), d = f && f.getBoundingRect(), p, v;
    if (r === "horizontal") {
      var y = c.width + (d ? -d.x + c.x : 0);
      p = n + y, p > i || l.newline ? (n = 0, p = y, o += s + t, s = c.height) : s = Math.max(s, c.height);
    } else {
      var _ = c.height + (d ? -d.y + c.y : 0);
      v = o + _, v > a || l.newline ? (n += s + t, o = 0, v = _, s = c.width) : s = Math.max(s, c.width);
    }
    l.newline || (l.x = n, l.y = o, l.markRedraw(), r === "horizontal" ? n = p + t : o = v + t);
  });
}
var Hf = pD;
fr(pD, "vertical");
fr(pD, "horizontal");
function uj(r, e) {
  return {
    left: r.getShallow("left", e),
    top: r.getShallow("top", e),
    right: r.getShallow("right", e),
    bottom: r.getShallow("bottom", e),
    width: r.getShallow("width", e),
    height: r.getShallow("height", e)
  };
}
function A0e(r, e) {
  var t = Wi(r, e, {
    enableLayoutOnlyByCenter: !0
  }), i = r.getBoxLayoutParams(), a, n;
  if (t.type === kg.point)
    n = t.refPoint, a = Bn(i, {
      width: e.getWidth(),
      height: e.getHeight()
    });
  else {
    var o = r.get("center"), s = Ke(o) ? o : [o, o];
    a = Bn(i, t.refContainer), n = t.boxCoordFrom === a6.coord2 ? t.refPoint : [gt(s[0], a.width) + a.x, gt(s[1], a.height) + a.y];
  }
  return {
    viewRect: a,
    center: n
  };
}
function cj(r, e) {
  var t = A0e(r, e), i = t.viewRect, a = t.center, n = r.get("radius");
  Ke(n) || (n = [0, n]);
  var o = gt(i.width, e.getWidth()), s = gt(i.height, e.getHeight()), l = Math.min(o, s), u = gt(n[0], l / 2), c = gt(n[1], l / 2);
  return {
    cx: a[0],
    cy: a[1],
    r0: u,
    r: c,
    viewRect: i
  };
}
function Bn(r, e, t) {
  t = B0(t || 0);
  var i = e.width, a = e.height, n = gt(r.left, i), o = gt(r.top, a), s = gt(r.right, i), l = gt(r.bottom, a), u = gt(r.width, i), c = gt(r.height, a), f = t[2] + t[0], d = t[1] + t[3], p = r.aspect;
  switch (isNaN(u) && (u = i - s - d - n), isNaN(c) && (c = a - l - f - o), p != null && (isNaN(u) && isNaN(c) && (p > i / a ? u = i * 0.8 : c = a * 0.8), isNaN(u) && (u = p * c), isNaN(c) && (c = u / p)), isNaN(n) && (n = i - s - u - d), isNaN(o) && (o = a - l - c - f), r.left || r.right) {
    case "center":
      n = i / 2 - u / 2 - t[3];
      break;
    case "right":
      n = i - u - d;
      break;
  }
  switch (r.top || r.bottom) {
    case "middle":
    case "center":
      o = a / 2 - c / 2 - t[0];
      break;
    case "bottom":
      o = a - c - f;
      break;
  }
  n = n || 0, o = o || 0, isNaN(u) && (u = i - d - n - (s || 0)), isNaN(c) && (c = a - f - o - (l || 0));
  var v = new Jt((e.x || 0) + n + t[3], (e.y || 0) + o + t[0], u, c);
  return v.margin = t, v;
}
function hj(r, e, t) {
  var i = r.getShallow("preserveAspect", !0);
  if (!i)
    return e;
  var a = e.width / e.height;
  if (Math.abs(Math.atan(t) - Math.atan(a)) < 1e-9)
    return e;
  var n = r.getShallow("preserveAspectAlign", !0), o = r.getShallow("preserveAspectVerticalAlign", !0), s = {
    width: e.width,
    height: e.height
  }, l = i === "cover";
  return a > t && !l || a < t && l ? (s.width = e.height * t, n === "left" ? s.left = 0 : n === "right" ? s.right = 0 : s.left = "center") : (s.height = e.width / t, o === "top" ? s.top = 0 : o === "bottom" ? s.bottom = 0 : s.top = "middle"), Bn(s, e);
}
var kg = {
  rect: 1,
  point: 2
};
function Wi(r, e, t) {
  var i, a, n, o = r.boxCoordinateSystem, s;
  if (o) {
    var l = C0e(r), u = l.coord, c = l.from;
    if (o.dataToLayout) {
      n = kg.rect, s = c;
      var f = o.dataToLayout(u);
      i = f.contentRect || f.rect;
    } else
      t && t.enableLayoutOnlyByCenter && o.dataToPoint ? (n = kg.point, s = c, a = o.dataToPoint(u)) : process.env.NODE_ENV !== "production" && Nr(r.type + "[" + r.componentIndex + "]" + (" layout based on " + o.type + " is not supported."));
  }
  return n == null && (n = kg.rect), n === kg.rect && (i || (i = {
    x: 0,
    y: 0,
    width: e.getWidth(),
    height: e.getHeight()
  }), a = [i.x + i.width / 2, i.y + i.height / 2]), {
    type: n,
    refContainer: i,
    refPoint: a,
    boxCoordFrom: s
  };
}
function ES(r, e, t, i, a, n) {
  var o = !a || !a.hv || a.hv[0], s = !a || !a.hv || a.hv[1], l = a && a.boundingMode || "all";
  if (n = n || r, n.x = r.x, n.y = r.y, !o && !s)
    return !1;
  var u;
  if (l === "raw")
    u = r.type === "group" ? new Jt(0, 0, +e.width || 0, +e.height || 0) : r.getBoundingRect();
  else if (u = r.getBoundingRect(), r.needLocalTransform()) {
    var c = r.getLocalTransform();
    u = u.clone(), u.applyTransform(c);
  }
  var f = Bn(Yt({
    width: u.width,
    height: u.height
  }, e), t, i), d = o ? f.x - u.x : 0, p = s ? f.y - u.y : 0;
  return l === "raw" ? (n.x = d, n.y = p) : (n.x += d, n.y += p), n === r && r.markRedraw(), !0;
}
function E0e(r, e) {
  return r[Pf[e][0]] != null || r[Pf[e][1]] != null && r[Pf[e][2]] != null;
}
function g1(r) {
  var e = r.layoutMode || r.constructor.layoutMode;
  return zt(e) ? e : e ? {
    type: e
  } : null;
}
function Pl(r, e, t) {
  var i = t && t.ignoreSize;
  !Ke(i) && (i = [i, i]);
  var a = o(Pf[0], 0), n = o(Pf[1], 1);
  l(Pf[0], r, a), l(Pf[1], r, n);
  function o(u, c) {
    var f = {}, d = 0, p = {}, v = 0, y = 2;
    if (o_(u, function(S) {
      p[S] = r[S];
    }), o_(u, function(S) {
      xt(e, S) && (f[S] = p[S] = e[S]), s(f, S) && d++, s(p, S) && v++;
    }), i[c])
      return s(e, u[1]) ? p[u[2]] = null : s(e, u[2]) && (p[u[1]] = null), p;
    if (v === y || !d)
      return p;
    if (d >= y)
      return f;
    for (var _ = 0; _ < u.length; _++) {
      var w = u[_];
      if (!xt(f, w) && xt(r, w)) {
        f[w] = r[w];
        break;
      }
    }
    return f;
  }
  function s(u, c) {
    return u[c] != null && u[c] !== "auto";
  }
  function l(u, c, f) {
    o_(u, function(d) {
      c[d] = f[d];
    });
  }
}
function Td(r) {
  return fj({}, r);
}
function fj(r, e) {
  return e && r && o_(lj, function(t) {
    xt(e, t) && (r[t] = e[t]);
  }), r;
}
var D0e = Ar(), V0 = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i, a) {
      var n = r.call(this, t, i, a) || this;
      return n.uid = N0("ec_cpt_model"), n;
    }
    return e.prototype.init = function(t, i, a) {
      this.mergeDefaultAndTheme(t, a);
    }, e.prototype.mergeDefaultAndTheme = function(t, i) {
      var a = g1(this), n = a ? Td(t) : {}, o = i.getTheme();
      gr(t, o.get(this.mainType)), gr(t, this.getDefaultOption()), a && Pl(t, n, a);
    }, e.prototype.mergeOption = function(t, i) {
      gr(this.option, t, !0);
      var a = g1(this);
      a && Pl(this.option, t, a);
    }, e.prototype.optionUpdated = function(t, i) {
    }, e.prototype.getDefaultOption = function() {
      var t = this.constructor;
      if (!Jfe(t))
        return t.defaultOption;
      var i = D0e(this);
      if (!i.defaultOption) {
        for (var a = [], n = t; n; ) {
          var o = n.prototype.defaultOption;
          o && a.push(o), n = n.superClass;
        }
        for (var s = {}, l = a.length - 1; l >= 0; l--)
          s = gr(s, a[l], !0);
        i.defaultOption = s;
      }
      return i.defaultOption;
    }, e.prototype.getReferringComponents = function(t, i) {
      var a = t + "Index", n = t + "Id";
      return P0(this.ecModel, t, {
        index: this.get(a, !0),
        id: this.get(n, !0)
      }, i);
    }, e.prototype.getBoxLayoutParams = function() {
      return uj(this, !1);
    }, e.prototype.getZLevelKey = function() {
      return "";
    }, e.prototype.setZLevel = function(t) {
      this.option.zlevel = t;
    }, e.protoInitialize = function() {
      var t = e.prototype;
      t.type = "component", t.id = "", t.name = "", t.mainType = "", t.subType = "", t.componentIndex = 0;
    }(), e;
  }(Vr)
);
X$(V0, Vr);
pS(V0);
r0e(V0);
n0e(V0, k0e);
function k0e(r) {
  var e = [];
  return J(V0.getClassesByMainType(r), function(t) {
    e = e.concat(t.dependencies || t.prototype.dependencies || []);
  }), e = Je(e, function(t) {
    return Sl(t).main;
  }), r !== "dataset" && dr(e, "dataset") <= 0 && e.unshift("dataset"), e;
}
const Rr = V0;
var Rf = {
  color: {},
  darkColor: {},
  size: {}
}, gi = Rf.color = {
  theme: ["#5070dd", "#b6d634", "#505372", "#ff994d", "#0ca8df", "#ffd10a", "#fb628b", "#785db0", "#3fbe95"],
  neutral00: "#fff",
  neutral05: "#f4f7fd",
  neutral10: "#e8ebf0",
  neutral15: "#dbdee4",
  neutral20: "#cfd2d7",
  neutral25: "#c3c5cb",
  neutral30: "#b7b9be",
  neutral35: "#aaacb2",
  neutral40: "#9ea0a5",
  neutral45: "#929399",
  neutral50: "#86878c",
  neutral55: "#797b7f",
  neutral60: "#6d6e73",
  neutral65: "#616266",
  neutral70: "#54555a",
  neutral75: "#48494d",
  neutral80: "#3c3c41",
  neutral85: "#303034",
  neutral90: "#232328",
  neutral95: "#17171b",
  neutral99: "#000",
  accent05: "#eff1f9",
  accent10: "#e0e4f2",
  accent15: "#d0d6ec",
  accent20: "#c0c9e6",
  accent25: "#b1bbdf",
  accent30: "#a1aed9",
  accent35: "#91a0d3",
  accent40: "#8292cc",
  accent45: "#7285c6",
  accent50: "#6578ba",
  accent55: "#5c6da9",
  accent60: "#536298",
  accent65: "#4a5787",
  accent70: "#404c76",
  accent75: "#374165",
  accent80: "#2e3654",
  accent85: "#252b43",
  accent90: "#1b2032",
  accent95: "#121521",
  transparent: "rgba(0,0,0,0)",
  highlight: "rgba(255,231,130,0.8)"
};
$e(gi, {
  primary: gi.neutral80,
  secondary: gi.neutral70,
  tertiary: gi.neutral60,
  quaternary: gi.neutral50,
  disabled: gi.neutral20,
  border: gi.neutral30,
  borderTint: gi.neutral20,
  borderShade: gi.neutral40,
  background: gi.neutral05,
  backgroundTint: "rgba(234,237,245,0.5)",
  backgroundTransparent: "rgba(255,255,255,0)",
  backgroundShade: gi.neutral10,
  shadow: "rgba(0,0,0,0.2)",
  shadowTint: "rgba(129,130,136,0.2)",
  axisLine: gi.neutral70,
  axisLineTint: gi.neutral40,
  axisTick: gi.neutral70,
  axisTickMinor: gi.neutral60,
  axisLabel: gi.neutral70,
  axisSplitLine: gi.neutral15,
  axisMinorSplitLine: gi.neutral05
});
for (var tf in gi)
  if (gi.hasOwnProperty(tf)) {
    var xO = gi[tf];
    tf === "theme" ? Rf.darkColor.theme = gi.theme.slice() : tf === "highlight" ? Rf.darkColor.highlight = "rgba(255,231,130,0.4)" : tf.indexOf("accent") === 0 ? Rf.darkColor[tf] = Cu(xO, null, function(r) {
      return r * 0.5;
    }, function(r) {
      return Math.min(1, 1.3 - r);
    }) : Rf.darkColor[tf] = Cu(xO, null, function(r) {
      return r * 0.9;
    }, function(r) {
      return 1 - Math.pow(r, 1.5);
    });
  }
Rf.size = {
  xxs: 2,
  xs: 5,
  s: 10,
  m: 15,
  l: 20,
  xl: 30,
  xxl: 40,
  xxxl: 50
};
const Ve = Rf;
var dj = "";
typeof navigator < "u" && (dj = navigator.platform || "");
var sp = "rgba(0, 0, 0, 0.2)", pj = Ve.color.theme[0], M0e = Cu(pj, null, null, 0.9);
const I0e = {
  darkMode: "auto",
  // backgroundColor: 'rgba(0,0,0,0)',
  colorBy: "series",
  color: Ve.color.theme,
  gradientColor: [M0e, pj],
  aria: {
    decal: {
      decals: [{
        color: sp,
        dashArrayX: [1, 0],
        dashArrayY: [2, 5],
        symbolSize: 1,
        rotation: Math.PI / 6
      }, {
        color: sp,
        symbol: "circle",
        dashArrayX: [[8, 8], [0, 8, 8, 0]],
        dashArrayY: [6, 0],
        symbolSize: 0.8
      }, {
        color: sp,
        dashArrayX: [1, 0],
        dashArrayY: [4, 3],
        rotation: -Math.PI / 4
      }, {
        color: sp,
        dashArrayX: [[6, 6], [0, 6, 6, 0]],
        dashArrayY: [6, 0]
      }, {
        color: sp,
        dashArrayX: [[1, 0], [1, 6]],
        dashArrayY: [1, 0, 6, 0],
        rotation: Math.PI / 4
      }, {
        color: sp,
        symbol: "triangle",
        dashArrayX: [[9, 9], [0, 9, 9, 0]],
        dashArrayY: [7, 2],
        symbolSize: 0.75
      }]
    }
  },
  // If xAxis and yAxis declared, grid is created by default.
  // grid: {},
  textStyle: {
    // color: '#000',
    // decoration: 'none',
    // PENDING
    fontFamily: dj.match(/^Win/) ? "Microsoft YaHei" : "sans-serif",
    // fontFamily: 'Arial, Verdana, sans-serif',
    fontSize: 12,
    fontStyle: "normal",
    fontWeight: "normal"
  },
  // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/
  // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation
  // Default is source-over
  blendMode: null,
  stateAnimation: {
    duration: 300,
    easing: "cubicOut"
  },
  animation: "auto",
  animationDuration: 1e3,
  animationDurationUpdate: 500,
  animationEasing: "cubicInOut",
  animationEasingUpdate: "cubicInOut",
  animationThreshold: 2e3,
  // Configuration for progressive/incremental rendering
  progressiveThreshold: 3e3,
  progressive: 400,
  // Threshold of if use single hover layer to optimize.
  // It is recommended that `hoverLayerThreshold` is equivalent to or less than
  // `progressiveThreshold`, otherwise hover will cause restart of progressive,
  // which is unexpected.
  // see example <echarts/test/heatmap-large.html>.
  hoverLayerThreshold: 3e3,
  // See: module:echarts/scale/Time
  useUTC: !1
};
var s6 = Pt(["tooltip", "label", "itemName", "itemId", "itemGroupId", "itemChildGroupId", "seriesName"]), Po = "original", ca = "arrayRows", Ro = "objectRows", Ys = "keyedColumns", Eu = "typedArray", vj = "unknown", Ns = "column", Cd = "row", ga = {
  Must: 1,
  Might: 2,
  Not: 3
  // Other cases
}, gj = Ar();
function P0e(r) {
  gj(r).datasetMap = Pt();
}
function mj(r, e, t) {
  var i = {}, a = gD(e);
  if (!a || !r)
    return i;
  var n = [], o = [], s = e.ecModel, l = gj(s).datasetMap, u = a.uid + "_" + t.seriesLayoutBy, c, f;
  r = r.slice(), J(r, function(y, _) {
    var w = zt(y) ? y : r[_] = {
      name: y
    };
    w.type === "ordinal" && c == null && (c = _, f = v(w)), i[w.name] = [];
  });
  var d = l.get(u) || l.set(u, {
    categoryWayDim: f,
    valueWayDim: 0
  });
  J(r, function(y, _) {
    var w = y.name, S = v(y);
    if (c == null) {
      var x = d.valueWayDim;
      p(i[w], x, S), p(o, x, S), d.valueWayDim += S;
    } else if (c === _)
      p(i[w], 0, S), p(n, 0, S);
    else {
      var x = d.categoryWayDim;
      p(i[w], x, S), p(o, x, S), d.categoryWayDim += S;
    }
  });
  function p(y, _, w) {
    for (var S = 0; S < w; S++)
      y.push(_ + S);
  }
  function v(y) {
    var _ = y.dimsDef;
    return _ ? _.length : 1;
  }
  return n.length && (i.itemName = n), o.length && (i.seriesName = o), i;
}
function vD(r, e, t) {
  var i = {}, a = gD(r);
  if (!a)
    return i;
  var n = e.sourceFormat, o = e.dimensionsDefine, s;
  (n === Ro || n === Ys) && J(o, function(c, f) {
    (zt(c) ? c.name : c) === "name" && (s = f);
  });
  var l = function() {
    for (var c = {}, f = {}, d = [], p = 0, v = Math.min(5, t); p < v; p++) {
      var y = _j(e.data, n, e.seriesLayoutBy, o, e.startIndex, p);
      d.push(y);
      var _ = y === ga.Not;
      if (_ && c.v == null && p !== s && (c.v = p), (c.n == null || c.n === c.v || !_ && d[c.n] === ga.Not) && (c.n = p), w(c) && d[c.n] !== ga.Not)
        return c;
      _ || (y === ga.Might && f.v == null && p !== s && (f.v = p), (f.n == null || f.n === f.v) && (f.n = p));
    }
    function w(S) {
      return S.v != null && S.n != null;
    }
    return w(c) ? c : w(f) ? f : null;
  }();
  if (l) {
    i.value = [l.v];
    var u = s ?? l.n;
    i.itemName = [u], i.seriesName = [u];
  }
  return i;
}
function gD(r) {
  var e = r.get("data", !0);
  if (!e)
    return P0(r.ecModel, "dataset", {
      index: r.get("datasetIndex", !0),
      id: r.get("datasetId", !0)
    }, ri).models[0];
}
function R0e(r) {
  return !r.get("transform", !0) && !r.get("fromTransformResult", !0) ? [] : P0(r.ecModel, "dataset", {
    index: r.get("fromDatasetIndex", !0),
    id: r.get("fromDatasetId", !0)
  }, ri).models;
}
function yj(r, e) {
  return _j(r.data, r.sourceFormat, r.seriesLayoutBy, r.dimensionsDefine, r.startIndex, e);
}
function _j(r, e, t, i, a, n) {
  var o, s = 5;
  if (za(r))
    return ga.Not;
  var l, u;
  if (i) {
    var c = i[n];
    zt(c) ? (l = c.name, u = c.type) : vt(c) && (l = c);
  }
  if (u != null)
    return u === "ordinal" ? ga.Must : ga.Not;
  if (e === ca) {
    var f = r;
    if (t === Cd) {
      for (var d = f[n], p = 0; p < (d || []).length && p < s; p++)
        if ((o = E(d[a + p])) != null)
          return o;
    } else
      for (var p = 0; p < f.length && p < s; p++) {
        var v = f[a + p];
        if (v && (o = E(v[n])) != null)
          return o;
      }
  } else if (e === Ro) {
    var y = r;
    if (!l)
      return ga.Not;
    for (var p = 0; p < y.length && p < s; p++) {
      var _ = y[p];
      if (_ && (o = E(_[l])) != null)
        return o;
    }
  } else if (e === Ys) {
    var w = r;
    if (!l)
      return ga.Not;
    var d = w[l];
    if (!d || za(d))
      return ga.Not;
    for (var p = 0; p < d.length && p < s; p++)
      if ((o = E(d[p])) != null)
        return o;
  } else if (e === Po)
    for (var S = r, p = 0; p < S.length && p < s; p++) {
      var _ = S[p], x = I0(_);
      if (!Ke(x))
        return ga.Not;
      if ((o = E(x[n])) != null)
        return o;
    }
  function E(M) {
    var k = vt(M);
    if (M != null && Number.isFinite(Number(M)) && M !== "")
      return k ? ga.Might : ga.Not;
    if (k && M !== "-")
      return ga.Must;
  }
  return ga.Not;
}
var l6 = Pt();
function L0e(r, e) {
  kt(l6.get(r) == null && e), l6.set(r, e);
}
function O0e(r, e, t) {
  var i = l6.get(e);
  if (!i)
    return t;
  var a = i(r);
  if (!a)
    return t;
  if (process.env.NODE_ENV !== "production")
    for (var n = 0; n < a.length; n++)
      kt(s0(a[n]));
  return t.concat(a);
}
var TO = Ar(), F0e = Ar(), mD = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.getColorFromPalette = function(e, t, i) {
      var a = xn(this.get("color", !0)), n = this.get("colorLayer", !0);
      return bj(this, TO, a, n, e, t, i);
    }, r.prototype.clearColorPalette = function() {
      B0e(this, TO);
    }, r;
  }()
);
function u6(r, e, t, i) {
  var a = xn(r.get(["aria", "decal", "decals"]));
  return bj(r, F0e, a, null, e, t, i);
}
function N0e(r, e) {
  for (var t = r.length, i = 0; i < t; i++)
    if (r[i].length > e)
      return r[i];
  return r[t - 1];
}
function bj(r, e, t, i, a, n, o) {
  n = n || r;
  var s = e(n), l = s.paletteIdx || 0, u = s.paletteNameMap = s.paletteNameMap || {};
  if (u.hasOwnProperty(a))
    return u[a];
  var c = o == null || !i ? t : N0e(i, o);
  if (c = c || t, !(!c || !c.length)) {
    var f = c[l];
    return a && (u[a] = f), s.paletteIdx = (l + 1) % c.length, f;
  }
}
function B0e(r, e) {
  e(r).paletteIdx = 0, e(r).paletteNameMap = {};
}
var Gy, Yv, CO, V3 = "\0_ec_inner", AO = 1, V0e = {
  grid: "GridComponent",
  polar: "PolarComponent",
  geo: "GeoComponent",
  singleAxis: "SingleAxisComponent",
  parallel: "ParallelComponent",
  calendar: "CalendarComponent",
  matrix: "MatrixComponent",
  graphic: "GraphicComponent",
  toolbox: "ToolboxComponent",
  tooltip: "TooltipComponent",
  axisPointer: "AxisPointerComponent",
  brush: "BrushComponent",
  title: "TitleComponent",
  timeline: "TimelineComponent",
  markPoint: "MarkPointComponent",
  markLine: "MarkLineComponent",
  markArea: "MarkAreaComponent",
  legend: "LegendComponent",
  dataZoom: "DataZoomComponent",
  visualMap: "VisualMapComponent",
  // aria: 'AriaComponent',
  // dataset: 'DatasetComponent',
  // Dependencies
  xAxis: "GridComponent",
  yAxis: "GridComponent",
  angleAxis: "PolarComponent",
  radiusAxis: "PolarComponent"
}, U0e = {
  line: "LineChart",
  bar: "BarChart",
  pie: "PieChart",
  scatter: "ScatterChart",
  radar: "RadarChart",
  map: "MapChart",
  tree: "TreeChart",
  treemap: "TreemapChart",
  graph: "GraphChart",
  chord: "ChordChart",
  gauge: "GaugeChart",
  funnel: "FunnelChart",
  parallel: "ParallelChart",
  sankey: "SankeyChart",
  boxplot: "BoxplotChart",
  candlestick: "CandlestickChart",
  effectScatter: "EffectScatterChart",
  lines: "LinesChart",
  heatmap: "HeatmapChart",
  pictorialBar: "PictorialBarChart",
  themeRiver: "ThemeRiverChart",
  sunburst: "SunburstChart",
  custom: "CustomChart"
}, Q_ = {};
function G0e(r) {
  J(r, function(e, t) {
    if (!Rr.hasClass(t)) {
      var i = V0e[t];
      i && !Q_[i] && (Nr("Component " + t + ` is used but not imported.
import { ` + i + ` } from 'echarts/components';
echarts.use([` + i + "]);"), Q_[i] = !0);
    }
  });
}
var wj = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e.prototype.init = function(t, i, a, n, o, s) {
      n = n || {}, this.option = null, this._theme = new Vr(n), this._locale = new Vr(o), this._optionManager = s;
    }, e.prototype.setOption = function(t, i, a) {
      process.env.NODE_ENV !== "production" && (kt(t != null, "option is null/undefined"), kt(t[V3] !== AO, "please use chart.getOption()"));
      var n = kO(i);
      this._optionManager.setOption(t, a, n), this._resetOption(null, n);
    }, e.prototype.resetOption = function(t, i) {
      return this._resetOption(t, kO(i));
    }, e.prototype._resetOption = function(t, i) {
      var a = !1, n = this._optionManager;
      if (!t || t === "recreate") {
        var o = n.mountOption(t === "recreate");
        process.env.NODE_ENV !== "production" && G0e(o), !this.option || t === "recreate" ? CO(this, o) : (this.restoreData(), this._mergeOption(o, i)), a = !0;
      }
      if ((t === "timeline" || t === "media") && this.restoreData(), !t || t === "recreate" || t === "timeline") {
        var s = n.getTimelineOption(this);
        s && (a = !0, this._mergeOption(s, i));
      }
      if (!t || t === "recreate" || t === "media") {
        var l = n.getMediaOption(this);
        l.length && J(l, function(u) {
          a = !0, this._mergeOption(u, i);
        }, this);
      }
      return a;
    }, e.prototype.mergeOption = function(t) {
      this._mergeOption(t, null);
    }, e.prototype._mergeOption = function(t, i) {
      var a = this.option, n = this._componentsMap, o = this._componentsCount, s = [], l = Pt(), u = i && i.replaceMergeMainTypeMap;
      P0e(this), J(t, function(f, d) {
        f != null && (Rr.hasClass(d) ? d && (s.push(d), l.set(d, !0)) : a[d] = a[d] == null ? Gt(f) : gr(a[d], f, !0));
      }), u && u.each(function(f, d) {
        Rr.hasClass(d) && !l.get(d) && (s.push(d), l.set(d, !0));
      }), Rr.topologicalTravel(s, Rr.getAllClassMainTypes(), c, this);
      function c(f) {
        var d = O0e(this, f, xn(t[f])), p = n.get(f), v = (
          // `!oldCmptList` means init. See the comment in `mappingToExists`
          p ? u && u.get(f) ? "replaceMerge" : "normalMerge" : "replaceAll"
        ), y = H$(p, d, v);
        Wfe(y, f, Rr), a[f] = null, n.set(f, null), o.set(f, 0);
        var _ = [], w = [], S = 0, x, E;
        J(y, function(M, k) {
          var P = M.existing, L = M.newOption;
          if (!L)
            P && (P.mergeOption({}, this), P.optionUpdated({}, !1));
          else {
            var F = f === "series", O = Rr.getClass(
              f,
              M.keyInfo.subType,
              !F
              // Give a more detailed warn later if series don't exists
            );
            if (!O) {
              if (process.env.NODE_ENV !== "production") {
                var U = M.keyInfo.subType, V = U0e[U];
                Q_[U] || (Q_[U] = !0, Nr(V ? "Series " + U + ` is used but not imported.
import { ` + V + ` } from 'echarts/charts';
echarts.use([` + V + "]);" : "Unknown series " + U));
              }
              return;
            }
            if (f === "tooltip") {
              if (x) {
                process.env.NODE_ENV !== "production" && (E || (Yn("Currently only one tooltip component is allowed."), E = !0));
                return;
              }
              x = !0;
            }
            if (P && P.constructor === O)
              P.name = M.keyInfo.name, P.mergeOption(L, this), P.optionUpdated(L, !1);
            else {
              var G = $e({
                componentIndex: k
              }, M.keyInfo);
              P = new O(L, this, this, G), $e(P, G), M.brandNew && (P.__requireNewView = !0), P.init(L, this, this), P.optionUpdated(null, !0);
            }
          }
          P ? (_.push(P.option), w.push(P), S++) : (_.push(void 0), w.push(void 0));
        }, this), a[f] = _, n.set(f, w), o.set(f, S), f === "series" && Gy(this);
      }
      this._seriesIndices || Gy(this);
    }, e.prototype.getOption = function() {
      var t = Gt(this.option);
      return J(t, function(i, a) {
        if (Rr.hasClass(a)) {
          for (var n = xn(i), o = n.length, s = !1, l = o - 1; l >= 0; l--)
            n[l] && !s0(n[l]) ? s = !0 : (n[l] = null, !s && o--);
          n.length = o, t[a] = n;
        }
      }), delete t[V3], t;
    }, e.prototype.setTheme = function(t) {
      this._theme = new Vr(t), this._resetOption("recreate", null);
    }, e.prototype.getTheme = function() {
      return this._theme;
    }, e.prototype.getLocaleModel = function() {
      return this._locale;
    }, e.prototype.setUpdatePayload = function(t) {
      this._payload = t;
    }, e.prototype.getUpdatePayload = function() {
      return this._payload;
    }, e.prototype.getComponent = function(t, i) {
      var a = this._componentsMap.get(t);
      if (a) {
        var n = a[i || 0];
        if (n)
          return n;
        if (i == null) {
          for (var o = 0; o < a.length; o++)
            if (a[o])
              return a[o];
        }
      }
    }, e.prototype.queryComponents = function(t) {
      var i = t.mainType;
      if (!i)
        return [];
      var a = t.index, n = t.id, o = t.name, s = this._componentsMap.get(i);
      if (!s || !s.length)
        return [];
      var l;
      return a != null ? (l = [], J(xn(a), function(u) {
        s[u] && l.push(s[u]);
      })) : n != null ? l = EO("id", n, s) : o != null ? l = EO("name", o, s) : l = Xr(s, function(u) {
        return !!u;
      }), DO(l, t);
    }, e.prototype.findComponents = function(t) {
      var i = t.query, a = t.mainType, n = s(i), o = n ? this.queryComponents(n) : Xr(this._componentsMap.get(a), function(u) {
        return !!u;
      });
      return l(DO(o, t));
      function s(u) {
        var c = a + "Index", f = a + "Id", d = a + "Name";
        return u && (u[c] != null || u[f] != null || u[d] != null) ? {
          mainType: a,
          // subType will be filtered finally.
          index: u[c],
          id: u[f],
          name: u[d]
        } : null;
      }
      function l(u) {
        return t.filter ? Xr(u, t.filter) : u;
      }
    }, e.prototype.eachComponent = function(t, i, a) {
      var n = this._componentsMap;
      if (Bt(t)) {
        var o = i, s = t;
        n.each(function(f, d) {
          for (var p = 0; f && p < f.length; p++) {
            var v = f[p];
            v && s.call(o, d, v, v.componentIndex);
          }
        });
      } else
        for (var l = vt(t) ? n.get(t) : zt(t) ? this.findComponents(t) : null, u = 0; l && u < l.length; u++) {
          var c = l[u];
          c && i.call(a, c, c.componentIndex);
        }
    }, e.prototype.getSeriesByName = function(t) {
      var i = Vi(t, null);
      return Xr(this._componentsMap.get("series"), function(a) {
        return !!a && i != null && a.name === i;
      });
    }, e.prototype.getSeriesByIndex = function(t) {
      return this._componentsMap.get("series")[t];
    }, e.prototype.getSeriesByType = function(t) {
      return Xr(this._componentsMap.get("series"), function(i) {
        return !!i && i.subType === t;
      });
    }, e.prototype.getSeries = function() {
      return Xr(this._componentsMap.get("series"), function(t) {
        return !!t;
      });
    }, e.prototype.getSeriesCount = function() {
      return this._componentsCount.get("series");
    }, e.prototype.eachSeries = function(t, i) {
      Yv(this), J(this._seriesIndices, function(a) {
        var n = this._componentsMap.get("series")[a];
        t.call(i, n, a);
      }, this);
    }, e.prototype.eachRawSeries = function(t, i) {
      J(this._componentsMap.get("series"), function(a) {
        a && t.call(i, a, a.componentIndex);
      });
    }, e.prototype.eachSeriesByType = function(t, i, a) {
      Yv(this), J(this._seriesIndices, function(n) {
        var o = this._componentsMap.get("series")[n];
        o.subType === t && i.call(a, o, n);
      }, this);
    }, e.prototype.eachRawSeriesByType = function(t, i, a) {
      return J(this.getSeriesByType(t), i, a);
    }, e.prototype.isSeriesFiltered = function(t) {
      return Yv(this), this._seriesIndicesMap.get(t.componentIndex) == null;
    }, e.prototype.getCurrentSeriesIndices = function() {
      return (this._seriesIndices || []).slice();
    }, e.prototype.filterSeries = function(t, i) {
      Yv(this);
      var a = [];
      J(this._seriesIndices, function(n) {
        var o = this._componentsMap.get("series")[n];
        t.call(i, o, n) && a.push(n);
      }, this), this._seriesIndices = a, this._seriesIndicesMap = Pt(a);
    }, e.prototype.restoreData = function(t) {
      Gy(this);
      var i = this._componentsMap, a = [];
      i.each(function(n, o) {
        Rr.hasClass(o) && a.push(o);
      }), Rr.topologicalTravel(a, Rr.getAllClassMainTypes(), function(n) {
        J(i.get(n), function(o) {
          o && (n !== "series" || !z0e(o, t)) && o.restoreData();
        });
      });
    }, e.internalField = function() {
      Gy = function(t) {
        var i = t._seriesIndices = [];
        J(t._componentsMap.get("series"), function(a) {
          a && i.push(a.componentIndex);
        }), t._seriesIndicesMap = Pt(i);
      }, Yv = function(t) {
        if (process.env.NODE_ENV !== "production" && !t._seriesIndices)
          throw new Error("Option should contains series.");
      }, CO = function(t, i) {
        t.option = {}, t.option[V3] = AO, t._componentsMap = Pt({
          series: []
        }), t._componentsCount = Pt();
        var a = i.aria;
        zt(a) && a.enabled == null && (a.enabled = !0), W0e(i, t._theme.option), gr(i, I0e, !1), t._mergeOption(i, null);
      };
    }(), e;
  }(Vr)
);
function z0e(r, e) {
  if (e) {
    var t = e.seriesIndex, i = e.seriesId, a = e.seriesName;
    return t != null && r.componentIndex !== t || i != null && r.id !== i || a != null && r.name !== a;
  }
}
function W0e(r, e) {
  var t = r.color && !r.colorLayer;
  J(e, function(i, a) {
    a === "colorLayer" && t || a === "color" && r.color || Rr.hasClass(a) || (typeof i == "object" ? r[a] = r[a] ? gr(r[a], i, !1) : Gt(i) : r[a] == null && (r[a] = i));
  });
}
function EO(r, e, t) {
  if (Ke(e)) {
    var i = Pt();
    return J(e, function(n) {
      if (n != null) {
        var o = Vi(n, null);
        o != null && i.set(n, !0);
      }
    }), Xr(t, function(n) {
      return n && i.get(n[r]);
    });
  } else {
    var a = Vi(e, null);
    return Xr(t, function(n) {
      return n && a != null && n[r] === a;
    });
  }
}
function DO(r, e) {
  return e.hasOwnProperty("subType") ? Xr(r, function(t) {
    return t && t.subType === e.subType;
  }) : r;
}
function kO(r) {
  var e = Pt();
  return r && J(xn(r.replaceMerge), function(t) {
    process.env.NODE_ENV !== "production" && kt(Rr.hasClass(t), '"' + t + '" is not valid component main type in "replaceMerge"'), e.set(t, !0);
  }), {
    replaceMergeMainTypeMap: e
  };
}
ci(wj, mD);
const Sj = wj;
var H0e = [
  "getDom",
  "getZr",
  "getWidth",
  "getHeight",
  "getDevicePixelRatio",
  "dispatchAction",
  "isSSR",
  "isDisposed",
  "on",
  "off",
  "getDataURL",
  "getConnectedDataURL",
  // 'getModel',
  "getOption",
  // 'getViewOfComponentModel',
  // 'getViewOfSeriesModel',
  "getId",
  "updateLabelLayout"
], $0e = (
  /** @class */
  function() {
    function r(e) {
      J(H0e, function(t) {
        this[t] = mt(e[t], e);
      }, this);
    }
    return r;
  }()
);
const xj = $0e;
var Y0e = /^(min|max)?(.+)$/, j0e = (
  /** @class */
  function() {
    function r(e) {
      this._timelineOptions = [], this._mediaList = [], this._currentMediaIndices = [], this._api = e;
    }
    return r.prototype.setOption = function(e, t, i) {
      e && (J(xn(e.series), function(o) {
        o && o.data && za(o.data) && a1(o.data);
      }), J(xn(e.dataset), function(o) {
        o && o.source && za(o.source) && a1(o.source);
      })), e = Gt(e);
      var a = this._optionBackup, n = q0e(e, t, !a);
      this._newBaseOption = n.baseOption, a ? (n.timelineOptions.length && (a.timelineOptions = n.timelineOptions), n.mediaList.length && (a.mediaList = n.mediaList), n.mediaDefault && (a.mediaDefault = n.mediaDefault)) : this._optionBackup = n;
    }, r.prototype.mountOption = function(e) {
      var t = this._optionBackup;
      return this._timelineOptions = t.timelineOptions, this._mediaList = t.mediaList, this._mediaDefault = t.mediaDefault, this._currentMediaIndices = [], Gt(e ? t.baseOption : this._newBaseOption);
    }, r.prototype.getTimelineOption = function(e) {
      var t, i = this._timelineOptions;
      if (i.length) {
        var a = e.getComponent("timeline");
        a && (t = Gt(
          // FIXME:TS as TimelineModel or quivlant interface
          i[a.getCurrentIndex()]
        ));
      }
      return t;
    }, r.prototype.getMediaOption = function(e) {
      var t = this._api.getWidth(), i = this._api.getHeight(), a = this._mediaList, n = this._mediaDefault, o = [], s = [];
      if (!a.length && !n)
        return s;
      for (var l = 0, u = a.length; l < u; l++)
        X0e(a[l].query, t, i) && o.push(l);
      return !o.length && n && (o = [-1]), o.length && !Z0e(o, this._currentMediaIndices) && (s = Je(o, function(c) {
        return Gt(c === -1 ? n.option : a[c].option);
      })), this._currentMediaIndices = o, s;
    }, r;
  }()
);
function q0e(r, e, t) {
  var i = [], a, n, o = r.baseOption, s = r.timeline, l = r.options, u = r.media, c = !!r.media, f = !!(l || s || o && o.timeline);
  o ? (n = o, n.timeline || (n.timeline = s)) : ((f || c) && (r.options = r.media = null), n = r), c && (Ke(u) ? J(u, function(p) {
    process.env.NODE_ENV !== "production" && p && !p.option && zt(p.query) && zt(p.query.option) && Nr("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }"), p && p.option && (p.query ? i.push(p) : a || (a = p));
  }) : process.env.NODE_ENV !== "production" && Nr("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }")), d(n), J(l, function(p) {
    return d(p);
  }), J(i, function(p) {
    return d(p.option);
  });
  function d(p) {
    J(e, function(v) {
      v(p, t);
    });
  }
  return {
    baseOption: n,
    timelineOptions: l || [],
    mediaDefault: a,
    mediaList: i
  };
}
function X0e(r, e, t) {
  var i = {
    width: e,
    height: t,
    aspectratio: e / t
    // lower case for convenience.
  }, a = !0;
  return J(r, function(n, o) {
    var s = o.match(Y0e);
    if (!(!s || !s[1] || !s[2])) {
      var l = s[1], u = s[2].toLowerCase();
      K0e(i[u], n, l) || (a = !1);
    }
  }), a;
}
function K0e(r, e, t) {
  return t === "min" ? r >= e : t === "max" ? r <= e : r === e;
}
function Z0e(r, e) {
  return r.join(",") === e.join(",");
}
const J0e = j0e;
var Ho = J, m1 = zt, MO = ["areaStyle", "lineStyle", "nodeStyle", "linkStyle", "chordStyle", "label", "labelLine"];
function U3(r) {
  var e = r && r.itemStyle;
  if (e)
    for (var t = 0, i = MO.length; t < i; t++) {
      var a = MO[t], n = e.normal, o = e.emphasis;
      n && n[a] && (process.env.NODE_ENV !== "production" && yi("itemStyle.normal." + a, a), r[a] = r[a] || {}, r[a].normal ? gr(r[a].normal, n[a]) : r[a].normal = n[a], n[a] = null), o && o[a] && (process.env.NODE_ENV !== "production" && yi("itemStyle.emphasis." + a, "emphasis." + a), r[a] = r[a] || {}, r[a].emphasis ? gr(r[a].emphasis, o[a]) : r[a].emphasis = o[a], o[a] = null);
    }
}
function Fa(r, e, t) {
  if (r && r[e] && (r[e].normal || r[e].emphasis)) {
    var i = r[e].normal, a = r[e].emphasis;
    i && (process.env.NODE_ENV !== "production" && Us("'normal' hierarchy in " + e + " has been removed since 4.0. All style properties are configured in " + e + " directly now."), t ? (r[e].normal = r[e].emphasis = null, Yt(r[e], i)) : r[e] = i), a && (process.env.NODE_ENV !== "production" && Us(e + ".emphasis has been changed to emphasis." + e + " since 4.0"), r.emphasis = r.emphasis || {}, r.emphasis[e] = a, a.focus && (r.emphasis.focus = a.focus), a.blurScope && (r.emphasis.blurScope = a.blurScope));
  }
}
function Mg(r) {
  Fa(r, "itemStyle"), Fa(r, "lineStyle"), Fa(r, "areaStyle"), Fa(r, "label"), Fa(r, "labelLine"), Fa(r, "upperLabel"), Fa(r, "edgeLabel");
}
function Ei(r, e) {
  var t = m1(r) && r[e], i = m1(t) && t.textStyle;
  if (i) {
    process.env.NODE_ENV !== "production" && Us("textStyle hierarchy in " + e + " has been removed since 4.0. All textStyle properties are configured in " + e + " directly now.");
    for (var a = 0, n = IL.length; a < n; a++) {
      var o = IL[a];
      i.hasOwnProperty(o) && (t[o] = i[o]);
    }
  }
}
function Jo(r) {
  r && (Mg(r), Ei(r, "label"), r.emphasis && Ei(r.emphasis, "label"));
}
function Q0e(r) {
  if (m1(r)) {
    U3(r), Mg(r), Ei(r, "label"), Ei(r, "upperLabel"), Ei(r, "edgeLabel"), r.emphasis && (Ei(r.emphasis, "label"), Ei(r.emphasis, "upperLabel"), Ei(r.emphasis, "edgeLabel"));
    var e = r.markPoint;
    e && (U3(e), Jo(e));
    var t = r.markLine;
    t && (U3(t), Jo(t));
    var i = r.markArea;
    i && Jo(i);
    var a = r.data;
    if (r.type === "graph") {
      a = a || r.nodes;
      var n = r.links || r.edges;
      if (n && !za(n))
        for (var o = 0; o < n.length; o++)
          Jo(n[o]);
      J(r.categories, function(u) {
        Mg(u);
      });
    }
    if (a && !za(a))
      for (var o = 0; o < a.length; o++)
        Jo(a[o]);
    if (e = r.markPoint, e && e.data)
      for (var s = e.data, o = 0; o < s.length; o++)
        Jo(s[o]);
    if (t = r.markLine, t && t.data)
      for (var l = t.data, o = 0; o < l.length; o++)
        Ke(l[o]) ? (Jo(l[o][0]), Jo(l[o][1])) : Jo(l[o]);
    r.type === "gauge" ? (Ei(r, "axisLabel"), Ei(r, "title"), Ei(r, "detail")) : r.type === "treemap" ? (Fa(r.breadcrumb, "itemStyle"), J(r.levels, function(u) {
      Mg(u);
    })) : r.type === "tree" && Mg(r.leaves);
  }
}
function Jl(r) {
  return Ke(r) ? r : r ? [r] : [];
}
function IO(r) {
  return (Ke(r) ? r[0] : r) || {};
}
function eve(r, e) {
  Ho(Jl(r.series), function(i) {
    m1(i) && Q0e(i);
  });
  var t = ["xAxis", "yAxis", "radiusAxis", "angleAxis", "singleAxis", "parallelAxis", "radar"];
  e && t.push("valueAxis", "categoryAxis", "logAxis", "timeAxis"), Ho(t, function(i) {
    Ho(Jl(r[i]), function(a) {
      a && (Ei(a, "axisLabel"), Ei(a.axisPointer, "label"));
    });
  }), Ho(Jl(r.parallel), function(i) {
    var a = i && i.parallelAxisDefault;
    Ei(a, "axisLabel"), Ei(a && a.axisPointer, "label");
  }), Ho(Jl(r.calendar), function(i) {
    Fa(i, "itemStyle"), Ei(i, "dayLabel"), Ei(i, "monthLabel"), Ei(i, "yearLabel");
  }), Ho(Jl(r.radar), function(i) {
    Ei(i, "name"), i.name && i.axisName == null && (i.axisName = i.name, delete i.name, process.env.NODE_ENV !== "production" && Us("name property in radar component has been changed to axisName")), i.nameGap != null && i.axisNameGap == null && (i.axisNameGap = i.nameGap, delete i.nameGap, process.env.NODE_ENV !== "production" && Us("nameGap property in radar component has been changed to axisNameGap")), process.env.NODE_ENV !== "production" && Ho(i.indicator, function(a) {
      a.text && yi("text", "name", "radar.indicator");
    });
  }), Ho(Jl(r.geo), function(i) {
    m1(i) && (Jo(i), Ho(Jl(i.regions), function(a) {
      Jo(a);
    }));
  }), Ho(Jl(r.timeline), function(i) {
    Jo(i), Fa(i, "label"), Fa(i, "itemStyle"), Fa(i, "controlStyle", !0);
    var a = i.data;
    Ke(a) && J(a, function(n) {
      zt(n) && (Fa(n, "label"), Fa(n, "itemStyle"));
    });
  }), Ho(Jl(r.toolbox), function(i) {
    Fa(i, "iconStyle"), Ho(i.feature, function(a) {
      Fa(a, "iconStyle");
    });
  }), Ei(IO(r.axisPointer), "label"), Ei(IO(r.tooltip).axisPointer, "label");
}
function tve(r, e) {
  for (var t = e.split(","), i = r, a = 0; a < t.length && (i = i && i[t[a]], i != null); a++)
    ;
  return i;
}
function rve(r, e, t, i) {
  for (var a = e.split(","), n = r, o, s = 0; s < a.length - 1; s++)
    o = a[s], n[o] == null && (n[o] = {}), n = n[o];
  (i || n[a[s]] == null) && (n[a[s]] = t);
}
function PO(r) {
  r && J(nve, function(e) {
    e[0] in r && !(e[1] in r) && (r[e[1]] = r[e[0]]);
  });
}
var nve = [["x", "left"], ["y", "top"], ["x2", "right"], ["y2", "bottom"]], ive = ["grid", "geo", "parallel", "legend", "toolbox", "title", "visualMap", "dataZoom", "timeline"], G3 = [["borderRadius", "barBorderRadius"], ["borderColor", "barBorderColor"], ["borderWidth", "barBorderWidth"]];
function jv(r) {
  var e = r && r.itemStyle;
  if (e)
    for (var t = 0; t < G3.length; t++) {
      var i = G3[t][1], a = G3[t][0];
      e[i] != null && (e[a] = e[i], process.env.NODE_ENV !== "production" && yi(i, a));
    }
}
function RO(r) {
  r && r.alignTo === "edge" && r.margin != null && r.edgeDistance == null && (process.env.NODE_ENV !== "production" && yi("label.margin", "label.edgeDistance", "pie"), r.edgeDistance = r.margin);
}
function LO(r) {
  r && r.downplay && !r.blur && (r.blur = r.downplay, process.env.NODE_ENV !== "production" && yi("downplay", "blur", "sunburst"));
}
function ave(r) {
  r && r.focusNodeAdjacency != null && (r.emphasis = r.emphasis || {}, r.emphasis.focus == null && (process.env.NODE_ENV !== "production" && yi("focusNodeAdjacency", "emphasis: { focus: 'adjacency'}", "graph/sankey"), r.emphasis.focus = "adjacency"));
}
function Tj(r, e) {
  if (r)
    for (var t = 0; t < r.length; t++)
      e(r[t]), r[t] && Tj(r[t].children, e);
}
function Cj(r, e) {
  eve(r, e), r.series = xn(r.series), J(r.series, function(t) {
    if (zt(t)) {
      var i = t.type;
      if (i === "line")
        t.clipOverflow != null && (t.clip = t.clipOverflow, process.env.NODE_ENV !== "production" && yi("clipOverflow", "clip", "line"));
      else if (i === "pie" || i === "gauge") {
        t.clockWise != null && (t.clockwise = t.clockWise, process.env.NODE_ENV !== "production" && yi("clockWise", "clockwise")), RO(t.label);
        var a = t.data;
        if (a && !za(a))
          for (var n = 0; n < a.length; n++)
            RO(a[n]);
        t.hoverOffset != null && (t.emphasis = t.emphasis || {}, (t.emphasis.scaleSize = null) && (process.env.NODE_ENV !== "production" && yi("hoverOffset", "emphasis.scaleSize"), t.emphasis.scaleSize = t.hoverOffset));
      } else if (i === "gauge") {
        var o = tve(t, "pointer.color");
        o != null && rve(t, "itemStyle.color", o);
      } else if (i === "bar") {
        jv(t), jv(t.backgroundStyle), jv(t.emphasis);
        var a = t.data;
        if (a && !za(a))
          for (var n = 0; n < a.length; n++)
            typeof a[n] == "object" && (jv(a[n]), jv(a[n] && a[n].emphasis));
      } else if (i === "sunburst") {
        var s = t.highlightPolicy;
        s && (t.emphasis = t.emphasis || {}, t.emphasis.focus || (t.emphasis.focus = s, process.env.NODE_ENV !== "production" && yi("highlightPolicy", "emphasis.focus", "sunburst"))), LO(t), Tj(t.data, LO);
      } else
        i === "graph" || i === "sankey" ? ave(t) : i === "map" && (t.mapType && !t.map && (process.env.NODE_ENV !== "production" && yi("mapType", "map", "map"), t.map = t.mapType), t.mapLocation && (process.env.NODE_ENV !== "production" && Us("`mapLocation` is not used anymore."), Yt(t, t.mapLocation)));
      t.hoverAnimation != null && (t.emphasis = t.emphasis || {}, t.emphasis && t.emphasis.scale == null && (process.env.NODE_ENV !== "production" && yi("hoverAnimation", "emphasis.scale"), t.emphasis.scale = t.hoverAnimation)), PO(t);
    }
  }), r.dataRange && (r.visualMap = r.dataRange), J(ive, function(t) {
    var i = r[t];
    i && (Ke(i) || (i = [i]), J(i, function(a) {
      PO(a);
    }));
  });
}
function ove(r) {
  var e = Pt();
  r.eachSeries(function(t) {
    var i = t.get("stack");
    if (i) {
      var a = e.get(i) || e.set(i, []), n = t.getData(), o = {
        // Used for calculate axis extent automatically.
        // TODO: Type getCalculationInfo return more specific type?
        stackResultDimension: n.getCalculationInfo("stackResultDimension"),
        stackedOverDimension: n.getCalculationInfo("stackedOverDimension"),
        stackedDimension: n.getCalculationInfo("stackedDimension"),
        stackedByDimension: n.getCalculationInfo("stackedByDimension"),
        isStackedByIndex: n.getCalculationInfo("isStackedByIndex"),
        data: n,
        seriesModel: t
      };
      if (!o.stackedDimension || !(o.isStackedByIndex || o.stackedByDimension))
        return;
      a.push(o);
    }
  }), e.each(function(t) {
    if (t.length !== 0) {
      var i = t[0].seriesModel, a = i.get("stackOrder") || "seriesAsc";
      a === "seriesDesc" && t.reverse(), J(t, function(n, o) {
        n.data.setCalculationInfo("stackedOnSeries", o > 0 ? t[o - 1].seriesModel : null);
      }), sve(t);
    }
  });
}
function sve(r) {
  J(r, function(e, t) {
    var i = [], a = [NaN, NaN], n = [e.stackResultDimension, e.stackedOverDimension], o = e.data, s = e.isStackedByIndex, l = e.seriesModel.get("stackStrategy") || "samesign";
    o.modify(n, function(u, c, f) {
      var d = o.get(e.stackedDimension, f);
      if (isNaN(d))
        return a;
      var p, v;
      s ? v = o.getRawIndex(f) : p = o.get(e.stackedByDimension, f);
      for (var y = NaN, _ = t - 1; _ >= 0; _--) {
        var w = r[_];
        if (s || (v = w.data.rawIndexOf(w.stackedByDimension, p)), v >= 0) {
          var S = w.data.getByRawIndex(w.stackResultDimension, v);
          if (l === "all" || l === "positive" && S > 0 || l === "negative" && S < 0 || l === "samesign" && d >= 0 && S > 0 || l === "samesign" && d <= 0 && S < 0) {
            d = Ife(d, S), y = S;
            break;
          }
        }
      }
      return i[0] = d, i[1] = y, i;
    });
  });
}
var DS = (
  /** @class */
  function() {
    function r(e) {
      this.data = e.data || (e.sourceFormat === Ys ? {} : []), this.sourceFormat = e.sourceFormat || vj, this.seriesLayoutBy = e.seriesLayoutBy || Ns, this.startIndex = e.startIndex || 0, this.dimensionsDetectedCount = e.dimensionsDetectedCount, this.metaRawOption = e.metaRawOption;
      var t = this.dimensionsDefine = e.dimensionsDefine;
      if (t)
        for (var i = 0; i < t.length; i++) {
          var a = t[i];
          a.type == null && yj(this, i) === ga.Must && (a.type = "ordinal");
        }
    }
    return r;
  }()
);
function yD(r) {
  return r instanceof DS;
}
function c6(r, e, t) {
  t = t || Aj(r);
  var i = e.seriesLayoutBy, a = uve(r, t, i, e.sourceHeader, e.dimensions), n = new DS({
    data: r,
    sourceFormat: t,
    seriesLayoutBy: i,
    dimensionsDefine: a.dimensionsDefine,
    startIndex: a.startIndex,
    dimensionsDetectedCount: a.dimensionsDetectedCount,
    metaRawOption: Gt(e)
  });
  return n;
}
function _D(r) {
  return new DS({
    data: r,
    sourceFormat: za(r) ? Eu : Po
  });
}
function lve(r) {
  return new DS({
    data: r.data,
    sourceFormat: r.sourceFormat,
    seriesLayoutBy: r.seriesLayoutBy,
    dimensionsDefine: Gt(r.dimensionsDefine),
    startIndex: r.startIndex,
    dimensionsDetectedCount: r.dimensionsDetectedCount
  });
}
function Aj(r) {
  var e = vj;
  if (za(r))
    e = Eu;
  else if (Ke(r)) {
    r.length === 0 && (e = ca);
    for (var t = 0, i = r.length; t < i; t++) {
      var a = r[t];
      if (a != null) {
        if (Ke(a) || za(a)) {
          e = ca;
          break;
        } else if (zt(a)) {
          e = Ro;
          break;
        }
      }
    }
  } else if (zt(r)) {
    for (var n in r)
      if (xt(r, n) && ba(r[n])) {
        e = Ys;
        break;
      }
  }
  return e;
}
function uve(r, e, t, i, a) {
  var n, o;
  if (!r)
    return {
      dimensionsDefine: OO(a),
      startIndex: o,
      dimensionsDetectedCount: n
    };
  if (e === ca) {
    var s = r;
    i === "auto" || i == null ? FO(function(u) {
      u != null && u !== "-" && (vt(u) ? o == null && (o = 1) : o = 0);
    }, t, s, 10) : o = Or(i) ? i : i ? 1 : 0, !a && o === 1 && (a = [], FO(function(u, c) {
      a[c] = u != null ? u + "" : "";
    }, t, s, 1 / 0)), n = a ? a.length : t === Cd ? s.length : s[0] ? s[0].length : null;
  } else if (e === Ro)
    a || (a = cve(r));
  else if (e === Ys)
    a || (a = [], J(r, function(u, c) {
      a.push(c);
    }));
  else if (e === Po) {
    var l = I0(r[0]);
    n = Ke(l) && l.length || 1;
  } else
    e === Eu && process.env.NODE_ENV !== "production" && kt(!!a, "dimensions must be given if data is TypedArray.");
  return {
    startIndex: o,
    dimensionsDefine: OO(a),
    dimensionsDetectedCount: n
  };
}
function cve(r) {
  for (var e = 0, t; e < r.length && !(t = r[e++]); )
    ;
  if (t)
    return Ir(t);
}
function OO(r) {
  if (r) {
    var e = Pt();
    return Je(r, function(t, i) {
      t = zt(t) ? t : {
        name: t
      };
      var a = {
        name: t.name,
        displayName: t.displayName,
        type: t.type
      };
      if (a.name == null)
        return a;
      a.name += "", a.displayName == null && (a.displayName = a.name);
      var n = e.get(a.name);
      return n ? a.name += "-" + n.count++ : e.set(a.name, {
        count: 1
      }), a;
    });
  }
}
function FO(r, e, t, i) {
  if (e === Cd)
    for (var a = 0; a < t.length && a < i; a++)
      r(t[a] ? t[a][0] : null, a);
  else
    for (var n = t[0] || [], a = 0; a < n.length && a < i; a++)
      r(n[a], a);
}
function Ej(r) {
  var e = r.sourceFormat;
  return e === Ro || e === Ys;
}
var rf, nf, af, of, NO, BO, Dj = (
  /** @class */
  function() {
    function r(e, t) {
      var i = yD(e) ? e : _D(e);
      this._source = i;
      var a = this._data = i.data, n = i.sourceFormat, o = i.seriesLayoutBy;
      if (n === Eu) {
        if (process.env.NODE_ENV !== "production" && t == null)
          throw new Error("Typed array data must specify dimension size");
        this._offset = 0, this._dimSize = t, this._data = a;
      }
      if (process.env.NODE_ENV !== "production") {
        var s = hve[eb(n, o)];
        s && s(a, i.dimensionsDefine);
      }
      BO(this, a, i);
    }
    return r.prototype.getSource = function() {
      return this._source;
    }, r.prototype.count = function() {
      return 0;
    }, r.prototype.getItem = function(e, t) {
    }, r.prototype.appendData = function(e) {
    }, r.prototype.clean = function() {
    }, r.protoInitialize = function() {
      var e = r.prototype;
      e.pure = !1, e.persistent = !0;
    }(), r.internalField = function() {
      var e;
      BO = function(o, s, l) {
        var u = l.sourceFormat, c = l.seriesLayoutBy, f = l.startIndex, d = l.dimensionsDefine, p = NO[eb(u, c)];
        if (process.env.NODE_ENV !== "production" && kt(p, "Invalide sourceFormat: " + u), $e(o, p), u === Eu)
          o.getItem = t, o.count = a, o.fillStorage = i;
        else {
          var v = kj(u, c);
          o.getItem = mt(v, null, s, f, d);
          var y = Mj(u, c);
          o.count = mt(y, null, s, f, d);
        }
      };
      var t = function(o, s) {
        o = o - this._offset, s = s || [];
        for (var l = this._data, u = this._dimSize, c = u * o, f = 0; f < u; f++)
          s[f] = l[c + f];
        return s;
      }, i = function(o, s, l, u) {
        for (var c = this._data, f = this._dimSize, d = 0; d < f; d++) {
          for (var p = u[d], v = p[0] == null ? 1 / 0 : p[0], y = p[1] == null ? -1 / 0 : p[1], _ = s - o, w = l[d], S = 0; S < _; S++) {
            var x = c[S * f + d];
            w[o + S] = x, x < v && (v = x), x > y && (y = x);
          }
          p[0] = v, p[1] = y;
        }
      }, a = function() {
        return this._data ? this._data.length / this._dimSize : 0;
      };
      NO = (e = {}, e[ca + "_" + Ns] = {
        pure: !0,
        appendData: n
      }, e[ca + "_" + Cd] = {
        pure: !0,
        appendData: function() {
          throw new Error('Do not support appendData when set seriesLayoutBy: "row".');
        }
      }, e[Ro] = {
        pure: !0,
        appendData: n
      }, e[Ys] = {
        pure: !0,
        appendData: function(o) {
          var s = this._data;
          J(o, function(l, u) {
            for (var c = s[u] || (s[u] = []), f = 0; f < (l || []).length; f++)
              c.push(l[f]);
          });
        }
      }, e[Po] = {
        appendData: n
      }, e[Eu] = {
        persistent: !1,
        pure: !0,
        appendData: function(o) {
          process.env.NODE_ENV !== "production" && kt(za(o), "Added data must be TypedArray if data in initialization is TypedArray"), this._data = o;
        },
        // Clean self if data is already used.
        clean: function() {
          this._offset += this.count(), this._data = null;
        }
      }, e);
      function n(o) {
        for (var s = 0; s < o.length; s++)
          this._data.push(o[s]);
      }
    }(), r;
  }()
), zy = function(r) {
  Ke(r) || Nr("series.data or dataset.source must be an array.");
}, hve = (rf = {}, rf[ca + "_" + Ns] = zy, rf[ca + "_" + Cd] = zy, rf[Ro] = zy, rf[Ys] = function(r, e) {
  for (var t = 0; t < e.length; t++) {
    var i = e[t].name;
    i == null && Nr("dimension name must not be null/undefined.");
  }
}, rf[Po] = zy, rf), VO = function(r, e, t, i) {
  return r[i];
}, fve = (nf = {}, nf[ca + "_" + Ns] = function(r, e, t, i) {
  return r[i + e];
}, nf[ca + "_" + Cd] = function(r, e, t, i, a) {
  i += e;
  for (var n = a || [], o = r, s = 0; s < o.length; s++) {
    var l = o[s];
    n[s] = l ? l[i] : null;
  }
  return n;
}, nf[Ro] = VO, nf[Ys] = function(r, e, t, i, a) {
  for (var n = a || [], o = 0; o < t.length; o++) {
    var s = t[o].name, l = s != null ? r[s] : null;
    n[o] = l ? l[i] : null;
  }
  return n;
}, nf[Po] = VO, nf);
function kj(r, e) {
  var t = fve[eb(r, e)];
  return process.env.NODE_ENV !== "production" && kt(t, 'Do not support get item on "' + r + '", "' + e + '".'), t;
}
var UO = function(r, e, t) {
  return r.length;
}, dve = (af = {}, af[ca + "_" + Ns] = function(r, e, t) {
  return Math.max(0, r.length - e);
}, af[ca + "_" + Cd] = function(r, e, t) {
  var i = r[0];
  return i ? Math.max(0, i.length - e) : 0;
}, af[Ro] = UO, af[Ys] = function(r, e, t) {
  var i = t[0].name, a = i != null ? r[i] : null;
  return a ? a.length : 0;
}, af[Po] = UO, af);
function Mj(r, e) {
  var t = dve[eb(r, e)];
  return process.env.NODE_ENV !== "production" && kt(t, 'Do not support count on "' + r + '", "' + e + '".'), t;
}
var z3 = function(r, e, t) {
  return r[e];
}, pve = (of = {}, of[ca] = z3, of[Ro] = function(r, e, t) {
  return r[t];
}, of[Ys] = z3, of[Po] = function(r, e, t) {
  var i = I0(r);
  return i instanceof Array ? i[e] : i;
}, of[Eu] = z3, of);
function Ij(r) {
  var e = pve[r];
  return process.env.NODE_ENV !== "production" && kt(e, 'Do not support get value on "' + r + '".'), e;
}
function eb(r, e) {
  return r === ca ? r + "_" + e : r;
}
function c0(r, e, t) {
  if (r) {
    var i = r.getRawDataItem(e);
    if (i != null) {
      var a = r.getStore(), n = a.getSource().sourceFormat;
      if (t != null) {
        var o = r.getDimensionIndex(t), s = a.getDimensionProperty(o);
        return Ij(n)(i, o, s);
      } else {
        var l = i;
        return n === Po && (l = I0(i)), l;
      }
    }
  }
}
var vve = /\{@(.+?)\}/g, kS = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.getDataParams = function(e, t) {
      var i = this.getData(t), a = this.getRawValue(e, t), n = i.getRawIndex(e), o = i.getName(e), s = i.getRawDataItem(e), l = i.getItemVisual(e, "style"), u = l && l[i.getItemVisual(e, "drawType") || "fill"], c = l && l.stroke, f = this.mainType, d = f === "series", p = i.userOutput && i.userOutput.get();
      return {
        componentType: f,
        componentSubType: this.subType,
        componentIndex: this.componentIndex,
        seriesType: d ? this.subType : null,
        seriesIndex: this.seriesIndex,
        seriesId: d ? this.id : null,
        seriesName: d ? this.name : null,
        name: o,
        dataIndex: n,
        data: s,
        dataType: t,
        value: a,
        color: u,
        borderColor: c,
        dimensionNames: p ? p.fullDimensions : null,
        encode: p ? p.encode : null,
        // Param name list for mapping `a`, `b`, `c`, `d`, `e`
        $vars: ["seriesName", "name", "value"]
      };
    }, r.prototype.getFormattedLabel = function(e, t, i, a, n, o) {
      t = t || "normal";
      var s = this.getData(i), l = this.getDataParams(e, i);
      if (o && (l.value = o.interpolatedValue), a != null && Ke(l.value) && (l.value = l.value[a]), !n) {
        var u = s.getItemModel(e);
        n = u.get(t === "normal" ? ["label", "formatter"] : [t, "label", "formatter"]);
      }
      if (Bt(n))
        return l.status = t, l.dimensionIndex = a, n(l);
      if (vt(n)) {
        var c = dD(n, l);
        return c.replace(vve, function(f, d) {
          var p = d.length, v = d;
          v.charAt(0) === "[" && v.charAt(p - 1) === "]" && (v = +v.slice(1, p - 1), process.env.NODE_ENV !== "production" && isNaN(v) && Nr("Invalide label formatter: @" + d + ", only support @[0], @[1], @[2], ..."));
          var y = c0(s, e, v);
          if (o && Ke(o.interpolatedValue)) {
            var _ = s.getDimensionIndex(v);
            _ >= 0 && (y = o.interpolatedValue[_]);
          }
          return y != null ? y + "" : "";
        });
      }
    }, r.prototype.getRawValue = function(e, t) {
      return c0(this.getData(t), e);
    }, r.prototype.formatTooltip = function(e, t, i) {
    }, r;
  }()
);
function GO(r) {
  var e, t;
  return zt(r) ? r.type ? t = r : process.env.NODE_ENV !== "production" && console.warn("The return type of `formatTooltip` is not supported: " + to(r)) : e = r, {
    text: e,
    // markers: markers || markersExisting,
    frag: t
  };
}
function Xg(r) {
  return new gve(r);
}
var gve = (
  /** @class */
  function() {
    function r(e) {
      e = e || {}, this._reset = e.reset, this._plan = e.plan, this._count = e.count, this._onDirty = e.onDirty, this._dirty = !0;
    }
    return r.prototype.perform = function(e) {
      var t = this._upstream, i = e && e.skip;
      if (this._dirty && t) {
        var a = this.context;
        a.data = a.outputData = t.context.outputData;
      }
      this.__pipeline && (this.__pipeline.currentTask = this);
      var n;
      this._plan && !i && (n = this._plan(this.context));
      var o = c(this._modBy), s = this._modDataCount || 0, l = c(e && e.modBy), u = e && e.modDataCount || 0;
      (o !== l || s !== u) && (n = "reset");
      function c(S) {
        return !(S >= 1) && (S = 1), S;
      }
      var f;
      (this._dirty || n === "reset") && (this._dirty = !1, f = this._doReset(i)), this._modBy = l, this._modDataCount = u;
      var d = e && e.step;
      if (t ? (process.env.NODE_ENV !== "production" && kt(t._outputDueEnd != null), this._dueEnd = t._outputDueEnd) : (process.env.NODE_ENV !== "production" && kt(!this._progress || this._count), this._dueEnd = this._count ? this._count(this.context) : 1 / 0), this._progress) {
        var p = this._dueIndex, v = Math.min(d != null ? this._dueIndex + d : 1 / 0, this._dueEnd);
        if (!i && (f || p < v)) {
          var y = this._progress;
          if (Ke(y))
            for (var _ = 0; _ < y.length; _++)
              this._doProgress(y[_], p, v, l, u);
          else
            this._doProgress(y, p, v, l, u);
        }
        this._dueIndex = v;
        var w = this._settedOutputEnd != null ? this._settedOutputEnd : v;
        process.env.NODE_ENV !== "production" && kt(w >= this._outputDueEnd), this._outputDueEnd = w;
      } else
        this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd;
      return this.unfinished();
    }, r.prototype.dirty = function() {
      this._dirty = !0, this._onDirty && this._onDirty(this.context);
    }, r.prototype._doProgress = function(e, t, i, a, n) {
      zO.reset(t, i, a, n), this._callingProgress = e, this._callingProgress({
        start: t,
        end: i,
        count: i - t,
        next: zO.next
      }, this.context);
    }, r.prototype._doReset = function(e) {
      this._dueIndex = this._outputDueEnd = this._dueEnd = 0, this._settedOutputEnd = null;
      var t, i;
      !e && this._reset && (t = this._reset(this.context), t && t.progress && (i = t.forceFirstProgress, t = t.progress), Ke(t) && !t.length && (t = null)), this._progress = t, this._modBy = this._modDataCount = null;
      var a = this._downstream;
      return a && a.dirty(), i;
    }, r.prototype.unfinished = function() {
      return this._progress && this._dueIndex < this._dueEnd;
    }, r.prototype.pipe = function(e) {
      process.env.NODE_ENV !== "production" && kt(e && !e._disposed && e !== this), (this._downstream !== e || this._dirty) && (this._downstream = e, e._upstream = this, e.dirty());
    }, r.prototype.dispose = function() {
      this._disposed || (this._upstream && (this._upstream._downstream = null), this._downstream && (this._downstream._upstream = null), this._dirty = !1, this._disposed = !0);
    }, r.prototype.getUpstream = function() {
      return this._upstream;
    }, r.prototype.getDownstream = function() {
      return this._downstream;
    }, r.prototype.setOutputEnd = function(e) {
      this._outputDueEnd = this._settedOutputEnd = e;
    }, r;
  }()
), zO = function() {
  var r, e, t, i, a, n = {
    reset: function(l, u, c, f) {
      e = l, r = u, t = c, i = f, a = Math.ceil(i / t), n.next = t > 1 && i > 0 ? s : o;
    }
  };
  return n;
  function o() {
    return e < r ? e++ : null;
  }
  function s() {
    var l = e % a * t + Math.ceil(e / a), u = e >= r ? null : l < i ? l : e;
    return e++, u;
  }
}();
function Hc(r, e) {
  var t = e && e.type;
  return t === "ordinal" ? r : (t === "time" && !Or(r) && r != null && r !== "-" && (r = +Nl(r)), r == null || r === "" ? NaN : Number(r));
}
var mve = Pt({
  number: function(r) {
    return parseFloat(r);
  },
  time: function(r) {
    return +Nl(r);
  },
  trim: function(r) {
    return vt(r) ? Ao(r) : r;
  }
});
function Pj(r) {
  return mve.get(r);
}
var Rj = {
  lt: function(r, e) {
    return r < e;
  },
  lte: function(r, e) {
    return r <= e;
  },
  gt: function(r, e) {
    return r > e;
  },
  gte: function(r, e) {
    return r >= e;
  }
}, yve = (
  /** @class */
  function() {
    function r(e, t) {
      if (!Or(t)) {
        var i = "";
        process.env.NODE_ENV !== "production" && (i = 'rvalue of "<", ">", "<=", ">=" can only be number in filter.'), en(i);
      }
      this._opFn = Rj[e], this._rvalFloat = Ml(t);
    }
    return r.prototype.evaluate = function(e) {
      return Or(e) ? this._opFn(e, this._rvalFloat) : this._opFn(Ml(e), this._rvalFloat);
    }, r;
  }()
), Lj = (
  /** @class */
  function() {
    function r(e, t) {
      var i = e === "desc";
      this._resultLT = i ? 1 : -1, t == null && (t = i ? "min" : "max"), this._incomparable = t === "min" ? -1 / 0 : 1 / 0;
    }
    return r.prototype.evaluate = function(e, t) {
      var i = Or(e) ? e : Ml(e), a = Or(t) ? t : Ml(t), n = isNaN(i), o = isNaN(a);
      if (n && (i = this._incomparable), o && (a = this._incomparable), n && o) {
        var s = vt(e), l = vt(t);
        s && (i = l ? e : 0), l && (a = s ? t : 0);
      }
      return i < a ? this._resultLT : i > a ? -this._resultLT : 0;
    }, r;
  }()
), _ve = (
  /** @class */
  function() {
    function r(e, t) {
      this._rval = t, this._isEQ = e, this._rvalTypeof = typeof t, this._rvalFloat = Ml(t);
    }
    return r.prototype.evaluate = function(e) {
      var t = e === this._rval;
      if (!t) {
        var i = typeof e;
        i !== this._rvalTypeof && (i === "number" || this._rvalTypeof === "number") && (t = Ml(e) === this._rvalFloat);
      }
      return this._isEQ ? t : !t;
    }, r;
  }()
);
function bve(r, e) {
  return r === "eq" || r === "ne" ? new _ve(r === "eq", e) : xt(Rj, r) ? new yve(r, e) : null;
}
var wve = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.getRawData = function() {
      throw new Error("not supported");
    }, r.prototype.getRawDataItem = function(e) {
      throw new Error("not supported");
    }, r.prototype.cloneRawData = function() {
    }, r.prototype.getDimensionInfo = function(e) {
    }, r.prototype.cloneAllDimensionInfo = function() {
    }, r.prototype.count = function() {
    }, r.prototype.retrieveValue = function(e, t) {
    }, r.prototype.retrieveValueFromItem = function(e, t) {
    }, r.prototype.convertValue = function(e, t) {
      return Hc(e, t);
    }, r;
  }()
);
function Sve(r, e) {
  var t = new wve(), i = r.data, a = t.sourceFormat = r.sourceFormat, n = r.startIndex, o = "";
  r.seriesLayoutBy !== Ns && (process.env.NODE_ENV !== "production" && (o = '`seriesLayoutBy` of upstream dataset can only be "column" in data transform.'), en(o));
  var s = [], l = {}, u = r.dimensionsDefine;
  if (u)
    J(u, function(y, _) {
      var w = y.name, S = {
        index: _,
        name: w,
        displayName: y.displayName
      };
      if (s.push(S), w != null) {
        var x = "";
        xt(l, w) && (process.env.NODE_ENV !== "production" && (x = 'dimension name "' + w + '" duplicated.'), en(x)), l[w] = S;
      }
    });
  else
    for (var c = 0; c < r.dimensionsDetectedCount; c++)
      s.push({
        index: c
      });
  var f = kj(a, Ns);
  e.__isBuiltIn && (t.getRawDataItem = function(y) {
    return f(i, n, s, y);
  }, t.getRawData = mt(xve, null, r)), t.cloneRawData = mt(Tve, null, r);
  var d = Mj(a, Ns);
  t.count = mt(d, null, i, n, s);
  var p = Ij(a);
  t.retrieveValue = function(y, _) {
    var w = f(i, n, s, y);
    return v(w, _);
  };
  var v = t.retrieveValueFromItem = function(y, _) {
    if (y != null) {
      var w = s[_];
      if (w)
        return p(y, _, w.name);
    }
  };
  return t.getDimensionInfo = mt(Cve, null, s, l), t.cloneAllDimensionInfo = mt(Ave, null, s), t;
}
function xve(r) {
  var e = r.sourceFormat;
  if (!bD(e)) {
    var t = "";
    process.env.NODE_ENV !== "production" && (t = "`getRawData` is not supported in source format " + e), en(t);
  }
  return r.data;
}
function Tve(r) {
  var e = r.sourceFormat, t = r.data;
  if (!bD(e)) {
    var i = "";
    process.env.NODE_ENV !== "production" && (i = "`cloneRawData` is not supported in source format " + e), en(i);
  }
  if (e === ca) {
    for (var a = [], n = 0, o = t.length; n < o; n++)
      a.push(t[n].slice());
    return a;
  } else if (e === Ro) {
    for (var a = [], n = 0, o = t.length; n < o; n++)
      a.push($e({}, t[n]));
    return a;
  }
}
function Cve(r, e, t) {
  if (t != null) {
    if (Or(t) || !isNaN(t) && !xt(e, t))
      return r[t];
    if (xt(e, t))
      return e[t];
  }
}
function Ave(r) {
  return Gt(r);
}
var Oj = Pt();
function Eve(r) {
  r = Gt(r);
  var e = r.type, t = "";
  e || (process.env.NODE_ENV !== "production" && (t = "Must have a `type` when `registerTransform`."), en(t));
  var i = e.split(":");
  i.length !== 2 && (process.env.NODE_ENV !== "production" && (t = 'Name must include namespace like "ns:regression".'), en(t));
  var a = !1;
  i[0] === "echarts" && (e = i[1], a = !0), r.__isBuiltIn = a, Oj.set(e, r);
}
function Dve(r, e, t) {
  var i = xn(r), a = i.length, n = "";
  a || (process.env.NODE_ENV !== "production" && (n = "If `transform` declared, it should at least contain one transform."), en(n));
  for (var o = 0, s = a; o < s; o++) {
    var l = i[o];
    e = kve(l, e, t, a === 1 ? null : o), o !== s - 1 && (e.length = Math.max(e.length, 1));
  }
  return e;
}
function kve(r, e, t, i) {
  var a = "";
  e.length || (process.env.NODE_ENV !== "production" && (a = "Must have at least one upstream dataset."), en(a)), zt(r) || (process.env.NODE_ENV !== "production" && (a = "transform declaration must be an object rather than " + typeof r + "."), en(a));
  var n = r.type, o = Oj.get(n);
  o || (process.env.NODE_ENV !== "production" && (a = 'Can not find transform on type "' + n + '".'), en(a));
  var s = Je(e, function(c) {
    return Sve(c, o);
  }), l = xn(o.transform({
    upstream: s[0],
    upstreamList: s,
    config: Gt(r.config)
  }));
  if (process.env.NODE_ENV !== "production" && r.print) {
    var u = Je(l, function(c) {
      var f = i != null ? " === pipe index: " + i : "";
      return ["=== dataset index: " + t.datasetIndex + f + " ===", "- transform result data:", to(c.data), "- transform result dimensions:", to(c.dimensions)].join(`
`);
    }).join(`
`);
    G$(u);
  }
  return Je(l, function(c, f) {
    var d = "";
    zt(c) || (process.env.NODE_ENV !== "production" && (d = "A transform should not return some empty results."), en(d)), c.data || (process.env.NODE_ENV !== "production" && (d = "Transform result data should be not be null or undefined"), en(d));
    var p = Aj(c.data);
    bD(p) || (process.env.NODE_ENV !== "production" && (d = "Transform result data should be array rows or object rows."), en(d));
    var v, y = e[0];
    if (y && f === 0 && !c.dimensions) {
      var _ = y.startIndex;
      _ && (c.data = y.data.slice(0, _).concat(c.data)), v = {
        seriesLayoutBy: Ns,
        sourceHeader: _,
        dimensions: y.metaRawOption.dimensions
      };
    } else
      v = {
        seriesLayoutBy: Ns,
        sourceHeader: 0,
        dimensions: c.dimensions
      };
    return c6(c.data, v, null);
  });
}
function bD(r) {
  return r === ca || r === Ro;
}
var MS = "undefined", Mve = typeof Uint32Array === MS ? Array : Uint32Array, Ive = typeof Uint16Array === MS ? Array : Uint16Array, Fj = typeof Int32Array === MS ? Array : Int32Array, WO = typeof Float64Array === MS ? Array : Float64Array, Nj = {
  float: WO,
  int: Fj,
  // Ordinal data type can be string or int
  ordinal: Array,
  number: Array,
  time: WO
}, W3;
function lp(r) {
  return r > 65535 ? Mve : Ive;
}
function up() {
  return [1 / 0, -1 / 0];
}
function Pve(r) {
  var e = r.constructor;
  return e === Array ? r.slice() : new e(r);
}
function HO(r, e, t, i, a) {
  var n = Nj[t || "float"];
  if (a) {
    var o = r[e], s = o && o.length;
    if (s !== i) {
      for (var l = new n(i), u = 0; u < s; u++)
        l[u] = o[u];
      r[e] = l;
    }
  } else
    r[e] = new n(i);
}
var Rve = (
  /** @class */
  function() {
    function r() {
      this._chunks = [], this._rawExtent = [], this._extent = [], this._count = 0, this._rawCount = 0, this._calcDimNameToIdx = Pt();
    }
    return r.prototype.initData = function(e, t, i) {
      process.env.NODE_ENV !== "production" && kt(Bt(e.getItem) && Bt(e.count), "Invalid data provider."), this._provider = e, this._chunks = [], this._indices = null, this.getRawIndex = this._getRawIdxIdentity;
      var a = e.getSource(), n = this.defaultDimValueGetter = W3[a.sourceFormat];
      this._dimValueGetter = i || n, this._rawExtent = [];
      var o = Ej(a);
      this._dimensions = Je(t, function(s) {
        return process.env.NODE_ENV !== "production" && o && kt(s.property != null), {
          // Only pick these two props. Not leak other properties like orderMeta.
          type: s.type,
          property: s.property
        };
      }), this._initDataFromProvider(0, e.count());
    }, r.prototype.getProvider = function() {
      return this._provider;
    }, r.prototype.getSource = function() {
      return this._provider.getSource();
    }, r.prototype.ensureCalculationDimension = function(e, t) {
      var i = this._calcDimNameToIdx, a = this._dimensions, n = i.get(e);
      if (n != null) {
        if (a[n].type === t)
          return n;
      } else
        n = a.length;
      return a[n] = {
        type: t
      }, i.set(e, n), this._chunks[n] = new Nj[t || "float"](this._rawCount), this._rawExtent[n] = up(), n;
    }, r.prototype.collectOrdinalMeta = function(e, t) {
      var i = this._chunks[e], a = this._dimensions[e], n = this._rawExtent, o = a.ordinalOffset || 0, s = i.length;
      o === 0 && (n[e] = up());
      for (var l = n[e], u = o; u < s; u++) {
        var c = i[u] = t.parseAndCollect(i[u]);
        isNaN(c) || (l[0] = Math.min(c, l[0]), l[1] = Math.max(c, l[1]));
      }
      a.ordinalMeta = t, a.ordinalOffset = s, a.type = "ordinal";
    }, r.prototype.getOrdinalMeta = function(e) {
      var t = this._dimensions[e], i = t.ordinalMeta;
      return i;
    }, r.prototype.getDimensionProperty = function(e) {
      var t = this._dimensions[e];
      return t && t.property;
    }, r.prototype.appendData = function(e) {
      process.env.NODE_ENV !== "production" && kt(!this._indices, "appendData can only be called on raw data.");
      var t = this._provider, i = this.count();
      t.appendData(e);
      var a = t.count();
      return t.persistent || (a += i), i < a && this._initDataFromProvider(i, a, !0), [i, a];
    }, r.prototype.appendValues = function(e, t) {
      for (var i = this._chunks, a = this._dimensions, n = a.length, o = this._rawExtent, s = this.count(), l = s + Math.max(e.length, t || 0), u = 0; u < n; u++) {
        var c = a[u];
        HO(i, u, c.type, l, !0);
      }
      for (var f = [], d = s; d < l; d++)
        for (var p = d - s, v = 0; v < n; v++) {
          var c = a[v], y = W3.arrayRows.call(this, e[p] || f, c.property, p, v);
          i[v][d] = y;
          var _ = o[v];
          y < _[0] && (_[0] = y), y > _[1] && (_[1] = y);
        }
      return this._rawCount = this._count = l, {
        start: s,
        end: l
      };
    }, r.prototype._initDataFromProvider = function(e, t, i) {
      for (var a = this._provider, n = this._chunks, o = this._dimensions, s = o.length, l = this._rawExtent, u = Je(o, function(S) {
        return S.property;
      }), c = 0; c < s; c++) {
        var f = o[c];
        l[c] || (l[c] = up()), HO(n, c, f.type, t, i);
      }
      if (a.fillStorage)
        a.fillStorage(e, t, n, l);
      else
        for (var d = [], p = e; p < t; p++) {
          d = a.getItem(p, d);
          for (var v = 0; v < s; v++) {
            var y = n[v], _ = this._dimValueGetter(d, u[v], p, v);
            y[p] = _;
            var w = l[v];
            _ < w[0] && (w[0] = _), _ > w[1] && (w[1] = _);
          }
        }
      !a.persistent && a.clean && a.clean(), this._rawCount = this._count = t, this._extent = [];
    }, r.prototype.count = function() {
      return this._count;
    }, r.prototype.get = function(e, t) {
      if (!(t >= 0 && t < this._count))
        return NaN;
      var i = this._chunks[e];
      return i ? i[this.getRawIndex(t)] : NaN;
    }, r.prototype.getValues = function(e, t) {
      var i = [], a = [];
      if (t == null) {
        t = e, e = [];
        for (var n = 0; n < this._dimensions.length; n++)
          a.push(n);
      } else
        a = e;
      for (var n = 0, o = a.length; n < o; n++)
        i.push(this.get(a[n], t));
      return i;
    }, r.prototype.getByRawIndex = function(e, t) {
      if (!(t >= 0 && t < this._rawCount))
        return NaN;
      var i = this._chunks[e];
      return i ? i[t] : NaN;
    }, r.prototype.getSum = function(e) {
      var t = this._chunks[e], i = 0;
      if (t)
        for (var a = 0, n = this.count(); a < n; a++) {
          var o = this.get(e, a);
          isNaN(o) || (i += o);
        }
      return i;
    }, r.prototype.getMedian = function(e) {
      var t = [];
      this.each([e], function(n) {
        isNaN(n) || t.push(n);
      });
      var i = t.sort(function(n, o) {
        return n - o;
      }), a = this.count();
      return a === 0 ? 0 : a % 2 === 1 ? i[(a - 1) / 2] : (i[a / 2] + i[a / 2 - 1]) / 2;
    }, r.prototype.indexOfRawIndex = function(e) {
      if (e >= this._rawCount || e < 0)
        return -1;
      if (!this._indices)
        return e;
      var t = this._indices, i = t[e];
      if (i != null && i < this._count && i === e)
        return e;
      for (var a = 0, n = this._count - 1; a <= n; ) {
        var o = (a + n) / 2 | 0;
        if (t[o] < e)
          a = o + 1;
        else if (t[o] > e)
          n = o - 1;
        else
          return o;
      }
      return -1;
    }, r.prototype.getIndices = function() {
      var e, t = this._indices;
      if (t) {
        var i = t.constructor, a = this._count;
        if (i === Array) {
          e = new i(a);
          for (var n = 0; n < a; n++)
            e[n] = t[n];
        } else
          e = new i(t.buffer, 0, a);
      } else {
        var i = lp(this._rawCount);
        e = new i(this.count());
        for (var n = 0; n < e.length; n++)
          e[n] = n;
      }
      return e;
    }, r.prototype.filter = function(e, t) {
      if (!this._count)
        return this;
      for (var i = this.clone(), a = i.count(), n = lp(i._rawCount), o = new n(a), s = [], l = e.length, u = 0, c = e[0], f = i._chunks, d = 0; d < a; d++) {
        var p = void 0, v = i.getRawIndex(d);
        if (l === 0)
          p = t(d);
        else if (l === 1) {
          var y = f[c][v];
          p = t(y, d);
        } else {
          for (var _ = 0; _ < l; _++)
            s[_] = f[e[_]][v];
          s[_] = d, p = t.apply(null, s);
        }
        p && (o[u++] = v);
      }
      return u < a && (i._indices = o), i._count = u, i._extent = [], i._updateGetRawIdx(), i;
    }, r.prototype.selectRange = function(e) {
      var t = this.clone(), i = t._count;
      if (!i)
        return this;
      var a = Ir(e), n = a.length;
      if (!n)
        return this;
      var o = t.count(), s = lp(t._rawCount), l = new s(o), u = 0, c = a[0], f = e[c][0], d = e[c][1], p = t._chunks, v = !1;
      if (!t._indices) {
        var y = 0;
        if (n === 1) {
          for (var _ = p[a[0]], w = 0; w < i; w++) {
            var S = _[w];
            (S >= f && S <= d || isNaN(S)) && (l[u++] = y), y++;
          }
          v = !0;
        } else if (n === 2) {
          for (var _ = p[a[0]], x = p[a[1]], E = e[a[1]][0], M = e[a[1]][1], w = 0; w < i; w++) {
            var S = _[w], k = x[w];
            (S >= f && S <= d || isNaN(S)) && (k >= E && k <= M || isNaN(k)) && (l[u++] = y), y++;
          }
          v = !0;
        }
      }
      if (!v)
        if (n === 1)
          for (var w = 0; w < o; w++) {
            var P = t.getRawIndex(w), S = p[a[0]][P];
            (S >= f && S <= d || isNaN(S)) && (l[u++] = P);
          }
        else
          for (var w = 0; w < o; w++) {
            for (var L = !0, P = t.getRawIndex(w), F = 0; F < n; F++) {
              var O = a[F], S = p[O][P];
              (S < e[O][0] || S > e[O][1]) && (L = !1);
            }
            L && (l[u++] = t.getRawIndex(w));
          }
      return u < o && (t._indices = l), t._count = u, t._extent = [], t._updateGetRawIdx(), t;
    }, r.prototype.map = function(e, t) {
      var i = this.clone(e);
      return this._updateDims(i, e, t), i;
    }, r.prototype.modify = function(e, t) {
      this._updateDims(this, e, t);
    }, r.prototype._updateDims = function(e, t, i) {
      for (var a = e._chunks, n = [], o = t.length, s = e.count(), l = [], u = e._rawExtent, c = 0; c < t.length; c++)
        u[t[c]] = up();
      for (var f = 0; f < s; f++) {
        for (var d = e.getRawIndex(f), p = 0; p < o; p++)
          l[p] = a[t[p]][d];
        l[o] = f;
        var v = i && i.apply(null, l);
        if (v != null) {
          typeof v != "object" && (n[0] = v, v = n);
          for (var c = 0; c < v.length; c++) {
            var y = t[c], _ = v[c], w = u[y], S = a[y];
            S && (S[d] = _), _ < w[0] && (w[0] = _), _ > w[1] && (w[1] = _);
          }
        }
      }
    }, r.prototype.lttbDownSample = function(e, t) {
      var i = this.clone([e], !0), a = i._chunks, n = a[e], o = this.count(), s = 0, l = Math.floor(1 / t), u = this.getRawIndex(0), c, f, d, p = new (lp(this._rawCount))(Math.min((Math.ceil(o / l) + 2) * 2, o));
      p[s++] = u;
      for (var v = 1; v < o - 1; v += l) {
        for (var y = Math.min(v + l, o - 1), _ = Math.min(v + l * 2, o), w = (_ + y) / 2, S = 0, x = y; x < _; x++) {
          var E = this.getRawIndex(x), M = n[E];
          isNaN(M) || (S += M);
        }
        S /= _ - y;
        var k = v, P = Math.min(v + l, o), L = v - 1, F = n[u];
        c = -1, d = k;
        for (var O = -1, U = 0, x = k; x < P; x++) {
          var E = this.getRawIndex(x), M = n[E];
          if (isNaN(M)) {
            U++, O < 0 && (O = E);
            continue;
          }
          f = Math.abs((L - w) * (M - F) - (L - x) * (S - F)), f > c && (c = f, d = E);
        }
        U > 0 && U < P - k && (p[s++] = Math.min(O, d), d = Math.max(O, d)), p[s++] = d, u = d;
      }
      return p[s++] = this.getRawIndex(o - 1), i._count = s, i._indices = p, i.getRawIndex = this._getRawIdx, i;
    }, r.prototype.minmaxDownSample = function(e, t) {
      for (var i = this.clone([e], !0), a = i._chunks, n = Math.floor(1 / t), o = a[e], s = this.count(), l = new (lp(this._rawCount))(Math.ceil(s / n) * 2), u = 0, c = 0; c < s; c += n) {
        var f = c, d = o[this.getRawIndex(f)], p = c, v = o[this.getRawIndex(p)], y = n;
        c + n > s && (y = s - c);
        for (var _ = 0; _ < y; _++) {
          var w = this.getRawIndex(c + _), S = o[w];
          S < d && (d = S, f = c + _), S > v && (v = S, p = c + _);
        }
        var x = this.getRawIndex(f), E = this.getRawIndex(p);
        f < p ? (l[u++] = x, l[u++] = E) : (l[u++] = E, l[u++] = x);
      }
      return i._count = u, i._indices = l, i._updateGetRawIdx(), i;
    }, r.prototype.downSample = function(e, t, i, a) {
      for (var n = this.clone([e], !0), o = n._chunks, s = [], l = Math.floor(1 / t), u = o[e], c = this.count(), f = n._rawExtent[e] = up(), d = new (lp(this._rawCount))(Math.ceil(c / l)), p = 0, v = 0; v < c; v += l) {
        l > c - v && (l = c - v, s.length = l);
        for (var y = 0; y < l; y++) {
          var _ = this.getRawIndex(v + y);
          s[y] = u[_];
        }
        var w = i(s), S = this.getRawIndex(Math.min(v + a(s, w) || 0, c - 1));
        u[S] = w, w < f[0] && (f[0] = w), w > f[1] && (f[1] = w), d[p++] = S;
      }
      return n._count = p, n._indices = d, n._updateGetRawIdx(), n;
    }, r.prototype.each = function(e, t) {
      if (this._count)
        for (var i = e.length, a = this._chunks, n = 0, o = this.count(); n < o; n++) {
          var s = this.getRawIndex(n);
          switch (i) {
            case 0:
              t(n);
              break;
            case 1:
              t(a[e[0]][s], n);
              break;
            case 2:
              t(a[e[0]][s], a[e[1]][s], n);
              break;
            default:
              for (var l = 0, u = []; l < i; l++)
                u[l] = a[e[l]][s];
              u[l] = n, t.apply(null, u);
          }
        }
    }, r.prototype.getDataExtent = function(e) {
      var t = this._chunks[e], i = up();
      if (!t)
        return i;
      var a = this.count(), n = !this._indices, o;
      if (n)
        return this._rawExtent[e].slice();
      if (o = this._extent[e], o)
        return o.slice();
      o = i;
      for (var s = o[0], l = o[1], u = 0; u < a; u++) {
        var c = this.getRawIndex(u), f = t[c];
        f < s && (s = f), f > l && (l = f);
      }
      return o = [s, l], this._extent[e] = o, o;
    }, r.prototype.getRawDataItem = function(e) {
      var t = this.getRawIndex(e);
      if (this._provider.persistent)
        return this._provider.getItem(t);
      for (var i = [], a = this._chunks, n = 0; n < a.length; n++)
        i.push(a[n][t]);
      return i;
    }, r.prototype.clone = function(e, t) {
      var i = new r(), a = this._chunks, n = e && ls(e, function(s, l) {
        return s[l] = !0, s;
      }, {});
      if (n)
        for (var o = 0; o < a.length; o++)
          i._chunks[o] = n[o] ? Pve(a[o]) : a[o];
      else
        i._chunks = a;
      return this._copyCommonProps(i), t || (i._indices = this._cloneIndices()), i._updateGetRawIdx(), i;
    }, r.prototype._copyCommonProps = function(e) {
      e._count = this._count, e._rawCount = this._rawCount, e._provider = this._provider, e._dimensions = this._dimensions, e._extent = Gt(this._extent), e._rawExtent = Gt(this._rawExtent);
    }, r.prototype._cloneIndices = function() {
      if (this._indices) {
        var e = this._indices.constructor, t = void 0;
        if (e === Array) {
          var i = this._indices.length;
          t = new e(i);
          for (var a = 0; a < i; a++)
            t[a] = this._indices[a];
        } else
          t = new e(this._indices);
        return t;
      }
      return null;
    }, r.prototype._getRawIdxIdentity = function(e) {
      return e;
    }, r.prototype._getRawIdx = function(e) {
      return e < this._count && e >= 0 ? this._indices[e] : -1;
    }, r.prototype._updateGetRawIdx = function() {
      this.getRawIndex = this._indices ? this._getRawIdx : this._getRawIdxIdentity;
    }, r.internalField = function() {
      function e(t, i, a, n) {
        return Hc(t[n], this._dimensions[n]);
      }
      W3 = {
        arrayRows: e,
        objectRows: function(t, i, a, n) {
          return Hc(t[i], this._dimensions[n]);
        },
        keyedColumns: e,
        original: function(t, i, a, n) {
          var o = t && (t.value == null ? t : t.value);
          return Hc(o instanceof Array ? o[n] : o, this._dimensions[n]);
        },
        typedArray: function(t, i, a, n) {
          return t[n];
        }
      };
    }(), r;
  }()
);
const h6 = Rve;
var Bj = (
  /** @class */
  function() {
    function r(e) {
      this._sourceList = [], this._storeList = [], this._upstreamSignList = [], this._versionSignBase = 0, this._dirty = !0, this._sourceHost = e;
    }
    return r.prototype.dirty = function() {
      this._setLocalSource([], []), this._storeList = [], this._dirty = !0;
    }, r.prototype._setLocalSource = function(e, t) {
      this._sourceList = e, this._upstreamSignList = t, this._versionSignBase++, this._versionSignBase > 9e10 && (this._versionSignBase = 0);
    }, r.prototype._getVersionSign = function() {
      return this._sourceHost.uid + "_" + this._versionSignBase;
    }, r.prototype.prepareSource = function() {
      this._isDirty() && (this._createSource(), this._dirty = !1);
    }, r.prototype._createSource = function() {
      this._setLocalSource([], []);
      var e = this._sourceHost, t = this._getUpstreamSourceManagers(), i = !!t.length, a, n;
      if (qv(e)) {
        var o = e, s = void 0, l = void 0, u = void 0;
        if (i) {
          var c = t[0];
          c.prepareSource(), u = c.getSource(), s = u.data, l = u.sourceFormat, n = [c._getVersionSign()];
        } else
          s = o.get("data", !0), l = za(s) ? Eu : Po, n = [];
        var f = this._getSourceMetaRawOption() || {}, d = u && u.metaRawOption || {}, p = It(f.seriesLayoutBy, d.seriesLayoutBy) || null, v = It(f.sourceHeader, d.sourceHeader), y = It(f.dimensions, d.dimensions), _ = p !== d.seriesLayoutBy || !!v != !!d.sourceHeader || y;
        a = _ ? [c6(s, {
          seriesLayoutBy: p,
          sourceHeader: v,
          dimensions: y
        }, l)] : [];
      } else {
        var w = e;
        if (i) {
          var S = this._applyTransform(t);
          a = S.sourceList, n = S.upstreamSignList;
        } else {
          var x = w.get("source", !0);
          a = [c6(x, this._getSourceMetaRawOption(), null)], n = [];
        }
      }
      process.env.NODE_ENV !== "production" && kt(a && n), this._setLocalSource(a, n);
    }, r.prototype._applyTransform = function(e) {
      var t = this._sourceHost, i = t.get("transform", !0), a = t.get("fromTransformResult", !0);
      if (process.env.NODE_ENV !== "production" && kt(a != null || i != null), a != null) {
        var n = "";
        e.length !== 1 && (process.env.NODE_ENV !== "production" && (n = "When using `fromTransformResult`, there should be only one upstream dataset"), YO(n));
      }
      var o, s = [], l = [];
      return J(e, function(u) {
        u.prepareSource();
        var c = u.getSource(a || 0), f = "";
        a != null && !c && (process.env.NODE_ENV !== "production" && (f = "Can not retrieve result by `fromTransformResult`: " + a), YO(f)), s.push(c), l.push(u._getVersionSign());
      }), i ? o = Dve(i, s, {
        datasetIndex: t.componentIndex
      }) : a != null && (o = [lve(s[0])]), {
        sourceList: o,
        upstreamSignList: l
      };
    }, r.prototype._isDirty = function() {
      if (this._dirty)
        return !0;
      for (var e = this._getUpstreamSourceManagers(), t = 0; t < e.length; t++) {
        var i = e[t];
        if (
          // Consider the case that there is ancestor diry, call it recursively.
          // The performance is probably not an issue because usually the chain is not long.
          i._isDirty() || this._upstreamSignList[t] !== i._getVersionSign()
        )
          return !0;
      }
    }, r.prototype.getSource = function(e) {
      e = e || 0;
      var t = this._sourceList[e];
      if (!t) {
        var i = this._getUpstreamSourceManagers();
        return i[0] && i[0].getSource(e);
      }
      return t;
    }, r.prototype.getSharedDataStore = function(e) {
      process.env.NODE_ENV !== "production" && kt(qv(this._sourceHost), "Can only call getDataStore on series source manager.");
      var t = e.makeStoreSchema();
      return this._innerGetDataStore(t.dimensions, e.source, t.hash);
    }, r.prototype._innerGetDataStore = function(e, t, i) {
      var a = 0, n = this._storeList, o = n[a];
      o || (o = n[a] = {});
      var s = o[i];
      if (!s) {
        var l = this._getUpstreamSourceManagers()[0];
        qv(this._sourceHost) && l ? s = l._innerGetDataStore(e, t, i) : (s = new h6(), s.initData(new Dj(t, e.length), e)), o[i] = s;
      }
      return s;
    }, r.prototype._getUpstreamSourceManagers = function() {
      var e = this._sourceHost;
      if (qv(e)) {
        var t = gD(e);
        return t ? [t.getSourceManager()] : [];
      } else
        return Je(R0e(e), function(i) {
          return i.getSourceManager();
        });
    }, r.prototype._getSourceMetaRawOption = function() {
      var e = this._sourceHost, t, i, a;
      if (qv(e))
        t = e.get("seriesLayoutBy", !0), i = e.get("sourceHeader", !0), a = e.get("dimensions", !0);
      else if (!this._getUpstreamSourceManagers().length) {
        var n = e;
        t = n.get("seriesLayoutBy", !0), i = n.get("sourceHeader", !0), a = n.get("dimensions", !0);
      }
      return {
        seriesLayoutBy: t,
        sourceHeader: i,
        dimensions: a
      };
    }, r;
  }()
);
function $O(r) {
  var e = r.option.transform;
  e && a1(r.option.transform);
}
function qv(r) {
  return r.mainType === "series";
}
function YO(r) {
  throw new Error(r);
}
var Lve = "line-height:1";
function Vj(r) {
  var e = r.lineHeight;
  return e == null ? Lve : "line-height:" + ya(e + "") + "px";
}
function Uj(r, e) {
  var t = r.color || Ve.color.tertiary, i = r.fontSize || 12, a = r.fontWeight || "400", n = r.color || Ve.color.secondary, o = r.fontSize || 14, s = r.fontWeight || "900";
  return e === "html" ? {
    // eslint-disable-next-line max-len
    nameStyle: "font-size:" + ya(i + "") + "px;color:" + ya(t) + ";font-weight:" + ya(a + ""),
    // eslint-disable-next-line max-len
    valueStyle: "font-size:" + ya(o + "") + "px;color:" + ya(n) + ";font-weight:" + ya(s + "")
  } : {
    nameStyle: {
      fontSize: i,
      fill: t,
      fontWeight: a
    },
    valueStyle: {
      fontSize: o,
      fill: n,
      fontWeight: s
    }
  };
}
var Ove = [0, 10, 20, 30], Fve = ["", `
`, `

`, `


`];
function Pi(r, e) {
  return e.type = r, e;
}
function f6(r) {
  return r.type === "section";
}
function Gj(r) {
  return f6(r) ? Nve : Bve;
}
function zj(r) {
  if (f6(r)) {
    var e = 0, t = r.blocks.length, i = t > 1 || t > 0 && !r.noHeader;
    return J(r.blocks, function(a) {
      var n = zj(a);
      n >= e && (e = n + +(i && // 0 always can not be readable gap level.
      (!n || f6(a) && !a.noHeader)));
    }), e;
  }
  return 0;
}
function Nve(r, e, t, i) {
  var a = e.noHeader, n = Vve(zj(e)), o = [], s = e.blocks || [];
  kt(!s || Ke(s)), s = s || [];
  var l = r.orderMode;
  if (e.sortBlocks && l) {
    s = s.slice();
    var u = {
      valueAsc: "asc",
      valueDesc: "desc"
    };
    if (xt(u, l)) {
      var c = new Lj(u[l], null);
      s.sort(function(y, _) {
        return c.evaluate(y.sortParam, _.sortParam);
      });
    } else
      l === "seriesDesc" && s.reverse();
  }
  J(s, function(y, _) {
    var w = e.valueFormatter, S = Gj(y)(
      // Inherit valueFormatter
      w ? $e($e({}, r), {
        valueFormatter: w
      }) : r,
      y,
      _ > 0 ? n.html : 0,
      i
    );
    S != null && o.push(S);
  });
  var f = r.renderMode === "richText" ? o.join(n.richText) : d6(i, o.join(""), a ? t : n.html);
  if (a)
    return f;
  var d = i6(e.header, "ordinal", r.useUTC), p = Uj(i, r.renderMode).nameStyle, v = Vj(i);
  return r.renderMode === "richText" ? Wj(r, d, p) + n.richText + f : d6(i, '<div style="' + p + ";" + v + ';">' + ya(d) + "</div>" + f, t);
}
function Bve(r, e, t, i) {
  var a = r.renderMode, n = e.noName, o = e.noValue, s = !e.markerType, l = e.name, u = r.useUTC, c = e.valueFormatter || r.valueFormatter || function(E) {
    return E = Ke(E) ? E : [E], Je(E, function(M, k) {
      return i6(M, Ke(p) ? p[k] : p, u);
    });
  };
  if (!(n && o)) {
    var f = s ? "" : r.markupStyleCreator.makeTooltipMarker(e.markerType, e.markerColor || Ve.color.secondary, a), d = n ? "" : i6(l, "ordinal", u), p = e.valueType, v = o ? [] : c(e.value, e.dataIndex), y = !s || !n, _ = !s && n, w = Uj(i, a), S = w.nameStyle, x = w.valueStyle;
    return a === "richText" ? (s ? "" : f) + (n ? "" : Wj(r, d, S)) + (o ? "" : zve(r, v, y, _, x)) : d6(i, (s ? "" : f) + (n ? "" : Uve(d, !s, S)) + (o ? "" : Gve(v, y, _, x)), t);
  }
}
function jO(r, e, t, i, a, n) {
  if (r) {
    var o = Gj(r), s = {
      useUTC: a,
      renderMode: t,
      orderMode: i,
      markupStyleCreator: e,
      valueFormatter: r.valueFormatter
    };
    return o(s, r, 0, n);
  }
}
function Vve(r) {
  return {
    html: Ove[r],
    richText: Fve[r]
  };
}
function d6(r, e, t) {
  var i = '<div style="clear:both"></div>', a = "margin: " + t + "px 0 0", n = Vj(r);
  return '<div style="' + a + ";" + n + ';">' + e + i + "</div>";
}
function Uve(r, e, t) {
  var i = e ? "margin-left:2px" : "";
  return '<span style="' + t + ";" + i + '">' + ya(r) + "</span>";
}
function Gve(r, e, t, i) {
  var a = t ? "10px" : "20px", n = e ? "float:right;margin-left:" + a : "";
  return r = Ke(r) ? r : [r], '<span style="' + n + ";" + i + '">' + Je(r, function(o) {
    return ya(o);
  }).join("&nbsp;&nbsp;") + "</span>";
}
function Wj(r, e, t) {
  return r.markupStyleCreator.wrapRichTextStyle(e, t);
}
function zve(r, e, t, i, a) {
  var n = [a], o = i ? 10 : 20;
  return t && n.push({
    padding: [0, 0, 0, o],
    align: "right"
  }), r.markupStyleCreator.wrapRichTextStyle(Ke(e) ? e.join("  ") : e, n);
}
function Hj(r, e) {
  var t = r.getData().getItemVisual(e, "style"), i = t[r.visualDrawType];
  return nd(i);
}
function $j(r, e) {
  var t = r.get("padding");
  return t ?? (e === "richText" ? [8, 10] : 10);
}
var H3 = (
  /** @class */
  function() {
    function r() {
      this.richTextStyles = {}, this._nextStyleNameId = V$();
    }
    return r.prototype._generateStyleName = function() {
      return "__EC_aUTo_" + this._nextStyleNameId++;
    }, r.prototype.makeTooltipMarker = function(e, t, i) {
      var a = i === "richText" ? this._generateStyleName() : null, n = aj({
        color: t,
        type: e,
        renderMode: i,
        markerId: a
      });
      return vt(n) ? n : (process.env.NODE_ENV !== "production" && kt(a), this.richTextStyles[a] = n.style, n.content);
    }, r.prototype.wrapRichTextStyle = function(e, t) {
      var i = {};
      Ke(t) ? J(t, function(n) {
        return $e(i, n);
      }) : $e(i, t);
      var a = this._generateStyleName();
      return this.richTextStyles[a] = i, "{" + a + "|" + e + "}";
    }, r;
  }()
);
function Yj(r) {
  var e = r.series, t = r.dataIndex, i = r.multipleSeries, a = e.getData(), n = a.mapDimensionsAll("defaultedTooltip"), o = n.length, s = e.getRawValue(t), l = Ke(s), u = Hj(e, t), c, f, d, p;
  if (o > 1 || l && !o) {
    var v = Wve(s, e, t, n, u);
    c = v.inlineValues, f = v.inlineValueTypes, d = v.blocks, p = v.inlineValues[0];
  } else if (o) {
    var y = a.getDimensionInfo(n[0]);
    p = c = c0(a, t, n[0]), f = y.type;
  } else
    p = c = l ? s[0] : s;
  var _ = L8(e), w = _ && e.name || "", S = a.getName(t), x = i ? w : S;
  return Pi("section", {
    header: w,
    // When series name is not specified, do not show a header line with only '-'.
    // This case always happens in tooltip.trigger: 'item'.
    noHeader: i || !_,
    sortParam: p,
    blocks: [Pi("nameValue", {
      markerType: "item",
      markerColor: u,
      // Do not mix display seriesName and itemName in one tooltip,
      // which might confuses users.
      name: x,
      // name dimension might be auto assigned, where the name might
      // be not readable. So we check trim here.
      noName: !Ao(x),
      value: c,
      valueType: f,
      dataIndex: t
    })].concat(d || [])
  });
}
function Wve(r, e, t, i, a) {
  var n = e.getData(), o = ls(r, function(f, d, p) {
    var v = n.getDimensionInfo(p);
    return f = f || v && v.tooltip !== !1 && v.displayName != null;
  }, !1), s = [], l = [], u = [];
  i.length ? J(i, function(f) {
    c(c0(n, t, f), f);
  }) : J(r, c);
  function c(f, d) {
    var p = n.getDimensionInfo(d);
    !p || p.otherDims.tooltip === !1 || (o ? u.push(Pi("nameValue", {
      markerType: "subItem",
      markerColor: a,
      name: p.displayName,
      value: f,
      valueType: p.type
    })) : (s.push(f), l.push(p.type)));
  }
  return {
    inlineValues: s,
    inlineValueTypes: l,
    blocks: u
  };
}
var gc = Ar();
function Wy(r, e) {
  return r.getName(e) || r.getId(e);
}
var s_ = "__universalTransitionEnabled", IS = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t._selectedDataIndicesMap = {}, t;
    }
    return e.prototype.init = function(t, i, a) {
      this.seriesIndex = this.componentIndex, this.dataTask = Xg({
        count: $ve,
        reset: Yve
      }), this.dataTask.context = {
        model: this
      }, this.mergeDefaultAndTheme(t, a);
      var n = gc(this).sourceManager = new Bj(this);
      n.prepareSource();
      var o = this.getInitialData(t, a);
      XO(o, this), this.dataTask.context.data = o, process.env.NODE_ENV !== "production" && kt(o, "getInitialData returned invalid data."), gc(this).dataBeforeProcessed = o, qO(this), this._initSelectedMapFromData(o);
    }, e.prototype.mergeDefaultAndTheme = function(t, i) {
      var a = g1(this), n = a ? Td(t) : {}, o = this.subType;
      Rr.hasClass(o) && (o += "Series"), gr(t, i.getTheme().get(this.subType)), gr(t, this.getDefaultOption()), Zf(t, "label", ["show"]), this.fillDataTextStyle(t.data), a && Pl(t, n, a);
    }, e.prototype.mergeOption = function(t, i) {
      t = gr(this.option, t, !0), this.fillDataTextStyle(t.data);
      var a = g1(this);
      a && Pl(this.option, t, a);
      var n = gc(this).sourceManager;
      n.dirty(), n.prepareSource();
      var o = this.getInitialData(t, i);
      XO(o, this), this.dataTask.dirty(), this.dataTask.context.data = o, gc(this).dataBeforeProcessed = o, qO(this), this._initSelectedMapFromData(o);
    }, e.prototype.fillDataTextStyle = function(t) {
      if (t && !za(t))
        for (var i = ["show"], a = 0; a < t.length; a++)
          t[a] && t[a].label && Zf(t[a], "label", i);
    }, e.prototype.getInitialData = function(t, i) {
    }, e.prototype.appendData = function(t) {
      var i = this.getRawData();
      i.appendData(t.data);
    }, e.prototype.getData = function(t) {
      var i = p6(this);
      if (i) {
        var a = i.context.data;
        return t == null || !a.getLinkedData ? a : a.getLinkedData(t);
      } else
        return gc(this).data;
    }, e.prototype.getAllData = function() {
      var t = this.getData();
      return t && t.getLinkedDataAll ? t.getLinkedDataAll() : [{
        data: t
      }];
    }, e.prototype.setData = function(t) {
      var i = p6(this);
      if (i) {
        var a = i.context;
        a.outputData = t, i !== this.dataTask && (a.data = t);
      }
      gc(this).data = t;
    }, e.prototype.getEncode = function() {
      var t = this.get("encode", !0);
      if (t)
        return Pt(t);
    }, e.prototype.getSourceManager = function() {
      return gc(this).sourceManager;
    }, e.prototype.getSource = function() {
      return this.getSourceManager().getSource();
    }, e.prototype.getRawData = function() {
      return gc(this).dataBeforeProcessed;
    }, e.prototype.getColorBy = function() {
      var t = this.get("colorBy");
      return t || "series";
    }, e.prototype.isColorBySeries = function() {
      return this.getColorBy() === "series";
    }, e.prototype.getBaseAxis = function() {
      var t = this.coordinateSystem;
      return t && t.getBaseAxis && t.getBaseAxis();
    }, e.prototype.indicesOfNearest = function(t, i, a, n) {
      var o = this.getData(), s = this.coordinateSystem, l = s && s.getAxis(t);
      if (!s || !l)
        return [];
      var u = l.dataToCoord(a);
      n == null && (n = 1 / 0);
      var c = [], f = 1 / 0, d = -1, p = 0;
      return o.each(i, function(v, y) {
        var _ = l.dataToCoord(v), w = u - _, S = Math.abs(w);
        S <= n && ((S < f || S === f && w >= 0 && d < 0) && (f = S, d = w, p = 0), w === d && (c[p++] = y));
      }), c.length = p, c;
    }, e.prototype.formatTooltip = function(t, i, a) {
      return Yj({
        series: this,
        dataIndex: t,
        multipleSeries: i
      });
    }, e.prototype.isAnimationEnabled = function() {
      var t = this.ecModel;
      if (qr.node && !(t && t.ssr))
        return !1;
      var i = this.getShallow("animation");
      return i && this.getData().count() > this.getShallow("animationThreshold") && (i = !1), !!i;
    }, e.prototype.restoreData = function() {
      this.dataTask.dirty();
    }, e.prototype.getColorFromPalette = function(t, i, a) {
      var n = this.ecModel, o = mD.prototype.getColorFromPalette.call(this, t, i, a);
      return o || (o = n.getColorFromPalette(t, i, a)), o;
    }, e.prototype.coordDimToDataDim = function(t) {
      return this.getRawData().mapDimensionsAll(t);
    }, e.prototype.getProgressive = function() {
      return this.get("progressive");
    }, e.prototype.getProgressiveThreshold = function() {
      return this.get("progressiveThreshold");
    }, e.prototype.select = function(t, i) {
      this._innerSelect(this.getData(i), t);
    }, e.prototype.unselect = function(t, i) {
      var a = this.option.selectedMap;
      if (a) {
        var n = this.option.selectedMode, o = this.getData(i);
        if (n === "series" || a === "all") {
          this.option.selectedMap = {}, this._selectedDataIndicesMap = {};
          return;
        }
        for (var s = 0; s < t.length; s++) {
          var l = t[s], u = Wy(o, l);
          a[u] = !1, this._selectedDataIndicesMap[u] = -1;
        }
      }
    }, e.prototype.toggleSelect = function(t, i) {
      for (var a = [], n = 0; n < t.length; n++)
        a[0] = t[n], this.isSelected(t[n], i) ? this.unselect(a, i) : this.select(a, i);
    }, e.prototype.getSelectedDataIndices = function() {
      if (this.option.selectedMap === "all")
        return [].slice.call(this.getData().getIndices());
      for (var t = this._selectedDataIndicesMap, i = Ir(t), a = [], n = 0; n < i.length; n++) {
        var o = t[i[n]];
        o >= 0 && a.push(o);
      }
      return a;
    }, e.prototype.isSelected = function(t, i) {
      var a = this.option.selectedMap;
      if (!a)
        return !1;
      var n = this.getData(i);
      return (a === "all" || a[Wy(n, t)]) && !n.getItemModel(t).get(["select", "disabled"]);
    }, e.prototype.isUniversalTransitionEnabled = function() {
      if (this[s_])
        return !0;
      var t = this.option.universalTransition;
      return t ? t === !0 ? !0 : t && t.enabled : !1;
    }, e.prototype._innerSelect = function(t, i) {
      var a, n, o = this.option, s = o.selectedMode, l = i.length;
      if (!(!s || !l)) {
        if (s === "series")
          o.selectedMap = "all";
        else if (s === "multiple") {
          zt(o.selectedMap) || (o.selectedMap = {});
          for (var u = o.selectedMap, c = 0; c < l; c++) {
            var f = i[c], d = Wy(t, f);
            u[d] = !0, this._selectedDataIndicesMap[d] = t.getRawIndex(f);
          }
        } else if (s === "single" || s === !0) {
          var p = i[l - 1], d = Wy(t, p);
          o.selectedMap = (a = {}, a[d] = !0, a), this._selectedDataIndicesMap = (n = {}, n[d] = t.getRawIndex(p), n);
        }
      }
    }, e.prototype._initSelectedMapFromData = function(t) {
      if (!this.option.selectedMap) {
        var i = [];
        t.hasItemOption && t.each(function(a) {
          var n = t.getRawDataItem(a);
          n && n.selected && i.push(a);
        }), i.length > 0 && this._innerSelect(t, i);
      }
    }, e.registerClass = function(t) {
      return Rr.registerClass(t);
    }, e.protoInitialize = function() {
      var t = e.prototype;
      t.type = "series.__base__", t.seriesIndex = 0, t.ignoreStyleOnData = !1, t.hasSymbolVisual = !1, t.defaultSymbol = "circle", t.visualStyleAccessPath = "itemStyle", t.visualDrawType = "fill";
    }(), e;
  }(Rr)
);
ci(IS, kS);
ci(IS, mD);
X$(IS, Rr);
function qO(r) {
  var e = r.name;
  L8(r) || (r.name = Hve(r) || e);
}
function Hve(r) {
  var e = r.getRawData(), t = e.mapDimensionsAll("seriesName"), i = [];
  return J(t, function(a) {
    var n = e.getDimensionInfo(a);
    n.displayName && i.push(n.displayName);
  }), i.join(" ");
}
function $ve(r) {
  return r.model.getRawData().count();
}
function Yve(r) {
  var e = r.model;
  return e.setData(e.getRawData().cloneShallow()), jve;
}
function jve(r, e) {
  e.outputData && r.end > e.outputData.count() && e.model.getRawData().cloneShallow(e.outputData);
}
function XO(r, e) {
  J(n0(r.CHANGABLE_METHODS, r.DOWNSAMPLE_METHODS), function(t) {
    r.wrapMethod(t, fr(qve, e));
  });
}
function qve(r, e) {
  var t = p6(r);
  return t && t.setOutputEnd((e || this).count()), e;
}
function p6(r) {
  var e = (r.ecModel || {}).scheduler, t = e && e.getPipeline(r.uid);
  if (t) {
    var i = t.currentTask;
    if (i) {
      var a = i.agentStubMap;
      a && (i = a.get(r.uid));
    }
    return i;
  }
}
const En = IS;
var wD = (
  /** @class */
  function() {
    function r() {
      this.group = new Wt(), this.uid = N0("viewComponent");
    }
    return r.prototype.init = function(e, t) {
    }, r.prototype.render = function(e, t, i, a) {
    }, r.prototype.dispose = function(e, t) {
    }, r.prototype.updateView = function(e, t, i, a) {
    }, r.prototype.updateLayout = function(e, t, i, a) {
    }, r.prototype.updateVisual = function(e, t, i, a) {
    }, r.prototype.toggleBlurSeries = function(e, t, i) {
    }, r.prototype.eachRendered = function(e) {
      var t = this.group;
      t && t.traverse(e);
    }, r;
  }()
);
F8(wD);
pS(wD);
const Pn = wD;
function U0() {
  var r = Ar();
  return function(e) {
    var t = r(e), i = e.pipelineContext, a = !!t.large, n = !!t.progressiveRender, o = t.large = !!(i && i.large), s = t.progressiveRender = !!(i && i.progressiveRender);
    return (a !== o || n !== s) && "reset";
  };
}
var jj = Ar(), Xve = U0(), SD = (
  /** @class */
  function() {
    function r() {
      this.group = new Wt(), this.uid = N0("viewChart"), this.renderTask = Xg({
        plan: Kve,
        reset: Zve
      }), this.renderTask.context = {
        view: this
      };
    }
    return r.prototype.init = function(e, t) {
    }, r.prototype.render = function(e, t, i, a) {
      if (process.env.NODE_ENV !== "production")
        throw new Error("render method must been implemented");
    }, r.prototype.highlight = function(e, t, i, a) {
      var n = e.getData(a && a.dataType);
      if (!n) {
        process.env.NODE_ENV !== "production" && Nr("Unknown dataType " + a.dataType);
        return;
      }
      ZO(n, a, "emphasis");
    }, r.prototype.downplay = function(e, t, i, a) {
      var n = e.getData(a && a.dataType);
      if (!n) {
        process.env.NODE_ENV !== "production" && Nr("Unknown dataType " + a.dataType);
        return;
      }
      ZO(n, a, "normal");
    }, r.prototype.remove = function(e, t) {
      this.group.removeAll();
    }, r.prototype.dispose = function(e, t) {
    }, r.prototype.updateView = function(e, t, i, a) {
      this.render(e, t, i, a);
    }, r.prototype.updateLayout = function(e, t, i, a) {
      this.render(e, t, i, a);
    }, r.prototype.updateVisual = function(e, t, i, a) {
      this.render(e, t, i, a);
    }, r.prototype.eachRendered = function(e) {
      fh(this.group, e);
    }, r.markUpdateMethod = function(e, t) {
      jj(e).updateMethod = t;
    }, r.protoInitialize = function() {
      var e = r.prototype;
      e.type = "chart";
    }(), r;
  }()
);
function KO(r, e, t) {
  r && Kc(r) && (e === "emphasis" ? Vu : Uu)(r, t);
}
function ZO(r, e, t) {
  var i = Jf(r, e), a = e && e.highlightKey != null ? upe(e.highlightKey) : null;
  i != null ? J(xn(i), function(n) {
    KO(r.getItemGraphicEl(n), t, a);
  }) : r.eachItemGraphicEl(function(n) {
    KO(n, t, a);
  });
}
F8(SD, ["dispose"]);
pS(SD);
function Kve(r) {
  return Xve(r.model);
}
function Zve(r) {
  var e = r.model, t = r.ecModel, i = r.api, a = r.payload, n = e.pipelineContext.progressiveRender, o = r.view, s = a && jj(a).updateMethod, l = n ? "incrementalPrepareRender" : s && o[s] ? s : "render";
  return l !== "render" && o[l](e, t, i, a), Jve[l];
}
var Jve = {
  incrementalPrepareRender: {
    progress: function(r, e) {
      e.view.incrementalRender(r, e.model, e.ecModel, e.api, e.payload);
    }
  },
  render: {
    // Put view.render in `progress` to support appendData. But in this case
    // view.render should not be called in reset, otherwise it will be called
    // twise. Use `forceFirstProgress` to make sure that view.render is called
    // in any cases.
    forceFirstProgress: !0,
    progress: function(r, e) {
      e.view.render(e.model, e.ecModel, e.api, e.payload);
    }
  }
};
const gn = SD;
var tb = "\0__throttleOriginMethod", JO = "\0__throttleRate", QO = "\0__throttleType";
function PS(r, e, t) {
  var i, a = 0, n = 0, o = null, s, l, u, c;
  e = e || 0;
  function f() {
    n = (/* @__PURE__ */ new Date()).getTime(), o = null, r.apply(l, u || []);
  }
  var d = function() {
    for (var p = [], v = 0; v < arguments.length; v++)
      p[v] = arguments[v];
    i = (/* @__PURE__ */ new Date()).getTime(), l = this, u = p;
    var y = c || e, _ = c || t;
    c = null, s = i - (_ ? a : n) - y, clearTimeout(o), _ ? o = setTimeout(f, y) : s >= 0 ? f() : o = setTimeout(f, -s), a = i;
  };
  return d.clear = function() {
    o && (clearTimeout(o), o = null);
  }, d.debounceNextCall = function(p) {
    c = p;
  }, d;
}
function G0(r, e, t, i) {
  var a = r[e];
  if (a) {
    var n = a[tb] || a, o = a[QO], s = a[JO];
    if (s !== t || o !== i) {
      if (t == null || !i)
        return r[e] = n;
      a = r[e] = PS(n, t, i === "debounce"), a[tb] = n, a[QO] = i, a[JO] = t;
    }
    return a;
  }
}
function y1(r, e) {
  var t = r[e];
  t && t[tb] && (t.clear && t.clear(), r[e] = t[tb]);
}
var eF = Ar(), tF = {
  itemStyle: Qf(KY, !0),
  lineStyle: Qf(XY, !0)
}, Qve = {
  lineStyle: "stroke",
  itemStyle: "fill"
};
function qj(r, e) {
  var t = r.visualStyleMapper || tF[e];
  return t || (console.warn("Unknown style type '" + e + "'."), tF.itemStyle);
}
function Xj(r, e) {
  var t = r.visualDrawType || Qve[e];
  return t || (console.warn("Unknown style type '" + e + "'."), "fill");
}
var ege = {
  createOnAllSeries: !0,
  performRawSeries: !0,
  reset: function(r, e) {
    var t = r.getData(), i = r.visualStyleAccessPath || "itemStyle", a = r.getModel(i), n = qj(r, i), o = n(a), s = a.getShallow("decal");
    s && (t.setVisual("decal", s), s.dirty = !0);
    var l = Xj(r, i), u = o[l], c = Bt(u) ? u : null, f = o.fill === "auto" || o.stroke === "auto";
    if (!o[l] || c || f) {
      var d = r.getColorFromPalette(
        // TODO series count changed.
        r.name,
        null,
        e.getSeriesCount()
      );
      o[l] || (o[l] = d, t.setVisual("colorFromPalette", !0)), o.fill = o.fill === "auto" || Bt(o.fill) ? d : o.fill, o.stroke = o.stroke === "auto" || Bt(o.stroke) ? d : o.stroke;
    }
    if (t.setVisual("style", o), t.setVisual("drawType", l), !e.isSeriesFiltered(r) && c)
      return t.setVisual("colorFromPalette", !1), {
        dataEach: function(p, v) {
          var y = r.getDataParams(v), _ = $e({}, o);
          _[l] = c(y), p.setItemVisual(v, "style", _);
        }
      };
  }
}, Xv = new Vr(), tge = {
  createOnAllSeries: !0,
  performRawSeries: !0,
  reset: function(r, e) {
    if (!(r.ignoreStyleOnData || e.isSeriesFiltered(r))) {
      var t = r.getData(), i = r.visualStyleAccessPath || "itemStyle", a = qj(r, i), n = t.getVisual("drawType");
      return {
        dataEach: t.hasItemOption ? function(o, s) {
          var l = o.getRawDataItem(s);
          if (l && l[i]) {
            Xv.option = l[i];
            var u = a(Xv), c = o.ensureUniqueItemVisual(s, "style");
            $e(c, u), Xv.option.decal && (o.setItemVisual(s, "decal", Xv.option.decal), Xv.option.decal.dirty = !0), n in u && o.setItemVisual(s, "colorFromPalette", !1);
          }
        } : null
      };
    }
  }
}, rge = {
  performRawSeries: !0,
  overallReset: function(r) {
    var e = Pt();
    r.eachSeries(function(t) {
      var i = t.getColorBy();
      if (!t.isColorBySeries()) {
        var a = t.type + "-" + i, n = e.get(a);
        n || (n = {}, e.set(a, n)), eF(t).scope = n;
      }
    }), r.eachSeries(function(t) {
      if (!(t.isColorBySeries() || r.isSeriesFiltered(t))) {
        var i = t.getRawData(), a = {}, n = t.getData(), o = eF(t).scope, s = t.visualStyleAccessPath || "itemStyle", l = Xj(t, s);
        n.each(function(u) {
          var c = n.getRawIndex(u);
          a[c] = u;
        }), i.each(function(u) {
          var c = a[u], f = n.getItemVisual(c, "colorFromPalette");
          if (f) {
            var d = n.ensureUniqueItemVisual(c, "style"), p = i.getName(u) || u + "", v = i.count();
            d[l] = t.getColorFromPalette(p, o, v);
          }
        });
      }
    });
  }
}, Hy = Math.PI;
function nge(r, e) {
  e = e || {}, Yt(e, {
    text: "loading",
    textColor: Ve.color.primary,
    fontSize: 12,
    fontWeight: "normal",
    fontStyle: "normal",
    fontFamily: "sans-serif",
    maskColor: "rgba(255,255,255,0.8)",
    showSpinner: !0,
    color: Ve.color.theme[0],
    spinnerRadius: 10,
    lineWidth: 5,
    zlevel: 0
  });
  var t = new Wt(), i = new Cr({
    style: {
      fill: e.maskColor
    },
    zlevel: e.zlevel,
    z: 1e4
  });
  t.add(i);
  var a = new Br({
    style: {
      text: e.text,
      fill: e.textColor,
      fontSize: e.fontSize,
      fontWeight: e.fontWeight,
      fontStyle: e.fontStyle,
      fontFamily: e.fontFamily
    },
    zlevel: e.zlevel,
    z: 10001
  }), n = new Cr({
    style: {
      fill: "none"
    },
    textContent: a,
    textConfig: {
      position: "right",
      distance: 10
    },
    zlevel: e.zlevel,
    z: 10001
  });
  t.add(n);
  var o;
  return e.showSpinner && (o = new xS({
    shape: {
      startAngle: -Hy / 2,
      endAngle: -Hy / 2 + 0.1,
      r: e.spinnerRadius
    },
    style: {
      stroke: e.color,
      lineCap: "round",
      lineWidth: e.lineWidth
    },
    zlevel: e.zlevel,
    z: 10001
  }), o.animateShape(!0).when(1e3, {
    endAngle: Hy * 3 / 2
  }).start("circularInOut"), o.animateShape(!0).when(1e3, {
    startAngle: Hy * 3 / 2
  }).delay(300).start("circularInOut"), t.add(o)), t.resize = function() {
    var s = a.getBoundingRect().width, l = e.showSpinner ? e.spinnerRadius : 0, u = (r.getWidth() - l * 2 - (e.showSpinner && s ? 10 : 0) - s) / 2 - (e.showSpinner && s ? 0 : 5 + s / 2) + (e.showSpinner ? 0 : s / 2) + (s ? 0 : l), c = r.getHeight() / 2;
    e.showSpinner && o.setShape({
      cx: u,
      cy: c
    }), n.setShape({
      x: u - l,
      y: c - l,
      width: l * 2,
      height: l * 2
    }), i.setShape({
      x: 0,
      y: 0,
      width: r.getWidth(),
      height: r.getHeight()
    });
  }, t.resize(), t;
}
var ige = (
  /** @class */
  function() {
    function r(e, t, i, a) {
      this._stageTaskMap = Pt(), this.ecInstance = e, this.api = t, i = this._dataProcessorHandlers = i.slice(), a = this._visualHandlers = a.slice(), this._allHandlers = i.concat(a);
    }
    return r.prototype.restoreData = function(e, t) {
      e.restoreData(t), this._stageTaskMap.each(function(i) {
        var a = i.overallTask;
        a && a.dirty();
      });
    }, r.prototype.getPerformArgs = function(e, t) {
      if (e.__pipeline) {
        var i = this._pipelineMap.get(e.__pipeline.id), a = i.context, n = !t && i.progressiveEnabled && (!a || a.progressiveRender) && e.__idxInPipeline > i.blockIndex, o = n ? i.step : null, s = a && a.modDataCount, l = s != null ? Math.ceil(s / o) : null;
        return {
          step: o,
          modBy: l,
          modDataCount: s
        };
      }
    }, r.prototype.getPipeline = function(e) {
      return this._pipelineMap.get(e);
    }, r.prototype.updateStreamModes = function(e, t) {
      var i = this._pipelineMap.get(e.uid), a = e.getData(), n = a.count(), o = i.progressiveEnabled && t.incrementalPrepareRender && n >= i.threshold, s = e.get("large") && n >= e.get("largeThreshold"), l = e.get("progressiveChunkMode") === "mod" ? n : null;
      e.pipelineContext = i.context = {
        progressiveRender: o,
        modDataCount: l,
        large: s
      };
    }, r.prototype.restorePipelines = function(e) {
      var t = this, i = t._pipelineMap = Pt();
      e.eachSeries(function(a) {
        var n = a.getProgressive(), o = a.uid;
        i.set(o, {
          id: o,
          head: null,
          tail: null,
          threshold: a.getProgressiveThreshold(),
          progressiveEnabled: n && !(a.preventIncremental && a.preventIncremental()),
          blockIndex: -1,
          step: Math.round(n || 700),
          count: 0
        }), t._pipe(a, a.dataTask);
      });
    }, r.prototype.prepareStageTasks = function() {
      var e = this._stageTaskMap, t = this.api.getModel(), i = this.api;
      J(this._allHandlers, function(a) {
        var n = e.get(a.uid) || e.set(a.uid, {}), o = "";
        process.env.NODE_ENV !== "production" && (o = '"reset" and "overallReset" must not be both specified.'), kt(!(a.reset && a.overallReset), o), a.reset && this._createSeriesStageTask(a, n, t, i), a.overallReset && this._createOverallStageTask(a, n, t, i);
      }, this);
    }, r.prototype.prepareView = function(e, t, i, a) {
      var n = e.renderTask, o = n.context;
      o.model = t, o.ecModel = i, o.api = a, n.__block = !e.incrementalPrepareRender, this._pipe(t, n);
    }, r.prototype.performDataProcessorTasks = function(e, t) {
      this._performStageTasks(this._dataProcessorHandlers, e, t, {
        block: !0
      });
    }, r.prototype.performVisualTasks = function(e, t, i) {
      this._performStageTasks(this._visualHandlers, e, t, i);
    }, r.prototype._performStageTasks = function(e, t, i, a) {
      a = a || {};
      var n = !1, o = this;
      J(e, function(l, u) {
        if (!(a.visualType && a.visualType !== l.visualType)) {
          var c = o._stageTaskMap.get(l.uid), f = c.seriesTaskMap, d = c.overallTask;
          if (d) {
            var p, v = d.agentStubMap;
            v.each(function(_) {
              s(a, _) && (_.dirty(), p = !0);
            }), p && d.dirty(), o.updatePayload(d, i);
            var y = o.getPerformArgs(d, a.block);
            v.each(function(_) {
              _.perform(y);
            }), d.perform(y) && (n = !0);
          } else
            f && f.each(function(_, w) {
              s(a, _) && _.dirty();
              var S = o.getPerformArgs(_, a.block);
              S.skip = !l.performRawSeries && t.isSeriesFiltered(_.context.model), o.updatePayload(_, i), _.perform(S) && (n = !0);
            });
        }
      });
      function s(l, u) {
        return l.setDirty && (!l.dirtyMap || l.dirtyMap.get(u.__pipeline.id));
      }
      this.unfinished = n || this.unfinished;
    }, r.prototype.performSeriesTasks = function(e) {
      var t;
      e.eachSeries(function(i) {
        t = i.dataTask.perform() || t;
      }), this.unfinished = t || this.unfinished;
    }, r.prototype.plan = function() {
      this._pipelineMap.each(function(e) {
        var t = e.tail;
        do {
          if (t.__block) {
            e.blockIndex = t.__idxInPipeline;
            break;
          }
          t = t.getUpstream();
        } while (t);
      });
    }, r.prototype.updatePayload = function(e, t) {
      t !== "remain" && (e.context.payload = t);
    }, r.prototype._createSeriesStageTask = function(e, t, i, a) {
      var n = this, o = t.seriesTaskMap, s = t.seriesTaskMap = Pt(), l = e.seriesType, u = e.getTargetSeries;
      e.createOnAllSeries ? i.eachRawSeries(c) : l ? i.eachRawSeriesByType(l, c) : u && u(i, a).each(c);
      function c(f) {
        var d = f.uid, p = s.set(d, o && o.get(d) || Xg({
          plan: uge,
          reset: cge,
          count: fge
        }));
        p.context = {
          model: f,
          ecModel: i,
          api: a,
          // PENDING: `useClearVisual` not used?
          useClearVisual: e.isVisual && !e.isLayout,
          plan: e.plan,
          reset: e.reset,
          scheduler: n
        }, n._pipe(f, p);
      }
    }, r.prototype._createOverallStageTask = function(e, t, i, a) {
      var n = this, o = t.overallTask = t.overallTask || Xg({
        reset: age
      });
      o.context = {
        ecModel: i,
        api: a,
        overallReset: e.overallReset,
        scheduler: n
      };
      var s = o.agentStubMap, l = o.agentStubMap = Pt(), u = e.seriesType, c = e.getTargetSeries, f = !0, d = !1, p = "";
      process.env.NODE_ENV !== "production" && (p = '"createOnAllSeries" is not supported for "overallReset", because it will block all streams.'), kt(!e.createOnAllSeries, p), u ? i.eachRawSeriesByType(u, v) : c ? c(i, a).each(v) : (f = !1, J(i.getSeries(), v));
      function v(y) {
        var _ = y.uid, w = l.set(_, s && s.get(_) || // When the result of `getTargetSeries` changed, the overallTask
        // should be set as dirty and re-performed.
        (d = !0, Xg({
          reset: oge,
          onDirty: lge
        })));
        w.context = {
          model: y,
          overallProgress: f
          // FIXME:TS never used, so comment it
          // modifyOutputEnd: modifyOutputEnd
        }, w.agent = o, w.__block = f, n._pipe(y, w);
      }
      d && o.dirty();
    }, r.prototype._pipe = function(e, t) {
      var i = e.uid, a = this._pipelineMap.get(i);
      !a.head && (a.head = t), a.tail && a.tail.pipe(t), a.tail = t, t.__idxInPipeline = a.count++, t.__pipeline = a;
    }, r.wrapStageHandler = function(e, t) {
      return Bt(e) && (e = {
        overallReset: e,
        seriesType: dge(e)
      }), e.uid = N0("stageHandler"), t && (e.visualType = t), e;
    }, r;
  }()
);
function age(r) {
  r.overallReset(r.ecModel, r.api, r.payload);
}
function oge(r) {
  return r.overallProgress && sge;
}
function sge() {
  this.agent.dirty(), this.getDownstream().dirty();
}
function lge() {
  this.agent && this.agent.dirty();
}
function uge(r) {
  return r.plan ? r.plan(r.model, r.ecModel, r.api, r.payload) : null;
}
function cge(r) {
  r.useClearVisual && r.data.clearAllVisual();
  var e = r.resetDefines = xn(r.reset(r.model, r.ecModel, r.api, r.payload));
  return e.length > 1 ? Je(e, function(t, i) {
    return Kj(i);
  }) : hge;
}
var hge = Kj(0);
function Kj(r) {
  return function(e, t) {
    var i = t.data, a = t.resetDefines[r];
    if (a && a.dataEach)
      for (var n = e.start; n < e.end; n++)
        a.dataEach(i, n);
    else
      a && a.progress && a.progress(e, i);
  };
}
function fge(r) {
  return r.data.count();
}
function dge(r) {
  rb = null;
  try {
    r(_1, Zj);
  } catch {
  }
  return rb;
}
var _1 = {}, Zj = {}, rb;
Jj(_1, Sj);
Jj(Zj, xj);
_1.eachSeriesByType = _1.eachRawSeriesByType = function(r) {
  rb = r;
};
_1.eachComponent = function(r) {
  r.mainType === "series" && r.subType && (rb = r.subType);
};
function Jj(r, e) {
  for (var t in e.prototype)
    r[t] = si;
}
const Qj = ige;
var qt = Ve.darkColor, pge = qt.background, Kv = function() {
  return {
    axisLine: {
      lineStyle: {
        color: qt.axisLine
      }
    },
    splitLine: {
      lineStyle: {
        color: qt.axisSplitLine
      }
    },
    splitArea: {
      areaStyle: {
        color: [qt.backgroundTint, qt.backgroundTransparent]
      }
    },
    minorSplitLine: {
      lineStyle: {
        color: qt.axisMinorSplitLine
      }
    },
    axisLabel: {
      color: qt.axisLabel
    },
    axisName: {}
  };
}, rF = {
  label: {
    color: qt.secondary
  },
  itemStyle: {
    borderColor: qt.borderTint
  },
  dividerLineStyle: {
    color: qt.border
  }
}, eq = {
  darkMode: !0,
  color: qt.theme,
  backgroundColor: pge,
  axisPointer: {
    lineStyle: {
      color: qt.border
    },
    crossStyle: {
      color: qt.borderShade
    },
    label: {
      color: qt.tertiary
    }
  },
  legend: {
    textStyle: {
      color: qt.secondary
    },
    pageTextStyle: {
      color: qt.tertiary
    }
  },
  textStyle: {
    color: qt.secondary
  },
  title: {
    textStyle: {
      color: qt.primary
    },
    subtextStyle: {
      color: qt.quaternary
    }
  },
  toolbox: {
    iconStyle: {
      borderColor: qt.accent50
    }
  },
  tooltip: {
    backgroundColor: qt.neutral20,
    defaultBorderColor: qt.border,
    textStyle: {
      color: qt.tertiary
    }
  },
  dataZoom: {
    borderColor: qt.accent10,
    textStyle: {
      color: qt.tertiary
    },
    brushStyle: {
      color: qt.backgroundTint
    },
    handleStyle: {
      color: qt.neutral00,
      borderColor: qt.accent20
    },
    moveHandleStyle: {
      color: qt.accent40
    },
    emphasis: {
      handleStyle: {
        borderColor: qt.accent50
      }
    },
    dataBackground: {
      lineStyle: {
        color: qt.accent30
      },
      areaStyle: {
        color: qt.accent20
      }
    },
    selectedDataBackground: {
      lineStyle: {
        color: qt.accent50
      },
      areaStyle: {
        color: qt.accent30
      }
    }
  },
  visualMap: {
    textStyle: {
      color: qt.secondary
    },
    handleStyle: {
      borderColor: qt.neutral30
    }
  },
  timeline: {
    lineStyle: {
      color: qt.accent10
    },
    label: {
      color: qt.tertiary
    },
    controlStyle: {
      color: qt.accent30,
      borderColor: qt.accent30
    }
  },
  calendar: {
    itemStyle: {
      color: qt.neutral00,
      borderColor: qt.neutral20
    },
    dayLabel: {
      color: qt.tertiary
    },
    monthLabel: {
      color: qt.secondary
    },
    yearLabel: {
      color: qt.secondary
    }
  },
  matrix: {
    x: rF,
    y: rF,
    backgroundColor: {
      borderColor: qt.axisLine
    },
    body: {
      itemStyle: {
        borderColor: qt.borderTint
      }
    }
  },
  timeAxis: Kv(),
  logAxis: Kv(),
  valueAxis: Kv(),
  categoryAxis: Kv(),
  line: {
    symbol: "circle"
  },
  graph: {
    color: qt.theme
  },
  gauge: {
    title: {
      color: qt.secondary
    },
    axisLine: {
      lineStyle: {
        color: [[1, qt.neutral05]]
      }
    },
    axisLabel: {
      color: qt.axisLabel
    },
    detail: {
      color: qt.primary
    }
  },
  candlestick: {
    itemStyle: {
      color: "#f64e56",
      color0: "#54ea92",
      borderColor: "#f64e56",
      borderColor0: "#54ea92"
      // borderColor: '#ca2824',
      // borderColor0: '#09a443'
    }
  },
  funnel: {
    itemStyle: {
      borderColor: qt.background
    }
  },
  radar: function() {
    var r = Kv();
    return r.axisName = {
      color: qt.axisLabel
    }, r.axisLine.lineStyle.color = qt.neutral20, r;
  }(),
  treemap: {
    breadcrumb: {
      itemStyle: {
        color: qt.neutral20,
        textStyle: {
          color: qt.secondary
        }
      },
      emphasis: {
        itemStyle: {
          color: qt.neutral30
        }
      }
    }
  },
  sunburst: {
    itemStyle: {
      borderColor: qt.background
    }
  },
  map: {
    itemStyle: {
      borderColor: qt.border,
      areaColor: qt.neutral10
    },
    label: {
      color: qt.tertiary
    },
    emphasis: {
      label: {
        color: qt.primary
      },
      itemStyle: {
        areaColor: qt.highlight
      }
    },
    select: {
      label: {
        color: qt.primary
      },
      itemStyle: {
        areaColor: qt.highlight
      }
    }
  },
  geo: {
    itemStyle: {
      borderColor: qt.border,
      areaColor: qt.neutral10
    },
    emphasis: {
      label: {
        color: qt.primary
      },
      itemStyle: {
        areaColor: qt.highlight
      }
    },
    select: {
      label: {
        color: qt.primary
      },
      itemStyle: {
        color: qt.highlight
      }
    }
  }
};
eq.categoryAxis.splitLine.show = !1;
const vge = eq;
var gge = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.normalizeQuery = function(e) {
      var t = {}, i = {}, a = {};
      if (vt(e)) {
        var n = Sl(e);
        t.mainType = n.main || null, t.subType = n.sub || null;
      } else {
        var o = ["Index", "Name", "Id"], s = {
          name: 1,
          dataIndex: 1,
          dataType: 1
        };
        J(e, function(l, u) {
          for (var c = !1, f = 0; f < o.length; f++) {
            var d = o[f], p = u.lastIndexOf(d);
            if (p > 0 && p === u.length - d.length) {
              var v = u.slice(0, p);
              v !== "data" && (t.mainType = v, t[d.toLowerCase()] = l, c = !0);
            }
          }
          s.hasOwnProperty(u) && (i[u] = l, c = !0), c || (a[u] = l);
        });
      }
      return {
        cptQuery: t,
        dataQuery: i,
        otherQuery: a
      };
    }, r.prototype.filter = function(e, t) {
      var i = this.eventInfo;
      if (!i)
        return !0;
      var a = i.targetEl, n = i.packedEvent, o = i.model, s = i.view;
      if (!o || !s)
        return !0;
      var l = t.cptQuery, u = t.dataQuery;
      return c(l, o, "mainType") && c(l, o, "subType") && c(l, o, "index", "componentIndex") && c(l, o, "name") && c(l, o, "id") && c(u, n, "name") && c(u, n, "dataIndex") && c(u, n, "dataType") && (!s.filterForExposedEvent || s.filterForExposedEvent(e, t.otherQuery, a, n));
      function c(f, d, p, v) {
        return f[p] == null || d[v || p] === f[p];
      }
    }, r.prototype.afterTrigger = function() {
      this.eventInfo = null;
    }, r;
  }()
), v6 = ["symbol", "symbolSize", "symbolRotate", "symbolOffset"], nF = v6.concat(["symbolKeepAspect"]), mge = {
  createOnAllSeries: !0,
  // For legend.
  performRawSeries: !0,
  reset: function(r, e) {
    var t = r.getData();
    if (r.legendIcon && t.setVisual("legendIcon", r.legendIcon), !r.hasSymbolVisual)
      return;
    for (var i = {}, a = {}, n = !1, o = 0; o < v6.length; o++) {
      var s = v6[o], l = r.get(s);
      Bt(l) ? (n = !0, a[s] = l) : i[s] = l;
    }
    if (i.symbol = i.symbol || r.defaultSymbol, t.setVisual($e({
      legendIcon: r.legendIcon || i.symbol,
      symbolKeepAspect: r.get("symbolKeepAspect")
    }, i)), e.isSeriesFiltered(r))
      return;
    var u = Ir(a);
    function c(f, d) {
      for (var p = r.getRawValue(d), v = r.getDataParams(d), y = 0; y < u.length; y++) {
        var _ = u[y];
        f.setItemVisual(d, _, a[_](p, v));
      }
    }
    return {
      dataEach: n ? c : null
    };
  }
}, yge = {
  createOnAllSeries: !0,
  // For legend.
  performRawSeries: !0,
  reset: function(r, e) {
    if (!r.hasSymbolVisual || e.isSeriesFiltered(r))
      return;
    var t = r.getData();
    function i(a, n) {
      for (var o = a.getItemModel(n), s = 0; s < nF.length; s++) {
        var l = nF[s], u = o.getShallow(l, !0);
        u != null && a.setItemVisual(n, l, u);
      }
    }
    return {
      dataEach: t.hasItemOption ? i : null
    };
  }
};
function xD(r, e, t) {
  switch (t) {
    case "color":
      var i = r.getItemVisual(e, "style");
      return i[r.getVisual("drawType")];
    case "opacity":
      return r.getItemVisual(e, "style").opacity;
    case "symbol":
    case "symbolSize":
    case "liftZ":
      return r.getItemVisual(e, t);
    default:
      process.env.NODE_ENV !== "production" && console.warn("Unknown visual type " + t);
  }
}
function lm(r, e) {
  switch (e) {
    case "color":
      var t = r.getVisual("style");
      return t[r.getVisual("drawType")];
    case "opacity":
      return r.getVisual("style").opacity;
    case "symbol":
    case "symbolSize":
    case "liftZ":
      return r.getVisual(e);
    default:
      process.env.NODE_ENV !== "production" && console.warn("Unknown visual type " + e);
  }
}
function tq(r, e, t, i) {
  switch (t) {
    case "color":
      var a = r.ensureUniqueItemVisual(e, "style");
      a[r.getVisual("drawType")] = i, r.setItemVisual(e, "colorFromPalette", !1);
      break;
    case "opacity":
      r.ensureUniqueItemVisual(e, "style").opacity = i;
      break;
    case "symbol":
    case "symbolSize":
    case "liftZ":
      r.setItemVisual(e, t, i);
      break;
    default:
      process.env.NODE_ENV !== "production" && console.warn("Unknown visual type " + t);
  }
}
function rq(r, e) {
  function t(i, a) {
    var n = [];
    return i.eachComponent({
      mainType: "series",
      subType: r,
      query: a
    }, function(o) {
      n.push(o.seriesIndex);
    }), n;
  }
  J([[r + "ToggleSelect", "toggleSelect"], [r + "Select", "select"], [r + "UnSelect", "unselect"]], function(i) {
    e(i[0], function(a, n, o) {
      a = $e({}, a), process.env.NODE_ENV !== "production" && yi(a.type, i[1]), o.dispatchAction($e(a, {
        type: i[1],
        seriesIndex: t(n, a)
      }));
    });
  });
}
function cp(r, e, t, i, a) {
  var n = r + e;
  t.isSilent(n) || (process.env.NODE_ENV !== "production" && Us("event " + n + " is deprecated."), i.eachComponent({
    mainType: "series",
    subType: "pie"
  }, function(o) {
    for (var s = o.seriesIndex, l = o.option.selectedMap, u = a.selected, c = 0; c < u.length; c++)
      if (u[c].seriesIndex === s) {
        var f = o.getData(), d = Jf(f, a.fromActionPayload);
        t.trigger(n, {
          type: n,
          seriesId: o.id,
          name: Ke(d) ? f.getName(d[0]) : f.getName(d),
          selected: vt(l) ? l : $e({}, l)
        });
      }
  }));
}
function _ge(r, e, t) {
  r.on("selectchanged", function(i) {
    var a = t.getModel();
    i.isFromClick ? (cp("map", "selectchanged", e, a, i), cp("pie", "selectchanged", e, a, i)) : i.fromAction === "select" ? (cp("map", "selected", e, a, i), cp("pie", "selected", e, a, i)) : i.fromAction === "unselect" && (cp("map", "unselected", e, a, i), cp("pie", "unselected", e, a, i));
  });
}
function Lf(r, e, t) {
  for (var i; r && !(e(r) && (i = r, t)); )
    r = r.__hostTarget || r.parent;
  return i;
}
var bge = Math.round(Math.random() * 9), wge = typeof Object.defineProperty == "function", Sge = function() {
  function r() {
    this._id = "__ec_inner_" + bge++;
  }
  return r.prototype.get = function(e) {
    return this._guard(e)[this._id];
  }, r.prototype.set = function(e, t) {
    var i = this._guard(e);
    return wge ? Object.defineProperty(i, this._id, {
      value: t,
      enumerable: !1,
      configurable: !0
    }) : i[this._id] = t, this;
  }, r.prototype.delete = function(e) {
    return this.has(e) ? (delete this._guard(e)[this._id], !0) : !1;
  }, r.prototype.has = function(e) {
    return !!this._guard(e)[this._id];
  }, r.prototype._guard = function(e) {
    if (e !== Object(e))
      throw TypeError("Value of WeakMap is not a non-null object.");
    return e;
  }, r;
}();
const xge = Sge;
var Tge = Er.extend({
  type: "triangle",
  shape: {
    cx: 0,
    cy: 0,
    width: 0,
    height: 0
  },
  buildPath: function(r, e) {
    var t = e.cx, i = e.cy, a = e.width / 2, n = e.height / 2;
    r.moveTo(t, i - n), r.lineTo(t + a, i + n), r.lineTo(t - a, i + n), r.closePath();
  }
}), Cge = Er.extend({
  type: "diamond",
  shape: {
    cx: 0,
    cy: 0,
    width: 0,
    height: 0
  },
  buildPath: function(r, e) {
    var t = e.cx, i = e.cy, a = e.width / 2, n = e.height / 2;
    r.moveTo(t, i - n), r.lineTo(t + a, i), r.lineTo(t, i + n), r.lineTo(t - a, i), r.closePath();
  }
}), Age = Er.extend({
  type: "pin",
  shape: {
    // x, y on the cusp
    x: 0,
    y: 0,
    width: 0,
    height: 0
  },
  buildPath: function(r, e) {
    var t = e.x, i = e.y, a = e.width / 5 * 3, n = Math.max(a, e.height), o = a / 2, s = o * o / (n - o), l = i - n + o + s, u = Math.asin(s / o), c = Math.cos(u) * o, f = Math.sin(u), d = Math.cos(u), p = o * 0.6, v = o * 0.7;
    r.moveTo(t - c, l + s), r.arc(t, l, o, Math.PI - u, Math.PI * 2 + u), r.bezierCurveTo(t + c - f * p, l + s + d * p, t, i - v, t, i), r.bezierCurveTo(t, i - v, t - c + f * p, l + s + d * p, t - c, l + s), r.closePath();
  }
}), Ege = Er.extend({
  type: "arrow",
  shape: {
    x: 0,
    y: 0,
    width: 0,
    height: 0
  },
  buildPath: function(r, e) {
    var t = e.height, i = e.width, a = e.x, n = e.y, o = i / 3 * 2;
    r.moveTo(a, n), r.lineTo(a + o, n + t), r.lineTo(a, n + t / 4 * 3), r.lineTo(a - o, n + t), r.lineTo(a, n), r.closePath();
  }
}), Dge = {
  line: ki,
  rect: Cr,
  roundRect: Cr,
  square: Cr,
  circle: rc,
  diamond: Cge,
  pin: Age,
  arrow: Ege,
  triangle: Tge
}, kge = {
  line: function(r, e, t, i, a) {
    a.x1 = r, a.y1 = e + i / 2, a.x2 = r + t, a.y2 = e + i / 2;
  },
  rect: function(r, e, t, i, a) {
    a.x = r, a.y = e, a.width = t, a.height = i;
  },
  roundRect: function(r, e, t, i, a) {
    a.x = r, a.y = e, a.width = t, a.height = i, a.r = Math.min(t, i) / 4;
  },
  square: function(r, e, t, i, a) {
    var n = Math.min(t, i);
    a.x = r, a.y = e, a.width = n, a.height = n;
  },
  circle: function(r, e, t, i, a) {
    a.cx = r + t / 2, a.cy = e + i / 2, a.r = Math.min(t, i) / 2;
  },
  diamond: function(r, e, t, i, a) {
    a.cx = r + t / 2, a.cy = e + i / 2, a.width = t, a.height = i;
  },
  pin: function(r, e, t, i, a) {
    a.x = r + t / 2, a.y = e + i / 2, a.width = t, a.height = i;
  },
  arrow: function(r, e, t, i, a) {
    a.x = r + t / 2, a.y = e + i / 2, a.width = t, a.height = i;
  },
  triangle: function(r, e, t, i, a) {
    a.cx = r + t / 2, a.cy = e + i / 2, a.width = t, a.height = i;
  }
}, nb = {};
J(Dge, function(r, e) {
  nb[e] = new r();
});
var Mge = Er.extend({
  type: "symbol",
  shape: {
    symbolType: "",
    x: 0,
    y: 0,
    width: 0,
    height: 0
  },
  calculateTextPosition: function(r, e, t) {
    var i = z_(r, e, t), a = this.shape;
    return a && a.symbolType === "pin" && e.position === "inside" && (i.y = t.y + t.height * 0.4), i;
  },
  buildPath: function(r, e, t) {
    var i = e.symbolType;
    if (i !== "none") {
      var a = nb[i];
      a || (i = "rect", a = nb[i]), kge[i](e.x, e.y, e.width, e.height, a.shape), a.buildPath(r, a.shape, t);
    }
  }
});
function Ige(r, e) {
  if (this.type !== "image") {
    var t = this.style;
    this.__isEmptyBrush ? (t.stroke = r, t.fill = e || Ve.color.neutral00, t.lineWidth = 2) : this.shape.symbolType === "line" ? t.stroke = r : t.fill = r, this.markRedraw();
  }
}
function Si(r, e, t, i, a, n, o) {
  var s = r.indexOf("empty") === 0;
  s && (r = r.substr(5, 1).toLowerCase() + r.substr(6));
  var l;
  return r.indexOf("image://") === 0 ? l = q8(r.slice(8), new Jt(e, t, i, a), o ? "center" : "cover") : r.indexOf("path://") === 0 ? l = l0(r.slice(7), {}, new Jt(e, t, i, a), o ? "center" : "cover") : l = new Mge({
    shape: {
      symbolType: r,
      x: e,
      y: t,
      width: i,
      height: a
    }
  }), l.__isEmptyBrush = s, l.setColor = Ige, n && l.setColor(n), l;
}
function z0(r) {
  return Ke(r) || (r = [+r, +r]), [r[0] || 0, r[1] || 0];
}
function Ad(r, e) {
  if (r != null)
    return Ke(r) || (r = [r, r]), [gt(r[0], e[0]) || 0, gt(It(r[1], r[0]), e[1]) || 0];
}
function Of(r) {
  return isFinite(r);
}
function Pge(r, e, t) {
  var i = e.x == null ? 0 : e.x, a = e.x2 == null ? 1 : e.x2, n = e.y == null ? 0 : e.y, o = e.y2 == null ? 0 : e.y2;
  e.global || (i = i * t.width + t.x, a = a * t.width + t.x, n = n * t.height + t.y, o = o * t.height + t.y), i = Of(i) ? i : 0, a = Of(a) ? a : 1, n = Of(n) ? n : 0, o = Of(o) ? o : 0;
  var s = r.createLinearGradient(i, n, a, o);
  return s;
}
function Rge(r, e, t) {
  var i = t.width, a = t.height, n = Math.min(i, a), o = e.x == null ? 0.5 : e.x, s = e.y == null ? 0.5 : e.y, l = e.r == null ? 0.5 : e.r;
  e.global || (o = o * i + t.x, s = s * a + t.y, l = l * n), o = Of(o) ? o : 0.5, s = Of(s) ? s : 0.5, l = l >= 0 && Of(l) ? l : 0.5;
  var u = r.createRadialGradient(o, s, 0, o, s, l);
  return u;
}
function g6(r, e, t) {
  for (var i = e.type === "radial" ? Rge(r, e, t) : Pge(r, e, t), a = e.colorStops, n = 0; n < a.length; n++)
    i.addColorStop(a[n].offset, a[n].color);
  return i;
}
function Lge(r, e) {
  if (r === e || !r && !e)
    return !1;
  if (!r || !e || r.length !== e.length)
    return !0;
  for (var t = 0; t < r.length; t++)
    if (r[t] !== e[t])
      return !0;
  return !1;
}
function $y(r) {
  return parseInt(r, 10);
}
function zp(r, e, t) {
  var i = ["width", "height"][e], a = ["clientWidth", "clientHeight"][e], n = ["paddingLeft", "paddingTop"][e], o = ["paddingRight", "paddingBottom"][e];
  if (t[i] != null && t[i] !== "auto")
    return parseFloat(t[i]);
  var s = document.defaultView.getComputedStyle(r);
  return (r[a] || $y(s[i]) || $y(r.style[i])) - ($y(s[n]) || 0) - ($y(s[o]) || 0) | 0;
}
function Oge(r, e) {
  return !r || r === "solid" || !(e > 0) ? null : r === "dashed" ? [4 * e, 2 * e] : r === "dotted" ? [e] : Or(r) ? [r] : Ke(r) ? r : null;
}
function TD(r) {
  var e = r.style, t = e.lineDash && e.lineWidth > 0 && Oge(e.lineDash, e.lineWidth), i = e.lineDashOffset;
  if (t) {
    var a = e.strokeNoScale && r.getLineScale ? r.getLineScale() : 1;
    a && a !== 1 && (t = Je(t, function(n) {
      return n / a;
    }), i /= a);
  }
  return [t, i];
}
var Fge = new Il(!0);
function ib(r) {
  var e = r.stroke;
  return !(e == null || e === "none" || !(r.lineWidth > 0));
}
function iF(r) {
  return typeof r == "string" && r !== "none";
}
function ab(r) {
  var e = r.fill;
  return e != null && e !== "none";
}
function aF(r, e) {
  if (e.fillOpacity != null && e.fillOpacity !== 1) {
    var t = r.globalAlpha;
    r.globalAlpha = e.fillOpacity * e.opacity, r.fill(), r.globalAlpha = t;
  } else
    r.fill();
}
function oF(r, e) {
  if (e.strokeOpacity != null && e.strokeOpacity !== 1) {
    var t = r.globalAlpha;
    r.globalAlpha = e.strokeOpacity * e.opacity, r.stroke(), r.globalAlpha = t;
  } else
    r.stroke();
}
function m6(r, e, t) {
  var i = N8(e.image, e.__image, t);
  if (vS(i)) {
    var a = r.createPattern(i, e.repeat || "repeat");
    if (typeof DOMMatrix == "function" && a && a.setTransform) {
      var n = new DOMMatrix();
      n.translateSelf(e.x || 0, e.y || 0), n.rotateSelf(0, 0, (e.rotation || 0) * Vg), n.scaleSelf(e.scaleX || 1, e.scaleY || 1), a.setTransform(n);
    }
    return a;
  }
}
function Nge(r, e, t, i) {
  var a, n = ib(t), o = ab(t), s = t.strokePercent, l = s < 1, u = !e.path;
  (!e.silent || l) && u && e.createPathProxy();
  var c = e.path || Fge, f = e.__dirty;
  if (!i) {
    var d = t.fill, p = t.stroke, v = o && !!d.colorStops, y = n && !!p.colorStops, _ = o && !!d.image, w = n && !!p.image, S = void 0, x = void 0, E = void 0, M = void 0, k = void 0;
    (v || y) && (k = e.getBoundingRect()), v && (S = f ? g6(r, d, k) : e.__canvasFillGradient, e.__canvasFillGradient = S), y && (x = f ? g6(r, p, k) : e.__canvasStrokeGradient, e.__canvasStrokeGradient = x), _ && (E = f || !e.__canvasFillPattern ? m6(r, d, e) : e.__canvasFillPattern, e.__canvasFillPattern = E), w && (M = f || !e.__canvasStrokePattern ? m6(r, p, e) : e.__canvasStrokePattern, e.__canvasStrokePattern = M), v ? r.fillStyle = S : _ && (E ? r.fillStyle = E : o = !1), y ? r.strokeStyle = x : w && (M ? r.strokeStyle = M : n = !1);
  }
  var P = e.getGlobalScale();
  c.setScale(P[0], P[1], e.segmentIgnoreThreshold);
  var L, F;
  r.setLineDash && t.lineDash && (a = TD(e), L = a[0], F = a[1]);
  var O = !0;
  (u || f & Ip) && (c.setDPR(r.dpr), l ? c.setContext(null) : (c.setContext(r), O = !1), c.reset(), e.buildPath(c, e.shape, i), c.toStatic(), e.pathUpdated()), O && c.rebuildPath(r, l ? s : 1), L && (r.setLineDash(L), r.lineDashOffset = F), i || (t.strokeFirst ? (n && oF(r, t), o && aF(r, t)) : (o && aF(r, t), n && oF(r, t))), L && r.setLineDash([]);
}
function Bge(r, e, t) {
  var i = e.__image = N8(t.image, e.__image, e, e.onload);
  if (!(!i || !vS(i))) {
    var a = t.x || 0, n = t.y || 0, o = e.getWidth(), s = e.getHeight(), l = i.width / i.height;
    if (o == null && s != null ? o = s * l : s == null && o != null ? s = o / l : o == null && s == null && (o = i.width, s = i.height), t.sWidth && t.sHeight) {
      var u = t.sx || 0, c = t.sy || 0;
      r.drawImage(i, u, c, t.sWidth, t.sHeight, a, n, o, s);
    } else if (t.sx && t.sy) {
      var u = t.sx, c = t.sy, f = o - u, d = s - c;
      r.drawImage(i, u, c, f, d, a, n, o, s);
    } else
      r.drawImage(i, a, n, o, s);
  }
}
function Vge(r, e, t) {
  var i, a = t.text;
  if (a != null && (a += ""), a) {
    r.font = t.font || Nu, r.textAlign = t.textAlign, r.textBaseline = t.textBaseline;
    var n = void 0, o = void 0;
    r.setLineDash && t.lineDash && (i = TD(e), n = i[0], o = i[1]), n && (r.setLineDash(n), r.lineDashOffset = o), t.strokeFirst ? (ib(t) && r.strokeText(a, t.x, t.y), ab(t) && r.fillText(a, t.x, t.y)) : (ab(t) && r.fillText(a, t.x, t.y), ib(t) && r.strokeText(a, t.x, t.y)), n && r.setLineDash([]);
  }
}
var sF = ["shadowBlur", "shadowOffsetX", "shadowOffsetY"], lF = [
  ["lineCap", "butt"],
  ["lineJoin", "miter"],
  ["miterLimit", 10]
];
function nq(r, e, t, i, a) {
  var n = !1;
  if (!i && (t = t || {}, e === t))
    return !1;
  if (i || e.opacity !== t.opacity) {
    po(r, a), n = !0;
    var o = Math.max(Math.min(e.opacity, 1), 0);
    r.globalAlpha = isNaN(o) ? zf.opacity : o;
  }
  (i || e.blend !== t.blend) && (n || (po(r, a), n = !0), r.globalCompositeOperation = e.blend || zf.blend);
  for (var s = 0; s < sF.length; s++) {
    var l = sF[s];
    (i || e[l] !== t[l]) && (n || (po(r, a), n = !0), r[l] = r.dpr * (e[l] || 0));
  }
  return (i || e.shadowColor !== t.shadowColor) && (n || (po(r, a), n = !0), r.shadowColor = e.shadowColor || zf.shadowColor), n;
}
function uF(r, e, t, i, a) {
  var n = b1(e, a.inHover), o = i ? null : t && b1(t, a.inHover) || {};
  if (n === o)
    return !1;
  var s = nq(r, n, o, i, a);
  if ((i || n.fill !== o.fill) && (s || (po(r, a), s = !0), iF(n.fill) && (r.fillStyle = n.fill)), (i || n.stroke !== o.stroke) && (s || (po(r, a), s = !0), iF(n.stroke) && (r.strokeStyle = n.stroke)), (i || n.opacity !== o.opacity) && (s || (po(r, a), s = !0), r.globalAlpha = n.opacity == null ? 1 : n.opacity), e.hasStroke()) {
    var l = n.lineWidth, u = l / (n.strokeNoScale && e.getLineScale ? e.getLineScale() : 1);
    r.lineWidth !== u && (s || (po(r, a), s = !0), r.lineWidth = u);
  }
  for (var c = 0; c < lF.length; c++) {
    var f = lF[c], d = f[0];
    (i || n[d] !== o[d]) && (s || (po(r, a), s = !0), r[d] = n[d] || f[1]);
  }
  return s;
}
function Uge(r, e, t, i, a) {
  return nq(r, b1(e, a.inHover), t && b1(t, a.inHover), i, a);
}
function iq(r, e) {
  var t = e.transform, i = r.dpr || 1;
  t ? r.setTransform(i * t[0], i * t[1], i * t[2], i * t[3], i * t[4], i * t[5]) : r.setTransform(i, 0, 0, i, 0, 0);
}
function Gge(r, e, t) {
  for (var i = !1, a = 0; a < r.length; a++) {
    var n = r[a];
    i = i || n.isZeroArea(), iq(e, n), e.beginPath(), n.buildPath(e, n.shape), e.clip();
  }
  t.allClipped = i;
}
function zge(r, e) {
  return r && e ? r[0] !== e[0] || r[1] !== e[1] || r[2] !== e[2] || r[3] !== e[3] || r[4] !== e[4] || r[5] !== e[5] : !(!r && !e);
}
var cF = 1, hF = 2, fF = 3, dF = 4;
function Wge(r) {
  var e = ab(r), t = ib(r);
  return !(r.lineDash || !(+e ^ +t) || e && typeof r.fill != "string" || t && typeof r.stroke != "string" || r.strokePercent < 1 || r.strokeOpacity < 1 || r.fillOpacity < 1);
}
function po(r, e) {
  e.batchFill && r.fill(), e.batchStroke && r.stroke(), e.batchFill = "", e.batchStroke = "";
}
function b1(r, e) {
  return e && r.__hoverStyle || r.style;
}
function CD(r, e) {
  Ff(r, e, { inHover: !1, viewWidth: 0, viewHeight: 0 }, !0);
}
function Ff(r, e, t, i) {
  var a = e.transform;
  if (!e.shouldBePainted(t.viewWidth, t.viewHeight, !1, !1)) {
    e.__dirty &= ~To, e.__isRendered = !1;
    return;
  }
  var n = e.__clipPaths, o = t.prevElClipPaths, s = !1, l = !1;
  if ((!o || Lge(n, o)) && (o && o.length && (po(r, t), r.restore(), l = s = !0, t.prevElClipPaths = null, t.allClipped = !1, t.prevEl = null), n && n.length && (po(r, t), r.save(), Gge(n, r, t), s = !0), t.prevElClipPaths = n), t.allClipped) {
    e.__isRendered = !1;
    return;
  }
  e.beforeBrush && e.beforeBrush(), e.innerBeforeBrush();
  var u = t.prevEl;
  u || (l = s = !0);
  var c = e instanceof Er && e.autoBatch && Wge(e.style);
  s || zge(a, u.transform) ? (po(r, t), iq(r, e)) : c || po(r, t);
  var f = b1(e, t.inHover);
  e instanceof Er ? (t.lastDrawType !== cF && (l = !0, t.lastDrawType = cF), uF(r, e, u, l, t), (!c || !t.batchFill && !t.batchStroke) && r.beginPath(), Nge(r, e, f, c), c && (t.batchFill = f.fill || "", t.batchStroke = f.stroke || "")) : e instanceof f1 ? (t.lastDrawType !== fF && (l = !0, t.lastDrawType = fF), uF(r, e, u, l, t), Vge(r, e, f)) : e instanceof ha ? (t.lastDrawType !== hF && (l = !0, t.lastDrawType = hF), Uge(r, e, u, l, t), Bge(r, e, f)) : e.getTemporalDisplayables && (t.lastDrawType !== dF && (l = !0, t.lastDrawType = dF), Hge(r, e, t)), c && i && po(r, t), e.innerAfterBrush(), e.afterBrush && e.afterBrush(), t.prevEl = e, e.__dirty = 0, e.__isRendered = !0;
}
function Hge(r, e, t) {
  var i = e.getDisplayables(), a = e.getTemporalDisplayables();
  r.save();
  var n = {
    prevElClipPaths: null,
    prevEl: null,
    allClipped: !1,
    viewWidth: t.viewWidth,
    viewHeight: t.viewHeight,
    inHover: t.inHover
  }, o, s;
  for (o = e.getCursor(), s = i.length; o < s; o++) {
    var l = i[o];
    l.beforeBrush && l.beforeBrush(), l.innerBeforeBrush(), Ff(r, l, n, o === s - 1), l.innerAfterBrush(), l.afterBrush && l.afterBrush(), n.prevEl = l;
  }
  for (var u = 0, c = a.length; u < c; u++) {
    var l = a[u];
    l.beforeBrush && l.beforeBrush(), l.innerBeforeBrush(), Ff(r, l, n, u === c - 1), l.innerAfterBrush(), l.afterBrush && l.afterBrush(), n.prevEl = l;
  }
  e.clearTemporalDisplayables(), e.notClear = !0, r.restore();
}
var $3 = new xge(), pF = new i0(100), vF = ["symbol", "symbolSize", "symbolKeepAspect", "color", "backgroundColor", "dashArrayX", "dashArrayY", "maxTileWidth", "maxTileHeight"];
function h0(r, e) {
  if (r === "none")
    return null;
  var t = e.getDevicePixelRatio(), i = e.getZr(), a = i.painter.type === "svg";
  r.dirty && $3.delete(r);
  var n = $3.get(r);
  if (n)
    return n;
  var o = Yt(r, {
    symbol: "rect",
    symbolSize: 1,
    symbolKeepAspect: !0,
    color: "rgba(0, 0, 0, 0.2)",
    backgroundColor: null,
    dashArrayX: 5,
    dashArrayY: 5,
    rotation: 0,
    maxTileWidth: 512,
    maxTileHeight: 512
  });
  o.backgroundColor === "none" && (o.backgroundColor = null);
  var s = {
    repeat: "repeat"
  };
  return l(s), s.rotation = o.rotation, s.scaleX = s.scaleY = a ? 1 : 1 / t, $3.set(r, s), r.dirty = !1, s;
  function l(u) {
    for (var c = [t], f = !0, d = 0; d < vF.length; ++d) {
      var p = o[vF[d]];
      if (p != null && !Ke(p) && !vt(p) && !Or(p) && typeof p != "boolean") {
        f = !1;
        break;
      }
      c.push(p);
    }
    var v;
    if (f) {
      v = c.join(",") + (a ? "-svg" : "");
      var y = pF.get(v);
      y && (a ? u.svgElement = y : u.image = y);
    }
    var _ = oq(o.dashArrayX), w = $ge(o.dashArrayY), S = aq(o.symbol), x = Yge(_), E = sq(w), M = !a && vo.createCanvas(), k = a && {
      tag: "g",
      attrs: {},
      key: "dcl",
      children: []
    }, P = F(), L;
    M && (M.width = P.width * t, M.height = P.height * t, L = M.getContext("2d")), O(), f && pF.put(v, M || k), u.image = M, u.svgElement = k, u.svgWidth = P.width, u.svgHeight = P.height;
    function F() {
      for (var U = 1, V = 0, G = x.length; V < G; ++V)
        U = DL(U, x[V]);
      for (var Z = 1, V = 0, G = S.length; V < G; ++V)
        Z = DL(Z, S[V].length);
      U *= Z;
      var Q = E * x.length * S.length;
      if (process.env.NODE_ENV !== "production") {
        var se = function(de) {
          console.warn("Calculated decal size is greater than " + de + " due to decal option settings so " + de + " is used for the decal size. Please consider changing the decal option to make a smaller decal or set " + de + " to be larger to avoid incontinuity.");
        };
        U > o.maxTileWidth && se("maxTileWidth"), Q > o.maxTileHeight && se("maxTileHeight");
      }
      return {
        width: Math.max(1, Math.min(U, o.maxTileWidth)),
        height: Math.max(1, Math.min(Q, o.maxTileHeight))
      };
    }
    function O() {
      L && (L.clearRect(0, 0, M.width, M.height), o.backgroundColor && (L.fillStyle = o.backgroundColor, L.fillRect(0, 0, M.width, M.height)));
      for (var U = 0, V = 0; V < w.length; ++V)
        U += w[V];
      if (U <= 0)
        return;
      for (var G = -E, Z = 0, Q = 0, se = 0; G < P.height; ) {
        if (Z % 2 === 0) {
          for (var de = Q / 2 % S.length, le = 0, Se = 0, he = 0; le < P.width * 2; ) {
            for (var fe = 0, V = 0; V < _[se].length; ++V)
              fe += _[se][V];
            if (fe <= 0)
              break;
            if (Se % 2 === 0) {
              var K = (1 - o.symbolSize) * 0.5, we = le + _[se][Se] * K, ve = G + w[Z] * K, De = _[se][Se] * o.symbolSize, Ie = w[Z] * o.symbolSize, q = he / 2 % S[de].length;
              re(we, ve, De, Ie, S[de][q]);
            }
            le += _[se][Se], ++he, ++Se, Se === _[se].length && (Se = 0);
          }
          ++se, se === _.length && (se = 0);
        }
        G += w[Z], ++Q, ++Z, Z === w.length && (Z = 0);
      }
      function re(be, te, ne, ie, xe) {
        var ge = a ? 1 : t, ae = Si(xe, be * ge, te * ge, ne * ge, ie * ge, o.color, o.symbolKeepAspect);
        if (a) {
          var pe = i.painter.renderOneToVNode(ae);
          pe && k.children.push(pe);
        } else
          CD(L, ae);
      }
    }
  }
}
function aq(r) {
  if (!r || r.length === 0)
    return [["rect"]];
  if (vt(r))
    return [[r]];
  for (var e = !0, t = 0; t < r.length; ++t)
    if (!vt(r[t])) {
      e = !1;
      break;
    }
  if (e)
    return aq([r]);
  for (var i = [], t = 0; t < r.length; ++t)
    vt(r[t]) ? i.push([r[t]]) : i.push(r[t]);
  return i;
}
function oq(r) {
  if (!r || r.length === 0)
    return [[0, 0]];
  if (Or(r)) {
    var e = Math.ceil(r);
    return [[e, e]];
  }
  for (var t = !0, i = 0; i < r.length; ++i)
    if (!Or(r[i])) {
      t = !1;
      break;
    }
  if (t)
    return oq([r]);
  for (var a = [], i = 0; i < r.length; ++i)
    if (Or(r[i])) {
      var e = Math.ceil(r[i]);
      a.push([e, e]);
    } else {
      var e = Je(r[i], function(s) {
        return Math.ceil(s);
      });
      e.length % 2 === 1 ? a.push(e.concat(e)) : a.push(e);
    }
  return a;
}
function $ge(r) {
  if (!r || typeof r == "object" && r.length === 0)
    return [0, 0];
  if (Or(r)) {
    var e = Math.ceil(r);
    return [e, e];
  }
  var t = Je(r, function(i) {
    return Math.ceil(i);
  });
  return r.length % 2 ? t.concat(t) : t;
}
function Yge(r) {
  return Je(r, function(e) {
    return sq(e);
  });
}
function sq(r) {
  for (var e = 0, t = 0; t < r.length; ++t)
    e += r[t];
  return r.length % 2 === 1 ? e * 2 : e;
}
function jge(r, e) {
  r.eachRawSeries(function(t) {
    if (!r.isSeriesFiltered(t)) {
      var i = t.getData();
      i.hasItemVisual() && i.each(function(o) {
        var s = i.getItemVisual(o, "decal");
        if (s) {
          var l = i.ensureUniqueItemVisual(o, "style");
          l.decal = h0(s, e);
        }
      });
      var a = i.getVisual("decal");
      if (a) {
        var n = i.getVisual("style");
        n.decal = h0(a, e);
      }
    }
  });
}
var qge = new fs();
const As = qge;
var ob = {};
function Xge(r, e) {
  process.env.NODE_ENV !== "production" && ob[r] && Nr("Already has an implementation of " + r + "."), ob[r] = e;
}
function lq(r) {
  return process.env.NODE_ENV !== "production" && (ob[r] || Nr("Implementation of " + r + " doesn't exists.")), ob[r];
}
var uq = {};
function cq(r, e) {
  uq[r] = e;
}
function Kge(r) {
  return uq[r];
}
var Zge = "6.0.0", Jge = {
  zrender: "6.0.0"
}, Qge = 1, e1e = 800, t1e = 900, r1e = 1e3, n1e = 2e3, i1e = 5e3, hq = 1e3, a1e = 1100, AD = 2e3, fq = 3e3, o1e = 4e3, RS = 4500, s1e = 4600, l1e = 5e3, u1e = 6e3, dq = 7e3, pq = {
  PROCESSOR: {
    FILTER: r1e,
    SERIES_FILTER: e1e,
    STATISTIC: i1e
  },
  VISUAL: {
    LAYOUT: hq,
    PROGRESSIVE_LAYOUT: a1e,
    GLOBAL: AD,
    CHART: fq,
    POST_CHART_LAYOUT: s1e,
    COMPONENT: o1e,
    BRUSH: l1e,
    CHART_ITEM: RS,
    ARIA: u1e,
    DECAL: dq
  }
}, Bi = "__flagInMainProcess", Yy = "__mainProcessVersion", sa = "__pendingUpdate", Y3 = "__needsUpdateStatus", gF = /^[a-zA-Z0-9_]+$/, j3 = "__connectUpdateStatus", mF = 0, c1e = 1, h1e = 2;
function vq(r) {
  return function() {
    for (var e = [], t = 0; t < arguments.length; t++)
      e[t] = arguments[t];
    if (this.isDisposed()) {
      uo(this.id);
      return;
    }
    return mq(this, r, e);
  };
}
function gq(r) {
  return function() {
    for (var e = [], t = 0; t < arguments.length; t++)
      e[t] = arguments[t];
    return mq(this, r, e);
  };
}
function mq(r, e, t) {
  return t[0] = t[0] && t[0].toLowerCase(), fs.prototype[e].apply(r, t);
}
var yq = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e;
  }(fs)
), _q = yq.prototype;
_q.on = gq("on");
_q.off = gq("off");
var sf, q3, jy, Ql, qy, X3, K3, hp, fp, yF, _F, Z3, bF, Xy, wF, bq, $o, SF, dp, sb = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i, a) {
      var n = r.call(this, new gge()) || this;
      n._chartsViews = [], n._chartsMap = {}, n._componentsViews = [], n._componentsMap = {}, n._pendingActions = [], a = a || {}, n._dom = t;
      var o = "canvas", s = "auto", l = !1;
      if (n[Yy] = 1, process.env.NODE_ENV !== "production") {
        var u = (
          /* eslint-disable-next-line */
          qr.hasGlobalWindow ? window : global
        );
        u && (o = It(u.__ECHARTS__DEFAULT__RENDERER__, o), s = It(u.__ECHARTS__DEFAULT__COARSE_POINTER, s), l = It(u.__ECHARTS__DEFAULT__USE_DIRTY_RECT__, l));
      }
      a.ssr && O$(function(p) {
        var v = er(p), y = v.dataIndex;
        if (y != null) {
          var _ = Pt();
          return _.set("series_index", v.seriesIndex), _.set("data_index", y), v.ssrType && _.set("ssr_type", v.ssrType), _;
        }
      });
      var c = n._zr = NA(t, {
        renderer: a.renderer || o,
        devicePixelRatio: a.devicePixelRatio,
        width: a.width,
        height: a.height,
        ssr: a.ssr,
        useDirtyRect: It(a.useDirtyRect, l),
        useCoarsePointer: It(a.useCoarsePointer, s),
        pointerSize: a.pointerSize
      });
      n._ssr = a.ssr, n._throttledZrFlush = PS(mt(c.flush, c), 17), n._updateTheme(i), n._locale = o0e(a.locale || ZY), n._coordSysMgr = new xd();
      var f = n._api = wF(n);
      function d(p, v) {
        return p.__prio - v.__prio;
      }
      return q2(cb, d), q2(_6, d), n._scheduler = new Qj(n, f, _6, cb), n._messageCenter = new yq(), n._initEvents(), n.resize = mt(n.resize, n), c.animation.on("frame", n._onframe, n), yF(c, n), _F(c, n), a1(n), n;
    }
    return e.prototype._onframe = function() {
      if (!this._disposed) {
        SF(this);
        var t = this._scheduler;
        if (this[sa]) {
          var i = this[sa].silent;
          this[Bi] = !0, dp(this);
          try {
            sf(this), Ql.update.call(this, null, this[sa].updateParams);
          } catch (l) {
            throw this[Bi] = !1, this[sa] = null, l;
          }
          this._zr.flush(), this[Bi] = !1, this[sa] = null, hp.call(this, i), fp.call(this, i);
        } else if (t.unfinished) {
          var a = Qge, n = this._model, o = this._api;
          t.unfinished = !1;
          do {
            var s = +/* @__PURE__ */ new Date();
            t.performSeriesTasks(n), t.performDataProcessorTasks(n), X3(this, n), t.performVisualTasks(n), Xy(this, this._model, o, "remain", {}), a -= +/* @__PURE__ */ new Date() - s;
          } while (a > 0 && t.unfinished);
          t.unfinished || this._zr.flush();
        }
      }
    }, e.prototype.getDom = function() {
      return this._dom;
    }, e.prototype.getId = function() {
      return this.id;
    }, e.prototype.getZr = function() {
      return this._zr;
    }, e.prototype.isSSR = function() {
      return this._ssr;
    }, e.prototype.setOption = function(t, i, a) {
      if (this[Bi]) {
        process.env.NODE_ENV !== "production" && Nr("`setOption` should not be called during main process.");
        return;
      }
      if (this._disposed) {
        uo(this.id);
        return;
      }
      var n, o, s;
      if (zt(i) && (a = i.lazyUpdate, n = i.silent, o = i.replaceMerge, s = i.transition, i = i.notMerge), this[Bi] = !0, dp(this), !this._model || i) {
        var l = new J0e(this._api), u = this._theme, c = this._model = new Sj();
        c.scheduler = this._scheduler, c.ssr = this._ssr, c.init(null, null, null, u, this._locale, l);
      }
      this._model.setOption(t, {
        replaceMerge: o
      }, b6);
      var f = {
        seriesTransition: s,
        optionChanged: !0
      };
      if (a)
        this[sa] = {
          silent: n,
          updateParams: f
        }, this[Bi] = !1, this.getZr().wakeUp();
      else {
        try {
          sf(this), Ql.update.call(this, null, f);
        } catch (d) {
          throw this[sa] = null, this[Bi] = !1, d;
        }
        this._ssr || this._zr.flush(), this[sa] = null, this[Bi] = !1, hp.call(this, n), fp.call(this, n);
      }
    }, e.prototype.setTheme = function(t, i) {
      if (this[Bi]) {
        process.env.NODE_ENV !== "production" && Nr("`setTheme` should not be called during main process.");
        return;
      }
      if (this._disposed) {
        uo(this.id);
        return;
      }
      var a = this._model;
      if (a) {
        var n = i && i.silent, o = null;
        this[sa] && (n == null && (n = this[sa].silent), o = this[sa].updateParams, this[sa] = null), this[Bi] = !0, dp(this);
        try {
          this._updateTheme(t), a.setTheme(this._theme), sf(this), Ql.update.call(this, {
            type: "setTheme"
          }, o);
        } catch (s) {
          throw this[Bi] = !1, s;
        }
        this[Bi] = !1, hp.call(this, n), fp.call(this, n);
      }
    }, e.prototype._updateTheme = function(t) {
      vt(t) && (t = wq[t]), t && (t = Gt(t), t && Cj(t, !0), this._theme = t);
    }, e.prototype.getModel = function() {
      return this._model;
    }, e.prototype.getOption = function() {
      return this._model && this._model.getOption();
    }, e.prototype.getWidth = function() {
      return this._zr.getWidth();
    }, e.prototype.getHeight = function() {
      return this._zr.getHeight();
    }, e.prototype.getDevicePixelRatio = function() {
      return this._zr.painter.dpr || qr.hasGlobalWindow && window.devicePixelRatio || 1;
    }, e.prototype.getRenderedCanvas = function(t) {
      return process.env.NODE_ENV !== "production" && yi("getRenderedCanvas", "renderToCanvas"), this.renderToCanvas(t);
    }, e.prototype.renderToCanvas = function(t) {
      t = t || {};
      var i = this._zr.painter;
      if (process.env.NODE_ENV !== "production" && i.type !== "canvas")
        throw new Error("renderToCanvas can only be used in the canvas renderer.");
      return i.getRenderedCanvas({
        backgroundColor: t.backgroundColor || this._model.get("backgroundColor"),
        pixelRatio: t.pixelRatio || this.getDevicePixelRatio()
      });
    }, e.prototype.renderToSVGString = function(t) {
      t = t || {};
      var i = this._zr.painter;
      if (process.env.NODE_ENV !== "production" && i.type !== "svg")
        throw new Error("renderToSVGString can only be used in the svg renderer.");
      return i.renderToString({
        useViewBox: t.useViewBox
      });
    }, e.prototype.getSvgDataURL = function() {
      var t = this._zr, i = t.storage.getDisplayList();
      return J(i, function(a) {
        a.stopAnimation(null, !0);
      }), t.painter.toDataURL();
    }, e.prototype.getDataURL = function(t) {
      if (this._disposed) {
        uo(this.id);
        return;
      }
      t = t || {};
      var i = t.excludeComponents, a = this._model, n = [], o = this;
      J(i, function(l) {
        a.eachComponent({
          mainType: l
        }, function(u) {
          var c = o._componentsMap[u.__viewId];
          c.group.ignore || (n.push(c), c.group.ignore = !0);
        });
      });
      var s = this._zr.painter.getType() === "svg" ? this.getSvgDataURL() : this.renderToCanvas(t).toDataURL("image/" + (t && t.type || "png"));
      return J(n, function(l) {
        l.group.ignore = !1;
      }), s;
    }, e.prototype.getConnectedDataURL = function(t) {
      if (this._disposed) {
        uo(this.id);
        return;
      }
      var i = t.type === "svg", a = this.group, n = Math.min, o = Math.max, s = 1 / 0;
      if (hb[a]) {
        var l = s, u = s, c = -s, f = -s, d = [], p = t && t.pixelRatio || this.getDevicePixelRatio();
        J($f, function(x, E) {
          if (x.group === a) {
            var M = i ? x.getZr().painter.getSvgDom().innerHTML : x.renderToCanvas(Gt(t)), k = x.getDom().getBoundingClientRect();
            l = n(k.left, l), u = n(k.top, u), c = o(k.right, c), f = o(k.bottom, f), d.push({
              dom: M,
              left: k.left,
              top: k.top
            });
          }
        }), l *= p, u *= p, c *= p, f *= p;
        var v = c - l, y = f - u, _ = vo.createCanvas(), w = NA(_, {
          renderer: i ? "svg" : "canvas"
        });
        if (w.resize({
          width: v,
          height: y
        }), i) {
          var S = "";
          return J(d, function(x) {
            var E = x.left - l, M = x.top - u;
            S += '<g transform="translate(' + E + "," + M + ')">' + x.dom + "</g>";
          }), w.painter.getSvgRoot().innerHTML = S, t.connectedBackgroundColor && w.painter.setBackgroundColor(t.connectedBackgroundColor), w.refreshImmediately(), w.painter.toDataURL();
        } else
          return t.connectedBackgroundColor && w.add(new Cr({
            shape: {
              x: 0,
              y: 0,
              width: v,
              height: y
            },
            style: {
              fill: t.connectedBackgroundColor
            }
          })), J(d, function(x) {
            var E = new ha({
              style: {
                x: x.left * p - l,
                y: x.top * p - u,
                image: x.dom
              }
            });
            w.add(E);
          }), w.refreshImmediately(), _.toDataURL("image/" + (t && t.type || "png"));
      } else
        return this.getDataURL(t);
    }, e.prototype.convertToPixel = function(t, i, a) {
      return qy(this, "convertToPixel", t, i, a);
    }, e.prototype.convertToLayout = function(t, i, a) {
      return qy(this, "convertToLayout", t, i, a);
    }, e.prototype.convertFromPixel = function(t, i, a) {
      return qy(this, "convertFromPixel", t, i, a);
    }, e.prototype.containPixel = function(t, i) {
      if (this._disposed) {
        uo(this.id);
        return;
      }
      var a = this._model, n, o = jp(a, t);
      return J(o, function(s, l) {
        l.indexOf("Models") >= 0 && J(s, function(u) {
          var c = u.coordinateSystem;
          if (c && c.containPoint)
            n = n || !!c.containPoint(i);
          else if (l === "seriesModels") {
            var f = this._chartsMap[u.__viewId];
            f && f.containPoint ? n = n || f.containPoint(i, u) : process.env.NODE_ENV !== "production" && Yn(l + ": " + (f ? "The found component do not support containPoint." : "No view mapping to the found component."));
          } else
            process.env.NODE_ENV !== "production" && Yn(l + ": containPoint is not supported");
        }, this);
      }, this), !!n;
    }, e.prototype.getVisual = function(t, i) {
      var a = this._model, n = jp(a, t, {
        defaultMainType: "series"
      }), o = n.seriesModel;
      process.env.NODE_ENV !== "production" && (o || Yn("There is no specified series model"));
      var s = o.getData(), l = n.hasOwnProperty("dataIndexInside") ? n.dataIndexInside : n.hasOwnProperty("dataIndex") ? s.indexOfRawIndex(n.dataIndex) : null;
      return l != null ? xD(s, l, i) : lm(s, i);
    }, e.prototype.getViewOfComponentModel = function(t) {
      return this._componentsMap[t.__viewId];
    }, e.prototype.getViewOfSeriesModel = function(t) {
      return this._chartsMap[t.__viewId];
    }, e.prototype._initEvents = function() {
      var t = this;
      J(f1e, function(a) {
        var n = function(o) {
          var s = t.getModel(), l = o.target, u, c = a === "globalout";
          if (c ? u = {} : l && Lf(l, function(y) {
            var _ = er(y);
            if (_ && _.dataIndex != null) {
              var w = _.dataModel || s.getSeriesByIndex(_.seriesIndex);
              return u = w && w.getDataParams(_.dataIndex, _.dataType, l) || {}, !0;
            } else if (_.eventData)
              return u = $e({}, _.eventData), !0;
          }, !0), u) {
            var f = u.componentType, d = u.componentIndex;
            (f === "markLine" || f === "markPoint" || f === "markArea") && (f = "series", d = u.seriesIndex);
            var p = f && d != null && s.getComponent(f, d), v = p && t[p.mainType === "series" ? "_chartsMap" : "_componentsMap"][p.__viewId];
            process.env.NODE_ENV !== "production" && !c && !(p && v) && Yn("model or view can not be found by params"), u.event = o, u.type = a, t._$eventProcessor.eventInfo = {
              targetEl: l,
              packedEvent: u,
              model: p,
              view: v
            }, t.trigger(a, u);
          }
        };
        n.zrEventfulCallAtLast = !0, t._zr.on(a, n, t);
      });
      var i = this._messageCenter;
      J(y6, function(a, n) {
        i.on(n, function(o) {
          t.trigger(n, o);
        });
      }), _ge(i, this, this._api);
    }, e.prototype.isDisposed = function() {
      return this._disposed;
    }, e.prototype.clear = function() {
      if (this._disposed) {
        uo(this.id);
        return;
      }
      this.setOption({
        series: []
      }, !0);
    }, e.prototype.dispose = function() {
      if (this._disposed) {
        uo(this.id);
        return;
      }
      this._disposed = !0;
      var t = this.getDom();
      t && Y$(this.getDom(), DD, "");
      var i = this, a = i._api, n = i._model;
      J(i._componentsViews, function(o) {
        o.dispose(n, a);
      }), J(i._chartsViews, function(o) {
        o.dispose(n, a);
      }), i._zr.dispose(), i._dom = i._model = i._chartsMap = i._componentsMap = i._chartsViews = i._componentsViews = i._scheduler = i._api = i._zr = i._throttledZrFlush = i._theme = i._coordSysMgr = i._messageCenter = null, delete $f[i.id];
    }, e.prototype.resize = function(t) {
      if (this[Bi]) {
        process.env.NODE_ENV !== "production" && Nr("`resize` should not be called during main process.");
        return;
      }
      if (this._disposed) {
        uo(this.id);
        return;
      }
      this._zr.resize(t);
      var i = this._model;
      if (this._loadingFX && this._loadingFX.resize(), !!i) {
        var a = i.resetOption("media"), n = t && t.silent;
        this[sa] && (n == null && (n = this[sa].silent), a = !0, this[sa] = null), this[Bi] = !0, dp(this);
        try {
          a && sf(this), Ql.update.call(this, {
            type: "resize",
            animation: $e({
              // Disable animation
              duration: 0
            }, t && t.animation)
          });
        } catch (o) {
          throw this[Bi] = !1, o;
        }
        this[Bi] = !1, hp.call(this, n), fp.call(this, n);
      }
    }, e.prototype.showLoading = function(t, i) {
      if (this._disposed) {
        uo(this.id);
        return;
      }
      if (zt(t) && (i = t, t = ""), t = t || "default", this.hideLoading(), !w6[t]) {
        process.env.NODE_ENV !== "production" && Yn("Loading effects " + t + " not exists.");
        return;
      }
      var a = w6[t](this._api, i), n = this._zr;
      this._loadingFX = a, n.add(a);
    }, e.prototype.hideLoading = function() {
      if (this._disposed) {
        uo(this.id);
        return;
      }
      this._loadingFX && this._zr.remove(this._loadingFX), this._loadingFX = null;
    }, e.prototype.makeActionFromEvent = function(t) {
      var i = $e({}, t);
      return i.type = ub[t.type], i;
    }, e.prototype.dispatchAction = function(t, i) {
      if (this._disposed) {
        uo(this.id);
        return;
      }
      if (zt(i) || (i = {
        silent: !!i
      }), !!lb[t.type] && this._model) {
        if (this[Bi]) {
          this._pendingActions.push(t);
          return;
        }
        var a = i.silent;
        K3.call(this, t, a);
        var n = i.flush;
        n ? this._zr.flush() : n !== !1 && qr.browser.weChat && this._throttledZrFlush(), hp.call(this, a), fp.call(this, a);
      }
    }, e.prototype.updateLabelLayout = function() {
      As.trigger("series:layoutlabels", this._model, this._api, {
        // Not adding series labels.
        // TODO
        updatedSeries: []
      });
    }, e.prototype.appendData = function(t) {
      if (this._disposed) {
        uo(this.id);
        return;
      }
      var i = t.seriesIndex, a = this.getModel(), n = a.getSeriesByIndex(i);
      process.env.NODE_ENV !== "production" && kt(t.data && n), n.appendData(t), this._scheduler.unfinished = !0, this.getZr().wakeUp();
    }, e.internalField = function() {
      sf = function(f) {
        var d = f._scheduler;
        d.restorePipelines(f._model), d.prepareStageTasks(), q3(f, !0), q3(f, !1), d.plan();
      }, q3 = function(f, d) {
        for (var p = f._model, v = f._scheduler, y = d ? f._componentsViews : f._chartsViews, _ = d ? f._componentsMap : f._chartsMap, w = f._zr, S = f._api, x = 0; x < y.length; x++)
          y[x].__alive = !1;
        d ? p.eachComponent(function(k, P) {
          k !== "series" && E(P);
        }) : p.eachSeries(E);
        function E(k) {
          var P = k.__requireNewView;
          k.__requireNewView = !1;
          var L = "_ec_" + k.id + "_" + k.type, F = !P && _[L];
          if (!F) {
            var O = Sl(k.type), U = d ? Pn.getClass(O.main, O.sub) : (
              // FIXME:TS
              // (ChartView as ChartViewConstructor).getClass('series', classType.sub)
              // For backward compat, still support a chart type declared as only subType
              // like "liquidfill", but recommend "series.liquidfill"
              // But need a base class to make a type series.
              gn.getClass(O.sub)
            );
            process.env.NODE_ENV !== "production" && kt(U, O.sub + " does not exist."), F = new U(), F.init(p, S), _[L] = F, y.push(F), w.add(F.group);
          }
          k.__viewId = F.__id = L, F.__alive = !0, F.__model = k, F.group.__ecComponentInfo = {
            mainType: k.mainType,
            index: k.componentIndex
          }, !d && v.prepareView(F, k, p, S);
        }
        for (var x = 0; x < y.length; ) {
          var M = y[x];
          M.__alive ? x++ : (!d && M.renderTask.dispose(), w.remove(M.group), M.dispose(p, S), y.splice(x, 1), _[M.__id] === M && delete _[M.__id], M.__id = M.group.__ecComponentInfo = null);
        }
      }, jy = function(f, d, p, v, y) {
        var _ = f._model;
        if (_.setUpdatePayload(p), !v) {
          J([].concat(f._componentsViews).concat(f._chartsViews), M);
          return;
        }
        var w = {};
        w[v + "Id"] = p[v + "Id"], w[v + "Index"] = p[v + "Index"], w[v + "Name"] = p[v + "Name"];
        var S = {
          mainType: v,
          query: w
        };
        y && (S.subType = y);
        var x = p.excludeSeriesId, E;
        x != null && (E = Pt(), J(xn(x), function(k) {
          var P = Vi(k, null);
          P != null && E.set(P, !0);
        })), _ && _.eachComponent(S, function(k) {
          var P = E && E.get(k.id) != null;
          if (!P)
            if (oO(p))
              if (k instanceof En)
                p.type === Wf && !p.notBlur && !k.get(["emphasis", "disabled"]) && tpe(k, p, f._api);
              else {
                var L = H8(k.mainType, k.componentIndex, p.name, f._api), F = L.focusSelf, O = L.dispatchers;
                p.type === Wf && F && !p.notBlur && XA(k.mainType, k.componentIndex, f._api), O && J(O, function(U) {
                  p.type === Wf ? Vu(U) : Uu(U);
                });
              }
            else
              ZA(p) && k instanceof En && (ipe(k, p, f._api), iO(k), $o(f));
        }, f), _ && _.eachComponent(S, function(k) {
          var P = E && E.get(k.id) != null;
          P || M(f[v === "series" ? "_chartsMap" : "_componentsMap"][k.__viewId]);
        }, f);
        function M(k) {
          k && k.__alive && k[d] && k[d](k.__model, _, f._api, p);
        }
      }, Ql = {
        prepareAndUpdate: function(f) {
          sf(this), Ql.update.call(this, f, f && {
            // Needs to mark option changed if newOption is given.
            // It's from MagicType.
            // TODO If use a separate flag optionChanged in payload?
            optionChanged: f.newOption != null
          });
        },
        update: function(f, d) {
          var p = this._model, v = this._api, y = this._zr, _ = this._coordSysMgr, w = this._scheduler;
          if (p) {
            p.setUpdatePayload(f), w.restoreData(p, f), w.performSeriesTasks(p), _.create(p, v), w.performDataProcessorTasks(p, f), X3(this, p), _.update(p, v), i(p), w.performVisualTasks(p, f);
            var S = p.get("backgroundColor") || "transparent";
            y.setBackgroundColor(S);
            var x = p.get("darkMode");
            x != null && x !== "auto" && y.setDarkMode(x), Z3(this, p, v, f, d), As.trigger("afterupdate", p, v);
          }
        },
        updateTransform: function(f) {
          var d = this, p = this._model, v = this._api;
          if (p) {
            p.setUpdatePayload(f);
            var y = [];
            p.eachComponent(function(w, S) {
              if (w !== "series") {
                var x = d.getViewOfComponentModel(S);
                if (x && x.__alive)
                  if (x.updateTransform) {
                    var E = x.updateTransform(S, p, v, f);
                    E && E.update && y.push(x);
                  } else
                    y.push(x);
              }
            });
            var _ = Pt();
            p.eachSeries(function(w) {
              var S = d._chartsMap[w.__viewId];
              if (S.updateTransform) {
                var x = S.updateTransform(w, p, v, f);
                x && x.update && _.set(w.uid, 1);
              } else
                _.set(w.uid, 1);
            }), i(p), this._scheduler.performVisualTasks(p, f, {
              setDirty: !0,
              dirtyMap: _
            }), Xy(this, p, v, f, {}, _), As.trigger("afterupdate", p, v);
          }
        },
        updateView: function(f) {
          var d = this._model;
          d && (d.setUpdatePayload(f), gn.markUpdateMethod(f, "updateView"), i(d), this._scheduler.performVisualTasks(d, f, {
            setDirty: !0
          }), Z3(this, d, this._api, f, {}), As.trigger("afterupdate", d, this._api));
        },
        updateVisual: function(f) {
          var d = this, p = this._model;
          p && (p.setUpdatePayload(f), p.eachSeries(function(v) {
            v.getData().clearAllVisual();
          }), gn.markUpdateMethod(f, "updateVisual"), i(p), this._scheduler.performVisualTasks(p, f, {
            visualType: "visual",
            setDirty: !0
          }), p.eachComponent(function(v, y) {
            if (v !== "series") {
              var _ = d.getViewOfComponentModel(y);
              _ && _.__alive && _.updateVisual(y, p, d._api, f);
            }
          }), p.eachSeries(function(v) {
            var y = d._chartsMap[v.__viewId];
            y.updateVisual(v, p, d._api, f);
          }), As.trigger("afterupdate", p, this._api));
        },
        updateLayout: function(f) {
          Ql.update.call(this, f);
        }
      };
      function t(f, d, p, v, y) {
        if (f._disposed) {
          uo(f.id);
          return;
        }
        for (var _ = f._model, w = f._coordSysMgr.getCoordinateSystems(), S, x = jp(_, p), E = 0; E < w.length; E++) {
          var M = w[E];
          if (M[d] && (S = M[d](_, x, v, y)) != null)
            return S;
        }
        process.env.NODE_ENV !== "production" && Yn("No coordinate system that supports " + d + " found by the given finder.");
      }
      qy = t, X3 = function(f, d) {
        var p = f._chartsMap, v = f._scheduler;
        d.eachSeries(function(y) {
          v.updateStreamModes(y, p[y.__viewId]);
        });
      }, K3 = function(f, d) {
        var p = this, v = this.getModel(), y = f.type, _ = f.escapeConnect, w = lb[y], S = (w.update || "update").split(":"), x = S.pop(), E = S[0] != null && Sl(S[0]);
        this[Bi] = !0, dp(this);
        var M = [f], k = !1;
        f.batch && (k = !0, M = Je(f.batch, function(se) {
          return se = Yt($e({}, se), f), se.batch = null, se;
        }));
        var P = [], L, F = [], O = w.nonRefinedEventType, U = ZA(f), V = oO(f);
        if (V && yY(this._api), J(M, function(se) {
          var de = w.action(se, v, p._api);
          if (w.refineEvent ? F.push(de) : L = de, L = L || $e({}, se), L.type = O, P.push(L), V) {
            var le = O8(f), Se = le.queryOptionMap, he = le.mainTypeSpecified, fe = he ? Se.keys()[0] : "series";
            jy(p, x, se, fe), $o(p);
          } else
            U ? (jy(p, x, se, "series"), $o(p)) : E && jy(p, x, se, E.main, E.sub);
        }), x !== "none" && !V && !U && !E)
          try {
            this[sa] ? (sf(this), Ql.update.call(this, f), this[sa] = null) : Ql[x].call(this, f);
          } catch (se) {
            throw this[Bi] = !1, se;
          }
        if (k ? L = {
          type: O,
          escapeConnect: _,
          batch: P
        } : L = P[0], this[Bi] = !1, !d) {
          var G = void 0;
          if (w.refineEvent) {
            var Z = w.refineEvent(F, f, v, this._api).eventContent;
            kt(zt(Z)), G = Yt({
              type: w.refinedEventType
            }, Z), G.fromAction = f.type, G.fromActionPayload = f, G.escapeConnect = !0;
          }
          var Q = this._messageCenter;
          Q.trigger(L.type, L), G && Q.trigger(G.type, G);
        }
      }, hp = function(f) {
        for (var d = this._pendingActions; d.length; ) {
          var p = d.shift();
          K3.call(this, p, f);
        }
      }, fp = function(f) {
        !f && this.trigger("updated");
      }, yF = function(f, d) {
        f.on("rendered", function(p) {
          d.trigger("rendered", p), // Although zr is dirty if initial animation is not finished
          // and this checking is called on frame, we also check
          // animation finished for robustness.
          f.animation.isFinished() && !d[sa] && !d._scheduler.unfinished && !d._pendingActions.length && d.trigger("finished");
        });
      }, _F = function(f, d) {
        f.on("mouseover", function(p) {
          var v = p.target, y = Lf(v, Kc);
          y && (rpe(y, p, d._api), $o(d));
        }).on("mouseout", function(p) {
          var v = p.target, y = Lf(v, Kc);
          y && (npe(y, p, d._api), $o(d));
        }).on("click", function(p) {
          var v = p.target, y = Lf(v, function(S) {
            return er(S).dataIndex != null;
          }, !0);
          if (y) {
            var _ = y.selected ? "unselect" : "select", w = er(y);
            d._api.dispatchAction({
              type: _,
              dataType: w.dataType,
              dataIndexInside: w.dataIndex,
              seriesIndex: w.seriesIndex,
              isFromClick: !0
            });
          }
        });
      };
      function i(f) {
        f.clearColorPalette(), f.eachSeries(function(d) {
          d.clearColorPalette();
        });
      }
      function a(f) {
        var d = [], p = [], v = !1;
        if (f.eachComponent(function(S, x) {
          var E = x.get("zlevel") || 0, M = x.get("z") || 0, k = x.getZLevelKey();
          v = v || !!k, (S === "series" ? p : d).push({
            zlevel: E,
            z: M,
            idx: x.componentIndex,
            type: S,
            key: k
          });
        }), v) {
          var y = d.concat(p), _, w;
          q2(y, function(S, x) {
            return S.zlevel === x.zlevel ? S.z - x.z : S.zlevel - x.zlevel;
          }), J(y, function(S) {
            var x = f.getComponent(S.type, S.idx), E = S.zlevel, M = S.key;
            _ != null && (E = Math.max(_, E)), M ? (E === _ && M !== w && E++, w = M) : w && (E === _ && E++, w = ""), _ = E, x.setZLevel(E);
          });
        }
      }
      Z3 = function(f, d, p, v, y) {
        a(d), bF(f, d, p, v, y), J(f._chartsViews, function(_) {
          _.__alive = !1;
        }), Xy(f, d, p, v, y), J(f._chartsViews, function(_) {
          _.__alive || _.remove(d, p);
        });
      }, bF = function(f, d, p, v, y, _) {
        J(_ || f._componentsViews, function(w) {
          var S = w.__model;
          u(S, w), w.render(S, d, p, v), l(S, w), c(S, w);
        });
      }, Xy = function(f, d, p, v, y, _) {
        var w = f._scheduler;
        y = $e(y || {}, {
          updatedSeries: d.getSeries()
        }), As.trigger("series:beforeupdate", d, p, y);
        var S = !1;
        d.eachSeries(function(x) {
          var E = f._chartsMap[x.__viewId];
          E.__alive = !0;
          var M = E.renderTask;
          w.updatePayload(M, v), u(x, E), _ && _.get(x.uid) && M.dirty(), M.perform(w.getPerformArgs(M)) && (S = !0), E.group.silent = !!x.get("silent"), s(x, E), iO(x);
        }), w.unfinished = S || w.unfinished, As.trigger("series:layoutlabels", d, p, y), As.trigger("series:transition", d, p, y), d.eachSeries(function(x) {
          var E = f._chartsMap[x.__viewId];
          l(x, E), c(x, E);
        }), o(f, d), As.trigger("series:afterupdate", d, p, y);
      }, $o = function(f) {
        f[Y3] = !0, f.getZr().wakeUp();
      }, dp = function(f) {
        f[Yy] = (f[Yy] + 1) % 1e3;
      }, SF = function(f) {
        f[Y3] && (f.getZr().storage.traverse(function(d) {
          qp(d) || n(d);
        }), f[Y3] = !1);
      };
      function n(f) {
        for (var d = [], p = f.currentStates, v = 0; v < p.length; v++) {
          var y = p[v];
          y === "emphasis" || y === "blur" || y === "select" || d.push(y);
        }
        f.selected && f.states.select && d.push("select"), f.hoverState === bS && f.states.emphasis ? d.push("emphasis") : f.hoverState === tm && f.states.blur && d.push("blur"), f.useStates(d);
      }
      function o(f, d) {
        var p = f._zr, v = p.storage, y = 0;
        v.traverse(function(_) {
          _.isGroup || y++;
        }), y > d.get("hoverLayerThreshold") && !qr.node && !qr.worker && d.eachSeries(function(_) {
          if (!_.preventUsingHoverLayer) {
            var w = f._chartsMap[_.__viewId];
            w.__alive && w.eachRendered(function(S) {
              S.states.emphasis && (S.states.emphasis.hoverLayer = !0);
            });
          }
        });
      }
      function s(f, d) {
        var p = f.get("blendMode") || null;
        d.eachRendered(function(v) {
          v.isGroup || (v.style.blend = p);
        });
      }
      function l(f, d) {
        if (!f.preventAutoZ) {
          var p = rd(f);
          d.eachRendered(function(v) {
            return CS(v, p.z, p.zlevel), !0;
          });
        }
      }
      function u(f, d) {
        d.eachRendered(function(p) {
          if (!qp(p)) {
            var v = p.getTextContent(), y = p.getTextGuideLine();
            p.stateTransition && (p.stateTransition = null), v && v.stateTransition && (v.stateTransition = null), y && y.stateTransition && (y.stateTransition = null), p.hasState() ? (p.prevStates = p.currentStates, p.clearStates()) : p.prevStates && (p.prevStates = null);
          }
        });
      }
      function c(f, d) {
        var p = f.getModel("stateAnimation"), v = f.isAnimationEnabled(), y = p.get("duration"), _ = y > 0 ? {
          duration: y,
          delay: p.get("delay"),
          easing: p.get("easing")
          // additive: stateAnimationModel.get('additive')
        } : null;
        d.eachRendered(function(w) {
          if (w.states && w.states.emphasis) {
            if (qp(w))
              return;
            if (w instanceof Er && cpe(w), w.__dirty) {
              var S = w.prevStates;
              S && w.useStates(S);
            }
            if (v) {
              w.stateTransition = _;
              var x = w.getTextContent(), E = w.getTextGuideLine();
              x && (x.stateTransition = _), E && (E.stateTransition = _);
            }
            w.__dirty && n(w);
          }
        });
      }
      wF = function(f) {
        return new /** @class */
        (function(d) {
          Ge(p, d);
          function p() {
            return d !== null && d.apply(this, arguments) || this;
          }
          return p.prototype.getCoordinateSystems = function() {
            return f._coordSysMgr.getCoordinateSystems();
          }, p.prototype.getComponentByElement = function(v) {
            for (; v; ) {
              var y = v.__ecComponentInfo;
              if (y != null)
                return f._model.getComponent(y.mainType, y.index);
              v = v.parent;
            }
          }, p.prototype.enterEmphasis = function(v, y) {
            Vu(v, y), $o(f);
          }, p.prototype.leaveEmphasis = function(v, y) {
            Uu(v, y), $o(f);
          }, p.prototype.enterBlur = function(v) {
            pY(v), $o(f);
          }, p.prototype.leaveBlur = function(v) {
            W8(v), $o(f);
          }, p.prototype.enterSelect = function(v) {
            vY(v), $o(f);
          }, p.prototype.leaveSelect = function(v) {
            gY(v), $o(f);
          }, p.prototype.getModel = function() {
            return f.getModel();
          }, p.prototype.getViewOfComponentModel = function(v) {
            return f.getViewOfComponentModel(v);
          }, p.prototype.getViewOfSeriesModel = function(v) {
            return f.getViewOfSeriesModel(v);
          }, p.prototype.getMainProcessVersion = function() {
            return f[Yy];
          }, p;
        }(xj))(f);
      }, bq = function(f) {
        function d(p, v) {
          for (var y = 0; y < p.length; y++) {
            var _ = p[y];
            _[j3] = v;
          }
        }
        J(ub, function(p, v) {
          f._messageCenter.on(v, function(y) {
            if (hb[f.group] && f[j3] !== mF) {
              if (y && y.escapeConnect)
                return;
              var _ = f.makeActionFromEvent(y), w = [];
              J($f, function(S) {
                S !== f && S.group === f.group && w.push(S);
              }), d(w, mF), J(w, function(S) {
                S[j3] !== c1e && S.dispatchAction(_);
              }), d(w, h1e);
            }
          });
        });
      };
    }(), e;
  }(fs)
), ED = sb.prototype;
ED.on = vq("on");
ED.off = vq("off");
ED.one = function(r, e, t) {
  var i = this;
  Us("ECharts#one is deprecated.");
  function a() {
    for (var n = [], o = 0; o < arguments.length; o++)
      n[o] = arguments[o];
    e && e.apply && e.apply(this, n), i.off(r, a);
  }
  this.on.call(this, r, a, t);
};
var f1e = ["click", "dblclick", "mouseover", "mouseout", "mousemove", "mousedown", "mouseup", "globalout", "contextmenu"];
function uo(r) {
  process.env.NODE_ENV !== "production" && Yn("Instance " + r + " has been disposed");
}
var lb = {}, ub = {}, y6 = {}, _6 = [], b6 = [], cb = [], wq = {}, w6 = {}, $f = {}, hb = {}, d1e = +/* @__PURE__ */ new Date() - 0, p1e = +/* @__PURE__ */ new Date() - 0, DD = "_echarts_instance_";
function v1e(r, e, t) {
  var i = !(t && t.ssr);
  if (i) {
    if (process.env.NODE_ENV !== "production" && !r)
      throw new Error("Initialize failed: invalid dom.");
    var a = kD(r);
    if (a)
      return process.env.NODE_ENV !== "production" && Yn("There is a chart instance already initialized on the dom."), a;
    process.env.NODE_ENV !== "production" && qc(r) && r.nodeName.toUpperCase() !== "CANVAS" && (!r.clientWidth && (!t || t.width == null) || !r.clientHeight && (!t || t.height == null)) && Yn("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload.");
  }
  var n = new sb(r, e, t);
  return n.id = "ec_" + d1e++, $f[n.id] = n, i && Y$(r, DD, n.id), bq(n), As.trigger("afterinit", n), n;
}
function g1e(r) {
  if (Ke(r)) {
    var e = r;
    r = null, J(e, function(t) {
      t.group != null && (r = t.group);
    }), r = r || "g_" + p1e++, J(e, function(t) {
      t.group = r;
    });
  }
  return hb[r] = !0, r;
}
function Sq(r) {
  hb[r] = !1;
}
var m1e = Sq;
function y1e(r) {
  vt(r) ? r = $f[r] : r instanceof sb || (r = kD(r)), r instanceof sb && !r.isDisposed() && r.dispose();
}
function kD(r) {
  return $f[qfe(r, DD)];
}
function _1e(r) {
  return $f[r];
}
function MD(r, e) {
  wq[r] = e;
}
function ID(r) {
  dr(b6, r) < 0 && b6.push(r);
}
function PD(r, e) {
  RD(_6, r, e, n1e);
}
function xq(r) {
  LS("afterinit", r);
}
function Tq(r) {
  LS("afterupdate", r);
}
function LS(r, e) {
  As.on(r, e);
}
function js(r, e, t) {
  var i, a, n, o, s;
  Bt(e) && (t = e, e = ""), zt(r) ? (i = r.type, a = r.event, o = r.update, s = r.publishNonRefinedEvent, t || (t = r.action), n = r.refineEvent) : (i = r, a = e);
  function l(c) {
    return c.toLowerCase();
  }
  a = l(a || i);
  var u = n ? l(i) : a;
  lb[i] || (kt(gF.test(i) && gF.test(a)), n && kt(a !== i), lb[i] = {
    actionType: i,
    refinedEventType: a,
    nonRefinedEventType: u,
    update: o,
    action: t,
    refineEvent: n
  }, y6[a] = 1, n && s && (y6[u] = 1), process.env.NODE_ENV !== "production" && ub[u] && Nr(u + ' must not be shared; use "refineEvent" if you intend to share an event name.'), ub[u] = i);
}
function Cq(r, e) {
  xd.register(r, e);
}
function b1e(r) {
  var e = xd.get(r);
  if (e)
    return e.getDimensionsInfo ? e.getDimensionsInfo() : e.dimensions.slice();
}
function w1e(r, e) {
  cq(r, e);
}
function Aq(r, e) {
  RD(cb, r, e, hq, "layout");
}
function ph(r, e) {
  RD(cb, r, e, fq, "visual");
}
var xF = [];
function RD(r, e, t, i, a) {
  if ((Bt(e) || zt(e)) && (t = e, e = i), process.env.NODE_ENV !== "production") {
    if (isNaN(e) || e == null)
      throw new Error("Illegal priority");
    J(r, function(o) {
      kt(o.__raw !== t);
    });
  }
  if (!(dr(xF, t) >= 0)) {
    xF.push(t);
    var n = Qj.wrapStageHandler(t, a);
    n.__prio = e, n.__raw = t, r.push(n);
  }
}
function LD(r, e) {
  w6[r] = e;
}
function S1e(r) {
  process.env.NODE_ENV !== "production" && Us("setCanvasCreator is deprecated. Use setPlatformAPI({ createCanvas }) instead."), XH({
    createCanvas: r
  });
}
function Eq(r, e, t) {
  var i = lq("registerMap");
  i && i(r, e, t);
}
function x1e(r) {
  var e = lq("getMap");
  return e && e(r);
}
var Dq = Eve;
ph(AD, ege);
ph(RS, tge);
ph(RS, rge);
ph(AD, mge);
ph(RS, yge);
ph(dq, jge);
ID(Cj);
PD(t1e, ove);
LD("default", nge);
js({
  type: Wf,
  event: Wf,
  update: Wf
}, si);
js({
  type: t_,
  event: t_,
  update: t_
}, si);
js({
  type: Y_,
  event: G8,
  update: Y_,
  action: si,
  refineEvent: OD,
  publishNonRefinedEvent: !0
});
js({
  type: jA,
  event: G8,
  update: jA,
  action: si,
  refineEvent: OD,
  publishNonRefinedEvent: !0
});
js({
  type: j_,
  event: G8,
  update: j_,
  action: si,
  refineEvent: OD,
  publishNonRefinedEvent: !0
});
function OD(r, e, t, i) {
  return {
    eventContent: {
      selected: ape(t),
      isFromClick: e.isFromClick || !1
    }
  };
}
MD("default", {});
MD("dark", vge);
var T1e = {}, TF = [], C1e = {
  registerPreprocessor: ID,
  registerProcessor: PD,
  registerPostInit: xq,
  registerPostUpdate: Tq,
  registerUpdateLifecycle: LS,
  registerAction: js,
  registerCoordinateSystem: Cq,
  registerLayout: Aq,
  registerVisual: ph,
  registerTransform: Dq,
  registerLoading: LD,
  registerMap: Eq,
  registerImpl: Xge,
  PRIORITY: pq,
  ComponentModel: Rr,
  ComponentView: Pn,
  SeriesModel: En,
  ChartView: gn,
  // TODO Use ComponentModel and SeriesModel instead of Constructor
  registerComponentModel: function(r) {
    Rr.registerClass(r);
  },
  registerComponentView: function(r) {
    Pn.registerClass(r);
  },
  registerSeriesModel: function(r) {
    En.registerClass(r);
  },
  registerChartView: function(r) {
    gn.registerClass(r);
  },
  registerCustomSeries: function(r, e) {
    cq(r, e);
  },
  registerSubTypeDefaulter: function(r, e) {
    Rr.registerSubTypeDefaulter(r, e);
  },
  registerPainter: function(r, e) {
    R$(r, e);
  }
};
function _r(r) {
  if (Ke(r)) {
    J(r, function(e) {
      _r(e);
    });
    return;
  }
  dr(TF, r) >= 0 || (TF.push(r), Bt(r) && (r = {
    install: r
  }), r.install(C1e));
}
function Zv(r) {
  return r == null ? 0 : r.length || 1;
}
function CF(r) {
  return r;
}
var A1e = (
  /** @class */
  function() {
    function r(e, t, i, a, n, o) {
      this._old = e, this._new = t, this._oldKeyGetter = i || CF, this._newKeyGetter = a || CF, this.context = n, this._diffModeMultiple = o === "multiple";
    }
    return r.prototype.add = function(e) {
      return this._add = e, this;
    }, r.prototype.update = function(e) {
      return this._update = e, this;
    }, r.prototype.updateManyToOne = function(e) {
      return this._updateManyToOne = e, this;
    }, r.prototype.updateOneToMany = function(e) {
      return this._updateOneToMany = e, this;
    }, r.prototype.updateManyToMany = function(e) {
      return this._updateManyToMany = e, this;
    }, r.prototype.remove = function(e) {
      return this._remove = e, this;
    }, r.prototype.execute = function() {
      this[this._diffModeMultiple ? "_executeMultiple" : "_executeOneToOne"]();
    }, r.prototype._executeOneToOne = function() {
      var e = this._old, t = this._new, i = {}, a = new Array(e.length), n = new Array(t.length);
      this._initIndexMap(e, null, a, "_oldKeyGetter"), this._initIndexMap(t, i, n, "_newKeyGetter");
      for (var o = 0; o < e.length; o++) {
        var s = a[o], l = i[s], u = Zv(l);
        if (u > 1) {
          var c = l.shift();
          l.length === 1 && (i[s] = l[0]), this._update && this._update(c, o);
        } else
          u === 1 ? (i[s] = null, this._update && this._update(l, o)) : this._remove && this._remove(o);
      }
      this._performRestAdd(n, i);
    }, r.prototype._executeMultiple = function() {
      var e = this._old, t = this._new, i = {}, a = {}, n = [], o = [];
      this._initIndexMap(e, i, n, "_oldKeyGetter"), this._initIndexMap(t, a, o, "_newKeyGetter");
      for (var s = 0; s < n.length; s++) {
        var l = n[s], u = i[l], c = a[l], f = Zv(u), d = Zv(c);
        if (f > 1 && d === 1)
          this._updateManyToOne && this._updateManyToOne(c, u), a[l] = null;
        else if (f === 1 && d > 1)
          this._updateOneToMany && this._updateOneToMany(c, u), a[l] = null;
        else if (f === 1 && d === 1)
          this._update && this._update(c, u), a[l] = null;
        else if (f > 1 && d > 1)
          this._updateManyToMany && this._updateManyToMany(c, u), a[l] = null;
        else if (f > 1)
          for (var p = 0; p < f; p++)
            this._remove && this._remove(u[p]);
        else
          this._remove && this._remove(u);
      }
      this._performRestAdd(o, a);
    }, r.prototype._performRestAdd = function(e, t) {
      for (var i = 0; i < e.length; i++) {
        var a = e[i], n = t[a], o = Zv(n);
        if (o > 1)
          for (var s = 0; s < o; s++)
            this._add && this._add(n[s]);
        else
          o === 1 && this._add && this._add(n);
        t[a] = null;
      }
    }, r.prototype._initIndexMap = function(e, t, i, a) {
      for (var n = this._diffModeMultiple, o = 0; o < e.length; o++) {
        var s = "_ec_" + this[a](e[o], o);
        if (n || (i[o] = s), !!t) {
          var l = t[s], u = Zv(l);
          u === 0 ? (t[s] = o, n && i.push(s)) : u === 1 ? t[s] = [l, o] : l.push(o);
        }
      }
    }, r;
  }()
);
const Gu = A1e;
var E1e = (
  /** @class */
  function() {
    function r(e, t) {
      this._encode = e, this._schema = t;
    }
    return r.prototype.get = function() {
      return {
        // Do not generate full dimension name until fist used.
        fullDimensions: this._getFullDimensionNames(),
        encode: this._encode
      };
    }, r.prototype._getFullDimensionNames = function() {
      return this._cachedDimNames || (this._cachedDimNames = this._schema ? this._schema.makeOutputDimensionNames() : []), this._cachedDimNames;
    }, r;
  }()
);
function D1e(r, e) {
  var t = {}, i = t.encode = {}, a = Pt(), n = [], o = [], s = {};
  J(r.dimensions, function(d) {
    var p = r.getDimensionInfo(d), v = p.coordDim;
    if (v) {
      process.env.NODE_ENV !== "production" && kt(s6.get(v) == null);
      var y = p.coordDimIndex;
      J3(i, v)[y] = d, p.isExtraCoord || (a.set(v, 1), k1e(p.type) && (n[0] = d), J3(s, v)[y] = r.getDimensionIndex(p.name)), p.defaultTooltip && o.push(d);
    }
    s6.each(function(_, w) {
      var S = J3(i, w), x = p.otherDims[w];
      x != null && x !== !1 && (S[x] = p.name);
    });
  });
  var l = [], u = {};
  a.each(function(d, p) {
    var v = i[p];
    u[p] = v[0], l = l.concat(v);
  }), t.dataDimsOnCoord = l, t.dataDimIndicesOnCoord = Je(l, function(d) {
    return r.getDimensionInfo(d).storeDimIndex;
  }), t.encodeFirstDimNotExtra = u;
  var c = i.label;
  c && c.length && (n = c.slice());
  var f = i.tooltip;
  return f && f.length ? o = f.slice() : o.length || (o = n.slice()), i.defaultedLabel = n, i.defaultedTooltip = o, t.userOutput = new E1e(s, e), t;
}
function J3(r, e) {
  return r.hasOwnProperty(e) || (r[e] = []), r[e];
}
function fb(r) {
  return r === "category" ? "ordinal" : r === "time" ? "time" : "float";
}
function k1e(r) {
  return !(r === "ordinal" || r === "time");
}
var M1e = (
  /** @class */
  function() {
    function r(e) {
      this.otherDims = {}, e != null && $e(this, e);
    }
    return r;
  }()
);
const l_ = M1e;
var I1e = Ar(), P1e = {
  float: "f",
  int: "i",
  ordinal: "o",
  number: "n",
  time: "t"
}, kq = (
  /** @class */
  function() {
    function r(e) {
      this.dimensions = e.dimensions, this._dimOmitted = e.dimensionOmitted, this.source = e.source, this._fullDimCount = e.fullDimensionCount, this._updateDimOmitted(e.dimensionOmitted);
    }
    return r.prototype.isDimensionOmitted = function() {
      return this._dimOmitted;
    }, r.prototype._updateDimOmitted = function(e) {
      this._dimOmitted = e, e && (this._dimNameMap || (this._dimNameMap = Pq(this.source)));
    }, r.prototype.getSourceDimensionIndex = function(e) {
      return It(this._dimNameMap.get(e), -1);
    }, r.prototype.getSourceDimension = function(e) {
      var t = this.source.dimensionsDefine;
      if (t)
        return t[e];
    }, r.prototype.makeStoreSchema = function() {
      for (var e = this._fullDimCount, t = Ej(this.source), i = !Rq(e), a = "", n = [], o = 0, s = 0; o < e; o++) {
        var l = void 0, u = void 0, c = void 0, f = this.dimensions[s];
        if (f && f.storeDimIndex === o)
          l = t ? f.name : null, u = f.type, c = f.ordinalMeta, s++;
        else {
          var d = this.getSourceDimension(o);
          d && (l = t ? d.name : null, u = d.type);
        }
        n.push({
          property: l,
          type: u,
          ordinalMeta: c
        }), t && l != null && (!f || !f.isCalculationCoord) && (a += i ? l.replace(/\`/g, "`1").replace(/\$/g, "`2") : l), a += "$", a += P1e[u] || "f", c && (a += c.uid), a += "$";
      }
      var p = this.source, v = [p.seriesLayoutBy, p.startIndex, a].join("$$");
      return {
        dimensions: n,
        hash: v
      };
    }, r.prototype.makeOutputDimensionNames = function() {
      for (var e = [], t = 0, i = 0; t < this._fullDimCount; t++) {
        var a = void 0, n = this.dimensions[i];
        if (n && n.storeDimIndex === t)
          n.isCalculationCoord || (a = n.name), i++;
        else {
          var o = this.getSourceDimension(t);
          o && (a = o.name);
        }
        e.push(a);
      }
      return e;
    }, r.prototype.appendCalculationDimension = function(e) {
      this.dimensions.push(e), e.isCalculationCoord = !0, this._fullDimCount++, this._updateDimOmitted(!0);
    }, r;
  }()
);
function Mq(r) {
  return r instanceof kq;
}
function Iq(r) {
  for (var e = Pt(), t = 0; t < (r || []).length; t++) {
    var i = r[t], a = zt(i) ? i.name : i;
    a != null && e.get(a) == null && e.set(a, t);
  }
  return e;
}
function Pq(r) {
  var e = I1e(r);
  return e.dimNameMap || (e.dimNameMap = Iq(r.dimensionsDefine));
}
function Rq(r) {
  return r > 30;
}
var Jv = zt, mc = Je, R1e = typeof Int32Array > "u" ? Array : Int32Array, L1e = "e\0\0", AF = -1, O1e = ["hasItemOption", "_nameList", "_idList", "_invertedIndicesMap", "_dimSummary", "userOutput", "_rawData", "_dimValueGetter", "_nameDimIdx", "_idDimIdx", "_nameRepeatCount"], F1e = ["_approximateExtent"], EF, Ky, Qv, pp, Q3, eg, e5, N1e = (
  /** @class */
  function() {
    function r(e, t) {
      this.type = "list", this._dimOmitted = !1, this._nameList = [], this._idList = [], this._visual = {}, this._layout = {}, this._itemVisuals = [], this._itemLayouts = [], this._graphicEls = [], this._approximateExtent = {}, this._calculationInfo = {}, this.hasItemOption = !1, this.TRANSFERABLE_METHODS = ["cloneShallow", "downSample", "minmaxDownSample", "lttbDownSample", "map"], this.CHANGABLE_METHODS = ["filterSelf", "selectRange"], this.DOWNSAMPLE_METHODS = ["downSample", "minmaxDownSample", "lttbDownSample"];
      var i, a = !1;
      Mq(e) ? (i = e.dimensions, this._dimOmitted = e.isDimensionOmitted(), this._schema = e) : (a = !0, i = e), i = i || ["x", "y"];
      for (var n = {}, o = [], s = {}, l = !1, u = {}, c = 0; c < i.length; c++) {
        var f = i[c], d = vt(f) ? new l_({
          name: f
        }) : f instanceof l_ ? f : new l_(f), p = d.name;
        d.type = d.type || "float", d.coordDim || (d.coordDim = p, d.coordDimIndex = 0);
        var v = d.otherDims = d.otherDims || {};
        o.push(p), n[p] = d, u[p] != null && (l = !0), d.createInvertedIndices && (s[p] = []);
        var y = c;
        Or(d.storeDimIndex) && (y = d.storeDimIndex), v.itemName === 0 && (this._nameDimIdx = y), v.itemId === 0 && (this._idDimIdx = y), process.env.NODE_ENV !== "production" && kt(a || d.storeDimIndex >= 0), a && (d.storeDimIndex = c);
      }
      if (this.dimensions = o, this._dimInfos = n, this._initGetDimensionInfo(l), this.hostModel = t, this._invertedIndicesMap = s, this._dimOmitted) {
        var _ = this._dimIdxToName = Pt();
        J(o, function(w) {
          _.set(n[w].storeDimIndex, w);
        });
      }
    }
    return r.prototype.getDimension = function(e) {
      var t = this._recognizeDimIndex(e);
      if (t == null)
        return e;
      if (t = e, !this._dimOmitted)
        return this.dimensions[t];
      var i = this._dimIdxToName.get(t);
      if (i != null)
        return i;
      var a = this._schema.getSourceDimension(t);
      if (a)
        return a.name;
    }, r.prototype.getDimensionIndex = function(e) {
      var t = this._recognizeDimIndex(e);
      if (t != null)
        return t;
      if (e == null)
        return -1;
      var i = this._getDimInfo(e);
      return i ? i.storeDimIndex : this._dimOmitted ? this._schema.getSourceDimensionIndex(e) : -1;
    }, r.prototype._recognizeDimIndex = function(e) {
      if (Or(e) || e != null && !isNaN(e) && !this._getDimInfo(e) && (!this._dimOmitted || this._schema.getSourceDimensionIndex(e) < 0))
        return +e;
    }, r.prototype._getStoreDimIndex = function(e) {
      var t = this.getDimensionIndex(e);
      if (process.env.NODE_ENV !== "production" && t == null)
        throw new Error("Unknown dimension " + e);
      return t;
    }, r.prototype.getDimensionInfo = function(e) {
      return this._getDimInfo(this.getDimension(e));
    }, r.prototype._initGetDimensionInfo = function(e) {
      var t = this._dimInfos;
      this._getDimInfo = e ? function(i) {
        return t.hasOwnProperty(i) ? t[i] : void 0;
      } : function(i) {
        return t[i];
      };
    }, r.prototype.getDimensionsOnCoord = function() {
      return this._dimSummary.dataDimsOnCoord.slice();
    }, r.prototype.mapDimension = function(e, t) {
      var i = this._dimSummary;
      if (t == null)
        return i.encodeFirstDimNotExtra[e];
      var a = i.encode[e];
      return a ? a[t] : null;
    }, r.prototype.mapDimensionsAll = function(e) {
      var t = this._dimSummary, i = t.encode[e];
      return (i || []).slice();
    }, r.prototype.getStore = function() {
      return this._store;
    }, r.prototype.initData = function(e, t, i) {
      var a = this, n;
      if (e instanceof h6 && (n = e), !n) {
        var o = this.dimensions, s = yD(e) || ba(e) ? new Dj(e, o.length) : e;
        n = new h6();
        var l = mc(o, function(u) {
          return {
            type: a._dimInfos[u].type,
            property: u
          };
        });
        n.initData(s, l, i);
      }
      this._store = n, this._nameList = (t || []).slice(), this._idList = [], this._nameRepeatCount = {}, this._doInit(0, n.count()), this._dimSummary = D1e(this, this._schema), this.userOutput = this._dimSummary.userOutput;
    }, r.prototype.appendData = function(e) {
      var t = this._store.appendData(e);
      this._doInit(t[0], t[1]);
    }, r.prototype.appendValues = function(e, t) {
      var i = this._store.appendValues(e, t && t.length), a = i.start, n = i.end, o = this._shouldMakeIdFromName();
      if (this._updateOrdinalMeta(), t)
        for (var s = a; s < n; s++) {
          var l = s - a;
          this._nameList[s] = t[l], o && e5(this, s);
        }
    }, r.prototype._updateOrdinalMeta = function() {
      for (var e = this._store, t = this.dimensions, i = 0; i < t.length; i++) {
        var a = this._dimInfos[t[i]];
        a.ordinalMeta && e.collectOrdinalMeta(a.storeDimIndex, a.ordinalMeta);
      }
    }, r.prototype._shouldMakeIdFromName = function() {
      var e = this._store.getProvider();
      return this._idDimIdx == null && e.getSource().sourceFormat !== Eu && !e.fillStorage;
    }, r.prototype._doInit = function(e, t) {
      if (!(e >= t)) {
        var i = this._store, a = i.getProvider();
        this._updateOrdinalMeta();
        var n = this._nameList, o = this._idList, s = a.getSource().sourceFormat, l = s === Po;
        if (l && !a.pure)
          for (var u = [], c = e; c < t; c++) {
            var f = a.getItem(c, u);
            if (!this.hasItemOption && Ofe(f) && (this.hasItemOption = !0), f) {
              var d = f.name;
              n[c] == null && d != null && (n[c] = Vi(d, null));
              var p = f.id;
              o[c] == null && p != null && (o[c] = Vi(p, null));
            }
          }
        if (this._shouldMakeIdFromName())
          for (var c = e; c < t; c++)
            e5(this, c);
        EF(this);
      }
    }, r.prototype.getApproximateExtent = function(e) {
      return this._approximateExtent[e] || this._store.getDataExtent(this._getStoreDimIndex(e));
    }, r.prototype.setApproximateExtent = function(e, t) {
      t = this.getDimension(t), this._approximateExtent[t] = e.slice();
    }, r.prototype.getCalculationInfo = function(e) {
      return this._calculationInfo[e];
    }, r.prototype.setCalculationInfo = function(e, t) {
      Jv(e) ? $e(this._calculationInfo, e) : this._calculationInfo[e] = t;
    }, r.prototype.getName = function(e) {
      var t = this.getRawIndex(e), i = this._nameList[t];
      return i == null && this._nameDimIdx != null && (i = Qv(this, this._nameDimIdx, t)), i == null && (i = ""), i;
    }, r.prototype._getCategory = function(e, t) {
      var i = this._store.get(e, t), a = this._store.getOrdinalMeta(e);
      return a ? a.categories[i] : i;
    }, r.prototype.getId = function(e) {
      return Ky(this, this.getRawIndex(e));
    }, r.prototype.count = function() {
      return this._store.count();
    }, r.prototype.get = function(e, t) {
      var i = this._store, a = this._dimInfos[e];
      if (a)
        return i.get(a.storeDimIndex, t);
    }, r.prototype.getByRawIndex = function(e, t) {
      var i = this._store, a = this._dimInfos[e];
      if (a)
        return i.getByRawIndex(a.storeDimIndex, t);
    }, r.prototype.getIndices = function() {
      return this._store.getIndices();
    }, r.prototype.getDataExtent = function(e) {
      return this._store.getDataExtent(this._getStoreDimIndex(e));
    }, r.prototype.getSum = function(e) {
      return this._store.getSum(this._getStoreDimIndex(e));
    }, r.prototype.getMedian = function(e) {
      return this._store.getMedian(this._getStoreDimIndex(e));
    }, r.prototype.getValues = function(e, t) {
      var i = this, a = this._store;
      return Ke(e) ? a.getValues(mc(e, function(n) {
        return i._getStoreDimIndex(n);
      }), t) : a.getValues(e);
    }, r.prototype.hasValue = function(e) {
      for (var t = this._dimSummary.dataDimIndicesOnCoord, i = 0, a = t.length; i < a; i++)
        if (isNaN(this._store.get(t[i], e)))
          return !1;
      return !0;
    }, r.prototype.indexOfName = function(e) {
      for (var t = 0, i = this._store.count(); t < i; t++)
        if (this.getName(t) === e)
          return t;
      return -1;
    }, r.prototype.getRawIndex = function(e) {
      return this._store.getRawIndex(e);
    }, r.prototype.indexOfRawIndex = function(e) {
      return this._store.indexOfRawIndex(e);
    }, r.prototype.rawIndexOf = function(e, t) {
      var i = e && this._invertedIndicesMap[e];
      if (process.env.NODE_ENV !== "production" && !i)
        throw new Error("Do not supported yet");
      var a = i && i[t];
      return a == null || isNaN(a) ? AF : a;
    }, r.prototype.each = function(e, t, i) {
      Bt(e) && (i = t, t = e, e = []);
      var a = i || this, n = mc(pp(e), this._getStoreDimIndex, this);
      this._store.each(n, a ? mt(t, a) : t);
    }, r.prototype.filterSelf = function(e, t, i) {
      Bt(e) && (i = t, t = e, e = []);
      var a = i || this, n = mc(pp(e), this._getStoreDimIndex, this);
      return this._store = this._store.filter(n, a ? mt(t, a) : t), this;
    }, r.prototype.selectRange = function(e) {
      var t = this, i = {}, a = Ir(e);
      return J(a, function(n) {
        var o = t._getStoreDimIndex(n);
        i[o] = e[n];
      }), this._store = this._store.selectRange(i), this;
    }, r.prototype.mapArray = function(e, t, i) {
      Bt(e) && (i = t, t = e, e = []), i = i || this;
      var a = [];
      return this.each(e, function() {
        a.push(t && t.apply(this, arguments));
      }, i), a;
    }, r.prototype.map = function(e, t, i, a) {
      var n = i || a || this, o = mc(pp(e), this._getStoreDimIndex, this), s = eg(this);
      return s._store = this._store.map(o, n ? mt(t, n) : t), s;
    }, r.prototype.modify = function(e, t, i, a) {
      var n = this, o = i || a || this;
      process.env.NODE_ENV !== "production" && J(pp(e), function(l) {
        var u = n.getDimensionInfo(l);
        u.isCalculationCoord || console.error("Danger: only stack dimension can be modified");
      });
      var s = mc(pp(e), this._getStoreDimIndex, this);
      this._store.modify(s, o ? mt(t, o) : t);
    }, r.prototype.downSample = function(e, t, i, a) {
      var n = eg(this);
      return n._store = this._store.downSample(this._getStoreDimIndex(e), t, i, a), n;
    }, r.prototype.minmaxDownSample = function(e, t) {
      var i = eg(this);
      return i._store = this._store.minmaxDownSample(this._getStoreDimIndex(e), t), i;
    }, r.prototype.lttbDownSample = function(e, t) {
      var i = eg(this);
      return i._store = this._store.lttbDownSample(this._getStoreDimIndex(e), t), i;
    }, r.prototype.getRawDataItem = function(e) {
      return this._store.getRawDataItem(e);
    }, r.prototype.getItemModel = function(e) {
      var t = this.hostModel, i = this.getRawDataItem(e);
      return new Vr(i, t, t && t.ecModel);
    }, r.prototype.diff = function(e) {
      var t = this;
      return new Gu(e ? e.getStore().getIndices() : [], this.getStore().getIndices(), function(i) {
        return Ky(e, i);
      }, function(i) {
        return Ky(t, i);
      });
    }, r.prototype.getVisual = function(e) {
      var t = this._visual;
      return t && t[e];
    }, r.prototype.setVisual = function(e, t) {
      this._visual = this._visual || {}, Jv(e) ? $e(this._visual, e) : this._visual[e] = t;
    }, r.prototype.getItemVisual = function(e, t) {
      var i = this._itemVisuals[e], a = i && i[t];
      return a ?? this.getVisual(t);
    }, r.prototype.hasItemVisual = function() {
      return this._itemVisuals.length > 0;
    }, r.prototype.ensureUniqueItemVisual = function(e, t) {
      var i = this._itemVisuals, a = i[e];
      a || (a = i[e] = {});
      var n = a[t];
      return n == null && (n = this.getVisual(t), Ke(n) ? n = n.slice() : Jv(n) && (n = $e({}, n)), a[t] = n), n;
    }, r.prototype.setItemVisual = function(e, t, i) {
      var a = this._itemVisuals[e] || {};
      this._itemVisuals[e] = a, Jv(t) ? $e(a, t) : a[t] = i;
    }, r.prototype.clearAllVisual = function() {
      this._visual = {}, this._itemVisuals = [];
    }, r.prototype.setLayout = function(e, t) {
      Jv(e) ? $e(this._layout, e) : this._layout[e] = t;
    }, r.prototype.getLayout = function(e) {
      return this._layout[e];
    }, r.prototype.getItemLayout = function(e) {
      return this._itemLayouts[e];
    }, r.prototype.setItemLayout = function(e, t, i) {
      this._itemLayouts[e] = i ? $e(this._itemLayouts[e] || {}, t) : t;
    }, r.prototype.clearItemLayouts = function() {
      this._itemLayouts.length = 0;
    }, r.prototype.setItemGraphicEl = function(e, t) {
      var i = this.hostModel && this.hostModel.seriesIndex;
      YA(i, this.dataType, e, t), this._graphicEls[e] = t;
    }, r.prototype.getItemGraphicEl = function(e) {
      return this._graphicEls[e];
    }, r.prototype.eachItemGraphicEl = function(e, t) {
      J(this._graphicEls, function(i, a) {
        i && e && e.call(t, i, a);
      });
    }, r.prototype.cloneShallow = function(e) {
      return e || (e = new r(this._schema ? this._schema : mc(this.dimensions, this._getDimInfo, this), this.hostModel)), Q3(e, this), e._store = this._store, e;
    }, r.prototype.wrapMethod = function(e, t) {
      var i = this[e];
      Bt(i) && (this.__wrappedMethods = this.__wrappedMethods || [], this.__wrappedMethods.push(e), this[e] = function() {
        var a = i.apply(this, arguments);
        return t.apply(this, [a].concat(sS(arguments)));
      });
    }, r.internalField = function() {
      EF = function(e) {
        var t = e._invertedIndicesMap;
        J(t, function(i, a) {
          var n = e._dimInfos[a], o = n.ordinalMeta, s = e._store;
          if (o) {
            i = t[a] = new R1e(o.categories.length);
            for (var l = 0; l < i.length; l++)
              i[l] = AF;
            for (var l = 0; l < s.count(); l++)
              i[s.get(n.storeDimIndex, l)] = l;
          }
        });
      }, Qv = function(e, t, i) {
        return Vi(e._getCategory(t, i), null);
      }, Ky = function(e, t) {
        var i = e._idList[t];
        return i == null && e._idDimIdx != null && (i = Qv(e, e._idDimIdx, t)), i == null && (i = L1e + t), i;
      }, pp = function(e) {
        return Ke(e) || (e = e != null ? [e] : []), e;
      }, eg = function(e) {
        var t = new r(e._schema ? e._schema : mc(e.dimensions, e._getDimInfo, e), e.hostModel);
        return Q3(t, e), t;
      }, Q3 = function(e, t) {
        J(O1e.concat(t.__wrappedMethods || []), function(i) {
          t.hasOwnProperty(i) && (e[i] = t[i]);
        }), e.__wrappedMethods = t.__wrappedMethods, J(F1e, function(i) {
          e[i] = Gt(t[i]);
        }), e._calculationInfo = $e({}, t._calculationInfo);
      }, e5 = function(e, t) {
        var i = e._nameList, a = e._idList, n = e._nameDimIdx, o = e._idDimIdx, s = i[t], l = a[t];
        if (s == null && n != null && (i[t] = s = Qv(e, n, t)), l == null && o != null && (a[t] = l = Qv(e, o, t)), l == null && s != null) {
          var u = e._nameRepeatCount, c = u[s] = (u[s] || 0) + 1;
          l = s, c > 1 && (l += "__ec__" + c), a[t] = l;
        }
      };
    }(), r;
  }()
);
const Ua = N1e;
function B1e(r, e) {
  return W0(r, e).dimensions;
}
function W0(r, e) {
  yD(r) || (r = _D(r)), e = e || {};
  var t = e.coordDimensions || [], i = e.dimensionsDefine || r.dimensionsDefine || [], a = Pt(), n = [], o = U1e(r, t, i, e.dimensionsCount), s = e.canOmitUnusedDimensions && Rq(o), l = i === r.dimensionsDefine, u = l ? Pq(r) : Iq(i), c = e.encodeDefine;
  !c && e.encodeDefaulter && (c = e.encodeDefaulter(r, o));
  for (var f = Pt(c), d = new Fj(o), p = 0; p < d.length; p++)
    d[p] = -1;
  function v(F) {
    var O = d[F];
    if (O < 0) {
      var U = i[F], V = zt(U) ? U : {
        name: U
      }, G = new l_(), Z = V.name;
      Z != null && u.get(Z) != null && (G.name = G.displayName = Z), V.type != null && (G.type = V.type), V.displayName != null && (G.displayName = V.displayName);
      var Q = n.length;
      return d[F] = Q, G.storeDimIndex = F, n.push(G), G;
    }
    return n[O];
  }
  if (!s)
    for (var p = 0; p < o; p++)
      v(p);
  f.each(function(F, O) {
    var U = xn(F).slice();
    if (U.length === 1 && !vt(U[0]) && U[0] < 0) {
      f.set(O, !1);
      return;
    }
    var V = f.set(O, []);
    J(U, function(G, Z) {
      var Q = vt(G) ? u.get(G) : G;
      Q != null && Q < o && (V[Z] = Q, _(v(Q), O, Z));
    });
  });
  var y = 0;
  J(t, function(F) {
    var O, U, V, G;
    if (vt(F))
      O = F, G = {};
    else {
      G = F, O = G.name;
      var Z = G.ordinalMeta;
      G.ordinalMeta = null, G = $e({}, G), G.ordinalMeta = Z, U = G.dimsDef, V = G.otherDims, G.name = G.coordDim = G.coordDimIndex = G.dimsDef = G.otherDims = null;
    }
    var Q = f.get(O);
    if (Q !== !1) {
      if (Q = xn(Q), !Q.length)
        for (var se = 0; se < (U && U.length || 1); se++) {
          for (; y < o && v(y).coordDim != null; )
            y++;
          y < o && Q.push(y++);
        }
      J(Q, function(de, le) {
        var Se = v(de);
        if (l && G.type != null && (Se.type = G.type), _(Yt(Se, G), O, le), Se.name == null && U) {
          var he = U[le];
          !zt(he) && (he = {
            name: he
          }), Se.name = Se.displayName = he.name, Se.defaultTooltip = he.defaultTooltip;
        }
        V && Yt(Se.otherDims, V);
      });
    }
  });
  function _(F, O, U) {
    s6.get(O) != null ? F.otherDims[O] = U : (F.coordDim = O, F.coordDimIndex = U, a.set(O, !0));
  }
  var w = e.generateCoord, S = e.generateCoordCount, x = S != null;
  S = w ? S || 1 : 0;
  var E = w || "value";
  function M(F) {
    F.name == null && (F.name = F.coordDim);
  }
  if (s)
    J(n, function(F) {
      M(F);
    }), n.sort(function(F, O) {
      return F.storeDimIndex - O.storeDimIndex;
    });
  else
    for (var k = 0; k < o; k++) {
      var P = v(k), L = P.coordDim;
      L == null && (P.coordDim = G1e(E, a, x), P.coordDimIndex = 0, (!w || S <= 0) && (P.isExtraCoord = !0), S--), M(P), P.type == null && (yj(r, k) === ga.Must || P.isExtraCoord && (P.otherDims.itemName != null || P.otherDims.seriesName != null)) && (P.type = "ordinal");
    }
  return V1e(n), new kq({
    source: r,
    dimensions: n,
    fullDimensionCount: o,
    dimensionOmitted: s
  });
}
function V1e(r) {
  for (var e = Pt(), t = 0; t < r.length; t++) {
    var i = r[t], a = i.name, n = e.get(a) || 0;
    n > 0 && (i.name = a + (n - 1)), n++, e.set(a, n);
  }
}
function U1e(r, e, t, i) {
  var a = Math.max(r.dimensionsDetectedCount || 1, e.length, t.length, i || 0);
  return J(e, function(n) {
    var o;
    zt(n) && (o = n.dimsDef) && (a = Math.max(a, o.length));
  }), a;
}
function G1e(r, e, t) {
  if (t || e.hasKey(r)) {
    for (var i = 0; e.hasKey(r + i); )
      i++;
    r += i;
  }
  return e.set(r, !0), r;
}
var z1e = (
  /** @class */
  function() {
    function r(e) {
      this.coordSysDims = [], this.axisMap = Pt(), this.categoryAxisMap = Pt(), this.coordSysName = e;
    }
    return r;
  }()
);
function W1e(r) {
  var e = r.get("coordinateSystem"), t = new z1e(e), i = H1e[e];
  if (i)
    return i(r, t, t.axisMap, t.categoryAxisMap), t;
}
var H1e = {
  cartesian2d: function(r, e, t, i) {
    var a = r.getReferringComponents("xAxis", ri).models[0], n = r.getReferringComponents("yAxis", ri).models[0];
    if (process.env.NODE_ENV !== "production") {
      if (!a)
        throw new Error('xAxis "' + Di(r.get("xAxisIndex"), r.get("xAxisId"), 0) + '" not found');
      if (!n)
        throw new Error('yAxis "' + Di(r.get("xAxisIndex"), r.get("yAxisId"), 0) + '" not found');
    }
    e.coordSysDims = ["x", "y"], t.set("x", a), t.set("y", n), vp(a) && (i.set("x", a), e.firstCategoryDimIndex = 0), vp(n) && (i.set("y", n), e.firstCategoryDimIndex == null && (e.firstCategoryDimIndex = 1));
  },
  singleAxis: function(r, e, t, i) {
    var a = r.getReferringComponents("singleAxis", ri).models[0];
    if (process.env.NODE_ENV !== "production" && !a)
      throw new Error("singleAxis should be specified.");
    e.coordSysDims = ["single"], t.set("single", a), vp(a) && (i.set("single", a), e.firstCategoryDimIndex = 0);
  },
  polar: function(r, e, t, i) {
    var a = r.getReferringComponents("polar", ri).models[0], n = a.findAxisModel("radiusAxis"), o = a.findAxisModel("angleAxis");
    if (process.env.NODE_ENV !== "production") {
      if (!o)
        throw new Error("angleAxis option not found");
      if (!n)
        throw new Error("radiusAxis option not found");
    }
    e.coordSysDims = ["radius", "angle"], t.set("radius", n), t.set("angle", o), vp(n) && (i.set("radius", n), e.firstCategoryDimIndex = 0), vp(o) && (i.set("angle", o), e.firstCategoryDimIndex == null && (e.firstCategoryDimIndex = 1));
  },
  geo: function(r, e, t, i) {
    e.coordSysDims = ["lng", "lat"];
  },
  parallel: function(r, e, t, i) {
    var a = r.ecModel, n = a.getComponent("parallel", r.get("parallelIndex")), o = e.coordSysDims = n.dimensions.slice();
    J(n.parallelAxisIndex, function(s, l) {
      var u = a.getComponent("parallelAxis", s), c = o[l];
      t.set(c, u), vp(u) && (i.set(c, u), e.firstCategoryDimIndex == null && (e.firstCategoryDimIndex = l));
    });
  },
  matrix: function(r, e, t, i) {
    var a = r.getReferringComponents("matrix", ri).models[0];
    if (process.env.NODE_ENV !== "production" && !a)
      throw new Error("matrix coordinate system should be specified.");
    e.coordSysDims = ["x", "y"];
    var n = a.getDimensionModel("x"), o = a.getDimensionModel("y");
    t.set("x", n), t.set("y", o), i.set("x", n), i.set("y", o);
  }
};
function vp(r) {
  return r.get("type") === "category";
}
function Lq(r, e, t) {
  t = t || {};
  var i = t.byIndex, a = t.stackedCoordDimension, n, o, s;
  $1e(e) ? n = e : (o = e.schema, n = o.dimensions, s = e.store);
  var l = !!(r && r.get("stack")), u, c, f, d;
  if (J(n, function(S, x) {
    vt(S) && (n[x] = S = {
      name: S
    }), l && !S.isExtraCoord && (!i && !u && S.ordinalMeta && (u = S), !c && S.type !== "ordinal" && S.type !== "time" && (!a || a === S.coordDim) && (c = S));
  }), c && !i && !u && (i = !0), c) {
    f = "__\0ecstackresult_" + r.id, d = "__\0ecstackedover_" + r.id, u && (u.createInvertedIndices = !0);
    var p = c.coordDim, v = c.type, y = 0;
    J(n, function(S) {
      S.coordDim === p && y++;
    });
    var _ = {
      name: f,
      coordDim: p,
      coordDimIndex: y,
      type: v,
      isExtraCoord: !0,
      isCalculationCoord: !0,
      storeDimIndex: n.length
    }, w = {
      name: d,
      // This dimension contains stack base (generally, 0), so do not set it as
      // `stackedDimCoordDim` to avoid extent calculation, consider log scale.
      coordDim: d,
      coordDimIndex: y + 1,
      type: v,
      isExtraCoord: !0,
      isCalculationCoord: !0,
      storeDimIndex: n.length + 1
    };
    o ? (s && (_.storeDimIndex = s.ensureCalculationDimension(d, v), w.storeDimIndex = s.ensureCalculationDimension(f, v)), o.appendCalculationDimension(_), o.appendCalculationDimension(w)) : (n.push(_), n.push(w));
  }
  return {
    stackedDimension: c && c.name,
    stackedByDimension: u && u.name,
    isStackedByIndex: i,
    stackedOverDimension: d,
    stackResultDimension: f
  };
}
function $1e(r) {
  return !Mq(r.schema);
}
function zu(r, e) {
  return !!e && e === r.getCalculationInfo("stackedDimension");
}
function FD(r, e) {
  return zu(r, e) ? r.getCalculationInfo("stackResultDimension") : e;
}
function Y1e(r, e) {
  var t = r.get("coordinateSystem"), i = xd.get(t), a;
  return e && e.coordSysDims && (a = Je(e.coordSysDims, function(n) {
    var o = {
      name: n
    }, s = e.axisMap.get(n);
    if (s) {
      var l = s.get("type");
      o.type = fb(l);
    }
    return o;
  })), a || (a = i && (i.getDimensionsInfo ? i.getDimensionsInfo() : i.dimensions.slice()) || ["x", "y"]), a;
}
function j1e(r, e, t) {
  var i, a;
  return t && J(r, function(n, o) {
    var s = n.coordDim, l = t.categoryAxisMap.get(s);
    l && (i == null && (i = o), n.ordinalMeta = l.getOrdinalMeta(), e && (n.createInvertedIndices = !0)), n.otherDims.itemName != null && (a = !0);
  }), !a && i != null && (r[i].otherDims.itemName = 0), i;
}
function Bl(r, e, t) {
  t = t || {};
  var i = e.getSourceManager(), a, n = !1;
  r ? (n = !0, a = _D(r)) : (a = i.getSource(), n = a.sourceFormat === Po);
  var o = W1e(e), s = Y1e(e, o), l = t.useEncodeDefaulter, u = Bt(l) ? l : l ? fr(mj, s, e) : null, c = {
    coordDimensions: s,
    generateCoord: t.generateCoord,
    encodeDefine: e.getEncode(),
    encodeDefaulter: u,
    canOmitUnusedDimensions: !n
  }, f = W0(a, c), d = j1e(f.dimensions, t.createInvertedIndices, o), p = n ? null : i.getSharedDataStore(f), v = Lq(e, {
    schema: f,
    store: p
  }), y = new Ua(f, e);
  y.setCalculationInfo(v);
  var _ = d != null && q1e(a) ? function(w, S, x, E) {
    return E === d ? x : this.defaultDimValueGetter(w, S, x, E);
  } : null;
  return y.hasItemOption = !1, y.initData(
    // Try to reuse the data store in sourceManager if using dataset.
    n ? a : p,
    null,
    _
  ), y;
}
function q1e(r) {
  if (r.sourceFormat === Po) {
    var e = X1e(r.data || []);
    return !Ke(I0(e));
  }
}
function X1e(r) {
  for (var e = 0; e < r.length && r[e] == null; )
    e++;
  return r[e];
}
function K1e(r) {
  var e = Math.pow(10, em(Math.abs(r))), t = Math.abs(r / e);
  return t === 0 || t === 1 || t === 2 || t === 3 || t === 5;
}
function S6(r) {
  return r.type === "interval" || r.type === "log";
}
function Z1e(r, e, t, i, a) {
  var n = {}, o = n.interval = R8(e / t, !0);
  i != null && o < i && (o = n.interval = i), a != null && o > a && (o = n.interval = a);
  var s = n.intervalPrecision = w1(o), l = n.niceTickExtent = [wi(Math.ceil(r[0] / o) * o, s), wi(Math.floor(r[1] / o) * o, s)];
  return J1e(l, r), n;
}
function t5(r) {
  var e = Math.pow(10, em(r)), t = r / e;
  return t ? t === 2 ? t = 3 : t === 3 ? t = 5 : t *= 2 : t = 1, wi(t * e);
}
function w1(r) {
  return ks(r) + 2;
}
function DF(r, e, t) {
  r[e] = Math.max(Math.min(r[e], t[1]), t[0]);
}
function J1e(r, e) {
  !isFinite(r[0]) && (r[0] = e[0]), !isFinite(r[1]) && (r[1] = e[1]), DF(r, 0, e), DF(r, 1, e), r[0] > r[1] && (r[0] = r[1]);
}
function ND(r, e) {
  return r >= e[0] && r <= e[1];
}
var Q1e = (
  /** @class */
  function() {
    function r() {
      this.normalize = kF, this.scale = MF;
    }
    return r.prototype.updateMethods = function(e) {
      e.hasBreaks() ? (this.normalize = mt(e.normalize, e), this.scale = mt(e.scale, e)) : (this.normalize = kF, this.scale = MF);
    }, r;
  }()
);
function kF(r, e) {
  return e[1] === e[0] ? 0.5 : (r - e[0]) / (e[1] - e[0]);
}
function MF(r, e) {
  return r * (e[1] - e[0]) + e[0];
}
function x6(r, e, t) {
  var i = Math.log(r);
  return [
    // log(negative) is NaN, so safe guard here.
    // PENDING: But even getting a -Infinity still does not make sense in extent.
    //  Just keep it as is, getting a NaN to make some previous cases works by coincidence.
    Math.log(t ? e[0] : Math.max(0, e[0])) / i,
    Math.log(t ? e[1] : Math.max(0, e[1])) / i
  ];
}
var Oq = (
  /** @class */
  function() {
    function r(e) {
      this._calculator = new Q1e(), this._setting = e || {}, this._extent = [1 / 0, -1 / 0];
      var t = Mi();
      t && (this._brkCtx = t.createScaleBreakContext(), this._brkCtx.update(this._extent));
    }
    return r.prototype.getSetting = function(e) {
      return this._setting[e];
    }, r.prototype._innerUnionExtent = function(e) {
      var t = this._extent;
      this._innerSetExtent(e[0] < t[0] ? e[0] : t[0], e[1] > t[1] ? e[1] : t[1]);
    }, r.prototype.unionExtentFromData = function(e, t) {
      this._innerUnionExtent(e.getApproximateExtent(t));
    }, r.prototype.getExtent = function() {
      return this._extent.slice();
    }, r.prototype.setExtent = function(e, t) {
      this._innerSetExtent(e, t);
    }, r.prototype._innerSetExtent = function(e, t) {
      var i = this._extent;
      isNaN(e) || (i[0] = e), isNaN(t) || (i[1] = t), this._brkCtx && this._brkCtx.update(i);
    }, r.prototype.setBreaksFromOption = function(e) {
      var t = Mi();
      t && this._innerSetBreak(t.parseAxisBreakOption(e, mt(this.parse, this)));
    }, r.prototype._innerSetBreak = function(e) {
      this._brkCtx && (this._brkCtx.setBreaks(e), this._calculator.updateMethods(this._brkCtx), this._brkCtx.update(this._extent));
    }, r.prototype._innerGetBreaks = function() {
      return this._brkCtx ? this._brkCtx.breaks : [];
    }, r.prototype.hasBreaks = function() {
      return this._brkCtx ? this._brkCtx.hasBreaks() : !1;
    }, r.prototype._getExtentSpanWithBreaks = function() {
      return this._brkCtx && this._brkCtx.hasBreaks() ? this._brkCtx.getExtentSpan() : this._extent[1] - this._extent[0];
    }, r.prototype.isInExtentRange = function(e) {
      return this._extent[0] <= e && this._extent[1] >= e;
    }, r.prototype.isBlank = function() {
      return this._isBlank;
    }, r.prototype.setBlank = function(e) {
      this._isBlank = e;
    }, r;
  }()
);
pS(Oq);
const Ed = Oq;
var eme = 0, tme = (
  /** @class */
  function() {
    function r(e) {
      this.categories = e.categories || [], this._needCollect = e.needCollect, this._deduplication = e.deduplication, this.uid = ++eme, this._onCollect = e.onCollect;
    }
    return r.createByAxisModel = function(e) {
      var t = e.option, i = t.data, a = i && Je(i, rme);
      return new r({
        categories: a,
        needCollect: !a,
        // deduplication is default in axis.
        deduplication: t.dedplication !== !1
      });
    }, r.prototype.getOrdinal = function(e) {
      return this._getOrCreateMap().get(e);
    }, r.prototype.parseAndCollect = function(e) {
      var t, i = this._needCollect;
      if (!vt(e) && !i)
        return e;
      if (i && !this._deduplication)
        return t = this.categories.length, this.categories[t] = e, this._onCollect && this._onCollect(e, t), t;
      var a = this._getOrCreateMap();
      return t = a.get(e), t == null && (i ? (t = this.categories.length, this.categories[t] = e, a.set(e, t), this._onCollect && this._onCollect(e, t)) : t = NaN), t;
    }, r.prototype._getOrCreateMap = function() {
      return this._map || (this._map = Pt(this.categories));
    }, r;
  }()
);
function rme(r) {
  return zt(r) && r.value != null ? r.value : r + "";
}
const S1 = tme;
var Fq = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t) {
      var i = r.call(this, t) || this;
      i.type = "ordinal";
      var a = i.getSetting("ordinalMeta");
      return a || (a = new S1({})), Ke(a) && (a = new S1({
        categories: Je(a, function(n) {
          return zt(n) ? n.value : n;
        })
      })), i._ordinalMeta = a, i._extent = i.getSetting("extent") || [0, a.categories.length - 1], i;
    }
    return e.prototype.parse = function(t) {
      return t == null ? NaN : vt(t) ? this._ordinalMeta.getOrdinal(t) : Math.round(t);
    }, e.prototype.contain = function(t) {
      return ND(t, this._extent) && t >= 0 && t < this._ordinalMeta.categories.length;
    }, e.prototype.normalize = function(t) {
      return t = this._getTickNumber(t), this._calculator.normalize(t, this._extent);
    }, e.prototype.scale = function(t) {
      return t = Math.round(this._calculator.scale(t, this._extent)), this.getRawOrdinalNumber(t);
    }, e.prototype.getTicks = function() {
      for (var t = [], i = this._extent, a = i[0]; a <= i[1]; )
        t.push({
          value: a
        }), a++;
      return t;
    }, e.prototype.getMinorTicks = function(t) {
    }, e.prototype.setSortInfo = function(t) {
      if (t == null) {
        this._ordinalNumbersByTick = this._ticksByOrdinalNumber = null;
        return;
      }
      for (var i = t.ordinalNumbers, a = this._ordinalNumbersByTick = [], n = this._ticksByOrdinalNumber = [], o = 0, s = this._ordinalMeta.categories.length, l = Math.min(s, i.length); o < l; ++o) {
        var u = i[o];
        a[o] = u, n[u] = o;
      }
      for (var c = 0; o < s; ++o) {
        for (; n[c] != null; )
          c++;
        a.push(c), n[c] = o;
      }
    }, e.prototype._getTickNumber = function(t) {
      var i = this._ticksByOrdinalNumber;
      return i && t >= 0 && t < i.length ? i[t] : t;
    }, e.prototype.getRawOrdinalNumber = function(t) {
      var i = this._ordinalNumbersByTick;
      return i && t >= 0 && t < i.length ? i[t] : t;
    }, e.prototype.getLabel = function(t) {
      if (!this.isBlank()) {
        var i = this.getRawOrdinalNumber(t.value), a = this._ordinalMeta.categories[i];
        return a == null ? "" : a + "";
      }
    }, e.prototype.count = function() {
      return this._extent[1] - this._extent[0] + 1;
    }, e.prototype.isInExtentRange = function(t) {
      return t = this._getTickNumber(t), this._extent[0] <= t && this._extent[1] >= t;
    }, e.prototype.getOrdinalMeta = function() {
      return this._ordinalMeta;
    }, e.prototype.calcNiceTicks = function() {
    }, e.prototype.calcNiceExtent = function() {
    }, e.type = "ordinal", e;
  }(Ed)
);
Ed.registerClass(Fq);
const x1 = Fq;
var yc = wi, Nq = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = "interval", t._interval = 0, t._intervalPrecision = 2, t;
    }
    return e.prototype.parse = function(t) {
      return t == null || t === "" ? NaN : Number(t);
    }, e.prototype.contain = function(t) {
      return ND(t, this._extent);
    }, e.prototype.normalize = function(t) {
      return this._calculator.normalize(t, this._extent);
    }, e.prototype.scale = function(t) {
      return this._calculator.scale(t, this._extent);
    }, e.prototype.getInterval = function() {
      return this._interval;
    }, e.prototype.setInterval = function(t) {
      this._interval = t, this._niceExtent = this._extent.slice(), this._intervalPrecision = w1(t);
    }, e.prototype.getTicks = function(t) {
      t = t || {};
      var i = this._interval, a = this._extent, n = this._niceExtent, o = this._intervalPrecision, s = Mi(), l = [];
      if (!i)
        return l;
      if (t.breakTicks === "only_break" && s)
        return s.addBreaksToTicks(l, this._brkCtx.breaks, this._extent), l;
      var u = 1e4;
      a[0] < n[0] && (t.expandToNicedExtent ? l.push({
        value: yc(n[0] - i, o)
      }) : l.push({
        value: a[0]
      }));
      for (var c = function(v, y) {
        return Math.round((y - v) / i);
      }, f = n[0]; f <= n[1]; ) {
        if (l.push({
          value: f
        }), f = yc(f + i, o), this._brkCtx) {
          var d = this._brkCtx.calcNiceTickMultiple(f, c);
          d >= 0 && (f = yc(f + d * i, o));
        }
        if (l.length > 0 && f === l[l.length - 1].value)
          break;
        if (l.length > u)
          return [];
      }
      var p = l.length ? l[l.length - 1].value : n[1];
      return a[1] > p && (t.expandToNicedExtent ? l.push({
        value: yc(p + i, o)
      }) : l.push({
        value: a[1]
      })), s && s.pruneTicksByBreak(t.pruneByBreak, l, this._brkCtx.breaks, function(v) {
        return v.value;
      }, this._interval, this._extent), t.breakTicks !== "none" && s && s.addBreaksToTicks(l, this._brkCtx.breaks, this._extent), l;
    }, e.prototype.getMinorTicks = function(t) {
      for (var i = this.getTicks({
        expandToNicedExtent: !0
      }), a = [], n = this.getExtent(), o = 1; o < i.length; o++) {
        var s = i[o], l = i[o - 1];
        if (!(l.break || s.break)) {
          for (var u = 0, c = [], f = s.value - l.value, d = f / t, p = w1(d); u < t - 1; ) {
            var v = yc(l.value + (u + 1) * d, p);
            v > n[0] && v < n[1] && c.push(v), u++;
          }
          var y = Mi();
          y && y.pruneTicksByBreak("auto", c, this._getNonTransBreaks(), function(_) {
            return _;
          }, this._interval, n), a.push(c);
        }
      }
      return a;
    }, e.prototype._getNonTransBreaks = function() {
      return this._brkCtx ? this._brkCtx.breaks : [];
    }, e.prototype.getLabel = function(t, i) {
      if (t == null)
        return "";
      var a = i && i.precision;
      a == null ? a = ks(t.value) || 0 : a === "auto" && (a = this._intervalPrecision);
      var n = yc(t.value, a, !0);
      return hD(n);
    }, e.prototype.calcNiceTicks = function(t, i, a) {
      t = t || 5;
      var n = this._extent.slice(), o = this._getExtentSpanWithBreaks();
      if (isFinite(o)) {
        o < 0 && (o = -o, n.reverse(), this._innerSetExtent(n[0], n[1]), n = this._extent.slice());
        var s = Z1e(n, o, t, i, a);
        this._intervalPrecision = s.intervalPrecision, this._interval = s.interval, this._niceExtent = s.niceTickExtent;
      }
    }, e.prototype.calcNiceExtent = function(t) {
      var i = this._extent.slice();
      if (i[0] === i[1])
        if (i[0] !== 0) {
          var a = Math.abs(i[0]);
          t.fixMax || (i[1] += a / 2), i[0] -= a / 2;
        } else
          i[1] = 1;
      var n = i[1] - i[0];
      isFinite(n) || (i[0] = 0, i[1] = 1), this._innerSetExtent(i[0], i[1]), i = this._extent.slice(), this.calcNiceTicks(t.splitNumber, t.minInterval, t.maxInterval);
      var o = this._interval, s = this._intervalPrecision;
      t.fixMin || (i[0] = yc(Math.floor(i[0] / o) * o, s)), t.fixMax || (i[1] = yc(Math.ceil(i[1] / o) * o, s)), this._innerSetExtent(i[0], i[1]);
    }, e.prototype.setNiceExtent = function(t, i) {
      this._niceExtent = [t, i];
    }, e.type = "interval", e;
  }(Ed)
);
Ed.registerClass(Nq);
const Jc = Nq;
var Bq = typeof Float32Array < "u", nme = Bq ? Float32Array : Array;
function xl(r) {
  return Ke(r) ? Bq ? new Float32Array(r) : r : new nme(r);
}
var T6 = "__ec_stack_";
function BD(r) {
  return r.get("stack") || T6 + r.seriesIndex;
}
function VD(r) {
  return r.dim + r.index;
}
function ime(r) {
  var e = [], t = r.axis, i = "axis0";
  if (t.type === "category") {
    for (var a = t.getBandWidth(), n = 0; n < r.count; n++)
      e.push(Yt({
        bandWidth: a,
        axisKey: i,
        stackId: T6 + n
      }, r));
    for (var o = Gq(e), s = [], n = 0; n < r.count; n++) {
      var l = o[i][T6 + n];
      l.offsetCenter = l.offset + l.width / 2, s.push(l);
    }
    return s;
  }
}
function Vq(r, e) {
  var t = [];
  return e.eachSeriesByType(r, function(i) {
    Hq(i) && t.push(i);
  }), t;
}
function ame(r) {
  var e = {};
  J(r, function(l) {
    var u = l.coordinateSystem, c = u.getBaseAxis();
    if (!(c.type !== "time" && c.type !== "value"))
      for (var f = l.getData(), d = c.dim + "_" + c.index, p = f.getDimensionIndex(f.mapDimension(c.dim)), v = f.getStore(), y = 0, _ = v.count(); y < _; ++y) {
        var w = v.get(p, y);
        e[d] ? e[d].push(w) : e[d] = [w];
      }
  });
  var t = {};
  for (var i in e)
    if (e.hasOwnProperty(i)) {
      var a = e[i];
      if (a) {
        a.sort(function(l, u) {
          return l - u;
        });
        for (var n = null, o = 1; o < a.length; ++o) {
          var s = a[o] - a[o - 1];
          s > 0 && (n = n === null ? s : Math.min(n, s));
        }
        t[i] = n;
      }
    }
  return t;
}
function Uq(r) {
  var e = ame(r), t = [];
  return J(r, function(i) {
    var a = i.coordinateSystem, n = a.getBaseAxis(), o = n.getExtent(), s;
    if (n.type === "category")
      s = n.getBandWidth();
    else if (n.type === "value" || n.type === "time") {
      var l = n.dim + "_" + n.index, u = e[l], c = Math.abs(o[1] - o[0]), f = n.scale.getExtent(), d = Math.abs(f[1] - f[0]);
      s = u ? c / d * u : c;
    } else {
      var p = i.getData();
      s = Math.abs(o[1] - o[0]) / p.count();
    }
    var v = gt(i.get("barWidth"), s), y = gt(i.get("barMaxWidth"), s), _ = gt(
      // barMinWidth by default is 0.5 / 1 in cartesian. Because in value axis,
      // the auto-calculated bar width might be less than 0.5 / 1.
      i.get("barMinWidth") || ($q(i) ? 0.5 : 1),
      s
    ), w = i.get("barGap"), S = i.get("barCategoryGap"), x = i.get("defaultBarGap");
    t.push({
      bandWidth: s,
      barWidth: v,
      barMaxWidth: y,
      barMinWidth: _,
      barGap: w,
      barCategoryGap: S,
      defaultBarGap: x,
      axisKey: VD(n),
      stackId: BD(i)
    });
  }), Gq(t);
}
function Gq(r) {
  var e = {};
  J(r, function(i, a) {
    var n = i.axisKey, o = i.bandWidth, s = e[n] || {
      bandWidth: o,
      remainedWidth: o,
      autoWidthCount: 0,
      categoryGap: null,
      gap: i.defaultBarGap || 0,
      stacks: {}
    }, l = s.stacks;
    e[n] = s;
    var u = i.stackId;
    l[u] || s.autoWidthCount++, l[u] = l[u] || {
      width: 0,
      maxWidth: 0
    };
    var c = i.barWidth;
    c && !l[u].width && (l[u].width = c, c = Math.min(s.remainedWidth, c), s.remainedWidth -= c);
    var f = i.barMaxWidth;
    f && (l[u].maxWidth = f);
    var d = i.barMinWidth;
    d && (l[u].minWidth = d);
    var p = i.barGap;
    p != null && (s.gap = p);
    var v = i.barCategoryGap;
    v != null && (s.categoryGap = v);
  });
  var t = {};
  return J(e, function(i, a) {
    t[a] = {};
    var n = i.stacks, o = i.bandWidth, s = i.categoryGap;
    if (s == null) {
      var l = Ir(n).length;
      s = Math.max(35 - l * 4, 15) + "%";
    }
    var u = gt(s, o), c = gt(i.gap, 1), f = i.remainedWidth, d = i.autoWidthCount, p = (f - u) / (d + (d - 1) * c);
    p = Math.max(p, 0), J(n, function(w) {
      var S = w.maxWidth, x = w.minWidth;
      if (w.width) {
        var E = w.width;
        S && (E = Math.min(E, S)), x && (E = Math.max(E, x)), w.width = E, f -= E + c * E, d--;
      } else {
        var E = p;
        S && S < E && (E = Math.min(S, f)), x && x > E && (E = x), E !== p && (w.width = E, f -= E + c * E, d--);
      }
    }), p = (f - u) / (d + (d - 1) * c), p = Math.max(p, 0);
    var v = 0, y;
    J(n, function(w, S) {
      w.width || (w.width = p), y = w, v += w.width * (1 + c);
    }), y && (v -= y.width * c);
    var _ = -v / 2;
    J(n, function(w, S) {
      t[a][S] = t[a][S] || {
        bandWidth: o,
        offset: _,
        width: w.width
      }, _ += w.width * (1 + c);
    });
  }), t;
}
function ome(r, e, t) {
  if (r && e) {
    var i = r[VD(e)];
    return i != null && t != null ? i[BD(t)] : i;
  }
}
function zq(r, e) {
  var t = Vq(r, e), i = Uq(t);
  J(t, function(a) {
    var n = a.getData(), o = a.coordinateSystem, s = o.getBaseAxis(), l = BD(a), u = i[VD(s)][l], c = u.offset, f = u.width;
    n.setLayout({
      bandWidth: u.bandWidth,
      offset: c,
      size: f
    });
  });
}
function Wq(r) {
  return {
    seriesType: r,
    plan: U0(),
    reset: function(e) {
      if (Hq(e)) {
        var t = e.getData(), i = e.coordinateSystem, a = i.getBaseAxis(), n = i.getOtherAxis(a), o = t.getDimensionIndex(t.mapDimension(n.dim)), s = t.getDimensionIndex(t.mapDimension(a.dim)), l = e.get("showBackground", !0), u = t.mapDimension(n.dim), c = t.getCalculationInfo("stackResultDimension"), f = zu(t, u) && !!t.getCalculationInfo("stackedOnSeries"), d = n.isHorizontal(), p = sme(a, n), v = $q(e), y = e.get("barMinHeight") || 0, _ = c && t.getDimensionIndex(c), w = t.getLayout("size"), S = t.getLayout("offset");
        return {
          progress: function(x, E) {
            for (var M = x.count, k = v && xl(M * 3), P = v && l && xl(M * 3), L = v && xl(M), F = i.master.getRect(), O = d ? F.width : F.height, U, V = E.getStore(), G = 0; (U = x.next()) != null; ) {
              var Z = V.get(f ? _ : o, U), Q = V.get(s, U), se = p, de = void 0;
              f && (de = +Z - V.get(o, U));
              var le = void 0, Se = void 0, he = void 0, fe = void 0;
              if (d) {
                var K = i.dataToPoint([Z, Q]);
                if (f) {
                  var we = i.dataToPoint([de, Q]);
                  se = we[0];
                }
                le = se, Se = K[1] + S, he = K[0] - se, fe = w, Math.abs(he) < y && (he = (he < 0 ? -1 : 1) * y);
              } else {
                var K = i.dataToPoint([Q, Z]);
                if (f) {
                  var we = i.dataToPoint([Q, de]);
                  se = we[1];
                }
                le = K[0] + S, Se = se, he = w, fe = K[1] - se, Math.abs(fe) < y && (fe = (fe <= 0 ? -1 : 1) * y);
              }
              v ? (k[G] = le, k[G + 1] = Se, k[G + 2] = d ? he : fe, P && (P[G] = d ? F.x : le, P[G + 1] = d ? Se : F.y, P[G + 2] = O), L[U] = U) : E.setItemLayout(U, {
                x: le,
                y: Se,
                width: he,
                height: fe
              }), G += 3;
            }
            v && E.setLayout({
              largePoints: k,
              largeDataIndices: L,
              largeBackgroundPoints: P,
              valueAxisHorizontal: d
            });
          }
        };
      }
    }
  };
}
function Hq(r) {
  return r.coordinateSystem && r.coordinateSystem.type === "cartesian2d";
}
function $q(r) {
  return r.pipelineContext && r.pipelineContext.large;
}
function sme(r, e) {
  var t = e.model.get("startValue");
  return t || (t = 0), e.toGlobalCoord(e.dataToCoord(e.type === "log" ? t > 0 ? t : 1 : t));
}
var lme = function(r, e, t, i) {
  for (; t < i; ) {
    var a = t + i >>> 1;
    r[a][1] < e ? t = a + 1 : i = a;
  }
  return t;
}, Yq = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t) {
      var i = r.call(this, t) || this;
      return i.type = "time", i;
    }
    return e.prototype.getLabel = function(t) {
      var i = this.getSetting("useUTC");
      return om(t.value, wO[v0e(qg(this._minLevelUnit))] || wO.second, i, this.getSetting("locale"));
    }, e.prototype.getFormattedLabel = function(t, i, a) {
      var n = this.getSetting("useUTC"), o = this.getSetting("locale");
      return g0e(t, i, a, o, n);
    }, e.prototype.getTicks = function(t) {
      t = t || {};
      var i = this._interval, a = this._extent, n = Mi(), o = [];
      if (!i)
        return o;
      var s = this.getSetting("useUTC");
      if (n && t.breakTicks === "only_break")
        return Mi().addBreaksToTicks(o, this._brkCtx.breaks, this._extent), o;
      var l = Gp(a[1], s);
      o.push({
        value: a[0],
        time: {
          level: 0,
          upperTimeUnit: l,
          lowerTimeUnit: l
        }
      });
      var u = vme(this._minLevelUnit, this._approxInterval, s, a, this._getExtentSpanWithBreaks(), this._brkCtx);
      o = o.concat(u);
      var c = Gp(a[1], s);
      o.push({
        value: a[1],
        time: {
          level: 0,
          upperTimeUnit: c,
          lowerTimeUnit: c
        }
      });
      var f = this.getSetting("useUTC"), d = So.length - 1, p = 0;
      return J(o, function(v) {
        d = Math.min(d, dr(So, v.time.upperTimeUnit)), p = Math.max(p, v.time.level);
      }), n && Mi().pruneTicksByBreak(t.pruneByBreak, o, this._brkCtx.breaks, function(v) {
        return v.value;
      }, this._approxInterval, this._extent), n && t.breakTicks !== "none" && Mi().addBreaksToTicks(o, this._brkCtx.breaks, this._extent, function(v) {
        for (var y = Math.max(dr(So, Gp(v.vmin, f)), dr(So, Gp(v.vmax, f))), _ = 0, w = 0; w < So.length; w++)
          if (!jq(So[w], v.vmin, v.vmax, f)) {
            _ = w;
            break;
          }
        var S = Math.min(_, d), x = Math.max(S, y);
        return {
          level: p,
          lowerTimeUnit: So[x],
          upperTimeUnit: So[S]
        };
      }), o;
    }, e.prototype.calcNiceExtent = function(t) {
      var i = this.getExtent();
      if (i[0] === i[1] && (i[0] -= is, i[1] += is), i[1] === -1 / 0 && i[0] === 1 / 0) {
        var a = /* @__PURE__ */ new Date();
        i[1] = +new Date(a.getFullYear(), a.getMonth(), a.getDate()), i[0] = i[1] - is;
      }
      this._innerSetExtent(i[0], i[1]), this.calcNiceTicks(t.splitNumber, t.minInterval, t.maxInterval);
    }, e.prototype.calcNiceTicks = function(t, i, a) {
      t = t || 10;
      var n = this._getExtentSpanWithBreaks();
      this._approxInterval = n / t, i != null && this._approxInterval < i && (this._approxInterval = i), a != null && this._approxInterval > a && (this._approxInterval = a);
      var o = Zy.length, s = Math.min(lme(Zy, this._approxInterval, 0, o), o - 1);
      this._interval = Zy[s][1], this._intervalPrecision = w1(this._interval), this._minLevelUnit = Zy[Math.max(s - 1, 0)][0];
    }, e.prototype.parse = function(t) {
      return Or(t) ? t : +Nl(t);
    }, e.prototype.contain = function(t) {
      return ND(t, this._extent);
    }, e.prototype.normalize = function(t) {
      return this._calculator.normalize(t, this._extent);
    }, e.prototype.scale = function(t) {
      return this._calculator.scale(t, this._extent);
    }, e.type = "time", e;
  }(Jc)
), Zy = [
  // Format                           interval
  ["second", nD],
  ["minute", iD],
  ["hour", jg],
  ["quarter-day", jg * 6],
  ["half-day", jg * 12],
  ["day", is * 1.2],
  ["half-week", is * 3.5],
  ["week", is * 7],
  ["month", is * 31],
  ["quarter", is * 95],
  ["half-year", bO / 2],
  ["year", bO]
  // 1Y
];
function jq(r, e, t, i) {
  return Z_(new Date(e), r, i).getTime() === Z_(new Date(t), r, i).getTime();
}
function ume(r, e) {
  return r /= is, r > 16 ? 16 : r > 7.5 ? 7 : r > 3.5 ? 4 : r > 1.5 ? 2 : 1;
}
function cme(r) {
  var e = 30 * is;
  return r /= e, r > 6 ? 6 : r > 3 ? 3 : r > 2 ? 2 : 1;
}
function hme(r) {
  return r /= jg, r > 12 ? 12 : r > 6 ? 6 : r > 3.5 ? 4 : r > 2 ? 2 : 1;
}
function IF(r, e) {
  return r /= e ? iD : nD, r > 30 ? 30 : r > 20 ? 20 : r > 15 ? 15 : r > 10 ? 10 : r > 5 ? 5 : r > 2 ? 2 : 1;
}
function fme(r) {
  return R8(r, !0);
}
function dme(r, e, t) {
  var i = Math.max(0, dr(So, e) - 1);
  return Z_(new Date(r), So[i], t).getTime();
}
function pme(r, e) {
  var t = /* @__PURE__ */ new Date(0);
  t[r](1);
  var i = t.getTime();
  t[r](1 + e);
  var a = t.getTime() - i;
  return function(n, o) {
    return Math.max(0, Math.round((o - n) / a));
  };
}
function vme(r, e, t, i, a, n) {
  var o = 1e4, s = h0e, l = 0;
  function u(G, Z, Q, se, de, le, Se) {
    for (var he = pme(de, G), fe = Z, K = new Date(fe); fe < Q && fe <= i[1]; ) {
      if (Se.push({
        value: fe
      }), l++ > o) {
        process.env.NODE_ENV !== "production" && Yn("Exceed safe limit in time scale.");
        break;
      }
      if (K[de](K[se]() + G), fe = K.getTime(), n) {
        var we = n.calcNiceTickMultiple(fe, he);
        we > 0 && (K[de](K[se]() + we * G), fe = K.getTime());
      }
    }
    Se.push({
      value: fe,
      notAdd: !0
    });
  }
  function c(G, Z, Q) {
    var se = [], de = !Z.length;
    if (!jq(qg(G), i[0], i[1], t)) {
      de && (Z = [{
        value: dme(i[0], G, t)
      }, {
        value: i[1]
      }]);
      for (var le = 0; le < Z.length - 1; le++) {
        var Se = Z[le].value, he = Z[le + 1].value;
        if (Se !== he) {
          var fe = void 0, K = void 0, we = void 0, ve = !1;
          switch (G) {
            case "year":
              fe = Math.max(1, Math.round(e / is / 365)), K = JY(t), we = m0e(t);
              break;
            case "half-year":
            case "quarter":
            case "month":
              fe = cme(e), K = aD(t), we = QY(t);
              break;
            case "week":
            case "half-week":
            case "day":
              fe = ume(e), K = oD(t), we = ej(t), ve = !0;
              break;
            case "half-day":
            case "quarter-day":
            case "hour":
              fe = hme(e), K = sD(t), we = tj(t);
              break;
            case "minute":
              fe = IF(e, !0), K = lD(t), we = rj(t);
              break;
            case "second":
              fe = IF(e, !1), K = uD(t), we = nj(t);
              break;
            case "millisecond":
              fe = fme(e), K = cD(t), we = ij(t);
              break;
          }
          he >= i[0] && Se <= i[1] && u(fe, Se, he, K, we, ve, se), G === "year" && Q.length > 1 && le === 0 && Q.unshift({
            value: Q[0].value - fe
          });
        }
      }
      for (var le = 0; le < se.length; le++)
        Q.push(se[le]);
    }
  }
  for (var f = [], d = [], p = 0, v = 0, y = 0; y < s.length; ++y) {
    var _ = qg(s[y]);
    if (p0e(s[y])) {
      c(s[y], f[f.length - 1] || [], d);
      var w = s[y + 1] ? qg(s[y + 1]) : null;
      if (_ !== w) {
        if (d.length) {
          v = p, d.sort(function(G, Z) {
            return G.value - Z.value;
          });
          for (var S = [], x = 0; x < d.length; ++x) {
            var E = d[x].value;
            (x === 0 || d[x - 1].value !== E) && (S.push(d[x]), E >= i[0] && E <= i[1] && p++);
          }
          var M = a / e;
          if (p > M * 1.5 && v > M / 1.5 || (f.push(S), p > M || r === s[y]))
            break;
        }
        d = [];
      }
    }
  }
  for (var k = Xr(Je(f, function(G) {
    return Xr(G, function(Z) {
      return Z.value >= i[0] && Z.value <= i[1] && !Z.notAdd;
    });
  }), function(G) {
    return G.length > 0;
  }), P = [], L = k.length - 1, y = 0; y < k.length; ++y)
    for (var F = k[y], O = 0; O < F.length; ++O) {
      var U = Gp(F[O].value, t);
      P.push({
        value: F[O].value,
        time: {
          level: L - y,
          upperTimeUnit: U,
          lowerTimeUnit: U
        }
      });
    }
  P.sort(function(G, Z) {
    return G.value - Z.value;
  });
  for (var V = [], y = 0; y < P.length; ++y)
    (y === 0 || P[y].value !== P[y - 1].value) && V.push(P[y]);
  return V;
}
Ed.registerClass(Yq);
const qq = Yq;
var C6 = wi, gme = Math.floor, mme = Math.ceil, Jy = Math.pow, Qy = Math.log, Xq = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = "log", t.base = 10, t._originalScale = new Jc(), t;
    }
    return e.prototype.getTicks = function(t) {
      t = t || {};
      var i = this._extent.slice(), a = this._originalScale.getExtent(), n = r.prototype.getTicks.call(this, t), o = this.base, s = this._originalScale._innerGetBreaks(), l = Mi();
      return Je(n, function(u) {
        var c = u.value, f = null, d = Jy(o, c);
        c === i[0] && this._fixMin ? f = a[0] : c === i[1] && this._fixMax && (f = a[1]);
        var p;
        if (l) {
          var v = l.getTicksLogTransformBreak(u, o, s, e2);
          p = v.vBreak, f == null && (f = v.brkRoundingCriterion);
        }
        return f != null && (d = e2(d, f)), {
          value: d,
          break: p
        };
      }, this);
    }, e.prototype._getNonTransBreaks = function() {
      return this._originalScale._innerGetBreaks();
    }, e.prototype.setExtent = function(t, i) {
      this._originalScale.setExtent(t, i);
      var a = x6(this.base, [t, i]);
      r.prototype.setExtent.call(this, a[0], a[1]);
    }, e.prototype.getExtent = function() {
      var t = this.base, i = r.prototype.getExtent.call(this);
      i[0] = Jy(t, i[0]), i[1] = Jy(t, i[1]);
      var a = this._originalScale.getExtent();
      return this._fixMin && (i[0] = e2(i[0], a[0])), this._fixMax && (i[1] = e2(i[1], a[1])), i;
    }, e.prototype.unionExtentFromData = function(t, i) {
      this._originalScale.unionExtentFromData(t, i);
      var a = x6(this.base, t.getApproximateExtent(i), !0);
      this._innerUnionExtent(a);
    }, e.prototype.calcNiceTicks = function(t) {
      t = t || 10;
      var i = this._extent.slice(), a = this._getExtentSpanWithBreaks();
      if (!(!isFinite(a) || a <= 0)) {
        var n = B$(a), o = t / a * n;
        for (o <= 0.5 && (n *= 10); !isNaN(n) && Math.abs(n) < 1 && Math.abs(n) > 0; )
          n *= 10;
        var s = [C6(mme(i[0] / n) * n), C6(gme(i[1] / n) * n)];
        this._interval = n, this._intervalPrecision = w1(n), this._niceExtent = s;
      }
    }, e.prototype.calcNiceExtent = function(t) {
      r.prototype.calcNiceExtent.call(this, t), this._fixMin = t.fixMin, this._fixMax = t.fixMax;
    }, e.prototype.contain = function(t) {
      return t = Qy(t) / Qy(this.base), r.prototype.contain.call(this, t);
    }, e.prototype.normalize = function(t) {
      return t = Qy(t) / Qy(this.base), r.prototype.normalize.call(this, t);
    }, e.prototype.scale = function(t) {
      return t = r.prototype.scale.call(this, t), Jy(this.base, t);
    }, e.prototype.setBreaksFromOption = function(t) {
      var i = Mi();
      if (i) {
        var a = i.logarithmicParseBreaksFromOption(t, this.base, mt(this.parse, this)), n = a.parsedOriginal, o = a.parsedLogged;
        this._originalScale._innerSetBreak(n), this._innerSetBreak(o);
      }
    }, e.type = "log", e;
  }(Jc)
);
function e2(r, e) {
  return C6(r, ks(e));
}
Ed.registerClass(Xq);
const yme = Xq;
var _me = (
  /** @class */
  function() {
    function r(e, t, i) {
      this._prepareParams(e, t, i);
    }
    return r.prototype._prepareParams = function(e, t, i) {
      i[1] < i[0] && (i = [NaN, NaN]), this._dataMin = i[0], this._dataMax = i[1];
      var a = this._isOrdinal = e.type === "ordinal";
      this._needCrossZero = e.type === "interval" && t.getNeedCrossZero && t.getNeedCrossZero();
      var n = t.get("min", !0);
      n == null && (n = t.get("startValue", !0));
      var o = this._modelMinRaw = n;
      Bt(o) ? this._modelMinNum = t2(e, o({
        min: i[0],
        max: i[1]
      })) : o !== "dataMin" && (this._modelMinNum = t2(e, o));
      var s = this._modelMaxRaw = t.get("max", !0);
      if (Bt(s) ? this._modelMaxNum = t2(e, s({
        min: i[0],
        max: i[1]
      })) : s !== "dataMax" && (this._modelMaxNum = t2(e, s)), a)
        this._axisDataLen = t.getCategories().length;
      else {
        var l = t.get("boundaryGap"), u = Ke(l) ? l : [l || 0, l || 0];
        typeof u[0] == "boolean" || typeof u[1] == "boolean" ? (process.env.NODE_ENV !== "production" && console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'), this._boundaryGapInner = [0, 0]) : this._boundaryGapInner = [Vs(u[0], 1), Vs(u[1], 1)];
      }
    }, r.prototype.calculate = function() {
      var e = this._isOrdinal, t = this._dataMin, i = this._dataMax, a = this._axisDataLen, n = this._boundaryGapInner, o = e ? null : i - t || Math.abs(t), s = this._modelMinRaw === "dataMin" ? t : this._modelMinNum, l = this._modelMaxRaw === "dataMax" ? i : this._modelMaxNum, u = s != null, c = l != null;
      s == null && (s = e ? a ? 0 : NaN : t - n[0] * o), l == null && (l = e ? a ? a - 1 : NaN : i + n[1] * o), (s == null || !isFinite(s)) && (s = NaN), (l == null || !isFinite(l)) && (l = NaN);
      var f = Zi(s) || Zi(l) || e && !a;
      this._needCrossZero && (s > 0 && l > 0 && !u && (s = 0), s < 0 && l < 0 && !c && (l = 0));
      var d = this._determinedMin, p = this._determinedMax;
      return d != null && (s = d, u = !0), p != null && (l = p, c = !0), {
        min: s,
        max: l,
        minFixed: u,
        maxFixed: c,
        isBlank: f
      };
    }, r.prototype.modifyDataMinMax = function(e, t) {
      process.env.NODE_ENV !== "production" && kt(!this.frozen), this[wme[e]] = t;
    }, r.prototype.setDeterminedMinMax = function(e, t) {
      var i = bme[e];
      process.env.NODE_ENV !== "production" && kt(!this.frozen && this[i] == null), this[i] = t;
    }, r.prototype.freeze = function() {
      this.frozen = !0;
    }, r;
  }()
), bme = {
  min: "_determinedMin",
  max: "_determinedMax"
}, wme = {
  min: "_dataMin",
  max: "_dataMax"
};
function Kq(r, e, t) {
  var i = r.rawExtentInfo;
  return i || (i = new _me(r, e, t), r.rawExtentInfo = i, i);
}
function t2(r, e) {
  return e == null ? null : Zi(e) ? NaN : r.parse(e);
}
function Zq(r, e) {
  var t = r.type, i = Kq(r, e, r.getExtent()).calculate();
  r.setBlank(i.isBlank);
  var a = i.min, n = i.max, o = e.ecModel;
  if (o && t === "time") {
    var s = Vq("bar", o), l = !1;
    if (J(s, function(f) {
      l = l || f.getBaseAxis() === e.axis;
    }), l) {
      var u = Uq(s), c = Sme(a, n, e, u);
      a = c.min, n = c.max;
    }
  }
  return {
    extent: [a, n],
    // "fix" means "fixed", the value should not be
    // changed in the subsequent steps.
    fixMin: i.minFixed,
    fixMax: i.maxFixed
  };
}
function Sme(r, e, t, i) {
  var a = t.axis.getExtent(), n = Math.abs(a[1] - a[0]), o = ome(i, t.axis);
  if (o === void 0)
    return {
      min: r,
      max: e
    };
  var s = 1 / 0;
  J(o, function(p) {
    s = Math.min(p.offset, s);
  });
  var l = -1 / 0;
  J(o, function(p) {
    l = Math.max(p.offset + p.width, l);
  }), s = Math.abs(s), l = Math.abs(l);
  var u = s + l, c = e - r, f = 1 - (s + l) / n, d = c / f - c;
  return e += d * (l / u), r -= d * (s / u), {
    min: r,
    max: e
  };
}
function id(r, e) {
  var t = e, i = Zq(r, t), a = i.extent, n = t.get("splitNumber");
  r instanceof yme && (r.base = t.get("logBase"));
  var o = r.type, s = t.get("interval"), l = o === "interval" || o === "time";
  r.setBreaksFromOption(Qq(t)), r.setExtent(a[0], a[1]), r.calcNiceExtent({
    splitNumber: n,
    fixMin: i.fixMin,
    fixMax: i.fixMax,
    minInterval: l ? t.get("minInterval") : null,
    maxInterval: l ? t.get("maxInterval") : null
  }), s != null && r.setInterval && r.setInterval(s);
}
function um(r, e) {
  if (e = e || r.get("type"), e)
    switch (e) {
      case "category":
        return new x1({
          ordinalMeta: r.getOrdinalMeta ? r.getOrdinalMeta() : r.getCategories(),
          extent: [1 / 0, -1 / 0]
        });
      case "time":
        return new qq({
          locale: r.ecModel.getLocaleModel(),
          useUTC: r.ecModel.get("useUTC")
        });
      default:
        return new (Ed.getClass(e) || Jc)();
    }
}
function xme(r) {
  var e = r.scale.getExtent(), t = e[0], i = e[1];
  return !(t > 0 && i > 0 || t < 0 && i < 0);
}
function H0(r) {
  var e = r.getLabelModel().get("formatter");
  if (r.type === "time") {
    var t = f0e(e);
    return function(a, n) {
      return r.scale.getFormattedLabel(a, n, t);
    };
  } else {
    if (vt(e))
      return function(a) {
        var n = r.scale.getLabel(a), o = e.replace("{value}", n ?? "");
        return o;
      };
    if (Bt(e)) {
      if (r.type === "category")
        return function(a, n) {
          return e(
            db(r, a),
            a.value - r.scale.getExtent()[0],
            null
            // Using `null` just for backward compat.
          );
        };
      var i = Mi();
      return function(a, n) {
        var o = null;
        return i && (o = i.makeAxisLabelFormatterParamBreak(o, a.break)), e(db(r, a), n, o);
      };
    } else
      return function(a) {
        return r.scale.getLabel(a);
      };
  }
}
function db(r, e) {
  return r.type === "category" ? r.scale.getLabel(e) : e.value;
}
function UD(r) {
  var e = r.get("interval");
  return e ?? "auto";
}
function Jq(r) {
  return r.type === "category" && UD(r.getLabelModel()) === 0;
}
function pb(r, e) {
  var t = {};
  return J(r.mapDimensionsAll(e), function(i) {
    t[FD(r, i)] = !0;
  }), Ir(t);
}
function Tme(r, e, t) {
  e && J(pb(e, t), function(i) {
    var a = e.getApproximateExtent(i);
    a[0] < r[0] && (r[0] = a[0]), a[1] > r[1] && (r[1] = a[1]);
  });
}
function f0(r) {
  return r === "middle" || r === "center";
}
function T1(r) {
  return r.getShallow("show");
}
function Qq(r) {
  var e = r.get("breaks", !0);
  if (e != null) {
    if (!Mi()) {
      process.env.NODE_ENV !== "production" && Nr('Must `import {AxisBreak} from "echarts/features.js"; use(AxisBreak);` first if using breaks option.');
      return;
    }
    if (!Cme(r.axis)) {
      process.env.NODE_ENV !== "production" && Nr("Axis '" + r.axis.dim + "'-'" + r.axis.type + "' does not support break.");
      return;
    }
    return e;
  }
}
function Cme(r) {
  return (r.dim === "x" || r.dim === "y" || r.dim === "z" || r.dim === "single") && r.type !== "category";
}
var $0 = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.getNeedCrossZero = function() {
      var e = this.option;
      return !e.scale;
    }, r.prototype.getCoordSysModel = function() {
    }, r;
  }()
);
function Ame(r) {
  return Bl(null, r);
}
var Eme = {
  isDimensionStacked: zu,
  enableDataStack: Lq,
  getStackedDimension: FD
};
function Dme(r, e) {
  var t = e;
  e instanceof Vr || (t = new Vr(e));
  var i = um(t);
  return i.setExtent(r[0], r[1]), id(i, t), i;
}
function kme(r) {
  ci(r, $0);
}
function Mme(r, e) {
  return e = e || {}, Sn(r, null, null, e.state !== "normal");
}
const Ime = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  createDimensions: B1e,
  createList: Ame,
  createScale: Dme,
  createSymbol: Si,
  createTextStyle: Mme,
  dataStack: Eme,
  enableHoverEmphasis: zc,
  getECData: er,
  getLayoutRect: Bn,
  mixinAxisModelCommonMethods: kme
}, Symbol.toStringTag, { value: "Module" }));
var Pme = 1e-8;
function PF(r, e) {
  return Math.abs(r - e) < Pme;
}
function Sf(r, e, t) {
  var i = 0, a = r[0];
  if (!a)
    return !1;
  for (var n = 1; n < r.length; n++) {
    var o = r[n];
    i += uu(a[0], a[1], o[0], o[1], e, t), a = o;
  }
  var s = r[0];
  return (!PF(a[0], s[0]) || !PF(a[1], s[1])) && (i += uu(a[0], a[1], s[0], s[1], e, t)), i !== 0;
}
var Rme = [];
function r5(r, e) {
  for (var t = 0; t < r.length; t++)
    li(r[t], r[t], e);
}
function RF(r, e, t, i) {
  for (var a = 0; a < r.length; a++) {
    var n = r[a];
    i && (n = i.project(n)), n && isFinite(n[0]) && isFinite(n[1]) && (mu(e, e, n), yu(t, t, n));
  }
}
function Lme(r) {
  for (var e = 0, t = 0, i = 0, a = r.length, n = r[a - 1][0], o = r[a - 1][1], s = 0; s < a; s++) {
    var l = r[s][0], u = r[s][1], c = n * u - l * o;
    e += c, t += (n + l) * c, i += (o + u) * c, n = l, o = u;
  }
  return e ? [t / e / 3, i / e / 3, e] : [r[0][0] || 0, r[0][1] || 0];
}
var eX = (
  /** @class */
  function() {
    function r(e) {
      this.name = e;
    }
    return r.prototype.setCenter = function(e) {
      this._center = e;
    }, r.prototype.getCenter = function() {
      var e = this._center;
      return e || (e = this._center = this.calcCenter()), e;
    }, r;
  }()
), LF = (
  /** @class */
  function() {
    function r(e, t) {
      this.type = "polygon", this.exterior = e, this.interiors = t;
    }
    return r;
  }()
), OF = (
  /** @class */
  function() {
    function r(e) {
      this.type = "linestring", this.points = e;
    }
    return r;
  }()
), tX = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i, a) {
      var n = r.call(this, t) || this;
      return n.type = "geoJSON", n.geometries = i, n._center = a && [a[0], a[1]], n;
    }
    return e.prototype.calcCenter = function() {
      for (var t = this.geometries, i, a = 0, n = 0; n < t.length; n++) {
        var o = t[n], s = o.exterior, l = s && s.length;
        l > a && (i = o, a = l);
      }
      if (i)
        return Lme(i.exterior);
      var u = this.getBoundingRect();
      return [u.x + u.width / 2, u.y + u.height / 2];
    }, e.prototype.getBoundingRect = function(t) {
      var i = this._rect;
      if (i && !t)
        return i;
      var a = [1 / 0, 1 / 0], n = [-1 / 0, -1 / 0], o = this.geometries;
      return J(o, function(s) {
        s.type === "polygon" ? RF(s.exterior, a, n, t) : J(s.points, function(l) {
          RF(l, a, n, t);
        });
      }), isFinite(a[0]) && isFinite(a[1]) && isFinite(n[0]) && isFinite(n[1]) || (a[0] = a[1] = n[0] = n[1] = 0), i = new Jt(a[0], a[1], n[0] - a[0], n[1] - a[1]), t || (this._rect = i), i;
    }, e.prototype.contain = function(t) {
      var i = this.getBoundingRect(), a = this.geometries;
      if (!i.contain(t[0], t[1]))
        return !1;
      e:
        for (var n = 0, o = a.length; n < o; n++) {
          var s = a[n];
          if (s.type === "polygon") {
            var l = s.exterior, u = s.interiors;
            if (Sf(l, t[0], t[1])) {
              for (var c = 0; c < (u ? u.length : 0); c++)
                if (Sf(u[c], t[0], t[1]))
                  continue e;
              return !0;
            }
          }
        }
      return !1;
    }, e.prototype.transformTo = function(t, i, a, n) {
      var o = this.getBoundingRect(), s = o.width / o.height;
      a ? n || (n = a / s) : a = s * n;
      for (var l = new Jt(t, i, a, n), u = o.calculateTransform(l), c = this.geometries, f = 0; f < c.length; f++) {
        var d = c[f];
        d.type === "polygon" ? (r5(d.exterior, u), J(d.interiors, function(p) {
          r5(p, u);
        })) : J(d.points, function(p) {
          r5(p, u);
        });
      }
      o = this._rect, o.copy(l), this._center = [o.x + o.width / 2, o.y + o.height / 2];
    }, e.prototype.cloneShallow = function(t) {
      t == null && (t = this.name);
      var i = new e(t, this.geometries, this._center);
      return i._rect = this._rect, i.transformTo = null, i;
    }, e;
  }(eX)
), Ome = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i) {
      var a = r.call(this, t) || this;
      return a.type = "geoSVG", a._elOnlyForCalculate = i, a;
    }
    return e.prototype.calcCenter = function() {
      for (var t = this._elOnlyForCalculate, i = t.getBoundingRect(), a = [i.x + i.width / 2, i.y + i.height / 2], n = Z1(Rme), o = t; o && !o.isGeoSVGGraphicRoot; )
        Ls(n, o.getLocalTransform(), n), o = o.parent;
      return us(n, n), li(a, a, n), a;
    }, e;
  }(eX)
);
function Fme(r) {
  if (!r.UTF8Encoding)
    return r;
  var e = r, t = e.UTF8Scale;
  t == null && (t = 1024);
  var i = e.features;
  return J(i, function(a) {
    var n = a.geometry, o = n.encodeOffsets, s = n.coordinates;
    if (o)
      switch (n.type) {
        case "LineString":
          n.coordinates = rX(s, o, t);
          break;
        case "Polygon":
          n5(s, o, t);
          break;
        case "MultiLineString":
          n5(s, o, t);
          break;
        case "MultiPolygon":
          J(s, function(l, u) {
            return n5(l, o[u], t);
          });
      }
  }), e.UTF8Encoding = !1, e;
}
function n5(r, e, t) {
  for (var i = 0; i < r.length; i++)
    r[i] = rX(r[i], e[i], t);
}
function rX(r, e, t) {
  for (var i = [], a = e[0], n = e[1], o = 0; o < r.length; o += 2) {
    var s = r.charCodeAt(o) - 64, l = r.charCodeAt(o + 1) - 64;
    s = s >> 1 ^ -(s & 1), l = l >> 1 ^ -(l & 1), s += a, l += n, a = s, n = l, i.push([s / t, l / t]);
  }
  return i;
}
function A6(r, e) {
  return r = Fme(r), Je(Xr(r.features, function(t) {
    return t.geometry && t.properties && t.geometry.coordinates.length > 0;
  }), function(t) {
    var i = t.properties, a = t.geometry, n = [];
    switch (a.type) {
      case "Polygon":
        var o = a.coordinates;
        n.push(new LF(o[0], o.slice(1)));
        break;
      case "MultiPolygon":
        J(a.coordinates, function(l) {
          l[0] && n.push(new LF(l[0], l.slice(1)));
        });
        break;
      case "LineString":
        n.push(new OF([a.coordinates]));
        break;
      case "MultiLineString":
        n.push(new OF(a.coordinates));
    }
    var s = new tX(i[e || "name"], n, i.cp);
    return s.properties = i, s;
  });
}
const Nme = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  MAX_SAFE_INTEGER: VA,
  asc: Eo,
  getPercentWithPrecision: Mfe,
  getPixelPrecision: I8,
  getPrecision: ks,
  getPrecisionSafe: H_,
  isNumeric: fS,
  isRadianAroundZero: o0,
  linearMap: Qr,
  nice: R8,
  numericToNumber: Ml,
  parseDate: Nl,
  parsePercent: gt,
  quantile: e_,
  quantity: B$,
  quantityExponent: em,
  reformIntervals: UA,
  remRadian: P8,
  round: wi
}, Symbol.toStringTag, { value: "Module" })), Bme = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  format: om,
  parse: Nl,
  roundTime: Z_
}, Symbol.toStringTag, { value: "Module" })), Vme = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  Arc: xS,
  BezierCurve: nm,
  BoundingRect: Jt,
  Circle: rc,
  CompoundPath: im,
  Ellipse: SS,
  Group: Wt,
  Image: ha,
  IncrementalDisplayable: NY,
  Line: ki,
  LinearGradient: bd,
  Polygon: Ha,
  Polyline: wa,
  RadialGradient: Y8,
  Rect: Cr,
  Ring: rm,
  Sector: Wa,
  Text: Br,
  clipPointsByRect: K8,
  clipRectByRect: zY,
  createIcon: O0,
  extendPath: UY,
  extendShape: VY,
  getShapeClass: p1,
  getTransform: Wc,
  initProps: In,
  makeImage: q8,
  makePath: l0,
  mergePath: Co,
  registerShape: ds,
  resizePath: X8,
  updateProps: Wr
}, Symbol.toStringTag, { value: "Module" })), Ume = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  addCommas: hD,
  capitalFirst: w0e,
  encodeHTML: ya,
  formatTime: b0e,
  formatTpl: dD,
  getTextRect: y0e,
  getTooltipMarker: aj,
  normalizeCssArray: B0,
  toCamelCase: fD,
  truncateText: lde
}, Symbol.toStringTag, { value: "Module" })), Gme = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  bind: mt,
  clone: Gt,
  curry: fr,
  defaults: Yt,
  each: J,
  extend: $e,
  filter: Xr,
  indexOf: dr,
  inherits: b8,
  isArray: Ke,
  isFunction: Bt,
  isObject: zt,
  isString: vt,
  map: Je,
  merge: gr,
  reduce: ls
}, Symbol.toStringTag, { value: "Module" }));
var zme = Ar(), Kg = Ar(), Gs = {
  estimate: 1,
  determine: 2
};
function vb(r) {
  return {
    out: {
      noPxChangeTryDetermine: []
    },
    kind: r
  };
}
function nX(r, e) {
  var t = Je(e, function(i) {
    return r.scale.parse(i);
  });
  return r.type === "time" && t.length > 0 && (t.sort(), t.unshift(t[0]), t.push(t[t.length - 1])), t;
}
function Wme(r, e) {
  var t = r.getLabelModel().get("customValues");
  if (t) {
    var i = H0(r), a = r.scale.getExtent(), n = nX(r, t), o = Xr(n, function(s) {
      return s >= a[0] && s <= a[1];
    });
    return {
      labels: Je(o, function(s) {
        var l = {
          value: s
        };
        return {
          formattedLabel: i(l),
          rawLabel: r.scale.getLabel(l),
          tickValue: s,
          time: void 0,
          break: void 0
        };
      })
    };
  }
  return r.type === "category" ? $me(r, e) : jme(r);
}
function Hme(r, e, t) {
  var i = r.getTickModel().get("customValues");
  if (i) {
    var a = r.scale.getExtent(), n = nX(r, i);
    return {
      ticks: Xr(n, function(o) {
        return o >= a[0] && o <= a[1];
      })
    };
  }
  return r.type === "category" ? Yme(r, e) : {
    ticks: Je(r.scale.getTicks(t), function(o) {
      return o.value;
    })
  };
}
function $me(r, e) {
  var t = r.getLabelModel(), i = iX(r, t, e);
  return !t.get("show") || r.scale.isBlank() ? {
    labels: []
  } : i;
}
function iX(r, e, t) {
  var i = Xme(r), a = UD(e), n = t.kind === Gs.estimate;
  if (!n) {
    var o = oX(i, a);
    if (o)
      return o;
  }
  var s, l;
  Bt(a) ? s = uX(r, a) : (l = a === "auto" ? Kme(r, t) : a, s = lX(r, l));
  var u = {
    labels: s,
    labelCategoryInterval: l
  };
  return n ? t.out.noPxChangeTryDetermine.push(function() {
    return E6(i, a, u), !0;
  }) : E6(i, a, u), u;
}
function Yme(r, e) {
  var t = qme(r), i = UD(e), a = oX(t, i);
  if (a)
    return a;
  var n, o;
  if ((!e.get("show") || r.scale.isBlank()) && (n = []), Bt(i))
    n = uX(r, i, !0);
  else if (i === "auto") {
    var s = iX(r, r.getLabelModel(), vb(Gs.determine));
    o = s.labelCategoryInterval, n = Je(s.labels, function(l) {
      return l.tickValue;
    });
  } else
    o = i, n = lX(r, o, !0);
  return E6(t, i, {
    ticks: n,
    tickCategoryInterval: o
  });
}
function jme(r) {
  var e = r.scale.getTicks(), t = H0(r);
  return {
    labels: Je(e, function(i, a) {
      return {
        formattedLabel: t(i, a),
        rawLabel: r.scale.getLabel(i),
        tickValue: i.value,
        time: i.time,
        break: i.break
      };
    })
  };
}
var qme = aX("axisTick"), Xme = aX("axisLabel");
function aX(r) {
  return function(t) {
    return Kg(t)[r] || (Kg(t)[r] = {
      list: []
    });
  };
}
function oX(r, e) {
  for (var t = 0; t < r.list.length; t++)
    if (r.list[t].key === e)
      return r.list[t].value;
}
function E6(r, e, t) {
  return r.list.push({
    key: e,
    value: t
  }), t;
}
function Kme(r, e) {
  if (e.kind === Gs.estimate) {
    var t = r.calculateCategoryInterval(e);
    return e.out.noPxChangeTryDetermine.push(function() {
      return Kg(r).autoInterval = t, !0;
    }), t;
  }
  var i = Kg(r).autoInterval;
  return i ?? (Kg(r).autoInterval = r.calculateCategoryInterval(e));
}
function Zme(r, e) {
  var t = e.kind, i = Qme(r), a = H0(r), n = (i.axisRotate - i.labelRotate) / 180 * Math.PI, o = r.scale, s = o.getExtent(), l = o.count();
  if (s[1] - s[0] < 1)
    return 0;
  var u = 1, c = 40;
  l > c && (u = Math.max(1, Math.floor(l / c)));
  for (var f = s[0], d = r.dataToCoord(f + 1) - r.dataToCoord(f), p = Math.abs(d * Math.cos(n)), v = Math.abs(d * Math.sin(n)), y = 0, _ = 0; f <= s[1]; f += u) {
    var w = 0, S = 0, x = hS(a({
      value: f
    }), i.font, "center", "top");
    w = x.width * 1.3, S = x.height * 1.3, y = Math.max(y, w, 7), _ = Math.max(_, S, 7);
  }
  var E = y / p, M = _ / v;
  isNaN(E) && (E = 1 / 0), isNaN(M) && (M = 1 / 0);
  var k = Math.max(0, Math.floor(Math.min(E, M)));
  if (t === Gs.estimate)
    return e.out.noPxChangeTryDetermine.push(mt(Jme, null, r, k, l)), k;
  var P = sX(r, k, l);
  return P ?? k;
}
function Jme(r, e, t) {
  return sX(r, e, t) == null;
}
function sX(r, e, t) {
  var i = zme(r.model), a = r.getExtent(), n = i.lastAutoInterval, o = i.lastTickCount;
  if (n != null && o != null && Math.abs(n - e) <= 1 && Math.abs(o - t) <= 1 && n > e && i.axisExtent0 === a[0] && i.axisExtent1 === a[1])
    return n;
  i.lastTickCount = t, i.lastAutoInterval = e, i.axisExtent0 = a[0], i.axisExtent1 = a[1];
}
function Qme(r) {
  var e = r.getLabelModel();
  return {
    axisRotate: r.getRotate ? r.getRotate() : r.isHorizontal && !r.isHorizontal() ? 90 : 0,
    labelRotate: e.get("rotate") || 0,
    font: e.getFont()
  };
}
function lX(r, e, t) {
  var i = H0(r), a = r.scale, n = a.getExtent(), o = r.getLabelModel(), s = [], l = Math.max((e || 0) + 1, 1), u = n[0], c = a.count();
  u !== 0 && l > 1 && c / l > 2 && (u = Math.round(Math.ceil(u / l) * l));
  var f = Jq(r), d = o.get("showMinLabel") || f, p = o.get("showMaxLabel") || f;
  d && u !== n[0] && y(n[0]);
  for (var v = u; v <= n[1]; v += l)
    y(v);
  p && v - l !== n[1] && y(n[1]);
  function y(_) {
    var w = {
      value: _
    };
    s.push(t ? _ : {
      formattedLabel: i(w),
      rawLabel: a.getLabel(w),
      tickValue: _,
      time: void 0,
      break: void 0
    });
  }
  return s;
}
function uX(r, e, t) {
  var i = r.scale, a = H0(r), n = [];
  return J(i.getTicks(), function(o) {
    var s = i.getLabel(o), l = o.value;
    e(o.value, s) && n.push(t ? l : {
      formattedLabel: a(o),
      rawLabel: s,
      tickValue: l,
      time: void 0,
      break: void 0
    });
  }), n;
}
var FF = [0, 1], eye = (
  /** @class */
  function() {
    function r(e, t, i) {
      this.onBand = !1, this.inverse = !1, this.dim = e, this.scale = t, this._extent = i || [0, 0];
    }
    return r.prototype.contain = function(e) {
      var t = this._extent, i = Math.min(t[0], t[1]), a = Math.max(t[0], t[1]);
      return e >= i && e <= a;
    }, r.prototype.containData = function(e) {
      return this.scale.contain(this.scale.parse(e));
    }, r.prototype.getExtent = function() {
      return this._extent.slice();
    }, r.prototype.getPixelPrecision = function(e) {
      return I8(e || this.scale.getExtent(), this._extent);
    }, r.prototype.setExtent = function(e, t) {
      var i = this._extent;
      i[0] = e, i[1] = t;
    }, r.prototype.dataToCoord = function(e, t) {
      var i = this._extent, a = this.scale;
      return e = a.normalize(a.parse(e)), this.onBand && a.type === "ordinal" && (i = i.slice(), NF(i, a.count())), Qr(e, FF, i, t);
    }, r.prototype.coordToData = function(e, t) {
      var i = this._extent, a = this.scale;
      this.onBand && a.type === "ordinal" && (i = i.slice(), NF(i, a.count()));
      var n = Qr(e, i, FF, t);
      return this.scale.scale(n);
    }, r.prototype.pointToData = function(e, t) {
    }, r.prototype.getTicksCoords = function(e) {
      e = e || {};
      var t = e.tickModel || this.getTickModel(), i = Hme(this, t, {
        breakTicks: e.breakTicks,
        pruneByBreak: e.pruneByBreak
      }), a = i.ticks, n = Je(a, function(s) {
        return {
          coord: this.dataToCoord(this.scale.type === "ordinal" ? this.scale.getRawOrdinalNumber(s) : s),
          tickValue: s
        };
      }, this), o = t.get("alignWithLabel");
      return tye(this, n, o, e.clamp), n;
    }, r.prototype.getMinorTicksCoords = function() {
      if (this.scale.type === "ordinal")
        return [];
      var e = this.model.getModel("minorTick"), t = e.get("splitNumber");
      t > 0 && t < 100 || (t = 5);
      var i = this.scale.getMinorTicks(t), a = Je(i, function(n) {
        return Je(n, function(o) {
          return {
            coord: this.dataToCoord(o),
            tickValue: o
          };
        }, this);
      }, this);
      return a;
    }, r.prototype.getViewLabels = function(e) {
      return e = e || vb(Gs.determine), Wme(this, e).labels;
    }, r.prototype.getLabelModel = function() {
      return this.model.getModel("axisLabel");
    }, r.prototype.getTickModel = function() {
      return this.model.getModel("axisTick");
    }, r.prototype.getBandWidth = function() {
      var e = this._extent, t = this.scale.getExtent(), i = t[1] - t[0] + (this.onBand ? 1 : 0);
      i === 0 && (i = 1);
      var a = Math.abs(e[1] - e[0]);
      return Math.abs(a) / i;
    }, r.prototype.calculateCategoryInterval = function(e) {
      return e = e || vb(Gs.determine), Zme(this, e);
    }, r;
  }()
);
function NF(r, e) {
  var t = r[1] - r[0], i = e, a = t / i / 2;
  r[0] += a, r[1] -= a;
}
function tye(r, e, t, i) {
  var a = e.length;
  if (!r.onBand || t || !a)
    return;
  var n = r.getExtent(), o, s;
  if (a === 1)
    e[0].coord = n[0], e[0].onBand = !0, o = e[1] = {
      coord: n[1],
      tickValue: e[0].tickValue,
      onBand: !0
    };
  else {
    var l = e[a - 1].tickValue - e[0].tickValue, u = (e[a - 1].coord - e[0].coord) / l;
    J(e, function(p) {
      p.coord -= u / 2, p.onBand = !0;
    });
    var c = r.scale.getExtent();
    s = 1 + c[1] - e[a - 1].tickValue, o = {
      coord: e[a - 1].coord + u * s,
      tickValue: c[1] + 1,
      onBand: !0
    }, e.push(o);
  }
  var f = n[0] > n[1];
  d(e[0].coord, n[0]) && (i ? e[0].coord = n[0] : e.shift()), i && d(n[0], e[0].coord) && e.unshift({
    coord: n[0],
    onBand: !0
  }), d(n[1], o.coord) && (i ? o.coord = n[1] : e.pop()), i && d(o.coord, n[1]) && e.push({
    coord: n[1],
    onBand: !0
  });
  function d(p, v) {
    return p = wi(p), v = wi(v), f ? p > v : p < v;
  }
}
const ps = eye;
function rye(r) {
  var e = Rr.extend(r);
  return Rr.registerClass(e), e;
}
function nye(r) {
  var e = Pn.extend(r);
  return Pn.registerClass(e), e;
}
function iye(r) {
  var e = En.extend(r);
  return En.registerClass(e), e;
}
function aye(r) {
  var e = gn.extend(r);
  return gn.registerClass(e), e;
}
var tg = Math.PI * 2, lf = Il.CMD, oye = ["top", "right", "bottom", "left"];
function sye(r, e, t, i, a) {
  var n = t.width, o = t.height;
  switch (r) {
    case "top":
      i.set(t.x + n / 2, t.y - e), a.set(0, -1);
      break;
    case "bottom":
      i.set(t.x + n / 2, t.y + o + e), a.set(0, 1);
      break;
    case "left":
      i.set(t.x - e, t.y + o / 2), a.set(-1, 0);
      break;
    case "right":
      i.set(t.x + n + e, t.y + o / 2), a.set(1, 0);
      break;
  }
}
function lye(r, e, t, i, a, n, o, s, l) {
  o -= r, s -= e;
  var u = Math.sqrt(o * o + s * s);
  o /= u, s /= u;
  var c = o * t + r, f = s * t + e;
  if (Math.abs(i - a) % tg < 1e-4)
    return l[0] = c, l[1] = f, u - t;
  if (n) {
    var d = i;
    i = Do(a), a = Do(d);
  } else
    i = Do(i), a = Do(a);
  i > a && (a += tg);
  var p = Math.atan2(s, o);
  if (p < 0 && (p += tg), p >= i && p <= a || p + tg >= i && p + tg <= a)
    return l[0] = c, l[1] = f, u - t;
  var v = t * Math.cos(i) + r, y = t * Math.sin(i) + e, _ = t * Math.cos(a) + r, w = t * Math.sin(a) + e, S = (v - o) * (v - o) + (y - s) * (y - s), x = (_ - o) * (_ - o) + (w - s) * (w - s);
  return S < x ? (l[0] = v, l[1] = y, Math.sqrt(S)) : (l[0] = _, l[1] = w, Math.sqrt(x));
}
function gb(r, e, t, i, a, n, o, s) {
  var l = a - r, u = n - e, c = t - r, f = i - e, d = Math.sqrt(c * c + f * f);
  c /= d, f /= d;
  var p = l * c + u * f, v = p / d;
  s && (v = Math.min(Math.max(v, 0), 1)), v *= d;
  var y = o[0] = r + v * c, _ = o[1] = e + v * f;
  return Math.sqrt((y - a) * (y - a) + (_ - n) * (_ - n));
}
function cX(r, e, t, i, a, n, o) {
  t < 0 && (r = r + t, t = -t), i < 0 && (e = e + i, i = -i);
  var s = r + t, l = e + i, u = o[0] = Math.min(Math.max(a, r), s), c = o[1] = Math.min(Math.max(n, e), l);
  return Math.sqrt((u - a) * (u - a) + (c - n) * (c - n));
}
var Es = [];
function uye(r, e, t) {
  var i = cX(e.x, e.y, e.width, e.height, r.x, r.y, Es);
  return t.set(Es[0], Es[1]), i;
}
function cye(r, e, t) {
  for (var i = 0, a = 0, n = 0, o = 0, s, l, u = 1 / 0, c = e.data, f = r.x, d = r.y, p = 0; p < c.length; ) {
    var v = c[p++];
    p === 1 && (i = c[p], a = c[p + 1], n = i, o = a);
    var y = u;
    switch (v) {
      case lf.M:
        n = c[p++], o = c[p++], i = n, a = o;
        break;
      case lf.L:
        y = gb(i, a, c[p], c[p + 1], f, d, Es, !0), i = c[p++], a = c[p++];
        break;
      case lf.C:
        y = v$(i, a, c[p++], c[p++], c[p++], c[p++], c[p], c[p + 1], f, d, Es), i = c[p++], a = c[p++];
        break;
      case lf.Q:
        y = m$(i, a, c[p++], c[p++], c[p], c[p + 1], f, d, Es), i = c[p++], a = c[p++];
        break;
      case lf.A:
        var _ = c[p++], w = c[p++], S = c[p++], x = c[p++], E = c[p++], M = c[p++];
        p += 1;
        var k = !!(1 - c[p++]);
        s = Math.cos(E) * S + _, l = Math.sin(E) * x + w, p <= 1 && (n = s, o = l);
        var P = (f - _) * x / S + _;
        y = lye(_, w, x, E, E + M, k, P, d, Es), i = Math.cos(E + M) * S + _, a = Math.sin(E + M) * x + w;
        break;
      case lf.R:
        n = i = c[p++], o = a = c[p++];
        var L = c[p++], F = c[p++];
        y = cX(n, o, L, F, f, d, Es);
        break;
      case lf.Z:
        y = gb(i, a, n, o, f, d, Es, !0), i = n, a = o;
        break;
    }
    y < u && (u = y, t.set(Es[0], Es[1]));
  }
  return u;
}
var Ms = new Xt(), Mn = new Xt(), mi = new Xt(), Tl = new Xt(), ml = new Xt();
function BF(r, e) {
  if (r) {
    var t = r.getTextGuideLine(), i = r.getTextContent();
    if (i && t) {
      var a = r.textGuideLineConfig || {}, n = [[0, 0], [0, 0], [0, 0]], o = a.candidates || oye, s = i.getBoundingRect().clone();
      s.applyTransform(i.getComputedTransform());
      var l = 1 / 0, u = a.anchor, c = r.getComputedTransform(), f = c && us([], c), d = e.get("length2") || 0;
      u && mi.copy(u);
      for (var p = 0; p < o.length; p++) {
        var v = o[p];
        sye(v, 0, s, Ms, Tl), Xt.scaleAndAdd(Mn, Ms, Tl, d), Mn.transform(f);
        var y = r.getBoundingRect(), _ = u ? u.distance(Mn) : r instanceof Er ? cye(Mn, r.path, mi) : uye(Mn, y, mi);
        _ < l && (l = _, Mn.transform(c), mi.transform(c), mi.toArray(n[0]), Mn.toArray(n[1]), Ms.toArray(n[2]));
      }
      hX(n, e.get("minTurnAngle")), t.setShape({
        points: n
      });
    }
  }
}
var mb = [], eo = new Xt();
function hX(r, e) {
  if (e <= 180 && e > 0) {
    e = e / 180 * Math.PI, Ms.fromArray(r[0]), Mn.fromArray(r[1]), mi.fromArray(r[2]), Xt.sub(Tl, Ms, Mn), Xt.sub(ml, mi, Mn);
    var t = Tl.len(), i = ml.len();
    if (!(t < 1e-3 || i < 1e-3)) {
      Tl.scale(1 / t), ml.scale(1 / i);
      var a = Tl.dot(ml), n = Math.cos(e);
      if (n < a) {
        var o = gb(Mn.x, Mn.y, mi.x, mi.y, Ms.x, Ms.y, mb, !1);
        eo.fromArray(mb), eo.scaleAndAdd(ml, o / Math.tan(Math.PI - e));
        var s = mi.x !== Mn.x ? (eo.x - Mn.x) / (mi.x - Mn.x) : (eo.y - Mn.y) / (mi.y - Mn.y);
        if (isNaN(s))
          return;
        s < 0 ? Xt.copy(eo, Mn) : s > 1 && Xt.copy(eo, mi), eo.toArray(r[1]);
      }
    }
  }
}
function hye(r, e, t) {
  if (t <= 180 && t > 0) {
    t = t / 180 * Math.PI, Ms.fromArray(r[0]), Mn.fromArray(r[1]), mi.fromArray(r[2]), Xt.sub(Tl, Mn, Ms), Xt.sub(ml, mi, Mn);
    var i = Tl.len(), a = ml.len();
    if (!(i < 1e-3 || a < 1e-3)) {
      Tl.scale(1 / i), ml.scale(1 / a);
      var n = Tl.dot(e), o = Math.cos(t);
      if (n < o) {
        var s = gb(Mn.x, Mn.y, mi.x, mi.y, Ms.x, Ms.y, mb, !1);
        eo.fromArray(mb);
        var l = Math.PI / 2, u = Math.acos(ml.dot(e)), c = l + u - t;
        if (c >= l)
          Xt.copy(eo, mi);
        else {
          eo.scaleAndAdd(ml, s / Math.tan(Math.PI / 2 - c));
          var f = mi.x !== Mn.x ? (eo.x - Mn.x) / (mi.x - Mn.x) : (eo.y - Mn.y) / (mi.y - Mn.y);
          if (isNaN(f))
            return;
          f < 0 ? Xt.copy(eo, Mn) : f > 1 && Xt.copy(eo, mi);
        }
        eo.toArray(r[1]);
      }
    }
  }
}
function i5(r, e, t, i) {
  var a = t === "normal", n = a ? r : r.ensureState(t);
  n.ignore = e;
  var o = i.get("smooth");
  o && o === !0 && (o = 0.3), n.shape = n.shape || {}, o > 0 && (n.shape.smooth = o);
  var s = i.getModel("lineStyle").getLineStyle();
  a ? r.useStyle(s) : n.style = s;
}
function fye(r, e) {
  var t = e.smooth, i = e.points;
  if (i)
    if (r.moveTo(i[0][0], i[0][1]), t > 0 && i.length >= 3) {
      var a = gu(i[0], i[1]), n = gu(i[1], i[2]);
      if (!a || !n) {
        r.lineTo(i[1][0], i[1][1]), r.lineTo(i[2][0], i[2][1]);
        return;
      }
      var o = Math.min(a, n) * t, s = Gg([], i[1], i[0], o / a), l = Gg([], i[1], i[2], o / n), u = Gg([], s, l, 0.5);
      r.bezierCurveTo(s[0], s[1], s[0], s[1], u[0], u[1]), r.bezierCurveTo(l[0], l[1], l[0], l[1], i[2][0], i[2][1]);
    } else
      for (var c = 1; c < i.length; c++)
        r.lineTo(i[c][0], i[c][1]);
}
function GD(r, e, t) {
  var i = r.getTextGuideLine(), a = r.getTextContent();
  if (!a) {
    i && r.removeTextGuideLine();
    return;
  }
  for (var n = e.normal, o = n.get("show"), s = a.ignore, l = 0; l < d1.length; l++) {
    var u = d1[l], c = e[u], f = u === "normal";
    if (c) {
      var d = c.get("show"), p = f ? s : It(a.states[u] && a.states[u].ignore, s);
      if (p || !It(d, o)) {
        var v = f ? i : i && i.states[u];
        v && (v.ignore = !0), i && i5(i, !0, u, c);
        continue;
      }
      i || (i = new wa(), r.setTextGuideLine(i), !f && (s || !o) && i5(i, !0, "normal", e.normal), r.stateProxy && (i.stateProxy = r.stateProxy)), i5(i, !1, u, c);
    }
  }
  if (i) {
    Yt(i.style, t), i.style.fill = null;
    var y = n.get("showAbove"), _ = r.textGuideLineConfig = r.textGuideLineConfig || {};
    _.showAbove = y || !1, i.buildPath = fye;
  }
}
function zD(r, e) {
  e = e || "labelLine";
  for (var t = {
    normal: r.getModel(e)
  }, i = 0; i < ro.length; i++) {
    var a = ro[i];
    t[a] = r.getModel([a, e]);
  }
  return t;
}
var VF = ["label", "labelLine", "layoutOption", "priority", "defaultAttr", "marginForce", "minMarginForce", "marginDefault", "suggestIgnore"], dye = 1, yb = 2, fX = dye | yb;
function _b(r, e, t) {
  t = t || fX, e ? r.dirty |= t : r.dirty &= ~t;
}
function dX(r, e) {
  return e = e || fX, r.dirty == null || !!(r.dirty & e);
}
function Rl(r) {
  if (r)
    return dX(r) && pX(r, r.label, r), r;
}
function pX(r, e, t) {
  var i = e.getComputedTransform();
  r.transform = J8(r.transform, i);
  var a = r.localRect = v1(r.localRect, e.getBoundingRect()), n = e.style, o = n.margin, s = t && t.marginForce, l = t && t.minMarginForce, u = t && t.marginDefault, c = n.__marginType;
  c == null && u && (o = u, c = Up.textMargin);
  for (var f = 0; f < 4; f++)
    a5[f] = c === Up.minMargin && l && l[f] != null ? l[f] : s && s[f] != null ? s[f] : o ? o[f] : 0;
  c === Up.textMargin && td(a, a5, !1, !1);
  var d = r.rect = v1(r.rect, a);
  return i && d.applyTransform(i), c === Up.minMargin && td(d, a5, !1, !1), r.axisAligned = Z8(i), (r.label = r.label || {}).ignore = e.ignore, _b(r, !1), _b(r, !0, yb), r;
}
var a5 = [0, 0, 0, 0];
function pye(r, e, t) {
  return r.transform = J8(r.transform, t), r.localRect = v1(r.localRect, e), r.rect = v1(r.rect, e), t && r.rect.applyTransform(t), r.axisAligned = Z8(t), r.obb = void 0, (r.label = r.label || {}).ignore = !1, r;
}
function D6(r, e) {
  if (r) {
    r.label.x += e.x, r.label.y += e.y, r.label.markRedraw();
    var t = r.transform;
    t && (t[4] += e.x, t[5] += e.y);
    var i = r.rect;
    i && (i.x += e.x, i.y += e.y);
    var a = r.obb;
    a && a.fromBoundingRect(r.localRect, t);
  }
}
function k6(r, e) {
  for (var t = 0; t < VF.length; t++) {
    var i = VF[t];
    r[i] == null && (r[i] = e[i]);
  }
  return Rl(r);
}
function UF(r) {
  var e = r.obb;
  return (!e || dX(r, yb)) && (r.obb = e = e || new FY(), e.fromBoundingRect(r.localRect, r.transform), _b(r, !1, yb)), e;
}
function M6(r, e, t, i, a) {
  var n = r.length, o = cr[e], s = Ii[e];
  if (n < 2)
    return !1;
  r.sort(function(F, O) {
    return F.rect[o] - O.rect[o];
  });
  for (var l = 0, u, c = !1, f = 0, d = 0; d < n; d++) {
    var p = r[d], v = p.rect;
    u = v[o] - l, u < 0 && (v[o] -= u, p.label[o] -= u, c = !0);
    var y = Math.max(-u, 0);
    f += y, l = v[o] + v[s];
  }
  f > 0 && a && k(-f / n, 0, n);
  var _ = r[0], w = r[n - 1], S, x;
  E(), S < 0 && P(-S, 0.8), x < 0 && P(x, 0.8), E(), M(S, x, 1), M(x, S, -1), E(), S < 0 && L(-S), x < 0 && L(x);
  function E() {
    S = _.rect[o] - t, x = i - w.rect[o] - w.rect[s];
  }
  function M(F, O, U) {
    if (F < 0) {
      var V = Math.min(O, -F);
      if (V > 0) {
        k(V * U, 0, n);
        var G = V + F;
        G < 0 && P(-G * U, 1);
      } else
        P(-F * U, 1);
    }
  }
  function k(F, O, U) {
    F !== 0 && (c = !0);
    for (var V = O; V < U; V++) {
      var G = r[V], Z = G.rect;
      Z[o] += F, G.label[o] += F;
    }
  }
  function P(F, O) {
    for (var U = [], V = 0, G = 1; G < n; G++) {
      var Z = r[G - 1].rect, Q = Math.max(r[G].rect[o] - Z[o] - Z[s], 0);
      U.push(Q), V += Q;
    }
    if (V) {
      var se = Math.min(Math.abs(F) / V, O);
      if (F > 0)
        for (var G = 0; G < n - 1; G++) {
          var de = U[G] * se;
          k(de, 0, G + 1);
        }
      else
        for (var G = n - 1; G > 0; G--) {
          var de = U[G - 1] * se;
          k(-de, G, n);
        }
    }
  }
  function L(F) {
    var O = F < 0 ? -1 : 1;
    F = Math.abs(F);
    for (var U = Math.ceil(F / (n - 1)), V = 0; V < n - 1; V++)
      if (O > 0 ? k(U, 0, V + 1) : k(-U, n - V - 1, n), F -= U, F <= 0)
        return;
  }
  return c;
}
function vye(r) {
  for (var e = 0; e < r.length; e++) {
    var t = r[e], i = t.defaultAttr, a = t.labelLine;
    t.label.attr("ignore", i.ignore), a && a.attr("ignore", i.labelGuideIgnore);
  }
}
function vX(r) {
  var e = [];
  r.sort(function(u, c) {
    return (c.suggestIgnore ? 1 : 0) - (u.suggestIgnore ? 1 : 0) || c.priority - u.priority;
  });
  function t(u) {
    if (!u.ignore) {
      var c = u.ensureState("emphasis");
      c.ignore == null && (c.ignore = !1);
    }
    u.ignore = !0;
  }
  for (var i = 0; i < r.length; i++) {
    var a = Rl(r[i]);
    if (!a.label.ignore) {
      for (var n = a.label, o = a.labelLine, s = !1, l = 0; l < e.length; l++)
        if (OS(a, e[l], null, {
          touchThreshold: 0.05
        })) {
          s = !0;
          break;
        }
      s ? (t(n), o && t(o)) : e.push(a);
    }
  }
}
function OS(r, e, t, i) {
  return !r || !e || r.label && r.label.ignore || e.label && e.label.ignore || !r.rect.intersect(e.rect, t, i) ? !1 : r.axisAligned && e.axisAligned ? !0 : UF(r).intersect(UF(e), t, i);
}
function gye(r) {
  if (r) {
    for (var e = [], t = 0; t < r.length; t++)
      e.push(r[t].slice());
    return e;
  }
}
function mye(r, e) {
  var t = r.label, i = e && e.getTextGuideLine();
  return {
    dataIndex: r.dataIndex,
    dataType: r.dataType,
    seriesIndex: r.seriesModel.seriesIndex,
    text: r.label.style.text,
    rect: r.hostRect,
    labelRect: r.rect,
    // x: labelAttr.x,
    // y: labelAttr.y,
    align: t.style.align,
    verticalAlign: t.style.verticalAlign,
    labelLinePoints: gye(i && i.shape.points)
  };
}
var GF = ["align", "verticalAlign", "width", "height", "fontSize"], Ka = new _u(), o5 = Ar(), yye = Ar();
function r2(r, e, t) {
  for (var i = 0; i < t.length; i++) {
    var a = t[i];
    e[a] != null && (r[a] = e[a]);
  }
}
var n2 = ["x", "y", "rotation"], _ye = (
  /** @class */
  function() {
    function r() {
      this._labelList = [], this._chartViewList = [];
    }
    return r.prototype.clearLabels = function() {
      this._labelList = [], this._chartViewList = [];
    }, r.prototype._addLabel = function(e, t, i, a, n) {
      var o = a.style, s = a.__hostTarget, l = s.textConfig || {}, u = a.getComputedTransform(), c = a.getBoundingRect().plain();
      Jt.applyTransform(c, c, u), u ? Ka.setLocalTransform(u) : (Ka.x = Ka.y = Ka.rotation = Ka.originX = Ka.originY = 0, Ka.scaleX = Ka.scaleY = 1), Ka.rotation = Do(Ka.rotation);
      var f = a.__hostTarget, d;
      if (f) {
        d = f.getBoundingRect().plain();
        var p = f.getComputedTransform();
        Jt.applyTransform(d, d, p);
      }
      var v = d && f.getTextGuideLine();
      this._labelList.push({
        label: a,
        labelLine: v,
        seriesModel: i,
        dataIndex: e,
        dataType: t,
        layoutOptionOrCb: n,
        layoutOption: null,
        rect: c,
        hostRect: d,
        // Label with lower priority will be hidden when overlapped
        // Use rect size as default priority
        priority: d ? d.width * d.height : 0,
        // Save default label attributes.
        // For restore if developers want get back to default value in callback.
        defaultAttr: {
          ignore: a.ignore,
          labelGuideIgnore: v && v.ignore,
          x: Ka.x,
          y: Ka.y,
          scaleX: Ka.scaleX,
          scaleY: Ka.scaleY,
          rotation: Ka.rotation,
          style: {
            x: o.x,
            y: o.y,
            align: o.align,
            verticalAlign: o.verticalAlign,
            width: o.width,
            height: o.height,
            fontSize: o.fontSize
          },
          cursor: a.cursor,
          attachedPos: l.position,
          attachedRot: l.rotation
        }
      });
    }, r.prototype.addLabelsOfSeries = function(e) {
      var t = this;
      this._chartViewList.push(e);
      var i = e.__model, a = i.get("labelLayout");
      (Bt(a) || Ir(a).length) && e.group.traverse(function(n) {
        if (n.ignore)
          return !0;
        var o = n.getTextContent(), s = er(n);
        o && !o.disableLabelLayout && t._addLabel(s.dataIndex, s.dataType, i, o, a);
      });
    }, r.prototype.updateLayoutConfig = function(e) {
      var t = e.getWidth(), i = e.getHeight();
      function a(x, E) {
        return function() {
          BF(x, E);
        };
      }
      for (var n = 0; n < this._labelList.length; n++) {
        var o = this._labelList[n], s = o.label, l = s.__hostTarget, u = o.defaultAttr, c = void 0;
        Bt(o.layoutOptionOrCb) ? c = o.layoutOptionOrCb(mye(o, l)) : c = o.layoutOptionOrCb, c = c || {}, o.layoutOption = c;
        var f = Math.PI / 180;
        l && l.setTextConfig({
          // Force to set local false.
          local: !1,
          // Ignore position and rotation config on the host el if x or y is changed.
          position: c.x != null || c.y != null ? null : u.attachedPos,
          // Ignore rotation config on the host el if rotation is changed.
          rotation: c.rotate != null ? c.rotate * f : u.attachedRot,
          offset: [c.dx || 0, c.dy || 0]
        });
        var d = !1;
        if (c.x != null ? (s.x = gt(c.x, t), s.setStyle("x", 0), d = !0) : (s.x = u.x, s.setStyle("x", u.style.x)), c.y != null ? (s.y = gt(c.y, i), s.setStyle("y", 0), d = !0) : (s.y = u.y, s.setStyle("y", u.style.y)), c.labelLinePoints) {
          var p = l.getTextGuideLine();
          p && (p.setShape({
            points: c.labelLinePoints
          }), d = !1);
        }
        var v = o5(s);
        v.needsUpdateLabelLine = d, s.rotation = c.rotate != null ? c.rotate * f : u.rotation, s.scaleX = u.scaleX, s.scaleY = u.scaleY;
        for (var y = 0; y < GF.length; y++) {
          var _ = GF[y];
          s.setStyle(_, c[_] != null ? c[_] : u.style[_]);
        }
        if (c.draggable) {
          if (s.draggable = !0, s.cursor = "move", l) {
            var w = o.seriesModel;
            if (o.dataIndex != null) {
              var S = o.seriesModel.getData(o.dataType);
              w = S.getItemModel(o.dataIndex);
            }
            s.on("drag", a(l, w.getModel("labelLine")));
          }
        } else
          s.off("drag"), s.cursor = u.cursor;
      }
    }, r.prototype.layout = function(e) {
      var t = e.getWidth(), i = e.getHeight(), a = [];
      J(this._labelList, function(l) {
        l.defaultAttr.ignore || a.push(k6({}, l));
      });
      var n = Xr(a, function(l) {
        return l.layoutOption.moveOverlap === "shiftX";
      }), o = Xr(a, function(l) {
        return l.layoutOption.moveOverlap === "shiftY";
      });
      M6(n, 0, 0, t), M6(o, 1, 0, i);
      var s = Xr(a, function(l) {
        return l.layoutOption.hideOverlap;
      });
      vye(s), vX(s);
    }, r.prototype.processLabelsOverall = function() {
      var e = this;
      J(this._chartViewList, function(t) {
        var i = t.__model, a = t.ignoreLabelLineUpdate, n = i.isAnimationEnabled();
        t.group.traverse(function(o) {
          if (o.ignore && !o.forceLabelAnimation)
            return !0;
          var s = !a, l = o.getTextContent();
          !s && l && (s = o5(l).needsUpdateLabelLine), s && e._updateLabelLine(o, i), n && e._animateLabels(o, i);
        });
      });
    }, r.prototype._updateLabelLine = function(e, t) {
      var i = e.getTextContent(), a = er(e), n = a.dataIndex;
      if (i && n != null) {
        var o = t.getData(a.dataType), s = o.getItemModel(n), l = {}, u = o.getItemVisual(n, "style");
        if (u) {
          var c = o.getVisual("drawType");
          l.stroke = u[c];
        }
        var f = s.getModel("labelLine");
        GD(e, zD(s), l), BF(e, f);
      }
    }, r.prototype._animateLabels = function(e, t) {
      var i = e.getTextContent(), a = e.getTextGuideLine();
      if (i && (e.forceLabelAnimation || !i.ignore && !i.invisible && !e.disableLabelAnimation && !qp(e))) {
        var n = o5(i), o = n.oldLayout, s = er(e), l = s.dataIndex, u = {
          x: i.x,
          y: i.y,
          rotation: i.rotation
        }, c = t.getData(s.dataType);
        if (o) {
          i.attr(o);
          var d = e.prevStates;
          d && (dr(d, "select") >= 0 && i.attr(n.oldLayoutSelect), dr(d, "emphasis") >= 0 && i.attr(n.oldLayoutEmphasis)), Wr(i, u, t, l);
        } else if (i.attr(u), !F0(i).valueAnimation) {
          var f = It(i.style.opacity, 1);
          i.style.opacity = 0, In(i, {
            style: {
              opacity: f
            }
          }, t, l);
        }
        if (n.oldLayout = u, i.states.select) {
          var p = n.oldLayoutSelect = {};
          r2(p, u, n2), r2(p, i.states.select, n2);
        }
        if (i.states.emphasis) {
          var v = n.oldLayoutEmphasis = {};
          r2(v, u, n2), r2(v, i.states.emphasis, n2);
        }
        qY(i, l, c, t, t);
      }
      if (a && !a.ignore && !a.invisible) {
        var n = yye(a), o = n.oldLayout, y = {
          points: a.shape.points
        };
        o ? (a.attr({
          shape: o
        }), Wr(a, {
          shape: y
        }, t)) : (a.setShape(y), a.style.strokePercent = 0, In(a, {
          style: {
            strokePercent: 1
          }
        }, t)), n.oldLayout = y;
      }
    }, r;
  }()
);
const bye = _ye;
var s5 = Ar();
function wye(r) {
  r.registerUpdateLifecycle("series:beforeupdate", function(e, t, i) {
    var a = s5(t).labelManager;
    a || (a = s5(t).labelManager = new bye()), a.clearLabels();
  }), r.registerUpdateLifecycle("series:layoutlabels", function(e, t, i) {
    var a = s5(t).labelManager;
    i.updatedSeries.forEach(function(n) {
      a.addLabelsOfSeries(t.getViewOfSeriesModel(n));
    }), a.updateLayoutConfig(t), a.layout(t), a.processLabelsOverall();
  });
}
var l5 = Math.sin, u5 = Math.cos, gX = Math.PI, uf = Math.PI * 2, Sye = 180 / gX, xye = function() {
  function r() {
  }
  return r.prototype.reset = function(e) {
    this._start = !0, this._d = [], this._str = "", this._p = Math.pow(10, e || 4);
  }, r.prototype.moveTo = function(e, t) {
    this._add("M", e, t);
  }, r.prototype.lineTo = function(e, t) {
    this._add("L", e, t);
  }, r.prototype.bezierCurveTo = function(e, t, i, a, n, o) {
    this._add("C", e, t, i, a, n, o);
  }, r.prototype.quadraticCurveTo = function(e, t, i, a) {
    this._add("Q", e, t, i, a);
  }, r.prototype.arc = function(e, t, i, a, n, o) {
    this.ellipse(e, t, i, i, 0, a, n, o);
  }, r.prototype.ellipse = function(e, t, i, a, n, o, s, l) {
    var u = s - o, c = !l, f = Math.abs(u), d = Rc(f - uf) || (c ? u >= uf : -u >= uf), p = u > 0 ? u % uf : u % uf + uf, v = !1;
    d ? v = !0 : Rc(f) ? v = !1 : v = p >= gX == !!c;
    var y = e + i * u5(o), _ = t + a * l5(o);
    this._start && this._add("M", y, _);
    var w = Math.round(n * Sye);
    if (d) {
      var S = 1 / this._p, x = (c ? 1 : -1) * (uf - S);
      this._add("A", i, a, w, 1, +c, e + i * u5(o + x), t + a * l5(o + x)), S > 0.01 && this._add("A", i, a, w, 0, +c, y, _);
    } else {
      var E = e + i * u5(s), M = t + a * l5(s);
      this._add("A", i, a, w, +v, +c, E, M);
    }
  }, r.prototype.rect = function(e, t, i, a) {
    this._add("M", e, t), this._add("l", i, 0), this._add("l", 0, a), this._add("l", -i, 0), this._add("Z");
  }, r.prototype.closePath = function() {
    this._d.length > 0 && this._add("Z");
  }, r.prototype._add = function(e, t, i, a, n, o, s, l, u) {
    for (var c = [], f = this._p, d = 1; d < arguments.length; d++) {
      var p = arguments[d];
      if (isNaN(p)) {
        this._invalid = !0;
        return;
      }
      c.push(Math.round(p * f) / f);
    }
    this._d.push(e + c.join(" ")), this._start = e === "Z";
  }, r.prototype.generateStr = function() {
    this._str = this._invalid ? "" : this._d.join(""), this._d = [];
  }, r.prototype.getStr = function() {
    return this._str;
  }, r;
}();
const mX = xye;
var Zg = "none", Tye = Math.round;
function Cye(r) {
  var e = r.fill;
  return e != null && e !== Zg;
}
function Aye(r) {
  var e = r.stroke;
  return e != null && e !== Zg;
}
var I6 = ["lineCap", "miterLimit", "lineJoin"], Eye = Je(I6, function(r) {
  return "stroke-" + r.toLowerCase();
});
function Dye(r, e, t, i) {
  var a = e.opacity == null ? 1 : e.opacity;
  if (t instanceof ha) {
    r("opacity", a);
    return;
  }
  if (Cye(e)) {
    var n = h1(e.fill);
    r("fill", n.color);
    var o = e.fillOpacity != null ? e.fillOpacity * n.opacity * a : n.opacity * a;
    (i || o < 1) && r("fill-opacity", o);
  } else
    r("fill", Zg);
  if (Aye(e)) {
    var s = h1(e.stroke);
    r("stroke", s.color);
    var l = e.strokeNoScale ? t.getLineScale() : 1, u = l ? (e.lineWidth || 0) / l : 0, c = e.strokeOpacity != null ? e.strokeOpacity * s.opacity * a : s.opacity * a, f = e.strokeFirst;
    if ((i || u !== 1) && r("stroke-width", u), (i || f) && r("paint-order", f ? "stroke" : "fill"), (i || c < 1) && r("stroke-opacity", c), e.lineDash) {
      var d = TD(t), p = d[0], v = d[1];
      p && (v = Tye(v || 0), r("stroke-dasharray", p.join(",")), (v || i) && r("stroke-dashoffset", v));
    } else
      i && r("stroke-dasharray", Zg);
    for (var y = 0; y < I6.length; y++) {
      var _ = I6[y];
      if (i || e[_] !== $_[_]) {
        var w = e[_] || $_[_];
        w && r(Eye[y], w);
      }
    }
  } else
    i && r("stroke", Zg);
}
var yX = "http://www.w3.org/2000/svg", _X = "http://www.w3.org/1999/xlink", kye = "http://www.w3.org/2000/xmlns/", Mye = "http://www.w3.org/XML/1998/namespace", zF = "ecmeta_";
function bX(r) {
  return document.createElementNS(yX, r);
}
function Xi(r, e, t, i, a) {
  return {
    tag: r,
    attrs: t || {},
    children: i,
    text: a,
    key: e
  };
}
function Iye(r, e) {
  var t = [];
  if (e)
    for (var i in e) {
      var a = e[i], n = i;
      a !== !1 && (a !== !0 && a != null && (n += '="' + a + '"'), t.push(n));
    }
  return "<" + r + " " + t.join(" ") + ">";
}
function Pye(r) {
  return "</" + r + ">";
}
function WD(r, e) {
  e = e || {};
  var t = e.newline ? `
` : "";
  function i(a) {
    var n = a.children, o = a.tag, s = a.attrs, l = a.text;
    return Iye(o, s) + (o !== "style" ? ya(l) : l || "") + (n ? "" + t + Je(n, function(u) {
      return i(u);
    }).join(t) + t : "") + Pye(o);
  }
  return i(r);
}
function Rye(r, e, t) {
  t = t || {};
  var i = t.newline ? `
` : "", a = " {" + i, n = i + "}", o = Je(Ir(r), function(l) {
    return l + a + Je(Ir(r[l]), function(u) {
      return u + ":" + r[l][u] + ";";
    }).join(i) + n;
  }).join(i), s = Je(Ir(e), function(l) {
    return "@keyframes " + l + a + Je(Ir(e[l]), function(u) {
      return u + a + Je(Ir(e[l][u]), function(c) {
        var f = e[l][u][c];
        return c === "d" && (f = 'path("' + f + '")'), c + ":" + f + ";";
      }).join(i) + n;
    }).join(i) + n;
  }).join(i);
  return !o && !s ? "" : ["<![CDATA[", o, s, "]]>"].join(i);
}
function P6(r) {
  return {
    zrId: r,
    shadowCache: {},
    patternCache: {},
    gradientCache: {},
    clipPathCache: {},
    defs: {},
    cssNodes: {},
    cssAnims: {},
    cssStyleCache: {},
    cssAnimIdx: 0,
    shadowIdx: 0,
    gradientIdx: 0,
    patternIdx: 0,
    clipPathIdx: 0
  };
}
function WF(r, e, t, i) {
  return Xi("svg", "root", {
    width: r,
    height: e,
    xmlns: yX,
    "xmlns:xlink": _X,
    version: "1.1",
    baseProfile: "full",
    viewBox: i ? "0 0 " + r + " " + e : !1
  }, t);
}
var Lye = 0;
function wX() {
  return Lye++;
}
var HF = {
  cubicIn: "0.32,0,0.67,0",
  cubicOut: "0.33,1,0.68,1",
  cubicInOut: "0.65,0,0.35,1",
  quadraticIn: "0.11,0,0.5,0",
  quadraticOut: "0.5,1,0.89,1",
  quadraticInOut: "0.45,0,0.55,1",
  quarticIn: "0.5,0,0.75,0",
  quarticOut: "0.25,1,0.5,1",
  quarticInOut: "0.76,0,0.24,1",
  quinticIn: "0.64,0,0.78,0",
  quinticOut: "0.22,1,0.36,1",
  quinticInOut: "0.83,0,0.17,1",
  sinusoidalIn: "0.12,0,0.39,0",
  sinusoidalOut: "0.61,1,0.88,1",
  sinusoidalInOut: "0.37,0,0.63,1",
  exponentialIn: "0.7,0,0.84,0",
  exponentialOut: "0.16,1,0.3,1",
  exponentialInOut: "0.87,0,0.13,1",
  circularIn: "0.55,0,1,0.45",
  circularOut: "0,0.55,0.45,1",
  circularInOut: "0.85,0,0.15,1"
}, vf = "transform-origin";
function Oye(r, e, t) {
  var i = $e({}, r.shape);
  $e(i, e), r.buildPath(t, i);
  var a = new mX();
  return a.reset(T$(r)), t.rebuildPath(a, 1), a.generateStr(), a.getStr();
}
function Fye(r, e) {
  var t = e.originX, i = e.originY;
  (t || i) && (r[vf] = t + "px " + i + "px");
}
var Nye = {
  fill: "fill",
  opacity: "opacity",
  lineWidth: "stroke-width",
  lineDashOffset: "stroke-dashoffset"
};
function SX(r, e) {
  var t = e.zrId + "-ani-" + e.cssAnimIdx++;
  return e.cssAnims[t] = r, t;
}
function Bye(r, e, t) {
  var i = r.shape.paths, a = {}, n, o;
  if (J(i, function(l) {
    var u = P6(t.zrId);
    u.animation = !0, FS(l, {}, u, !0);
    var c = u.cssAnims, f = u.cssNodes, d = Ir(c), p = d.length;
    if (p) {
      o = d[p - 1];
      var v = c[o];
      for (var y in v) {
        var _ = v[y];
        a[y] = a[y] || { d: "" }, a[y].d += _.d || "";
      }
      for (var w in f) {
        var S = f[w].animation;
        S.indexOf(o) >= 0 && (n = S);
      }
    }
  }), !!n) {
    e.d = !1;
    var s = SX(a, t);
    return n.replace(o, s);
  }
}
function $F(r) {
  return vt(r) ? HF[r] ? "cubic-bezier(" + HF[r] + ")" : A8(r) ? r : "" : "";
}
function FS(r, e, t, i) {
  var a = r.animators, n = a.length, o = [];
  if (r instanceof im) {
    var s = Bye(r, e, t);
    if (s)
      o.push(s);
    else if (!n)
      return;
  } else if (!n)
    return;
  for (var l = {}, u = 0; u < n; u++) {
    var c = a[u], f = [c.getMaxTime() / 1e3 + "s"], d = $F(c.getClip().easing), p = c.getDelay();
    d ? f.push(d) : f.push("linear"), p && f.push(p / 1e3 + "s"), c.getLoop() && f.push("infinite");
    var v = f.join(" ");
    l[v] = l[v] || [v, []], l[v][1].push(c);
  }
  function y(S) {
    var x = S[1], E = x.length, M = {}, k = {}, P = {}, L = "animation-timing-function";
    function F(re, be, te) {
      for (var ne = re.getTracks(), ie = re.getMaxTime(), xe = 0; xe < ne.length; xe++) {
        var ge = ne[xe];
        if (ge.needsAnimate()) {
          var ae = ge.keyframes, pe = ge.propName;
          if (te && (pe = te(pe)), pe)
            for (var ce = 0; ce < ae.length; ce++) {
              var Ee = ae[ce], ke = Math.round(Ee.time / ie * 100) + "%", ye = $F(Ee.easing), Pe = Ee.rawValue;
              (vt(Pe) || Or(Pe)) && (be[ke] = be[ke] || {}, be[ke][pe] = Ee.rawValue, ye && (be[ke][L] = ye));
            }
        }
      }
    }
    for (var O = 0; O < E; O++) {
      var U = x[O], V = U.targetName;
      V ? V === "shape" && F(U, k) : !i && F(U, M);
    }
    for (var G in M) {
      var Z = {};
      G_(Z, r), $e(Z, M[G]);
      var Q = C$(Z), se = M[G][L];
      P[G] = Q ? {
        transform: Q
      } : {}, Fye(P[G], Z), se && (P[G][L] = se);
    }
    var de, le = !0;
    for (var G in k) {
      P[G] = P[G] || {};
      var Se = !de, se = k[G][L];
      Se && (de = new Il());
      var he = de.len();
      de.reset(), P[G].d = Oye(r, k[G], de);
      var fe = de.len();
      if (!Se && he !== fe) {
        le = !1;
        break;
      }
      se && (P[G][L] = se);
    }
    if (!le)
      for (var G in P)
        delete P[G].d;
    if (!i)
      for (var O = 0; O < E; O++) {
        var U = x[O], V = U.targetName;
        V === "style" && F(U, P, function(ne) {
          return Nye[ne];
        });
      }
    for (var K = Ir(P), we = !0, ve, O = 1; O < K.length; O++) {
      var De = K[O - 1], Ie = K[O];
      if (P[De][vf] !== P[Ie][vf]) {
        we = !1;
        break;
      }
      ve = P[De][vf];
    }
    if (we && ve) {
      for (var G in P)
        P[G][vf] && delete P[G][vf];
      e[vf] = ve;
    }
    if (Xr(K, function(re) {
      return Ir(P[re]).length > 0;
    }).length) {
      var q = SX(P, t);
      return q + " " + S[0] + " both";
    }
  }
  for (var _ in l) {
    var s = y(l[_]);
    s && o.push(s);
  }
  if (o.length) {
    var w = t.zrId + "-cls-" + wX();
    t.cssNodes["." + w] = {
      animation: o.join(",")
    }, e.class = w;
  }
}
function Vye(r, e, t) {
  if (!r.ignore)
    if (r.isSilent()) {
      var i = {
        "pointer-events": "none"
      };
      YF(i, e, t, !0);
    } else {
      var a = r.states.emphasis && r.states.emphasis.style ? r.states.emphasis.style : {}, n = a.fill;
      if (!n) {
        var o = r.style && r.style.fill, s = r.states.select && r.states.select.style && r.states.select.style.fill, l = r.currentStates.indexOf("select") >= 0 && s || o;
        l && (n = B_(l));
      }
      var u = a.lineWidth;
      if (u) {
        var c = !a.strokeNoScale && r.transform ? r.transform[0] : 1;
        u = u / c;
      }
      var i = {
        cursor: "pointer"
      };
      n && (i.fill = n), a.stroke && (i.stroke = a.stroke), u && (i["stroke-width"] = u), YF(i, e, t, !0);
    }
}
function YF(r, e, t, i) {
  var a = JSON.stringify(r), n = t.cssStyleCache[a];
  n || (n = t.zrId + "-cls-" + wX(), t.cssStyleCache[a] = n, t.cssNodes["." + n + (i ? ":hover" : "")] = r), e.class = e.class ? e.class + " " + n : n;
}
var C1 = Math.round;
function xX(r) {
  return r && vt(r.src);
}
function TX(r) {
  return r && Bt(r.toDataURL);
}
function HD(r, e, t, i) {
  Dye(function(a, n) {
    var o = a === "fill" || a === "stroke";
    o && x$(n) ? AX(e, r, a, i) : o && D8(n) ? EX(t, r, a, i) : r[a] = n, o && i.ssr && n === "none" && (r["pointer-events"] = "visible");
  }, e, t, !1), Yye(t, r, i);
}
function $D(r, e) {
  var t = L$(e);
  t && (t.each(function(i, a) {
    i != null && (r[(zF + a).toLowerCase()] = i + "");
  }), e.isSilent() && (r[zF + "silent"] = "true"));
}
function jF(r) {
  return Rc(r[0] - 1) && Rc(r[1]) && Rc(r[2]) && Rc(r[3] - 1);
}
function Uye(r) {
  return Rc(r[4]) && Rc(r[5]);
}
function YD(r, e, t) {
  if (e && !(Uye(e) && jF(e))) {
    var i = t ? 10 : 1e4;
    r.transform = jF(e) ? "translate(" + C1(e[4] * i) / i + " " + C1(e[5] * i) / i + ")" : zhe(e);
  }
}
function qF(r, e, t) {
  for (var i = r.points, a = [], n = 0; n < i.length; n++)
    a.push(C1(i[n][0] * t) / t), a.push(C1(i[n][1] * t) / t);
  e.points = a.join(" ");
}
function XF(r) {
  return !r.smooth;
}
function Gye(r) {
  var e = Je(r, function(t) {
    return typeof t == "string" ? [t, t] : t;
  });
  return function(t, i, a) {
    for (var n = 0; n < e.length; n++) {
      var o = e[n], s = t[o[0]];
      s != null && (i[o[1]] = C1(s * a) / a);
    }
  };
}
var zye = {
  circle: [Gye(["cx", "cy", "r"])],
  polyline: [qF, XF],
  polygon: [qF, XF]
};
function Wye(r) {
  for (var e = r.animators, t = 0; t < e.length; t++)
    if (e[t].targetName === "shape")
      return !0;
  return !1;
}
function CX(r, e) {
  var t = r.style, i = r.shape, a = zye[r.type], n = {}, o = e.animation, s = "path", l = r.style.strokePercent, u = e.compress && T$(r) || 4;
  if (a && !e.willUpdate && !(a[1] && !a[1](i)) && !(o && Wye(r)) && !(l < 1)) {
    s = r.type;
    var c = Math.pow(10, u);
    a[0](i, n, c);
  } else {
    var f = !r.path || r.shapeChanged();
    r.path || r.createPathProxy();
    var d = r.path;
    f && (d.beginPath(), r.buildPath(d, r.shape), r.pathUpdated());
    var p = d.getVersion(), v = r, y = v.__svgPathBuilder;
    (v.__svgPathVersion !== p || !y || l !== v.__svgPathStrokePercent) && (y || (y = v.__svgPathBuilder = new mX()), y.reset(u), d.rebuildPath(y, l), y.generateStr(), v.__svgPathVersion = p, v.__svgPathStrokePercent = l), n.d = y.getStr();
  }
  return YD(n, r.transform), HD(n, t, r, e), $D(n, r), e.animation && FS(r, n, e), e.emphasis && Vye(r, n, e), Xi(s, r.id + "", n);
}
function Hye(r, e) {
  var t = r.style, i = t.image;
  if (i && !vt(i) && (xX(i) ? i = i.src : TX(i) && (i = i.toDataURL())), !!i) {
    var a = t.x || 0, n = t.y || 0, o = t.width, s = t.height, l = {
      href: i,
      width: o,
      height: s
    };
    return a && (l.x = a), n && (l.y = n), YD(l, r.transform), HD(l, t, r, e), $D(l, r), e.animation && FS(r, l, e), Xi("image", r.id + "", l);
  }
}
function $ye(r, e) {
  var t = r.style, i = t.text;
  if (i != null && (i += ""), !(!i || isNaN(t.x) || isNaN(t.y))) {
    var a = t.font || Nu, n = t.x || 0, o = Hhe(t.y || 0, Q1(a), t.textBaseline), s = Whe[t.textAlign] || t.textAlign, l = {
      "dominant-baseline": "central",
      "text-anchor": s
    };
    if (uY(t)) {
      var u = "", c = t.fontStyle, f = lY(t.fontSize);
      if (!parseFloat(f))
        return;
      var d = t.fontFamily || qH, p = t.fontWeight;
      u += "font-size:" + f + ";font-family:" + d + ";", c && c !== "normal" && (u += "font-style:" + c + ";"), p && p !== "normal" && (u += "font-weight:" + p + ";"), l.style = u;
    } else
      l.style = "font: " + a;
    return i.match(/\s/) && (l["xml:space"] = "preserve"), n && (l.x = n), o && (l.y = o), YD(l, r.transform), HD(l, t, r, e), $D(l, r), e.animation && FS(r, l, e), Xi("text", r.id + "", l, void 0, i);
  }
}
function KF(r, e) {
  if (r instanceof Er)
    return CX(r, e);
  if (r instanceof ha)
    return Hye(r, e);
  if (r instanceof f1)
    return $ye(r, e);
}
function Yye(r, e, t) {
  var i = r.style;
  if ($he(i)) {
    var a = Yhe(r), n = t.shadowCache, o = n[a];
    if (!o) {
      var s = r.getGlobalScale(), l = s[0], u = s[1];
      if (!l || !u)
        return;
      var c = i.shadowOffsetX || 0, f = i.shadowOffsetY || 0, d = i.shadowBlur, p = h1(i.shadowColor), v = p.opacity, y = p.color, _ = d / 2 / l, w = d / 2 / u, S = _ + " " + w;
      o = t.zrId + "-s" + t.shadowIdx++, t.defs[o] = Xi("filter", o, {
        id: o,
        x: "-100%",
        y: "-100%",
        width: "300%",
        height: "300%"
      }, [
        Xi("feDropShadow", "", {
          dx: c / l,
          dy: f / u,
          stdDeviation: S,
          "flood-color": y,
          "flood-opacity": v
        })
      ]), n[a] = o;
    }
    e.filter = cS(o);
  }
}
function AX(r, e, t, i) {
  var a = r[t], n, o = {
    gradientUnits: a.global ? "userSpaceOnUse" : "objectBoundingBox"
  };
  if (w$(a))
    n = "linearGradient", o.x1 = a.x, o.y1 = a.y, o.x2 = a.x2, o.y2 = a.y2;
  else if (S$(a))
    n = "radialGradient", o.cx = It(a.x, 0.5), o.cy = It(a.y, 0.5), o.r = It(a.r, 0.5);
  else {
    process.env.NODE_ENV !== "production" && as("Illegal gradient type.");
    return;
  }
  for (var s = a.colorStops, l = [], u = 0, c = s.length; u < c; ++u) {
    var f = DA(s[u].offset) * 100 + "%", d = s[u].color, p = h1(d), v = p.color, y = p.opacity, _ = {
      offset: f
    };
    _["stop-color"] = v, y < 1 && (_["stop-opacity"] = y), l.push(Xi("stop", u + "", _));
  }
  var w = Xi(n, "", o, l), S = WD(w), x = i.gradientCache, E = x[S];
  E || (E = i.zrId + "-g" + i.gradientIdx++, x[S] = E, o.id = E, i.defs[E] = Xi(n, E, o, l)), e[t] = cS(E);
}
function EX(r, e, t, i) {
  var a = r.style[t], n = r.getBoundingRect(), o = {}, s = a.repeat, l = s === "no-repeat", u = s === "repeat-x", c = s === "repeat-y", f;
  if (b$(a)) {
    var d = a.imageWidth, p = a.imageHeight, v = void 0, y = a.image;
    if (vt(y) ? v = y : xX(y) ? v = y.src : TX(y) && (v = y.toDataURL()), typeof Image > "u") {
      var _ = "Image width/height must been given explictly in svg-ssr renderer.";
      kt(d, _), kt(p, _);
    } else if (d == null || p == null) {
      var w = function(O, U) {
        if (O) {
          var V = O.elm, G = d || U.width, Z = p || U.height;
          O.tag === "pattern" && (u ? (Z = 1, G /= n.width) : c && (G = 1, Z /= n.height)), O.attrs.width = G, O.attrs.height = Z, V && (V.setAttribute("width", G), V.setAttribute("height", Z));
        }
      }, S = N8(v, null, r, function(O) {
        l || w(k, O), w(f, O);
      });
      S && S.width && S.height && (d = d || S.width, p = p || S.height);
    }
    f = Xi("image", "img", {
      href: v,
      width: d,
      height: p
    }), o.width = d, o.height = p;
  } else
    a.svgElement && (f = Gt(a.svgElement), o.width = a.svgWidth, o.height = a.svgHeight);
  if (f) {
    var x, E;
    l ? x = E = 1 : u ? (E = 1, x = o.width / n.width) : c ? (x = 1, E = o.height / n.height) : o.patternUnits = "userSpaceOnUse", x != null && !isNaN(x) && (o.width = x), E != null && !isNaN(E) && (o.height = E);
    var M = C$(a);
    M && (o.patternTransform = M);
    var k = Xi("pattern", "", o, [f]), P = WD(k), L = i.patternCache, F = L[P];
    F || (F = i.zrId + "-p" + i.patternIdx++, L[P] = F, o.id = F, k = i.defs[F] = Xi("pattern", F, o, [f])), e[t] = cS(F);
  }
}
function jye(r, e, t) {
  var i = t.clipPathCache, a = t.defs, n = i[r.id];
  if (!n) {
    n = t.zrId + "-c" + t.clipPathIdx++;
    var o = {
      id: n
    };
    i[r.id] = n, a[n] = Xi("clipPath", n, o, [CX(r, t)]);
  }
  e["clip-path"] = cS(n);
}
function ZF(r) {
  return document.createTextNode(r);
}
function xf(r, e, t) {
  r.insertBefore(e, t);
}
function JF(r, e) {
  r.removeChild(e);
}
function QF(r, e) {
  r.appendChild(e);
}
function DX(r) {
  return r.parentNode;
}
function kX(r) {
  return r.nextSibling;
}
function c5(r, e) {
  r.textContent = e;
}
var eN = 58, qye = 120, Xye = Xi("", "");
function R6(r) {
  return r === void 0;
}
function pl(r) {
  return r !== void 0;
}
function Kye(r, e, t) {
  for (var i = {}, a = e; a <= t; ++a) {
    var n = r[a].key;
    n !== void 0 && (process.env.NODE_ENV !== "production" && i[n] != null && console.error("Duplicate key " + n), i[n] = a);
  }
  return i;
}
function Ig(r, e) {
  var t = r.key === e.key, i = r.tag === e.tag;
  return i && t;
}
function A1(r) {
  var e, t = r.children, i = r.tag;
  if (pl(i)) {
    var a = r.elm = bX(i);
    if (jD(Xye, r), Ke(t))
      for (e = 0; e < t.length; ++e) {
        var n = t[e];
        n != null && QF(a, A1(n));
      }
    else
      pl(r.text) && !zt(r.text) && QF(a, ZF(r.text));
  } else
    r.elm = ZF(r.text);
  return r.elm;
}
function MX(r, e, t, i, a) {
  for (; i <= a; ++i) {
    var n = t[i];
    n != null && xf(r, A1(n), e);
  }
}
function bb(r, e, t, i) {
  for (; t <= i; ++t) {
    var a = e[t];
    if (a != null)
      if (pl(a.tag)) {
        var n = DX(a.elm);
        JF(n, a.elm);
      } else
        JF(r, a.elm);
  }
}
function jD(r, e) {
  var t, i = e.elm, a = r && r.attrs || {}, n = e.attrs || {};
  if (a !== n) {
    for (t in n) {
      var o = n[t], s = a[t];
      s !== o && (o === !0 ? i.setAttribute(t, "") : o === !1 ? i.removeAttribute(t) : t === "style" ? i.style.cssText = o : t.charCodeAt(0) !== qye ? i.setAttribute(t, o) : t === "xmlns:xlink" || t === "xmlns" ? i.setAttributeNS(kye, t, o) : t.charCodeAt(3) === eN ? i.setAttributeNS(Mye, t, o) : t.charCodeAt(5) === eN ? i.setAttributeNS(_X, t, o) : i.setAttribute(t, o));
    }
    for (t in a)
      t in n || i.removeAttribute(t);
  }
}
function Zye(r, e, t) {
  for (var i = 0, a = 0, n = e.length - 1, o = e[0], s = e[n], l = t.length - 1, u = t[0], c = t[l], f, d, p, v; i <= n && a <= l; )
    o == null ? o = e[++i] : s == null ? s = e[--n] : u == null ? u = t[++a] : c == null ? c = t[--l] : Ig(o, u) ? (Pp(o, u), o = e[++i], u = t[++a]) : Ig(s, c) ? (Pp(s, c), s = e[--n], c = t[--l]) : Ig(o, c) ? (Pp(o, c), xf(r, o.elm, kX(s.elm)), o = e[++i], c = t[--l]) : Ig(s, u) ? (Pp(s, u), xf(r, s.elm, o.elm), s = e[--n], u = t[++a]) : (R6(f) && (f = Kye(e, i, n)), d = f[u.key], R6(d) ? xf(r, A1(u), o.elm) : (p = e[d], p.tag !== u.tag ? xf(r, A1(u), o.elm) : (Pp(p, u), e[d] = void 0, xf(r, p.elm, o.elm))), u = t[++a]);
  (i <= n || a <= l) && (i > n ? (v = t[l + 1] == null ? null : t[l + 1].elm, MX(r, v, t, a, l)) : bb(r, e, i, n));
}
function Pp(r, e) {
  var t = e.elm = r.elm, i = r.children, a = e.children;
  r !== e && (jD(r, e), R6(e.text) ? pl(i) && pl(a) ? i !== a && Zye(t, i, a) : pl(a) ? (pl(r.text) && c5(t, ""), MX(t, null, a, 0, a.length - 1)) : pl(i) ? bb(t, i, 0, i.length - 1) : pl(r.text) && c5(t, "") : r.text !== e.text && (pl(i) && bb(t, i, 0, i.length - 1), c5(t, e.text)));
}
function Jye(r, e) {
  if (Ig(r, e))
    Pp(r, e);
  else {
    var t = r.elm, i = DX(t);
    A1(e), i !== null && (xf(i, e.elm, kX(t)), bb(i, [r], 0, 0));
  }
  return e;
}
var Qye = 0, e2e = function() {
  function r(e, t, i) {
    if (this.type = "svg", this.refreshHover = tN("refreshHover"), this.configLayer = tN("configLayer"), this.storage = t, this._opts = i = $e({}, i), this.root = e, this._id = "zr" + Qye++, this._oldVNode = WF(i.width, i.height), e && !i.ssr) {
      var a = this._viewport = document.createElement("div");
      a.style.cssText = "position:relative;overflow:hidden";
      var n = this._svgDom = this._oldVNode.elm = bX("svg");
      jD(null, this._oldVNode), a.appendChild(n), e.appendChild(a);
    }
    this.resize(i.width, i.height);
  }
  return r.prototype.getType = function() {
    return this.type;
  }, r.prototype.getViewportRoot = function() {
    return this._viewport;
  }, r.prototype.getViewportRootOffset = function() {
    var e = this.getViewportRoot();
    if (e)
      return {
        offsetLeft: e.offsetLeft || 0,
        offsetTop: e.offsetTop || 0
      };
  }, r.prototype.getSvgDom = function() {
    return this._svgDom;
  }, r.prototype.refresh = function() {
    if (this.root) {
      var e = this.renderToVNode({
        willUpdate: !0
      });
      e.attrs.style = "position:absolute;left:0;top:0;user-select:none", Jye(this._oldVNode, e), this._oldVNode = e;
    }
  }, r.prototype.renderOneToVNode = function(e) {
    return KF(e, P6(this._id));
  }, r.prototype.renderToVNode = function(e) {
    e = e || {};
    var t = this.storage.getDisplayList(!0), i = this._width, a = this._height, n = P6(this._id);
    n.animation = e.animation, n.willUpdate = e.willUpdate, n.compress = e.compress, n.emphasis = e.emphasis, n.ssr = this._opts.ssr;
    var o = [], s = this._bgVNode = t2e(i, a, this._backgroundColor, n);
    s && o.push(s);
    var l = e.compress ? null : this._mainVNode = Xi("g", "main", {}, []);
    this._paintList(t, n, l ? l.children : o), l && o.push(l);
    var u = Je(Ir(n.defs), function(d) {
      return n.defs[d];
    });
    if (u.length && o.push(Xi("defs", "defs", {}, u)), e.animation) {
      var c = Rye(n.cssNodes, n.cssAnims, { newline: !0 });
      if (c) {
        var f = Xi("style", "stl", {}, [], c);
        o.push(f);
      }
    }
    return WF(i, a, o, e.useViewBox);
  }, r.prototype.renderToString = function(e) {
    return e = e || {}, WD(this.renderToVNode({
      animation: It(e.cssAnimation, !0),
      emphasis: It(e.cssEmphasis, !0),
      willUpdate: !1,
      compress: !0,
      useViewBox: It(e.useViewBox, !0)
    }), { newline: !0 });
  }, r.prototype.setBackgroundColor = function(e) {
    this._backgroundColor = e;
  }, r.prototype.getSvgRoot = function() {
    return this._mainVNode && this._mainVNode.elm;
  }, r.prototype._paintList = function(e, t, i) {
    for (var a = e.length, n = [], o = 0, s, l, u = 0, c = 0; c < a; c++) {
      var f = e[c];
      if (!f.invisible) {
        var d = f.__clipPaths, p = d && d.length || 0, v = l && l.length || 0, y = void 0;
        for (y = Math.max(p - 1, v - 1); y >= 0 && !(d && l && d[y] === l[y]); y--)
          ;
        for (var _ = v - 1; _ > y; _--)
          o--, s = n[o - 1];
        for (var w = y + 1; w < p; w++) {
          var S = {};
          jye(d[w], S, t);
          var x = Xi("g", "clip-g-" + u++, S, []);
          (s ? s.children : i).push(x), n[o++] = x, s = x;
        }
        l = d;
        var E = KF(f, t);
        E && (s ? s.children : i).push(E);
      }
    }
  }, r.prototype.resize = function(e, t) {
    var i = this._opts, a = this.root, n = this._viewport;
    if (e != null && (i.width = e), t != null && (i.height = t), a && n && (n.style.display = "none", e = zp(a, 0, i), t = zp(a, 1, i), n.style.display = ""), this._width !== e || this._height !== t) {
      if (this._width = e, this._height = t, n) {
        var o = n.style;
        o.width = e + "px", o.height = t + "px";
      }
      if (D8(this._backgroundColor))
        this.refresh();
      else {
        var s = this._svgDom;
        s && (s.setAttribute("width", e), s.setAttribute("height", t));
        var l = this._bgVNode && this._bgVNode.elm;
        l && (l.setAttribute("width", e), l.setAttribute("height", t));
      }
    }
  }, r.prototype.getWidth = function() {
    return this._width;
  }, r.prototype.getHeight = function() {
    return this._height;
  }, r.prototype.dispose = function() {
    this.root && (this.root.innerHTML = ""), this._svgDom = this._viewport = this.storage = this._oldVNode = this._bgVNode = this._mainVNode = null;
  }, r.prototype.clear = function() {
    this._svgDom && (this._svgDom.innerHTML = null), this._oldVNode = null;
  }, r.prototype.toDataURL = function(e) {
    var t = this.renderToString(), i = "data:image/svg+xml;";
    return e ? (t = qhe(t), t && i + "base64," + t) : i + "charset=UTF-8," + encodeURIComponent(t);
  }, r;
}();
function tN(r) {
  return function() {
    process.env.NODE_ENV !== "production" && as('In SVG mode painter not support method "' + r + '"');
  };
}
function t2e(r, e, t, i) {
  var a;
  if (t && t !== "none")
    if (a = Xi("rect", "bg", {
      width: r,
      height: e,
      x: "0",
      y: "0"
    }), x$(t))
      AX({ fill: t }, a.attrs, "fill", i);
    else if (D8(t))
      EX({
        style: {
          fill: t
        },
        dirty: si,
        getBoundingRect: function() {
          return { width: r, height: e };
        }
      }, a.attrs, "fill", i);
    else {
      var n = h1(t), o = n.color, s = n.opacity;
      a.attrs.fill = o, s < 1 && (a.attrs["fill-opacity"] = s);
    }
  return a;
}
const r2e = e2e;
function n2e(r) {
  r.registerPainter("svg", r2e);
}
function rN(r, e, t) {
  var i = vo.createCanvas(), a = e.getWidth(), n = e.getHeight(), o = i.style;
  return o && (o.position = "absolute", o.left = "0", o.top = "0", o.width = a + "px", o.height = n + "px", i.setAttribute("data-zr-dom-id", r)), i.width = a * t, i.height = n * t, i;
}
var i2e = function(r) {
  Nn(e, r);
  function e(t, i, a) {
    var n = r.call(this) || this;
    n.motionBlur = !1, n.lastFrameAlpha = 0.7, n.dpr = 1, n.virtual = !1, n.config = {}, n.incremental = !1, n.zlevel = 0, n.maxRepaintRectCount = 5, n.__dirty = !0, n.__firstTimePaint = !0, n.__used = !1, n.__drawIndex = 0, n.__startIndex = 0, n.__endIndex = 0, n.__prevStartIndex = null, n.__prevEndIndex = null;
    var o;
    a = a || U_, typeof t == "string" ? o = rN(t, i, a) : zt(t) && (o = t, t = o.id), n.id = t, n.dom = o;
    var s = o.style;
    return s && (S8(o), o.onselectstart = function() {
      return !1;
    }, s.padding = "0", s.margin = "0", s.borderWidth = "0"), n.painter = i, n.dpr = a, n;
  }
  return e.prototype.getElementCount = function() {
    return this.__endIndex - this.__startIndex;
  }, e.prototype.afterBrush = function() {
    this.__prevStartIndex = this.__startIndex, this.__prevEndIndex = this.__endIndex;
  }, e.prototype.initContext = function() {
    this.ctx = this.dom.getContext("2d"), this.ctx.dpr = this.dpr;
  }, e.prototype.setUnpainted = function() {
    this.__firstTimePaint = !0;
  }, e.prototype.createBackBuffer = function() {
    var t = this.dpr;
    this.domBack = rN("back-" + this.id, this.painter, t), this.ctxBack = this.domBack.getContext("2d"), t !== 1 && this.ctxBack.scale(t, t);
  }, e.prototype.createRepaintRects = function(t, i, a, n) {
    if (this.__firstTimePaint)
      return this.__firstTimePaint = !1, null;
    var o = [], s = this.maxRepaintRectCount, l = !1, u = new Jt(0, 0, 0, 0);
    function c(S) {
      if (!(!S.isFinite() || S.isZero()))
        if (o.length === 0) {
          var x = new Jt(0, 0, 0, 0);
          x.copy(S), o.push(x);
        } else {
          for (var E = !1, M = 1 / 0, k = 0, P = 0; P < o.length; ++P) {
            var L = o[P];
            if (L.intersect(S)) {
              var F = new Jt(0, 0, 0, 0);
              F.copy(L), F.union(S), o[P] = F, E = !0;
              break;
            } else if (l) {
              u.copy(S), u.union(L);
              var O = S.width * S.height, U = L.width * L.height, V = u.width * u.height, G = V - O - U;
              G < M && (M = G, k = P);
            }
          }
          if (l && (o[k].union(S), E = !0), !E) {
            var x = new Jt(0, 0, 0, 0);
            x.copy(S), o.push(x);
          }
          l || (l = o.length >= s);
        }
    }
    for (var f = this.__startIndex; f < this.__endIndex; ++f) {
      var d = t[f];
      if (d) {
        var p = d.shouldBePainted(a, n, !0, !0), v = d.__isRendered && (d.__dirty & To || !p) ? d.getPrevPaintRect() : null;
        v && c(v);
        var y = p && (d.__dirty & To || !d.__isRendered) ? d.getPaintRect() : null;
        y && c(y);
      }
    }
    for (var f = this.__prevStartIndex; f < this.__prevEndIndex; ++f) {
      var d = i[f], p = d && d.shouldBePainted(a, n, !0, !0);
      if (d && (!p || !d.__zr) && d.__isRendered) {
        var v = d.getPrevPaintRect();
        v && c(v);
      }
    }
    var _;
    do {
      _ = !1;
      for (var f = 0; f < o.length; ) {
        if (o[f].isZero()) {
          o.splice(f, 1);
          continue;
        }
        for (var w = f + 1; w < o.length; )
          o[f].intersect(o[w]) ? (_ = !0, o[f].union(o[w]), o.splice(w, 1)) : w++;
        f++;
      }
    } while (_);
    return this._paintRects = o, o;
  }, e.prototype.debugGetPaintRects = function() {
    return (this._paintRects || []).slice();
  }, e.prototype.resize = function(t, i) {
    var a = this.dpr, n = this.dom, o = n.style, s = this.domBack;
    o && (o.width = t + "px", o.height = i + "px"), n.width = t * a, n.height = i * a, s && (s.width = t * a, s.height = i * a, a !== 1 && this.ctxBack.scale(a, a));
  }, e.prototype.clear = function(t, i, a) {
    var n = this.dom, o = this.ctx, s = n.width, l = n.height;
    i = i || this.clearColor;
    var u = this.motionBlur && !t, c = this.lastFrameAlpha, f = this.dpr, d = this;
    u && (this.domBack || this.createBackBuffer(), this.ctxBack.globalCompositeOperation = "copy", this.ctxBack.drawImage(n, 0, 0, s / f, l / f));
    var p = this.domBack;
    function v(y, _, w, S) {
      if (o.clearRect(y, _, w, S), i && i !== "transparent") {
        var x = void 0;
        if (q1(i)) {
          var E = i.global || i.__width === w && i.__height === S;
          x = E && i.__canvasGradient || g6(o, i, {
            x: 0,
            y: 0,
            width: w,
            height: S
          }), i.__canvasGradient = x, i.__width = w, i.__height = S;
        } else
          JH(i) && (i.scaleX = i.scaleX || f, i.scaleY = i.scaleY || f, x = m6(o, i, {
            dirty: function() {
              d.setUnpainted(), d.painter.refresh();
            }
          }));
        o.save(), o.fillStyle = x || i, o.fillRect(y, _, w, S), o.restore();
      }
      u && (o.save(), o.globalAlpha = c, o.drawImage(p, y, _, w, S), o.restore());
    }
    !a || u ? v(0, 0, s, l) : a.length && J(a, function(y) {
      v(y.x * f, y.y * f, y.width * f, y.height * f);
    });
  }, e;
}(fs);
const h5 = i2e;
var nN = 1e5, cf = 314159, i2 = 0.01, a2e = 1e-3;
function o2e(r) {
  return r ? r.__builtin__ ? !0 : !(typeof r.resize != "function" || typeof r.refresh != "function") : !1;
}
function s2e(r, e) {
  var t = document.createElement("div");
  return t.style.cssText = [
    "position:relative",
    "width:" + r + "px",
    "height:" + e + "px",
    "padding:0",
    "margin:0",
    "border-width:0"
  ].join(";") + ";", t;
}
var l2e = function() {
  function r(e, t, i, a) {
    this.type = "canvas", this._zlevelList = [], this._prevDisplayList = [], this._layers = {}, this._layerConfig = {}, this._needsManuallyCompositing = !1, this.type = "canvas";
    var n = !e.nodeName || e.nodeName.toUpperCase() === "CANVAS";
    this._opts = i = $e({}, i || {}), this.dpr = i.devicePixelRatio || U_, this._singleCanvas = n, this.root = e;
    var o = e.style;
    o && (S8(e), e.innerHTML = ""), this.storage = t;
    var s = this._zlevelList;
    this._prevDisplayList = [];
    var l = this._layers;
    if (n) {
      var c = e, f = c.width, d = c.height;
      i.width != null && (f = i.width), i.height != null && (d = i.height), this.dpr = i.devicePixelRatio || 1, c.width = f * this.dpr, c.height = d * this.dpr, this._width = f, this._height = d;
      var p = new h5(c, this, this.dpr);
      p.__builtin__ = !0, p.initContext(), l[cf] = p, p.zlevel = cf, s.push(cf), this._domRoot = e;
    } else {
      this._width = zp(e, 0, i), this._height = zp(e, 1, i);
      var u = this._domRoot = s2e(this._width, this._height);
      e.appendChild(u);
    }
  }
  return r.prototype.getType = function() {
    return "canvas";
  }, r.prototype.isSingleCanvas = function() {
    return this._singleCanvas;
  }, r.prototype.getViewportRoot = function() {
    return this._domRoot;
  }, r.prototype.getViewportRootOffset = function() {
    var e = this.getViewportRoot();
    if (e)
      return {
        offsetLeft: e.offsetLeft || 0,
        offsetTop: e.offsetTop || 0
      };
  }, r.prototype.refresh = function(e) {
    var t = this.storage.getDisplayList(!0), i = this._prevDisplayList, a = this._zlevelList;
    this._redrawId = Math.random(), this._paintList(t, i, e, this._redrawId);
    for (var n = 0; n < a.length; n++) {
      var o = a[n], s = this._layers[o];
      if (!s.__builtin__ && s.refresh) {
        var l = n === 0 ? this._backgroundColor : null;
        s.refresh(l);
      }
    }
    return this._opts.useDirtyRect && (this._prevDisplayList = t.slice()), this;
  }, r.prototype.refreshHover = function() {
    this._paintHoverList(this.storage.getDisplayList(!1));
  }, r.prototype._paintHoverList = function(e) {
    var t = e.length, i = this._hoverlayer;
    if (i && i.clear(), !!t) {
      for (var a = {
        inHover: !0,
        viewWidth: this._width,
        viewHeight: this._height
      }, n, o = 0; o < t; o++) {
        var s = e[o];
        s.__inHover && (i || (i = this._hoverlayer = this.getLayer(nN)), n || (n = i.ctx, n.save()), Ff(n, s, a, o === t - 1));
      }
      n && n.restore();
    }
  }, r.prototype.getHoverLayer = function() {
    return this.getLayer(nN);
  }, r.prototype.paintOne = function(e, t) {
    CD(e, t);
  }, r.prototype._paintList = function(e, t, i, a) {
    if (this._redrawId === a) {
      i = i || !1, this._updateLayerStatus(e);
      var n = this._doPaintList(e, t, i), o = n.finished, s = n.needsRefreshHover;
      if (this._needsManuallyCompositing && this._compositeManually(), s && this._paintHoverList(e), o)
        this.eachLayer(function(u) {
          u.afterBrush && u.afterBrush();
        });
      else {
        var l = this;
        TA(function() {
          l._paintList(e, t, i, a);
        });
      }
    }
  }, r.prototype._compositeManually = function() {
    var e = this.getLayer(cf).ctx, t = this._domRoot.width, i = this._domRoot.height;
    e.clearRect(0, 0, t, i), this.eachBuiltinLayer(function(a) {
      a.virtual && e.drawImage(a.dom, 0, 0, t, i);
    });
  }, r.prototype._doPaintList = function(e, t, i) {
    for (var a = this, n = [], o = this._opts.useDirtyRect, s = 0; s < this._zlevelList.length; s++) {
      var l = this._zlevelList[s], u = this._layers[l];
      u.__builtin__ && u !== this._hoverlayer && (u.__dirty || i) && n.push(u);
    }
    for (var c = !0, f = !1, d = function(y) {
      var _ = n[y], w = _.ctx, S = o && _.createRepaintRects(e, t, p._width, p._height), x = i ? _.__startIndex : _.__drawIndex, E = !i && _.incremental && Date.now, M = E && Date.now(), k = _.zlevel === p._zlevelList[0] ? p._backgroundColor : null;
      if (_.__startIndex === _.__endIndex)
        _.clear(!1, k, S);
      else if (x === _.__startIndex) {
        var P = e[x];
        (!P.incremental || !P.notClear || i) && _.clear(!1, k, S);
      }
      x === -1 && (console.error("For some unknown reason. drawIndex is -1"), x = _.__startIndex);
      var L, F = function(G) {
        var Z = {
          inHover: !1,
          allClipped: !1,
          prevEl: null,
          viewWidth: a._width,
          viewHeight: a._height
        };
        for (L = x; L < _.__endIndex; L++) {
          var Q = e[L];
          if (Q.__inHover && (f = !0), a._doPaintEl(Q, _, o, G, Z, L === _.__endIndex - 1), E) {
            var se = Date.now() - M;
            if (se > 15)
              break;
          }
        }
        Z.prevElClipPaths && w.restore();
      };
      if (S)
        if (S.length === 0)
          L = _.__endIndex;
        else
          for (var O = p.dpr, U = 0; U < S.length; ++U) {
            var V = S[U];
            w.save(), w.beginPath(), w.rect(V.x * O, V.y * O, V.width * O, V.height * O), w.clip(), F(V), w.restore();
          }
      else
        w.save(), F(), w.restore();
      _.__drawIndex = L, _.__drawIndex < _.__endIndex && (c = !1);
    }, p = this, v = 0; v < n.length; v++)
      d(v);
    return qr.wxa && J(this._layers, function(y) {
      y && y.ctx && y.ctx.draw && y.ctx.draw();
    }), {
      finished: c,
      needsRefreshHover: f
    };
  }, r.prototype._doPaintEl = function(e, t, i, a, n, o) {
    var s = t.ctx;
    if (i) {
      var l = e.getPaintRect();
      (!a || l && l.intersect(a)) && (Ff(s, e, n, o), e.setPrevPaintRect(l));
    } else
      Ff(s, e, n, o);
  }, r.prototype.getLayer = function(e, t) {
    this._singleCanvas && !this._needsManuallyCompositing && (e = cf);
    var i = this._layers[e];
    return i || (i = new h5("zr_" + e, this, this.dpr), i.zlevel = e, i.__builtin__ = !0, this._layerConfig[e] ? gr(i, this._layerConfig[e], !0) : this._layerConfig[e - i2] && gr(i, this._layerConfig[e - i2], !0), t && (i.virtual = t), this.insertLayer(e, i), i.initContext()), i;
  }, r.prototype.insertLayer = function(e, t) {
    var i = this._layers, a = this._zlevelList, n = a.length, o = this._domRoot, s = null, l = -1;
    if (i[e]) {
      process.env.NODE_ENV !== "production" && as("ZLevel " + e + " has been used already");
      return;
    }
    if (!o2e(t)) {
      process.env.NODE_ENV !== "production" && as("Layer of zlevel " + e + " is not valid");
      return;
    }
    if (n > 0 && e > a[0]) {
      for (l = 0; l < n - 1 && !(a[l] < e && a[l + 1] > e); l++)
        ;
      s = i[a[l]];
    }
    if (a.splice(l + 1, 0, e), i[e] = t, !t.virtual)
      if (s) {
        var u = s.dom;
        u.nextSibling ? o.insertBefore(t.dom, u.nextSibling) : o.appendChild(t.dom);
      } else
        o.firstChild ? o.insertBefore(t.dom, o.firstChild) : o.appendChild(t.dom);
    t.painter || (t.painter = this);
  }, r.prototype.eachLayer = function(e, t) {
    for (var i = this._zlevelList, a = 0; a < i.length; a++) {
      var n = i[a];
      e.call(t, this._layers[n], n);
    }
  }, r.prototype.eachBuiltinLayer = function(e, t) {
    for (var i = this._zlevelList, a = 0; a < i.length; a++) {
      var n = i[a], o = this._layers[n];
      o.__builtin__ && e.call(t, o, n);
    }
  }, r.prototype.eachOtherLayer = function(e, t) {
    for (var i = this._zlevelList, a = 0; a < i.length; a++) {
      var n = i[a], o = this._layers[n];
      o.__builtin__ || e.call(t, o, n);
    }
  }, r.prototype.getLayers = function() {
    return this._layers;
  }, r.prototype._updateLayerStatus = function(e) {
    this.eachBuiltinLayer(function(f, d) {
      f.__dirty = f.__used = !1;
    });
    function t(f) {
      n && (n.__endIndex !== f && (n.__dirty = !0), n.__endIndex = f);
    }
    if (this._singleCanvas)
      for (var i = 1; i < e.length; i++) {
        var a = e[i];
        if (a.zlevel !== e[i - 1].zlevel || a.incremental) {
          this._needsManuallyCompositing = !0;
          break;
        }
      }
    var n = null, o = 0, s, l;
    for (l = 0; l < e.length; l++) {
      var a = e[l], u = a.zlevel, c = void 0;
      s !== u && (s = u, o = 0), a.incremental ? (c = this.getLayer(u + a2e, this._needsManuallyCompositing), c.incremental = !0, o = 1) : c = this.getLayer(u + (o > 0 ? i2 : 0), this._needsManuallyCompositing), c.__builtin__ || as("ZLevel " + u + " has been used by unkown layer " + c.id), c !== n && (c.__used = !0, c.__startIndex !== l && (c.__dirty = !0), c.__startIndex = l, c.incremental ? c.__drawIndex = -1 : c.__drawIndex = l, t(l), n = c), a.__dirty & To && !a.__inHover && (c.__dirty = !0, c.incremental && c.__drawIndex < 0 && (c.__drawIndex = l));
    }
    t(l), this.eachBuiltinLayer(function(f, d) {
      !f.__used && f.getElementCount() > 0 && (f.__dirty = !0, f.__startIndex = f.__endIndex = f.__drawIndex = 0), f.__dirty && f.__drawIndex < 0 && (f.__drawIndex = f.__startIndex);
    });
  }, r.prototype.clear = function() {
    return this.eachBuiltinLayer(this._clearLayer), this;
  }, r.prototype._clearLayer = function(e) {
    e.clear();
  }, r.prototype.setBackgroundColor = function(e) {
    this._backgroundColor = e, J(this._layers, function(t) {
      t.setUnpainted();
    });
  }, r.prototype.configLayer = function(e, t) {
    if (t) {
      var i = this._layerConfig;
      i[e] ? gr(i[e], t, !0) : i[e] = t;
      for (var a = 0; a < this._zlevelList.length; a++) {
        var n = this._zlevelList[a];
        if (n === e || n === e + i2) {
          var o = this._layers[n];
          gr(o, i[e], !0);
        }
      }
    }
  }, r.prototype.delLayer = function(e) {
    var t = this._layers, i = this._zlevelList, a = t[e];
    a && (a.dom.parentNode.removeChild(a.dom), delete t[e], i.splice(dr(i, e), 1));
  }, r.prototype.resize = function(e, t) {
    if (this._domRoot.style) {
      var i = this._domRoot;
      i.style.display = "none";
      var a = this._opts, n = this.root;
      if (e != null && (a.width = e), t != null && (a.height = t), e = zp(n, 0, a), t = zp(n, 1, a), i.style.display = "", this._width !== e || t !== this._height) {
        i.style.width = e + "px", i.style.height = t + "px";
        for (var o in this._layers)
          this._layers.hasOwnProperty(o) && this._layers[o].resize(e, t);
        this.refresh(!0);
      }
      this._width = e, this._height = t;
    } else {
      if (e == null || t == null)
        return;
      this._width = e, this._height = t, this.getLayer(cf).resize(e, t);
    }
    return this;
  }, r.prototype.clearLayer = function(e) {
    var t = this._layers[e];
    t && t.clear();
  }, r.prototype.dispose = function() {
    this.root.innerHTML = "", this.root = this.storage = this._domRoot = this._layers = null;
  }, r.prototype.getRenderedCanvas = function(e) {
    if (e = e || {}, this._singleCanvas && !this._compositeManually)
      return this._layers[cf].dom;
    var t = new h5("image", this, e.pixelRatio || this.dpr);
    t.initContext(), t.clear(!1, e.backgroundColor || this._backgroundColor);
    var i = t.ctx;
    if (e.pixelRatio <= this.dpr) {
      this.refresh();
      var a = t.dom.width, n = t.dom.height;
      this.eachLayer(function(f) {
        f.__builtin__ ? i.drawImage(f.dom, 0, 0, a, n) : f.renderToCanvas && (i.save(), f.renderToCanvas(i), i.restore());
      });
    } else
      for (var o = {
        inHover: !1,
        viewWidth: this._width,
        viewHeight: this._height
      }, s = this.storage.getDisplayList(!0), l = 0, u = s.length; l < u; l++) {
        var c = s[l];
        Ff(i, c, o, l === u - 1);
      }
    return t.dom;
  }, r.prototype.getWidth = function() {
    return this._width;
  }, r.prototype.getHeight = function() {
    return this._height;
  }, r;
}();
const u2e = l2e;
function c2e(r) {
  r.registerPainter("canvas", u2e);
}
var h2e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.hasSymbolVisual = !0, t;
    }
    return e.prototype.getInitialData = function(t) {
      if (process.env.NODE_ENV !== "production") {
        var i = t.coordinateSystem;
        if (i !== "polar" && i !== "cartesian2d")
          throw new Error("Line not support coordinateSystem besides cartesian and polar");
      }
      return Bl(null, this, {
        useEncodeDefaulter: !0
      });
    }, e.prototype.getLegendIcon = function(t) {
      var i = new Wt(), a = Si("line", 0, t.itemHeight / 2, t.itemWidth, 0, t.lineStyle.stroke, !1);
      i.add(a), a.setStyle(t.lineStyle);
      var n = this.getData().getVisual("symbol"), o = this.getData().getVisual("symbolRotate"), s = n === "none" ? "circle" : n, l = t.itemHeight * 0.8, u = Si(s, (t.itemWidth - l) / 2, (t.itemHeight - l) / 2, l, l, t.itemStyle.fill);
      i.add(u), u.setStyle(t.itemStyle);
      var c = t.iconRotate === "inherit" ? o : t.iconRotate || 0;
      return u.rotation = c * Math.PI / 180, u.setOrigin([t.itemWidth / 2, t.itemHeight / 2]), s.indexOf("empty") > -1 && (u.style.stroke = u.style.fill, u.style.fill = Ve.color.neutral00, u.style.lineWidth = 2), i;
    }, e.type = "series.line", e.dependencies = ["grid", "polar"], e.defaultOption = {
      // zlevel: 0,
      z: 3,
      coordinateSystem: "cartesian2d",
      legendHoverLink: !0,
      clip: !0,
      label: {
        position: "top"
      },
      // itemStyle: {
      // },
      endLabel: {
        show: !1,
        valueAnimation: !0,
        distance: 8
      },
      lineStyle: {
        width: 2,
        type: "solid"
      },
      emphasis: {
        scale: !0
      },
      // areaStyle: {
      // origin of areaStyle. Valid values:
      // `'auto'/null/undefined`: from axisLine to data
      // `'start'`: from min to data
      // `'end'`: from data to max
      // origin: 'auto'
      // },
      // false, 'start', 'end', 'middle'
      step: !1,
      // Disabled if step is true
      smooth: !1,
      smoothMonotone: null,
      symbol: "emptyCircle",
      symbolSize: 6,
      symbolRotate: null,
      showSymbol: !0,
      // `false`: follow the label interval strategy.
      // `true`: show all symbols.
      // `'auto'`: If possible, show all symbols, otherwise
      //           follow the label interval strategy.
      showAllSymbol: "auto",
      // Whether to connect break point.
      connectNulls: !1,
      // Sampling for large data. Can be: 'average', 'max', 'min', 'sum', 'lttb'.
      sampling: "none",
      animationEasing: "linear",
      // Disable progressive
      progressive: 0,
      hoverLayerThreshold: 1 / 0,
      universalTransition: {
        divideShape: "clone"
      },
      triggerLineEvent: !1
    }, e;
  }(En)
);
const f2e = h2e;
function d0(r, e) {
  var t = r.mapDimensionsAll("defaultedLabel"), i = t.length;
  if (i === 1) {
    var a = c0(r, e, t[0]);
    return a != null ? a + "" : null;
  } else if (i) {
    for (var n = [], o = 0; o < t.length; o++)
      n.push(c0(r, e, t[o]));
    return n.join(" ");
  }
}
function IX(r, e) {
  var t = r.mapDimensionsAll("defaultedLabel");
  if (!Ke(e))
    return e + "";
  for (var i = [], a = 0; a < t.length; a++) {
    var n = r.getDimensionIndex(t[a]);
    n >= 0 && i.push(e[n]);
  }
  return i.join(" ");
}
var d2e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i, a, n) {
      var o = r.call(this) || this;
      return o.updateData(t, i, a, n), o;
    }
    return e.prototype._createSymbol = function(t, i, a, n, o, s) {
      this.removeAll();
      var l = Si(t, -1, -1, 2, 2, null, s);
      l.attr({
        z2: It(o, 100),
        culling: !0,
        scaleX: n[0] / 2,
        scaleY: n[1] / 2
      }), l.drift = p2e, this._symbolType = t, this.add(l);
    }, e.prototype.stopSymbolAnimation = function(t) {
      this.childAt(0).stopAnimation(null, t);
    }, e.prototype.getSymbolType = function() {
      return this._symbolType;
    }, e.prototype.getSymbolPath = function() {
      return this.childAt(0);
    }, e.prototype.highlight = function() {
      Vu(this.childAt(0));
    }, e.prototype.downplay = function() {
      Uu(this.childAt(0));
    }, e.prototype.setZ = function(t, i) {
      var a = this.childAt(0);
      a.zlevel = t, a.z = i;
    }, e.prototype.setDraggable = function(t, i) {
      var a = this.childAt(0);
      a.draggable = t, a.cursor = !i && t ? "move" : a.cursor;
    }, e.prototype.updateData = function(t, i, a, n) {
      this.silent = !1;
      var o = t.getItemVisual(i, "symbol") || "circle", s = t.hostModel, l = e.getSymbolSize(t, i), u = e.getSymbolZ2(t, i), c = o !== this._symbolType, f = n && n.disableAnimation;
      if (c) {
        var d = t.getItemVisual(i, "symbolKeepAspect");
        this._createSymbol(o, t, i, l, u, d);
      } else {
        var p = this.childAt(0);
        p.silent = !1;
        var v = {
          scaleX: l[0] / 2,
          scaleY: l[1] / 2
        };
        f ? p.attr(v) : Wr(p, v, s, i), hs(p);
      }
      if (this._updateCommon(t, i, l, a, n), c) {
        var p = this.childAt(0);
        if (!f) {
          var v = {
            scaleX: this._sizeX,
            scaleY: this._sizeY,
            style: {
              // Always fadeIn. Because it has fadeOut animation when symbol is removed..
              opacity: p.style.opacity
            }
          };
          p.scaleX = p.scaleY = 0, p.style.opacity = 0, In(p, v, s, i);
        }
      }
      f && this.childAt(0).stopAnimation("leave");
    }, e.prototype._updateCommon = function(t, i, a, n, o) {
      var s = this.childAt(0), l = t.hostModel, u, c, f, d, p, v, y, _, w;
      if (n && (u = n.emphasisItemStyle, c = n.blurItemStyle, f = n.selectItemStyle, d = n.focus, p = n.blurScope, y = n.labelStatesModels, _ = n.hoverScale, w = n.cursorStyle, v = n.emphasisDisabled), !n || t.hasItemOption) {
        var S = n && n.itemModel ? n.itemModel : t.getItemModel(i), x = S.getModel("emphasis");
        u = x.getModel("itemStyle").getItemStyle(), f = S.getModel(["select", "itemStyle"]).getItemStyle(), c = S.getModel(["blur", "itemStyle"]).getItemStyle(), d = x.get("focus"), p = x.get("blurScope"), v = x.get("disabled"), y = zi(S), _ = x.getShallow("scale"), w = S.getShallow("cursor");
      }
      var E = t.getItemVisual(i, "symbolRotate");
      s.attr("rotation", (E || 0) * Math.PI / 180 || 0);
      var M = Ad(t.getItemVisual(i, "symbolOffset"), a);
      M && (s.x = M[0], s.y = M[1]), w && s.attr("cursor", w);
      var k = t.getItemVisual(i, "style"), P = k.fill;
      if (s instanceof ha) {
        var L = s.style;
        s.useStyle($e({
          // TODO other properties like x, y ?
          image: L.image,
          x: L.x,
          y: L.y,
          width: L.width,
          height: L.height
        }, k));
      } else
        s.__isEmptyBrush ? s.useStyle($e({}, k)) : s.useStyle(k), s.style.decal = null, s.setColor(P, o && o.symbolInnerColor), s.style.strokeNoScale = !0;
      var F = t.getItemVisual(i, "liftZ"), O = this._z2;
      F != null ? O == null && (this._z2 = s.z2, s.z2 += F) : O != null && (s.z2 = O, this._z2 = null);
      var U = o && o.useNameLabel;
      ea(s, y, {
        labelFetcher: l,
        labelDataIndex: i,
        defaultText: V,
        inheritColor: P,
        defaultOpacity: k.opacity
      });
      function V(Q) {
        return U ? t.getName(Q) : d0(t, Q);
      }
      this._sizeX = a[0] / 2, this._sizeY = a[1] / 2;
      var G = s.ensureState("emphasis");
      G.style = u, s.ensureState("select").style = f, s.ensureState("blur").style = c;
      var Z = _ == null || _ === !0 ? Math.max(1.1, 3 / this._sizeY) : isFinite(_) && _ > 0 ? +_ : 1;
      G.scaleX = this._sizeX * Z, G.scaleY = this._sizeY * Z, this.setSymbolScale(1), Wn(this, d, p, v);
    }, e.prototype.setSymbolScale = function(t) {
      this.scaleX = this.scaleY = t;
    }, e.prototype.fadeOut = function(t, i, a) {
      var n = this.childAt(0), o = er(this).dataIndex, s = a && a.animation;
      if (this.silent = n.silent = !0, a && a.fadeLabel) {
        var l = n.getTextContent();
        l && Zc(l, {
          style: {
            opacity: 0
          }
        }, i, {
          dataIndex: o,
          removeOpt: s,
          cb: function() {
            n.removeTextContent();
          }
        });
      } else
        n.removeTextContent();
      Zc(n, {
        style: {
          opacity: 0
        },
        scaleX: 0,
        scaleY: 0
      }, i, {
        dataIndex: o,
        cb: t,
        removeOpt: s
      });
    }, e.getSymbolSize = function(t, i) {
      return z0(t.getItemVisual(i, "symbolSize"));
    }, e.getSymbolZ2 = function(t, i) {
      return t.getItemVisual(i, "z2");
    }, e;
  }(Wt)
);
function p2e(r, e) {
  this.parent.drift(r, e);
}
const cm = d2e;
function f5(r, e, t, i) {
  return e && !isNaN(e[0]) && !isNaN(e[1]) && !(i.isIgnore && i.isIgnore(t)) && !(i.clipShape && !i.clipShape.contain(e[0], e[1])) && r.getItemVisual(t, "symbol") !== "none";
}
function iN(r) {
  return r != null && !zt(r) && (r = {
    isIgnore: r
  }), r || {};
}
function aN(r) {
  var e = r.hostModel, t = e.getModel("emphasis");
  return {
    emphasisItemStyle: t.getModel("itemStyle").getItemStyle(),
    blurItemStyle: e.getModel(["blur", "itemStyle"]).getItemStyle(),
    selectItemStyle: e.getModel(["select", "itemStyle"]).getItemStyle(),
    focus: t.get("focus"),
    blurScope: t.get("blurScope"),
    emphasisDisabled: t.get("disabled"),
    hoverScale: t.get("scale"),
    labelStatesModels: zi(e),
    cursorStyle: e.get("cursor")
  };
}
var v2e = (
  /** @class */
  function() {
    function r(e) {
      this.group = new Wt(), this._SymbolCtor = e || cm;
    }
    return r.prototype.updateData = function(e, t) {
      this._progressiveEls = null, t = iN(t);
      var i = this.group, a = e.hostModel, n = this._data, o = this._SymbolCtor, s = t.disableAnimation, l = aN(e), u = {
        disableAnimation: s
      }, c = t.getSymbolPoint || function(f) {
        return e.getItemLayout(f);
      };
      n || i.removeAll(), e.diff(n).add(function(f) {
        var d = c(f);
        if (f5(e, d, f, t)) {
          var p = new o(e, f, l, u);
          p.setPosition(d), e.setItemGraphicEl(f, p), i.add(p);
        }
      }).update(function(f, d) {
        var p = n.getItemGraphicEl(d), v = c(f);
        if (!f5(e, v, f, t)) {
          i.remove(p);
          return;
        }
        var y = e.getItemVisual(f, "symbol") || "circle", _ = p && p.getSymbolType && p.getSymbolType();
        if (!p || _ && _ !== y)
          i.remove(p), p = new o(e, f, l, u), p.setPosition(v);
        else {
          p.updateData(e, f, l, u);
          var w = {
            x: v[0],
            y: v[1]
          };
          s ? p.attr(w) : Wr(p, w, a);
        }
        i.add(p), e.setItemGraphicEl(f, p);
      }).remove(function(f) {
        var d = n.getItemGraphicEl(f);
        d && d.fadeOut(function() {
          i.remove(d);
        }, a);
      }).execute(), this._getSymbolPoint = c, this._data = e;
    }, r.prototype.updateLayout = function() {
      var e = this, t = this._data;
      t && t.eachItemGraphicEl(function(i, a) {
        var n = e._getSymbolPoint(a);
        i.setPosition(n), i.markRedraw();
      });
    }, r.prototype.incrementalPrepareUpdate = function(e) {
      this._seriesScope = aN(e), this._data = null, this.group.removeAll();
    }, r.prototype.incrementalUpdate = function(e, t, i) {
      this._progressiveEls = [], i = iN(i);
      function a(l) {
        l.isGroup || (l.incremental = !0, l.ensureState("emphasis").hoverLayer = !0);
      }
      for (var n = e.start; n < e.end; n++) {
        var o = t.getItemLayout(n);
        if (f5(t, o, n, i)) {
          var s = new this._SymbolCtor(t, n, this._seriesScope);
          s.traverse(a), s.setPosition(o), this.group.add(s), t.setItemGraphicEl(n, s), this._progressiveEls.push(s);
        }
      }
    }, r.prototype.eachRendered = function(e) {
      fh(this._progressiveEls || this.group, e);
    }, r.prototype.remove = function(e) {
      var t = this.group, i = this._data;
      i && e ? i.eachItemGraphicEl(function(a) {
        a.fadeOut(function() {
          t.remove(a);
        }, i.hostModel);
      }) : t.removeAll();
    }, r;
  }()
);
const hm = v2e;
function PX(r, e, t) {
  var i = r.getBaseAxis(), a = r.getOtherAxis(i), n = g2e(a, t), o = i.dim, s = a.dim, l = e.mapDimension(s), u = e.mapDimension(o), c = s === "x" || s === "radius" ? 1 : 0, f = Je(r.dimensions, function(v) {
    return e.mapDimension(v);
  }), d = !1, p = e.getCalculationInfo("stackResultDimension");
  return zu(
    e,
    f[0]
    /* , dims[1] */
  ) && (d = !0, f[0] = p), zu(
    e,
    f[1]
    /* , dims[0] */
  ) && (d = !0, f[1] = p), {
    dataDimsForPoint: f,
    valueStart: n,
    valueAxisDim: s,
    baseAxisDim: o,
    stacked: !!d,
    valueDim: l,
    baseDim: u,
    baseDataOffset: c,
    stackedOverDimension: e.getCalculationInfo("stackedOverDimension")
  };
}
function g2e(r, e) {
  var t = 0, i = r.scale.getExtent();
  return e === "start" ? t = i[0] : e === "end" ? t = i[1] : Or(e) && !isNaN(e) ? t = e : i[0] > 0 ? t = i[0] : i[1] < 0 && (t = i[1]), t;
}
function RX(r, e, t, i) {
  var a = NaN;
  r.stacked && (a = t.get(t.getCalculationInfo("stackedOverDimension"), i)), isNaN(a) && (a = r.valueStart);
  var n = r.baseDataOffset, o = [];
  return o[n] = t.get(r.baseDim, i), o[1 - n] = a, e.dataToPoint(o);
}
function m2e(r, e) {
  var t = [];
  return e.diff(r).add(function(i) {
    t.push({
      cmd: "+",
      idx: i
    });
  }).update(function(i, a) {
    t.push({
      cmd: "=",
      idx: a,
      idx1: i
    });
  }).remove(function(i) {
    t.push({
      cmd: "-",
      idx: i
    });
  }).execute(), t;
}
function y2e(r, e, t, i, a, n, o, s) {
  for (var l = m2e(r, e), u = [], c = [], f = [], d = [], p = [], v = [], y = [], _ = PX(a, e, o), w = r.getLayout("points") || [], S = e.getLayout("points") || [], x = 0; x < l.length; x++) {
    var E = l[x], M = !0, k = void 0, P = void 0;
    switch (E.cmd) {
      case "=":
        k = E.idx * 2, P = E.idx1 * 2;
        var L = w[k], F = w[k + 1], O = S[P], U = S[P + 1];
        (isNaN(L) || isNaN(F)) && (L = O, F = U), u.push(L, F), c.push(O, U), f.push(t[k], t[k + 1]), d.push(i[P], i[P + 1]), y.push(e.getRawIndex(E.idx1));
        break;
      case "+":
        var V = E.idx, G = _.dataDimsForPoint, Z = a.dataToPoint([e.get(G[0], V), e.get(G[1], V)]);
        P = V * 2, u.push(Z[0], Z[1]), c.push(S[P], S[P + 1]);
        var Q = RX(_, a, e, V);
        f.push(Q[0], Q[1]), d.push(i[P], i[P + 1]), y.push(e.getRawIndex(V));
        break;
      case "-":
        M = !1;
    }
    M && (p.push(E), v.push(v.length));
  }
  v.sort(function(De, Ie) {
    return y[De] - y[Ie];
  });
  for (var se = u.length, de = xl(se), le = xl(se), Se = xl(se), he = xl(se), fe = [], x = 0; x < v.length; x++) {
    var K = v[x], we = x * 2, ve = K * 2;
    de[we] = u[ve], de[we + 1] = u[ve + 1], le[we] = c[ve], le[we + 1] = c[ve + 1], Se[we] = f[ve], Se[we + 1] = f[ve + 1], he[we] = d[ve], he[we + 1] = d[ve + 1], fe[x] = p[K];
  }
  return {
    current: de,
    next: le,
    stackedOnCurrent: Se,
    stackedOnNext: he,
    status: fe
  };
}
var _c = Math.min, bc = Math.max;
function Yf(r, e) {
  return isNaN(r) || isNaN(e);
}
function L6(r, e, t, i, a, n, o, s, l) {
  for (var u, c, f, d, p, v, y = t, _ = 0; _ < i; _++) {
    var w = e[y * 2], S = e[y * 2 + 1];
    if (y >= a || y < 0)
      break;
    if (Yf(w, S)) {
      if (l) {
        y += n;
        continue;
      }
      break;
    }
    if (y === t)
      r[n > 0 ? "moveTo" : "lineTo"](w, S), f = w, d = S;
    else {
      var x = w - u, E = S - c;
      if (x * x + E * E < 0.5) {
        y += n;
        continue;
      }
      if (o > 0) {
        for (var M = y + n, k = e[M * 2], P = e[M * 2 + 1]; k === w && P === S && _ < i; )
          _++, M += n, y += n, k = e[M * 2], P = e[M * 2 + 1], w = e[y * 2], S = e[y * 2 + 1], x = w - u, E = S - c;
        var L = _ + 1;
        if (l)
          for (; Yf(k, P) && L < i; )
            L++, M += n, k = e[M * 2], P = e[M * 2 + 1];
        var F = 0.5, O = 0, U = 0, V = void 0, G = void 0;
        if (L >= i || Yf(k, P))
          p = w, v = S;
        else {
          O = k - u, U = P - c;
          var Z = w - u, Q = k - w, se = S - c, de = P - S, le = void 0, Se = void 0;
          if (s === "x") {
            le = Math.abs(Z), Se = Math.abs(Q);
            var he = O > 0 ? 1 : -1;
            p = w - he * le * o, v = S, V = w + he * Se * o, G = S;
          } else if (s === "y") {
            le = Math.abs(se), Se = Math.abs(de);
            var fe = U > 0 ? 1 : -1;
            p = w, v = S - fe * le * o, V = w, G = S + fe * Se * o;
          } else
            le = Math.sqrt(Z * Z + se * se), Se = Math.sqrt(Q * Q + de * de), F = Se / (Se + le), p = w - O * o * (1 - F), v = S - U * o * (1 - F), V = w + O * o * F, G = S + U * o * F, V = _c(V, bc(k, w)), G = _c(G, bc(P, S)), V = bc(V, _c(k, w)), G = bc(G, _c(P, S)), O = V - w, U = G - S, p = w - O * le / Se, v = S - U * le / Se, p = _c(p, bc(u, w)), v = _c(v, bc(c, S)), p = bc(p, _c(u, w)), v = bc(v, _c(c, S)), O = w - p, U = S - v, V = w + O * Se / le, G = S + U * Se / le;
        }
        r.bezierCurveTo(f, d, p, v, w, S), f = V, d = G;
      } else
        r.lineTo(w, S);
    }
    u = w, c = S, y += n;
  }
  return _;
}
var LX = (
  /** @class */
  function() {
    function r() {
      this.smooth = 0, this.smoothConstraint = !0;
    }
    return r;
  }()
), _2e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t) {
      var i = r.call(this, t) || this;
      return i.type = "ec-polyline", i;
    }
    return e.prototype.getDefaultStyle = function() {
      return {
        stroke: Ve.color.neutral99,
        fill: null
      };
    }, e.prototype.getDefaultShape = function() {
      return new LX();
    }, e.prototype.buildPath = function(t, i) {
      var a = i.points, n = 0, o = a.length / 2;
      if (i.connectNulls) {
        for (; o > 0 && Yf(a[o * 2 - 2], a[o * 2 - 1]); o--)
          ;
        for (; n < o && Yf(a[n * 2], a[n * 2 + 1]); n++)
          ;
      }
      for (; n < o; )
        n += L6(t, a, n, o, o, 1, i.smooth, i.smoothMonotone, i.connectNulls) + 1;
    }, e.prototype.getPointOn = function(t, i) {
      this.path || (this.createPathProxy(), this.buildPath(this.path, this.shape));
      for (var a = this.path, n = a.data, o = Il.CMD, s, l, u = i === "x", c = [], f = 0; f < n.length; ) {
        var d = n[f++], p = void 0, v = void 0, y = void 0, _ = void 0, w = void 0, S = void 0, x = void 0;
        switch (d) {
          case o.M:
            s = n[f++], l = n[f++];
            break;
          case o.L:
            if (p = n[f++], v = n[f++], x = u ? (t - s) / (p - s) : (t - l) / (v - l), x <= 1 && x >= 0) {
              var E = u ? (v - l) * x + l : (p - s) * x + s;
              return u ? [t, E] : [E, t];
            }
            s = p, l = v;
            break;
          case o.C:
            p = n[f++], v = n[f++], y = n[f++], _ = n[f++], w = n[f++], S = n[f++];
            var M = u ? F_(s, p, y, w, t, c) : F_(l, v, _, S, t, c);
            if (M > 0)
              for (var k = 0; k < M; k++) {
                var P = c[k];
                if (P <= 1 && P >= 0) {
                  var E = u ? qi(l, v, _, S, P) : qi(s, p, y, w, P);
                  return u ? [t, E] : [E, t];
                }
              }
            s = w, l = S;
            break;
        }
      }
    }, e;
  }(Er)
), b2e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e;
  }(LX)
), OX = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t) {
      var i = r.call(this, t) || this;
      return i.type = "ec-polygon", i;
    }
    return e.prototype.getDefaultShape = function() {
      return new b2e();
    }, e.prototype.buildPath = function(t, i) {
      var a = i.points, n = i.stackedOnPoints, o = 0, s = a.length / 2, l = i.smoothMonotone;
      if (i.connectNulls) {
        for (; s > 0 && Yf(a[s * 2 - 2], a[s * 2 - 1]); s--)
          ;
        for (; o < s && Yf(a[o * 2], a[o * 2 + 1]); o++)
          ;
      }
      for (; o < s; ) {
        var u = L6(t, a, o, s, s, 1, i.smooth, l, i.connectNulls);
        L6(t, n, o + u - 1, u, s, -1, i.stackedOnSmooth, l, i.connectNulls), o += u + 1, t.closePath();
      }
    }, e;
  }(Er)
);
function FX(r, e, t, i, a) {
  var n = r.getArea(), o = n.x, s = n.y, l = n.width, u = n.height, c = t.get(["lineStyle", "width"]) || 0;
  o -= c / 2, s -= c / 2, l += c, u += c, l = Math.ceil(l), o !== Math.floor(o) && (o = Math.floor(o), l++);
  var f = new Cr({
    shape: {
      x: o,
      y: s,
      width: l,
      height: u
    }
  });
  if (e) {
    var d = r.getBaseAxis(), p = d.isHorizontal(), v = d.inverse;
    p ? (v && (f.shape.x += l), f.shape.width = 0) : (v || (f.shape.y += u), f.shape.height = 0);
    var y = Bt(a) ? function(_) {
      a(_, f);
    } : null;
    In(f, {
      shape: {
        width: l,
        height: u,
        x: o,
        y: s
      }
    }, t, null, i, y);
  }
  return f;
}
function NX(r, e, t) {
  var i = r.getArea(), a = wi(i.r0, 1), n = wi(i.r, 1), o = new Wa({
    shape: {
      cx: wi(r.cx, 1),
      cy: wi(r.cy, 1),
      r0: a,
      r: n,
      startAngle: i.startAngle,
      endAngle: i.endAngle,
      clockwise: i.clockwise
    }
  });
  if (e) {
    var s = r.getBaseAxis().dim === "angle";
    s ? o.shape.endAngle = i.startAngle : o.shape.r = a, In(o, {
      shape: {
        endAngle: i.endAngle,
        r: n
      }
    }, t);
  }
  return o;
}
function fm(r, e, t, i, a) {
  if (r) {
    if (r.type === "polar")
      return NX(r, e, t);
    if (r.type === "cartesian2d")
      return FX(r, e, t, i, a);
  } else
    return null;
  return null;
}
function Qc(r, e) {
  return r.type === e;
}
function oN(r, e) {
  if (r.length === e.length) {
    for (var t = 0; t < r.length; t++)
      if (r[t] !== e[t])
        return;
    return !0;
  }
}
function sN(r) {
  for (var e = 1 / 0, t = 1 / 0, i = -1 / 0, a = -1 / 0, n = 0; n < r.length; ) {
    var o = r[n++], s = r[n++];
    isNaN(o) || (e = Math.min(o, e), i = Math.max(o, i)), isNaN(s) || (t = Math.min(s, t), a = Math.max(s, a));
  }
  return [[e, t], [i, a]];
}
function lN(r, e) {
  var t = sN(r), i = t[0], a = t[1], n = sN(e), o = n[0], s = n[1];
  return Math.max(Math.abs(i[0] - o[0]), Math.abs(i[1] - o[1]), Math.abs(a[0] - s[0]), Math.abs(a[1] - s[1]));
}
function uN(r) {
  return Or(r) ? r : r ? 0.5 : 0;
}
function w2e(r, e, t) {
  if (!t.valueDim)
    return [];
  for (var i = e.count(), a = xl(i * 2), n = 0; n < i; n++) {
    var o = RX(t, r, e, n);
    a[n * 2] = o[0], a[n * 2 + 1] = o[1];
  }
  return a;
}
function wc(r, e, t, i, a) {
  var n = t.getBaseAxis(), o = n.dim === "x" || n.dim === "radius" ? 0 : 1, s = [], l = 0, u = [], c = [], f = [], d = [];
  if (a) {
    for (l = 0; l < r.length; l += 2) {
      var p = e || r;
      !isNaN(p[l]) && !isNaN(p[l + 1]) && d.push(r[l], r[l + 1]);
    }
    r = d;
  }
  for (l = 0; l < r.length - 2; l += 2)
    switch (f[0] = r[l + 2], f[1] = r[l + 3], c[0] = r[l], c[1] = r[l + 1], s.push(c[0], c[1]), i) {
      case "end":
        u[o] = f[o], u[1 - o] = c[1 - o], s.push(u[0], u[1]);
        break;
      case "middle":
        var v = (c[o] + f[o]) / 2, y = [];
        u[o] = y[o] = v, u[1 - o] = c[1 - o], y[1 - o] = f[1 - o], s.push(u[0], u[1]), s.push(y[0], y[1]);
        break;
      default:
        u[o] = c[o], u[1 - o] = f[1 - o], s.push(u[0], u[1]);
    }
  return s.push(r[l++], r[l++]), s;
}
function S2e(r, e) {
  var t = [], i = r.length, a, n;
  function o(c, f, d) {
    var p = c.coord, v = (d - p) / (f.coord - p), y = E8(v, [c.color, f.color]);
    return {
      coord: d,
      color: y
    };
  }
  for (var s = 0; s < i; s++) {
    var l = r[s], u = l.coord;
    if (u < 0)
      a = l;
    else if (u > e) {
      n ? t.push(o(n, l, e)) : a && t.push(o(a, l, 0), o(a, l, e));
      break;
    } else
      a && (t.push(o(a, l, 0)), a = null), t.push(l), n = l;
  }
  return t;
}
function x2e(r, e, t) {
  var i = r.getVisual("visualMeta");
  if (!(!i || !i.length || !r.count())) {
    if (e.type !== "cartesian2d") {
      process.env.NODE_ENV !== "production" && console.warn("Visual map on line style is only supported on cartesian2d.");
      return;
    }
    for (var a, n, o = i.length - 1; o >= 0; o--) {
      var s = r.getDimensionInfo(i[o].dimension);
      if (a = s && s.coordDim, a === "x" || a === "y") {
        n = i[o];
        break;
      }
    }
    if (!n) {
      process.env.NODE_ENV !== "production" && console.warn("Visual map on line style only support x or y dimension.");
      return;
    }
    var l = e.getAxis(a), u = Je(n.stops, function(x) {
      return {
        coord: l.toGlobalCoord(l.dataToCoord(x.value)),
        color: x.color
      };
    }), c = u.length, f = n.outerColors.slice();
    c && u[0].coord > u[c - 1].coord && (u.reverse(), f.reverse());
    var d = S2e(u, a === "x" ? t.getWidth() : t.getHeight()), p = d.length;
    if (!p && c)
      return u[0].coord < 0 ? f[1] ? f[1] : u[c - 1].color : f[0] ? f[0] : u[0].color;
    var v = 10, y = d[0].coord - v, _ = d[p - 1].coord + v, w = _ - y;
    if (w < 1e-3)
      return "transparent";
    J(d, function(x) {
      x.offset = (x.coord - y) / w;
    }), d.push({
      // NOTE: inRangeStopLen may still be 0 if stoplen is zero.
      offset: p ? d[p - 1].offset : 0.5,
      color: f[1] || "transparent"
    }), d.unshift({
      offset: p ? d[0].offset : 0.5,
      color: f[0] || "transparent"
    });
    var S = new bd(0, 0, 0, 0, d, !0);
    return S[a] = y, S[a + "2"] = _, S;
  }
}
function T2e(r, e, t) {
  var i = r.get("showAllSymbol"), a = i === "auto";
  if (!(i && !a)) {
    var n = t.getAxesByScale("ordinal")[0];
    if (n && !(a && C2e(n, e))) {
      var o = e.mapDimension(n.dim), s = {};
      return J(n.getViewLabels(), function(l) {
        var u = n.scale.getRawOrdinalNumber(l.tickValue);
        s[u] = 1;
      }), function(l) {
        return !s.hasOwnProperty(e.get(o, l));
      };
    }
  }
}
function C2e(r, e) {
  var t = r.getExtent(), i = Math.abs(t[1] - t[0]) / r.scale.count();
  isNaN(i) && (i = 0);
  for (var a = e.count(), n = Math.max(1, Math.round(a / 5)), o = 0; o < a; o += n)
    if (cm.getSymbolSize(
      e,
      o
      // Only for cartesian, where `isHorizontal` exists.
    )[r.isHorizontal() ? 1 : 0] * 1.5 > i)
      return !1;
  return !0;
}
function A2e(r, e) {
  return isNaN(r) || isNaN(e);
}
function E2e(r) {
  for (var e = r.length / 2; e > 0 && A2e(r[e * 2 - 2], r[e * 2 - 1]); e--)
    ;
  return e - 1;
}
function cN(r, e) {
  return [r[e * 2], r[e * 2 + 1]];
}
function D2e(r, e, t) {
  for (var i = r.length / 2, a = t === "x" ? 0 : 1, n, o, s = 0, l = -1, u = 0; u < i; u++)
    if (o = r[u * 2 + a], !(isNaN(o) || isNaN(r[u * 2 + 1 - a]))) {
      if (u === 0) {
        n = o;
        continue;
      }
      if (n <= e && o >= e || n >= e && o <= e) {
        l = u;
        break;
      }
      s = u, n = o;
    }
  return {
    range: [s, l],
    t: (e - n) / (o - n)
  };
}
function BX(r) {
  if (r.get(["endLabel", "show"]))
    return !0;
  for (var e = 0; e < ro.length; e++)
    if (r.get([ro[e], "endLabel", "show"]))
      return !0;
  return !1;
}
function d5(r, e, t, i) {
  if (Qc(e, "cartesian2d")) {
    var a = i.getModel("endLabel"), n = a.get("valueAnimation"), o = i.getData(), s = {
      lastFrameIndex: 0
    }, l = BX(i) ? function(p, v) {
      r._endLabelOnDuring(p, v, o, s, n, a, e);
    } : null, u = e.getBaseAxis().isHorizontal(), c = FX(e, t, i, function() {
      var p = r._endLabel;
      p && t && s.originalX != null && p.attr({
        x: s.originalX,
        y: s.originalY
      });
    }, l);
    if (!i.get("clip", !0)) {
      var f = c.shape, d = Math.max(f.width, f.height);
      u ? (f.y -= d, f.height += d * 2) : (f.x -= d, f.width += d * 2);
    }
    return l && l(1, c), c;
  } else
    return process.env.NODE_ENV !== "production" && i.get(["endLabel", "show"]) && console.warn("endLabel is not supported for lines in polar systems."), NX(e, t, i);
}
function k2e(r, e) {
  var t = e.getBaseAxis(), i = t.isHorizontal(), a = t.inverse, n = i ? a ? "right" : "left" : "center", o = i ? "middle" : a ? "top" : "bottom";
  return {
    normal: {
      align: r.get("align") || n,
      verticalAlign: r.get("verticalAlign") || o
    }
  };
}
var M2e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e.prototype.init = function() {
      var t = new Wt(), i = new hm();
      this.group.add(i.group), this._symbolDraw = i, this._lineGroup = t, this._changePolyState = mt(this._changePolyState, this);
    }, e.prototype.render = function(t, i, a) {
      var n = t.coordinateSystem, o = this.group, s = t.getData(), l = t.getModel("lineStyle"), u = t.getModel("areaStyle"), c = s.getLayout("points") || [], f = n.type === "polar", d = this._coordSys, p = this._symbolDraw, v = this._polyline, y = this._polygon, _ = this._lineGroup, w = !i.ssr && t.get("animation"), S = !u.isEmpty(), x = u.get("origin"), E = PX(n, s, x), M = S && w2e(n, s, E), k = t.get("showSymbol"), P = t.get("connectNulls"), L = k && !f && T2e(t, s, n), F = this._data;
      F && F.eachItemGraphicEl(function(De, Ie) {
        De.__temp && (o.remove(De), F.setItemGraphicEl(Ie, null));
      }), k || p.remove(), o.add(_);
      var O = f ? !1 : t.get("step"), U;
      n && n.getArea && t.get("clip", !0) && (U = n.getArea(), U.width != null ? (U.x -= 0.1, U.y -= 0.1, U.width += 0.2, U.height += 0.2) : U.r0 && (U.r0 -= 0.5, U.r += 0.5)), this._clipShapeForSymbol = U;
      var V = x2e(s, n, a) || s.getVisual("style")[s.getVisual("drawType")];
      if (!(v && d.type === n.type && O === this._step))
        k && p.updateData(s, {
          isIgnore: L,
          clipShape: U,
          disableAnimation: !0,
          getSymbolPoint: function(De) {
            return [c[De * 2], c[De * 2 + 1]];
          }
        }), w && this._initSymbolLabelAnimation(s, n, U), O && (M && (M = wc(M, c, n, O, P)), c = wc(c, null, n, O, P)), v = this._newPolyline(c), S ? y = this._newPolygon(c, M) : y && (_.remove(y), y = this._polygon = null), f || this._initOrUpdateEndLabel(t, n, nd(V)), _.setClipPath(d5(this, n, !0, t));
      else {
        S && !y ? y = this._newPolygon(c, M) : y && !S && (_.remove(y), y = this._polygon = null), f || this._initOrUpdateEndLabel(t, n, nd(V));
        var G = _.getClipPath();
        if (G) {
          var Z = d5(this, n, !1, t);
          In(G, {
            shape: Z.shape
          }, t);
        } else
          _.setClipPath(d5(this, n, !0, t));
        k && p.updateData(s, {
          isIgnore: L,
          clipShape: U,
          disableAnimation: !0,
          getSymbolPoint: function(De) {
            return [c[De * 2], c[De * 2 + 1]];
          }
        }), (!oN(this._stackedOnPoints, M) || !oN(this._points, c)) && (w ? this._doUpdateAnimation(s, M, n, a, O, x, P) : (O && (M && (M = wc(M, c, n, O, P)), c = wc(c, null, n, O, P)), v.setShape({
          points: c
        }), y && y.setShape({
          points: c,
          stackedOnPoints: M
        })));
      }
      var Q = t.getModel("emphasis"), se = Q.get("focus"), de = Q.get("blurScope"), le = Q.get("disabled");
      if (v.useStyle(Yt(
        // Use color in lineStyle first
        l.getLineStyle(),
        {
          fill: "none",
          stroke: V,
          lineJoin: "bevel"
        }
      )), Gi(v, t, "lineStyle"), v.style.lineWidth > 0 && t.get(["emphasis", "lineStyle", "width"]) === "bolder") {
        var Se = v.getState("emphasis").style;
        Se.lineWidth = +v.style.lineWidth + 1;
      }
      er(v).seriesIndex = t.seriesIndex, Wn(v, se, de, le);
      var he = uN(t.get("smooth")), fe = t.get("smoothMonotone");
      if (v.setShape({
        smooth: he,
        smoothMonotone: fe,
        connectNulls: P
      }), y) {
        var K = s.getCalculationInfo("stackedOnSeries"), we = 0;
        y.useStyle(Yt(u.getAreaStyle(), {
          fill: V,
          opacity: 0.7,
          lineJoin: "bevel",
          decal: s.getVisual("style").decal
        })), K && (we = uN(K.get("smooth"))), y.setShape({
          smooth: he,
          stackedOnSmooth: we,
          smoothMonotone: fe,
          connectNulls: P
        }), Gi(y, t, "areaStyle"), er(y).seriesIndex = t.seriesIndex, Wn(y, se, de, le);
      }
      var ve = this._changePolyState;
      s.eachItemGraphicEl(function(De) {
        De && (De.onHoverStateChange = ve);
      }), this._polyline.onHoverStateChange = ve, this._data = s, this._coordSys = n, this._stackedOnPoints = M, this._points = c, this._step = O, this._valueOrigin = x, t.get("triggerLineEvent") && (this.packEventData(t, v), y && this.packEventData(t, y));
    }, e.prototype.packEventData = function(t, i) {
      er(i).eventData = {
        componentType: "series",
        componentSubType: "line",
        componentIndex: t.componentIndex,
        seriesIndex: t.seriesIndex,
        seriesName: t.name,
        seriesType: "line"
      };
    }, e.prototype.highlight = function(t, i, a, n) {
      var o = t.getData(), s = Jf(o, n);
      if (this._changePolyState("emphasis"), !(s instanceof Array) && s != null && s >= 0) {
        var l = o.getLayout("points"), u = o.getItemGraphicEl(s);
        if (!u) {
          var c = l[s * 2], f = l[s * 2 + 1];
          if (isNaN(c) || isNaN(f) || this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(c, f))
            return;
          var d = t.get("zlevel") || 0, p = t.get("z") || 0;
          u = new cm(o, s), u.x = c, u.y = f, u.setZ(d, p);
          var v = u.getSymbolPath().getTextContent();
          v && (v.zlevel = d, v.z = p, v.z2 = this._polyline.z2 + 1), u.__temp = !0, o.setItemGraphicEl(s, u), u.stopSymbolAnimation(!0), this.group.add(u);
        }
        u.highlight();
      } else
        gn.prototype.highlight.call(this, t, i, a, n);
    }, e.prototype.downplay = function(t, i, a, n) {
      var o = t.getData(), s = Jf(o, n);
      if (this._changePolyState("normal"), s != null && s >= 0) {
        var l = o.getItemGraphicEl(s);
        l && (l.__temp ? (o.setItemGraphicEl(s, null), this.group.remove(l)) : l.downplay());
      } else
        gn.prototype.downplay.call(this, t, i, a, n);
    }, e.prototype._changePolyState = function(t) {
      var i = this._polygon;
      q_(this._polyline, t), i && q_(i, t);
    }, e.prototype._newPolyline = function(t) {
      var i = this._polyline;
      return i && this._lineGroup.remove(i), i = new _2e({
        shape: {
          points: t
        },
        segmentIgnoreThreshold: 2,
        z2: 10
      }), this._lineGroup.add(i), this._polyline = i, i;
    }, e.prototype._newPolygon = function(t, i) {
      var a = this._polygon;
      return a && this._lineGroup.remove(a), a = new OX({
        shape: {
          points: t,
          stackedOnPoints: i
        },
        segmentIgnoreThreshold: 2
      }), this._lineGroup.add(a), this._polygon = a, a;
    }, e.prototype._initSymbolLabelAnimation = function(t, i, a) {
      var n, o, s = i.getBaseAxis(), l = s.inverse;
      i.type === "cartesian2d" ? (n = s.isHorizontal(), o = !1) : i.type === "polar" && (n = s.dim === "angle", o = !0);
      var u = t.hostModel, c = u.get("animationDuration");
      Bt(c) && (c = c(null));
      var f = u.get("animationDelay") || 0, d = Bt(f) ? f(null) : f;
      t.eachItemGraphicEl(function(p, v) {
        var y = p;
        if (y) {
          var _ = [p.x, p.y], w = void 0, S = void 0, x = void 0;
          if (a)
            if (o) {
              var E = a, M = i.pointToCoord(_);
              n ? (w = E.startAngle, S = E.endAngle, x = -M[1] / 180 * Math.PI) : (w = E.r0, S = E.r, x = M[0]);
            } else {
              var k = a;
              n ? (w = k.x, S = k.x + k.width, x = p.x) : (w = k.y + k.height, S = k.y, x = p.y);
            }
          var P = S === w ? 0 : (x - w) / (S - w);
          l && (P = 1 - P);
          var L = Bt(f) ? f(v) : c * P + d, F = y.getSymbolPath(), O = F.getTextContent();
          y.attr({
            scaleX: 0,
            scaleY: 0
          }), y.animateTo({
            scaleX: 1,
            scaleY: 1
          }, {
            duration: 200,
            setToFinal: !0,
            delay: L
          }), O && O.animateFrom({
            style: {
              opacity: 0
            }
          }, {
            duration: 300,
            delay: L
          }), F.disableLabelAnimation = !0;
        }
      });
    }, e.prototype._initOrUpdateEndLabel = function(t, i, a) {
      var n = t.getModel("endLabel");
      if (BX(t)) {
        var o = t.getData(), s = this._polyline, l = o.getLayout("points");
        if (!l) {
          s.removeTextContent(), this._endLabel = null;
          return;
        }
        var u = this._endLabel;
        u || (u = this._endLabel = new Br({
          z2: 200
          // should be higher than item symbol
        }), u.ignoreClip = !0, s.setTextContent(this._endLabel), s.disableLabelAnimation = !0);
        var c = E2e(l);
        c >= 0 && (ea(s, zi(t, "endLabel"), {
          inheritColor: a,
          labelFetcher: t,
          labelDataIndex: c,
          defaultText: function(f, d, p) {
            return p != null ? IX(o, p) : d0(o, f);
          },
          enableTextSetter: !0
        }, k2e(n, i)), s.textConfig.position = null);
      } else
        this._endLabel && (this._polyline.removeTextContent(), this._endLabel = null);
    }, e.prototype._endLabelOnDuring = function(t, i, a, n, o, s, l) {
      var u = this._endLabel, c = this._polyline;
      if (u) {
        t < 1 && n.originalX == null && (n.originalX = u.x, n.originalY = u.y);
        var f = a.getLayout("points"), d = a.hostModel, p = d.get("connectNulls"), v = s.get("precision"), y = s.get("distance") || 0, _ = l.getBaseAxis(), w = _.isHorizontal(), S = _.inverse, x = i.shape, E = S ? w ? x.x : x.y + x.height : w ? x.x + x.width : x.y, M = (w ? y : 0) * (S ? -1 : 1), k = (w ? 0 : -y) * (S ? -1 : 1), P = w ? "x" : "y", L = D2e(f, E, P), F = L.range, O = F[1] - F[0], U = void 0;
        if (O >= 1) {
          if (O > 1 && !p) {
            var V = cN(f, F[0]);
            u.attr({
              x: V[0] + M,
              y: V[1] + k
            }), o && (U = d.getRawValue(F[0]));
          } else {
            var V = c.getPointOn(E, P);
            V && u.attr({
              x: V[0] + M,
              y: V[1] + k
            });
            var G = d.getRawValue(F[0]), Z = d.getRawValue(F[1]);
            o && (U = j$(a, v, G, Z, L.t));
          }
          n.lastFrameIndex = F[0];
        } else {
          var Q = t === 1 || n.lastFrameIndex > 0 ? F[0] : 0, V = cN(f, Q);
          o && (U = d.getRawValue(Q)), u.attr({
            x: V[0] + M,
            y: V[1] + k
          });
        }
        if (o) {
          var se = F0(u);
          typeof se.setLabelText == "function" && se.setLabelText(U);
        }
      }
    }, e.prototype._doUpdateAnimation = function(t, i, a, n, o, s, l) {
      var u = this._polyline, c = this._polygon, f = t.hostModel, d = y2e(this._data, t, this._stackedOnPoints, i, this._coordSys, a, this._valueOrigin), p = d.current, v = d.stackedOnCurrent, y = d.next, _ = d.stackedOnNext;
      if (o && (v = wc(d.stackedOnCurrent, d.current, a, o, l), p = wc(d.current, null, a, o, l), _ = wc(d.stackedOnNext, d.next, a, o, l), y = wc(d.next, null, a, o, l)), lN(p, y) > 3e3 || c && lN(v, _) > 3e3) {
        u.stopAnimation(), u.setShape({
          points: y
        }), c && (c.stopAnimation(), c.setShape({
          points: y,
          stackedOnPoints: _
        }));
        return;
      }
      u.shape.__points = d.current, u.shape.points = p;
      var w = {
        shape: {
          points: y
        }
      };
      d.current !== p && (w.shape.__points = d.next), u.stopAnimation(), Wr(u, w, f), c && (c.setShape({
        // Reuse the points with polyline.
        points: p,
        stackedOnPoints: v
      }), c.stopAnimation(), Wr(c, {
        shape: {
          stackedOnPoints: _
        }
      }, f), u.shape.points !== c.shape.points && (c.shape.points = u.shape.points));
      for (var S = [], x = d.status, E = 0; E < x.length; E++) {
        var M = x[E].cmd;
        if (M === "=") {
          var k = t.getItemGraphicEl(x[E].idx1);
          k && S.push({
            el: k,
            ptIdx: E
            // Index of points
          });
        }
      }
      u.animators && u.animators.length && u.animators[0].during(function() {
        c && c.dirtyShape();
        for (var P = u.shape.__points, L = 0; L < S.length; L++) {
          var F = S[L].el, O = S[L].ptIdx * 2;
          F.x = P[O], F.y = P[O + 1], F.markRedraw();
        }
      });
    }, e.prototype.remove = function(t) {
      var i = this.group, a = this._data;
      this._lineGroup.removeAll(), this._symbolDraw.remove(!0), a && a.eachItemGraphicEl(function(n, o) {
        n.__temp && (i.remove(n), a.setItemGraphicEl(o, null));
      }), this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._endLabel = this._data = null;
    }, e.type = "line", e;
  }(gn)
);
const I2e = M2e;
function dm(r, e) {
  return {
    seriesType: r,
    plan: U0(),
    reset: function(t) {
      var i = t.getData(), a = t.coordinateSystem, n = t.pipelineContext, o = e || n.large;
      if (a) {
        var s = Je(a.dimensions, function(p) {
          return i.mapDimension(p);
        }).slice(0, 2), l = s.length, u = i.getCalculationInfo("stackResultDimension");
        zu(i, s[0]) && (s[0] = u), zu(i, s[1]) && (s[1] = u);
        var c = i.getStore(), f = i.getDimensionIndex(s[0]), d = i.getDimensionIndex(s[1]);
        return l && {
          progress: function(p, v) {
            for (var y = p.end - p.start, _ = o && xl(y * l), w = [], S = [], x = p.start, E = 0; x < p.end; x++) {
              var M = void 0;
              if (l === 1) {
                var k = c.get(f, x);
                M = a.dataToPoint(k, null, S);
              } else
                w[0] = c.get(f, x), w[1] = c.get(d, x), M = a.dataToPoint(w, null, S);
              o ? (_[E++] = M[0], _[E++] = M[1]) : v.setItemLayout(x, M.slice());
            }
            o && v.setLayout("points", _);
          }
        };
      }
    }
  };
}
var P2e = {
  average: function(r) {
    for (var e = 0, t = 0, i = 0; i < r.length; i++)
      isNaN(r[i]) || (e += r[i], t++);
    return t === 0 ? NaN : e / t;
  },
  sum: function(r) {
    for (var e = 0, t = 0; t < r.length; t++)
      e += r[t] || 0;
    return e;
  },
  max: function(r) {
    for (var e = -1 / 0, t = 0; t < r.length; t++)
      r[t] > e && (e = r[t]);
    return isFinite(e) ? e : NaN;
  },
  min: function(r) {
    for (var e = 1 / 0, t = 0; t < r.length; t++)
      r[t] < e && (e = r[t]);
    return isFinite(e) ? e : NaN;
  },
  // TODO
  // Median
  nearest: function(r) {
    return r[0];
  }
}, R2e = function(r) {
  return Math.round(r.length / 2);
};
function VX(r) {
  return {
    seriesType: r,
    // FIXME:TS never used, so comment it
    // modifyOutputEnd: true,
    reset: function(e, t, i) {
      var a = e.getData(), n = e.get("sampling"), o = e.coordinateSystem, s = a.count();
      if (s > 10 && o.type === "cartesian2d" && n) {
        var l = o.getBaseAxis(), u = o.getOtherAxis(l), c = l.getExtent(), f = i.getDevicePixelRatio(), d = Math.abs(c[1] - c[0]) * (f || 1), p = Math.round(s / d);
        if (isFinite(p) && p > 1) {
          n === "lttb" ? e.setData(a.lttbDownSample(a.mapDimension(u.dim), 1 / p)) : n === "minmax" && e.setData(a.minmaxDownSample(a.mapDimension(u.dim), 1 / p));
          var v = void 0;
          vt(n) ? v = P2e[n] : Bt(n) && (v = n), v && e.setData(a.downSample(a.mapDimension(u.dim), 1 / p, v, R2e));
        }
      }
    }
  };
}
function L2e(r) {
  r.registerChartView(I2e), r.registerSeriesModel(f2e), r.registerLayout(dm("line", !0)), r.registerVisual({
    seriesType: "line",
    reset: function(e) {
      var t = e.getData(), i = e.getModel("lineStyle").getLineStyle();
      i && !i.stroke && (i.stroke = t.getVisual("style").fill), t.setVisual("legendLineStyle", i);
    }
  }), r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC, VX("line"));
}
var UX = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.getInitialData = function(t, i) {
      return Bl(null, this, {
        useEncodeDefaulter: !0
      });
    }, e.prototype.getMarkerPosition = function(t, i, a) {
      var n = this.coordinateSystem;
      if (n && n.clampData) {
        var o = n.clampData(t), s = n.dataToPoint(o);
        if (a)
          J(n.getAxes(), function(d, p) {
            if (d.type === "category" && i != null) {
              var v = d.getTicksCoords(), y = d.getTickModel().get("alignWithLabel"), _ = o[p], w = i[p] === "x1" || i[p] === "y1";
              if (w && !y && (_ += 1), v.length < 2)
                return;
              if (v.length === 2) {
                s[p] = d.toGlobalCoord(d.getExtent()[w ? 1 : 0]);
                return;
              }
              for (var S = void 0, x = void 0, E = 1, M = 0; M < v.length; M++) {
                var k = v[M].coord, P = M === v.length - 1 ? v[M - 1].tickValue + E : v[M].tickValue;
                if (P === _) {
                  x = k;
                  break;
                } else if (P < _)
                  S = k;
                else if (S != null && P > _) {
                  x = (k + S) / 2;
                  break;
                }
                M === 1 && (E = P - v[0].tickValue);
              }
              x == null && (S ? S && (x = v[v.length - 1].coord) : x = v[0].coord), s[p] = d.toGlobalCoord(x);
            }
          });
        else {
          var l = this.getData(), u = l.getLayout("offset"), c = l.getLayout("size"), f = n.getBaseAxis().isHorizontal() ? 0 : 1;
          s[f] += u + c / 2;
        }
        return s;
      }
      return [NaN, NaN];
    }, e.type = "series.__base_bar__", e.defaultOption = {
      // zlevel: 0,
      z: 2,
      coordinateSystem: "cartesian2d",
      legendHoverLink: !0,
      // stack: null
      // Cartesian coordinate system
      // xAxisIndex: 0,
      // yAxisIndex: 0,
      barMinHeight: 0,
      barMinAngle: 0,
      // cursor: null,
      large: !1,
      largeThreshold: 400,
      progressive: 3e3,
      progressiveChunkMode: "mod",
      defaultBarGap: "10%"
    }, e;
  }(En)
);
En.registerClass(UX);
const wb = UX;
var O2e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.getInitialData = function() {
      return Bl(null, this, {
        useEncodeDefaulter: !0,
        createInvertedIndices: !!this.get("realtimeSort", !0) || null
      });
    }, e.prototype.getProgressive = function() {
      return this.get("large") ? this.get("progressive") : !1;
    }, e.prototype.getProgressiveThreshold = function() {
      var t = this.get("progressiveThreshold"), i = this.get("largeThreshold");
      return i > t && (t = i), t;
    }, e.prototype.brushSelector = function(t, i, a) {
      return a.rect(i.getItemLayout(t));
    }, e.type = "series.bar", e.dependencies = ["grid", "polar"], e.defaultOption = dh(wb.defaultOption, {
      // If clipped
      // Only available on cartesian2d
      clip: !0,
      roundCap: !1,
      showBackground: !1,
      backgroundStyle: {
        color: "rgba(180, 180, 180, 0.2)",
        borderColor: null,
        borderWidth: 0,
        borderType: "solid",
        borderRadius: 0,
        shadowBlur: 0,
        shadowColor: null,
        shadowOffsetX: 0,
        shadowOffsetY: 0,
        opacity: 1
      },
      select: {
        itemStyle: {
          borderColor: Ve.color.primary,
          borderWidth: 2
        }
      },
      realtimeSort: !1
    }), e;
  }(wb)
);
const F2e = O2e;
var N2e = (
  /** @class */
  function() {
    function r() {
      this.cx = 0, this.cy = 0, this.r0 = 0, this.r = 0, this.startAngle = 0, this.endAngle = Math.PI * 2, this.clockwise = !0;
    }
    return r;
  }()
), B2e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t) {
      var i = r.call(this, t) || this;
      return i.type = "sausage", i;
    }
    return e.prototype.getDefaultShape = function() {
      return new N2e();
    }, e.prototype.buildPath = function(t, i) {
      var a = i.cx, n = i.cy, o = Math.max(i.r0 || 0, 0), s = Math.max(i.r, 0), l = (s - o) * 0.5, u = o + l, c = i.startAngle, f = i.endAngle, d = i.clockwise, p = Math.PI * 2, v = d ? f - c < p : c - f < p;
      v || (c = f - (d ? p : -p));
      var y = Math.cos(c), _ = Math.sin(c), w = Math.cos(f), S = Math.sin(f);
      v ? (t.moveTo(y * o + a, _ * o + n), t.arc(y * u + a, _ * u + n, l, -Math.PI + c, c, !d)) : t.moveTo(y * s + a, _ * s + n), t.arc(a, n, s, c, f, !d), t.arc(w * u + a, S * u + n, l, f - Math.PI * 2, f - Math.PI, !d), o !== 0 && t.arc(a, n, o, f, c, d);
    }, e;
  }(Er)
);
const Sb = B2e;
function V2e(r, e) {
  e = e || {};
  var t = e.isRoundCap;
  return function(i, a, n) {
    var o = a.position;
    if (!o || o instanceof Array)
      return z_(i, a, n);
    var s = r(o), l = a.distance != null ? a.distance : 5, u = this.shape, c = u.cx, f = u.cy, d = u.r, p = u.r0, v = (d + p) / 2, y = u.startAngle, _ = u.endAngle, w = (y + _) / 2, S = t ? Math.abs(d - p) / 2 : 0, x = Math.cos, E = Math.sin, M = c + d * x(y), k = f + d * E(y), P = "left", L = "top";
    switch (s) {
      case "startArc":
        M = c + (p - l) * x(w), k = f + (p - l) * E(w), P = "center", L = "top";
        break;
      case "insideStartArc":
        M = c + (p + l) * x(w), k = f + (p + l) * E(w), P = "center", L = "bottom";
        break;
      case "startAngle":
        M = c + v * x(y) + a2(y, l + S, !1), k = f + v * E(y) + o2(y, l + S, !1), P = "right", L = "middle";
        break;
      case "insideStartAngle":
        M = c + v * x(y) + a2(y, -l + S, !1), k = f + v * E(y) + o2(y, -l + S, !1), P = "left", L = "middle";
        break;
      case "middle":
        M = c + v * x(w), k = f + v * E(w), P = "center", L = "middle";
        break;
      case "endArc":
        M = c + (d + l) * x(w), k = f + (d + l) * E(w), P = "center", L = "bottom";
        break;
      case "insideEndArc":
        M = c + (d - l) * x(w), k = f + (d - l) * E(w), P = "center", L = "top";
        break;
      case "endAngle":
        M = c + v * x(_) + a2(_, l + S, !0), k = f + v * E(_) + o2(_, l + S, !0), P = "left", L = "middle";
        break;
      case "insideEndAngle":
        M = c + v * x(_) + a2(_, -l + S, !0), k = f + v * E(_) + o2(_, -l + S, !0), P = "right", L = "middle";
        break;
      default:
        return z_(i, a, n);
    }
    return i = i || {}, i.x = M, i.y = k, i.align = P, i.verticalAlign = L, i;
  };
}
function U2e(r, e, t, i) {
  if (Or(i)) {
    r.setTextConfig({
      rotation: i
    });
    return;
  } else if (Ke(e)) {
    r.setTextConfig({
      rotation: 0
    });
    return;
  }
  var a = r.shape, n = a.clockwise ? a.startAngle : a.endAngle, o = a.clockwise ? a.endAngle : a.startAngle, s = (n + o) / 2, l, u = t(e);
  switch (u) {
    case "startArc":
    case "insideStartArc":
    case "middle":
    case "insideEndArc":
    case "endArc":
      l = s;
      break;
    case "startAngle":
    case "insideStartAngle":
      l = n;
      break;
    case "endAngle":
    case "insideEndAngle":
      l = o;
      break;
    default:
      r.setTextConfig({
        rotation: 0
      });
      return;
  }
  var c = Math.PI * 1.5 - l;
  u === "middle" && c > Math.PI / 2 && c < Math.PI * 1.5 && (c -= Math.PI), r.setTextConfig({
    rotation: c
  });
}
function a2(r, e, t) {
  return e * Math.sin(r) * (t ? -1 : 1);
}
function o2(r, e, t) {
  return e * Math.cos(r) * (t ? 1 : -1);
}
function Cl(r, e, t) {
  var i = r.get("borderRadius");
  if (i == null)
    return t ? {
      cornerRadius: 0
    } : null;
  Ke(i) || (i = [i, i, i, i]);
  var a = Math.abs(e.r || 0 - e.r0 || 0);
  return {
    cornerRadius: Je(i, function(n) {
      return Vs(n, a);
    })
  };
}
var p5 = Math.max, v5 = Math.min;
function G2e(r, e) {
  var t = r.getArea && r.getArea();
  if (Qc(r, "cartesian2d")) {
    var i = r.getBaseAxis();
    if (i.type !== "category" || !i.onBand) {
      var a = e.getLayout("bandWidth");
      i.isHorizontal() ? (t.x -= a, t.width += a * 2) : (t.y -= a, t.height += a * 2);
    }
  }
  return t;
}
var z2e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r.call(this) || this;
      return t.type = e.type, t._isFirstFrame = !0, t;
    }
    return e.prototype.render = function(t, i, a, n) {
      this._model = t, this._removeOnRenderedListener(a), this._updateDrawMode(t);
      var o = t.get("coordinateSystem");
      o === "cartesian2d" || o === "polar" ? (this._progressiveEls = null, this._isLargeDraw ? this._renderLarge(t, i, a) : this._renderNormal(t, i, a, n)) : process.env.NODE_ENV !== "production" && Yn("Only cartesian2d and polar supported for bar.");
    }, e.prototype.incrementalPrepareRender = function(t) {
      this._clear(), this._updateDrawMode(t), this._updateLargeClip(t);
    }, e.prototype.incrementalRender = function(t, i) {
      this._progressiveEls = [], this._incrementalRenderLarge(t, i);
    }, e.prototype.eachRendered = function(t) {
      fh(this._progressiveEls || this.group, t);
    }, e.prototype._updateDrawMode = function(t) {
      var i = t.pipelineContext.large;
      (this._isLargeDraw == null || i !== this._isLargeDraw) && (this._isLargeDraw = i, this._clear());
    }, e.prototype._renderNormal = function(t, i, a, n) {
      var o = this.group, s = t.getData(), l = this._data, u = t.coordinateSystem, c = u.getBaseAxis(), f;
      u.type === "cartesian2d" ? f = c.isHorizontal() : u.type === "polar" && (f = c.dim === "angle");
      var d = t.isAnimationEnabled() ? t : null, p = W2e(t, u);
      p && this._enableRealtimeSort(p, s, a);
      var v = t.get("clip", !0) || p, y = G2e(u, s);
      o.removeClipPath();
      var _ = t.get("roundCap", !0), w = t.get("showBackground", !0), S = t.getModel("backgroundStyle"), x = S.get("borderRadius") || 0, E = [], M = this._backgroundEls, k = n && n.isInitSort, P = n && n.type === "changeAxisOrder";
      function L(U) {
        var V = s2[u.type](s, U);
        if (!V)
          return null;
        var G = K2e(u, f, V);
        return G.useStyle(S.getItemStyle()), u.type === "cartesian2d" ? G.setShape("r", x) : G.setShape("cornerRadius", x), E[U] = G, G;
      }
      s.diff(l).add(function(U) {
        var V = s.getItemModel(U), G = s2[u.type](s, U, V);
        if (G && (w && L(U), !(!s.hasValue(U) || !vN[u.type](G)))) {
          var Z = !1;
          v && (Z = hN[u.type](y, G));
          var Q = fN[u.type](t, s, U, G, f, d, c.model, !1, _);
          p && (Q.forceLabelAnimation = !0), gN(Q, s, U, V, G, t, f, u.type === "polar"), k ? Q.attr({
            shape: G
          }) : p ? dN(p, d, Q, G, U, f, !1, !1) : In(Q, {
            shape: G
          }, t, U), s.setItemGraphicEl(U, Q), o.add(Q), Q.ignore = Z;
        }
      }).update(function(U, V) {
        var G = s.getItemModel(U), Z = s2[u.type](s, U, G);
        if (Z) {
          if (w) {
            var Q = void 0;
            M.length === 0 ? Q = L(V) : (Q = M[V], Q.useStyle(S.getItemStyle()), u.type === "cartesian2d" ? Q.setShape("r", x) : Q.setShape("cornerRadius", x), E[U] = Q);
            var se = s2[u.type](s, U), de = zX(f, se, u);
            Wr(Q, {
              shape: de
            }, d, U);
          }
          var le = l.getItemGraphicEl(V);
          if (!s.hasValue(U) || !vN[u.type](Z)) {
            o.remove(le);
            return;
          }
          var Se = !1;
          v && (Se = hN[u.type](y, Z), Se && o.remove(le));
          var he = le && (le.type === "sector" && _ || le.type === "sausage" && !_);
          if (he && (le && Au(le, t, V), le = null), le ? hs(le) : le = fN[u.type](t, s, U, Z, f, d, c.model, !0, _), p && (le.forceLabelAnimation = !0), P) {
            var fe = le.getTextContent();
            if (fe) {
              var K = F0(fe);
              K.prevValue != null && (K.prevValue = K.value);
            }
          } else
            gN(le, s, U, G, Z, t, f, u.type === "polar");
          k ? le.attr({
            shape: Z
          }) : p ? dN(p, d, le, Z, U, f, !0, P) : Wr(le, {
            shape: Z
          }, t, U, null), s.setItemGraphicEl(U, le), le.ignore = Se, o.add(le);
        }
      }).remove(function(U) {
        var V = l.getItemGraphicEl(U);
        V && Au(V, t, U);
      }).execute();
      var F = this._backgroundGroup || (this._backgroundGroup = new Wt());
      F.removeAll();
      for (var O = 0; O < E.length; ++O)
        F.add(E[O]);
      o.add(F), this._backgroundEls = E, this._data = s;
    }, e.prototype._renderLarge = function(t, i, a) {
      this._clear(), yN(t, this.group), this._updateLargeClip(t);
    }, e.prototype._incrementalRenderLarge = function(t, i) {
      this._removeBackground(), yN(i, this.group, this._progressiveEls, !0);
    }, e.prototype._updateLargeClip = function(t) {
      var i = t.get("clip", !0) && fm(t.coordinateSystem, !1, t), a = this.group;
      i ? a.setClipPath(i) : a.removeClipPath();
    }, e.prototype._enableRealtimeSort = function(t, i, a) {
      var n = this;
      if (i.count()) {
        var o = t.baseAxis;
        if (this._isFirstFrame)
          this._dispatchInitSort(i, t, a), this._isFirstFrame = !1;
        else {
          var s = function(l) {
            var u = i.getItemGraphicEl(l), c = u && u.shape;
            return c && // The result should be consistent with the initial sort by data value.
            // Do not support the case that both positive and negative exist.
            Math.abs(o.isHorizontal() ? c.height : c.width) || 0;
          };
          this._onRendered = function() {
            n._updateSortWithinSameData(i, s, o, a);
          }, a.getZr().on("rendered", this._onRendered);
        }
      }
    }, e.prototype._dataSort = function(t, i, a) {
      var n = [];
      return t.each(t.mapDimension(i.dim), function(o, s) {
        var l = a(s);
        l = l ?? NaN, n.push({
          dataIndex: s,
          mappedValue: l,
          ordinalNumber: o
        });
      }), n.sort(function(o, s) {
        return s.mappedValue - o.mappedValue;
      }), {
        ordinalNumbers: Je(n, function(o) {
          return o.ordinalNumber;
        })
      };
    }, e.prototype._isOrderChangedWithinSameData = function(t, i, a) {
      for (var n = a.scale, o = t.mapDimension(a.dim), s = Number.MAX_VALUE, l = 0, u = n.getOrdinalMeta().categories.length; l < u; ++l) {
        var c = t.rawIndexOf(o, n.getRawOrdinalNumber(l)), f = c < 0 ? Number.MIN_VALUE : i(t.indexOfRawIndex(c));
        if (f > s)
          return !0;
        s = f;
      }
      return !1;
    }, e.prototype._isOrderDifferentInView = function(t, i) {
      for (var a = i.scale, n = a.getExtent(), o = Math.max(0, n[0]), s = Math.min(n[1], a.getOrdinalMeta().categories.length - 1); o <= s; ++o)
        if (t.ordinalNumbers[o] !== a.getRawOrdinalNumber(o))
          return !0;
    }, e.prototype._updateSortWithinSameData = function(t, i, a, n) {
      if (this._isOrderChangedWithinSameData(t, i, a)) {
        var o = this._dataSort(t, a, i);
        this._isOrderDifferentInView(o, a) && (this._removeOnRenderedListener(n), n.dispatchAction({
          type: "changeAxisOrder",
          componentType: a.dim + "Axis",
          axisId: a.index,
          sortInfo: o
        }));
      }
    }, e.prototype._dispatchInitSort = function(t, i, a) {
      var n = i.baseAxis, o = this._dataSort(t, n, function(s) {
        return t.get(t.mapDimension(i.otherAxis.dim), s);
      });
      a.dispatchAction({
        type: "changeAxisOrder",
        componentType: n.dim + "Axis",
        isInitSort: !0,
        axisId: n.index,
        sortInfo: o
      });
    }, e.prototype.remove = function(t, i) {
      this._clear(this._model), this._removeOnRenderedListener(i);
    }, e.prototype.dispose = function(t, i) {
      this._removeOnRenderedListener(i);
    }, e.prototype._removeOnRenderedListener = function(t) {
      this._onRendered && (t.getZr().off("rendered", this._onRendered), this._onRendered = null);
    }, e.prototype._clear = function(t) {
      var i = this.group, a = this._data;
      t && t.isAnimationEnabled() && a && !this._isLargeDraw ? (this._removeBackground(), this._backgroundEls = [], a.eachItemGraphicEl(function(n) {
        Au(n, t, er(n).dataIndex);
      })) : i.removeAll(), this._data = null, this._isFirstFrame = !0;
    }, e.prototype._removeBackground = function() {
      this.group.remove(this._backgroundGroup), this._backgroundGroup = null;
    }, e.type = "bar", e;
  }(gn)
), hN = {
  cartesian2d: function(r, e) {
    var t = e.width < 0 ? -1 : 1, i = e.height < 0 ? -1 : 1;
    t < 0 && (e.x += e.width, e.width = -e.width), i < 0 && (e.y += e.height, e.height = -e.height);
    var a = r.x + r.width, n = r.y + r.height, o = p5(e.x, r.x), s = v5(e.x + e.width, a), l = p5(e.y, r.y), u = v5(e.y + e.height, n), c = s < o, f = u < l;
    return e.x = c && o > a ? s : o, e.y = f && l > n ? u : l, e.width = c ? 0 : s - o, e.height = f ? 0 : u - l, t < 0 && (e.x += e.width, e.width = -e.width), i < 0 && (e.y += e.height, e.height = -e.height), c || f;
  },
  polar: function(r, e) {
    var t = e.r0 <= e.r ? 1 : -1;
    if (t < 0) {
      var i = e.r;
      e.r = e.r0, e.r0 = i;
    }
    var a = v5(e.r, r.r), n = p5(e.r0, r.r0);
    e.r = a, e.r0 = n;
    var o = a - n < 0;
    if (t < 0) {
      var i = e.r;
      e.r = e.r0, e.r0 = i;
    }
    return o;
  }
}, fN = {
  cartesian2d: function(r, e, t, i, a, n, o, s, l) {
    var u = new Cr({
      shape: $e({}, i),
      z2: 1
    });
    if (u.__dataIndex = t, u.name = "item", n) {
      var c = u.shape, f = a ? "height" : "width";
      c[f] = 0;
    }
    return u;
  },
  polar: function(r, e, t, i, a, n, o, s, l) {
    var u = !a && l ? Sb : Wa, c = new u({
      shape: i,
      z2: 1
    });
    c.name = "item";
    var f = GX(a);
    if (c.calculateTextPosition = V2e(f, {
      isRoundCap: u === Sb
    }), n) {
      var d = c.shape, p = a ? "r" : "endAngle", v = {};
      d[p] = a ? i.r0 : i.startAngle, v[p] = i[p], (s ? Wr : In)(c, {
        shape: v
        // __value: typeof dataValue === 'string' ? parseInt(dataValue, 10) : dataValue
      }, n);
    }
    return c;
  }
};
function W2e(r, e) {
  var t = r.get("realtimeSort", !0), i = e.getBaseAxis();
  if (process.env.NODE_ENV !== "production" && t && (i.type !== "category" && Yn("`realtimeSort` will not work because this bar series is not based on a category axis."), e.type !== "cartesian2d" && Yn("`realtimeSort` will not work because this bar series is not on cartesian2d.")), t && i.type === "category" && e.type === "cartesian2d")
    return {
      baseAxis: i,
      otherAxis: e.getOtherAxis(i)
    };
}
function dN(r, e, t, i, a, n, o, s) {
  var l, u;
  n ? (u = {
    x: i.x,
    width: i.width
  }, l = {
    y: i.y,
    height: i.height
  }) : (u = {
    y: i.y,
    height: i.height
  }, l = {
    x: i.x,
    width: i.width
  }), s || (o ? Wr : In)(t, {
    shape: l
  }, e, a, null);
  var c = e ? r.baseAxis.model : null;
  (o ? Wr : In)(t, {
    shape: u
  }, c, a);
}
function pN(r, e) {
  for (var t = 0; t < e.length; t++)
    if (!isFinite(r[e[t]]))
      return !0;
  return !1;
}
var H2e = ["x", "y", "width", "height"], $2e = ["cx", "cy", "r", "startAngle", "endAngle"], vN = {
  cartesian2d: function(r) {
    return !pN(r, H2e);
  },
  polar: function(r) {
    return !pN(r, $2e);
  }
}, s2 = {
  // itemModel is only used to get borderWidth, which is not needed
  // when calculating bar background layout.
  cartesian2d: function(r, e, t) {
    var i = r.getItemLayout(e);
    if (!i)
      return null;
    var a = t ? j2e(t, i) : 0, n = i.width > 0 ? 1 : -1, o = i.height > 0 ? 1 : -1;
    return {
      x: i.x + n * a / 2,
      y: i.y + o * a / 2,
      width: i.width - n * a,
      height: i.height - o * a
    };
  },
  polar: function(r, e, t) {
    var i = r.getItemLayout(e);
    return {
      cx: i.cx,
      cy: i.cy,
      r0: i.r0,
      r: i.r,
      startAngle: i.startAngle,
      endAngle: i.endAngle,
      clockwise: i.clockwise
    };
  }
};
function Y2e(r) {
  return r.startAngle != null && r.endAngle != null && r.startAngle === r.endAngle;
}
function GX(r) {
  return function(e) {
    var t = e ? "Arc" : "Angle";
    return function(i) {
      switch (i) {
        case "start":
        case "insideStart":
        case "end":
        case "insideEnd":
          return i + t;
        default:
          return i;
      }
    };
  }(r);
}
function gN(r, e, t, i, a, n, o, s) {
  var l = e.getItemVisual(t, "style");
  if (s) {
    if (!n.get("roundCap")) {
      var c = r.shape, f = Cl(i.getModel("itemStyle"), c, !0);
      $e(c, f), r.setShape(c);
    }
  } else {
    var u = i.get(["itemStyle", "borderRadius"]) || 0;
    r.setShape("r", u);
  }
  r.useStyle(l);
  var d = i.getShallow("cursor");
  d && r.attr("cursor", d);
  var p = s ? o ? a.r >= a.r0 ? "endArc" : "startArc" : a.endAngle >= a.startAngle ? "endAngle" : "startAngle" : o ? a.height >= 0 ? "bottom" : "top" : a.width >= 0 ? "right" : "left", v = zi(i);
  ea(r, v, {
    labelFetcher: n,
    labelDataIndex: t,
    defaultText: d0(n.getData(), t),
    inheritColor: l.fill,
    defaultOpacity: l.opacity,
    defaultOutsidePosition: p
  });
  var y = r.getTextContent();
  if (s && y) {
    var _ = i.get(["label", "position"]);
    r.textConfig.inside = _ === "middle" ? !0 : null, U2e(r, _ === "outside" ? p : _, GX(o), i.get(["label", "rotate"]));
  }
  jY(y, v, n.getRawValue(t), function(S) {
    return IX(e, S);
  });
  var w = i.getModel(["emphasis"]);
  Wn(r, w.get("focus"), w.get("blurScope"), w.get("disabled")), Gi(r, i), Y2e(a) && (r.style.fill = "none", r.style.stroke = "none", J(r.states, function(S) {
    S.style && (S.style.fill = S.style.stroke = "none");
  }));
}
function j2e(r, e) {
  var t = r.get(["itemStyle", "borderColor"]);
  if (!t || t === "none")
    return 0;
  var i = r.get(["itemStyle", "borderWidth"]) || 0, a = isNaN(e.width) ? Number.MAX_VALUE : Math.abs(e.width), n = isNaN(e.height) ? Number.MAX_VALUE : Math.abs(e.height);
  return Math.min(i, a, n);
}
var q2e = (
  /** @class */
  function() {
    function r() {
    }
    return r;
  }()
), mN = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t) {
      var i = r.call(this, t) || this;
      return i.type = "largeBar", i;
    }
    return e.prototype.getDefaultShape = function() {
      return new q2e();
    }, e.prototype.buildPath = function(t, i) {
      for (var a = i.points, n = this.baseDimIdx, o = 1 - this.baseDimIdx, s = [], l = [], u = this.barWidth, c = 0; c < a.length; c += 3)
        l[n] = u, l[o] = a[c + 2], s[n] = a[c + n], s[o] = a[c + o], t.rect(s[0], s[1], l[0], l[1]);
    }, e;
  }(Er)
);
function yN(r, e, t, i) {
  var a = r.getData(), n = a.getLayout("valueAxisHorizontal") ? 1 : 0, o = a.getLayout("largeDataIndices"), s = a.getLayout("size"), l = r.getModel("backgroundStyle"), u = a.getLayout("largeBackgroundPoints");
  if (u) {
    var c = new mN({
      shape: {
        points: u
      },
      incremental: !!i,
      silent: !0,
      z2: 0
    });
    c.baseDimIdx = n, c.largeDataIndices = o, c.barWidth = s, c.useStyle(l.getItemStyle()), e.add(c), t && t.push(c);
  }
  var f = new mN({
    shape: {
      points: a.getLayout("largePoints")
    },
    incremental: !!i,
    ignoreCoarsePointer: !0,
    z2: 1
  });
  f.baseDimIdx = n, f.largeDataIndices = o, f.barWidth = s, e.add(f), f.useStyle(a.getVisual("style")), f.style.stroke = null, er(f).seriesIndex = r.seriesIndex, r.get("silent") || (f.on("mousedown", _N), f.on("mousemove", _N)), t && t.push(f);
}
var _N = PS(function(r) {
  var e = this, t = X2e(e, r.offsetX, r.offsetY);
  er(e).dataIndex = t >= 0 ? t : null;
}, 30, !1);
function X2e(r, e, t) {
  for (var i = r.baseDimIdx, a = 1 - i, n = r.shape.points, o = r.largeDataIndices, s = [], l = [], u = r.barWidth, c = 0, f = n.length / 3; c < f; c++) {
    var d = c * 3;
    if (l[i] = u, l[a] = n[d + 2], s[i] = n[d + i], s[a] = n[d + a], l[a] < 0 && (s[a] += l[a], l[a] = -l[a]), e >= s[0] && e <= s[0] + l[0] && t >= s[1] && t <= s[1] + l[1])
      return o[c];
  }
  return -1;
}
function zX(r, e, t) {
  if (Qc(t, "cartesian2d")) {
    var i = e, a = t.getArea();
    return {
      x: r ? i.x : a.x,
      y: r ? a.y : i.y,
      width: r ? i.width : a.width,
      height: r ? a.height : i.height
    };
  } else {
    var a = t.getArea(), n = e;
    return {
      cx: a.cx,
      cy: a.cy,
      r0: r ? a.r0 : n.r0,
      r: r ? a.r : n.r,
      startAngle: r ? n.startAngle : 0,
      endAngle: r ? n.endAngle : Math.PI * 2
    };
  }
}
function K2e(r, e, t) {
  var i = r.type === "polar" ? Wa : Cr;
  return new i({
    shape: zX(e, t, r),
    silent: !0,
    z2: 0
  });
}
const Z2e = z2e;
function J2e(r) {
  r.registerChartView(Z2e), r.registerSeriesModel(F2e), r.registerLayout(r.PRIORITY.VISUAL.LAYOUT, fr(zq, "bar")), r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, Wq("bar")), r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC, VX("bar")), r.registerAction({
    type: "changeAxisOrder",
    event: "changeAxisOrder",
    update: "update"
  }, function(e, t) {
    var i = e.componentType || "series";
    t.eachComponent({
      mainType: i,
      query: e
    }, function(a) {
      e.sortInfo && a.axis.setCategorySortInfo(e.sortInfo);
    });
  });
}
var bN = Math.PI * 2, l2 = Math.PI / 180;
function Q2e(r, e, t) {
  e.eachSeriesByType(r, function(i) {
    var a = i.getData(), n = a.mapDimension("value"), o = cj(i, t), s = o.cx, l = o.cy, u = o.r, c = o.r0, f = o.viewRect, d = -i.get("startAngle") * l2, p = i.get("endAngle"), v = i.get("padAngle") * l2;
    p = p === "auto" ? d - bN : -p * l2;
    var y = i.get("minAngle") * l2, _ = y + v, w = 0;
    a.each(n, function(de) {
      !isNaN(de) && w++;
    });
    var S = a.getSum(n), x = Math.PI / (S || w) * 2, E = i.get("clockwise"), M = i.get("roseType"), k = i.get("stillShowZeroSum"), P = a.getDataExtent(n);
    P[0] = 0;
    var L = E ? 1 : -1, F = [d, p], O = L * v / 2;
    yS(F, !E), d = F[0], p = F[1];
    var U = WX(i);
    U.startAngle = d, U.endAngle = p, U.clockwise = E, U.cx = s, U.cy = l, U.r = u, U.r0 = c;
    var V = Math.abs(p - d), G = V, Z = 0, Q = d;
    if (a.setLayout({
      viewRect: f,
      r: u
    }), a.each(n, function(de, le) {
      var Se;
      if (isNaN(de)) {
        a.setItemLayout(le, {
          angle: NaN,
          startAngle: NaN,
          endAngle: NaN,
          clockwise: E,
          cx: s,
          cy: l,
          r0: c,
          r: M ? NaN : u
        });
        return;
      }
      M !== "area" ? Se = S === 0 && k ? x : de * x : Se = V / w, Se < _ ? (Se = _, G -= _) : Z += de;
      var he = Q + L * Se, fe = 0, K = 0;
      v > Se ? (fe = Q + L * Se / 2, K = fe) : (fe = Q + O, K = he - O), a.setItemLayout(le, {
        angle: Se,
        startAngle: fe,
        endAngle: K,
        clockwise: E,
        cx: s,
        cy: l,
        r0: c,
        r: M ? Qr(de, P, [c, u]) : u
      }), Q = he;
    }), G < bN && w)
      if (G <= 1e-3) {
        var se = V / w;
        a.each(n, function(de, le) {
          if (!isNaN(de)) {
            var Se = a.getItemLayout(le);
            Se.angle = se;
            var he = 0, fe = 0;
            se < v ? (he = d + L * (le + 1 / 2) * se, fe = he) : (he = d + L * le * se + O, fe = d + L * (le + 1) * se - O), Se.startAngle = he, Se.endAngle = fe;
          }
        });
      } else
        x = G / Z, Q = d, a.each(n, function(de, le) {
          if (!isNaN(de)) {
            var Se = a.getItemLayout(le), he = Se.angle === _ ? _ : de * x, fe = 0, K = 0;
            he < v ? (fe = Q + L * he / 2, K = fe) : (fe = Q + O, K = Q + L * he - O), Se.startAngle = fe, Se.endAngle = K, Q += L * he;
          }
        });
  });
}
var WX = Ar();
function Y0(r) {
  return {
    seriesType: r,
    reset: function(e, t) {
      var i = t.findComponents({
        mainType: "legend"
      });
      if (!(!i || !i.length)) {
        var a = e.getData();
        a.filterSelf(function(n) {
          for (var o = a.getName(n), s = 0; s < i.length; s++)
            if (!i[s].isSelected(o))
              return !1;
          return !0;
        });
      }
    }
  };
}
var e_e = Math.PI / 180;
function wN(r, e, t, i, a, n, o, s, l, u) {
  if (r.length < 2)
    return;
  function c(y) {
    for (var _ = y.rB, w = _ * _, S = 0; S < y.list.length; S++) {
      var x = y.list[S], E = Math.abs(x.label.y - t), M = i + x.len, k = M * M, P = Math.sqrt(Math.abs((1 - E * E / w) * k)), L = e + (P + x.len2) * a, F = L - x.label.x, O = x.targetTextWidth - F * a;
      HX(x, O, !0), x.label.x = L;
    }
  }
  function f(y) {
    for (var _ = {
      list: [],
      maxY: 0
    }, w = {
      list: [],
      maxY: 0
    }, S = 0; S < y.length; S++)
      if (y[S].labelAlignTo === "none") {
        var x = y[S], E = x.label.y > t ? w : _, M = Math.abs(x.label.y - t);
        if (M >= E.maxY) {
          var k = x.label.x - e - x.len2 * a, P = i + x.len, L = Math.abs(k) < P ? Math.sqrt(M * M / (1 - k * k / P / P)) : P;
          E.rB = L, E.maxY = M;
        }
        E.list.push(x);
      }
    c(_), c(w);
  }
  for (var d = r.length, p = 0; p < d; p++)
    if (r[p].position === "outer" && r[p].labelAlignTo === "labelLine") {
      var v = r[p].label.x - u;
      r[p].linePoints[1][0] += v, r[p].label.x = u;
    }
  M6(r, 1, l, l + o) && f(r);
}
function t_e(r, e, t, i, a, n, o, s) {
  for (var l = [], u = [], c = Number.MAX_VALUE, f = -Number.MAX_VALUE, d = 0; d < r.length; d++) {
    var p = r[d].label;
    g5(r[d]) || (p.x < e ? (c = Math.min(c, p.x), l.push(r[d])) : (f = Math.max(f, p.x), u.push(r[d])));
  }
  for (var d = 0; d < r.length; d++) {
    var v = r[d];
    if (!g5(v) && v.linePoints) {
      if (v.labelStyleWidth != null)
        continue;
      var p = v.label, y = v.linePoints, _ = void 0;
      v.labelAlignTo === "edge" ? p.x < e ? _ = y[2][0] - v.labelDistance - o - v.edgeDistance : _ = o + a - v.edgeDistance - y[2][0] - v.labelDistance : v.labelAlignTo === "labelLine" ? p.x < e ? _ = c - o - v.bleedMargin : _ = o + a - f - v.bleedMargin : p.x < e ? _ = p.x - o - v.bleedMargin : _ = o + a - p.x - v.bleedMargin, v.targetTextWidth = _, HX(v, _, !1);
    }
  }
  wN(u, e, t, i, 1, a, n, o, s, f), wN(l, e, t, i, -1, a, n, o, s, c);
  for (var d = 0; d < r.length; d++) {
    var v = r[d];
    if (!g5(v) && v.linePoints) {
      var p = v.label, y = v.linePoints, w = v.labelAlignTo === "edge", S = p.style.padding, x = S ? S[1] + S[3] : 0, E = p.style.backgroundColor ? 0 : x, M = v.rect.width + E, k = y[1][0] - y[2][0];
      w ? p.x < e ? y[2][0] = o + v.edgeDistance + M + v.labelDistance : y[2][0] = o + a - v.edgeDistance - M - v.labelDistance : (p.x < e ? y[2][0] = p.x + v.labelDistance : y[2][0] = p.x - v.labelDistance, y[1][0] = y[2][0] + k), y[1][1] = y[2][1] = p.y;
    }
  }
}
function HX(r, e, t) {
  if (r.labelStyleWidth == null) {
    var i = r.label, a = i.style, n = r.rect, o = a.backgroundColor, s = a.padding, l = s ? s[1] + s[3] : 0, u = a.overflow, c = n.width + (o ? 0 : l);
    if (e < c || t) {
      if (u && u.match("break")) {
        i.setStyle("backgroundColor", null), i.setStyle("width", e - l);
        var f = i.getBoundingRect();
        i.setStyle("width", Math.ceil(f.width)), i.setStyle("backgroundColor", o);
      } else {
        var d = e - l, p = e < c ? d : (
          // Current available width is enough, but the text may have
          // already been wrapped with a smaller available width.
          t ? d > r.unconstrainedWidth ? null : d : null
        );
        i.setStyle("width", p);
      }
      $X(n, i);
    }
  }
}
function $X(r, e) {
  SN.rect = r, pX(SN, e, r_e);
}
var r_e = {
  minMarginForce: [null, 0, null, 0],
  marginDefault: [1, 0, 1, 0]
}, SN = {};
function g5(r) {
  return r.position === "center";
}
function n_e(r) {
  var e = r.getData(), t = [], i, a, n = !1, o = (r.get("minShowLabelAngle") || 0) * e_e, s = e.getLayout("viewRect"), l = e.getLayout("r"), u = s.width, c = s.x, f = s.y, d = s.height;
  function p(k) {
    k.ignore = !0;
  }
  function v(k) {
    if (!k.ignore)
      return !0;
    for (var P in k.states)
      if (k.states[P].ignore === !1)
        return !0;
    return !1;
  }
  e.each(function(k) {
    var P = e.getItemGraphicEl(k), L = P.shape, F = P.getTextContent(), O = P.getTextGuideLine(), U = e.getItemModel(k), V = U.getModel("label"), G = V.get("position") || U.get(["emphasis", "label", "position"]), Z = V.get("distanceToLabelLine"), Q = V.get("alignTo"), se = gt(V.get("edgeDistance"), u), de = V.get("bleedMargin");
    de == null && (de = Math.min(u, d) > 200 ? 10 : 2);
    var le = U.getModel("labelLine"), Se = le.get("length");
    Se = gt(Se, u);
    var he = le.get("length2");
    if (he = gt(he, u), Math.abs(L.endAngle - L.startAngle) < o) {
      J(F.states, p), F.ignore = !0, O && (J(O.states, p), O.ignore = !0);
      return;
    }
    if (v(F)) {
      var fe = (L.startAngle + L.endAngle) / 2, K = Math.cos(fe), we = Math.sin(fe), ve, De, Ie, q;
      i = L.cx, a = L.cy;
      var re = G === "inside" || G === "inner";
      if (G === "center")
        ve = L.cx, De = L.cy, q = "center";
      else {
        var be = (re ? (L.r + L.r0) / 2 * K : L.r * K) + i, te = (re ? (L.r + L.r0) / 2 * we : L.r * we) + a;
        if (ve = be + K * 3, De = te + we * 3, !re) {
          var ne = be + K * (Se + l - L.r), ie = te + we * (Se + l - L.r), xe = ne + (K < 0 ? -1 : 1) * he, ge = ie;
          Q === "edge" ? ve = K < 0 ? c + se : c + u - se : ve = xe + (K < 0 ? -Z : Z), De = ge, Ie = [[be, te], [ne, ie], [xe, ge]];
        }
        q = re ? "center" : Q === "edge" ? K > 0 ? "right" : "left" : K > 0 ? "left" : "right";
      }
      var ae = Math.PI, pe = 0, ce = V.get("rotate");
      if (Or(ce))
        pe = ce * (ae / 180);
      else if (G === "center")
        pe = 0;
      else if (ce === "radial" || ce === !0) {
        var Ee = K < 0 ? -fe + ae : -fe;
        pe = Ee;
      } else if (ce === "tangential" && G !== "outside" && G !== "outer") {
        var ke = Math.atan2(K, we);
        ke < 0 && (ke = ae * 2 + ke);
        var ye = we > 0;
        ye && (ke = ae + ke), pe = ke - ae;
      }
      if (n = !!pe, F.x = ve, F.y = De, F.rotation = pe, F.setStyle({
        verticalAlign: "middle"
      }), re) {
        F.setStyle({
          align: q
        });
        var We = F.states.select;
        We && (We.x += F.x, We.y += F.y);
      } else {
        var Pe = new Jt(0, 0, 0, 0);
        $X(Pe, F), t.push({
          label: F,
          labelLine: O,
          position: G,
          len: Se,
          len2: he,
          minTurnAngle: le.get("minTurnAngle"),
          maxSurfaceAngle: le.get("maxSurfaceAngle"),
          surfaceNormal: new Xt(K, we),
          linePoints: Ie,
          textAlign: q,
          labelDistance: Z,
          labelAlignTo: Q,
          edgeDistance: se,
          bleedMargin: de,
          rect: Pe,
          unconstrainedWidth: Pe.width,
          labelStyleWidth: F.style.width
        });
      }
      P.setTextConfig({
        inside: re
      });
    }
  }), !n && r.get("avoidLabelOverlap") && t_e(t, i, a, l, u, d, c, f);
  for (var y = 0; y < t.length; y++) {
    var _ = t[y], w = _.label, S = _.labelLine, x = isNaN(w.x) || isNaN(w.y);
    if (w) {
      w.setStyle({
        align: _.textAlign
      }), x && (J(w.states, p), w.ignore = !0);
      var E = w.states.select;
      E && (E.x += w.x, E.y += w.y);
    }
    if (S) {
      var M = _.linePoints;
      x || !M ? (J(S.states, p), S.ignore = !0) : (hX(M, _.minTurnAngle), hye(M, _.surfaceNormal, _.maxSurfaceAngle), S.setShape({
        points: M
      }), w.__hostTarget.textGuideLineConfig = {
        anchor: new Xt(M[0][0], M[0][1])
      });
    }
  }
}
var i_e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i, a) {
      var n = r.call(this) || this;
      n.z2 = 2;
      var o = new Br();
      return n.setTextContent(o), n.updateData(t, i, a, !0), n;
    }
    return e.prototype.updateData = function(t, i, a, n) {
      var o = this, s = t.hostModel, l = t.getItemModel(i), u = l.getModel("emphasis"), c = t.getItemLayout(i), f = $e(Cl(l.getModel("itemStyle"), c, !0), c);
      if (isNaN(f.startAngle)) {
        o.setShape(f);
        return;
      }
      if (n) {
        o.setShape(f);
        var d = s.getShallow("animationType");
        s.ecModel.ssr ? (In(o, {
          scaleX: 0,
          scaleY: 0
        }, s, {
          dataIndex: i,
          isFrom: !0
        }), o.originX = f.cx, o.originY = f.cy) : d === "scale" ? (o.shape.r = c.r0, In(o, {
          shape: {
            r: c.r
          }
        }, s, i)) : a != null ? (o.setShape({
          startAngle: a,
          endAngle: a
        }), In(o, {
          shape: {
            startAngle: c.startAngle,
            endAngle: c.endAngle
          }
        }, s, i)) : (o.shape.endAngle = c.startAngle, Wr(o, {
          shape: {
            endAngle: c.endAngle
          }
        }, s, i));
      } else
        hs(o), Wr(o, {
          shape: f
        }, s, i);
      o.useStyle(t.getItemVisual(i, "style")), Gi(o, l);
      var p = (c.startAngle + c.endAngle) / 2, v = s.get("selectedOffset"), y = Math.cos(p) * v, _ = Math.sin(p) * v, w = l.getShallow("cursor");
      w && o.attr("cursor", w), this._updateLabel(s, t, i), o.ensureState("emphasis").shape = $e({
        r: c.r + (u.get("scale") && u.get("scaleSize") || 0)
      }, Cl(u.getModel("itemStyle"), c)), $e(o.ensureState("select"), {
        x: y,
        y: _,
        shape: Cl(l.getModel(["select", "itemStyle"]), c)
      }), $e(o.ensureState("blur"), {
        shape: Cl(l.getModel(["blur", "itemStyle"]), c)
      });
      var S = o.getTextGuideLine(), x = o.getTextContent();
      S && $e(S.ensureState("select"), {
        x: y,
        y: _
      }), $e(x.ensureState("select"), {
        x: y,
        y: _
      }), Wn(this, u.get("focus"), u.get("blurScope"), u.get("disabled"));
    }, e.prototype._updateLabel = function(t, i, a) {
      var n = this, o = i.getItemModel(a), s = o.getModel("labelLine"), l = i.getItemVisual(a, "style"), u = l && l.fill, c = l && l.opacity;
      ea(n, zi(o), {
        labelFetcher: i.hostModel,
        labelDataIndex: a,
        inheritColor: u,
        defaultOpacity: c,
        defaultText: t.getFormattedLabel(a, "normal") || i.getName(a)
      });
      var f = n.getTextContent();
      n.setTextConfig({
        // reset position, rotation
        position: null,
        rotation: null
      }), f.attr({
        z2: 10
      });
      var d = o.get(["label", "position"]);
      if (d !== "outside" && d !== "outer")
        n.removeTextGuideLine();
      else {
        var p = this.getTextGuideLine();
        p || (p = new wa(), this.setTextGuideLine(p)), GD(this, zD(o), {
          stroke: u,
          opacity: Ba(s.get(["lineStyle", "opacity"]), c, 1)
        });
      }
    }, e;
  }(Wa)
), a_e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.ignoreLabelLineUpdate = !0, t;
    }
    return e.prototype.render = function(t, i, a, n) {
      var o = t.getData(), s = this._data, l = this.group, u;
      if (!s && o.count() > 0) {
        for (var c = o.getItemLayout(0), f = 1; isNaN(c && c.startAngle) && f < o.count(); ++f)
          c = o.getItemLayout(f);
        c && (u = c.startAngle);
      }
      if (this._emptyCircleSector && l.remove(this._emptyCircleSector), o.count() === 0 && t.get("showEmptyCircle")) {
        var d = WX(t), p = new Wa({
          shape: Gt(d)
        });
        p.useStyle(t.getModel("emptyCircleStyle").getItemStyle()), this._emptyCircleSector = p, l.add(p);
      }
      o.diff(s).add(function(v) {
        var y = new i_e(o, v, u);
        o.setItemGraphicEl(v, y), l.add(y);
      }).update(function(v, y) {
        var _ = s.getItemGraphicEl(y);
        _.updateData(o, v, u), _.off("click"), l.add(_), o.setItemGraphicEl(v, _);
      }).remove(function(v) {
        var y = s.getItemGraphicEl(v);
        Au(y, t, v);
      }).execute(), n_e(t), t.get("animationTypeUpdate") !== "expansion" && (this._data = o);
    }, e.prototype.dispose = function() {
    }, e.prototype.containPoint = function(t, i) {
      var a = i.getData(), n = a.getItemLayout(0);
      if (n) {
        var o = t[0] - n.cx, s = t[1] - n.cy, l = Math.sqrt(o * o + s * s);
        return l <= n.r && l >= n.r0;
      }
    }, e.type = "pie", e;
  }(gn)
);
const o_e = a_e;
function j0(r, e, t) {
  e = Ke(e) && {
    coordDimensions: e
  } || $e({
    encodeDefine: r.getEncode()
  }, e);
  var i = r.getSource(), a = W0(i, e).dimensions, n = new Ua(a, r);
  return n.initData(i, t), n;
}
var s_e = (
  /** @class */
  function() {
    function r(e, t) {
      this._getDataWithEncodedVisual = e, this._getRawData = t;
    }
    return r.prototype.getAllNames = function() {
      var e = this._getRawData();
      return e.mapArray(e.getName);
    }, r.prototype.containName = function(e) {
      var t = this._getRawData();
      return t.indexOfName(e) >= 0;
    }, r.prototype.indexOfName = function(e) {
      var t = this._getDataWithEncodedVisual();
      return t.indexOfName(e);
    }, r.prototype.getItemVisual = function(e, t) {
      var i = this._getDataWithEncodedVisual();
      return i.getItemVisual(e, t);
    }, r;
  }()
);
const q0 = s_e;
var l_e = Ar(), YX = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e.prototype.init = function(t) {
      r.prototype.init.apply(this, arguments), this.legendVisualProvider = new q0(mt(this.getData, this), mt(this.getRawData, this)), this._defaultLabelLine(t);
    }, e.prototype.mergeOption = function() {
      r.prototype.mergeOption.apply(this, arguments);
    }, e.prototype.getInitialData = function() {
      return j0(this, {
        coordDimensions: ["value"],
        encodeDefaulter: fr(vD, this)
      });
    }, e.prototype.getDataParams = function(t) {
      var i = this.getData(), a = l_e(i), n = a.seats;
      if (!n) {
        var o = [];
        i.each(i.mapDimension("value"), function(l) {
          o.push(l);
        }), n = a.seats = N$(o, i.hostModel.get("percentPrecision"));
      }
      var s = r.prototype.getDataParams.call(this, t);
      return s.percent = n[t] || 0, s.$vars.push("percent"), s;
    }, e.prototype._defaultLabelLine = function(t) {
      Zf(t, "labelLine", ["show"]);
      var i = t.labelLine, a = t.emphasis.labelLine;
      i.show = i.show && t.label.show, a.show = a.show && t.emphasis.label.show;
    }, e.type = "series.pie", e.defaultOption = {
      // zlevel: 0,
      z: 2,
      legendHoverLink: !0,
      colorBy: "data",
      // 
      center: ["50%", "50%"],
      radius: [0, "50%"],
      // 
      clockwise: !0,
      startAngle: 90,
      endAngle: "auto",
      padAngle: 0,
      // 0
      minAngle: 0,
      // If the angle of a sector less than `minShowLabelAngle`,
      // the label will not be displayed.
      minShowLabelAngle: 0,
      // 
      selectedOffset: 10,
      // singlemultiple
      // selectedMode: false,
      // 'radius' | 'area'
      // roseType: null,
      percentPrecision: 2,
      // If still show when all data zero.
      stillShowZeroSum: !0,
      // cursor: null,
      coordinateSystemUsage: "box",
      left: 0,
      top: 0,
      right: 0,
      bottom: 0,
      width: null,
      height: null,
      label: {
        // color: 'inherit',
        // If rotate around circle
        rotate: 0,
        show: !0,
        overflow: "truncate",
        // 'outer', 'inside', 'center'
        position: "outer",
        // 'none', 'labelLine', 'edge'. Works only when position is 'outer'
        alignTo: "none",
        // Closest distance between label and chart edge.
        // Works only position is 'outer' and alignTo is 'edge'.
        edgeDistance: "25%",
        // Works only position is 'outer' and alignTo is not 'edge'.
        // The default `bleedMargin` is auto determined according to view rect size.
        // bleedMargin: 10,
        // Distance between text and label line.
        distanceToLabelLine: 5
        // formatter:  tooltip.formatter
        //  textStyle
        // distance: positioninnerlabel()
      },
      // Enabled when label.normal.position is 'outer'
      labelLine: {
        show: !0,
        // 
        length: 15,
        // 
        length2: 30,
        smooth: !1,
        minTurnAngle: 90,
        maxSurfaceAngle: 90,
        lineStyle: {
          // color: ,
          width: 1,
          type: "solid"
        }
      },
      itemStyle: {
        borderWidth: 1,
        borderJoin: "round"
      },
      showEmptyCircle: !0,
      emptyCircleStyle: {
        color: "lightgray",
        opacity: 1
      },
      labelLayout: {
        // Hide the overlapped label.
        hideOverlap: !0
      },
      emphasis: {
        scale: !0,
        scaleSize: 5
      },
      // If use strategy to avoid label overlapping
      avoidLabelOverlap: !0,
      // Animation type. Valid values: expansion, scale
      animationType: "expansion",
      animationDuration: 1e3,
      // Animation type when update. Valid values: transition, expansion
      animationTypeUpdate: "transition",
      animationEasingUpdate: "cubicInOut",
      animationDurationUpdate: 500,
      animationEasing: "cubicInOut"
    }, e;
  }(En)
);
T0e({
  fullType: YX.type,
  getCoord2: function(r) {
    return r.getShallow("center");
  }
});
const u_e = YX;
function c_e(r) {
  return {
    seriesType: r,
    reset: function(e, t) {
      var i = e.getData();
      i.filterSelf(function(a) {
        var n = i.mapDimension("value"), o = i.get(n, a);
        return !(Or(o) && !isNaN(o) && o < 0);
      });
    }
  };
}
function h_e(r) {
  r.registerChartView(o_e), r.registerSeriesModel(u_e), rq("pie", r.registerAction), r.registerLayout(fr(Q2e, "pie")), r.registerProcessor(Y0("pie")), r.registerProcessor(c_e("pie"));
}
var f_e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.hasSymbolVisual = !0, t;
    }
    return e.prototype.getInitialData = function(t, i) {
      return Bl(null, this, {
        useEncodeDefaulter: !0
      });
    }, e.prototype.getProgressive = function() {
      var t = this.option.progressive;
      return t ?? (this.option.large ? 5e3 : this.get("progressive"));
    }, e.prototype.getProgressiveThreshold = function() {
      var t = this.option.progressiveThreshold;
      return t ?? (this.option.large ? 1e4 : this.get("progressiveThreshold"));
    }, e.prototype.brushSelector = function(t, i, a) {
      return a.point(i.getItemLayout(t));
    }, e.prototype.getZLevelKey = function() {
      return this.getData().count() > this.getProgressiveThreshold() ? this.id : "";
    }, e.type = "series.scatter", e.dependencies = ["grid", "polar", "geo", "singleAxis", "calendar", "matrix"], e.defaultOption = {
      coordinateSystem: "cartesian2d",
      // zlevel: 0,
      z: 2,
      legendHoverLink: !0,
      symbolSize: 10,
      // symbolRotate: null,  // 
      large: !1,
      // Available when large is true
      largeThreshold: 2e3,
      // cursor: null,
      itemStyle: {
        opacity: 0.8
        // color: 
      },
      emphasis: {
        scale: !0
      },
      // If clip the overflow graphics
      // Works on cartesian / polar series
      clip: !0,
      select: {
        itemStyle: {
          borderColor: Ve.color.primary
        }
      },
      universalTransition: {
        divideShape: "clone"
      }
      // progressive: null
    }, e;
  }(En)
);
const d_e = f_e;
var jX = 4, p_e = (
  /** @class */
  function() {
    function r() {
    }
    return r;
  }()
), v_e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t) {
      var i = r.call(this, t) || this;
      return i._off = 0, i.hoverDataIdx = -1, i;
    }
    return e.prototype.getDefaultShape = function() {
      return new p_e();
    }, e.prototype.reset = function() {
      this.notClear = !1, this._off = 0;
    }, e.prototype.buildPath = function(t, i) {
      var a = i.points, n = i.size, o = this.symbolProxy, s = o.shape, l = t.getContext ? t.getContext() : t, u = l && n[0] < jX, c = this.softClipShape, f;
      if (u) {
        this._ctx = l;
        return;
      }
      for (this._ctx = null, f = this._off; f < a.length; ) {
        var d = a[f++], p = a[f++];
        isNaN(d) || isNaN(p) || c && !c.contain(d, p) || (s.x = d - n[0] / 2, s.y = p - n[1] / 2, s.width = n[0], s.height = n[1], o.buildPath(t, s, !0));
      }
      this.incremental && (this._off = f, this.notClear = !0);
    }, e.prototype.afterBrush = function() {
      var t = this.shape, i = t.points, a = t.size, n = this._ctx, o = this.softClipShape, s;
      if (n) {
        for (s = this._off; s < i.length; ) {
          var l = i[s++], u = i[s++];
          isNaN(l) || isNaN(u) || o && !o.contain(l, u) || n.fillRect(l - a[0] / 2, u - a[1] / 2, a[0], a[1]);
        }
        this.incremental && (this._off = s, this.notClear = !0);
      }
    }, e.prototype.findDataIndex = function(t, i) {
      for (var a = this.shape, n = a.points, o = a.size, s = Math.max(o[0], 4), l = Math.max(o[1], 4), u = n.length / 2 - 1; u >= 0; u--) {
        var c = u * 2, f = n[c] - s / 2, d = n[c + 1] - l / 2;
        if (t >= f && i >= d && t <= f + s && i <= d + l)
          return u;
      }
      return -1;
    }, e.prototype.contain = function(t, i) {
      var a = this.transformCoordToLocal(t, i), n = this.getBoundingRect();
      if (t = a[0], i = a[1], n.contain(t, i)) {
        var o = this.hoverDataIdx = this.findDataIndex(t, i);
        return o >= 0;
      }
      return this.hoverDataIdx = -1, !1;
    }, e.prototype.getBoundingRect = function() {
      var t = this._rect;
      if (!t) {
        for (var i = this.shape, a = i.points, n = i.size, o = n[0], s = n[1], l = 1 / 0, u = 1 / 0, c = -1 / 0, f = -1 / 0, d = 0; d < a.length; ) {
          var p = a[d++], v = a[d++];
          l = Math.min(p, l), c = Math.max(p, c), u = Math.min(v, u), f = Math.max(v, f);
        }
        t = this._rect = new Jt(l - o / 2, u - s / 2, c - l + o, f - u + s);
      }
      return t;
    }, e;
  }(Er)
), g_e = (
  /** @class */
  function() {
    function r() {
      this.group = new Wt();
    }
    return r.prototype.updateData = function(e, t) {
      this._clear();
      var i = this._create();
      i.setShape({
        points: e.getLayout("points")
      }), this._setCommon(i, e, t);
    }, r.prototype.updateLayout = function(e) {
      var t = e.getLayout("points");
      this.group.eachChild(function(i) {
        if (i.startIndex != null) {
          var a = (i.endIndex - i.startIndex) * 2, n = i.startIndex * 4 * 2;
          t = new Float32Array(t.buffer, n, a);
        }
        i.setShape("points", t), i.reset();
      });
    }, r.prototype.incrementalPrepareUpdate = function(e) {
      this._clear();
    }, r.prototype.incrementalUpdate = function(e, t, i) {
      var a = this._newAdded[0], n = t.getLayout("points"), o = a && a.shape.points;
      if (o && o.length < 2e4) {
        var s = o.length, l = new Float32Array(s + n.length);
        l.set(o), l.set(n, s), a.endIndex = e.end, a.setShape({
          points: l
        });
      } else {
        this._newAdded = [];
        var u = this._create();
        u.startIndex = e.start, u.endIndex = e.end, u.incremental = !0, u.setShape({
          points: n
        }), this._setCommon(u, t, i);
      }
    }, r.prototype.eachRendered = function(e) {
      this._newAdded[0] && e(this._newAdded[0]);
    }, r.prototype._create = function() {
      var e = new v_e({
        cursor: "default"
      });
      return e.ignoreCoarsePointer = !0, this.group.add(e), this._newAdded.push(e), e;
    }, r.prototype._setCommon = function(e, t, i) {
      var a = t.hostModel;
      i = i || {};
      var n = t.getVisual("symbolSize");
      e.setShape("size", n instanceof Array ? n : [n, n]), e.softClipShape = i.clipShape || null, e.symbolProxy = Si(t.getVisual("symbol"), 0, 0, 0, 0), e.setColor = e.symbolProxy.setColor;
      var o = e.shape.size[0] < jX;
      e.useStyle(
        // Draw shadow when doing fillRect is extremely slow.
        a.getModel("itemStyle").getItemStyle(o ? ["color", "shadowBlur", "shadowColor"] : ["color"])
      );
      var s = t.getVisual("style"), l = s && s.fill;
      l && e.setColor(l);
      var u = er(e);
      u.seriesIndex = a.seriesIndex, e.on("mousemove", function(c) {
        u.dataIndex = null;
        var f = e.hoverDataIdx;
        f >= 0 && (u.dataIndex = f + (e.startIndex || 0));
      });
    }, r.prototype.remove = function() {
      this._clear();
    }, r.prototype._clear = function() {
      this._newAdded = [], this.group.removeAll();
    }, r;
  }()
);
const m_e = g_e;
var y_e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i, a) {
      var n = t.getData(), o = this._updateSymbolDraw(n, t);
      o.updateData(n, {
        // TODO
        // If this parameter should be a shape or a bounding volume
        // shape will be more general.
        // But bounding volume like bounding rect will be much faster in the contain calculation
        clipShape: this._getClipShape(t)
      }), this._finished = !0;
    }, e.prototype.incrementalPrepareRender = function(t, i, a) {
      var n = t.getData(), o = this._updateSymbolDraw(n, t);
      o.incrementalPrepareUpdate(n), this._finished = !1;
    }, e.prototype.incrementalRender = function(t, i, a) {
      this._symbolDraw.incrementalUpdate(t, i.getData(), {
        clipShape: this._getClipShape(i)
      }), this._finished = t.end === i.getData().count();
    }, e.prototype.updateTransform = function(t, i, a) {
      var n = t.getData();
      if (this.group.dirty(), !this._finished || n.count() > 1e4)
        return {
          update: !0
        };
      var o = dm("").reset(t, i, a);
      o.progress && o.progress({
        start: 0,
        end: n.count(),
        count: n.count()
      }, n), this._symbolDraw.updateLayout(n);
    }, e.prototype.eachRendered = function(t) {
      this._symbolDraw && this._symbolDraw.eachRendered(t);
    }, e.prototype._getClipShape = function(t) {
      if (t.get("clip", !0)) {
        var i = t.coordinateSystem;
        return i && i.getArea && i.getArea(0.1);
      }
    }, e.prototype._updateSymbolDraw = function(t, i) {
      var a = this._symbolDraw, n = i.pipelineContext, o = n.large;
      return (!a || o !== this._isLargeDraw) && (a && a.remove(), a = this._symbolDraw = o ? new m_e() : new hm(), this._isLargeDraw = o, this.group.removeAll()), this.group.add(a.group), a;
    }, e.prototype.remove = function(t, i) {
      this._symbolDraw && this._symbolDraw.remove(!0), this._symbolDraw = null;
    }, e.prototype.dispose = function() {
    }, e.type = "scatter", e;
  }(gn)
);
const __e = y_e;
var qX = {
  left: 0,
  right: 0,
  top: 0,
  bottom: 0
}, xb = ["25%", "25%"], b_e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e.prototype.mergeDefaultAndTheme = function(t, i) {
      var a = Td(t.outerBounds);
      r.prototype.mergeDefaultAndTheme.apply(this, arguments), a && t.outerBounds && Pl(t.outerBounds, a);
    }, e.prototype.mergeOption = function(t, i) {
      r.prototype.mergeOption.apply(this, arguments), this.option.outerBounds && t.outerBounds && Pl(this.option.outerBounds, t.outerBounds);
    }, e.type = "grid", e.dependencies = ["xAxis", "yAxis"], e.layoutMode = "box", e.defaultOption = {
      show: !1,
      // zlevel: 0,
      z: 0,
      left: "15%",
      top: 65,
      right: "10%",
      bottom: 80,
      // If grid size contain label
      containLabel: !1,
      outerBoundsMode: "auto",
      outerBounds: qX,
      outerBoundsContain: "all",
      outerBoundsClampWidth: xb[0],
      outerBoundsClampHeight: xb[1],
      // width: {totalWidth} - left - right,
      // height: {totalHeight} - top - bottom,
      backgroundColor: Ve.color.transparent,
      borderWidth: 1,
      borderColor: Ve.color.neutral30
    }, e;
  }(Rr)
);
const w_e = b_e;
var O6 = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e.prototype.getCoordSysModel = function() {
      return this.getReferringComponents("grid", ri).models[0];
    }, e.type = "cartesian2dAxis", e;
  }(Rr)
);
ci(O6, $0);
var XX = {
  show: !0,
  // zlevel: 0,
  z: 0,
  // Inverse the axis.
  inverse: !1,
  // Axis name displayed.
  name: "",
  // 'start' | 'middle' | 'end'
  nameLocation: "end",
  // By degree. By default auto rotate by nameLocation.
  nameRotate: null,
  nameTruncate: {
    maxWidth: null,
    ellipsis: "...",
    placeholder: "."
  },
  // Use global text style by default.
  nameTextStyle: {
    // textMargin: never, // The default value will be specified based on `nameLocation`.
  },
  // The gap between axisName and axisLine.
  nameGap: 15,
  // Default `false` to support tooltip.
  silent: !1,
  // Default `false` to avoid legacy user event listener fail.
  triggerEvent: !1,
  tooltip: {
    show: !1
  },
  axisPointer: {},
  axisLine: {
    show: !0,
    onZero: !0,
    onZeroAxisIndex: null,
    lineStyle: {
      color: Ve.color.axisLine,
      width: 1,
      type: "solid"
    },
    // The arrow at both ends the the axis.
    symbol: ["none", "none"],
    symbolSize: [10, 15],
    breakLine: !0
  },
  axisTick: {
    show: !0,
    // Whether axisTick is inside the grid or outside the grid.
    inside: !1,
    // The length of axisTick.
    length: 5,
    lineStyle: {
      width: 1
    }
  },
  axisLabel: {
    show: !0,
    // Whether axisLabel is inside the grid or outside the grid.
    inside: !1,
    rotate: 0,
    // true | false | null/undefined (auto)
    showMinLabel: null,
    // true | false | null/undefined (auto)
    showMaxLabel: null,
    margin: 8,
    // formatter: null,
    fontSize: 12,
    color: Ve.color.axisLabel,
    // In scenarios like axis labels, when labels text's progression direction matches the label
    // layout direction (e.g., when all letters are in a single line), extra start/end margin is
    // needed to prevent the text from appearing visually joined. In the other case, when lables
    // are stacked (e.g., having rotation or horizontal labels on yAxis), the layout needs to be
    // compact, so NO extra top/bottom margin should be applied.
    textMargin: [0, 3]
  },
  splitLine: {
    show: !0,
    showMinLine: !0,
    showMaxLine: !0,
    lineStyle: {
      color: Ve.color.axisSplitLine,
      width: 1,
      type: "solid"
    }
  },
  splitArea: {
    show: !1,
    areaStyle: {
      color: [Ve.color.backgroundTint, Ve.color.backgroundTransparent]
    }
  },
  breakArea: {
    show: !0,
    itemStyle: {
      color: Ve.color.neutral00,
      // Break border color should be darker than the splitLine
      // because it has opacity and should be more prominent
      borderColor: Ve.color.border,
      borderWidth: 1,
      borderType: [3, 3],
      opacity: 0.6
    },
    zigzagAmplitude: 4,
    zigzagMinSpan: 4,
    zigzagMaxSpan: 20,
    zigzagZ: 100,
    expandOnClick: !0
  },
  breakLabelLayout: {
    moveOverlap: "auto"
  }
}, S_e = gr({
  // The gap at both ends of the axis. For categoryAxis, boolean.
  boundaryGap: !0,
  // Set false to faster category collection.
  deduplication: null,
  jitter: 0,
  jitterOverlap: !0,
  jitterMargin: 2,
  // splitArea: {
  // show: false
  // },
  splitLine: {
    show: !1
  },
  axisTick: {
    // If tick is align with label when boundaryGap is true
    alignWithLabel: !1,
    interval: "auto",
    show: "auto"
  },
  axisLabel: {
    interval: "auto"
  }
}, XX), qD = gr({
  boundaryGap: [0, 0],
  axisLine: {
    // Not shown when other axis is categoryAxis in cartesian
    show: "auto"
  },
  axisTick: {
    // Not shown when other axis is categoryAxis in cartesian
    show: "auto"
  },
  // TODO
  // min/max: [30, datamin, 60] or [20, datamin] or [datamin, 60]
  splitNumber: 5,
  minorTick: {
    // Minor tick, not available for cateogry axis.
    show: !1,
    // Split number of minor ticks. The value should be in range of (0, 100)
    splitNumber: 5,
    // Length of minor tick
    length: 3,
    // Line style
    lineStyle: {
      // Default to be same with axisTick
    }
  },
  minorSplitLine: {
    show: !1,
    lineStyle: {
      color: Ve.color.axisMinorSplitLine,
      width: 1
    }
  }
}, XX), x_e = gr({
  splitNumber: 6,
  axisLabel: {
    // To eliminate labels that are not nice
    showMinLabel: !1,
    showMaxLabel: !1,
    rich: {
      primary: {
        fontWeight: "bold"
      }
    }
  },
  splitLine: {
    show: !1
  }
}, qD), T_e = Yt({
  logBase: 10
}, qD);
const KX = {
  category: S_e,
  value: qD,
  time: x_e,
  log: T_e
};
var C_e = {
  value: 1,
  category: 1,
  time: 1,
  log: 1
}, F6 = null;
function A_e(r) {
  F6 || (F6 = r);
}
function pm() {
  return F6;
}
function p0(r, e, t, i) {
  J(C_e, function(a, n) {
    var o = gr(gr({}, KX[n], !0), i, !0), s = (
      /** @class */
      function(l) {
        Ge(u, l);
        function u() {
          var c = l !== null && l.apply(this, arguments) || this;
          return c.type = e + "Axis." + n, c;
        }
        return u.prototype.mergeDefaultAndTheme = function(c, f) {
          var d = g1(this), p = d ? Td(c) : {}, v = f.getTheme();
          gr(c, v.get(n + "Axis")), gr(c, this.getDefaultOption()), c.type = xN(c), d && Pl(c, p, d);
        }, u.prototype.optionUpdated = function() {
          var c = this.option;
          c.type === "category" && (this.__ordinalMeta = S1.createByAxisModel(this));
        }, u.prototype.getCategories = function(c) {
          var f = this.option;
          if (f.type === "category")
            return c ? f.data : this.__ordinalMeta.categories;
        }, u.prototype.getOrdinalMeta = function() {
          return this.__ordinalMeta;
        }, u.prototype.updateAxisBreaks = function(c) {
          var f = pm();
          return f ? f.updateModelAxisBreak(this, c) : {
            breaks: []
          };
        }, u.type = e + "Axis." + n, u.defaultOption = o, u;
      }(t)
    );
    r.registerComponentModel(s);
  }), r.registerSubTypeDefaulter(e + "Axis", xN);
}
function xN(r) {
  return r.type || (r.data ? "category" : "value");
}
var E_e = (
  /** @class */
  function() {
    function r(e) {
      this.type = "cartesian", this._dimList = [], this._axes = {}, this.name = e || "";
    }
    return r.prototype.getAxis = function(e) {
      return this._axes[e];
    }, r.prototype.getAxes = function() {
      return Je(this._dimList, function(e) {
        return this._axes[e];
      }, this);
    }, r.prototype.getAxesByScale = function(e) {
      return e = e.toLowerCase(), Xr(this.getAxes(), function(t) {
        return t.scale.type === e;
      });
    }, r.prototype.addAxis = function(e) {
      var t = e.dim;
      this._axes[t] = e, this._dimList.push(t);
    }, r;
  }()
);
const D_e = E_e;
var N6 = ["x", "y"];
function TN(r) {
  return (r.type === "interval" || r.type === "time") && !r.hasBreaks();
}
var k_e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = "cartesian2d", t.dimensions = N6, t;
    }
    return e.prototype.calcAffineTransform = function() {
      this._transform = this._invTransform = null;
      var t = this.getAxis("x").scale, i = this.getAxis("y").scale;
      if (!(!TN(t) || !TN(i))) {
        var a = t.getExtent(), n = i.getExtent(), o = this.dataToPoint([a[0], n[0]]), s = this.dataToPoint([a[1], n[1]]), l = a[1] - a[0], u = n[1] - n[0];
        if (!(!l || !u)) {
          var c = (s[0] - o[0]) / l, f = (s[1] - o[1]) / u, d = o[0] - a[0] * c, p = o[1] - n[0] * f, v = this._transform = [c, 0, 0, f, d, p];
          this._invTransform = us([], v);
        }
      }
    }, e.prototype.getBaseAxis = function() {
      return this.getAxesByScale("ordinal")[0] || this.getAxesByScale("time")[0] || this.getAxis("x");
    }, e.prototype.containPoint = function(t) {
      var i = this.getAxis("x"), a = this.getAxis("y");
      return i.contain(i.toLocalCoord(t[0])) && a.contain(a.toLocalCoord(t[1]));
    }, e.prototype.containData = function(t) {
      return this.getAxis("x").containData(t[0]) && this.getAxis("y").containData(t[1]);
    }, e.prototype.containZone = function(t, i) {
      var a = this.dataToPoint(t), n = this.dataToPoint(i), o = this.getArea(), s = new Jt(a[0], a[1], n[0] - a[0], n[1] - a[1]);
      return o.intersect(s);
    }, e.prototype.dataToPoint = function(t, i, a) {
      a = a || [];
      var n = t[0], o = t[1];
      if (this._transform && n != null && isFinite(n) && o != null && isFinite(o))
        return li(a, t, this._transform);
      var s = this.getAxis("x"), l = this.getAxis("y");
      return a[0] = s.toGlobalCoord(s.dataToCoord(n, i)), a[1] = l.toGlobalCoord(l.dataToCoord(o, i)), a;
    }, e.prototype.clampData = function(t, i) {
      var a = this.getAxis("x").scale, n = this.getAxis("y").scale, o = a.getExtent(), s = n.getExtent(), l = a.parse(t[0]), u = n.parse(t[1]);
      return i = i || [], i[0] = Math.min(Math.max(Math.min(o[0], o[1]), l), Math.max(o[0], o[1])), i[1] = Math.min(Math.max(Math.min(s[0], s[1]), u), Math.max(s[0], s[1])), i;
    }, e.prototype.pointToData = function(t, i, a) {
      if (a = a || [], this._invTransform)
        return li(a, t, this._invTransform);
      var n = this.getAxis("x"), o = this.getAxis("y");
      return a[0] = n.coordToData(n.toLocalCoord(t[0]), i), a[1] = o.coordToData(o.toLocalCoord(t[1]), i), a;
    }, e.prototype.getOtherAxis = function(t) {
      return this.getAxis(t.dim === "x" ? "y" : "x");
    }, e.prototype.getArea = function(t) {
      t = t || 0;
      var i = this.getAxis("x").getGlobalExtent(), a = this.getAxis("y").getGlobalExtent(), n = Math.min(i[0], i[1]) - t, o = Math.min(a[0], a[1]) - t, s = Math.max(i[0], i[1]) - n + t, l = Math.max(a[0], a[1]) - o + t;
      return new Jt(n, o, s, l);
    }, e;
  }(D_e)
), M_e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i, a, n, o) {
      var s = r.call(this, t, i, a) || this;
      return s.index = 0, s.type = n || "value", s.position = o || "bottom", s;
    }
    return e.prototype.isHorizontal = function() {
      var t = this.position;
      return t === "top" || t === "bottom";
    }, e.prototype.getGlobalExtent = function(t) {
      var i = this.getExtent();
      return i[0] = this.toGlobalCoord(i[0]), i[1] = this.toGlobalCoord(i[1]), t && i[0] > i[1] && i.reverse(), i;
    }, e.prototype.pointToData = function(t, i) {
      return this.coordToData(this.toLocalCoord(t[this.dim === "x" ? 0 : 1]), i);
    }, e.prototype.setCategorySortInfo = function(t) {
      if (this.type !== "category")
        return !1;
      this.model.option.categorySortInfo = t, this.scale.setSortInfo(t);
    }, e;
  }(ps)
);
const ZX = M_e;
var NS = "expandAxisBreak", JX = "collapseAxisBreak", QX = "toggleAxisBreak", XD = "axisbreakchanged", I_e = {
  type: NS,
  event: XD,
  update: "update",
  refineEvent: KD
}, P_e = {
  type: JX,
  event: XD,
  update: "update",
  refineEvent: KD
}, R_e = {
  type: QX,
  event: XD,
  update: "update",
  refineEvent: KD
};
function KD(r, e, t, i) {
  var a = [];
  return J(r, function(n) {
    a = a.concat(n.eventBreaks);
  }), {
    eventContent: {
      breaks: a
    }
  };
}
function L_e(r) {
  r.registerAction(I_e, e), r.registerAction(P_e, e), r.registerAction(R_e, e);
  function e(t, i) {
    var a = [], n = jp(i, t);
    function o(s, l) {
      J(n[s], function(u) {
        var c = u.updateAxisBreaks(t);
        J(c.breaks, function(f) {
          var d;
          a.push(Yt((d = {}, d[l] = u.componentIndex, d), f));
        });
      });
    }
    return o("xAxisModels", "xAxisIndex"), o("yAxisModels", "yAxisIndex"), o("singleAxisModels", "singleAxisIndex"), {
      eventBreaks: a
    };
  }
}
var Lc = Math.PI, O_e = [[1, 2, 1, 2], [5, 3, 5, 3], [8, 3, 8, 3]], F_e = [[0, 1, 0, 1], [0, 3, 0, 3], [0, 3, 0, 3]], v0 = Ar(), eK = Ar(), tK = (
  /** @class */
  function() {
    function r(e) {
      this.recordMap = {}, this.resolveAxisNameOverlap = e;
    }
    return r.prototype.ensureRecord = function(e) {
      var t = e.axis.dim, i = e.componentIndex, a = this.recordMap, n = a[t] || (a[t] = []);
      return n[i] || (n[i] = {
        ready: {}
      });
    }, r;
  }()
);
function N_e(r, e, t, i) {
  var a = t.axis, n = e.ensureRecord(t), o = [], s, l = ZD(r.axisName) && f0(r.nameLocation);
  J(i, function(v) {
    var y = Rl(v);
    if (!(!y || y.label.ignore)) {
      o.push(y);
      var _ = n.transGroup;
      l && (_.transform ? us(rg, _.transform) : Z1(rg), y.transform && Ls(rg, rg, y.transform), Jt.copy(u2, y.localRect), u2.applyTransform(rg), s ? s.union(u2) : Jt.copy(s = new Jt(0, 0, 0, 0), u2));
    }
  });
  var u = Math.abs(n.dirVec.x) > 0.1 ? "x" : "y", c = n.transGroup[u];
  if (o.sort(function(v, y) {
    return Math.abs(v.label[u] - c) - Math.abs(y.label[u] - c);
  }), l && s) {
    var f = a.getExtent(), d = Math.min(f[0], f[1]), p = Math.max(f[0], f[1]) - d;
    s.union(new Jt(d, 0, p, 1));
  }
  n.stOccupiedRect = s, n.labelInfoList = o;
}
var rg = Ji(), u2 = new Jt(0, 0, 0, 0), rK = function(r, e, t, i, a, n) {
  if (f0(r.nameLocation)) {
    var o = n.stOccupiedRect;
    o && nK(pye({}, o, n.transGroup.transform), i, a);
  } else
    iK(n.labelInfoList, n.dirVec, i, a);
};
function nK(r, e, t) {
  var i = new Xt();
  OS(r, e, i, {
    direction: Math.atan2(t.y, t.x),
    bidirectional: !1,
    touchThreshold: 0.05
  }) && D6(e, i);
}
function iK(r, e, t, i) {
  for (var a = Xt.dot(i, e) >= 0, n = 0, o = r.length; n < o; n++) {
    var s = r[a ? n : o - 1 - n];
    s.label.ignore || nK(s, t, i);
  }
}
var jf = (
  /** @class */
  function() {
    function r(e, t, i, a) {
      this.group = new Wt(), this._axisModel = e, this._api = t, this._local = {}, this._shared = a || new tK(rK), this._resetCfgDetermined(i);
    }
    return r.prototype.updateCfg = function(e) {
      if (process.env.NODE_ENV !== "production") {
        var t = this._shared.ensureRecord(this._axisModel).ready;
        kt(!t.axisLine && !t.axisTickLabelDetermine), t.axisName = t.axisTickLabelEstimate = !1;
      }
      var i = this._cfg.raw;
      i.position = e.position, i.labelOffset = e.labelOffset, this._resetCfgDetermined(i);
    }, r.prototype.__getRawCfg = function() {
      return this._cfg.raw;
    }, r.prototype._resetCfgDetermined = function(e) {
      var t = this._axisModel, i = t.getDefaultOption ? t.getDefaultOption() : {}, a = It(e.axisName, t.get("name")), n = t.get("nameMoveOverlap");
      (n == null || n === "auto") && (n = It(e.defaultNameMoveOverlap, !0));
      var o = {
        raw: e,
        position: e.position,
        rotation: e.rotation,
        nameDirection: It(e.nameDirection, 1),
        tickDirection: It(e.tickDirection, 1),
        labelDirection: It(e.labelDirection, 1),
        labelOffset: It(e.labelOffset, 0),
        silent: It(e.silent, !0),
        axisName: a,
        nameLocation: Ba(t.get("nameLocation"), i.nameLocation, "end"),
        shouldNameMoveOverlap: ZD(a) && n,
        optionHideOverlap: t.get(["axisLabel", "hideOverlap"]),
        showMinorTicks: t.get(["minorTick", "show"])
      };
      process.env.NODE_ENV !== "production" && (kt(o.position != null), kt(o.rotation != null)), this._cfg = o;
      var s = new Wt({
        x: o.position[0],
        y: o.position[1],
        rotation: o.rotation
      });
      s.updateTransform(), this._transformGroup = s;
      var l = this._shared.ensureRecord(t);
      l.transGroup = this._transformGroup, l.dirVec = new Xt(Math.cos(-o.rotation), Math.sin(-o.rotation));
    }, r.prototype.build = function(e, t) {
      var i = this;
      return e || (e = {
        axisLine: !0,
        axisTickLabelEstimate: !1,
        axisTickLabelDetermine: !0,
        axisName: !0
      }), J(B_e, function(a) {
        e[a] && V_e[a](i._cfg, i._local, i._shared, i._axisModel, i.group, i._transformGroup, i._api, t || {});
      }), this;
    }, r.innerTextLayout = function(e, t, i) {
      var a = P8(t - e), n, o;
      return o0(a) ? (o = i > 0 ? "top" : "bottom", n = "center") : o0(a - Lc) ? (o = i > 0 ? "bottom" : "top", n = "center") : (o = "middle", a > 0 && a < Lc ? n = i > 0 ? "right" : "left" : n = i > 0 ? "left" : "right"), {
        rotation: a,
        textAlign: n,
        textVerticalAlign: o
      };
    }, r.makeAxisEventDataBase = function(e) {
      var t = {
        componentType: e.mainType,
        componentIndex: e.componentIndex
      };
      return t[e.mainType + "Index"] = e.componentIndex, t;
    }, r.isLabelSilent = function(e) {
      var t = e.get("tooltip");
      return e.get("silent") || !(e.get("triggerEvent") || t && t.show);
    }, r;
  }()
), B_e = ["axisLine", "axisTickLabelEstimate", "axisTickLabelDetermine", "axisName"], V_e = {
  axisLine: function(r, e, t, i, a, n, o) {
    if (process.env.NODE_ENV !== "production") {
      var s = t.ensureRecord(i).ready;
      kt(!s.axisLine), s.axisLine = !0;
    }
    var l = i.get(["axisLine", "show"]);
    if (l === "auto" && (l = !0, r.raw.axisLineAutoShow != null && (l = !!r.raw.axisLineAutoShow)), !!l) {
      var u = i.axis.getExtent(), c = n.transform, f = [u[0], 0], d = [u[1], 0], p = f[0] > d[0];
      c && (li(f, f, c), li(d, d, c));
      var v = $e({
        lineCap: "round"
      }, i.getModel(["axisLine", "lineStyle"]).getLineStyle()), y = {
        strokeContainThreshold: r.raw.strokeContainThreshold || 5,
        silent: !0,
        z2: 1,
        style: v
      };
      if (i.get(["axisLine", "breakLine"]) && i.axis.scale.hasBreaks())
        pm().buildAxisBreakLine(i, a, n, y);
      else {
        var _ = new ki($e({
          shape: {
            x1: f[0],
            y1: f[1],
            x2: d[0],
            y2: d[1]
          }
        }, y));
        u0(_.shape, _.style.lineWidth), _.anid = "line", a.add(_);
      }
      var w = i.get(["axisLine", "symbol"]);
      if (w != null) {
        var S = i.get(["axisLine", "symbolSize"]);
        vt(w) && (w = [w, w]), (vt(S) || Or(S)) && (S = [S, S]);
        var x = Ad(i.get(["axisLine", "symbolOffset"]) || 0, S), E = S[0], M = S[1];
        J([{
          rotate: r.rotation + Math.PI / 2,
          offset: x[0],
          r: 0
        }, {
          rotate: r.rotation - Math.PI / 2,
          offset: x[1],
          r: Math.sqrt((f[0] - d[0]) * (f[0] - d[0]) + (f[1] - d[1]) * (f[1] - d[1]))
        }], function(k, P) {
          if (w[P] !== "none" && w[P] != null) {
            var L = Si(w[P], -E / 2, -M / 2, E, M, v.stroke, !0), F = k.r + k.offset, O = p ? d : f;
            L.attr({
              rotation: k.rotate,
              x: O[0] + F * Math.cos(r.rotation),
              y: O[1] - F * Math.sin(r.rotation),
              silent: !0,
              z2: 11
            }), a.add(L);
          }
        });
      }
    }
  },
  /**
   * [CAUTION] This method can be called multiple times, following the change due to `resetCfg` called
   *  in size measurement. Thus this method should be idempotent, and should be performant.
   */
  axisTickLabelEstimate: function(r, e, t, i, a, n, o, s) {
    if (process.env.NODE_ENV !== "production") {
      var l = t.ensureRecord(i).ready;
      kt(!l.axisTickLabelDetermine), l.axisTickLabelEstimate = !0;
    }
    var u = AN(e, a, s);
    u && CN(r, e, t, i, a, n, o, Gs.estimate);
  },
  /**
   * Finish axis tick label build.
   * Can be only called once.
   */
  axisTickLabelDetermine: function(r, e, t, i, a, n, o, s) {
    if (process.env.NODE_ENV !== "production") {
      var l = t.ensureRecord(i).ready;
      l.axisTickLabelDetermine = !0;
    }
    var u = AN(e, a, s);
    u && CN(r, e, t, i, a, n, o, Gs.determine);
    var c = W_e(r, a, n, i);
    z_e(r, e.labelLayoutList, c), H_e(r, a, n, i, r.tickDirection);
  },
  /**
   * [CAUTION] This method can be called multiple times, following the change due to `resetCfg` called
   *  in size measurement. Thus this method should be idempotent, and should be performant.
   */
  axisName: function(r, e, t, i, a, n, o, s) {
    var l = t.ensureRecord(i);
    if (process.env.NODE_ENV !== "production") {
      var u = l.ready;
      kt(u.axisTickLabelEstimate || u.axisTickLabelDetermine), u.axisName = !0;
    }
    e.nameEl && (a.remove(e.nameEl), e.nameEl = l.nameLayout = l.nameLocation = null);
    var c = r.axisName;
    if (ZD(c)) {
      var f = r.nameLocation, d = r.nameDirection, p = i.getModel("nameTextStyle"), v = i.get("nameGap") || 0, y = i.axis.getExtent(), _ = i.axis.inverse ? -1 : 1, w = new Xt(0, 0), S = new Xt(0, 0);
      f === "start" ? (w.x = y[0] - _ * v, S.x = -_) : f === "end" ? (w.x = y[1] + _ * v, S.x = _) : (w.x = (y[0] + y[1]) / 2, w.y = r.labelOffset + d * v, S.y = d);
      var x = Ji();
      S.transform(ec(x, x, r.rotation));
      var E = i.get("nameRotate");
      E != null && (E = E * Lc / 180);
      var M, k;
      f0(f) ? M = jf.innerTextLayout(
        r.rotation,
        E ?? r.rotation,
        // Adapt to axis.
        d
      ) : (M = U_e(r.rotation, f, E || 0, y), k = r.raw.axisNameAvailableWidth, k != null && (k = Math.abs(k / Math.sin(M.rotation)), !isFinite(k) && (k = null)));
      var P = p.getFont(), L = i.get("nameTruncate", !0) || {}, F = L.ellipsis, O = Di(r.raw.nameTruncateMaxWidth, L.maxWidth, k), U = s.nameMarginLevel || 0, V = new Br({
        x: w.x,
        y: w.y,
        rotation: M.rotation,
        silent: jf.isLabelSilent(i),
        style: Sn(p, {
          text: c,
          font: P,
          overflow: "truncate",
          width: O,
          ellipsis: F,
          fill: p.getTextColor() || i.get(["axisLine", "lineStyle", "color"]),
          align: p.get("align") || M.textAlign,
          verticalAlign: p.get("verticalAlign") || M.textVerticalAlign
        }),
        z2: 1
      });
      if (nc({
        el: V,
        componentModel: i,
        itemName: c
      }), V.__fullText = c, V.anid = "name", i.get("triggerEvent")) {
        var G = jf.makeAxisEventDataBase(i);
        G.targetType = "axisName", G.name = c, er(V).eventData = G;
      }
      n.add(V), V.updateTransform(), e.nameEl = V;
      var Z = l.nameLayout = Rl({
        label: V,
        priority: V.z2,
        defaultAttr: {
          ignore: V.ignore
        },
        marginDefault: f0(f) ? O_e[U] : F_e[U]
      });
      if (l.nameLocation = f, a.add(V), V.decomposeTransform(), r.shouldNameMoveOverlap && Z) {
        var Q = t.ensureRecord(i);
        process.env.NODE_ENV !== "production" && kt(Q.labelInfoList), t.resolveAxisNameOverlap(r, t, i, Z, S, Q);
      }
    }
  }
};
function CN(r, e, t, i, a, n, o, s) {
  oK(e) || $_e(r, e, a, s, i, o);
  var l = e.labelLayoutList;
  Y_e(r, i, l, n), X_e(i, r.rotation, l);
  var u = r.optionHideOverlap;
  G_e(i, l, u), u && vX(
    // Filter the already ignored labels by the previous overlap resolving methods.
    Xr(l, function(c) {
      return c && !c.label.ignore;
    })
  ), N_e(r, t, i, l);
}
function U_e(r, e, t, i) {
  var a = P8(t - r), n, o, s = i[0] > i[1], l = e === "start" && !s || e !== "start" && s;
  return o0(a - Lc / 2) ? (o = l ? "bottom" : "top", n = "center") : o0(a - Lc * 1.5) ? (o = l ? "top" : "bottom", n = "center") : (o = "middle", a < Lc * 1.5 && a > Lc / 2 ? n = l ? "left" : "right" : n = l ? "right" : "left"), {
    rotation: a,
    textAlign: n,
    textVerticalAlign: o
  };
}
function G_e(r, e, t) {
  if (Jq(r.axis))
    return;
  function i(s, l, u) {
    var c = Rl(e[l]), f = Rl(e[u]);
    if (!(!c || !f)) {
      if (s === !1 || c.suggestIgnore) {
        Pg(c.label);
        return;
      }
      if (f.suggestIgnore) {
        Pg(f.label);
        return;
      }
      var d = 0.1;
      if (!t) {
        var p = [0, 0, 0, 0];
        c = k6({
          marginForce: p
        }, c), f = k6({
          marginForce: p
        }, f);
      }
      OS(c, f, null, {
        touchThreshold: d
      }) && Pg(s ? f.label : c.label);
    }
  }
  var a = r.get(["axisLabel", "showMinLabel"]), n = r.get(["axisLabel", "showMaxLabel"]), o = e.length;
  i(a, 0, 1), i(n, o - 1, o - 2);
}
function z_e(r, e, t) {
  r.showMinorTicks || J(e, function(i) {
    if (i && i.label.ignore)
      for (var a = 0; a < t.length; a++) {
        var n = t[a], o = eK(n), s = v0(i.label);
        if (o.tickValue != null && !o.onBand && o.tickValue === s.tickValue) {
          Pg(n);
          return;
        }
      }
  });
}
function Pg(r) {
  r && (r.ignore = !0);
}
function aK(r, e, t, i, a) {
  for (var n = [], o = [], s = [], l = 0; l < r.length; l++) {
    var u = r[l].coord;
    o[0] = u, o[1] = 0, s[0] = u, s[1] = t, e && (li(o, o, e), li(s, s, e));
    var c = new ki({
      shape: {
        x1: o[0],
        y1: o[1],
        x2: s[0],
        y2: s[1]
      },
      style: i,
      z2: 2,
      autoBatch: !0,
      silent: !0
    });
    u0(c.shape, c.style.lineWidth), c.anid = a + "_" + r[l].tickValue, n.push(c);
    var f = eK(c);
    f.onBand = !!r[l].onBand, f.tickValue = r[l].tickValue;
  }
  return n;
}
function W_e(r, e, t, i) {
  var a = i.axis, n = i.getModel("axisTick"), o = n.get("show");
  if (o === "auto" && (o = !0, r.raw.axisTickAutoShow != null && (o = !!r.raw.axisTickAutoShow)), !o || a.scale.isBlank())
    return [];
  for (var s = n.getModel("lineStyle"), l = r.tickDirection * n.get("length"), u = a.getTicksCoords(), c = aK(u, t.transform, l, Yt(s.getLineStyle(), {
    stroke: i.get(["axisLine", "lineStyle", "color"])
  }), "ticks"), f = 0; f < c.length; f++)
    e.add(c[f]);
  return c;
}
function H_e(r, e, t, i, a) {
  var n = i.axis, o = i.getModel("minorTick");
  if (!(!r.showMinorTicks || n.scale.isBlank())) {
    var s = n.getMinorTicksCoords();
    if (s.length)
      for (var l = o.getModel("lineStyle"), u = a * o.get("length"), c = Yt(l.getLineStyle(), Yt(i.getModel("axisTick").getLineStyle(), {
        stroke: i.get(["axisLine", "lineStyle", "color"])
      })), f = 0; f < s.length; f++)
        for (var d = aK(s[f], t.transform, u, c, "minorticks_" + f), p = 0; p < d.length; p++)
          e.add(d[p]);
  }
}
function AN(r, e, t) {
  if (oK(r)) {
    var i = r.axisLabelsCreationContext;
    process.env.NODE_ENV !== "production" && kt(r.labelGroup && i);
    var a = i.out.noPxChangeTryDetermine;
    if (t.noPxChange) {
      for (var n = !0, o = 0; o < a.length; o++)
        n = n && a[o]();
      if (n)
        return !1;
    }
    a.length && (e.remove(r.labelGroup), B6(r, null, null, null));
  }
  return !0;
}
function $_e(r, e, t, i, a, n) {
  var o = a.axis, s = Di(r.raw.axisLabelShow, a.get(["axisLabel", "show"])), l = new Wt();
  t.add(l);
  var u = vb(i);
  if (!s || o.scale.isBlank()) {
    B6(e, [], l, u);
    return;
  }
  var c = a.getModel("axisLabel"), f = o.getViewLabels(u), d = (Di(r.raw.labelRotate, c.get("rotate")) || 0) * Lc / 180, p = jf.innerTextLayout(r.rotation, d, r.labelDirection), v = a.getCategories && a.getCategories(!0), y = [], _ = a.get("triggerEvent"), w = 1 / 0, S = -1 / 0;
  J(f, function(E, M) {
    var k, P = o.scale.type === "ordinal" ? o.scale.getRawOrdinalNumber(E.tickValue) : E.tickValue, L = E.formattedLabel, F = E.rawLabel, O = c;
    if (v && v[P]) {
      var U = v[P];
      zt(U) && U.textStyle && (O = new Vr(U.textStyle, c, a.ecModel));
    }
    var V = O.getTextColor() || a.get(["axisLine", "lineStyle", "color"]), G = O.getShallow("align", !0) || p.textAlign, Z = It(O.getShallow("alignMinLabel", !0), G), Q = It(O.getShallow("alignMaxLabel", !0), G), se = O.getShallow("verticalAlign", !0) || O.getShallow("baseline", !0) || p.textVerticalAlign, de = It(O.getShallow("verticalAlignMinLabel", !0), se), le = It(O.getShallow("verticalAlignMaxLabel", !0), se), Se = 10 + (((k = E.time) === null || k === void 0 ? void 0 : k.level) || 0);
    w = Math.min(w, Se), S = Math.max(S, Se);
    var he = new Br({
      // --- transform props start ---
      // All of the transform props MUST not be set here, but should be set in
      // `updateAxisLabelChangableProps`, because they may change in estimation,
      // and need to calculate based on global coord sys by `decomposeTransform`.
      x: 0,
      y: 0,
      rotation: 0,
      // --- transform props end ---
      silent: jf.isLabelSilent(a),
      z2: Se,
      style: Sn(O, {
        text: L,
        align: M === 0 ? Z : M === f.length - 1 ? Q : G,
        verticalAlign: M === 0 ? de : M === f.length - 1 ? le : se,
        fill: Bt(V) ? V(
          // (1) In category axis with data zoom, tick is not the original
          // index of axis.data. So tick should not be exposed to user
          // in category axis.
          // (2) Compatible with previous version, which always use formatted label as
          // input. But in interval scale the formatted label is like '223,445', which
          // maked user replace ','. So we modify it to return original val but remain
          // it as 'string' to avoid error in replacing.
          o.type === "category" ? F : o.type === "value" ? P + "" : P,
          M
        ) : V
      })
    });
    he.anid = "label_" + P;
    var fe = v0(he);
    if (fe.break = E.break, fe.tickValue = P, fe.layoutRotation = p.rotation, nc({
      el: he,
      componentModel: a,
      itemName: L,
      formatterParamsExtra: {
        isTruncated: function() {
          return he.isTruncated;
        },
        value: F,
        tickIndex: M
      }
    }), _) {
      var K = jf.makeAxisEventDataBase(a);
      K.targetType = "axisLabel", K.value = F, K.tickIndex = M, E.break && (K.break = {
        // type: labelItem.break.type,
        start: E.break.parsedBreak.vmin,
        end: E.break.parsedBreak.vmax
      }), o.type === "category" && (K.dataIndex = P), er(he).eventData = K, E.break && q_e(a, n, he, E.break);
    }
    y.push(he), l.add(he);
  });
  var x = Je(y, function(E) {
    return {
      label: E,
      priority: v0(E).break ? E.z2 + (S - w + 1) : E.z2,
      defaultAttr: {
        ignore: E.ignore
      }
    };
  });
  B6(e, x, l, u);
}
function oK(r) {
  return !!r.labelLayoutList;
}
function B6(r, e, t, i) {
  r.labelLayoutList = e, r.labelGroup = t, r.axisLabelsCreationContext = i;
}
function Y_e(r, e, t, i) {
  var a = e.get(["axisLabel", "margin"]);
  J(t, function(n, o) {
    var s = Rl(n);
    if (s) {
      var l = s.label, u = v0(l);
      s.suggestIgnore = l.ignore, l.ignore = !1, G_(eu, j_e), eu.x = e.axis.dataToCoord(u.tickValue), eu.y = r.labelOffset + r.labelDirection * a, eu.rotation = u.layoutRotation, i.add(eu), eu.updateTransform(), i.remove(eu), eu.decomposeTransform(), G_(l, eu), l.markRedraw(), _b(s, !0), Rl(s);
    }
  });
}
var eu = new Cr(), j_e = new Cr();
function ZD(r) {
  return !!r;
}
function q_e(r, e, t, i) {
  t.on("click", function(a) {
    var n = {
      type: NS,
      breaks: [{
        start: i.parsedBreak.breakOption.start,
        end: i.parsedBreak.breakOption.end
      }]
    };
    n[r.axis.dim + "AxisIndex"] = r.componentIndex, e.dispatchAction(n);
  });
}
function X_e(r, e, t) {
  var i = Mi();
  if (i) {
    var a = i.retrieveAxisBreakPairs(t, function(o) {
      return o && v0(o.label).break;
    }, !0), n = r.get(["breakLabelLayout", "moveOverlap"], !0);
    (n === !0 || n === "auto") && J(a, function(o) {
      pm().adjustBreakLabelPair(r.axis.inverse, e, [Rl(t[o[0]]), Rl(t[o[1]])]);
    });
  }
}
const Wu = jf;
function Tb(r, e, t) {
  t = t || {};
  var i = e.axis, a = {}, n = i.getAxesOnZeroOf()[0], o = i.position, s = n ? "onZero" : o, l = i.dim, u = [r.x, r.x + r.width, r.y, r.y + r.height], c = {
    left: 0,
    right: 1,
    top: 0,
    bottom: 1,
    onZero: 2
  }, f = e.get("offset") || 0, d = l === "x" ? [u[2] - f, u[3] + f] : [u[0] - f, u[1] + f];
  if (n) {
    var p = n.toGlobalCoord(n.dataToCoord(0));
    d[c.onZero] = Math.max(Math.min(p, d[1]), d[0]);
  }
  a.position = [l === "y" ? d[c[s]] : u[0], l === "x" ? d[c[s]] : u[3]], a.rotation = Math.PI / 2 * (l === "x" ? 0 : 1);
  var v = {
    top: -1,
    bottom: 1,
    left: -1,
    right: 1
  };
  a.labelDirection = a.tickDirection = a.nameDirection = v[o], a.labelOffset = n ? d[c[o]] - d[c.onZero] : 0, e.get(["axisTick", "inside"]) && (a.tickDirection = -a.tickDirection), Di(t.labelInside, e.get(["axisLabel", "inside"])) && (a.labelDirection = -a.labelDirection);
  var y = e.get(["axisLabel", "rotate"]);
  return a.labelRotate = s === "top" ? -y : y, a.z2 = 1, a;
}
function K_e(r) {
  return r.coordinateSystem && r.coordinateSystem.type === "cartesian2d";
}
function EN(r) {
  var e = {
    xAxisModel: null,
    yAxisModel: null
  };
  return J(e, function(t, i) {
    var a = i.replace(/Model$/, ""), n = r.getReferringComponents(a, ri).models[0];
    if (process.env.NODE_ENV !== "production" && !n)
      throw new Error(a + ' "' + Ba(r.get(a + "Index"), r.get(a + "Id"), 0) + '" not found');
    e[i] = n;
  }), e;
}
function Z_e(r, e, t, i, a, n) {
  for (var o = Tb(r, t), s = !1, l = !1, u = 0; u < e.length; u++)
    S6(e[u].getOtherAxis(t.axis).scale) && (s = l = !0, t.axis.type === "category" && t.axis.onBand && (l = !1));
  return o.axisLineAutoShow = s, o.axisTickAutoShow = l, o.defaultNameMoveOverlap = n, new Wu(t, i, o, a);
}
function J_e(r, e, t) {
  var i = Tb(e, t);
  if (process.env.NODE_ENV !== "production") {
    var a = r.__getRawCfg();
    J(Ir(i), function(n) {
      n !== "position" && n !== "labelOffset" && kt(i[n] === a[n]);
    });
  }
  r.updateCfg(i);
}
function sK(r, e, t) {
  var i, a = Jc.prototype, n = a.getTicks.call(t), o = a.getTicks.call(t, {
    expandToNicedExtent: !0
  }), s = n.length - 1, l = a.getInterval.call(t), u = Zq(r, e), c = u.extent, f = u.fixMin, d = u.fixMax;
  r.type === "log" && (c = x6(r.base, c, !0)), r.setBreaksFromOption(Qq(e)), r.setExtent(c[0], c[1]), r.calcNiceExtent({
    splitNumber: s,
    fixMin: f,
    fixMax: d
  });
  var p = a.getExtent.call(r);
  f && (c[0] = p[0]), d && (c[1] = p[1]);
  var v = a.getInterval.call(r), y = c[0], _ = c[1];
  if (f && d)
    v = (_ - y) / s;
  else if (f)
    for (_ = c[0] + v * s; _ < c[1] && isFinite(_) && isFinite(c[1]); )
      v = t5(v), _ = c[0] + v * s;
  else if (d)
    for (y = c[1] - v * s; y > c[0] && isFinite(y) && isFinite(c[0]); )
      v = t5(v), y = c[1] - v * s;
  else {
    var w = r.getTicks().length - 1;
    w > s && (v = t5(v));
    var S = v * s;
    _ = Math.ceil(c[1] / v) * v, y = wi(_ - S), y < 0 && c[0] >= 0 ? (y = 0, _ = wi(S)) : _ > 0 && c[1] <= 0 && (_ = 0, y = -wi(S));
  }
  var x = (n[0].value - o[0].value) / l, E = (n[s].value - o[s].value) / l;
  if (a.setExtent.call(r, y + v * x, _ + v * E), a.setInterval.call(r, v), (x || E) && a.setNiceExtent.call(r, y + v, _ - v), process.env.NODE_ENV !== "production") {
    var M = a.getTicks.call(r);
    M[1] && (!K1e(v) || H_(M[1].value) > H_(v)) && Yn("The ticks may be not readable when set min: " + e.get("min") + ", max: " + e.get("max") + (" and alignTicks: true. (" + ((i = e.axis) === null || i === void 0 ? void 0 : i.dim) + "AxisIndex: " + e.componentIndex + ")"), !0);
  }
}
var DN = [
  [3, 1],
  [0, 2]
  // xyIdx 1 => 'y'
], Q_e = (
  /** @class */
  function() {
    function r(e, t, i) {
      this.type = "grid", this._coordsMap = {}, this._coordsList = [], this._axesMap = {}, this._axesList = [], this.axisPointerEnabled = !0, this.dimensions = N6, this._initCartesian(e, t, i), this.model = e;
    }
    return r.prototype.getRect = function() {
      return this._rect;
    }, r.prototype.update = function(e, t) {
      var i = this._axesMap;
      this._updateScale(e, this.model);
      function a(o) {
        var s, l = Ir(o), u = l.length;
        if (u) {
          for (var c = [], f = u - 1; f >= 0; f--) {
            var d = +l[f], p = o[d], v = p.model, y = p.scale;
            // Only value and log axis without interval support alignTicks.
            S6(y) && v.get("alignTicks") && v.get("interval") == null ? c.push(p) : (id(y, v), S6(y) && (s = p));
          }
          c.length && (s || (s = c.pop(), id(s.scale, s.model)), J(c, function(_) {
            sK(_.scale, _.model, s.scale);
          }));
        }
      }
      a(i.x), a(i.y);
      var n = {};
      J(i.x, function(o) {
        kN(i, "y", o, n);
      }), J(i.y, function(o) {
        kN(i, "x", o, n);
      }), this.resize(this.model, t);
    }, r.prototype.resize = function(e, t, i) {
      var a = Wi(e, t), n = this._rect = Bn(e.getBoxLayoutParams(), a.refContainer), o = this._axesMap, s = this._coordsList, l = e.get("containLabel");
      if (V6(o, n), !i) {
        var u = rbe(n, s, o, l, t), c = void 0;
        if (l)
          U6 ? (U6(this._axesList, n), V6(o, n)) : (process.env.NODE_ENV !== "production" && G$("Specified `grid.containLabel` but no `use(LegacyGridContainLabel)`;use `grid.outerBounds` instead.", !0), c = PN(n.clone(), "axisLabel", null, n, o, u, a));
        else {
          var f = nbe(e, n, a), d = f.outerBoundsRect, p = f.parsedOuterBoundsContain, v = f.outerBoundsClamp;
          d && (c = PN(d, p, v, n, o, u, a));
        }
        lK(n, o, Gs.determine, null, c, a);
      }
      J(this._coordsList, function(y) {
        y.calcAffineTransform();
      });
    }, r.prototype.getAxis = function(e, t) {
      var i = this._axesMap[e];
      if (i != null)
        return i[t || 0];
    }, r.prototype.getAxes = function() {
      return this._axesList.slice();
    }, r.prototype.getCartesian = function(e, t) {
      if (e != null && t != null) {
        var i = "x" + e + "y" + t;
        return this._coordsMap[i];
      }
      zt(e) && (t = e.yAxisIndex, e = e.xAxisIndex);
      for (var a = 0, n = this._coordsList; a < n.length; a++)
        if (n[a].getAxis("x").index === e || n[a].getAxis("y").index === t)
          return n[a];
    }, r.prototype.getCartesians = function() {
      return this._coordsList.slice();
    }, r.prototype.convertToPixel = function(e, t, i) {
      var a = this._findConvertTarget(t);
      return a.cartesian ? a.cartesian.dataToPoint(i) : a.axis ? a.axis.toGlobalCoord(a.axis.dataToCoord(i)) : null;
    }, r.prototype.convertFromPixel = function(e, t, i) {
      var a = this._findConvertTarget(t);
      return a.cartesian ? a.cartesian.pointToData(i) : a.axis ? a.axis.coordToData(a.axis.toLocalCoord(i)) : null;
    }, r.prototype._findConvertTarget = function(e) {
      var t = e.seriesModel, i = e.xAxisModel || t && t.getReferringComponents("xAxis", ri).models[0], a = e.yAxisModel || t && t.getReferringComponents("yAxis", ri).models[0], n = e.gridModel, o = this._coordsList, s, l;
      if (t)
        s = t.coordinateSystem, dr(o, s) < 0 && (s = null);
      else if (i && a)
        s = this.getCartesian(i.componentIndex, a.componentIndex);
      else if (i)
        l = this.getAxis("x", i.componentIndex);
      else if (a)
        l = this.getAxis("y", a.componentIndex);
      else if (n) {
        var u = n.coordinateSystem;
        u === this && (s = this._coordsList[0]);
      }
      return {
        cartesian: s,
        axis: l
      };
    }, r.prototype.containPoint = function(e) {
      var t = this._coordsList[0];
      if (t)
        return t.containPoint(e);
    }, r.prototype._initCartesian = function(e, t, i) {
      var a = this, n = this, o = {
        left: !1,
        right: !1,
        top: !1,
        bottom: !1
      }, s = {
        x: {},
        y: {}
      }, l = {
        x: 0,
        y: 0
      };
      if (t.eachComponent("xAxis", u("x"), this), t.eachComponent("yAxis", u("y"), this), !l.x || !l.y) {
        this._axesMap = {}, this._axesList = [];
        return;
      }
      this._axesMap = s, J(s.x, function(c, f) {
        J(s.y, function(d, p) {
          var v = "x" + f + "y" + p, y = new k_e(v);
          y.master = a, y.model = e, a._coordsMap[v] = y, a._coordsList.push(y), y.addAxis(c), y.addAxis(d);
        });
      });
      function u(c) {
        return function(f, d) {
          if (m5(f, e)) {
            var p = f.get("position");
            c === "x" ? p !== "top" && p !== "bottom" && (p = o.bottom ? "top" : "bottom") : p !== "left" && p !== "right" && (p = o.left ? "right" : "left"), o[p] = !0;
            var v = new ZX(c, um(f), [0, 0], f.get("type"), p), y = v.type === "category";
            v.onBand = y && f.get("boundaryGap"), v.inverse = f.get("inverse"), f.axis = v, v.model = f, v.grid = n, v.index = d, n._axesList.push(v), s[c][d] = v, l[c]++;
          }
        };
      }
    }, r.prototype._updateScale = function(e, t) {
      J(this._axesList, function(a) {
        if (a.scale.setExtent(1 / 0, -1 / 0), a.type === "category") {
          var n = a.model.get("categorySortInfo");
          a.scale.setSortInfo(n);
        }
      }), e.eachSeries(function(a) {
        if (K_e(a)) {
          var n = EN(a), o = n.xAxisModel, s = n.yAxisModel;
          if (!m5(o, t) || !m5(s, t))
            return;
          var l = this.getCartesian(o.componentIndex, s.componentIndex), u = a.getData(), c = l.getAxis("x"), f = l.getAxis("y");
          i(u, c), i(u, f);
        }
      }, this);
      function i(a, n) {
        J(pb(a, n.dim), function(o) {
          n.scale.unionExtentFromData(a, o);
        });
      }
    }, r.prototype.getTooltipAxes = function(e) {
      var t = [], i = [];
      return J(this.getCartesians(), function(a) {
        var n = e != null && e !== "auto" ? a.getAxis(e) : a.getBaseAxis(), o = a.getOtherAxis(n);
        dr(t, n) < 0 && t.push(n), dr(i, o) < 0 && i.push(o);
      }), {
        baseAxes: t,
        otherAxes: i
      };
    }, r.create = function(e, t) {
      var i = [];
      return e.eachComponent("grid", function(a, n) {
        var o = new r(a, e, t);
        o.name = "grid_" + n, o.resize(a, t, !0), a.coordinateSystem = o, i.push(o);
      }), e.eachSeries(function(a) {
        sm({
          targetModel: a,
          coordSysType: "cartesian2d",
          coordSysProvider: n
        });
        function n() {
          var o = EN(a), s = o.xAxisModel, l = o.yAxisModel, u = s.getCoordSysModel();
          if (process.env.NODE_ENV !== "production") {
            if (!u)
              throw new Error('Grid "' + Ba(s.get("gridIndex"), s.get("gridId"), 0) + '" not found');
            if (s.getCoordSysModel() !== l.getCoordSysModel())
              throw new Error("xAxis and yAxis must use the same grid");
          }
          var c = u.coordinateSystem;
          return c.getCartesian(s.componentIndex, l.componentIndex);
        }
      }), i;
    }, r.dimensions = N6, r;
  }()
);
function m5(r, e) {
  return r.getCoordSysModel() === e;
}
function kN(r, e, t, i) {
  t.getAxesOnZeroOf = function() {
    return n ? [n] : [];
  };
  var a = r[e], n, o = t.model, s = o.get(["axisLine", "onZero"]), l = o.get(["axisLine", "onZeroAxisIndex"]);
  if (!s)
    return;
  if (l != null)
    MN(a[l]) && (n = a[l]);
  else
    for (var u in a)
      if (a.hasOwnProperty(u) && MN(a[u]) && !i[c(a[u])]) {
        n = a[u];
        break;
      }
  n && (i[c(n)] = !0);
  function c(f) {
    return f.dim + "_" + f.index;
  }
}
function MN(r) {
  return r && r.type !== "category" && r.type !== "time" && xme(r);
}
function ebe(r, e) {
  var t = r.getExtent(), i = t[0] + t[1];
  r.toGlobalCoord = r.dim === "x" ? function(a) {
    return a + e;
  } : function(a) {
    return i - a + e;
  }, r.toLocalCoord = r.dim === "x" ? function(a) {
    return a - e;
  } : function(a) {
    return i - a + e;
  };
}
function V6(r, e) {
  J(r.x, function(t) {
    return IN(t, e.x, e.width);
  }), J(r.y, function(t) {
    return IN(t, e.y, e.height);
  });
}
function IN(r, e, t) {
  var i = [0, t], a = r.inverse ? 1 : 0;
  r.setExtent(i[a], i[1 - a]), ebe(r, e);
}
var U6;
function tbe(r) {
  U6 = r;
}
function PN(r, e, t, i, a, n, o) {
  process.env.NODE_ENV !== "production" && kt(e === "all" || e === "axisLabel"), lK(i, a, Gs.estimate, e, !1, o);
  var s = [0, 0, 0, 0];
  u(0), u(1), c(i, 0, NaN), c(i, 1, NaN);
  var l = ch(s, function(d) {
    return d > 0;
  }) == null;
  return td(i, s, !0, !0, t), V6(a, i), l;
  function u(d) {
    J(a[cr[d]], function(p) {
      if (T1(p.model)) {
        var v = n.ensureRecord(p.model), y = v.labelInfoList;
        if (y)
          for (var _ = 0; _ < y.length; _++) {
            var w = y[_], S = p.scale.normalize(v0(w.label).tickValue);
            S = d === 1 ? 1 - S : S, c(w.rect, d, S), c(w.rect, 1 - d, NaN);
          }
        var x = v.nameLayout;
        if (x) {
          var S = f0(v.nameLocation) ? 0.5 : NaN;
          c(x.rect, d, S), c(x.rect, 1 - d, NaN);
        }
      }
    });
  }
  function c(d, p, v) {
    var y = r[cr[p]] - d[cr[p]], _ = d[Ii[p]] + d[cr[p]] - (r[Ii[p]] + r[cr[p]]);
    y = f(y, 1 - v), _ = f(_, v);
    var w = DN[p][0], S = DN[p][1];
    s[w] = bi(s[w], y), s[S] = bi(s[S], _);
  }
  function f(d, p) {
    return d > 0 && !Zi(p) && p > 1e-4 && (d /= p), d;
  }
}
function rbe(r, e, t, i, a) {
  var n = new tK(ibe);
  return J(t, function(o) {
    return J(o, function(s) {
      if (T1(s.model)) {
        var l = !i;
        s.axisBuilder = Z_e(r, e, s.model, a, n, l);
      }
    });
  }), n;
}
function lK(r, e, t, i, a, n) {
  var o = t === Gs.determine;
  J(e, function(u) {
    return J(u, function(c) {
      T1(c.model) && (J_e(c.axisBuilder, r, c.model), c.axisBuilder.build(o ? {
        axisTickLabelDetermine: !0
      } : {
        axisTickLabelEstimate: !0
      }, {
        noPxChange: a
      }));
    });
  });
  var s = {
    x: 0,
    y: 0
  };
  l(0), l(1);
  function l(u) {
    s[cr[1 - u]] = r[Ii[u]] <= n.refContainer[Ii[u]] * 0.5 ? 0 : 1 - u === 1 ? 2 : 1;
  }
  J(e, function(u, c) {
    return J(u, function(f) {
      T1(f.model) && ((i === "all" || o) && f.axisBuilder.build({
        axisName: !0
      }, {
        nameMarginLevel: s[c]
      }), o && f.axisBuilder.build({
        axisLine: !0
      }));
    });
  });
}
function nbe(r, e, t) {
  var i, a = r.get("outerBoundsMode", !0);
  a === "same" ? i = e.clone() : a == null || a === "auto" ? i = Bn(r.get("outerBounds", !0) || qX, t.refContainer) : a !== "none" && process.env.NODE_ENV !== "production" && Nr("Invalid grid[" + r.componentIndex + "].outerBoundsMode.");
  var n = r.get("outerBoundsContain", !0), o;
  n == null || n === "auto" ? o = "all" : dr(["all", "axisLabel"], n) < 0 ? (process.env.NODE_ENV !== "production" && Nr("Invalid grid[" + r.componentIndex + "].outerBoundsContain."), o = "all") : o = n;
  var s = [W_(It(r.get("outerBoundsClampWidth", !0), xb[0]), e.width), W_(It(r.get("outerBoundsClampHeight", !0), xb[1]), e.height)];
  return {
    outerBoundsRect: i,
    parsedOuterBoundsContain: o,
    outerBoundsClamp: s
  };
}
var ibe = function(r, e, t, i, a, n) {
  var o = t.axis.dim === "x" ? "y" : "x";
  rK(r, e, t, i, a, n), f0(r.nameLocation) || J(e.recordMap[o], function(s) {
    s && s.labelInfoList && s.dirVec && iK(s.labelInfoList, s.dirVec, i, a);
  });
};
const abe = Q_e;
function obe(r, e) {
  var t = {
    /**
     * key: makeKey(axis.model)
     * value: {
     *      axis,
     *      coordSys,
     *      axisPointerModel,
     *      triggerTooltip,
     *      triggerEmphasis,
     *      involveSeries,
     *      snap,
     *      seriesModels,
     *      seriesDataCount
     * }
     */
    axesInfo: {},
    seriesInvolved: !1,
    /**
     * key: makeKey(coordSys.model)
     * value: Object: key makeKey(axis.model), value: axisInfo
     */
    coordSysAxesInfo: {},
    coordSysMap: {}
  };
  return sbe(t, r, e), t.seriesInvolved && ube(t, r), t;
}
function sbe(r, e, t) {
  var i = e.getComponent("tooltip"), a = e.getComponent("axisPointer"), n = a.get("link", !0) || [], o = [];
  J(t.getCoordinateSystems(), function(s) {
    if (!s.axisPointerEnabled)
      return;
    var l = E1(s.model), u = r.coordSysAxesInfo[l] = {};
    r.coordSysMap[l] = s;
    var c = s.model, f = c.getModel("tooltip", i);
    if (J(s.getAxes(), fr(y, !1, null)), s.getTooltipAxes && i && f.get("show")) {
      var d = f.get("trigger") === "axis", p = f.get(["axisPointer", "type"]) === "cross", v = s.getTooltipAxes(f.get(["axisPointer", "axis"]));
      (d || p) && J(v.baseAxes, fr(y, p ? "cross" : !0, d)), p && J(v.otherAxes, fr(y, "cross", !1));
    }
    function y(_, w, S) {
      var x = S.model.getModel("axisPointer", a), E = x.get("show");
      if (!(!E || E === "auto" && !_ && !G6(x))) {
        w == null && (w = x.get("triggerTooltip")), x = _ ? lbe(S, f, a, e, _, w) : x;
        var M = x.get("snap"), k = x.get("triggerEmphasis"), P = E1(S.model), L = w || M || S.type === "category", F = r.axesInfo[P] = {
          key: P,
          axis: S,
          coordSys: s,
          axisPointerModel: x,
          triggerTooltip: w,
          triggerEmphasis: k,
          involveSeries: L,
          snap: M,
          useHandle: G6(x),
          seriesModels: [],
          linkGroup: null
        };
        u[P] = F, r.seriesInvolved = r.seriesInvolved || L;
        var O = cbe(n, S);
        if (O != null) {
          var U = o[O] || (o[O] = {
            axesInfo: {}
          });
          U.axesInfo[P] = F, U.mapper = n[O].mapper, F.linkGroup = U;
        }
      }
    }
  });
}
function lbe(r, e, t, i, a, n) {
  var o = e.getModel("axisPointer"), s = ["type", "snap", "lineStyle", "shadowStyle", "label", "animation", "animationDurationUpdate", "animationEasingUpdate", "z"], l = {};
  J(s, function(d) {
    l[d] = Gt(o.get(d));
  }), l.snap = r.type !== "category" && !!n, o.get("type") === "cross" && (l.type = "line");
  var u = l.label || (l.label = {});
  if (u.show == null && (u.show = !1), a === "cross") {
    var c = o.get(["label", "show"]);
    if (u.show = c ?? !0, !n) {
      var f = l.lineStyle = o.get("crossStyle");
      f && Yt(u, f.textStyle);
    }
  }
  return r.model.getModel("axisPointer", new Vr(l, t, i));
}
function ube(r, e) {
  e.eachSeries(function(t) {
    var i = t.coordinateSystem, a = t.get(["tooltip", "trigger"], !0), n = t.get(["tooltip", "show"], !0);
    !i || !i.model || a === "none" || a === !1 || a === "item" || n === !1 || t.get(["axisPointer", "show"], !0) === !1 || J(r.coordSysAxesInfo[E1(i.model)], function(o) {
      var s = o.axis;
      i.getAxis(s.dim) === s && (o.seriesModels.push(t), o.seriesDataCount == null && (o.seriesDataCount = 0), o.seriesDataCount += t.getData().count());
    });
  });
}
function cbe(r, e) {
  for (var t = e.model, i = e.dim, a = 0; a < r.length; a++) {
    var n = r[a] || {};
    if (y5(n[i + "AxisId"], t.id) || y5(n[i + "AxisIndex"], t.componentIndex) || y5(n[i + "AxisName"], t.name))
      return a;
  }
}
function y5(r, e) {
  return r === "all" || Ke(r) && dr(r, e) >= 0 || r === e;
}
function hbe(r) {
  var e = JD(r);
  if (e) {
    var t = e.axisPointerModel, i = e.axis.scale, a = t.option, n = t.get("status"), o = t.get("value");
    o != null && (o = i.parse(o));
    var s = G6(t);
    n == null && (a.status = s ? "show" : "hide");
    var l = i.getExtent().slice();
    l[0] > l[1] && l.reverse(), // Pick a value on axis when initializing.
    (o == null || o > l[1]) && (o = l[1]), o < l[0] && (o = l[0]), a.value = o, s && (a.status = e.axis.scale.isBlank() ? "hide" : "show");
  }
}
function JD(r) {
  var e = (r.ecModel.getComponent("axisPointer") || {}).coordSysAxesInfo;
  return e && e.axesInfo[E1(r)];
}
function fbe(r) {
  var e = JD(r);
  return e && e.axisPointerModel;
}
function G6(r) {
  return !!r.get(["handle", "show"]);
}
function E1(r) {
  return r.type + "||" + r.id;
}
var _5 = {}, dbe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i, a, n) {
      this.axisPointerClass && hbe(t), r.prototype.render.apply(this, arguments), this._doUpdateAxisPointerClass(t, a, !0);
    }, e.prototype.updateAxisPointer = function(t, i, a, n) {
      this._doUpdateAxisPointerClass(t, a, !1);
    }, e.prototype.remove = function(t, i) {
      var a = this._axisPointer;
      a && a.remove(i);
    }, e.prototype.dispose = function(t, i) {
      this._disposeAxisPointer(i), r.prototype.dispose.apply(this, arguments);
    }, e.prototype._doUpdateAxisPointerClass = function(t, i, a) {
      var n = e.getAxisPointerClass(this.axisPointerClass);
      if (n) {
        var o = fbe(t);
        o ? (this._axisPointer || (this._axisPointer = new n())).render(t, o, i, a) : this._disposeAxisPointer(i);
      }
    }, e.prototype._disposeAxisPointer = function(t) {
      this._axisPointer && this._axisPointer.dispose(t), this._axisPointer = null;
    }, e.registerAxisPointerClass = function(t, i) {
      if (process.env.NODE_ENV !== "production" && _5[t])
        throw new Error("axisPointer " + t + " exists");
      _5[t] = i;
    }, e.getAxisPointerClass = function(t) {
      return t && _5[t];
    }, e.type = "axis", e;
  }(Pn)
);
const Dd = dbe;
var z6 = Ar();
function uK(r, e, t, i) {
  var a = t.axis;
  if (!a.scale.isBlank()) {
    var n = t.getModel("splitArea"), o = n.getModel("areaStyle"), s = o.get("color"), l = i.coordinateSystem.getRect(), u = a.getTicksCoords({
      tickModel: n,
      clamp: !0,
      breakTicks: "none",
      pruneByBreak: "preserve_extent_bound"
    });
    if (u.length) {
      var c = s.length, f = z6(r).splitAreaColors, d = Pt(), p = 0;
      if (f)
        for (var v = 0; v < u.length; v++) {
          var y = f.get(u[v].tickValue);
          if (y != null) {
            p = (y + (c - 1) * v) % c;
            break;
          }
        }
      var _ = a.toGlobalCoord(u[0].coord), w = o.getAreaStyle();
      s = Ke(s) ? s : [s];
      for (var v = 1; v < u.length; v++) {
        var S = a.toGlobalCoord(u[v].coord), x = void 0, E = void 0, M = void 0, k = void 0;
        a.isHorizontal() ? (x = _, E = l.y, M = S - x, k = l.height, _ = x + M) : (x = l.x, E = _, M = l.width, k = S - E, _ = E + k);
        var P = u[v - 1].tickValue;
        P != null && d.set(P, p), e.add(new Cr({
          anid: P != null ? "area_" + P : null,
          shape: {
            x,
            y: E,
            width: M,
            height: k
          },
          style: Yt({
            fill: s[p]
          }, w),
          autoBatch: !0,
          silent: !0
        })), p = (p + 1) % c;
      }
      z6(r).splitAreaColors = d;
    }
  }
}
function cK(r) {
  z6(r).splitAreaColors = null;
}
var pbe = ["splitArea", "splitLine", "minorSplitLine", "breakArea"], hK = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.axisPointerClass = "CartesianAxisPointer", t;
    }
    return e.prototype.render = function(t, i, a, n) {
      this.group.removeAll();
      var o = this._axisGroup;
      if (this._axisGroup = new Wt(), this.group.add(this._axisGroup), !!T1(t)) {
        this._axisGroup.add(t.axis.axisBuilder.group), J(pbe, function(l) {
          t.get([l, "show"]) && vbe[l](this, this._axisGroup, t, t.getCoordSysModel(), a);
        }, this);
        var s = n && n.type === "changeAxisOrder" && n.isInitSort;
        s || am(o, this._axisGroup, t), r.prototype.render.call(this, t, i, a, n);
      }
    }, e.prototype.remove = function() {
      cK(this);
    }, e.type = "cartesianAxis", e;
  }(Dd)
), vbe = {
  splitLine: function(r, e, t, i, a) {
    var n = t.axis;
    if (!n.scale.isBlank()) {
      var o = t.getModel("splitLine"), s = o.getModel("lineStyle"), l = s.get("color"), u = o.get("showMinLine") !== !1, c = o.get("showMaxLine") !== !1;
      l = Ke(l) ? l : [l];
      for (var f = i.coordinateSystem.getRect(), d = n.isHorizontal(), p = 0, v = n.getTicksCoords({
        tickModel: o,
        breakTicks: "none",
        pruneByBreak: "preserve_extent_bound"
      }), y = [], _ = [], w = s.getLineStyle(), S = 0; S < v.length; S++) {
        var x = n.toGlobalCoord(v[S].coord);
        if (!(S === 0 && !u || S === v.length - 1 && !c)) {
          var E = v[S].tickValue;
          d ? (y[0] = x, y[1] = f.y, _[0] = x, _[1] = f.y + f.height) : (y[0] = f.x, y[1] = x, _[0] = f.x + f.width, _[1] = x);
          var M = p++ % l.length, k = new ki({
            anid: E != null ? "line_" + E : null,
            autoBatch: !0,
            shape: {
              x1: y[0],
              y1: y[1],
              x2: _[0],
              y2: _[1]
            },
            style: Yt({
              stroke: l[M]
            }, w),
            silent: !0
          });
          u0(k.shape, w.lineWidth), e.add(k);
        }
      }
    }
  },
  minorSplitLine: function(r, e, t, i, a) {
    var n = t.axis, o = t.getModel("minorSplitLine"), s = o.getModel("lineStyle"), l = i.coordinateSystem.getRect(), u = n.isHorizontal(), c = n.getMinorTicksCoords();
    if (c.length)
      for (var f = [], d = [], p = s.getLineStyle(), v = 0; v < c.length; v++)
        for (var y = 0; y < c[v].length; y++) {
          var _ = n.toGlobalCoord(c[v][y].coord);
          u ? (f[0] = _, f[1] = l.y, d[0] = _, d[1] = l.y + l.height) : (f[0] = l.x, f[1] = _, d[0] = l.x + l.width, d[1] = _);
          var w = new ki({
            anid: "minor_line_" + c[v][y].tickValue,
            autoBatch: !0,
            shape: {
              x1: f[0],
              y1: f[1],
              x2: d[0],
              y2: d[1]
            },
            style: p,
            silent: !0
          });
          u0(w.shape, p.lineWidth), e.add(w);
        }
  },
  splitArea: function(r, e, t, i, a) {
    uK(r, e, t, i);
  },
  breakArea: function(r, e, t, i, a) {
    var n = pm(), o = t.axis.scale;
    n && o.type !== "ordinal" && n.rectCoordBuildBreakAxis(e, r, t, i.coordinateSystem.getRect(), a);
  }
}, fK = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.type = "xAxis", e;
  }(hK)
), gbe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = fK.type, t;
    }
    return e.type = "yAxis", e;
  }(hK)
), mbe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = "grid", t;
    }
    return e.prototype.render = function(t, i) {
      this.group.removeAll(), t.get("show") && this.group.add(new Cr({
        shape: t.coordinateSystem.getRect(),
        style: Yt({
          fill: t.get("backgroundColor")
        }, t.getItemStyle()),
        silent: !0,
        z2: -1
      }));
    }, e.type = "grid", e;
  }(Pn)
), RN = {
  // gridIndex: 0,
  // gridId: '',
  offset: 0
};
function dK(r) {
  r.registerComponentView(mbe), r.registerComponentModel(w_e), r.registerCoordinateSystem("cartesian2d", abe), p0(r, "x", O6, RN), p0(r, "y", O6, RN), r.registerComponentView(fK), r.registerComponentView(gbe), r.registerPreprocessor(function(e) {
    e.xAxis && e.yAxis && !e.grid && (e.grid = {});
  });
}
function ybe(r, e) {
  var t = r.coordinateSystem, i = t && t.type, a = t && t.getBaseAxis && t.getBaseAxis(), n = a && a.scale && a.scale.type, o = i === "cartesian2d" && n === "ordinal" || i === "single", s = e.model.get("jitter") > 0;
  return o && s;
}
var _be = Ar();
function LN(r, e, t, i) {
  if (r instanceof ZX) {
    var a = r.scale.type;
    if (a !== "category" && a !== "ordinal")
      return t;
  }
  var n = r.model, o = n.get("jitter"), s = n.get("jitterOverlap"), l = n.get("jitterMargin") || 0, u = r.scale.type === "ordinal" ? r.getBandWidth() : null;
  return o > 0 ? s ? pK(t, o, u, i) : bbe(r, e, t, i, o, l) : t;
}
function pK(r, e, t, i) {
  if (t === null)
    return r + (Math.random() - 0.5) * e;
  var a = t - i * 2, n = Math.min(Math.max(0, e), a);
  return r + (Math.random() - 0.5) * n;
}
function bbe(r, e, t, i, a, n) {
  var o = _be(r);
  o.items || (o.items = []);
  var s = o.items, l = ON(s, e, t, i, a, n, 1), u = ON(s, e, t, i, a, n, -1), c = Math.abs(l - t) < Math.abs(u - t) ? l : u, f = r.scale.type === "ordinal" ? r.getBandWidth() : null, d = Math.abs(c - t);
  return d > a / 2 || f && d > f / 2 - i ? pK(t, a, f, i) : (s.push({
    fixedCoord: e,
    floatCoord: c,
    r: i
  }), c);
}
function ON(r, e, t, i, a, n, o) {
  for (var s = t, l = 0; l < r.length; l++) {
    var u = r[l], c = e - u.fixedCoord, f = s - u.floatCoord, d = c * c + f * f, p = i + u.r + n;
    if (d < p * p) {
      var v = u.floatCoord + Math.sqrt(p * p - c * c) * o;
      if (Math.abs(v - t) > a / 2)
        return Number.MAX_VALUE;
      if (o === 1 && v > s || o === -1 && v < s) {
        s = v, l = -1;
        continue;
      }
    }
  }
  return s;
}
function wbe(r) {
  r.eachSeriesByType("scatter", function(e) {
    var t = e.coordinateSystem;
    if (t && (t.type === "cartesian2d" || t.type === "single")) {
      var i = t.getBaseAxis ? t.getBaseAxis() : null, a = i && ybe(e, i);
      if (a) {
        var n = e.getData();
        n.each(function(o) {
          var s = i.dim, l = i.orient, u = l === "horizontal" && i.type !== "category" || l === "vertical" && i.type === "category", c = n.getItemLayout(o), f = n.getItemVisual(o, "symbolSize"), d = f instanceof Array ? (f[1] + f[0]) / 2 : f;
          if (s === "y" || s === "single" && u) {
            var p = LN(i, c[0], c[1], d / 2);
            n.setItemLayout(o, [c[0], p]);
          } else if (s === "x" || s === "single" && !u) {
            var p = LN(i, c[1], c[0], d / 2);
            n.setItemLayout(o, [p, c[1]]);
          }
        });
      }
    }
  });
}
function Sbe(r) {
  _r(dK), r.registerSeriesModel(d_e), r.registerChartView(__e), r.registerLayout(dm("scatter"));
}
function xbe(r) {
  r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT, wbe);
}
function Tbe(r) {
  r.eachSeriesByType("radar", function(e) {
    var t = e.getData(), i = [], a = e.coordinateSystem;
    if (a) {
      var n = a.getIndicatorAxes();
      J(n, function(o, s) {
        t.each(t.mapDimension(n[s].dim), function(l, u) {
          i[u] = i[u] || [];
          var c = a.dataToPoint(l, s);
          i[u][s] = FN(c) ? c : NN(a);
        });
      }), t.each(function(o) {
        var s = ch(i[o], function(l) {
          return FN(l);
        }) || NN(a);
        i[o].push(s.slice()), t.setItemLayout(o, i[o]);
      });
    }
  });
}
function FN(r) {
  return !isNaN(r[0]) && !isNaN(r[1]);
}
function NN(r) {
  return [r.cx, r.cy];
}
function Cbe(r) {
  var e = r.polar;
  if (e) {
    Ke(e) || (e = [e]);
    var t = [];
    J(e, function(i, a) {
      i.indicator ? (i.type && !i.shape && (i.shape = i.type), r.radar = r.radar || [], Ke(r.radar) || (r.radar = [r.radar]), r.radar.push(i)) : t.push(i);
    }), r.polar = t;
  }
  J(r.series, function(i) {
    i && i.type === "radar" && i.polarIndex && (i.radarIndex = i.polarIndex);
  });
}
var Abe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i, a) {
      var n = t.coordinateSystem, o = this.group, s = t.getData(), l = this._data;
      function u(d, p) {
        var v = d.getItemVisual(p, "symbol") || "circle";
        if (v !== "none") {
          var y = z0(d.getItemVisual(p, "symbolSize")), _ = Si(v, -1, -1, 2, 2), w = d.getItemVisual(p, "symbolRotate") || 0;
          return _.attr({
            style: {
              strokeNoScale: !0
            },
            z2: 100,
            scaleX: y[0] / 2,
            scaleY: y[1] / 2,
            rotation: w * Math.PI / 180 || 0
          }), _;
        }
      }
      function c(d, p, v, y, _, w) {
        v.removeAll();
        for (var S = 0; S < p.length - 1; S++) {
          var x = u(y, _);
          x && (x.__dimIdx = S, d[S] ? (x.setPosition(d[S]), wd[w ? "initProps" : "updateProps"](x, {
            x: p[S][0],
            y: p[S][1]
          }, t, _)) : x.setPosition(p[S]), v.add(x));
        }
      }
      function f(d) {
        return Je(d, function(p) {
          return [n.cx, n.cy];
        });
      }
      s.diff(l).add(function(d) {
        var p = s.getItemLayout(d);
        if (p) {
          var v = new Ha(), y = new wa(), _ = {
            shape: {
              points: p
            }
          };
          v.shape.points = f(p), y.shape.points = f(p), In(v, _, t, d), In(y, _, t, d);
          var w = new Wt(), S = new Wt();
          w.add(y), w.add(v), w.add(S), c(y.shape.points, p, S, s, d, !0), s.setItemGraphicEl(d, w);
        }
      }).update(function(d, p) {
        var v = l.getItemGraphicEl(p), y = v.childAt(0), _ = v.childAt(1), w = v.childAt(2), S = {
          shape: {
            points: s.getItemLayout(d)
          }
        };
        S.shape.points && (c(y.shape.points, S.shape.points, w, s, d, !1), hs(_), hs(y), Wr(y, S, t), Wr(_, S, t), s.setItemGraphicEl(d, v));
      }).remove(function(d) {
        o.remove(l.getItemGraphicEl(d));
      }).execute(), s.eachItemGraphicEl(function(d, p) {
        var v = s.getItemModel(p), y = d.childAt(0), _ = d.childAt(1), w = d.childAt(2), S = s.getItemVisual(p, "style"), x = S.fill;
        o.add(d), y.useStyle(Yt(v.getModel("lineStyle").getLineStyle(), {
          fill: "none",
          stroke: x
        })), Gi(y, v, "lineStyle"), Gi(_, v, "areaStyle");
        var E = v.getModel("areaStyle"), M = E.isEmpty() && E.parentModel.isEmpty();
        _.ignore = M, J(["emphasis", "select", "blur"], function(P) {
          var L = v.getModel([P, "areaStyle"]), F = L.isEmpty() && L.parentModel.isEmpty();
          _.ensureState(P).ignore = F && M;
          var O = v.getModel([P, "lineStyle"]).getLineStyle();
          y.ensureState(P).style = O;
          var U = L.getAreaStyle();
          _.ensureState(P).style = U;
          var V = v.getModel([P, "itemStyle"]).getItemStyle();
          w.eachChild(function(G) {
            G.ensureState(P).style = Gt(V);
          });
        }), _.useStyle(Yt(v.getModel("areaStyle").getAreaStyle(), {
          fill: x,
          opacity: 0.7,
          decal: S.decal
        }));
        var k = v.getModel("emphasis");
        w.eachChild(function(P) {
          if (P instanceof ha) {
            var L = P.style;
            P.useStyle($e({
              // TODO other properties like x, y ?
              image: L.image,
              x: L.x,
              y: L.y,
              width: L.width,
              height: L.height
            }, S));
          } else
            P.useStyle(S), P.setColor(x), P.style.strokeNoScale = !0;
          var F = s.getStore().get(s.getDimensionIndex(P.__dimIdx), p);
          (F == null || isNaN(F)) && (F = ""), ea(P, zi(v), {
            labelFetcher: s.hostModel,
            labelDataIndex: p,
            labelDimIndex: P.__dimIdx,
            defaultText: F,
            inheritColor: x,
            defaultOpacity: S.opacity
          });
        }), Wn(d, k.get("focus"), k.get("blurScope"), k.get("disabled"));
      }), this._data = s;
    }, e.prototype.remove = function() {
      this.group.removeAll(), this._data = null;
    }, e.type = "radar", e;
  }(gn)
);
const Ebe = Abe;
var Dbe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.hasSymbolVisual = !0, t;
    }
    return e.prototype.init = function(t) {
      r.prototype.init.apply(this, arguments), this.legendVisualProvider = new q0(mt(this.getData, this), mt(this.getRawData, this));
    }, e.prototype.getInitialData = function(t, i) {
      return j0(this, {
        generateCoord: "indicator_",
        generateCoordCount: 1 / 0
      });
    }, e.prototype.formatTooltip = function(t, i, a) {
      var n = this.getData(), o = this.coordinateSystem, s = o.getIndicatorAxes(), l = this.getData().getName(t), u = l === "" ? this.name : l, c = Hj(this, t);
      return Pi("section", {
        header: u,
        sortBlocks: !0,
        blocks: Je(s, function(f) {
          var d = n.get(n.mapDimension(f.dim), t);
          return Pi("nameValue", {
            markerType: "subItem",
            markerColor: c,
            name: f.name,
            value: d,
            sortParam: d
          });
        })
      });
    }, e.prototype.getTooltipPosition = function(t) {
      if (t != null) {
        for (var i = this.getData(), a = this.coordinateSystem, n = i.getValues(Je(a.dimensions, function(u) {
          return i.mapDimension(u);
        }), t), o = 0, s = n.length; o < s; o++)
          if (!isNaN(n[o])) {
            var l = a.getIndicatorAxes();
            return a.coordToPoint(l[o].dataToCoord(n[o]), o);
          }
      }
    }, e.type = "series.radar", e.dependencies = ["radar"], e.defaultOption = {
      // zlevel: 0,
      z: 2,
      colorBy: "data",
      coordinateSystem: "radar",
      legendHoverLink: !0,
      radarIndex: 0,
      lineStyle: {
        width: 2,
        type: "solid",
        join: "round"
      },
      label: {
        position: "top"
      },
      // areaStyle: {
      // },
      // itemStyle: {}
      symbolSize: 8
      // symbolRotate: null
    }, e;
  }(En)
);
const kbe = Dbe;
var ng = KX.value;
function c2(r, e) {
  return Yt({
    show: e
  }, r);
}
var Mbe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.optionUpdated = function() {
      var t = this.get("boundaryGap"), i = this.get("splitNumber"), a = this.get("scale"), n = this.get("axisLine"), o = this.get("axisTick"), s = this.get("axisLabel"), l = this.get("axisName"), u = this.get(["axisName", "show"]), c = this.get(["axisName", "formatter"]), f = this.get("axisNameGap"), d = this.get("triggerEvent"), p = Je(this.get("indicator") || [], function(v) {
        v.max != null && v.max > 0 && !v.min ? v.min = 0 : v.min != null && v.min < 0 && !v.max && (v.max = 0);
        var y = l;
        v.color != null && (y = Yt({
          color: v.color
        }, l));
        var _ = gr(Gt(v), {
          boundaryGap: t,
          splitNumber: i,
          scale: a,
          axisLine: n,
          axisTick: o,
          // axisType: axisType,
          axisLabel: s,
          // Compatible with 2 and use text
          name: v.text,
          showName: u,
          nameLocation: "end",
          nameGap: f,
          // min: 0,
          nameTextStyle: y,
          triggerEvent: d
        }, !1);
        if (vt(c)) {
          var w = _.name;
          _.name = c.replace("{value}", w ?? "");
        } else
          Bt(c) && (_.name = c(_.name, _));
        var S = new Vr(_, null, this.ecModel);
        return ci(S, $0.prototype), S.mainType = "radar", S.componentIndex = this.componentIndex, S;
      }, this);
      this._indicatorModels = p;
    }, e.prototype.getIndicatorModels = function() {
      return this._indicatorModels;
    }, e.type = "radar", e.defaultOption = {
      // zlevel: 0,
      z: 0,
      center: ["50%", "50%"],
      radius: "50%",
      startAngle: 90,
      axisName: {
        show: !0,
        color: Ve.color.axisLabel
        // formatter: null
        // textStyle: {}
      },
      boundaryGap: [0, 0],
      splitNumber: 5,
      axisNameGap: 15,
      scale: !1,
      // Polygon or circle
      shape: "polygon",
      axisLine: gr({
        lineStyle: {
          color: Ve.color.neutral20
        }
      }, ng.axisLine),
      axisLabel: c2(ng.axisLabel, !1),
      axisTick: c2(ng.axisTick, !1),
      // axisType: 'value',
      splitLine: c2(ng.splitLine, !0),
      splitArea: c2(ng.splitArea, !0),
      // {text, min, max}
      indicator: []
    }, e;
  }(Rr)
);
const Ibe = Mbe;
var Pbe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i, a) {
      var n = this.group;
      n.removeAll(), this._buildAxes(t, a), this._buildSplitLineAndArea(t);
    }, e.prototype._buildAxes = function(t, i) {
      var a = t.coordinateSystem, n = a.getIndicatorAxes(), o = Je(n, function(s) {
        var l = s.model.get("showName") ? s.name : "", u = new Wu(s.model, i, {
          axisName: l,
          position: [a.cx, a.cy],
          rotation: s.angle,
          labelDirection: -1,
          tickDirection: -1,
          nameDirection: 1
        });
        return u;
      });
      J(o, function(s) {
        s.build(), this.group.add(s.group);
      }, this);
    }, e.prototype._buildSplitLineAndArea = function(t) {
      var i = t.coordinateSystem, a = i.getIndicatorAxes();
      if (!a.length)
        return;
      var n = t.get("shape"), o = t.getModel("splitLine"), s = t.getModel("splitArea"), l = o.getModel("lineStyle"), u = s.getModel("areaStyle"), c = o.get("show"), f = s.get("show"), d = l.get("color"), p = u.get("color"), v = Ke(d) ? d : [d], y = Ke(p) ? p : [p], _ = [], w = [];
      function S(Q, se, de) {
        var le = de % se.length;
        return Q[le] = Q[le] || [], le;
      }
      if (n === "circle")
        for (var x = a[0].getTicksCoords(), E = i.cx, M = i.cy, k = 0; k < x.length; k++) {
          if (c) {
            var P = S(_, v, k);
            _[P].push(new rc({
              shape: {
                cx: E,
                cy: M,
                r: x[k].coord
              }
            }));
          }
          if (f && k < x.length - 1) {
            var P = S(w, y, k);
            w[P].push(new rm({
              shape: {
                cx: E,
                cy: M,
                r0: x[k].coord,
                r: x[k + 1].coord
              }
            }));
          }
        }
      else
        for (var L, F = Je(a, function(Q, se) {
          var de = Q.getTicksCoords();
          return L = L == null ? de.length - 1 : Math.min(de.length - 1, L), Je(de, function(le) {
            return i.coordToPoint(le.coord, se);
          });
        }), O = [], k = 0; k <= L; k++) {
          for (var U = [], V = 0; V < a.length; V++)
            U.push(F[V][k]);
          if (U[0] ? U.push(U[0].slice()) : process.env.NODE_ENV !== "production" && console.error("Can't draw value axis " + k), c) {
            var P = S(_, v, k);
            _[P].push(new wa({
              shape: {
                points: U
              }
            }));
          }
          if (f && O) {
            var P = S(w, y, k - 1);
            w[P].push(new Ha({
              shape: {
                points: U.concat(O)
              }
            }));
          }
          O = U.slice().reverse();
        }
      var G = l.getLineStyle(), Z = u.getAreaStyle();
      J(w, function(Q, se) {
        this.group.add(Co(Q, {
          style: Yt({
            stroke: "none",
            fill: y[se % y.length]
          }, Z),
          silent: !0
        }));
      }, this), J(_, function(Q, se) {
        this.group.add(Co(Q, {
          style: Yt({
            fill: "none",
            stroke: v[se % v.length]
          }, G),
          silent: !0
        }));
      }, this);
    }, e.type = "radar", e;
  }(Pn)
);
const Rbe = Pbe;
var Lbe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i, a) {
      var n = r.call(this, t, i, a) || this;
      return n.type = "value", n.angle = 0, n.name = "", n;
    }
    return e;
  }(ps)
);
const Obe = Lbe;
var Fbe = (
  /** @class */
  function() {
    function r(e, t, i) {
      this.dimensions = [], this._model = e, this._indicatorAxes = Je(e.getIndicatorModels(), function(a, n) {
        var o = "indicator_" + n, s = new Obe(
          o,
          new Jc()
          // (indicatorModel.get('axisType') === 'log') ? new LogScale() : new IntervalScale()
        );
        return s.name = a.get("name"), s.model = a, a.axis = s, this.dimensions.push(o), s;
      }, this), this.resize(e, i);
    }
    return r.prototype.getIndicatorAxes = function() {
      return this._indicatorAxes;
    }, r.prototype.dataToPoint = function(e, t) {
      var i = this._indicatorAxes[t];
      return this.coordToPoint(i.dataToCoord(e), t);
    }, r.prototype.coordToPoint = function(e, t) {
      var i = this._indicatorAxes[t], a = i.angle, n = this.cx + e * Math.cos(a), o = this.cy - e * Math.sin(a);
      return [n, o];
    }, r.prototype.pointToData = function(e) {
      var t = e[0] - this.cx, i = e[1] - this.cy, a = Math.sqrt(t * t + i * i);
      t /= a, i /= a;
      for (var n = Math.atan2(-i, t), o = 1 / 0, s, l = -1, u = 0; u < this._indicatorAxes.length; u++) {
        var c = this._indicatorAxes[u], f = Math.abs(n - c.angle);
        f < o && (s = c, l = u, o = f);
      }
      return [l, +(s && s.coordToData(a))];
    }, r.prototype.resize = function(e, t) {
      var i = Wi(e, t).refContainer, a = e.get("center"), n = Math.min(i.width, i.height) / 2;
      this.cx = gt(a[0], i.width) + i.x, this.cy = gt(a[1], i.height) + i.y, this.startAngle = e.get("startAngle") * Math.PI / 180;
      var o = e.get("radius");
      (vt(o) || Or(o)) && (o = [0, o]), this.r0 = gt(o[0], n), this.r = gt(o[1], n), J(this._indicatorAxes, function(s, l) {
        s.setExtent(this.r0, this.r);
        var u = this.startAngle + l * Math.PI * 2 / this._indicatorAxes.length;
        u = Math.atan2(Math.sin(u), Math.cos(u)), s.angle = u;
      }, this);
    }, r.prototype.update = function(e, t) {
      var i = this._indicatorAxes, a = this._model;
      J(i, function(s) {
        s.scale.setExtent(1 / 0, -1 / 0);
      }), e.eachSeriesByType("radar", function(s, l) {
        if (!(s.get("coordinateSystem") !== "radar" || e.getComponent("radar", s.get("radarIndex")) !== a)) {
          var u = s.getData();
          J(i, function(c) {
            c.scale.unionExtentFromData(u, u.mapDimension(c.dim));
          });
        }
      }, this);
      var n = a.get("splitNumber"), o = new Jc();
      o.setExtent(0, n), o.setInterval(1), J(i, function(s, l) {
        sK(s.scale, s.model, o);
      });
    }, r.prototype.convertToPixel = function(e, t, i) {
      return console.warn("Not implemented."), null;
    }, r.prototype.convertFromPixel = function(e, t, i) {
      return console.warn("Not implemented."), null;
    }, r.prototype.containPoint = function(e) {
      return console.warn("Not implemented."), !1;
    }, r.create = function(e, t) {
      var i = [];
      return e.eachComponent("radar", function(a) {
        var n = new r(a, e, t);
        i.push(n), a.coordinateSystem = n;
      }), e.eachSeriesByType("radar", function(a) {
        a.get("coordinateSystem") === "radar" && (a.coordinateSystem = i[a.get("radarIndex") || 0]);
      }), i;
    }, r.dimensions = [], r;
  }()
);
const Nbe = Fbe;
function Bbe(r) {
  r.registerCoordinateSystem("radar", Nbe), r.registerComponentModel(Ibe), r.registerComponentView(Rbe), r.registerVisual({
    seriesType: "radar",
    reset: function(e) {
      var t = e.getData();
      t.each(function(i) {
        t.setItemVisual(i, "legendIcon", "roundRect");
      }), t.setVisual("legendIcon", "roundRect");
    }
  });
}
function Vbe(r) {
  _r(Bbe), r.registerChartView(Ebe), r.registerSeriesModel(kbe), r.registerLayout(Tbe), r.registerProcessor(Y0("radar")), r.registerPreprocessor(Cbe);
}
var QD = Ar();
function Ube(r, e, t) {
  QD(r)[e] = t;
}
function Gbe(r, e, t) {
  var i = QD(r), a = i[e];
  a === t && (i[e] = null);
}
function BN(r, e) {
  return !!QD(r)[e];
}
js({
  type: "takeGlobalCursor",
  event: "globalCursorTaken",
  update: "update"
}, si);
var zbe = {
  axisPointer: 1,
  tooltip: 1,
  brush: 1
};
function vK(r, e, t) {
  var i = e.getComponentByElement(r.topTarget);
  if (!i || i === t || zbe.hasOwnProperty(i.mainType))
    return !1;
  var a = i.coordinateSystem;
  if (!a || a.model === t)
    return !1;
  var n = rd(i), o = rd(t);
  return !((n.zlevel - o.zlevel || n.z - o.z) <= 0);
}
var Wbe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t) {
      var i = r.call(this) || this;
      i._zr = t;
      var a = mt(i._mousedownHandler, i), n = mt(i._mousemoveHandler, i), o = mt(i._mouseupHandler, i), s = mt(i._mousewheelHandler, i), l = mt(i._pinchHandler, i);
      return i.enable = function(u, c) {
        var f = c.zInfo, d = rd(f.component), p = d.z, v = d.zlevel, y = {
          component: f.component,
          z: p,
          zlevel: v,
          // By default roam controller is the lowest z2 comparing to other elememts in a component.
          z2: It(f.z2, -1 / 0)
        }, _ = $e({}, c.triggerInfo);
        this._opt = Yt($e({}, c), {
          zoomOnMouseWheel: !0,
          moveOnMouseMove: !0,
          // By default, wheel do not trigger move.
          moveOnMouseWheel: !1,
          preventDefaultMouseMove: !0,
          zInfoParsed: y,
          triggerInfo: _
        }), u == null && (u = !0), (!this._enabled || this._controlType !== u) && (this._enabled = !0, this.disable(), (u === !0 || u === "move" || u === "pan") && (ag(t, "mousedown", a, y), ag(t, "mousemove", n, y), ag(t, "mouseup", o, y)), (u === !0 || u === "scale" || u === "zoom") && (ag(t, "mousewheel", s, y), ag(t, "pinch", l, y)));
      }, i.disable = function() {
        this._enabled = !1, og(t, "mousedown", a), og(t, "mousemove", n), og(t, "mouseup", o), og(t, "mousewheel", s), og(t, "pinch", l);
      }, i;
    }
    return e.prototype.isDragging = function() {
      return this._dragging;
    }, e.prototype.isPinching = function() {
      return this._pinching;
    }, e.prototype._checkPointer = function(t, i, a) {
      var n = this._opt, o = n.zInfoParsed;
      if (vK(t, n.api, o.component))
        return !1;
      var s = n.triggerInfo, l = s.roamTrigger, u = !1;
      return l === "global" && (u = !0), u || (u = s.isInSelf(t, i, a)), u && s.isInClip && !s.isInClip(t, i, a) && (u = !1), u;
    }, e.prototype._decideCursorStyle = function(t, i, a, n) {
      var o = t.target;
      if (!o && this._checkPointer(t, i, a))
        return "grab";
      if (n)
        return o && o.cursor || "default";
    }, e.prototype.dispose = function() {
      this.disable();
    }, e.prototype._mousedownHandler = function(t) {
      if (!(nL(t) || ig(t))) {
        for (var i = t.target; i; ) {
          if (i.draggable)
            return;
          i = i.__hostTarget || i.parent;
        }
        var a = t.offsetX, n = t.offsetY;
        this._checkPointer(t, a, n) && (this._x = a, this._y = n, this._dragging = !0);
      }
    }, e.prototype._mousemoveHandler = function(t) {
      var i = this._zr;
      if (!(t.gestureEvent === "pinch" || BN(i, "globalPan") || ig(t))) {
        var a = t.offsetX, n = t.offsetY;
        if (!this._dragging || !u_("moveOnMouseMove", t, this._opt)) {
          var o = this._decideCursorStyle(t, a, n, !1);
          o && i.setCursorStyle(o);
          return;
        }
        i.setCursorStyle("grabbing");
        var s = this._x, l = this._y, u = a - s, c = n - l;
        this._x = a, this._y = n, this._opt.preventDefaultMouseMove && Bu(t.event), t.__ecRoamConsumed = !0, VN(this, "pan", "moveOnMouseMove", t, {
          dx: u,
          dy: c,
          oldX: s,
          oldY: l,
          newX: a,
          newY: n,
          isAvailableBehavior: null
        });
      }
    }, e.prototype._mouseupHandler = function(t) {
      if (!ig(t)) {
        var i = this._zr;
        if (!nL(t)) {
          this._dragging = !1;
          var a = this._decideCursorStyle(t, t.offsetX, t.offsetY, !0);
          a && i.setCursorStyle(a);
        }
      }
    }, e.prototype._mousewheelHandler = function(t) {
      if (!ig(t)) {
        var i = u_("zoomOnMouseWheel", t, this._opt), a = u_("moveOnMouseWheel", t, this._opt), n = t.wheelDelta, o = Math.abs(n), s = t.offsetX, l = t.offsetY;
        if (!(n === 0 || !i && !a)) {
          if (i) {
            var u = o > 3 ? 1.4 : o > 1 ? 1.2 : 1.1, c = n > 0 ? u : 1 / u;
            this._checkTriggerMoveZoom(this, "zoom", "zoomOnMouseWheel", t, {
              scale: c,
              originX: s,
              originY: l,
              isAvailableBehavior: null
            });
          }
          if (a) {
            var f = Math.abs(n), d = (n > 0 ? 1 : -1) * (f > 3 ? 0.4 : f > 1 ? 0.15 : 0.05);
            this._checkTriggerMoveZoom(this, "scrollMove", "moveOnMouseWheel", t, {
              scrollDelta: d,
              originX: s,
              originY: l,
              isAvailableBehavior: null
            });
          }
        }
      }
    }, e.prototype._pinchHandler = function(t) {
      if (!(BN(this._zr, "globalPan") || ig(t))) {
        var i = t.pinchScale > 1 ? 1.1 : 1 / 1.1;
        this._checkTriggerMoveZoom(this, "zoom", null, t, {
          scale: i,
          originX: t.pinchX,
          originY: t.pinchY,
          isAvailableBehavior: null
        });
      }
    }, e.prototype._checkTriggerMoveZoom = function(t, i, a, n, o) {
      t._checkPointer(n, o.originX, o.originY) && (Bu(n.event), n.__ecRoamConsumed = !0, VN(t, i, a, n, o));
    }, e;
  }(fs)
);
function ig(r) {
  return r.__ecRoamConsumed;
}
var Hbe = Ar();
function BS(r) {
  var e = Hbe(r);
  return e.roam = e.roam || {}, e.uniform = e.uniform || {}, e;
}
function ag(r, e, t, i) {
  for (var a = BS(r), n = a.roam, o = n[e] = n[e] || [], s = 0; s < o.length; s++) {
    var l = o[s].zInfoParsed;
    if ((l.zlevel - i.zlevel || l.z - i.z || l.z2 - i.z2) <= 0)
      break;
  }
  o.splice(s, 0, {
    listener: t,
    zInfoParsed: i
  }), $be(r, e);
}
function og(r, e, t) {
  for (var i = BS(r), a = i.roam[e] || [], n = 0; n < a.length; n++)
    if (a[n].listener === t) {
      a.splice(n, 1), a.length || Ybe(r, e);
      return;
    }
}
function $be(r, e) {
  var t = BS(r);
  t.uniform[e] || r.on(e, t.uniform[e] = function(i) {
    var a = t.roam[e];
    if (a)
      for (var n = 0; n < a.length; n++)
        a[n].listener(i);
  });
}
function Ybe(r, e) {
  var t = BS(r), i = t.uniform;
  i[e] && (r.off(e, i[e]), i[e] = null);
}
function VN(r, e, t, i, a) {
  a.isAvailableBehavior = mt(u_, null, t, i), r.trigger(e, a);
}
function u_(r, e, t) {
  var i = t[r];
  return !r || i && (!vt(i) || e.event[i + "Key"]);
}
const kd = Wbe;
function ek(r, e, t) {
  var i = r.target;
  i.x += e, i.y += t, i.dirty();
}
function tk(r, e, t, i) {
  var a = r.target, n = r.zoomLimit, o = r.zoom = r.zoom || 1;
  o *= e, o = rk(o, n);
  var s = o / r.zoom;
  r.zoom = o, mK(a, t, i, s), a.dirty();
}
function gK(r, e, t, i, a, n) {
  var o = new Jt(0, 0, 0, 0);
  i.enable(r.get("roam"), {
    api: e,
    zInfo: {
      component: r
    },
    triggerInfo: {
      roamTrigger: r.get("roamTrigger"),
      isInSelf: function(u, c, f) {
        return o.copy(t.getBoundingRect()), o.applyTransform(t.getComputedTransform()), o.contain(c, f);
      },
      isInClip: function(u, c, f) {
        return !n || n.contain(c, f);
      }
    }
  }), a.zoomLimit = r.get("scaleLimit");
  var s = r.coordinateSystem;
  a.zoom = s ? s.getZoom() : 1;
  var l = r.subType + "Roam";
  i.off("pan").off("zoom").on("pan", function(u) {
    ek(a, u.dx, u.dy), e.dispatchAction({
      seriesId: r.id,
      type: l,
      dx: u.dx,
      dy: u.dy
    });
  }).on("zoom", function(u) {
    tk(a, u.scale, u.originX, u.originY), e.dispatchAction({
      seriesId: r.id,
      type: l,
      zoom: u.scale,
      originX: u.originX,
      originY: u.originY
    }), e.updateLabelLayout();
  });
}
function UN(r, e) {
  return r.pointToProjected ? r.pointToProjected(e) : r.pointToData(e);
}
function VS(r, e, t) {
  var i = r.getZoom(), a = r.getCenter(), n = e.zoom, o = r.projectedToPoint ? r.projectedToPoint(a) : r.dataToPoint(a);
  return e.dx != null && e.dy != null && (o[0] -= e.dx, o[1] -= e.dy, r.setCenter(UN(r, o))), n != null && (n = rk(i * n, t) / i, mK(r, e.originX, e.originY, n), r.updateTransform(), r.setCenter(UN(r, o)), r.setZoom(n * i)), {
    center: r.getCenter(),
    zoom: r.getZoom()
  };
}
function mK(r, e, t, i) {
  r.x -= (e - r.x) * (i - 1), r.y -= (t - r.y) * (i - 1), r.scaleX *= i, r.scaleY *= i;
}
function rk(r, e) {
  if (e) {
    var t = e.min || 0, i = e.max || 1 / 0;
    r = Math.max(Math.min(i, r), t);
  }
  return r;
}
function yK(r) {
  if (vt(r)) {
    var e = new DOMParser();
    r = e.parseFromString(r, "text/xml");
  }
  var t = r;
  for (t.nodeType === 9 && (t = t.firstChild); t.nodeName.toLowerCase() !== "svg" || t.nodeType !== 1; )
    t = t.nextSibling;
  return t;
}
var b5, Cb = {
  fill: "fill",
  stroke: "stroke",
  "stroke-width": "lineWidth",
  opacity: "opacity",
  "fill-opacity": "fillOpacity",
  "stroke-opacity": "strokeOpacity",
  "stroke-dasharray": "lineDash",
  "stroke-dashoffset": "lineDashOffset",
  "stroke-linecap": "lineCap",
  "stroke-linejoin": "lineJoin",
  "stroke-miterlimit": "miterLimit",
  "font-family": "fontFamily",
  "font-size": "fontSize",
  "font-style": "fontStyle",
  "font-weight": "fontWeight",
  "text-anchor": "textAlign",
  visibility: "visibility",
  display: "display"
}, GN = Ir(Cb), Ab = {
  "alignment-baseline": "textBaseline",
  "stop-color": "stopColor"
}, zN = Ir(Ab), jbe = function() {
  function r() {
    this._defs = {}, this._root = null;
  }
  return r.prototype.parse = function(e, t) {
    t = t || {};
    var i = yK(e);
    if (process.env.NODE_ENV !== "production" && !i)
      throw new Error("Illegal svg");
    this._defsUsePending = [];
    var a = new Wt();
    this._root = a;
    var n = [], o = i.getAttribute("viewBox") || "", s = parseFloat(i.getAttribute("width") || t.width), l = parseFloat(i.getAttribute("height") || t.height);
    isNaN(s) && (s = null), isNaN(l) && (l = null), bo(i, a, null, !0, !1);
    for (var u = i.firstChild; u; )
      this._parseNode(u, a, n, null, !1, !1), u = u.nextSibling;
    Kbe(this._defs, this._defsUsePending), this._defsUsePending = [];
    var c, f;
    if (o) {
      var d = US(o);
      d.length >= 4 && (c = {
        x: parseFloat(d[0] || 0),
        y: parseFloat(d[1] || 0),
        width: parseFloat(d[2]),
        height: parseFloat(d[3])
      });
    }
    if (c && s != null && l != null && (f = bK(c, { x: 0, y: 0, width: s, height: l }), !t.ignoreViewBox)) {
      var p = a;
      a = new Wt(), a.add(p), p.scaleX = p.scaleY = f.scale, p.x = f.x, p.y = f.y;
    }
    return !t.ignoreRootClip && s != null && l != null && a.setClipPath(new Cr({
      shape: { x: 0, y: 0, width: s, height: l }
    })), {
      root: a,
      width: s,
      height: l,
      viewBoxRect: c,
      viewBoxTransform: f,
      named: n
    };
  }, r.prototype._parseNode = function(e, t, i, a, n, o) {
    var s = e.nodeName.toLowerCase(), l, u = a;
    if (s === "defs" && (n = !0), s === "text" && (o = !0), s === "defs" || s === "switch")
      l = t;
    else {
      if (!n) {
        var c = b5[s];
        if (c && xt(b5, s)) {
          l = c.call(this, e, t);
          var f = e.getAttribute("name");
          if (f) {
            var d = {
              name: f,
              namedFrom: null,
              svgNodeTagLower: s,
              el: l
            };
            i.push(d), s === "g" && (u = d);
          } else
            a && i.push({
              name: a.name,
              namedFrom: a,
              svgNodeTagLower: s,
              el: l
            });
          t.add(l);
        }
      }
      var p = WN[s];
      if (p && xt(WN, s)) {
        var v = p.call(this, e), y = e.getAttribute("id");
        y && (this._defs[y] = v);
      }
    }
    if (l && l.isGroup)
      for (var _ = e.firstChild; _; )
        _.nodeType === 1 ? this._parseNode(_, l, i, u, n, o) : _.nodeType === 3 && o && this._parseText(_, l), _ = _.nextSibling;
  }, r.prototype._parseText = function(e, t) {
    var i = new f1({
      style: {
        text: e.textContent
      },
      silent: !0,
      x: this._textX || 0,
      y: this._textY || 0
    });
    Yo(t, i), bo(e, i, this._defsUsePending, !1, !1), qbe(i, t);
    var a = i.style, n = a.fontSize;
    n && n < 9 && (a.fontSize = 9, i.scaleX *= n / 9, i.scaleY *= n / 9);
    var o = (a.fontSize || a.fontFamily) && [
      a.fontStyle,
      a.fontWeight,
      (a.fontSize || 12) + "px",
      a.fontFamily || "sans-serif"
    ].join(" ");
    a.font = o;
    var s = i.getBoundingRect();
    return this._textX += s.width, t.add(i), i;
  }, r.internalField = function() {
    b5 = {
      g: function(e, t) {
        var i = new Wt();
        return Yo(t, i), bo(e, i, this._defsUsePending, !1, !1), i;
      },
      rect: function(e, t) {
        var i = new Cr();
        return Yo(t, i), bo(e, i, this._defsUsePending, !1, !1), i.setShape({
          x: parseFloat(e.getAttribute("x") || "0"),
          y: parseFloat(e.getAttribute("y") || "0"),
          width: parseFloat(e.getAttribute("width") || "0"),
          height: parseFloat(e.getAttribute("height") || "0")
        }), i.silent = !0, i;
      },
      circle: function(e, t) {
        var i = new rc();
        return Yo(t, i), bo(e, i, this._defsUsePending, !1, !1), i.setShape({
          cx: parseFloat(e.getAttribute("cx") || "0"),
          cy: parseFloat(e.getAttribute("cy") || "0"),
          r: parseFloat(e.getAttribute("r") || "0")
        }), i.silent = !0, i;
      },
      line: function(e, t) {
        var i = new ki();
        return Yo(t, i), bo(e, i, this._defsUsePending, !1, !1), i.setShape({
          x1: parseFloat(e.getAttribute("x1") || "0"),
          y1: parseFloat(e.getAttribute("y1") || "0"),
          x2: parseFloat(e.getAttribute("x2") || "0"),
          y2: parseFloat(e.getAttribute("y2") || "0")
        }), i.silent = !0, i;
      },
      ellipse: function(e, t) {
        var i = new SS();
        return Yo(t, i), bo(e, i, this._defsUsePending, !1, !1), i.setShape({
          cx: parseFloat(e.getAttribute("cx") || "0"),
          cy: parseFloat(e.getAttribute("cy") || "0"),
          rx: parseFloat(e.getAttribute("rx") || "0"),
          ry: parseFloat(e.getAttribute("ry") || "0")
        }), i.silent = !0, i;
      },
      polygon: function(e, t) {
        var i = e.getAttribute("points"), a;
        i && (a = YN(i));
        var n = new Ha({
          shape: {
            points: a || []
          },
          silent: !0
        });
        return Yo(t, n), bo(e, n, this._defsUsePending, !1, !1), n;
      },
      polyline: function(e, t) {
        var i = e.getAttribute("points"), a;
        i && (a = YN(i));
        var n = new wa({
          shape: {
            points: a || []
          },
          silent: !0
        });
        return Yo(t, n), bo(e, n, this._defsUsePending, !1, !1), n;
      },
      image: function(e, t) {
        var i = new ha();
        return Yo(t, i), bo(e, i, this._defsUsePending, !1, !1), i.setStyle({
          image: e.getAttribute("xlink:href") || e.getAttribute("href"),
          x: +e.getAttribute("x"),
          y: +e.getAttribute("y"),
          width: +e.getAttribute("width"),
          height: +e.getAttribute("height")
        }), i.silent = !0, i;
      },
      text: function(e, t) {
        var i = e.getAttribute("x") || "0", a = e.getAttribute("y") || "0", n = e.getAttribute("dx") || "0", o = e.getAttribute("dy") || "0";
        this._textX = parseFloat(i) + parseFloat(n), this._textY = parseFloat(a) + parseFloat(o);
        var s = new Wt();
        return Yo(t, s), bo(e, s, this._defsUsePending, !1, !0), s;
      },
      tspan: function(e, t) {
        var i = e.getAttribute("x"), a = e.getAttribute("y");
        i != null && (this._textX = parseFloat(i)), a != null && (this._textY = parseFloat(a));
        var n = e.getAttribute("dx") || "0", o = e.getAttribute("dy") || "0", s = new Wt();
        return Yo(t, s), bo(e, s, this._defsUsePending, !1, !0), this._textX += parseFloat(n), this._textY += parseFloat(o), s;
      },
      path: function(e, t) {
        var i = e.getAttribute("d") || "", a = xY(i);
        return Yo(t, a), bo(e, a, this._defsUsePending, !1, !1), a.silent = !0, a;
      }
    };
  }(), r;
}(), WN = {
  lineargradient: function(r) {
    var e = parseInt(r.getAttribute("x1") || "0", 10), t = parseInt(r.getAttribute("y1") || "0", 10), i = parseInt(r.getAttribute("x2") || "10", 10), a = parseInt(r.getAttribute("y2") || "0", 10), n = new bd(e, t, i, a);
    return HN(r, n), $N(r, n), n;
  },
  radialgradient: function(r) {
    var e = parseInt(r.getAttribute("cx") || "0", 10), t = parseInt(r.getAttribute("cy") || "0", 10), i = parseInt(r.getAttribute("r") || "0", 10), a = new Y8(e, t, i);
    return HN(r, a), $N(r, a), a;
  }
};
function HN(r, e) {
  var t = r.getAttribute("gradientUnits");
  t === "userSpaceOnUse" && (e.global = !0);
}
function $N(r, e) {
  for (var t = r.firstChild; t; ) {
    if (t.nodeType === 1 && t.nodeName.toLocaleLowerCase() === "stop") {
      var i = t.getAttribute("offset"), a = void 0;
      i && i.indexOf("%") > 0 ? a = parseInt(i, 10) / 100 : i ? a = parseFloat(i) : a = 0;
      var n = {};
      _K(t, n, n);
      var o = n.stopColor || t.getAttribute("stop-color") || "#000000", s = n.stopOpacity || t.getAttribute("stop-opacity");
      if (s) {
        var l = Va(o), u = l && l[3];
        u && (l[3] *= Tu(s), o = os(l, "rgba"));
      }
      e.colorStops.push({
        offset: a,
        color: o
      });
    }
    t = t.nextSibling;
  }
}
function Yo(r, e) {
  r && r.__inheritedStyle && (e.__inheritedStyle || (e.__inheritedStyle = {}), Yt(e.__inheritedStyle, r.__inheritedStyle));
}
function YN(r) {
  for (var e = US(r), t = [], i = 0; i < e.length; i += 2) {
    var a = parseFloat(e[i]), n = parseFloat(e[i + 1]);
    t.push([a, n]);
  }
  return t;
}
function bo(r, e, t, i, a) {
  var n = e, o = n.__inheritedStyle = n.__inheritedStyle || {}, s = {};
  r.nodeType === 1 && (Qbe(r, e), _K(r, o, s), i || ewe(r, o, s)), n.style = n.style || {}, o.fill != null && (n.style.fill = jN(n, "fill", o.fill, t)), o.stroke != null && (n.style.stroke = jN(n, "stroke", o.stroke, t)), J([
    "lineWidth",
    "opacity",
    "fillOpacity",
    "strokeOpacity",
    "miterLimit",
    "fontSize"
  ], function(l) {
    o[l] != null && (n.style[l] = parseFloat(o[l]));
  }), J([
    "lineDashOffset",
    "lineCap",
    "lineJoin",
    "fontWeight",
    "fontFamily",
    "fontStyle",
    "textAlign"
  ], function(l) {
    o[l] != null && (n.style[l] = o[l]);
  }), a && (n.__selfStyle = s), o.lineDash && (n.style.lineDash = Je(US(o.lineDash), function(l) {
    return parseFloat(l);
  })), (o.visibility === "hidden" || o.visibility === "collapse") && (n.invisible = !0), o.display === "none" && (n.ignore = !0);
}
function qbe(r, e) {
  var t = e.__selfStyle;
  if (t) {
    var i = t.textBaseline, a = i;
    !i || i === "auto" || i === "baseline" ? a = "alphabetic" : i === "before-edge" || i === "text-before-edge" ? a = "top" : i === "after-edge" || i === "text-after-edge" ? a = "bottom" : (i === "central" || i === "mathematical") && (a = "middle"), r.style.textBaseline = a;
  }
  var n = e.__inheritedStyle;
  if (n) {
    var o = n.textAlign, s = o;
    o && (o === "middle" && (s = "center"), r.style.textAlign = s);
  }
}
var Xbe = /^url\(\s*#(.*?)\)/;
function jN(r, e, t, i) {
  var a = t && t.match(Xbe);
  if (a) {
    var n = Ao(a[1]);
    i.push([r, e, n]);
    return;
  }
  return t === "none" && (t = null), t;
}
function Kbe(r, e) {
  for (var t = 0; t < e.length; t++) {
    var i = e[t];
    i[0].style[i[1]] = r[i[2]];
  }
}
var Zbe = /-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;
function US(r) {
  return r.match(Zbe) || [];
}
var Jbe = /(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g, w5 = Math.PI / 180;
function Qbe(r, e) {
  var t = r.getAttribute("transform");
  if (t) {
    t = t.replace(/,/g, " ");
    var i = [], a = null;
    t.replace(Jbe, function(f, d, p) {
      return i.push(d, p), "";
    });
    for (var n = i.length - 1; n > 0; n -= 2) {
      var o = i[n], s = i[n - 1], l = US(o);
      switch (a = a || Ji(), s) {
        case "translate":
          Bs(a, a, [parseFloat(l[0]), parseFloat(l[1] || "0")]);
          break;
        case "scale":
          uS(a, a, [parseFloat(l[0]), parseFloat(l[1] || l[0])]);
          break;
        case "rotate":
          ec(a, a, -parseFloat(l[0]) * w5, [
            parseFloat(l[1] || "0"),
            parseFloat(l[2] || "0")
          ]);
          break;
        case "skewX":
          var u = Math.tan(parseFloat(l[0]) * w5);
          Ls(a, [1, 0, u, 1, 0, 0], a);
          break;
        case "skewY":
          var c = Math.tan(parseFloat(l[0]) * w5);
          Ls(a, [1, c, 0, 1, 0, 0], a);
          break;
        case "matrix":
          a[0] = parseFloat(l[0]), a[1] = parseFloat(l[1]), a[2] = parseFloat(l[2]), a[3] = parseFloat(l[3]), a[4] = parseFloat(l[4]), a[5] = parseFloat(l[5]);
          break;
      }
    }
    e.setLocalTransform(a);
  }
}
var qN = /([^\s:;]+)\s*:\s*([^:;]+)/g;
function _K(r, e, t) {
  var i = r.getAttribute("style");
  if (i) {
    qN.lastIndex = 0;
    for (var a; (a = qN.exec(i)) != null; ) {
      var n = a[1], o = xt(Cb, n) ? Cb[n] : null;
      o && (e[o] = a[2]);
      var s = xt(Ab, n) ? Ab[n] : null;
      s && (t[s] = a[2]);
    }
  }
}
function ewe(r, e, t) {
  for (var i = 0; i < GN.length; i++) {
    var a = GN[i], n = r.getAttribute(a);
    n != null && (e[Cb[a]] = n);
  }
  for (var i = 0; i < zN.length; i++) {
    var a = zN[i], n = r.getAttribute(a);
    n != null && (t[Ab[a]] = n);
  }
}
function bK(r, e) {
  var t = e.width / r.width, i = e.height / r.height, a = Math.min(t, i);
  return {
    scale: a,
    x: -(r.x + r.width / 2) * a + (e.x + e.width / 2),
    y: -(r.y + r.height / 2) * a + (e.y + e.height / 2)
  };
}
function twe(r, e) {
  var t = new jbe();
  return t.parse(r, e);
}
var rwe = Pt([
  "rect",
  "circle",
  "line",
  "ellipse",
  "polygon",
  "polyline",
  "path",
  // <text> <tspan> are also enabled because some SVG might paint text itself,
  // but still need to trigger events or tooltip.
  "text",
  "tspan",
  // <g> is also enabled because this case: if multiple tags share one name
  // and need label displayed, every tags will display the name, which is not
  // expected. So we can put them into a <g name="xxx">. Thereby only one label
  // displayed and located based on the bounding rect of the <g>.
  "g"
]), nwe = (
  /** @class */
  function() {
    function r(e, t) {
      this.type = "geoSVG", this._usedGraphicMap = Pt(), this._freedGraphics = [], this._mapName = e, this._parsedXML = yK(t);
    }
    return r.prototype.load = function() {
      var e = this._firstGraphic;
      if (!e) {
        e = this._firstGraphic = this._buildGraphic(this._parsedXML), this._freedGraphics.push(e), this._boundingRect = this._firstGraphic.boundingRect.clone();
        var t = awe(e.named), i = t.regions, a = t.regionsMap;
        this._regions = i, this._regionsMap = a;
      }
      return {
        boundingRect: this._boundingRect,
        regions: this._regions,
        regionsMap: this._regionsMap
      };
    }, r.prototype._buildGraphic = function(e) {
      var t, i;
      try {
        t = e && twe(e, {
          ignoreViewBox: !0,
          ignoreRootClip: !0
        }) || {}, i = t.root, kt(i != null);
      } catch (_) {
        throw new Error(`Invalid svg format
` + _.message);
      }
      var a = new Wt();
      a.add(i), a.isGeoSVGGraphicRoot = !0;
      var n = t.width, o = t.height, s = t.viewBoxRect, l = this._boundingRect;
      if (!l) {
        var u = void 0, c = void 0, f = void 0, d = void 0;
        if (n != null ? (u = 0, f = n) : s && (u = s.x, f = s.width), o != null ? (c = 0, d = o) : s && (c = s.y, d = s.height), u == null || c == null) {
          var p = i.getBoundingRect();
          u == null && (u = p.x, f = p.width), c == null && (c = p.y, d = p.height);
        }
        l = this._boundingRect = new Jt(u, c, f, d);
      }
      if (s) {
        var v = bK(s, l);
        i.scaleX = i.scaleY = v.scale, i.x = v.x, i.y = v.y;
      }
      a.setClipPath(new Cr({
        shape: l.plain()
      }));
      var y = [];
      return J(t.named, function(_) {
        rwe.get(_.svgNodeTagLower) != null && (y.push(_), iwe(_.el));
      }), {
        root: a,
        boundingRect: l,
        named: y
      };
    }, r.prototype.useGraphic = function(e) {
      var t = this._usedGraphicMap, i = t.get(e);
      return i || (i = this._freedGraphics.pop() || this._buildGraphic(this._parsedXML), t.set(e, i), i);
    }, r.prototype.freeGraphic = function(e) {
      var t = this._usedGraphicMap, i = t.get(e);
      i && (t.removeKey(e), this._freedGraphics.push(i));
    }, r;
  }()
);
function iwe(r) {
  r.silent = !1, r.isGroup && r.traverse(function(e) {
    e.silent = !1;
  });
}
function awe(r) {
  var e = [], t = Pt();
  return J(r, function(i) {
    if (i.namedFrom == null) {
      var a = new Ome(i.name, i.el);
      e.push(a), t.set(i.name, a);
    }
  }), {
    regions: e,
    regionsMap: t
  };
}
var W6 = [126, 25], XN = "", gf = [[[0, 3.5], [7, 11.2], [15, 11.9], [30, 7], [42, 0.7], [52, 0.7], [56, 7.7], [59, 0.7], [64, 0.7], [64, 0], [5, 0], [0, 3.5]], [[13, 16.1], [19, 14.7], [16, 21.7], [11, 23.1], [13, 16.1]], [[12, 32.2], [14, 38.5], [15, 38.5], [13, 32.2], [12, 32.2]], [[16, 47.6], [12, 53.2], [13, 53.2], [18, 47.6], [16, 47.6]], [[6, 64.4], [8, 70], [9, 70], [8, 64.4], [6, 64.4]], [[23, 82.6], [29, 79.8], [30, 79.8], [25, 82.6], [23, 82.6]], [[37, 70.7], [43, 62.3], [44, 62.3], [39, 70.7], [37, 70.7]], [[48, 51.1], [51, 45.5], [53, 45.5], [50, 51.1], [48, 51.1]], [[51, 35], [51, 28.7], [53, 28.7], [53, 35], [51, 35]], [[52, 22.4], [55, 17.5], [56, 17.5], [53, 22.4], [52, 22.4]], [[58, 12.6], [62, 7], [63, 7], [60, 12.6], [58, 12.6]], [[0, 3.5], [0, 93.1], [64, 93.1], [64, 0], [63, 0], [63, 92.4], [1, 92.4], [1, 3.5], [0, 3.5]]];
for (var hf = 0; hf < gf.length; hf++)
  for (var gp = 0; gp < gf[hf].length; gp++)
    gf[hf][gp][0] /= 10.5, gf[hf][gp][1] /= -10.5 / 0.75, gf[hf][gp][0] += W6[0], gf[hf][gp][1] += W6[1];
function owe(r, e) {
  if (r === "china") {
    for (var t = 0; t < e.length; t++)
      if (e[t].name === XN)
        return;
    e.push(new tX(XN, Je(gf, function(i) {
      return {
        type: "polygon",
        exterior: i
      };
    }), W6));
  }
}
var swe = {
  : [32, 80],
  // 
  : [0, -10],
  : [10, 5],
  : [-10, 10],
  // '': [-10, 0],
  : [5, 5]
};
function lwe(r, e) {
  if (r === "china") {
    var t = swe[e.name];
    if (t) {
      var i = e.getCenter();
      i[0] += t[0] / 10.5, i[1] += -t[1] / (10.5 / 0.75), e.setCenter(i);
    }
  }
}
var uwe = [[[123.45165252685547, 25.73527164402261], [123.49731445312499, 25.73527164402261], [123.49731445312499, 25.750734064600884], [123.45165252685547, 25.750734064600884], [123.45165252685547, 25.73527164402261]]];
function cwe(r, e) {
  r === "china" && e.name === "" && e.geometries.push({
    type: "polygon",
    exterior: uwe[0]
  });
}
var hwe = "name", fwe = (
  /** @class */
  function() {
    function r(e, t, i) {
      this.type = "geoJSON", this._parsedMap = Pt(), this._mapName = e, this._specialAreas = i, this._geoJSON = pwe(t);
    }
    return r.prototype.load = function(e, t) {
      t = t || hwe;
      var i = this._parsedMap.get(t);
      if (!i) {
        var a = this._parseToRegions(t);
        i = this._parsedMap.set(t, {
          regions: a,
          boundingRect: dwe(a)
        });
      }
      var n = Pt(), o = [];
      return J(i.regions, function(s) {
        var l = s.name;
        e && xt(e, l) && (s = s.cloneShallow(l = e[l])), o.push(s), n.set(l, s);
      }), {
        regions: o,
        boundingRect: i.boundingRect || new Jt(0, 0, 0, 0),
        regionsMap: n
      };
    }, r.prototype._parseToRegions = function(e) {
      var t = this._mapName, i = this._geoJSON, a;
      try {
        a = i ? A6(i, e) : [];
      } catch (n) {
        throw new Error(`Invalid geoJson format
` + n.message);
      }
      return owe(t, a), J(a, function(n) {
        var o = n.name;
        lwe(t, n), cwe(t, n);
        var s = this._specialAreas && this._specialAreas[o];
        s && n.transformTo(s.left, s.top, s.width, s.height);
      }, this), a;
    }, r.prototype.getMapForUser = function() {
      return {
        // For backward compatibility, use geoJson
        // PENDING: it has been returning them without clone.
        // do we need to avoid outsite modification?
        geoJson: this._geoJSON,
        geoJSON: this._geoJSON,
        specialAreas: this._specialAreas
      };
    }, r;
  }()
);
function dwe(r) {
  for (var e, t = 0; t < r.length; t++) {
    var i = r[t].getBoundingRect();
    e = e || i.clone(), e.union(i);
  }
  return e;
}
function pwe(r) {
  return vt(r) ? typeof JSON < "u" && JSON.parse ? JSON.parse(r) : new Function("return (" + r + ");")() : r;
}
var sg = Pt();
const Hu = {
  /**
   * Compatible with previous `echarts.registerMap`.
   *
   * @usage
   * ```js
   *
   * echarts.registerMap('USA', geoJson, specialAreas);
   *
   * echarts.registerMap('USA', {
   *     geoJson: geoJson,
   *     specialAreas: {...}
   * });
   * echarts.registerMap('USA', {
   *     geoJSON: geoJson,
   *     specialAreas: {...}
   * });
   *
   * echarts.registerMap('airport', {
   *     svg: svg
   * }
   * ```
   *
   * Note:
   * Do not support that register multiple geoJSON or SVG
   * one map name. Because different geoJSON and SVG have
   * different unit. It's not easy to make sure how those
   * units are mapping/normalize.
   * If intending to use multiple geoJSON or SVG, we can
   * use multiple geo coordinate system.
   */
  registerMap: function(r, e, t) {
    if (e.svg) {
      var i = new nwe(r, e.svg);
      sg.set(r, i);
    } else {
      var a = e.geoJson || e.geoJSON;
      a && !e.features ? t = e.specialAreas : a = e;
      var i = new fwe(r, a, t);
      sg.set(r, i);
    }
  },
  getGeoResource: function(r) {
    return sg.get(r);
  },
  /**
   * Only for exporting to users.
   * **MUST NOT** used internally.
   */
  getMapForUser: function(r) {
    var e = sg.get(r);
    return e && e.type === "geoJSON" && e.getMapForUser();
  },
  load: function(r, e, t) {
    var i = sg.get(r);
    if (!i) {
      process.env.NODE_ENV !== "production" && console.error("Map " + r + " not exists. The GeoJSON of the map must be provided.");
      return;
    }
    return i.load(e, t);
  }
};
var nk = ["rect", "circle", "line", "ellipse", "polygon", "polyline", "path"], vwe = Pt(nk), gwe = Pt(nk.concat(["g"])), mwe = Pt(nk.concat(["g"])), wK = Ar();
function h2(r) {
  var e = r.getItemStyle(), t = r.get("areaColor");
  return t != null && (e.fill = t), e;
}
function KN(r) {
  var e = r.style;
  e && (e.stroke = e.stroke || e.fill, e.fill = null);
}
var ywe = (
  /** @class */
  function() {
    function r(e) {
      var t = this.group = new Wt(), i = this._transformGroup = new Wt();
      t.add(i), this.uid = N0("ec_map_draw"), this._controller = new kd(e.getZr()), this._controllerHost = {
        target: i
      }, i.add(this._regionsGroup = new Wt()), i.add(this._svgGroup = new Wt());
    }
    return r.prototype.draw = function(e, t, i, a, n) {
      var o = e.mainType === "geo", s = e.getData && e.getData();
      o && t.eachComponent({
        mainType: "series",
        subType: "map"
      }, function(x) {
        !s && x.getHostGeoModel() === e && (s = x.getData());
      });
      var l = e.coordinateSystem, u = this._regionsGroup, c = this._transformGroup, f = l.getTransformInfo(), d = f.raw, p = f.roam, v = !u.childAt(0) || n, y = e.getShallow("clip", !0), _;
      y ? (_ = l.getViewRect().clone(), this.group.setClipPath(new Cr({
        shape: _.clone()
      }))) : this.group.removeClipPath(), v ? (c.x = p.x, c.y = p.y, c.scaleX = p.scaleX, c.scaleY = p.scaleY, c.dirty()) : Wr(c, p, e);
      var w = s && s.getVisual("visualMeta") && s.getVisual("visualMeta").length > 0, S = {
        api: i,
        geo: l,
        mapOrGeoModel: e,
        data: s,
        isVisualEncodedByVisualMap: w,
        isGeo: o,
        transformInfoRaw: d
      };
      l.resourceType === "geoJSON" ? this._buildGeoJSON(S) : l.resourceType === "geoSVG" && this._buildSVG(S), this._updateController(e, _, t, i), this._updateMapSelectHandler(e, u, i, a);
    }, r.prototype._buildGeoJSON = function(e) {
      var t = this._regionsGroupByName = Pt(), i = Pt(), a = this._regionsGroup, n = e.transformInfoRaw, o = e.mapOrGeoModel, s = e.data, l = e.geo.projection, u = l && l.stream;
      function c(p, v) {
        return v && (p = v(p)), p && [p[0] * n.scaleX + n.x, p[1] * n.scaleY + n.y];
      }
      function f(p) {
        for (var v = [], y = !u && l && l.project, _ = 0; _ < p.length; ++_) {
          var w = c(p[_], y);
          w && v.push(w);
        }
        return v;
      }
      function d(p) {
        return {
          shape: {
            points: f(p)
          }
        };
      }
      a.removeAll(), J(e.geo.regions, function(p) {
        var v = p.name, y = t.get(v), _ = i.get(v) || {}, w = _.dataIdx, S = _.regionModel;
        if (!y) {
          y = t.set(v, new Wt()), a.add(y), w = s ? s.indexOfName(v) : null, S = e.isGeo ? o.getRegionModel(v) : s ? s.getItemModel(w) : null;
          var x = S.get("silent", !0);
          x != null && (y.silent = x), i.set(v, {
            dataIdx: w,
            regionModel: S
          });
        }
        var E = [], M = [];
        J(p.geometries, function(L) {
          if (L.type === "polygon") {
            var F = [L.exterior].concat(L.interiors || []);
            u && (F = rB(F, u)), J(F, function(U) {
              E.push(new Ha(d(U)));
            });
          } else {
            var O = L.points;
            u && (O = rB(O, u, !0)), J(O, function(U) {
              M.push(new wa(d(U)));
            });
          }
        });
        var k = c(p.getCenter(), l && l.project);
        function P(L, F) {
          if (L.length) {
            var O = new im({
              culling: !0,
              segmentIgnoreThreshold: 1,
              shape: {
                paths: L
              }
            });
            y.add(O), ZN(e, O, w, S), JN(e, O, v, S, o, w, k), F && (KN(O), J(O.states, KN));
          }
        }
        P(E), P(M, !0);
      }), t.each(function(p, v) {
        var y = i.get(v), _ = y.dataIdx, w = y.regionModel;
        QN(e, p, v, w, o, _), eB(e, p, v, w, o), tB(e, p, v, w, o);
      }, this);
    }, r.prototype._buildSVG = function(e) {
      var t = e.geo.map, i = e.transformInfoRaw;
      this._svgGroup.x = i.x, this._svgGroup.y = i.y, this._svgGroup.scaleX = i.scaleX, this._svgGroup.scaleY = i.scaleY, this._svgResourceChanged(t) && (this._freeSVG(), this._useSVG(t));
      var a = this._svgDispatcherMap = Pt(), n = !1;
      J(this._svgGraphicRecord.named, function(o) {
        var s = o.name, l = e.mapOrGeoModel, u = e.data, c = o.svgNodeTagLower, f = o.el, d = u ? u.indexOfName(s) : null, p = l.getRegionModel(s);
        vwe.get(c) != null && f instanceof cs && ZN(e, f, d, p), f instanceof cs && (f.culling = !0);
        var v = p.get("silent", !0);
        if (v != null && (f.silent = v), f.z2EmphasisLift = 0, !o.namedFrom && (mwe.get(c) != null && JN(e, f, s, p, l, d, null), QN(e, f, s, p, l, d), eB(e, f, s, p, l), gwe.get(c) != null)) {
          var y = tB(e, f, s, p, l);
          y === "self" && (n = !0);
          var _ = a.get(s) || a.set(s, []);
          _.push(f);
        }
      }, this), this._enableBlurEntireSVG(n, e);
    }, r.prototype._enableBlurEntireSVG = function(e, t) {
      if (e && t.isGeo) {
        var i = t.mapOrGeoModel.getModel(["blur", "itemStyle"]).getItemStyle(), a = i.opacity;
        this._svgGraphicRecord.root.traverse(function(n) {
          if (!n.isGroup) {
            ed(n);
            var o = n.ensureState("blur").style || {};
            o.opacity == null && a != null && (o.opacity = a), n.ensureState("emphasis");
          }
        });
      }
    }, r.prototype.remove = function() {
      this._regionsGroup.removeAll(), this._regionsGroupByName = null, this._svgGroup.removeAll(), this._freeSVG(), this._controller.dispose(), this._controllerHost = null;
    }, r.prototype.findHighDownDispatchers = function(e, t) {
      if (e == null)
        return [];
      var i = t.coordinateSystem;
      if (i.resourceType === "geoJSON") {
        var a = this._regionsGroupByName;
        if (a) {
          var n = a.get(e);
          return n ? [n] : [];
        }
      } else if (i.resourceType === "geoSVG")
        return this._svgDispatcherMap && this._svgDispatcherMap.get(e) || [];
    }, r.prototype._svgResourceChanged = function(e) {
      return this._svgMapName !== e;
    }, r.prototype._useSVG = function(e) {
      var t = Hu.getGeoResource(e);
      if (t && t.type === "geoSVG") {
        var i = t.useGraphic(this.uid);
        this._svgGroup.add(i.root), this._svgGraphicRecord = i, this._svgMapName = e;
      }
    }, r.prototype._freeSVG = function() {
      var e = this._svgMapName;
      if (e != null) {
        var t = Hu.getGeoResource(e);
        t && t.type === "geoSVG" && t.freeGraphic(this.uid), this._svgGraphicRecord = null, this._svgDispatcherMap = null, this._svgGroup.removeAll(), this._svgMapName = null;
      }
    }, r.prototype._updateController = function(e, t, i, a) {
      var n = e.coordinateSystem, o = this._controller, s = this._controllerHost;
      s.zoomLimit = e.get("scaleLimit"), s.zoom = n.getZoom(), o.enable(e.get("roam") || !1, {
        api: a,
        zInfo: {
          component: e
        },
        triggerInfo: {
          roamTrigger: e.get("roamTrigger"),
          isInSelf: function(c, f, d) {
            return n.containPoint([f, d]);
          },
          isInClip: function(c, f, d) {
            return !t || t.contain(f, d);
          }
        }
      });
      var l = e.mainType;
      function u() {
        var c = {
          type: "geoRoam",
          componentType: l
        };
        return c[l + "Id"] = e.id, c;
      }
      o.off("pan").on("pan", function(c) {
        this._mouseDownFlag = !1, ek(s, c.dx, c.dy), a.dispatchAction($e(u(), {
          dx: c.dx,
          dy: c.dy,
          animation: {
            duration: 0
          }
        }));
      }, this), o.off("zoom").on("zoom", function(c) {
        this._mouseDownFlag = !1, tk(s, c.scale, c.originX, c.originY), a.dispatchAction($e(u(), {
          totalZoom: s.zoom,
          zoom: c.scale,
          originX: c.originX,
          originY: c.originY,
          animation: {
            duration: 0
          }
        }));
      }, this);
    }, r.prototype.resetForLabelLayout = function() {
      this.group.traverse(function(e) {
        var t = e.getTextContent();
        t && (t.ignore = wK(t).ignore);
      });
    }, r.prototype._updateMapSelectHandler = function(e, t, i, a) {
      var n = this;
      t.off("mousedown"), t.off("click"), e.get("selectedMode") && (t.on("mousedown", function() {
        n._mouseDownFlag = !0;
      }), t.on("click", function(o) {
        n._mouseDownFlag && (n._mouseDownFlag = !1);
      }));
    }, r;
  }()
);
function ZN(r, e, t, i) {
  var a = i.getModel("itemStyle"), n = i.getModel(["emphasis", "itemStyle"]), o = i.getModel(["blur", "itemStyle"]), s = i.getModel(["select", "itemStyle"]), l = h2(a), u = h2(n), c = h2(s), f = h2(o), d = r.data;
  if (d) {
    var p = d.getItemVisual(t, "style"), v = d.getItemVisual(t, "decal");
    r.isVisualEncodedByVisualMap && p.fill && (l.fill = p.fill), v && (l.decal = h0(v, r.api));
  }
  e.setStyle(l), e.style.strokeNoScale = !0, e.ensureState("emphasis").style = u, e.ensureState("select").style = c, e.ensureState("blur").style = f, ed(e);
}
function JN(r, e, t, i, a, n, o) {
  var s = r.data, l = r.isGeo, u = s && isNaN(s.get(s.mapDimension("value"), n)), c = s && s.getItemLayout(n);
  if (l || u || c && c.showLabel) {
    var f = l ? t : n, d = void 0;
    (!s || n >= 0) && (d = a);
    var p = o ? {
      normal: {
        align: "center",
        verticalAlign: "middle"
      }
    } : null;
    ea(e, zi(i), {
      labelFetcher: d,
      labelDataIndex: f,
      defaultText: t
    }, p);
    var v = e.getTextContent();
    if (v && (wK(v).ignore = v.ignore, e.textConfig && o)) {
      var y = e.getBoundingRect().clone();
      e.textConfig.layoutRect = y, e.textConfig.position = [(o[0] - y.x) / y.width * 100 + "%", (o[1] - y.y) / y.height * 100 + "%"];
    }
    e.disableLabelAnimation = !0;
  } else
    e.removeTextContent(), e.removeTextConfig(), e.disableLabelAnimation = null;
}
function QN(r, e, t, i, a, n) {
  r.data ? r.data.setItemGraphicEl(n, e) : er(e).eventData = {
    componentType: "geo",
    componentIndex: a.componentIndex,
    geoIndex: a.componentIndex,
    name: t,
    region: i && i.option || {}
  };
}
function eB(r, e, t, i, a) {
  r.data || nc({
    el: e,
    componentModel: a,
    itemName: t,
    // @ts-ignore FIXME:TS fix the "compatible with each other"?
    itemTooltipOption: i.get("tooltip")
  });
}
function tB(r, e, t, i, a) {
  e.highDownSilentOnTouch = !!a.get("selectedMode");
  var n = i.getModel("emphasis"), o = n.get("focus");
  return Wn(e, o, n.get("blurScope"), n.get("disabled")), r.isGeo && lpe(e, a, t), o;
}
function rB(r, e, t) {
  var i = [], a;
  function n() {
    a = [];
  }
  function o() {
    a.length && (i.push(a), a = []);
  }
  var s = e({
    polygonStart: n,
    polygonEnd: o,
    lineStart: n,
    lineEnd: o,
    point: function(l, u) {
      isFinite(l) && isFinite(u) && a.push([l, u]);
    },
    sphere: function() {
    }
  });
  return !t && s.polygonStart(), J(r, function(l) {
    s.lineStart();
    for (var u = 0; u < l.length; u++)
      s.point(l[u][0], l[u][1]);
    s.lineEnd();
  }), !t && s.polygonEnd(), i;
}
const SK = ywe;
var _we = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i, a, n) {
      if (!(n && n.type === "mapToggleSelect" && n.from === this.uid)) {
        var o = this.group;
        if (o.removeAll(), !t.getHostGeoModel()) {
          if (this._mapDraw && n && n.type === "geoRoam" && this._mapDraw.resetForLabelLayout(), n && n.type === "geoRoam" && n.componentType === "series" && n.seriesId === t.id) {
            var s = this._mapDraw;
            s && o.add(s.group);
          } else if (t.needsDrawMap) {
            var s = this._mapDraw || new SK(a);
            o.add(s.group), s.draw(t, i, a, this, n), this._mapDraw = s;
          } else
            this._mapDraw && this._mapDraw.remove(), this._mapDraw = null;
          t.get("showLegendSymbol") && i.getComponent("legend") && this._renderSymbols(t, i, a);
        }
      }
    }, e.prototype.remove = function() {
      this._mapDraw && this._mapDraw.remove(), this._mapDraw = null, this.group.removeAll();
    }, e.prototype.dispose = function() {
      this._mapDraw && this._mapDraw.remove(), this._mapDraw = null;
    }, e.prototype._renderSymbols = function(t, i, a) {
      var n = t.originalData, o = this.group;
      n.each(n.mapDimension("value"), function(s, l) {
        if (!isNaN(s)) {
          var u = n.getItemLayout(l);
          if (!(!u || !u.point)) {
            var c = u.point, f = u.offset, d = new rc({
              style: {
                // Because the special of map draw.
                // Which needs statistic of multiple series and draw on one map.
                // And each series also need a symbol with legend color
                //
                // Layout and visual are put one the different data
                // TODO
                fill: t.getData().getVisual("style").fill
              },
              shape: {
                cx: c[0] + f * 9,
                cy: c[1],
                r: 3
              },
              silent: !0,
              // Do not overlap the first series, on which labels are displayed.
              z2: 8 + (f ? 0 : R0 + 1)
            });
            if (!f) {
              var p = t.mainSeries.getData(), v = n.getName(l), y = p.indexOfName(v), _ = n.getItemModel(l), w = _.getModel("label"), S = p.getItemGraphicEl(y);
              ea(d, zi(_), {
                labelFetcher: {
                  getFormattedLabel: function(x, E) {
                    return t.getFormattedLabel(y, E);
                  }
                },
                defaultText: v
              }), d.disableLabelAnimation = !0, w.get("position") || d.setTextConfig({
                position: "bottom"
              }), S.onHoverStateChange = function(x) {
                q_(d, x);
              };
            }
            o.add(d);
          }
        }
      });
    }, e.type = "map", e;
  }(gn)
);
const bwe = _we;
var wwe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.needsDrawMap = !1, t.seriesGroup = [], t.getTooltipPosition = function(i) {
        if (i != null) {
          var a = this.getData().getName(i), n = this.coordinateSystem, o = n.getRegion(a);
          return o && n.dataToPoint(o.getCenter());
        }
      }, t;
    }
    return e.prototype.getInitialData = function(t) {
      for (var i = j0(this, {
        coordDimensions: ["value"],
        encodeDefaulter: fr(vD, this)
      }), a = Pt(), n = [], o = 0, s = i.count(); o < s; o++) {
        var l = i.getName(o);
        a.set(l, o);
      }
      var u = Hu.load(this.getMapType(), this.option.nameMap, this.option.nameProperty);
      return J(u.regions, function(c) {
        var f = c.name, d = a.get(f), p = c.properties && c.properties.echartsStyle, v;
        d == null ? (v = {
          name: f
        }, n.push(v)) : v = i.getRawDataItem(d), p && gr(v, p);
      }), i.appendData(n), i;
    }, e.prototype.getHostGeoModel = function() {
      if (oj(this).kind !== gl.boxCoordSys)
        return this.getReferringComponents("geo", {
          useDefault: !1,
          enableAll: !1,
          enableNone: !1
        }).models[0];
    }, e.prototype.getMapType = function() {
      return (this.getHostGeoModel() || this).option.map;
    }, e.prototype.getRawValue = function(t) {
      var i = this.getData();
      return i.get(i.mapDimension("value"), t);
    }, e.prototype.getRegionModel = function(t) {
      var i = this.getData();
      return i.getItemModel(i.indexOfName(t));
    }, e.prototype.formatTooltip = function(t, i, a) {
      for (var n = this.getData(), o = this.getRawValue(t), s = n.getName(t), l = this.seriesGroup, u = [], c = 0; c < l.length; c++) {
        var f = l[c].originalData.indexOfName(s), d = n.mapDimension("value");
        isNaN(l[c].originalData.get(d, f)) || u.push(l[c].name);
      }
      return Pi("section", {
        header: u.join(", "),
        noHeader: !u.length,
        blocks: [Pi("nameValue", {
          name: s,
          value: o
        })]
      });
    }, e.prototype.setZoom = function(t) {
      this.option.zoom = t;
    }, e.prototype.setCenter = function(t) {
      this.option.center = t;
    }, e.prototype.getLegendIcon = function(t) {
      var i = t.icon || "roundRect", a = Si(i, 0, 0, t.itemWidth, t.itemHeight, t.itemStyle.fill);
      return a.setStyle(t.itemStyle), a.style.stroke = "none", i.indexOf("empty") > -1 && (a.style.stroke = a.style.fill, a.style.fill = Ve.color.neutral00, a.style.lineWidth = 2), a;
    }, e.type = "series.map", e.dependencies = ["geo"], e.layoutMode = "box", e.defaultOption = {
      // 
      // zlevel: 0,
      // 
      z: 2,
      coordinateSystem: "geo",
      // map should be explicitly specified since ec3.
      map: "",
      // If `geoIndex` is not specified, a exclusive geo will be
      // created. Otherwise use the specified geo component, and
      // `map` and `mapType` are ignored.
      // geoIndex: 0,
      // 'center' | 'left' | 'right' | 'x%' | {number}
      left: "center",
      // 'center' | 'top' | 'bottom' | 'x%' | {number}
      top: "center",
      // right
      // bottom
      // width:
      // height
      // Aspect is width / height. Inited to be geoJson bbox aspect
      // This parameter is used for scale this aspect
      // Default value:
      // for geoSVG source: 1,
      // for geoJSON source: 0.75.
      aspectScale: null,
      // Layout with center and size
      // If you want to put map in a fixed size box with right aspect ratio
      // This two properties may be more convenient.
      // layoutCenter: [50%, 50%]
      // layoutSize: 100
      showLegendSymbol: !0,
      // Define left-top, right-bottom coords to control view
      // For example, [ [180, 90], [-180, -90] ],
      // higher priority than center and zoom
      boundingCoords: null,
      // Default on center of map
      center: null,
      zoom: 1,
      scaleLimit: null,
      selectedMode: !0,
      label: {
        show: !1,
        color: Ve.color.tertiary
      },
      // scaleLimit: null,
      itemStyle: {
        borderWidth: 0.5,
        borderColor: Ve.color.border,
        areaColor: Ve.color.background
      },
      emphasis: {
        label: {
          show: !0,
          color: Ve.color.primary
        },
        itemStyle: {
          areaColor: Ve.color.highlight
        }
      },
      select: {
        label: {
          show: !0,
          color: Ve.color.primary
        },
        itemStyle: {
          color: Ve.color.highlight
        }
      },
      nameProperty: "name"
    }, e;
  }(En)
);
const Swe = wwe;
function xwe(r, e) {
  var t = {};
  return J(r, function(i) {
    i.each(i.mapDimension("value"), function(a, n) {
      var o = "ec-" + i.getName(n);
      t[o] = t[o] || [], isNaN(a) || t[o].push(a);
    });
  }), r[0].map(r[0].mapDimension("value"), function(i, a) {
    for (var n = "ec-" + r[0].getName(a), o = 0, s = 1 / 0, l = -1 / 0, u = t[n].length, c = 0; c < u; c++)
      s = Math.min(s, t[n][c]), l = Math.max(l, t[n][c]), o += t[n][c];
    var f;
    return e === "min" ? f = s : e === "max" ? f = l : e === "average" ? f = o / u : f = o, u === 0 ? NaN : f;
  });
}
function Twe(r) {
  var e = {};
  r.eachSeriesByType("map", function(t) {
    var i = t.getHostGeoModel(), a = i ? "o" + i.id : "i" + t.getMapType();
    (e[a] = e[a] || []).push(t);
  }), J(e, function(t, i) {
    for (var a = xwe(Je(t, function(o) {
      return o.getData();
    }), t[0].get("mapValueCalculation")), n = 0; n < t.length; n++)
      t[n].originalData = t[n].getData();
    for (var n = 0; n < t.length; n++)
      t[n].seriesGroup = t, t[n].needsDrawMap = n === 0 && !t[n].getHostGeoModel(), t[n].setData(a.cloneShallow()), t[n].mainSeries = t[0];
  });
}
function Cwe(r) {
  var e = {};
  r.eachSeriesByType("map", function(t) {
    var i = t.getMapType();
    if (!(t.getHostGeoModel() || e[i])) {
      var a = {};
      J(t.seriesGroup, function(o) {
        var s = o.coordinateSystem, l = o.originalData;
        o.get("showLegendSymbol") && r.getComponent("legend") && l.each(l.mapDimension("value"), function(u, c) {
          var f = l.getName(c), d = s.getRegion(f);
          if (!(!d || isNaN(u))) {
            var p = a[f] || 0, v = s.dataToPoint(d.getCenter());
            a[f] = p + 1, l.setItemLayout(c, {
              point: v,
              offset: p
            });
          }
        });
      });
      var n = t.getData();
      n.each(function(o) {
        var s = n.getName(o), l = n.getItemLayout(o) || {};
        l.showLabel = !a[s], n.setItemLayout(o, l);
      }), e[i] = !0;
    }
  });
}
var nB = li, Awe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i) {
      var a = r.call(this) || this;
      return a.type = "view", a.dimensions = ["x", "y"], a._roamTransformable = new _u(), a._rawTransformable = new _u(), a.name = t, a._opt = i, a;
    }
    return e.prototype.setBoundingRect = function(t, i, a, n) {
      return this._rect = new Jt(t, i, a, n), this._updateCenterAndZoom(), this._rect;
    }, e.prototype.getBoundingRect = function() {
      return this._rect;
    }, e.prototype.setViewRect = function(t, i, a, n) {
      this._transformTo(t, i, a, n), this._viewRect = new Jt(t, i, a, n);
    }, e.prototype._transformTo = function(t, i, a, n) {
      var o = this.getBoundingRect(), s = this._rawTransformable;
      s.transform = o.calculateTransform(new Jt(t, i, a, n));
      var l = s.parent;
      s.parent = null, s.decomposeTransform(), s.parent = l, this._updateTransform();
    }, e.prototype.setCenter = function(t) {
      var i = this._opt;
      i && i.api && i.ecModel && i.ecModel.getShallow("legacyViewCoordSysCenterBase") && t && (t = [gt(t[0], i.api.getWidth()), gt(t[1], i.api.getWidth())]), this._centerOption = Gt(t), this._updateCenterAndZoom();
    }, e.prototype.setZoom = function(t) {
      this._zoom = rk(t || 1, this.zoomLimit), this._updateCenterAndZoom();
    }, e.prototype.getDefaultCenter = function() {
      var t = this.getBoundingRect(), i = t.x + t.width / 2, a = t.y + t.height / 2;
      return [i, a];
    }, e.prototype.getCenter = function() {
      return this._center || this.getDefaultCenter();
    }, e.prototype.getZoom = function() {
      return this._zoom || 1;
    }, e.prototype.getRoamTransform = function() {
      return this._roamTransformable.getLocalTransform();
    }, e.prototype._updateCenterAndZoom = function() {
      var t = this._centerOption, i = this._rect;
      t && i && (this._center = [gt(t[0], i.width, i.x), gt(t[1], i.height, i.y)]);
      var a = this._rawTransformable.getLocalTransform(), n = this._roamTransformable, o = this.getDefaultCenter(), s = this.getCenter(), l = this.getZoom();
      s = li([], s, a), o = li([], o, a), n.originX = s[0], n.originY = s[1], n.x = o[0] - s[0], n.y = o[1] - s[1], n.scaleX = n.scaleY = l, this._updateTransform();
    }, e.prototype._updateTransform = function() {
      var t = this._roamTransformable, i = this._rawTransformable;
      i.parent = t, t.updateTransform(), i.updateTransform(), J1(this.transform || (this.transform = []), i.transform || Ji()), this._rawTransform = i.getLocalTransform(), this.invTransform = this.invTransform || [], us(this.invTransform, this.transform), this.decomposeTransform();
    }, e.prototype.getTransformInfo = function() {
      var t = this._rawTransformable, i = this._roamTransformable, a = new _u();
      return a.transform = i.transform, a.decomposeTransform(), {
        roam: {
          x: a.x,
          y: a.y,
          scaleX: a.scaleX,
          scaleY: a.scaleY
        },
        raw: {
          x: t.x,
          y: t.y,
          scaleX: t.scaleX,
          scaleY: t.scaleY
        }
      };
    }, e.prototype.getViewRect = function() {
      return this._viewRect;
    }, e.prototype.getViewRectAfterRoam = function() {
      var t = this.getBoundingRect().clone();
      return t.applyTransform(this.transform), t;
    }, e.prototype.dataToPoint = function(t, i, a) {
      var n = i ? this._rawTransform : this.transform;
      return a = a || [], n ? nB(a, t, n) : Oa(a, t);
    }, e.prototype.pointToData = function(t, i, a) {
      a = a || [];
      var n = this.invTransform;
      return n ? nB(a, t, n) : (a[0] = t[0], a[1] = t[1], a);
    }, e.prototype.convertToPixel = function(t, i, a) {
      var n = iB(i);
      return n === this ? n.dataToPoint(a) : null;
    }, e.prototype.convertFromPixel = function(t, i, a) {
      var n = iB(i);
      return n === this ? n.pointToData(a) : null;
    }, e.prototype.containPoint = function(t) {
      return this.getViewRectAfterRoam().contain(t[0], t[1]);
    }, e.dimensions = ["x", "y"], e;
  }(_u)
);
function iB(r) {
  var e = r.seriesModel;
  return e ? e.coordinateSystem : null;
}
const Md = Awe;
var Ewe = {
  geoJSON: {
    aspectScale: 0.75,
    invertLongitute: !0
  },
  geoSVG: {
    aspectScale: 1,
    invertLongitute: !1
  }
}, xK = ["lng", "lat"], TK = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i, a) {
      var n = r.call(this, t, {
        api: a.api,
        ecModel: a.ecModel
      }) || this;
      n.dimensions = xK, n.type = "geo", n._nameCoordMap = Pt(), n.map = i;
      var o = a.projection, s = Hu.load(i, a.nameMap, a.nameProperty), l = Hu.getGeoResource(i), u = n.resourceType = l ? l.type : null, c = n.regions = s.regions, f = Ewe[l.type];
      n._regionsMap = s.regionsMap, n.regions = s.regions, process.env.NODE_ENV !== "production" && o && (u === "geoSVG" && (process.env.NODE_ENV !== "production" && Yn("Map " + i + " with SVG source can't use projection. Only GeoJSON source supports projection."), o = null), o.project && o.unproject || (process.env.NODE_ENV !== "production" && Yn("project and unproject must be both provided in the projeciton."), o = null)), n.projection = o;
      var d;
      if (o)
        for (var p = 0; p < c.length; p++) {
          var v = c[p].getBoundingRect(o);
          d = d || v.clone(), d.union(v);
        }
      else
        d = s.boundingRect;
      return n.setBoundingRect(d.x, d.y, d.width, d.height), n.aspectScale = o ? 1 : It(a.aspectScale, f.aspectScale), n._invertLongitute = o ? !1 : f.invertLongitute, n;
    }
    return e.prototype._transformTo = function(t, i, a, n) {
      var o = this.getBoundingRect(), s = this._invertLongitute;
      o = o.clone(), s && (o.y = -o.y - o.height);
      var l = this._rawTransformable;
      l.transform = o.calculateTransform(new Jt(t, i, a, n));
      var u = l.parent;
      l.parent = null, l.decomposeTransform(), l.parent = u, s && (l.scaleY = -l.scaleY), this._updateTransform();
    }, e.prototype.getRegion = function(t) {
      return this._regionsMap.get(t);
    }, e.prototype.getRegionByCoord = function(t) {
      for (var i = this.regions, a = 0; a < i.length; a++) {
        var n = i[a];
        if (n.type === "geoJSON" && n.contain(t))
          return i[a];
      }
    }, e.prototype.addGeoCoord = function(t, i) {
      this._nameCoordMap.set(t, i);
    }, e.prototype.getGeoCoord = function(t) {
      var i = this._regionsMap.get(t);
      return this._nameCoordMap.get(t) || i && i.getCenter();
    }, e.prototype.dataToPoint = function(t, i, a) {
      if (vt(t) && (t = this.getGeoCoord(t)), t) {
        var n = this.projection;
        return n && (t = n.project(t)), t && this.projectedToPoint(t, i, a);
      }
    }, e.prototype.pointToData = function(t, i, a) {
      var n = this.projection;
      return n && (t = n.unproject(t)), t && this.pointToProjected(t, a);
    }, e.prototype.pointToProjected = function(t, i) {
      return r.prototype.pointToData.call(this, t, 0, i);
    }, e.prototype.projectedToPoint = function(t, i, a) {
      return r.prototype.dataToPoint.call(this, t, i, a);
    }, e.prototype.convertToPixel = function(t, i, a) {
      var n = aB(i);
      return n === this ? n.dataToPoint(a) : null;
    }, e.prototype.convertFromPixel = function(t, i, a) {
      var n = aB(i);
      return n === this ? n.pointToData(a) : null;
    }, e;
  }(Md)
);
ci(TK, Md);
function aB(r) {
  var e = r.geoModel, t = r.seriesModel;
  return e ? e.coordinateSystem : t ? t.coordinateSystem || (t.getReferringComponents("geo", ri).models[0] || {}).coordinateSystem : null;
}
const oB = TK;
function sB(r, e) {
  var t = r.get("boundingCoords");
  if (t != null) {
    var i = t[0], a = t[1];
    if (!(isFinite(i[0]) && isFinite(i[1]) && isFinite(a[0]) && isFinite(a[1])))
      process.env.NODE_ENV !== "production" && console.error("Invalid boundingCoords");
    else {
      var n = this.projection;
      if (n) {
        var o = i[0], s = i[1], l = a[0], u = a[1];
        i = [1 / 0, 1 / 0], a = [-1 / 0, -1 / 0];
        var c = function(M, k, P, L) {
          for (var F = P - M, O = L - k, U = 0; U <= 100; U++) {
            var V = U / 100, G = n.project([M + F * V, k + O * V]);
            mu(i, i, G), yu(a, a, G);
          }
        };
        c(o, s, l, s), c(l, s, l, u), c(l, u, o, u), c(o, u, l, s);
      }
      this.setBoundingRect(i[0], i[1], a[0] - i[0], a[1] - i[1]);
    }
  }
  var f = this.getBoundingRect(), d = r.get("layoutCenter"), p = r.get("layoutSize"), v = Wi(r, e).refContainer, y = f.width / f.height * this.aspectScale, _ = !1, w, S;
  d && p && (w = [gt(d[0], v.width) + v.x, gt(d[1], v.height) + v.y], S = gt(p, Math.min(v.width, v.height)), !isNaN(w[0]) && !isNaN(w[1]) && !isNaN(S) ? _ = !0 : process.env.NODE_ENV !== "production" && console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead."));
  var x;
  if (_)
    x = {}, y > 1 ? (x.width = S, x.height = S / y) : (x.height = S, x.width = S * y), x.y = w[1] - x.height / 2, x.x = w[0] - x.width / 2;
  else {
    var E = r.getBoxLayoutParams();
    E.aspect = y, x = Bn(E, v), x = hj(r, x, y);
  }
  this.setViewRect(x.x, x.y, x.width, x.height), this.setCenter(r.get("center")), this.setZoom(r.get("zoom"));
}
function Dwe(r, e) {
  J(e.get("geoCoord"), function(t, i) {
    r.addGeoCoord(i, t);
  });
}
var kwe = (
  /** @class */
  function() {
    function r() {
      this.dimensions = xK;
    }
    return r.prototype.create = function(e, t) {
      var i = [];
      function a(o) {
        return {
          nameProperty: o.get("nameProperty"),
          aspectScale: o.get("aspectScale"),
          projection: o.get("projection")
        };
      }
      e.eachComponent("geo", function(o, s) {
        var l = o.get("map"), u = new oB(l + s, l, $e({
          nameMap: o.get("nameMap"),
          api: t,
          ecModel: e
        }, a(o)));
        u.zoomLimit = o.get("scaleLimit"), i.push(u), o.coordinateSystem = u, u.model = o, u.resize = sB, u.resize(o, t);
      }), e.eachSeries(function(o) {
        sm({
          targetModel: o,
          coordSysType: "geo",
          coordSysProvider: function() {
            var s = o.subType === "map" ? o.getHostGeoModel() : o.getReferringComponents("geo", ri).models[0];
            return s && s.coordinateSystem;
          },
          allowNotFound: !0
        });
      });
      var n = {};
      return e.eachSeriesByType("map", function(o) {
        if (!o.getHostGeoModel()) {
          var s = o.getMapType();
          n[s] = n[s] || [], n[s].push(o);
        }
      }), J(n, function(o, s) {
        var l = Je(o, function(c) {
          return c.get("nameMap");
        }), u = new oB(s, s, $e({
          nameMap: oS(l),
          api: t,
          ecModel: e
        }, a(o[0])));
        u.zoomLimit = Di.apply(null, Je(o, function(c) {
          return c.get("scaleLimit");
        })), i.push(u), u.resize = sB, u.resize(o[0], t), J(o, function(c) {
          c.coordinateSystem = u, Dwe(u, c);
        });
      }), i;
    }, r.prototype.getFilledRegions = function(e, t, i, a) {
      for (var n = (e || []).slice(), o = Pt(), s = 0; s < n.length; s++)
        o.set(n[s].name, n[s]);
      var l = Hu.load(t, i, a);
      return J(l.regions, function(u) {
        var c = u.name, f = o.get(c), d = u.properties && u.properties.echartsStyle;
        f || (f = {
          name: c
        }, n.push(f)), d && gr(f, d);
      }), n;
    }, r;
  }()
), Mwe = new kwe();
const CK = Mwe;
var Iwe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.init = function(t, i, a) {
      this.mergeDefaultAndTheme(t, a);
      var n = Hu.getGeoResource(t.map);
      if (n && n.type === "geoJSON") {
        var o = t.itemStyle = t.itemStyle || {};
        "color" in o || (o.color = t.defaultItemStyleColor || Ve.color.backgroundTint);
      }
      Zf(t, "label", ["show"]);
    }, e.prototype.optionUpdated = function() {
      var t = this, i = this.option;
      i.regions = CK.getFilledRegions(i.regions, i.map, i.nameMap, i.nameProperty);
      var a = {};
      this._optionModelMap = ls(i.regions || [], function(n, o) {
        var s = o.name;
        return s && (n.set(s, new Vr(o, t, t.ecModel)), o.selected && (a[s] = !0)), n;
      }, Pt()), i.selectedMap || (i.selectedMap = a);
    }, e.prototype.getRegionModel = function(t) {
      return this._optionModelMap.get(t) || new Vr(null, this, this.ecModel);
    }, e.prototype.getFormattedLabel = function(t, i) {
      var a = this.getRegionModel(t), n = i === "normal" ? a.get(["label", "formatter"]) : a.get(["emphasis", "label", "formatter"]), o = {
        name: t
      };
      if (Bt(n))
        return o.status = i, n(o);
      if (vt(n))
        return n.replace("{a}", t ?? "");
    }, e.prototype.setZoom = function(t) {
      this.option.zoom = t;
    }, e.prototype.setCenter = function(t) {
      this.option.center = t;
    }, e.prototype.select = function(t) {
      var i = this.option, a = i.selectedMode;
      if (a) {
        a !== "multiple" && (i.selectedMap = null);
        var n = i.selectedMap || (i.selectedMap = {});
        n[t] = !0;
      }
    }, e.prototype.unSelect = function(t) {
      var i = this.option.selectedMap;
      i && (i[t] = !1);
    }, e.prototype.toggleSelected = function(t) {
      this[this.isSelected(t) ? "unSelect" : "select"](t);
    }, e.prototype.isSelected = function(t) {
      var i = this.option.selectedMap;
      return !!(i && i[t]);
    }, e.type = "geo", e.layoutMode = "box", e.defaultOption = {
      // zlevel: 0,
      z: 0,
      show: !0,
      left: "center",
      top: "center",
      // Default value:
      // for geoSVG source: 1,
      // for geoJSON source: 0.75.
      aspectScale: null,
      // /// Layout with center and size
      // If you want to put map in a fixed size box with right aspect ratio
      // This two properties may be more convenient
      // layoutCenter: [50%, 50%]
      // layoutSize: 100
      silent: !1,
      // Map type
      map: "",
      // Define left-top, right-bottom coords to control view
      // For example, [ [180, 90], [-180, -90] ]
      boundingCoords: null,
      // Default on center of map
      center: null,
      zoom: 1,
      scaleLimit: null,
      // selectedMode: false
      label: {
        show: !1,
        color: Ve.color.tertiary
      },
      itemStyle: {
        borderWidth: 0.5,
        borderColor: Ve.color.border
      },
      emphasis: {
        label: {
          show: !0,
          color: Ve.color.primary
        },
        itemStyle: {
          color: Ve.color.highlight
        }
      },
      select: {
        label: {
          show: !0,
          color: Ve.color.primary
        },
        itemStyle: {
          color: Ve.color.highlight
        }
      },
      regions: []
      // tooltip: {
      //     show: false
      // }
    }, e;
  }(Rr)
);
const Pwe = Iwe;
var Rwe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.focusBlurEnabled = !0, t;
    }
    return e.prototype.init = function(t, i) {
      this._api = i;
    }, e.prototype.render = function(t, i, a, n) {
      if (this._model = t, !t.get("show")) {
        this._mapDraw && this._mapDraw.remove(), this._mapDraw = null;
        return;
      }
      this._mapDraw || (this._mapDraw = new SK(a));
      var o = this._mapDraw;
      o.draw(t, i, a, this, n), o.group.on("click", this._handleRegionClick, this), o.group.silent = t.get("silent"), this.group.add(o.group), this.updateSelectStatus(t, i, a);
    }, e.prototype._handleRegionClick = function(t) {
      var i;
      Lf(t.target, function(a) {
        return (i = er(a).eventData) != null;
      }, !0), i && this._api.dispatchAction({
        type: "geoToggleSelect",
        geoId: this._model.id,
        name: i.name
      });
    }, e.prototype.updateSelectStatus = function(t, i, a) {
      var n = this;
      this._mapDraw.group.traverse(function(o) {
        var s = er(o).eventData;
        if (s)
          return n._model.isSelected(s.name) ? a.enterSelect(o) : a.leaveSelect(o), !0;
      });
    }, e.prototype.findHighDownDispatchers = function(t) {
      return this._mapDraw && this._mapDraw.findHighDownDispatchers(t, this._model);
    }, e.prototype.dispose = function() {
      this._mapDraw && this._mapDraw.remove();
    }, e.type = "geo", e;
  }(Pn)
);
const Lwe = Rwe;
function Owe(r, e, t) {
  Hu.registerMap(r, e, t);
}
function AK(r) {
  r.registerCoordinateSystem("geo", CK), r.registerComponentModel(Pwe), r.registerComponentView(Lwe), r.registerImpl("registerMap", Owe), r.registerImpl("getMap", function(t) {
    return Hu.getMapForUser(t);
  });
  function e(t, i) {
    i.update = "geo:updateSelectStatus", r.registerAction(i, function(a, n) {
      var o = {}, s = [];
      return n.eachComponent({
        mainType: "geo",
        query: a
      }, function(l) {
        l[t](a.name);
        var u = l.coordinateSystem;
        J(u.regions, function(f) {
          o[f.name] = l.isSelected(f.name) || !1;
        });
        var c = [];
        J(o, function(f, d) {
          o[d] && c.push(d);
        }), s.push({
          geoIndex: l.componentIndex,
          // Use singular, the same naming convention as the event `selectchanged`.
          name: c
        });
      }), {
        selected: o,
        allSelected: s,
        name: a.name
      };
    });
  }
  e("toggleSelected", {
    type: "geoToggleSelect",
    event: "geoselectchanged"
  }), e("select", {
    type: "geoSelect",
    event: "geoselected"
  }), e("unSelect", {
    type: "geoUnSelect",
    event: "geounselected"
  }), r.registerAction({
    type: "geoRoam",
    event: "geoRoam",
    update: "updateTransform"
  }, function(t, i, a) {
    var n = t.componentType;
    n || (t.geoId != null ? n = "geo" : t.seriesId != null && (n = "series")), n || (n = "series"), i.eachComponent({
      mainType: n,
      query: t
    }, function(o) {
      var s = o.coordinateSystem;
      if (s.type === "geo") {
        var l = VS(s, t, o.get("scaleLimit"));
        o.setCenter && o.setCenter(l.center), o.setZoom && o.setZoom(l.zoom), n === "series" && J(o.seriesGroup, function(u) {
          u.setCenter(l.center), u.setZoom(l.zoom);
        });
      }
    });
  });
}
function Fwe(r) {
  _r(AK), r.registerChartView(bwe), r.registerSeriesModel(Swe), r.registerLayout(Cwe), r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC, Twe), rq("map", r.registerAction);
}
function Nwe(r) {
  var e = r;
  e.hierNode = {
    defaultAncestor: null,
    ancestor: e,
    prelim: 0,
    modifier: 0,
    change: 0,
    shift: 0,
    i: 0,
    thread: null
  };
  for (var t = [e], i, a; i = t.pop(); )
    if (a = i.children, i.isExpand && a.length)
      for (var n = a.length, o = n - 1; o >= 0; o--) {
        var s = a[o];
        s.hierNode = {
          defaultAncestor: null,
          ancestor: s,
          prelim: 0,
          modifier: 0,
          change: 0,
          shift: 0,
          i: o,
          thread: null
        }, t.push(s);
      }
}
function Bwe(r, e) {
  var t = r.isExpand ? r.children : [], i = r.parentNode.children, a = r.hierNode.i ? i[r.hierNode.i - 1] : null;
  if (t.length) {
    Uwe(r);
    var n = (t[0].hierNode.prelim + t[t.length - 1].hierNode.prelim) / 2;
    a ? (r.hierNode.prelim = a.hierNode.prelim + e(r, a), r.hierNode.modifier = r.hierNode.prelim - n) : r.hierNode.prelim = n;
  } else
    a && (r.hierNode.prelim = a.hierNode.prelim + e(r, a));
  r.parentNode.hierNode.defaultAncestor = Gwe(r, a, r.parentNode.hierNode.defaultAncestor || i[0], e);
}
function Vwe(r) {
  var e = r.hierNode.prelim + r.parentNode.hierNode.modifier;
  r.setLayout({
    x: e
  }, !0), r.hierNode.modifier += r.parentNode.hierNode.modifier;
}
function lB(r) {
  return arguments.length ? r : Hwe;
}
function Rg(r, e) {
  return r -= Math.PI / 2, {
    x: e * Math.cos(r),
    y: e * Math.sin(r)
  };
}
function Uwe(r) {
  for (var e = r.children, t = e.length, i = 0, a = 0; --t >= 0; ) {
    var n = e[t];
    n.hierNode.prelim += i, n.hierNode.modifier += i, a += n.hierNode.change, i += n.hierNode.shift + a;
  }
}
function Gwe(r, e, t, i) {
  if (e) {
    for (var a = r, n = r, o = n.parentNode.children[0], s = e, l = a.hierNode.modifier, u = n.hierNode.modifier, c = o.hierNode.modifier, f = s.hierNode.modifier; s = S5(s), n = x5(n), s && n; ) {
      a = S5(a), o = x5(o), a.hierNode.ancestor = r;
      var d = s.hierNode.prelim + f - n.hierNode.prelim - u + i(s, n);
      d > 0 && (Wwe(zwe(s, r, t), r, d), u += d, l += d), f += s.hierNode.modifier, u += n.hierNode.modifier, l += a.hierNode.modifier, c += o.hierNode.modifier;
    }
    s && !S5(a) && (a.hierNode.thread = s, a.hierNode.modifier += f - l), n && !x5(o) && (o.hierNode.thread = n, o.hierNode.modifier += u - c, t = r);
  }
  return t;
}
function S5(r) {
  var e = r.children;
  return e.length && r.isExpand ? e[e.length - 1] : r.hierNode.thread;
}
function x5(r) {
  var e = r.children;
  return e.length && r.isExpand ? e[0] : r.hierNode.thread;
}
function zwe(r, e, t) {
  return r.hierNode.ancestor.parentNode === e.parentNode ? r.hierNode.ancestor : t;
}
function Wwe(r, e, t) {
  var i = t / (e.hierNode.i - r.hierNode.i);
  e.hierNode.change -= i, e.hierNode.shift += t, e.hierNode.modifier += t, e.hierNode.prelim += t, r.hierNode.change += i;
}
function Hwe(r, e) {
  return r.parentNode === e.parentNode ? 1 : 2;
}
var $we = (
  /** @class */
  function() {
    function r() {
      this.parentPoint = [], this.childPoints = [];
    }
    return r;
  }()
), Ywe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t) {
      return r.call(this, t) || this;
    }
    return e.prototype.getDefaultStyle = function() {
      return {
        stroke: Ve.color.neutral99,
        fill: null
      };
    }, e.prototype.getDefaultShape = function() {
      return new $we();
    }, e.prototype.buildPath = function(t, i) {
      var a = i.childPoints, n = a.length, o = i.parentPoint, s = a[0], l = a[n - 1];
      if (n === 1) {
        t.moveTo(o[0], o[1]), t.lineTo(s[0], s[1]);
        return;
      }
      var u = i.orient, c = u === "TB" || u === "BT" ? 0 : 1, f = 1 - c, d = gt(i.forkPosition, 1), p = [];
      p[c] = o[c], p[f] = o[f] + (l[f] - o[f]) * d, t.moveTo(o[0], o[1]), t.lineTo(p[0], p[1]), t.moveTo(s[0], s[1]), p[c] = s[c], t.lineTo(p[0], p[1]), p[c] = l[c], t.lineTo(p[0], p[1]), t.lineTo(l[0], l[1]);
      for (var v = 1; v < n - 1; v++) {
        var y = a[v];
        t.moveTo(y[0], y[1]), p[c] = y[c], t.lineTo(p[0], p[1]);
      }
    }, e;
  }(Er)
), jwe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t._mainGroup = new Wt(), t;
    }
    return e.prototype.init = function(t, i) {
      this._controller = new kd(i.getZr()), this._controllerHost = {
        target: this.group
      }, this.group.add(this._mainGroup);
    }, e.prototype.render = function(t, i, a) {
      var n = t.getData(), o = t.layoutInfo, s = this._mainGroup, l = t.get("layout");
      l === "radial" ? (s.x = o.x + o.width / 2, s.y = o.y + o.height / 2) : (s.x = o.x, s.y = o.y), this._updateViewCoordSys(t, a), this._updateController(t, null, i, a);
      var u = this._data;
      n.diff(u).add(function(c) {
        uB(n, c) && cB(n, c, null, s, t);
      }).update(function(c, f) {
        var d = u.getItemGraphicEl(f);
        if (!uB(n, c)) {
          d && fB(u, f, d, s, t);
          return;
        }
        cB(n, c, d, s, t);
      }).remove(function(c) {
        var f = u.getItemGraphicEl(c);
        f && fB(u, c, f, s, t);
      }).execute(), this._nodeScaleRatio = t.get("nodeScaleRatio"), this._updateNodeAndLinkScale(t), t.get("expandAndCollapse") === !0 && n.eachItemGraphicEl(function(c, f) {
        c.off("click").on("click", function() {
          a.dispatchAction({
            type: "treeExpandAndCollapse",
            seriesId: t.id,
            dataIndex: f
          });
        });
      }), this._data = n;
    }, e.prototype._updateViewCoordSys = function(t, i) {
      var a = t.getData(), n = [];
      a.each(function(f) {
        var d = a.getItemLayout(f);
        d && !isNaN(d.x) && !isNaN(d.y) && n.push([+d.x, +d.y]);
      });
      var o = [], s = [];
      mS(n, o, s);
      var l = this._min, u = this._max;
      s[0] - o[0] === 0 && (o[0] = l ? l[0] : o[0] - 1, s[0] = u ? u[0] : s[0] + 1), s[1] - o[1] === 0 && (o[1] = l ? l[1] : o[1] - 1, s[1] = u ? u[1] : s[1] + 1);
      var c = t.coordinateSystem = new Md(null, {
        api: i,
        ecModel: t.ecModel
      });
      c.zoomLimit = t.get("scaleLimit"), c.setBoundingRect(o[0], o[1], s[0] - o[0], s[1] - o[1]), c.setCenter(t.get("center")), c.setZoom(t.get("zoom")), this.group.attr({
        x: c.x,
        y: c.y,
        scaleX: c.scaleX,
        scaleY: c.scaleY
      }), this._min = o, this._max = s;
    }, e.prototype._updateController = function(t, i, a, n) {
      var o = this;
      gK(t, n, this.group, this._controller, this._controllerHost, i), this._controller.on("zoom", function(s) {
        o._updateNodeAndLinkScale(t);
      });
    }, e.prototype._updateNodeAndLinkScale = function(t) {
      var i = t.getData(), a = this._getNodeGlobalScale(t);
      i.eachItemGraphicEl(function(n, o) {
        n.setSymbolScale(a);
      });
    }, e.prototype._getNodeGlobalScale = function(t) {
      var i = t.coordinateSystem;
      if (i.type !== "view")
        return 1;
      var a = this._nodeScaleRatio, n = i.scaleX || 1, o = i.getZoom(), s = (o - 1) * a + 1;
      return s / n;
    }, e.prototype.dispose = function() {
      this._controller && this._controller.dispose(), this._controllerHost = null;
    }, e.prototype.remove = function() {
      this._mainGroup.removeAll(), this._data = null;
    }, e.type = "tree", e;
  }(gn)
);
function uB(r, e) {
  var t = r.getItemLayout(e);
  return t && !isNaN(t.x) && !isNaN(t.y);
}
function cB(r, e, t, i, a) {
  var n = !t, o = r.tree.getNodeByDataIndex(e), s = o.getModel(), l = o.getVisual("style").fill, u = o.isExpand === !1 && o.children.length !== 0 ? l : Ve.color.neutral00, c = r.tree.root, f = o.parentNode === c ? o : o.parentNode || o, d = r.getItemGraphicEl(f.dataIndex), p = f.getLayout(), v = d ? {
    x: d.__oldX,
    y: d.__oldY,
    rawX: d.__radialOldRawX,
    rawY: d.__radialOldRawY
  } : p, y = o.getLayout();
  n ? (t = new cm(r, e, null, {
    symbolInnerColor: u,
    useNameLabel: !0
  }), t.x = v.x, t.y = v.y) : t.updateData(r, e, null, {
    symbolInnerColor: u,
    useNameLabel: !0
  }), t.__radialOldRawX = t.__radialRawX, t.__radialOldRawY = t.__radialRawY, t.__radialRawX = y.rawX, t.__radialRawY = y.rawY, i.add(t), r.setItemGraphicEl(e, t), t.__oldX = t.x, t.__oldY = t.y, Wr(t, {
    x: y.x,
    y: y.y
  }, a);
  var _ = t.getSymbolPath();
  if (a.get("layout") === "radial") {
    var w = c.children[0], S = w.getLayout(), x = w.children.length, E = void 0, M = void 0;
    if (y.x === S.x && o.isExpand === !0 && w.children.length) {
      var k = {
        x: (w.children[0].getLayout().x + w.children[x - 1].getLayout().x) / 2,
        y: (w.children[0].getLayout().y + w.children[x - 1].getLayout().y) / 2
      };
      E = Math.atan2(k.y - S.y, k.x - S.x), E < 0 && (E = Math.PI * 2 + E), M = k.x < S.x, M && (E = E - Math.PI);
    } else
      E = Math.atan2(y.y - S.y, y.x - S.x), E < 0 && (E = Math.PI * 2 + E), o.children.length === 0 || o.children.length !== 0 && o.isExpand === !1 ? (M = y.x < S.x, M && (E = E - Math.PI)) : (M = y.x > S.x, M || (E = E - Math.PI));
    var P = M ? "left" : "right", L = s.getModel("label"), F = L.get("rotate"), O = F * (Math.PI / 180), U = _.getTextContent();
    U && (_.setTextConfig({
      position: L.get("position") || P,
      rotation: F == null ? -E : O,
      origin: "center"
    }), U.setStyle("verticalAlign", "middle"));
  }
  var V = s.get(["emphasis", "focus"]), G = V === "relative" ? n0(o.getAncestorsIndices(), o.getDescendantIndices()) : V === "ancestor" ? o.getAncestorsIndices() : V === "descendant" ? o.getDescendantIndices() : null;
  G && (er(t).focus = G), qwe(a, o, c, t, v, p, y, i), t.__edge && (t.onHoverStateChange = function(Z) {
    if (Z !== "blur") {
      var Q = o.parentNode && r.getItemGraphicEl(o.parentNode.dataIndex);
      Q && Q.hoverState === tm || q_(t.__edge, Z);
    }
  });
}
function qwe(r, e, t, i, a, n, o, s) {
  var l = e.getModel(), u = r.get("edgeShape"), c = r.get("layout"), f = r.getOrient(), d = r.get(["lineStyle", "curveness"]), p = r.get("edgeForkPosition"), v = l.getModel("lineStyle").getLineStyle(), y = i.__edge;
  if (u === "curve")
    e.parentNode && e.parentNode !== t && (y || (y = i.__edge = new nm({
      shape: H6(c, f, d, a, a)
    })), Wr(y, {
      shape: H6(c, f, d, n, o)
    }, r));
  else if (u === "polyline") {
    if (c === "orthogonal") {
      if (e !== t && e.children && e.children.length !== 0 && e.isExpand === !0) {
        for (var _ = e.children, w = [], S = 0; S < _.length; S++) {
          var x = _[S].getLayout();
          w.push([x.x, x.y]);
        }
        y || (y = i.__edge = new Ywe({
          shape: {
            parentPoint: [o.x, o.y],
            childPoints: [[o.x, o.y]],
            orient: f,
            forkPosition: p
          }
        })), Wr(y, {
          shape: {
            parentPoint: [o.x, o.y],
            childPoints: w
          }
        }, r);
      }
    } else if (process.env.NODE_ENV !== "production")
      throw new Error("The polyline edgeShape can only be used in orthogonal layout");
  }
  y && !(u === "polyline" && !e.isExpand) && (y.useStyle(Yt({
    strokeNoScale: !0,
    fill: null
  }, v)), Gi(y, l, "lineStyle"), ed(y), s.add(y));
}
function hB(r, e, t, i, a) {
  var n = e.tree.root, o = EK(n, r), s = o.source, l = o.sourceLayout, u = e.getItemGraphicEl(r.dataIndex);
  if (u) {
    var c = e.getItemGraphicEl(s.dataIndex), f = c.__edge, d = u.__edge || (s.isExpand === !1 || s.children.length === 1 ? f : void 0), p = i.get("edgeShape"), v = i.get("layout"), y = i.get("orient"), _ = i.get(["lineStyle", "curveness"]);
    d && (p === "curve" ? Zc(d, {
      shape: H6(v, y, _, l, l),
      style: {
        opacity: 0
      }
    }, i, {
      cb: function() {
        t.remove(d);
      },
      removeOpt: a
    }) : p === "polyline" && i.get("layout") === "orthogonal" && Zc(d, {
      shape: {
        parentPoint: [l.x, l.y],
        childPoints: [[l.x, l.y]]
      },
      style: {
        opacity: 0
      }
    }, i, {
      cb: function() {
        t.remove(d);
      },
      removeOpt: a
    }));
  }
}
function EK(r, e) {
  for (var t = e.parentNode === r ? e : e.parentNode || e, i; i = t.getLayout(), i == null; )
    t = t.parentNode === r ? t : t.parentNode || t;
  return {
    source: t,
    sourceLayout: i
  };
}
function fB(r, e, t, i, a) {
  var n = r.tree.getNodeByDataIndex(e), o = r.tree.root, s = EK(o, n).sourceLayout, l = {
    duration: a.get("animationDurationUpdate"),
    easing: a.get("animationEasingUpdate")
  };
  Zc(t, {
    x: s.x + 1,
    y: s.y + 1
  }, a, {
    cb: function() {
      i.remove(t), r.setItemGraphicEl(e, null);
    },
    removeOpt: l
  }), t.fadeOut(null, r.hostModel, {
    fadeLabel: !0,
    animation: l
  }), n.children.forEach(function(u) {
    hB(u, r, i, a, l);
  }), hB(n, r, i, a, l);
}
function H6(r, e, t, i, a) {
  var n, o, s, l, u, c, f, d;
  if (r === "radial") {
    u = i.rawX, f = i.rawY, c = a.rawX, d = a.rawY;
    var p = Rg(u, f), v = Rg(u, f + (d - f) * t), y = Rg(c, d + (f - d) * t), _ = Rg(c, d);
    return {
      x1: p.x || 0,
      y1: p.y || 0,
      x2: _.x || 0,
      y2: _.y || 0,
      cpx1: v.x || 0,
      cpy1: v.y || 0,
      cpx2: y.x || 0,
      cpy2: y.y || 0
    };
  } else
    u = i.x, f = i.y, c = a.x, d = a.y, (e === "LR" || e === "RL") && (n = u + (c - u) * t, o = f, s = c + (u - c) * t, l = d), (e === "TB" || e === "BT") && (n = u, o = f + (d - f) * t, s = c, l = d + (f - d) * t);
  return {
    x1: u,
    y1: f,
    x2: c,
    y2: d,
    cpx1: n,
    cpy1: o,
    cpx2: s,
    cpy2: l
  };
}
const Xwe = jwe;
var ss = Ar();
function DK(r) {
  var e = r.mainData, t = r.datas;
  t || (t = {
    main: e
  }, r.datasAttr = {
    main: "data"
  }), r.datas = r.mainData = null, kK(e, t, r), J(t, function(i) {
    J(e.TRANSFERABLE_METHODS, function(a) {
      i.wrapMethod(a, fr(Kwe, r));
    });
  }), e.wrapMethod("cloneShallow", fr(Jwe, r)), J(e.CHANGABLE_METHODS, function(i) {
    e.wrapMethod(i, fr(Zwe, r));
  }), kt(t[e.dataType] === e);
}
function Kwe(r, e) {
  if (tSe(this)) {
    var t = $e({}, ss(this).datas);
    t[this.dataType] = e, kK(e, t, r);
  } else
    ik(e, this.dataType, ss(this).mainData, r);
  return e;
}
function Zwe(r, e) {
  return r.struct && r.struct.update(), e;
}
function Jwe(r, e) {
  return J(ss(e).datas, function(t, i) {
    t !== e && ik(t.cloneShallow(), i, e, r);
  }), e;
}
function Qwe(r) {
  var e = ss(this).mainData;
  return r == null || e == null ? e : ss(e).datas[r];
}
function eSe() {
  var r = ss(this).mainData;
  return r == null ? [{
    data: r
  }] : Je(Ir(ss(r).datas), function(e) {
    return {
      type: e,
      data: ss(r).datas[e]
    };
  });
}
function tSe(r) {
  return ss(r).mainData === r;
}
function kK(r, e, t) {
  ss(r).datas = {}, J(e, function(i, a) {
    ik(i, a, r, t);
  });
}
function ik(r, e, t, i) {
  ss(t).datas[e] = r, ss(r).mainData = t, r.dataType = e, i.struct && (r[i.structAttr] = i.struct, i.struct[i.datasAttr[e]] = r), r.getLinkedData = Qwe, r.getLinkedDataAll = eSe;
}
var rSe = (
  /** @class */
  function() {
    function r(e, t) {
      this.depth = 0, this.height = 0, this.dataIndex = -1, this.children = [], this.viewChildren = [], this.isExpand = !1, this.name = e || "", this.hostTree = t;
    }
    return r.prototype.isRemoved = function() {
      return this.dataIndex < 0;
    }, r.prototype.eachNode = function(e, t, i) {
      Bt(e) && (i = t, t = e, e = null), e = e || {}, vt(e) && (e = {
        order: e
      });
      var a = e.order || "preorder", n = this[e.attr || "children"], o;
      a === "preorder" && (o = t.call(i, this));
      for (var s = 0; !o && s < n.length; s++)
        n[s].eachNode(e, t, i);
      a === "postorder" && t.call(i, this);
    }, r.prototype.updateDepthAndHeight = function(e) {
      var t = 0;
      this.depth = e;
      for (var i = 0; i < this.children.length; i++) {
        var a = this.children[i];
        a.updateDepthAndHeight(e + 1), a.height > t && (t = a.height);
      }
      this.height = t + 1;
    }, r.prototype.getNodeById = function(e) {
      if (this.getId() === e)
        return this;
      for (var t = 0, i = this.children, a = i.length; t < a; t++) {
        var n = i[t].getNodeById(e);
        if (n)
          return n;
      }
    }, r.prototype.contains = function(e) {
      if (e === this)
        return !0;
      for (var t = 0, i = this.children, a = i.length; t < a; t++) {
        var n = i[t].contains(e);
        if (n)
          return n;
      }
    }, r.prototype.getAncestors = function(e) {
      for (var t = [], i = e ? this : this.parentNode; i; )
        t.push(i), i = i.parentNode;
      return t.reverse(), t;
    }, r.prototype.getAncestorsIndices = function() {
      for (var e = [], t = this; t; )
        e.push(t.dataIndex), t = t.parentNode;
      return e.reverse(), e;
    }, r.prototype.getDescendantIndices = function() {
      var e = [];
      return this.eachNode(function(t) {
        e.push(t.dataIndex);
      }), e;
    }, r.prototype.getValue = function(e) {
      var t = this.hostTree.data;
      return t.getStore().get(t.getDimensionIndex(e || "value"), this.dataIndex);
    }, r.prototype.setLayout = function(e, t) {
      this.dataIndex >= 0 && this.hostTree.data.setItemLayout(this.dataIndex, e, t);
    }, r.prototype.getLayout = function() {
      return this.hostTree.data.getItemLayout(this.dataIndex);
    }, r.prototype.getModel = function(e) {
      if (!(this.dataIndex < 0)) {
        var t = this.hostTree, i = t.data.getItemModel(this.dataIndex);
        return i.getModel(e);
      }
    }, r.prototype.getLevelModel = function() {
      return (this.hostTree.levelModels || [])[this.depth];
    }, r.prototype.setVisual = function(e, t) {
      this.dataIndex >= 0 && this.hostTree.data.setItemVisual(this.dataIndex, e, t);
    }, r.prototype.getVisual = function(e) {
      return this.hostTree.data.getItemVisual(this.dataIndex, e);
    }, r.prototype.getRawIndex = function() {
      return this.hostTree.data.getRawIndex(this.dataIndex);
    }, r.prototype.getId = function() {
      return this.hostTree.data.getId(this.dataIndex);
    }, r.prototype.getChildIndex = function() {
      if (this.parentNode) {
        for (var e = this.parentNode.children, t = 0; t < e.length; ++t)
          if (e[t] === this)
            return t;
        return -1;
      }
      return -1;
    }, r.prototype.isAncestorOf = function(e) {
      for (var t = e.parentNode; t; ) {
        if (t === this)
          return !0;
        t = t.parentNode;
      }
      return !1;
    }, r.prototype.isDescendantOf = function(e) {
      return e !== this && e.isAncestorOf(this);
    }, r;
  }()
), nSe = (
  /** @class */
  function() {
    function r(e) {
      this.type = "tree", this._nodes = [], this.hostModel = e;
    }
    return r.prototype.eachNode = function(e, t, i) {
      this.root.eachNode(e, t, i);
    }, r.prototype.getNodeByDataIndex = function(e) {
      var t = this.data.getRawIndex(e);
      return this._nodes[t];
    }, r.prototype.getNodeById = function(e) {
      return this.root.getNodeById(e);
    }, r.prototype.update = function() {
      for (var e = this.data, t = this._nodes, i = 0, a = t.length; i < a; i++)
        t[i].dataIndex = -1;
      for (var i = 0, a = e.count(); i < a; i++)
        t[e.getRawIndex(i)].dataIndex = i;
    }, r.prototype.clearLayouts = function() {
      this.data.clearItemLayouts();
    }, r.createTree = function(e, t, i) {
      var a = new r(t), n = [], o = 1;
      s(e);
      function s(c, f) {
        var d = c.value;
        o = Math.max(o, Ke(d) ? d.length : 1), n.push(c);
        var p = new rSe(Vi(c.name, ""), a);
        f ? iSe(p, f) : a.root = p, a._nodes.push(p);
        var v = c.children;
        if (v)
          for (var y = 0; y < v.length; y++)
            s(v[y], p);
      }
      a.root.updateDepthAndHeight(0);
      var l = W0(n, {
        coordDimensions: ["value"],
        dimensionsCount: o
      }).dimensions, u = new Ua(l, t);
      return u.initData(n), i && i(u), DK({
        mainData: u,
        struct: a,
        structAttr: "tree"
      }), a.update(), a;
    }, r;
  }()
);
function iSe(r, e) {
  var t = e.children;
  r.parentNode !== e && (t.push(r), r.parentNode = e);
}
const ak = nSe;
function D1(r, e, t) {
  if (r && dr(e, r.type) >= 0) {
    var i = t.getData().tree.root, a = r.targetNode;
    if (vt(a) && (a = i.getNodeById(a)), a && i.contains(a))
      return {
        node: a
      };
    var n = r.targetNodeId;
    if (n != null && (a = i.getNodeById(n)))
      return {
        node: a
      };
  }
}
function MK(r) {
  for (var e = []; r; )
    r = r.parentNode, r && e.push(r);
  return e.reverse();
}
function ok(r, e) {
  var t = MK(r);
  return dr(t, e) >= 0;
}
function GS(r, e) {
  for (var t = []; r; ) {
    var i = r.dataIndex;
    t.push({
      name: r.name,
      dataIndex: i,
      value: e.getRawValue(i)
    }), r = r.parentNode;
  }
  return t.reverse(), t;
}
var aSe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.hasSymbolVisual = !0, t.ignoreStyleOnData = !0, t;
    }
    return e.prototype.getInitialData = function(t) {
      var i = {
        name: t.name,
        children: t.data
      }, a = t.leaves || {}, n = new Vr(a, this, this.ecModel), o = ak.createTree(i, this, s);
      function s(f) {
        f.wrapMethod("getItemModel", function(d, p) {
          var v = o.getNodeByDataIndex(p);
          return v && v.children.length && v.isExpand || (d.parentModel = n), d;
        });
      }
      var l = 0;
      o.eachNode("preorder", function(f) {
        f.depth > l && (l = f.depth);
      });
      var u = t.expandAndCollapse, c = u && t.initialTreeDepth >= 0 ? t.initialTreeDepth : l;
      return o.root.eachNode("preorder", function(f) {
        var d = f.hostTree.data.getRawDataItem(f.dataIndex);
        f.isExpand = d && d.collapsed != null ? !d.collapsed : f.depth <= c;
      }), o.data;
    }, e.prototype.getOrient = function() {
      var t = this.get("orient");
      return t === "horizontal" ? t = "LR" : t === "vertical" && (t = "TB"), t;
    }, e.prototype.setZoom = function(t) {
      this.option.zoom = t;
    }, e.prototype.setCenter = function(t) {
      this.option.center = t;
    }, e.prototype.formatTooltip = function(t, i, a) {
      for (var n = this.getData().tree, o = n.root.children[0], s = n.getNodeByDataIndex(t), l = s.getValue(), u = s.name; s && s !== o; )
        u = s.parentNode.name + "." + u, s = s.parentNode;
      return Pi("nameValue", {
        name: u,
        value: l,
        noValue: isNaN(l) || l == null
      });
    }, e.prototype.getDataParams = function(t) {
      var i = r.prototype.getDataParams.apply(this, arguments), a = this.getData().tree.getNodeByDataIndex(t);
      return i.treeAncestors = GS(a, this), i.collapsed = !a.isExpand, i;
    }, e.type = "series.tree", e.layoutMode = "box", e.defaultOption = {
      // zlevel: 0,
      z: 2,
      // `coordinateSystem` can be declared as 'matrix', 'calendar',
      //  which provides box layout container.
      coordinateSystemUsage: "box",
      // the position of the whole view
      left: "12%",
      top: "12%",
      right: "12%",
      bottom: "12%",
      // the layout of the tree, two value can be selected, 'orthogonal' or 'radial'
      layout: "orthogonal",
      // value can be 'polyline'
      edgeShape: "curve",
      edgeForkPosition: "50%",
      // true | false | 'move' | 'scale', see module:component/helper/RoamController.
      roam: !1,
      roamTrigger: "global",
      // Symbol size scale ratio in roam
      nodeScaleRatio: 0.4,
      // Default on center of graph
      center: null,
      zoom: 1,
      orient: "LR",
      symbol: "emptyCircle",
      symbolSize: 7,
      expandAndCollapse: !0,
      initialTreeDepth: 2,
      lineStyle: {
        color: Ve.color.borderTint,
        width: 1.5,
        curveness: 0.5
      },
      itemStyle: {
        color: "lightsteelblue",
        // borderColor: '#c23531',
        borderWidth: 1.5
      },
      label: {
        show: !0
      },
      animationEasing: "linear",
      animationDuration: 700,
      animationDurationUpdate: 500
    }, e;
  }(En)
);
const oSe = aSe;
function sSe(r, e, t) {
  for (var i = [r], a = [], n; n = i.pop(); )
    if (a.push(n), n.isExpand) {
      var o = n.children;
      if (o.length)
        for (var s = 0; s < o.length; s++)
          i.push(o[s]);
    }
  for (; n = a.pop(); )
    e(n, t);
}
function lg(r, e) {
  for (var t = [r], i; i = t.pop(); )
    if (e(i), i.isExpand) {
      var a = i.children;
      if (a.length)
        for (var n = a.length - 1; n >= 0; n--)
          t.push(a[n]);
    }
}
function lSe(r, e) {
  r.eachSeriesByType("tree", function(t) {
    uSe(t, e);
  });
}
function uSe(r, e) {
  var t = Wi(r, e).refContainer, i = Bn(r.getBoxLayoutParams(), t);
  r.layoutInfo = i;
  var a = r.get("layout"), n = 0, o = 0, s = null;
  a === "radial" ? (n = 2 * Math.PI, o = Math.min(i.height, i.width) / 2, s = lB(function(E, M) {
    return (E.parentNode === M.parentNode ? 1 : 2) / E.depth;
  })) : (n = i.width, o = i.height, s = lB());
  var l = r.getData().tree.root, u = l.children[0];
  if (u) {
    Nwe(l), sSe(u, Bwe, s), l.hierNode.modifier = -u.hierNode.prelim, lg(u, Vwe);
    var c = u, f = u, d = u;
    lg(u, function(E) {
      var M = E.getLayout().x;
      M < c.getLayout().x && (c = E), M > f.getLayout().x && (f = E), E.depth > d.depth && (d = E);
    });
    var p = c === f ? 1 : s(c, f) / 2, v = p - c.getLayout().x, y = 0, _ = 0, w = 0, S = 0;
    if (a === "radial")
      y = n / (f.getLayout().x + p + v), _ = o / (d.depth - 1 || 1), lg(u, function(E) {
        w = (E.getLayout().x + v) * y, S = (E.depth - 1) * _;
        var M = Rg(w, S);
        E.setLayout({
          x: M.x,
          y: M.y,
          rawX: w,
          rawY: S
        }, !0);
      });
    else {
      var x = r.getOrient();
      x === "RL" || x === "LR" ? (_ = o / (f.getLayout().x + p + v), y = n / (d.depth - 1 || 1), lg(u, function(E) {
        S = (E.getLayout().x + v) * _, w = x === "LR" ? (E.depth - 1) * y : n - (E.depth - 1) * y, E.setLayout({
          x: w,
          y: S
        }, !0);
      })) : (x === "TB" || x === "BT") && (y = n / (f.getLayout().x + p + v), _ = o / (d.depth - 1 || 1), lg(u, function(E) {
        w = (E.getLayout().x + v) * y, S = x === "TB" ? (E.depth - 1) * _ : o - (E.depth - 1) * _, E.setLayout({
          x: w,
          y: S
        }, !0);
      }));
    }
  }
}
function cSe(r) {
  r.eachSeriesByType("tree", function(e) {
    var t = e.getData(), i = t.tree;
    i.eachNode(function(a) {
      var n = a.getModel(), o = n.getModel("itemStyle").getItemStyle(), s = t.ensureUniqueItemVisual(a.dataIndex, "style");
      $e(s, o);
    });
  });
}
function hSe(r) {
  r.registerAction({
    type: "treeExpandAndCollapse",
    event: "treeExpandAndCollapse",
    update: "update"
  }, function(e, t) {
    t.eachComponent({
      mainType: "series",
      subType: "tree",
      query: e
    }, function(i) {
      var a = e.dataIndex, n = i.getData().tree, o = n.getNodeByDataIndex(a);
      o.isExpand = !o.isExpand;
    });
  }), r.registerAction({
    type: "treeRoam",
    event: "treeRoam",
    // Here we set 'none' instead of 'update', because roam action
    // just need to update the transform matrix without having to recalculate
    // the layout. So don't need to go through the whole update process, such
    // as 'dataPrcocess', 'coordSystemUpdate', 'layout' and so on.
    update: "none"
  }, function(e, t, i) {
    t.eachComponent({
      mainType: "series",
      subType: "tree",
      query: e
    }, function(a) {
      var n = a.coordinateSystem, o = VS(n, e, a.get("scaleLimit"));
      a.setCenter(o.center), a.setZoom(o.zoom);
    });
  });
}
function fSe(r) {
  r.registerChartView(Xwe), r.registerSeriesModel(oSe), r.registerLayout(lSe), r.registerVisual(cSe), hSe(r);
}
var dB = ["treemapZoomToNode", "treemapRender", "treemapMove"];
function dSe(r) {
  for (var e = 0; e < dB.length; e++)
    r.registerAction({
      type: dB[e],
      update: "updateView"
    }, si);
  r.registerAction({
    type: "treemapRootToNode",
    update: "updateView"
  }, function(t, i) {
    i.eachComponent({
      mainType: "series",
      subType: "treemap",
      query: t
    }, a);
    function a(n, o) {
      var s = ["treemapZoomToNode", "treemapRootToNode"], l = D1(t, s, n);
      if (l) {
        var u = n.getViewRoot();
        u && (t.direction = ok(u, l.node) ? "rollUp" : "drillDown"), n.resetViewRoot(l.node);
      }
    }
  });
}
function IK(r) {
  var e = r.getData(), t = e.tree, i = {};
  t.eachNode(function(a) {
    for (var n = a; n && n.depth > 1; )
      n = n.parentNode;
    var o = u6(r.ecModel, n.name || n.dataIndex + "", i);
    a.setVisual("decal", o);
  });
}
var pSe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.preventUsingHoverLayer = !0, t;
    }
    return e.prototype.getInitialData = function(t, i) {
      var a = {
        name: t.name,
        children: t.data
      };
      PK(a);
      var n = t.levels || [], o = this.designatedVisualItemStyle = {}, s = new Vr({
        itemStyle: o
      }, this, i);
      n = t.levels = vSe(n, i);
      var l = Je(n || [], function(f) {
        return new Vr(f, s, i);
      }, this), u = ak.createTree(a, this, c);
      function c(f) {
        f.wrapMethod("getItemModel", function(d, p) {
          var v = u.getNodeByDataIndex(p), y = v ? l[v.depth] : null;
          return d.parentModel = y || s, d;
        });
      }
      return u.data;
    }, e.prototype.optionUpdated = function() {
      this.resetViewRoot();
    }, e.prototype.formatTooltip = function(t, i, a) {
      var n = this.getData(), o = this.getRawValue(t), s = n.getName(t);
      return Pi("nameValue", {
        name: s,
        value: o
      });
    }, e.prototype.getDataParams = function(t) {
      var i = r.prototype.getDataParams.apply(this, arguments), a = this.getData().tree.getNodeByDataIndex(t);
      return i.treeAncestors = GS(a, this), i.treePathInfo = i.treeAncestors, i;
    }, e.prototype.setLayoutInfo = function(t) {
      this.layoutInfo = this.layoutInfo || {}, $e(this.layoutInfo, t);
    }, e.prototype.mapIdToIndex = function(t) {
      var i = this._idIndexMap;
      i || (i = this._idIndexMap = Pt(), this._idIndexMapCount = 0);
      var a = i.get(t);
      return a == null && i.set(t, a = this._idIndexMapCount++), a;
    }, e.prototype.getViewRoot = function() {
      return this._viewRoot;
    }, e.prototype.resetViewRoot = function(t) {
      t ? this._viewRoot = t : t = this._viewRoot;
      var i = this.getRawData().tree.root;
      (!t || t !== i && !i.contains(t)) && (this._viewRoot = i);
    }, e.prototype.enableAriaDecal = function() {
      IK(this);
    }, e.type = "series.treemap", e.layoutMode = "box", e.defaultOption = {
      // Disable progressive rendering
      progressive: 0,
      // size: ['80%', '80%'],            // deprecated, compatible with ec2.
      // `coordinateSystem` can be declared as 'matrix', 'calendar',
      //  which provides box layout container.
      coordinateSystemUsage: "box",
      left: Ve.size.l,
      top: Ve.size.xxxl,
      right: Ve.size.l,
      bottom: Ve.size.xxxl,
      sort: !0,
      clipWindow: "origin",
      squareRatio: 0.5 * (1 + Math.sqrt(5)),
      leafDepth: null,
      drillDownIcon: "",
      // to align specialized icon. 
      zoomToNodeRatio: 0.32 * 0.32,
      scaleLimit: {
        max: 5,
        min: 0.2
      },
      roam: !0,
      roamTrigger: "global",
      nodeClick: "zoomToNode",
      animation: !0,
      animationDurationUpdate: 900,
      animationEasing: "quinticInOut",
      breadcrumb: {
        show: !0,
        height: 22,
        left: "center",
        bottom: Ve.size.m,
        // right
        // bottom
        emptyItemWidth: 25,
        itemStyle: {
          color: Ve.color.backgroundShade,
          textStyle: {
            color: Ve.color.secondary
          }
        },
        emphasis: {
          itemStyle: {
            color: Ve.color.background
          }
        }
      },
      label: {
        show: !0,
        // Do not use textDistance, for ellipsis rect just the same as treemap node rect.
        distance: 0,
        padding: 5,
        position: "inside",
        // formatter: null,
        color: Ve.color.neutral00,
        overflow: "truncate"
        // align
        // verticalAlign
      },
      upperLabel: {
        show: !1,
        position: [0, "50%"],
        height: 20,
        // formatter: null,
        // color: '#fff',
        overflow: "truncate",
        // align: null,
        verticalAlign: "middle"
      },
      itemStyle: {
        color: null,
        colorAlpha: null,
        colorSaturation: null,
        borderWidth: 0,
        gapWidth: 0,
        borderColor: Ve.color.neutral00,
        borderColorSaturation: null
        // If specified, borderColor will be ineffective, and the
        // border color is evaluated by color of current node and
        // borderColorSaturation.
      },
      emphasis: {
        upperLabel: {
          show: !0,
          position: [0, "50%"],
          overflow: "truncate",
          verticalAlign: "middle"
        }
      },
      visualDimension: 0,
      visualMin: null,
      visualMax: null,
      color: [],
      // level[n].color (if necessary).
      // + Specify color list of each level. level[0].color would be global
      // color list if not specified. (see method `setDefault`).
      // + But set as a empty array to forbid fetch color from global palette
      // when using nodeModel.get('color'), otherwise nodes on deep level
      // will always has color palette set and are not able to inherit color
      // from parent node.
      // + TreemapSeries.color can not be set as 'none', otherwise effect
      // legend color fetching (see seriesColor.js).
      colorAlpha: null,
      colorSaturation: null,
      colorMappingBy: "index",
      visibleMin: 10,
      // be rendered. Only works when sort is 'asc' or 'desc'.
      childrenVisibleMin: null,
      // grandchildren will not show.
      // Why grandchildren? If not grandchildren but children,
      // some siblings show children and some not,
      // the appearance may be mess and not consistent,
      levels: []
      // Each item: {
      //     visibleMin, itemStyle, visualDimension, label
      // }
    }, e;
  }(En)
);
function PK(r) {
  var e = 0;
  J(r.children, function(i) {
    PK(i);
    var a = i.value;
    Ke(a) && (a = a[0]), e += a;
  });
  var t = r.value;
  Ke(t) && (t = t[0]), (t == null || isNaN(t)) && (t = e), t < 0 && (t = 0), Ke(r.value) ? r.value[0] = t : r.value = t;
}
function vSe(r, e) {
  var t = xn(e.get("color")), i = xn(e.get(["aria", "decal", "decals"]));
  if (t) {
    r = r || [];
    var a, n;
    J(r, function(s) {
      var l = new Vr(s), u = l.get("color"), c = l.get("decal");
      (l.get(["itemStyle", "color"]) || u && u !== "none") && (a = !0), (l.get(["itemStyle", "decal"]) || c && c !== "none") && (n = !0);
    });
    var o = r[0] || (r[0] = {});
    return a || (o.color = t.slice()), !n && i && (o.decal = i.slice()), r;
  }
}
const gSe = pSe;
var mSe = 8, pB = 8, T5 = 5, ySe = (
  /** @class */
  function() {
    function r(e) {
      this.group = new Wt(), e.add(this.group);
    }
    return r.prototype.render = function(e, t, i, a) {
      var n = e.getModel("breadcrumb"), o = this.group;
      if (o.removeAll(), !(!n.get("show") || !i)) {
        var s = n.getModel("itemStyle"), l = n.getModel("emphasis"), u = s.getModel("textStyle"), c = l.getModel(["itemStyle", "textStyle"]), f = Wi(e, t).refContainer, d = {
          left: n.get("left"),
          right: n.get("right"),
          top: n.get("top"),
          bottom: n.get("bottom")
        }, p = {
          emptyItemWidth: n.get("emptyItemWidth"),
          totalWidth: 0,
          renderList: []
        }, v = Bn(d, f);
        this._prepare(i, p, u), this._renderContent(e, p, v, s, l, u, c, a), ES(o, d, f);
      }
    }, r.prototype._prepare = function(e, t, i) {
      for (var a = e; a; a = a.parentNode) {
        var n = Vi(a.getModel().get("name"), ""), o = i.getTextRect(n), s = Math.max(o.width + mSe * 2, t.emptyItemWidth);
        t.totalWidth += s + pB, t.renderList.push({
          node: a,
          text: n,
          width: s
        });
      }
    }, r.prototype._renderContent = function(e, t, i, a, n, o, s, l) {
      for (var u = 0, c = t.emptyItemWidth, f = e.get(["breadcrumb", "height"]), d = t.totalWidth, p = t.renderList, v = n.getModel("itemStyle").getItemStyle(), y = p.length - 1; y >= 0; y--) {
        var _ = p[y], w = _.node, S = _.width, x = _.text;
        d > i.width && (d -= S - c, S = c, x = null);
        var E = new Ha({
          shape: {
            points: _Se(u, 0, S, f, y === p.length - 1, y === 0)
          },
          style: Yt(a.getItemStyle(), {
            lineJoin: "bevel"
          }),
          textContent: new Br({
            style: Sn(o, {
              text: x
            })
          }),
          textConfig: {
            position: "inside"
          },
          z2: R0 * 1e4,
          onclick: fr(l, w)
        });
        E.disableLabelAnimation = !0, E.getTextContent().ensureState("emphasis").style = Sn(s, {
          text: x
        }), E.ensureState("emphasis").style = v, Wn(E, n.get("focus"), n.get("blurScope"), n.get("disabled")), this.group.add(E), bSe(E, e, w), u += S + pB;
      }
    }, r.prototype.remove = function() {
      this.group.removeAll();
    }, r;
  }()
);
function _Se(r, e, t, i, a, n) {
  var o = [[a ? r : r - T5, e], [r + t, e], [r + t, e + i], [a ? r : r - T5, e + i]];
  return !n && o.splice(2, 0, [r + t + T5, e + i / 2]), !a && o.push([r, e + i / 2]), o;
}
function bSe(r, e, t) {
  er(r).eventData = {
    componentType: "series",
    componentSubType: "treemap",
    componentIndex: e.componentIndex,
    seriesIndex: e.seriesIndex,
    seriesName: e.name,
    seriesType: "treemap",
    selfType: "breadcrumb",
    nodeData: {
      dataIndex: t && t.dataIndex,
      name: t && t.name
    },
    treePathInfo: t && GS(t, e)
  };
}
const wSe = ySe;
var SSe = (
  /** @class */
  function() {
    function r() {
      this._storage = [], this._elExistsMap = {};
    }
    return r.prototype.add = function(e, t, i, a, n) {
      return this._elExistsMap[e.id] ? !1 : (this._elExistsMap[e.id] = !0, this._storage.push({
        el: e,
        target: t,
        duration: i,
        delay: a,
        easing: n
      }), !0);
    }, r.prototype.finished = function(e) {
      return this._finishedCallback = e, this;
    }, r.prototype.start = function() {
      for (var e = this, t = this._storage.length, i = function() {
        t--, t <= 0 && (e._storage.length = 0, e._elExistsMap = {}, e._finishedCallback && e._finishedCallback());
      }, a = 0, n = this._storage.length; a < n; a++) {
        var o = this._storage[a];
        o.el.animateTo(o.target, {
          duration: o.duration,
          delay: o.delay,
          easing: o.easing,
          setToFinal: !0,
          done: i,
          aborted: i
        });
      }
      return this;
    }, r;
  }()
);
function xSe() {
  return new SSe();
}
var $6 = Wt, vB = Cr, gB = 3, mB = "label", yB = "upperLabel", TSe = R0 * 10, CSe = R0 * 2, ASe = R0 * 3, mf = Qf([
  ["fill", "color"],
  // `borderColor` and `borderWidth` has been occupied,
  // so use `stroke` to indicate the stroke of the rect.
  ["stroke", "strokeColor"],
  ["lineWidth", "strokeWidth"],
  ["shadowBlur"],
  ["shadowOffsetX"],
  ["shadowOffsetY"],
  ["shadowColor"]
  // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
  // So do not transfer decal directly.
]), _B = function(r) {
  var e = mf(r);
  return e.stroke = e.fill = e.lineWidth = null, e;
}, Eb = Ar(), ESe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t._state = "ready", t._storage = ug(), t;
    }
    return e.prototype.render = function(t, i, a, n) {
      var o = i.findComponents({
        mainType: "series",
        subType: "treemap",
        query: n
      });
      if (!(dr(o, t) < 0)) {
        this.seriesModel = t, this.api = a, this.ecModel = i;
        var s = ["treemapZoomToNode", "treemapRootToNode"], l = D1(n, s, t), u = n && n.type, c = t.layoutInfo, f = !this._oldTree, d = this._storage, p = u === "treemapRootToNode" && l && d ? {
          rootNodeGroup: d.nodeGroup[l.node.getRawIndex()],
          direction: n.direction
        } : null, v = this._giveContainerGroup(c), y = t.get("animation"), _ = this._doRender(v, t, p);
        y && !f && (!u || u === "treemapZoomToNode" || u === "treemapRootToNode") ? this._doAnimation(v, _, t, p) : _.renderFinally(), this._resetController(a), this._renderBreadcrumb(t, a, l);
      }
    }, e.prototype._giveContainerGroup = function(t) {
      var i = this._containerGroup;
      return i || (i = this._containerGroup = new $6(), this._initEvents(i), this.group.add(i)), i.x = t.x, i.y = t.y, i;
    }, e.prototype._doRender = function(t, i, a) {
      var n = i.getData().tree, o = this._oldTree, s = ug(), l = ug(), u = this._storage, c = [];
      function f(S, x, E, M) {
        return DSe(i, l, u, a, s, c, S, x, E, M);
      }
      y(n.root ? [n.root] : [], o && o.root ? [o.root] : [], t, n === o || !o, 0);
      var d = _(u);
      if (this._oldTree = n, this._storage = l, this._controllerHost) {
        var p = this.seriesModel.layoutInfo, v = n.root.getLayout();
        v.width === p.width && v.height === p.height && (this._controllerHost.zoom = 1);
      }
      return {
        lastsForAnimation: s,
        willDeleteEls: d,
        renderFinally: w
      };
      function y(S, x, E, M, k) {
        M ? (x = S, J(S, function(F, O) {
          !F.isRemoved() && L(O, O);
        })) : new Gu(x, S, P, P).add(L).update(L).remove(fr(L, null)).execute();
        function P(F) {
          return F.getId();
        }
        function L(F, O) {
          var U = F != null ? S[F] : null, V = O != null ? x[O] : null, G = f(U, V, E, k);
          G && y(U && U.viewChildren || [], V && V.viewChildren || [], G, M, k + 1);
        }
      }
      function _(S) {
        var x = ug();
        return S && J(S, function(E, M) {
          var k = x[M];
          J(E, function(P) {
            P && (k.push(P), Eb(P).willDelete = !0);
          });
        }), x;
      }
      function w() {
        J(d, function(S) {
          J(S, function(x) {
            x.parent && x.parent.remove(x);
          });
        }), J(c, function(S) {
          S.invisible = !0, S.dirty();
        });
      }
    }, e.prototype._doAnimation = function(t, i, a, n) {
      var o = a.get("animationDurationUpdate"), s = a.get("animationEasing"), l = (Bt(o) ? 0 : o) || 0, u = (Bt(s) ? null : s) || "cubicOut", c = xSe();
      J(i.willDeleteEls, function(f, d) {
        J(f, function(p, v) {
          if (!p.invisible) {
            var y = p.parent, _, w = Eb(y);
            if (n && n.direction === "drillDown")
              _ = y === n.rootNodeGroup ? {
                shape: {
                  x: 0,
                  y: 0,
                  width: w.nodeWidth,
                  height: w.nodeHeight
                },
                style: {
                  opacity: 0
                }
              } : {
                style: {
                  opacity: 0
                }
              };
            else {
              var S = 0, x = 0;
              w.willDelete || (S = w.nodeWidth / 2, x = w.nodeHeight / 2), _ = d === "nodeGroup" ? {
                x: S,
                y: x,
                style: {
                  opacity: 0
                }
              } : {
                shape: {
                  x: S,
                  y: x,
                  width: 0,
                  height: 0
                },
                style: {
                  opacity: 0
                }
              };
            }
            _ && c.add(p, _, l, 0, u);
          }
        });
      }), J(this._storage, function(f, d) {
        J(f, function(p, v) {
          var y = i.lastsForAnimation[d][v], _ = {};
          y && (p instanceof Wt ? y.oldX != null && (_.x = p.x, _.y = p.y, p.x = y.oldX, p.y = y.oldY) : (y.oldShape && (_.shape = $e({}, p.shape), p.setShape(y.oldShape)), y.fadein ? (p.setStyle("opacity", 0), _.style = {
            opacity: 1
          }) : p.style.opacity !== 1 && (_.style = {
            opacity: 1
          })), c.add(p, _, l, 0, u));
        });
      }, this), this._state = "animating", c.finished(mt(function() {
        this._state = "ready", i.renderFinally();
      }, this)).start();
    }, e.prototype._resetController = function(t) {
      var i = this, a = this._controller, n = this._controllerHost;
      n || (this._controllerHost = {
        target: this.group
      }, n = this._controllerHost);
      var o = this.seriesModel;
      a || (a = this._controller = new kd(t.getZr()), a.on("pan", mt(this._onPan, this)), a.on("zoom", mt(this._onZoom, this))), a.enable(o.get("roam"), {
        api: t,
        zInfo: {
          component: o
        },
        triggerInfo: {
          roamTrigger: o.get("roamTrigger"),
          isInSelf: function(s, l, u) {
            var c = i._containerGroup;
            return c ? c.getBoundingRect().contain(l - c.x, u - c.y) : !1;
          }
        }
      }), n.zoomLimit = o.get("scaleLimit"), n.zoom = o.get("zoom");
    }, e.prototype._clearController = function() {
      var t = this._controller;
      this._controllerHost = null, t && (t.dispose(), t = null);
    }, e.prototype._onPan = function(t) {
      if (this._state !== "animating" && (Math.abs(t.dx) > gB || Math.abs(t.dy) > gB)) {
        var i = this.seriesModel.getData().tree.root;
        if (!i)
          return;
        var a = i.getLayout();
        if (!a)
          return;
        this.api.dispatchAction({
          type: "treemapMove",
          from: this.uid,
          seriesId: this.seriesModel.id,
          rootRect: {
            x: a.x + t.dx,
            y: a.y + t.dy,
            width: a.width,
            height: a.height
          }
        });
      }
    }, e.prototype._onZoom = function(t) {
      var i = t.originX, a = t.originY, n = t.scale;
      if (this._state !== "animating") {
        var o = this.seriesModel.getData().tree.root;
        if (!o)
          return;
        var s = o.getLayout();
        if (!s)
          return;
        var l = new Jt(s.x, s.y, s.width, s.height), u = null, c = this._controllerHost;
        u = c.zoomLimit;
        var f = c.zoom = c.zoom || 1;
        if (f *= n, u) {
          var d = u.min || 0, p = u.max || 1 / 0;
          f = Math.max(Math.min(p, f), d);
        }
        var v = f / c.zoom;
        c.zoom = f;
        var y = this.seriesModel.layoutInfo;
        i -= y.x, a -= y.y;
        var _ = Ji();
        Bs(_, _, [-i, -a]), uS(_, _, [v, v]), Bs(_, _, [i, a]), l.applyTransform(_), this.api.dispatchAction({
          type: "treemapRender",
          from: this.uid,
          seriesId: this.seriesModel.id,
          rootRect: {
            x: l.x,
            y: l.y,
            width: l.width,
            height: l.height
          }
        });
      }
    }, e.prototype._initEvents = function(t) {
      var i = this;
      t.on("click", function(a) {
        if (i._state === "ready") {
          var n = i.seriesModel.get("nodeClick", !0);
          if (n) {
            var o = i.findTarget(a.offsetX, a.offsetY);
            if (o) {
              var s = o.node;
              if (s.getLayout().isLeafRoot)
                i._rootToNode(o);
              else if (n === "zoomToNode")
                i._zoomToNode(o);
              else if (n === "link") {
                var l = s.hostTree.data.getItemModel(s.dataIndex), u = l.get("link", !0), c = l.get("target", !0) || "blank";
                u && J_(u, c);
              }
            }
          }
        }
      }, this);
    }, e.prototype._renderBreadcrumb = function(t, i, a) {
      var n = this;
      a || (a = t.get("leafDepth", !0) != null ? {
        node: t.getViewRoot()
      } : this.findTarget(i.getWidth() / 2, i.getHeight() / 2), a || (a = {
        node: t.getData().tree.root
      })), (this._breadcrumb || (this._breadcrumb = new wSe(this.group))).render(t, i, a.node, function(o) {
        n._state !== "animating" && (ok(t.getViewRoot(), o) ? n._rootToNode({
          node: o
        }) : n._zoomToNode({
          node: o
        }));
      });
    }, e.prototype.remove = function() {
      this._clearController(), this._containerGroup && this._containerGroup.removeAll(), this._storage = ug(), this._state = "ready", this._breadcrumb && this._breadcrumb.remove();
    }, e.prototype.dispose = function() {
      this._clearController();
    }, e.prototype._zoomToNode = function(t) {
      this.api.dispatchAction({
        type: "treemapZoomToNode",
        from: this.uid,
        seriesId: this.seriesModel.id,
        targetNode: t.node
      });
    }, e.prototype._rootToNode = function(t) {
      this.api.dispatchAction({
        type: "treemapRootToNode",
        from: this.uid,
        seriesId: this.seriesModel.id,
        targetNode: t.node
      });
    }, e.prototype.findTarget = function(t, i) {
      var a, n = this.seriesModel.getViewRoot();
      return n.eachNode({
        attr: "viewChildren",
        order: "preorder"
      }, function(o) {
        var s = this._storage.background[o.getRawIndex()];
        if (s) {
          var l = s.transformCoordToLocal(t, i), u = s.shape;
          if (u.x <= l[0] && l[0] <= u.x + u.width && u.y <= l[1] && l[1] <= u.y + u.height)
            a = {
              node: o,
              offsetX: l[0],
              offsetY: l[1]
            };
          else
            return !1;
        }
      }, this), a;
    }, e.type = "treemap", e;
  }(gn)
);
function ug() {
  return {
    nodeGroup: [],
    background: [],
    content: []
  };
}
function DSe(r, e, t, i, a, n, o, s, l, u) {
  if (!o)
    return;
  var c = o.getLayout(), f = r.getData(), d = o.getModel();
  if (f.setItemGraphicEl(o.dataIndex, null), !c || !c.isInView)
    return;
  var p = c.width, v = c.height, y = c.borderWidth, _ = c.invisible, w = o.getRawIndex(), S = s && s.getRawIndex(), x = o.viewChildren, E = c.upperHeight, M = x && x.length, k = d.getModel("itemStyle"), P = d.getModel(["emphasis", "itemStyle"]), L = d.getModel(["blur", "itemStyle"]), F = d.getModel(["select", "itemStyle"]), O = k.get("borderRadius") || 0, U = De("nodeGroup", $6);
  if (!U)
    return;
  if (l.add(U), U.x = c.x || 0, U.y = c.y || 0, U.markRedraw(), Eb(U).nodeWidth = p, Eb(U).nodeHeight = v, c.isAboveViewRoot)
    return U;
  var V = De("background", vB, u, CSe);
  V && he(U, V, M && c.upperLabelHeight);
  var G = d.getModel("emphasis"), Z = G.get("focus"), Q = G.get("blurScope"), se = G.get("disabled"), de = Z === "ancestor" ? o.getAncestorsIndices() : Z === "descendant" ? o.getDescendantIndices() : Z;
  if (M)
    Kc(U) && If(U, !1), V && (If(V, !se), f.setItemGraphicEl(o.dataIndex, V), KA(V, de, Q));
  else {
    var le = De("content", vB, u, ASe);
    le && fe(U, le), V.disableMorphing = !0, V && Kc(V) && If(V, !1), If(U, !se), f.setItemGraphicEl(o.dataIndex, U);
    var Se = d.getShallow("cursor");
    Se && le.attr("cursor", Se), KA(U, de, Q);
  }
  return U;
  function he(re, be, te) {
    var ne = er(be);
    if (ne.dataIndex = o.dataIndex, ne.seriesIndex = r.seriesIndex, be.setShape({
      x: 0,
      y: 0,
      width: p,
      height: v,
      r: O
    }), _)
      K(be);
    else {
      be.invisible = !1;
      var ie = o.getVisual("style"), xe = ie.stroke, ge = _B(k);
      ge.fill = xe;
      var ae = mf(P);
      ae.fill = P.get("borderColor");
      var pe = mf(L);
      pe.fill = L.get("borderColor");
      var ce = mf(F);
      if (ce.fill = F.get("borderColor"), te) {
        var Ee = p - 2 * y;
        we(
          // PENDING: convert ZRColor to ColorString for text.
          be,
          xe,
          ie.opacity,
          {
            x: y,
            y: 0,
            width: Ee,
            height: E
          }
        );
      } else
        be.removeTextContent();
      be.setStyle(ge), be.ensureState("emphasis").style = ae, be.ensureState("blur").style = pe, be.ensureState("select").style = ce, ed(be);
    }
    re.add(be);
  }
  function fe(re, be) {
    var te = er(be);
    te.dataIndex = o.dataIndex, te.seriesIndex = r.seriesIndex;
    var ne = Math.max(p - 2 * y, 0), ie = Math.max(v - 2 * y, 0);
    if (be.culling = !0, be.setShape({
      x: y,
      y,
      width: ne,
      height: ie,
      r: O
    }), _)
      K(be);
    else {
      be.invisible = !1;
      var xe = o.getVisual("style"), ge = xe.fill, ae = _B(k);
      ae.fill = ge, ae.decal = xe.decal;
      var pe = mf(P), ce = mf(L), Ee = mf(F);
      we(be, ge, xe.opacity, null), be.setStyle(ae), be.ensureState("emphasis").style = pe, be.ensureState("blur").style = ce, be.ensureState("select").style = Ee, ed(be);
    }
    re.add(be);
  }
  function K(re) {
    !re.invisible && n.push(re);
  }
  function we(re, be, te, ne) {
    var ie = d.getModel(ne ? yB : mB), xe = Vi(d.get("name"), null), ge = ie.getShallow("show");
    ea(re, zi(d, ne ? yB : mB), {
      defaultText: ge ? xe : null,
      inheritColor: be,
      defaultOpacity: te,
      labelFetcher: r,
      labelDataIndex: o.dataIndex
    });
    var ae = re.getTextContent();
    if (ae) {
      var pe = ae.style, ce = X1(pe.padding || 0);
      ne && (re.setTextConfig({
        layoutRect: ne
      }), ae.disableLabelLayout = !0), ae.beforeUpdate = function() {
        var ke = Math.max((ne ? ne.width : re.shape.width) - ce[1] - ce[3], 0), ye = Math.max((ne ? ne.height : re.shape.height) - ce[0] - ce[2], 0);
        (pe.width !== ke || pe.height !== ye) && ae.setStyle({
          width: ke,
          height: ye
        });
      }, pe.truncateMinChar = 2, pe.lineOverflow = "truncate", ve(pe, ne, c);
      var Ee = ae.getState("emphasis");
      ve(Ee ? Ee.style : null, ne, c);
    }
  }
  function ve(re, be, te) {
    var ne = re ? re.text : null;
    if (!be && te.isLeafRoot && ne != null) {
      var ie = r.get("drillDownIcon", !0);
      re.text = ie ? ie + " " + ne : ne;
    }
  }
  function De(re, be, te, ne) {
    var ie = S != null && t[re][S], xe = a[re];
    return ie ? (t[re][S] = null, Ie(xe, ie)) : _ || (ie = new be(), ie instanceof cs && (ie.z2 = kSe(te, ne)), q(xe, ie)), e[re][w] = ie;
  }
  function Ie(re, be) {
    var te = re[w] = {};
    be instanceof $6 ? (te.oldX = be.x, te.oldY = be.y) : te.oldShape = $e({}, be.shape);
  }
  function q(re, be) {
    var te = re[w] = {}, ne = o.parentNode, ie = be instanceof Wt;
    if (ne && (!i || i.direction === "drillDown")) {
      var xe = 0, ge = 0, ae = a.background[ne.getRawIndex()];
      !i && ae && ae.oldShape && (xe = ae.oldShape.width, ge = ae.oldShape.height), ie ? (te.oldX = 0, te.oldY = ge) : te.oldShape = {
        x: xe,
        y: ge,
        width: 0,
        height: 0
      };
    }
    te.fadein = !ie;
  }
}
function kSe(r, e) {
  return r * TSe + e;
}
const MSe = ESe;
var k1 = J, ISe = zt, Db = -1, sk = (
  /** @class */
  function() {
    function r(e) {
      var t = e.mappingMethod, i = e.type, a = this.option = Gt(e);
      this.type = i, this.mappingMethod = t, this._normalizeData = LSe[t];
      var n = r.visualHandlers[i];
      this.applyVisual = n.applyVisual, this.getColorMapper = n.getColorMapper, this._normalizedToVisual = n._normalizedToVisual[t], t === "piecewise" ? (C5(a), PSe(a)) : t === "category" ? a.categories ? RSe(a) : C5(a, !0) : (kt(t !== "linear" || a.dataExtent), C5(a));
    }
    return r.prototype.mapValueToVisual = function(e) {
      var t = this._normalizeData(e);
      return this._normalizedToVisual(t, e);
    }, r.prototype.getNormalizer = function() {
      return mt(this._normalizeData, this);
    }, r.listVisualTypes = function() {
      return Ir(r.visualHandlers);
    }, r.isValidType = function(e) {
      return r.visualHandlers.hasOwnProperty(e);
    }, r.eachVisual = function(e, t, i) {
      zt(e) ? J(e, t, i) : t.call(i, e);
    }, r.mapVisual = function(e, t, i) {
      var a, n = Ke(e) ? [] : zt(e) ? {} : (a = !0, null);
      return r.eachVisual(e, function(o, s) {
        var l = t.call(i, o, s);
        a ? n = l : n[s] = l;
      }), n;
    }, r.retrieveVisuals = function(e) {
      var t = {}, i;
      return e && k1(r.visualHandlers, function(a, n) {
        e.hasOwnProperty(n) && (t[n] = e[n], i = !0);
      }), i ? t : null;
    }, r.prepareVisualTypes = function(e) {
      if (Ke(e))
        e = e.slice();
      else if (ISe(e)) {
        var t = [];
        k1(e, function(i, a) {
          t.push(a);
        }), e = t;
      } else
        return [];
      return e.sort(function(i, a) {
        return a === "color" && i !== "color" && i.indexOf("color") === 0 ? 1 : -1;
      }), e;
    }, r.dependsOn = function(e, t) {
      return t === "color" ? !!(e && e.indexOf(t) === 0) : e === t;
    }, r.findPieceIndex = function(e, t, i) {
      for (var a, n = 1 / 0, o = 0, s = t.length; o < s; o++) {
        var l = t[o].value;
        if (l != null) {
          if (l === e || vt(l) && l === e + "")
            return o;
          i && d(l, o);
        }
      }
      for (var o = 0, s = t.length; o < s; o++) {
        var u = t[o], c = u.interval, f = u.close;
        if (c) {
          if (c[0] === -1 / 0) {
            if (d2(f[1], e, c[1]))
              return o;
          } else if (c[1] === 1 / 0) {
            if (d2(f[0], c[0], e))
              return o;
          } else if (d2(f[0], c[0], e) && d2(f[1], e, c[1]))
            return o;
          i && d(c[0], o), i && d(c[1], o);
        }
      }
      if (i)
        return e === 1 / 0 ? t.length - 1 : e === -1 / 0 ? 0 : a;
      function d(p, v) {
        var y = Math.abs(p - e);
        y < n && (n = y, a = v);
      }
    }, r.visualHandlers = {
      color: {
        applyVisual: cg("color"),
        getColorMapper: function() {
          var e = this.option;
          return mt(e.mappingMethod === "category" ? function(t, i) {
            return !i && (t = this._normalizeData(t)), Lg.call(this, t);
          } : function(t, i, a) {
            var n = !!a;
            return !i && (t = this._normalizeData(t)), a = Wg(t, e.parsedVisual, a), n ? a : os(a, "rgba");
          }, this);
        },
        _normalizedToVisual: {
          linear: function(e) {
            return os(Wg(e, this.option.parsedVisual), "rgba");
          },
          category: Lg,
          piecewise: function(e, t) {
            var i = j6.call(this, t);
            return i == null && (i = os(Wg(e, this.option.parsedVisual), "rgba")), i;
          },
          fixed: yf
        }
      },
      colorHue: f2(function(e, t) {
        return Cu(e, t);
      }),
      colorSaturation: f2(function(e, t) {
        return Cu(e, null, t);
      }),
      colorLightness: f2(function(e, t) {
        return Cu(e, null, null, t);
      }),
      colorAlpha: f2(function(e, t) {
        return u1(e, t);
      }),
      decal: {
        applyVisual: cg("decal"),
        _normalizedToVisual: {
          linear: null,
          category: Lg,
          piecewise: null,
          fixed: null
        }
      },
      opacity: {
        applyVisual: cg("opacity"),
        _normalizedToVisual: Y6([0, 1])
      },
      liftZ: {
        applyVisual: cg("liftZ"),
        _normalizedToVisual: {
          linear: yf,
          category: yf,
          piecewise: yf,
          fixed: yf
        }
      },
      symbol: {
        applyVisual: function(e, t, i) {
          var a = this.mapValueToVisual(e);
          i("symbol", a);
        },
        _normalizedToVisual: {
          linear: bB,
          category: Lg,
          piecewise: function(e, t) {
            var i = j6.call(this, t);
            return i == null && (i = bB.call(this, e)), i;
          },
          fixed: yf
        }
      },
      symbolSize: {
        applyVisual: cg("symbolSize"),
        _normalizedToVisual: Y6([0, 1])
      }
    }, r;
  }()
);
function PSe(r) {
  var e = r.pieceList;
  r.hasSpecialVisual = !1, J(e, function(t, i) {
    t.originIndex = i, t.visual != null && (r.hasSpecialVisual = !0);
  });
}
function RSe(r) {
  var e = r.categories, t = r.categoryMap = {}, i = r.visual;
  if (k1(e, function(o, s) {
    t[o] = s;
  }), !Ke(i)) {
    var a = [];
    zt(i) ? k1(i, function(o, s) {
      var l = t[s];
      a[l ?? Db] = o;
    }) : a[Db] = i, i = RK(r, a);
  }
  for (var n = e.length - 1; n >= 0; n--)
    i[n] == null && (delete t[e[n]], e.pop());
}
function C5(r, e) {
  var t = r.visual, i = [];
  zt(t) ? k1(t, function(n) {
    i.push(n);
  }) : t != null && i.push(t);
  var a = {
    color: 1,
    symbol: 1
  };
  !e && i.length === 1 && !a.hasOwnProperty(r.type) && (i[1] = i[0]), RK(r, i);
}
function f2(r) {
  return {
    applyVisual: function(e, t, i) {
      var a = this.mapValueToVisual(e);
      i("color", r(t("color"), a));
    },
    _normalizedToVisual: Y6([0, 1])
  };
}
function bB(r) {
  var e = this.option.visual;
  return e[Math.round(Qr(r, [0, 1], [0, e.length - 1], !0))] || {};
}
function cg(r) {
  return function(e, t, i) {
    i(r, this.mapValueToVisual(e));
  };
}
function Lg(r) {
  var e = this.option.visual;
  return e[this.option.loop && r !== Db ? r % e.length : r];
}
function yf() {
  return this.option.visual[0];
}
function Y6(r) {
  return {
    linear: function(e) {
      return Qr(e, r, this.option.visual, !0);
    },
    category: Lg,
    piecewise: function(e, t) {
      var i = j6.call(this, t);
      return i == null && (i = Qr(e, r, this.option.visual, !0)), i;
    },
    fixed: yf
  };
}
function j6(r) {
  var e = this.option, t = e.pieceList;
  if (e.hasSpecialVisual) {
    var i = sk.findPieceIndex(r, t), a = t[i];
    if (a && a.visual)
      return a.visual[this.type];
  }
}
function RK(r, e) {
  return r.visual = e, r.type === "color" && (r.parsedVisual = Je(e, function(t) {
    var i = Va(t);
    return !i && process.env.NODE_ENV !== "production" && Yn("'" + t + "' is an illegal color, fallback to '#000000'", !0), i || [0, 0, 0, 1];
  })), e;
}
var LSe = {
  linear: function(r) {
    return Qr(r, this.option.dataExtent, [0, 1], !0);
  },
  piecewise: function(r) {
    var e = this.option.pieceList, t = sk.findPieceIndex(r, e, !0);
    if (t != null)
      return Qr(t, [0, e.length - 1], [0, 1], !0);
  },
  category: function(r) {
    var e = this.option.categories ? this.option.categoryMap[r] : r;
    return e ?? Db;
  },
  fixed: si
};
function d2(r, e, t) {
  return r ? e <= t : e < t;
}
const _a = sk;
var OSe = "itemStyle", LK = Ar();
const FSe = {
  seriesType: "treemap",
  reset: function(r) {
    var e = r.getData().tree, t = e.root;
    t.isRemoved() || OK(
      t,
      // Visual should calculate from tree root but not view root.
      {},
      r.getViewRoot().getAncestors(),
      r
    );
  }
};
function OK(r, e, t, i) {
  var a = r.getModel(), n = r.getLayout(), o = r.hostTree.data;
  if (!(!n || n.invisible || !n.isInView)) {
    var s = a.getModel(OSe), l = NSe(s, e, i), u = o.ensureUniqueItemVisual(r.dataIndex, "style"), c = s.get("borderColor"), f = s.get("borderColorSaturation"), d;
    f != null && (d = wB(l), c = BSe(f, d)), u.stroke = c;
    var p = r.viewChildren;
    if (!p || !p.length)
      d = wB(l), u.fill = d;
    else {
      var v = VSe(r, a, n, s, l, p);
      J(p, function(y, _) {
        if (y.depth >= t.length || y === t[y.depth]) {
          var w = USe(a, l, y, _, v, i);
          OK(y, w, t, i);
        }
      });
    }
  }
}
function NSe(r, e, t) {
  var i = $e({}, e), a = t.designatedVisualItemStyle;
  return J(["color", "colorAlpha", "colorSaturation"], function(n) {
    a[n] = e[n];
    var o = r.get(n);
    a[n] = null, o != null && (i[n] = o);
  }), i;
}
function wB(r) {
  var e = A5(r, "color");
  if (e) {
    var t = A5(r, "colorAlpha"), i = A5(r, "colorSaturation");
    return i && (e = Cu(e, null, null, i)), t && (e = u1(e, t)), e;
  }
}
function BSe(r, e) {
  return e != null ? Cu(e, null, null, r) : null;
}
function A5(r, e) {
  var t = r[e];
  if (t != null && t !== "none")
    return t;
}
function VSe(r, e, t, i, a, n) {
  if (!(!n || !n.length)) {
    var o = E5(e, "color") || a.color != null && a.color !== "none" && (E5(e, "colorAlpha") || E5(e, "colorSaturation"));
    if (o) {
      var s = e.get("visualMin"), l = e.get("visualMax"), u = t.dataExtent.slice();
      s != null && s < u[0] && (u[0] = s), l != null && l > u[1] && (u[1] = l);
      var c = e.get("colorMappingBy"), f = {
        type: o.name,
        dataExtent: u,
        visual: o.range
      };
      f.type === "color" && (c === "index" || c === "id") ? (f.mappingMethod = "category", f.loop = !0) : f.mappingMethod = "linear";
      var d = new _a(f);
      return LK(d).drColorMappingBy = c, d;
    }
  }
}
function E5(r, e) {
  var t = r.get(e);
  return Ke(t) && t.length ? {
    name: e,
    range: t
  } : null;
}
function USe(r, e, t, i, a, n) {
  var o = $e({}, e);
  if (a) {
    var s = a.type, l = s === "color" && LK(a).drColorMappingBy, u = l === "index" ? i : l === "id" ? n.mapIdToIndex(t.getId()) : t.getValue(r.get("visualDimension"));
    o[s] = a.mapValueToVisual(u);
  }
  return o;
}
var M1 = Math.max, kb = Math.min, SB = Di, lk = J, FK = ["itemStyle", "borderWidth"], GSe = ["itemStyle", "gapWidth"], zSe = ["upperLabel", "show"], WSe = ["upperLabel", "height"];
const HSe = {
  seriesType: "treemap",
  reset: function(r, e, t, i) {
    var a = r.option, n = Wi(r, t).refContainer, o = Bn(r.getBoxLayoutParams(), n), s = a.size || [], l = gt(SB(o.width, s[0]), n.width), u = gt(SB(o.height, s[1]), n.height), c = i && i.type, f = ["treemapZoomToNode", "treemapRootToNode"], d = D1(i, f, r), p = c === "treemapRender" || c === "treemapMove" ? i.rootRect : null, v = r.getViewRoot(), y = MK(v);
    if (c !== "treemapMove") {
      var _ = c === "treemapZoomToNode" ? KSe(r, d, v, l, u) : p ? [p.width, p.height] : [l, u], w = a.sort;
      w && w !== "asc" && w !== "desc" && (w = "desc");
      var S = {
        squareRatio: a.squareRatio,
        sort: w,
        leafDepth: a.leafDepth
      };
      v.hostTree.clearLayouts();
      var x = {
        x: 0,
        y: 0,
        width: _[0],
        height: _[1],
        area: _[0] * _[1]
      };
      v.setLayout(x), NK(v, S, !1, 0), x = v.getLayout(), lk(y, function(M, k) {
        var P = (y[k + 1] || v).getValue();
        M.setLayout($e({
          dataExtent: [P, P],
          borderWidth: 0,
          upperHeight: 0
        }, x));
      });
    }
    var E = r.getData().tree.root;
    E.setLayout(ZSe(o, p, d), !0), r.setLayoutInfo(o), BK(
      E,
      // Transform to base element coordinate system.
      new Jt(-o.x, -o.y, t.getWidth(), t.getHeight()),
      y,
      v,
      0
    );
  }
};
function NK(r, e, t, i) {
  var a, n;
  if (!r.isRemoved()) {
    var o = r.getLayout();
    a = o.width, n = o.height;
    var s = r.getModel(), l = s.get(FK), u = s.get(GSe) / 2, c = VK(s), f = Math.max(l, c), d = l - u, p = f - u;
    r.setLayout({
      borderWidth: l,
      upperHeight: f,
      upperLabelHeight: c
    }, !0), a = M1(a - 2 * d, 0), n = M1(n - d - p, 0);
    var v = a * n, y = $Se(r, s, v, e, t, i);
    if (y.length) {
      var _ = {
        x: d,
        y: p,
        width: a,
        height: n
      }, w = kb(a, n), S = 1 / 0, x = [];
      x.area = 0;
      for (var E = 0, M = y.length; E < M; ) {
        var k = y[E];
        x.push(k), x.area += k.getLayout().area;
        var P = XSe(x, w, e.squareRatio);
        P <= S ? (E++, S = P) : (x.area -= x.pop().getLayout().area, xB(x, w, _, u, !1), w = kb(_.width, _.height), x.length = x.area = 0, S = 1 / 0);
      }
      if (x.length && xB(x, w, _, u, !0), !t) {
        var L = s.get("childrenVisibleMin");
        L != null && v < L && (t = !0);
      }
      for (var E = 0, M = y.length; E < M; E++)
        NK(y[E], e, t, i + 1);
    }
  }
}
function $Se(r, e, t, i, a, n) {
  var o = r.children || [], s = i.sort;
  s !== "asc" && s !== "desc" && (s = null);
  var l = i.leafDepth != null && i.leafDepth <= n;
  if (a && !l)
    return r.viewChildren = [];
  o = Xr(o, function(p) {
    return !p.isRemoved();
  }), jSe(o, s);
  var u = qSe(e, o, s);
  if (u.sum === 0)
    return r.viewChildren = [];
  if (u.sum = YSe(e, t, u.sum, s, o), u.sum === 0)
    return r.viewChildren = [];
  for (var c = 0, f = o.length; c < f; c++) {
    var d = o[c].getValue() / u.sum * t;
    o[c].setLayout({
      area: d
    });
  }
  return l && (o.length && r.setLayout({
    isLeafRoot: !0
  }, !0), o.length = 0), r.viewChildren = o, r.setLayout({
    dataExtent: u.dataExtent
  }, !0), o;
}
function YSe(r, e, t, i, a) {
  if (!i)
    return t;
  for (var n = r.get("visibleMin"), o = a.length, s = o, l = o - 1; l >= 0; l--) {
    var u = a[i === "asc" ? o - l - 1 : l].getValue();
    u / t * e < n && (s = l, t -= u);
  }
  return i === "asc" ? a.splice(0, o - s) : a.splice(s, o - s), t;
}
function jSe(r, e) {
  return e && r.sort(function(t, i) {
    var a = e === "asc" ? t.getValue() - i.getValue() : i.getValue() - t.getValue();
    return a === 0 ? e === "asc" ? t.dataIndex - i.dataIndex : i.dataIndex - t.dataIndex : a;
  }), r;
}
function qSe(r, e, t) {
  for (var i = 0, a = 0, n = e.length; a < n; a++)
    i += e[a].getValue();
  var o = r.get("visualDimension"), s;
  return !e || !e.length ? s = [NaN, NaN] : o === "value" && t ? (s = [e[e.length - 1].getValue(), e[0].getValue()], t === "asc" && s.reverse()) : (s = [1 / 0, -1 / 0], lk(e, function(l) {
    var u = l.getValue(o);
    u < s[0] && (s[0] = u), u > s[1] && (s[1] = u);
  })), {
    sum: i,
    dataExtent: s
  };
}
function XSe(r, e, t) {
  for (var i = 0, a = 1 / 0, n = 0, o = void 0, s = r.length; n < s; n++)
    o = r[n].getLayout().area, o && (o < a && (a = o), o > i && (i = o));
  var l = r.area * r.area, u = e * e * t;
  return l ? M1(u * i / l, l / (u * a)) : 1 / 0;
}
function xB(r, e, t, i, a) {
  var n = e === t.width ? 0 : 1, o = 1 - n, s = ["x", "y"], l = ["width", "height"], u = t[s[n]], c = e ? r.area / e : 0;
  (a || c > t[l[o]]) && (c = t[l[o]]);
  for (var f = 0, d = r.length; f < d; f++) {
    var p = r[f], v = {}, y = c ? p.getLayout().area / c : 0, _ = v[l[o]] = M1(c - 2 * i, 0), w = t[s[n]] + t[l[n]] - u, S = f === d - 1 || w < y ? w : y, x = v[l[n]] = M1(S - 2 * i, 0);
    v[s[o]] = t[s[o]] + kb(i, _ / 2), v[s[n]] = u + kb(i, x / 2), u += S, p.setLayout(v, !0);
  }
  t[s[o]] += c, t[l[o]] -= c;
}
function KSe(r, e, t, i, a) {
  var n = (e || {}).node, o = [i, a];
  if (!n || n === t)
    return o;
  for (var s, l = i * a, u = l * r.option.zoomToNodeRatio; s = n.parentNode; ) {
    for (var c = 0, f = s.children, d = 0, p = f.length; d < p; d++)
      c += f[d].getValue();
    var v = n.getValue();
    if (v === 0)
      return o;
    u *= c / v;
    var y = s.getModel(), _ = y.get(FK), w = Math.max(_, VK(y));
    u += 4 * _ * _ + (3 * _ + w) * Math.pow(u, 0.5), u > VA && (u = VA), n = s;
  }
  u < l && (u = l);
  var S = Math.pow(u / l, 0.5);
  return [i * S, a * S];
}
function ZSe(r, e, t) {
  if (e)
    return {
      x: e.x,
      y: e.y
    };
  var i = {
    x: 0,
    y: 0
  };
  if (!t)
    return i;
  var a = t.node, n = a.getLayout();
  if (!n)
    return i;
  for (var o = [n.width / 2, n.height / 2], s = a; s; ) {
    var l = s.getLayout();
    o[0] += l.x, o[1] += l.y, s = s.parentNode;
  }
  return {
    x: r.width / 2 - o[0],
    y: r.height / 2 - o[1]
  };
}
function BK(r, e, t, i, a) {
  var n = r.getLayout(), o = t[a], s = o && o === r;
  if (!(o && !s || a === t.length && r !== i)) {
    r.setLayout({
      // isInView means: viewRoot sub tree + viewAbovePath
      isInView: !0,
      // invisible only means: outside view clip so that the node can not
      // see but still layout for animation preparation but not render.
      invisible: !s && !e.intersect(n),
      isAboveViewRoot: s
    }, !0);
    var l = new Jt(e.x - n.x, e.y - n.y, e.width, e.height);
    lk(r.viewChildren || [], function(u) {
      BK(u, l, t, i, a + 1);
    });
  }
}
function VK(r) {
  return r.get(zSe) ? r.get(WSe) : 0;
}
function JSe(r) {
  r.registerSeriesModel(gSe), r.registerChartView(MSe), r.registerVisual(FSe), r.registerLayout(HSe), dSe(r);
}
function QSe(r) {
  var e = r.findComponents({
    mainType: "legend"
  });
  !e || !e.length || r.eachSeriesByType("graph", function(t) {
    var i = t.getCategoriesData(), a = t.getGraph(), n = a.data, o = i.mapArray(i.getName);
    n.filterSelf(function(s) {
      var l = n.getItemModel(s), u = l.getShallow("category");
      if (u != null) {
        Or(u) && (u = o[u]);
        for (var c = 0; c < e.length; c++)
          if (!e[c].isSelected(u))
            return !1;
      }
      return !0;
    });
  });
}
function exe(r) {
  var e = {};
  r.eachSeriesByType("graph", function(t) {
    var i = t.getCategoriesData(), a = t.getData(), n = {};
    i.each(function(o) {
      var s = i.getName(o);
      n["ec-" + s] = o;
      var l = i.getItemModel(o), u = l.getModel("itemStyle").getItemStyle();
      u.fill || (u.fill = t.getColorFromPalette(s, e)), i.setItemVisual(o, "style", u);
      for (var c = ["symbol", "symbolSize", "symbolKeepAspect"], f = 0; f < c.length; f++) {
        var d = l.getShallow(c[f], !0);
        d != null && i.setItemVisual(o, c[f], d);
      }
    }), i.count() && a.each(function(o) {
      var s = a.getItemModel(o), l = s.getShallow("category");
      if (l != null) {
        vt(l) && (l = n["ec-" + l]);
        var u = i.getItemVisual(l, "style"), c = a.ensureUniqueItemVisual(o, "style");
        $e(c, u);
        for (var f = ["symbol", "symbolSize", "symbolKeepAspect"], d = 0; d < f.length; d++)
          a.setItemVisual(o, f[d], i.getItemVisual(l, f[d]));
      }
    });
  });
}
function p2(r) {
  return r instanceof Array || (r = [r, r]), r;
}
function txe(r) {
  r.eachSeriesByType("graph", function(e) {
    var t = e.getGraph(), i = e.getEdgeData(), a = p2(e.get("edgeSymbol")), n = p2(e.get("edgeSymbolSize"));
    i.setVisual("fromSymbol", a && a[0]), i.setVisual("toSymbol", a && a[1]), i.setVisual("fromSymbolSize", n && n[0]), i.setVisual("toSymbolSize", n && n[1]), i.setVisual("style", e.getModel("lineStyle").getLineStyle()), i.each(function(o) {
      var s = i.getItemModel(o), l = t.getEdgeByIndex(o), u = p2(s.getShallow("symbol", !0)), c = p2(s.getShallow("symbolSize", !0)), f = s.getModel("lineStyle").getLineStyle(), d = i.ensureUniqueItemVisual(o, "style");
      switch ($e(d, f), d.stroke) {
        case "source": {
          var p = l.node1.getVisual("style");
          d.stroke = p && p.fill;
          break;
        }
        case "target": {
          var p = l.node2.getVisual("style");
          d.stroke = p && p.fill;
          break;
        }
      }
      u[0] && l.setVisual("fromSymbol", u[0]), u[1] && l.setVisual("toSymbol", u[1]), c[0] && l.setVisual("fromSymbolSize", c[0]), c[1] && l.setVisual("toSymbolSize", c[1]);
    });
  });
}
var q6 = "-->", zS = function(r) {
  return r.get("autoCurveness") || null;
}, UK = function(r, e) {
  var t = zS(r), i = 20, a = [];
  if (Or(t))
    i = t;
  else if (Ke(t)) {
    r.__curvenessList = t;
    return;
  }
  e > i && (i = e);
  var n = i % 2 ? i + 2 : i + 3;
  a = [];
  for (var o = 0; o < n; o++)
    a.push((o % 2 ? o + 1 : o) / 10 * (o % 2 ? -1 : 1));
  r.__curvenessList = a;
}, I1 = function(r, e, t) {
  var i = [r.id, r.dataIndex].join("."), a = [e.id, e.dataIndex].join(".");
  return [t.uid, i, a].join(q6);
}, GK = function(r) {
  var e = r.split(q6);
  return [e[0], e[2], e[1]].join(q6);
}, rxe = function(r, e) {
  var t = I1(r.node1, r.node2, e);
  return e.__edgeMap[t];
}, nxe = function(r, e) {
  var t = X6(I1(r.node1, r.node2, e), e), i = X6(I1(r.node2, r.node1, e), e);
  return t + i;
}, X6 = function(r, e) {
  var t = e.__edgeMap;
  return t[r] ? t[r].length : 0;
};
function ixe(r) {
  zS(r) && (r.__curvenessList = [], r.__edgeMap = {}, UK(r));
}
function axe(r, e, t, i) {
  if (zS(t)) {
    var a = I1(r, e, t), n = t.__edgeMap, o = n[GK(a)];
    n[a] && !o ? n[a].isForward = !0 : o && n[a] && (o.isForward = !0, n[a].isForward = !1), n[a] = n[a] || [], n[a].push(i);
  }
}
function uk(r, e, t, i) {
  var a = zS(e), n = Ke(a);
  if (!a)
    return null;
  var o = rxe(r, e);
  if (!o)
    return null;
  for (var s = -1, l = 0; l < o.length; l++)
    if (o[l] === t) {
      s = l;
      break;
    }
  var u = nxe(r, e);
  UK(e, u), r.lineStyle = r.lineStyle || {};
  var c = I1(r.node1, r.node2, e), f = e.__curvenessList, d = n || u % 2 ? 0 : 1;
  if (o.isForward)
    return f[d + s];
  var p = GK(c), v = X6(p, e), y = f[s + v + d];
  return i ? n ? a && a[0] === 0 ? (v + d) % 2 ? y : -y : ((v % 2 ? 0 : 1) + d) % 2 ? y : -y : (v + d) % 2 ? y : -y : f[s + v + d];
}
function zK(r) {
  var e = r.coordinateSystem;
  if (!(e && e.type !== "view")) {
    var t = r.getGraph();
    t.eachNode(function(i) {
      var a = i.getModel();
      i.setLayout([+a.get("x"), +a.get("y")]);
    }), ck(t, r);
  }
}
function ck(r, e) {
  r.eachEdge(function(t, i) {
    var a = Ba(t.getModel().get(["lineStyle", "curveness"]), -uk(t, e, i, !0), 0), n = Al(t.node1.getLayout()), o = Al(t.node2.getLayout()), s = [n, o];
    +a && s.push([(n[0] + o[0]) / 2 - (n[1] - o[1]) * a, (n[1] + o[1]) / 2 - (o[0] - n[0]) * a]), t.setLayout(s);
  });
}
function oxe(r, e) {
  r.eachSeriesByType("graph", function(t) {
    var i = t.get("layout"), a = t.coordinateSystem;
    if (a && a.type !== "view") {
      var n = t.getData(), o = [];
      J(a.dimensions, function(d) {
        o = o.concat(n.mapDimensionsAll(d));
      });
      for (var s = 0; s < n.count(); s++) {
        for (var l = [], u = !1, c = 0; c < o.length; c++) {
          var f = n.get(o[c], s);
          isNaN(f) || (u = !0), l.push(f);
        }
        u ? n.setItemLayout(s, a.dataToPoint(l)) : n.setItemLayout(s, [NaN, NaN]);
      }
      ck(n.graph, t);
    } else
      (!i || i === "none") && zK(t);
  });
}
function Og(r) {
  var e = r.coordinateSystem;
  if (e.type !== "view")
    return 1;
  var t = r.option.nodeScaleRatio, i = e.scaleX, a = e.getZoom(), n = (a - 1) * t + 1;
  return n / i;
}
function Fg(r) {
  var e = r.getVisual("symbolSize");
  return e instanceof Array && (e = (e[0] + e[1]) / 2), +e;
}
var TB = Math.PI, D5 = [];
function hk(r, e, t, i) {
  var a = r.coordinateSystem;
  if (!(a && a.type !== "view")) {
    var n = a.getBoundingRect(), o = r.getData(), s = o.graph, l = n.width / 2 + n.x, u = n.height / 2 + n.y, c = Math.min(n.width, n.height) / 2, f = o.count();
    if (o.setLayout({
      cx: l,
      cy: u
    }), !!f) {
      if (t) {
        var d = a.pointToData(i), p = d[0], v = d[1], y = [p - l, v - u];
        _d(y, y), Ug(y, y, c), t.setLayout([l + y[0], u + y[1]], !0);
        var _ = r.get(["circular", "rotateLabel"]);
        WK(t, _, l, u);
      }
      sxe[e](r, s, o, c, l, u, f), s.eachEdge(function(w, S) {
        var x = Ba(w.getModel().get(["lineStyle", "curveness"]), uk(w, r, S), 0), E = Al(w.node1.getLayout()), M = Al(w.node2.getLayout()), k, P = (E[0] + M[0]) / 2, L = (E[1] + M[1]) / 2;
        +x && (x *= 3, k = [l * x + P * (1 - x), u * x + L * (1 - x)]), w.setLayout([E, M, k]);
      });
    }
  }
}
var sxe = {
  value: function(r, e, t, i, a, n, o) {
    var s = 0, l = t.getSum("value"), u = Math.PI * 2 / (l || o);
    e.eachNode(function(c) {
      var f = c.getValue("value"), d = u * (l ? f : 1) / 2;
      s += d, c.setLayout([i * Math.cos(s) + a, i * Math.sin(s) + n]), s += d;
    });
  },
  symbolSize: function(r, e, t, i, a, n, o) {
    var s = 0;
    D5.length = o;
    var l = Og(r);
    e.eachNode(function(f) {
      var d = Fg(f);
      isNaN(d) && (d = 2), d < 0 && (d = 0), d *= l;
      var p = Math.asin(d / 2 / i);
      isNaN(p) && (p = TB / 2), D5[f.dataIndex] = p, s += p * 2;
    });
    var u = (2 * TB - s) / o / 2, c = 0;
    e.eachNode(function(f) {
      var d = u + D5[f.dataIndex];
      c += d, (!f.getLayout() || !f.getLayout().fixed) && f.setLayout([i * Math.cos(c) + a, i * Math.sin(c) + n]), c += d;
    });
  }
};
function WK(r, e, t, i) {
  var a = r.getGraphicEl();
  if (a) {
    var n = r.getModel(), o = n.get(["label", "rotate"]) || 0, s = a.getSymbolPath();
    if (e) {
      var l = r.getLayout(), u = Math.atan2(l[1] - i, l[0] - t);
      u < 0 && (u = Math.PI * 2 + u);
      var c = l[0] < t;
      c && (u = u - Math.PI);
      var f = c ? "left" : "right";
      s.setTextConfig({
        rotation: -u,
        position: f,
        origin: "center"
      });
      var d = s.ensureState("emphasis");
      $e(d.textConfig || (d.textConfig = {}), {
        position: f
      });
    } else
      s.setTextConfig({
        rotation: o *= Math.PI / 180
      });
  }
}
function lxe(r) {
  r.eachSeriesByType("graph", function(e) {
    e.get("layout") === "circular" && hk(e, "symbolSize");
  });
}
var mp = P_;
function uxe(r, e, t) {
  for (var i = r, a = e, n = t.rect, o = n.width, s = n.height, l = [n.x + o / 2, n.y + s / 2], u = t.gravity == null ? 0.1 : t.gravity, c = 0; c < i.length; c++) {
    var f = i[c];
    f.p || (f.p = hh(o * (Math.random() - 0.5) + l[0], s * (Math.random() - 0.5) + l[1])), f.pp = Al(f.p), f.edges = null;
  }
  var d = t.friction == null ? 0.6 : t.friction, p = d, v, y;
  return {
    warmUp: function() {
      p = d * 0.8;
    },
    setFixed: function(_) {
      i[_].fixed = !0;
    },
    setUnfixed: function(_) {
      i[_].fixed = !1;
    },
    /**
     * Before step hook
     */
    beforeStep: function(_) {
      v = _;
    },
    /**
     * After step hook
     */
    afterStep: function(_) {
      y = _;
    },
    /**
     * Some formulas were originally copied from "d3.js"
     * https://github.com/d3/d3/blob/b516d77fb8566b576088e73410437494717ada26/src/layout/force.js
     * with some modifications made for this project.
     * See the license statement at the head of this file.
     */
    step: function(_) {
      v && v(i, a);
      for (var w = [], S = i.length, x = 0; x < a.length; x++) {
        var E = a[x];
        if (!E.ignoreForceLayout) {
          var M = E.n1, k = E.n2;
          Mc(w, k.p, M.p);
          var P = o1(w) - E.d, L = k.w / (M.w + k.w);
          isNaN(L) && (L = 0), _d(w, w), !M.fixed && mp(M.p, M.p, w, L * P * p), !k.fixed && mp(k.p, k.p, w, -(1 - L) * P * p);
        }
      }
      for (var x = 0; x < S; x++) {
        var F = i[x];
        F.fixed || (Mc(w, l, F.p), mp(F.p, F.p, w, u * p));
      }
      for (var x = 0; x < S; x++)
        for (var M = i[x], O = x + 1; O < S; O++) {
          var k = i[O];
          Mc(w, k.p, M.p);
          var P = o1(w);
          P === 0 && (lS(w, Math.random() - 0.5, Math.random() - 0.5), P = 1);
          var U = (M.rep + k.rep) / P / P;
          !M.fixed && mp(M.pp, M.pp, w, U), !k.fixed && mp(k.pp, k.pp, w, -U);
        }
      for (var V = [], x = 0; x < S; x++) {
        var F = i[x];
        F.fixed || (Mc(V, F.p, F.pp), mp(F.p, F.p, V, p), Oa(F.pp, F.p));
      }
      p = p * 0.992;
      var G = p < 0.01;
      y && y(i, a, G), _ && _(G);
    }
  };
}
function cxe(r) {
  r.eachSeriesByType("graph", function(e) {
    var t = e.coordinateSystem;
    if (!(t && t.type !== "view"))
      if (e.get("layout") === "force") {
        var i = e.preservedPoints || {}, a = e.getGraph(), n = a.data, o = a.edgeData, s = e.getModel("force"), l = s.get("initLayout");
        e.preservedPoints ? n.each(function(x) {
          var E = n.getId(x);
          n.setItemLayout(x, i[E] || [NaN, NaN]);
        }) : !l || l === "none" ? zK(e) : l === "circular" && hk(e, "value");
        var u = n.getDataExtent("value"), c = o.getDataExtent("value"), f = s.get("repulsion"), d = s.get("edgeLength"), p = Ke(f) ? f : [f, f], v = Ke(d) ? d : [d, d];
        v = [v[1], v[0]];
        var y = n.mapArray("value", function(x, E) {
          var M = n.getItemLayout(E), k = Qr(x, u, p);
          return isNaN(k) && (k = (p[0] + p[1]) / 2), {
            w: k,
            rep: k,
            fixed: n.getItemModel(E).get("fixed"),
            p: !M || isNaN(M[0]) || isNaN(M[1]) ? null : M
          };
        }), _ = o.mapArray("value", function(x, E) {
          var M = a.getEdgeByIndex(E), k = Qr(x, c, v);
          isNaN(k) && (k = (v[0] + v[1]) / 2);
          var P = M.getModel(), L = Ba(M.getModel().get(["lineStyle", "curveness"]), -uk(M, e, E, !0), 0);
          return {
            n1: y[M.node1.dataIndex],
            n2: y[M.node2.dataIndex],
            d: k,
            curveness: L,
            ignoreForceLayout: P.get("ignoreForceLayout")
          };
        }), w = t.getBoundingRect(), S = uxe(y, _, {
          rect: w,
          gravity: s.get("gravity"),
          friction: s.get("friction")
        });
        S.beforeStep(function(x, E) {
          for (var M = 0, k = x.length; M < k; M++)
            x[M].fixed && Oa(x[M].p, a.getNodeByIndex(M).getLayout());
        }), S.afterStep(function(x, E, M) {
          for (var k = 0, P = x.length; k < P; k++)
            x[k].fixed || a.getNodeByIndex(k).setLayout(x[k].p), i[n.getId(k)] = x[k].p;
          for (var k = 0, P = E.length; k < P; k++) {
            var L = E[k], F = a.getEdgeByIndex(k), O = L.n1.p, U = L.n2.p, V = F.getLayout();
            V = V ? V.slice() : [], V[0] = V[0] || [], V[1] = V[1] || [], Oa(V[0], O), Oa(V[1], U), +L.curveness && (V[2] = [(O[0] + U[0]) / 2 - (O[1] - U[1]) * L.curveness, (O[1] + U[1]) / 2 - (U[0] - O[0]) * L.curveness]), F.setLayout(V);
          }
        }), e.forceLayout = S, e.preservedPoints = i, S.step();
      } else
        e.forceLayout = null;
  });
}
function hxe(r, e, t) {
  var i = Wi(r, e), a = $e(r.getBoxLayoutParams(), {
    aspect: t
  }), n = Bn(a, i.refContainer);
  return hj(r, n, t);
}
function fxe(r, e) {
  var t = [];
  return r.eachSeriesByType("graph", function(i) {
    sm({
      targetModel: i,
      coordSysType: "view",
      coordSysProvider: a,
      isDefaultDataCoordSys: !0
    });
    function a() {
      var n = i.getData(), o = n.mapArray(function(v) {
        var y = n.getItemModel(v);
        return [+y.get("x"), +y.get("y")];
      }), s = [], l = [];
      mS(o, s, l), l[0] - s[0] === 0 && (l[0] += 1, s[0] -= 1), l[1] - s[1] === 0 && (l[1] += 1, s[1] -= 1);
      var u = (l[0] - s[0]) / (l[1] - s[1]), c = hxe(i, e, u);
      isNaN(u) && (s = [c.x, c.y], l = [c.x + c.width, c.y + c.height]);
      var f = l[0] - s[0], d = l[1] - s[1], p = new Md(null, {
        api: e,
        ecModel: r
      });
      return p.zoomLimit = i.get("scaleLimit"), p.setBoundingRect(s[0], s[1], f, d), p.setViewRect(c.x, c.y, c.width, c.height), p.setCenter(i.get("center")), p.setZoom(i.get("zoom")), t.push(p), p;
    }
  }), t;
}
var CB = ki.prototype, k5 = nm.prototype, HK = (
  /** @class */
  function() {
    function r() {
      this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.percent = 1;
    }
    return r;
  }()
);
(function(r) {
  Ge(e, r);
  function e() {
    return r !== null && r.apply(this, arguments) || this;
  }
  return e;
})(HK);
function M5(r) {
  return isNaN(+r.cpx1) || isNaN(+r.cpy1);
}
var dxe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t) {
      var i = r.call(this, t) || this;
      return i.type = "ec-line", i;
    }
    return e.prototype.getDefaultStyle = function() {
      return {
        stroke: Ve.color.neutral99,
        fill: null
      };
    }, e.prototype.getDefaultShape = function() {
      return new HK();
    }, e.prototype.buildPath = function(t, i) {
      M5(i) ? CB.buildPath.call(this, t, i) : k5.buildPath.call(this, t, i);
    }, e.prototype.pointAt = function(t) {
      return M5(this.shape) ? CB.pointAt.call(this, t) : k5.pointAt.call(this, t);
    }, e.prototype.tangentAt = function(t) {
      var i = this.shape, a = M5(i) ? [i.x2 - i.x1, i.y2 - i.y1] : k5.tangentAt.call(this, t);
      return _d(a, a);
    }, e;
  }(Er)
);
const $K = dxe;
var I5 = ["fromSymbol", "toSymbol"];
function AB(r) {
  return "_" + r + "Type";
}
function EB(r, e, t) {
  var i = e.getItemVisual(t, r);
  if (!i || i === "none")
    return i;
  var a = e.getItemVisual(t, r + "Size"), n = e.getItemVisual(t, r + "Rotate"), o = e.getItemVisual(t, r + "Offset"), s = e.getItemVisual(t, r + "KeepAspect"), l = z0(a), u = Ad(o || 0, l);
  return i + l + u + (n || "") + (s || "");
}
function DB(r, e, t) {
  var i = e.getItemVisual(t, r);
  if (!(!i || i === "none")) {
    var a = e.getItemVisual(t, r + "Size"), n = e.getItemVisual(t, r + "Rotate"), o = e.getItemVisual(t, r + "Offset"), s = e.getItemVisual(t, r + "KeepAspect"), l = z0(a), u = Ad(o || 0, l), c = Si(i, -l[0] / 2 + u[0], -l[1] / 2 + u[1], l[0], l[1], null, s);
    return c.__specifiedRotation = n == null || isNaN(n) ? void 0 : +n * Math.PI / 180 || 0, c.name = r, c;
  }
}
function pxe(r) {
  var e = new $K({
    name: "line",
    subPixelOptimize: !0
  });
  return K6(e.shape, r), e;
}
function K6(r, e) {
  r.x1 = e[0][0], r.y1 = e[0][1], r.x2 = e[1][0], r.y2 = e[1][1], r.percent = 1;
  var t = e[2];
  t ? (r.cpx1 = t[0], r.cpy1 = t[1]) : (r.cpx1 = NaN, r.cpy1 = NaN);
}
var vxe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i, a) {
      var n = r.call(this) || this;
      return n._createLine(t, i, a), n;
    }
    return e.prototype._createLine = function(t, i, a) {
      var n = t.hostModel, o = t.getItemLayout(i), s = t.getItemVisual(i, "z2"), l = pxe(o);
      l.shape.percent = 0, In(l, {
        z2: It(s, 0),
        shape: {
          percent: 1
        }
      }, n, i), this.add(l), J(I5, function(u) {
        var c = DB(u, t, i);
        this.add(c), this[AB(u)] = EB(u, t, i);
      }, this), this._updateCommonStl(t, i, a);
    }, e.prototype.updateData = function(t, i, a) {
      var n = t.hostModel, o = this.childOfName("line"), s = t.getItemLayout(i), l = {
        shape: {}
      };
      K6(l.shape, s), Wr(o, l, n, i), J(I5, function(u) {
        var c = EB(u, t, i), f = AB(u);
        if (this[f] !== c) {
          this.remove(this.childOfName(u));
          var d = DB(u, t, i);
          this.add(d);
        }
        this[f] = c;
      }, this), this._updateCommonStl(t, i, a);
    }, e.prototype.getLinePath = function() {
      return this.childAt(0);
    }, e.prototype._updateCommonStl = function(t, i, a) {
      var n = t.hostModel, o = this.childOfName("line"), s = a && a.emphasisLineStyle, l = a && a.blurLineStyle, u = a && a.selectLineStyle, c = a && a.labelStatesModels, f = a && a.emphasisDisabled, d = a && a.focus, p = a && a.blurScope;
      if (!a || t.hasItemOption) {
        var v = t.getItemModel(i), y = v.getModel("emphasis");
        s = y.getModel("lineStyle").getLineStyle(), l = v.getModel(["blur", "lineStyle"]).getLineStyle(), u = v.getModel(["select", "lineStyle"]).getLineStyle(), f = y.get("disabled"), d = y.get("focus"), p = y.get("blurScope"), c = zi(v);
      }
      var _ = t.getItemVisual(i, "style"), w = _.stroke;
      o.useStyle(_), o.style.fill = null, o.style.strokeNoScale = !0, o.ensureState("emphasis").style = s, o.ensureState("blur").style = l, o.ensureState("select").style = u, J(I5, function(k) {
        var P = this.childOfName(k);
        if (P) {
          P.setColor(w), P.style.opacity = _.opacity;
          for (var L = 0; L < ro.length; L++) {
            var F = ro[L], O = o.getState(F);
            if (O) {
              var U = O.style || {}, V = P.ensureState(F), G = V.style || (V.style = {});
              U.stroke != null && (G[P.__isEmptyBrush ? "stroke" : "fill"] = U.stroke), U.opacity != null && (G.opacity = U.opacity);
            }
          }
          P.markRedraw();
        }
      }, this);
      var S = n.getRawValue(i);
      ea(this, c, {
        labelDataIndex: i,
        labelFetcher: {
          getFormattedLabel: function(k, P) {
            return n.getFormattedLabel(k, P, t.dataType);
          }
        },
        inheritColor: w || Ve.color.neutral99,
        defaultOpacity: _.opacity,
        defaultText: (S == null ? t.getName(i) : isFinite(S) ? wi(S) : S) + ""
      });
      var x = this.getTextContent();
      if (x) {
        var E = c.normal;
        x.__align = x.style.align, x.__verticalAlign = x.style.verticalAlign, x.__position = E.get("position") || "middle";
        var M = E.get("distance");
        Ke(M) || (M = [M, M]), x.__labelDistance = M;
      }
      this.setTextConfig({
        position: null,
        local: !0,
        inside: !1
        // Can't be inside for stroke element.
      }), Wn(this, d, p, f);
    }, e.prototype.highlight = function() {
      Vu(this);
    }, e.prototype.downplay = function() {
      Uu(this);
    }, e.prototype.updateLayout = function(t, i) {
      this.setLinePoints(t.getItemLayout(i));
    }, e.prototype.setLinePoints = function(t) {
      var i = this.childOfName("line");
      K6(i.shape, t), i.dirty();
    }, e.prototype.beforeUpdate = function() {
      var t = this, i = t.childOfName("fromSymbol"), a = t.childOfName("toSymbol"), n = t.getTextContent();
      if (!i && !a && (!n || n.ignore))
        return;
      for (var o = 1, s = this.parent; s; )
        s.scaleX && (o /= s.scaleX), s = s.parent;
      var l = t.childOfName("line");
      if (!this.__dirty && !l.__dirty)
        return;
      var u = l.shape.percent, c = l.pointAt(0), f = l.pointAt(u), d = Mc([], f, c);
      _d(d, d);
      function p(O, U) {
        var V = O.__specifiedRotation;
        if (V == null) {
          var G = l.tangentAt(U);
          O.attr("rotation", (U === 1 ? -1 : 1) * Math.PI / 2 - Math.atan2(G[1], G[0]));
        } else
          O.attr("rotation", V);
      }
      if (i && (i.setPosition(c), p(i, 0), i.scaleX = i.scaleY = o * u, i.markRedraw()), a && (a.setPosition(f), p(a, 1), a.scaleX = a.scaleY = o * u, a.markRedraw()), n && !n.ignore) {
        n.x = n.y = 0, n.originX = n.originY = 0;
        var v = void 0, y = void 0, _ = n.__labelDistance, w = _[0] * o, S = _[1] * o, x = u / 2, E = l.tangentAt(x), M = [E[1], -E[0]], k = l.pointAt(x);
        M[1] > 0 && (M[0] = -M[0], M[1] = -M[1]);
        var P = E[0] < 0 ? -1 : 1;
        if (n.__position !== "start" && n.__position !== "end") {
          var L = -Math.atan2(E[1], E[0]);
          f[0] < c[0] && (L = Math.PI + L), n.rotation = L;
        }
        var F = void 0;
        switch (n.__position) {
          case "insideStartTop":
          case "insideMiddleTop":
          case "insideEndTop":
          case "middle":
            F = -S, y = "bottom";
            break;
          case "insideStartBottom":
          case "insideMiddleBottom":
          case "insideEndBottom":
            F = S, y = "top";
            break;
          default:
            F = 0, y = "middle";
        }
        switch (n.__position) {
          case "end":
            n.x = d[0] * w + f[0], n.y = d[1] * S + f[1], v = d[0] > 0.8 ? "left" : d[0] < -0.8 ? "right" : "center", y = d[1] > 0.8 ? "top" : d[1] < -0.8 ? "bottom" : "middle";
            break;
          case "start":
            n.x = -d[0] * w + c[0], n.y = -d[1] * S + c[1], v = d[0] > 0.8 ? "right" : d[0] < -0.8 ? "left" : "center", y = d[1] > 0.8 ? "bottom" : d[1] < -0.8 ? "top" : "middle";
            break;
          case "insideStartTop":
          case "insideStart":
          case "insideStartBottom":
            n.x = w * P + c[0], n.y = c[1] + F, v = E[0] < 0 ? "right" : "left", n.originX = -w * P, n.originY = -F;
            break;
          case "insideMiddleTop":
          case "insideMiddle":
          case "insideMiddleBottom":
          case "middle":
            n.x = k[0], n.y = k[1] + F, v = "center", n.originY = -F;
            break;
          case "insideEndTop":
          case "insideEnd":
          case "insideEndBottom":
            n.x = -w * P + f[0], n.y = f[1] + F, v = E[0] >= 0 ? "right" : "left", n.originX = w * P, n.originY = -F;
            break;
        }
        n.scaleX = n.scaleY = o, n.setStyle({
          // Use the user specified text align and baseline first
          verticalAlign: n.__verticalAlign || y,
          align: n.__align || v
        });
      }
    }, e;
  }(Wt)
);
const fk = vxe;
var gxe = (
  /** @class */
  function() {
    function r(e) {
      this.group = new Wt(), this._LineCtor = e || fk;
    }
    return r.prototype.updateData = function(e) {
      var t = this;
      this._progressiveEls = null;
      var i = this, a = i.group, n = i._lineData;
      i._lineData = e, n || a.removeAll();
      var o = kB(e);
      e.diff(n).add(function(s) {
        t._doAdd(e, s, o);
      }).update(function(s, l) {
        t._doUpdate(n, e, l, s, o);
      }).remove(function(s) {
        a.remove(n.getItemGraphicEl(s));
      }).execute();
    }, r.prototype.updateLayout = function() {
      var e = this._lineData;
      e && e.eachItemGraphicEl(function(t, i) {
        t.updateLayout(e, i);
      }, this);
    }, r.prototype.incrementalPrepareUpdate = function(e) {
      this._seriesScope = kB(e), this._lineData = null, this.group.removeAll();
    }, r.prototype.incrementalUpdate = function(e, t) {
      this._progressiveEls = [];
      function i(s) {
        !s.isGroup && !mxe(s) && (s.incremental = !0, s.ensureState("emphasis").hoverLayer = !0);
      }
      for (var a = e.start; a < e.end; a++) {
        var n = t.getItemLayout(a);
        if (P5(n)) {
          var o = new this._LineCtor(t, a, this._seriesScope);
          o.traverse(i), this.group.add(o), t.setItemGraphicEl(a, o), this._progressiveEls.push(o);
        }
      }
    }, r.prototype.remove = function() {
      this.group.removeAll();
    }, r.prototype.eachRendered = function(e) {
      fh(this._progressiveEls || this.group, e);
    }, r.prototype._doAdd = function(e, t, i) {
      var a = e.getItemLayout(t);
      if (P5(a)) {
        var n = new this._LineCtor(e, t, i);
        e.setItemGraphicEl(t, n), this.group.add(n);
      }
    }, r.prototype._doUpdate = function(e, t, i, a, n) {
      var o = e.getItemGraphicEl(i);
      if (!P5(t.getItemLayout(a))) {
        this.group.remove(o);
        return;
      }
      o ? o.updateData(t, a, n) : o = new this._LineCtor(t, a, n), t.setItemGraphicEl(a, o), this.group.add(o);
    }, r;
  }()
);
function mxe(r) {
  return r.animators && r.animators.length > 0;
}
function kB(r) {
  var e = r.hostModel, t = e.getModel("emphasis");
  return {
    lineStyle: e.getModel("lineStyle").getLineStyle(),
    emphasisLineStyle: t.getModel(["lineStyle"]).getLineStyle(),
    blurLineStyle: e.getModel(["blur", "lineStyle"]).getLineStyle(),
    selectLineStyle: e.getModel(["select", "lineStyle"]).getLineStyle(),
    emphasisDisabled: t.get("disabled"),
    blurScope: t.get("blurScope"),
    focus: t.get("focus"),
    labelStatesModels: zi(e)
  };
}
function MB(r) {
  return isNaN(r[0]) || isNaN(r[1]);
}
function P5(r) {
  return r && !MB(r[0]) && !MB(r[1]);
}
const dk = gxe;
var R5 = [], L5 = [], O5 = [], yp = ua, F5 = Vc, IB = Math.abs;
function PB(r, e, t) {
  for (var i = r[0], a = r[1], n = r[2], o = 1 / 0, s, l = t * t, u = 0.1, c = 0.1; c <= 0.9; c += 0.1) {
    R5[0] = yp(i[0], a[0], n[0], c), R5[1] = yp(i[1], a[1], n[1], c);
    var f = IB(F5(R5, e) - l);
    f < o && (o = f, s = c);
  }
  for (var d = 0; d < 32; d++) {
    var p = s + u;
    L5[0] = yp(i[0], a[0], n[0], s), L5[1] = yp(i[1], a[1], n[1], s), O5[0] = yp(i[0], a[0], n[0], p), O5[1] = yp(i[1], a[1], n[1], p);
    var f = F5(L5, e) - l;
    if (IB(f) < 0.01)
      break;
    var v = F5(O5, e) - l;
    u /= 2, f < 0 ? v >= 0 ? s = s + u : s = s - u : v >= 0 ? s = s - u : s = s + u;
  }
  return s;
}
function N5(r, e) {
  var t = [], i = s1, a = [[], [], []], n = [[], []], o = [];
  e /= 2, r.eachEdge(function(s, l) {
    var u = s.getLayout(), c = s.getVisual("fromSymbol"), f = s.getVisual("toSymbol");
    u.__original || (u.__original = [Al(u[0]), Al(u[1])], u[2] && u.__original.push(Al(u[2])));
    var d = u.__original;
    if (u[2] != null) {
      if (Oa(a[0], d[0]), Oa(a[1], d[2]), Oa(a[2], d[1]), c && c !== "none") {
        var p = Fg(s.node1), v = PB(a, d[0], p * e);
        i(a[0][0], a[1][0], a[2][0], v, t), a[0][0] = t[3], a[1][0] = t[4], i(a[0][1], a[1][1], a[2][1], v, t), a[0][1] = t[3], a[1][1] = t[4];
      }
      if (f && f !== "none") {
        var p = Fg(s.node2), v = PB(a, d[1], p * e);
        i(a[0][0], a[1][0], a[2][0], v, t), a[1][0] = t[1], a[2][0] = t[2], i(a[0][1], a[1][1], a[2][1], v, t), a[1][1] = t[1], a[2][1] = t[2];
      }
      Oa(u[0], a[0]), Oa(u[1], a[2]), Oa(u[2], a[1]);
    } else {
      if (Oa(n[0], d[0]), Oa(n[1], d[1]), Mc(o, n[1], n[0]), _d(o, o), c && c !== "none") {
        var p = Fg(s.node1);
        P_(n[0], n[0], o, p * e);
      }
      if (f && f !== "none") {
        var p = Fg(s.node2);
        P_(n[1], n[1], o, -p * e);
      }
      Oa(u[0], n[0]), Oa(u[1], n[1]);
    }
  });
}
var YK = Ar();
function yxe(r) {
  if (r)
    return YK(r).bridge;
}
function RB(r, e) {
  r && (YK(r).bridge = e);
}
function LB(r) {
  return r.type === "view";
}
var _xe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.init = function(t, i) {
      var a = new hm(), n = new dk(), o = this.group, s = new Wt();
      this._controller = new kd(i.getZr()), this._controllerHost = {
        target: s
      }, s.add(a.group), s.add(n.group), o.add(s), this._symbolDraw = a, this._lineDraw = n, this._mainGroup = s, this._firstRender = !0;
    }, e.prototype.render = function(t, i, a) {
      var n = this, o = t.coordinateSystem, s = !1;
      this._model = t, this._api = a, this._active = !0;
      var l = this._getThumbnailInfo();
      l && l.bridge.reset(a);
      var u = this._symbolDraw, c = this._lineDraw;
      if (LB(o)) {
        var f = {
          x: o.x,
          y: o.y,
          scaleX: o.scaleX,
          scaleY: o.scaleY
        };
        this._firstRender ? this._mainGroup.attr(f) : Wr(this._mainGroup, f, t);
      }
      N5(t.getGraph(), Og(t));
      var d = t.getData();
      u.updateData(d);
      var p = t.getEdgeData();
      c.updateData(p), this._updateNodeAndLinkScale(), this._updateController(null, t, a), clearTimeout(this._layoutTimeout);
      var v = t.forceLayout, y = t.get(["force", "layoutAnimation"]);
      v && (s = !0, this._startForceLayoutIteration(v, a, y));
      var _ = t.get("layout");
      d.graph.eachNode(function(E) {
        var M = E.dataIndex, k = E.getGraphicEl(), P = E.getModel();
        if (k) {
          k.off("drag").off("dragend");
          var L = P.get("draggable");
          L && k.on("drag", function(O) {
            switch (_) {
              case "force":
                v.warmUp(), !n._layouting && n._startForceLayoutIteration(v, a, y), v.setFixed(M), d.setItemLayout(M, [k.x, k.y]);
                break;
              case "circular":
                d.setItemLayout(M, [k.x, k.y]), E.setLayout({
                  fixed: !0
                }, !0), hk(t, "symbolSize", E, [O.offsetX, O.offsetY]), n.updateLayout(t);
                break;
              case "none":
              default:
                d.setItemLayout(M, [k.x, k.y]), ck(t.getGraph(), t), n.updateLayout(t);
                break;
            }
          }).on("dragend", function() {
            v && v.setUnfixed(M);
          }), k.setDraggable(L, !!P.get("cursor"));
          var F = P.get(["emphasis", "focus"]);
          F === "adjacency" && (er(k).focus = E.getAdjacentDataIndices());
        }
      }), d.graph.eachEdge(function(E) {
        var M = E.getGraphicEl(), k = E.getModel().get(["emphasis", "focus"]);
        M && k === "adjacency" && (er(M).focus = {
          edge: [E.dataIndex],
          node: [E.node1.dataIndex, E.node2.dataIndex]
        });
      });
      var w = t.get("layout") === "circular" && t.get(["circular", "rotateLabel"]), S = d.getLayout("cx"), x = d.getLayout("cy");
      d.graph.eachNode(function(E) {
        WK(E, w, S, x);
      }), this._firstRender = !1, s || this._renderThumbnail(t, a, this._symbolDraw, this._lineDraw);
    }, e.prototype.dispose = function() {
      this.remove(), this._controller && this._controller.dispose(), this._controllerHost = null;
    }, e.prototype._startForceLayoutIteration = function(t, i, a) {
      var n = this, o = !1;
      (function s() {
        t.step(function(l) {
          n.updateLayout(n._model), (l || !o) && (o = !0, n._renderThumbnail(n._model, i, n._symbolDraw, n._lineDraw)), (n._layouting = !l) && (a ? n._layoutTimeout = setTimeout(s, 16) : s());
        });
      })();
    }, e.prototype._updateController = function(t, i, a) {
      var n = this._controller, o = this._controllerHost, s = i.coordinateSystem;
      if (!LB(s)) {
        n.disable();
        return;
      }
      n.enable(i.get("roam"), {
        api: a,
        zInfo: {
          component: i
        },
        triggerInfo: {
          roamTrigger: i.get("roamTrigger"),
          isInSelf: function(l, u, c) {
            return s.containPoint([u, c]);
          },
          isInClip: function(l, u, c) {
            return !t || t.contain(u, c);
          }
        }
      }), o.zoomLimit = i.get("scaleLimit"), o.zoom = s.getZoom(), n.off("pan").off("zoom").on("pan", function(l) {
        a.dispatchAction({
          seriesId: i.id,
          type: "graphRoam",
          dx: l.dx,
          dy: l.dy
        });
      }).on("zoom", function(l) {
        a.dispatchAction({
          seriesId: i.id,
          type: "graphRoam",
          zoom: l.scale,
          originX: l.originX,
          originY: l.originY
        });
      });
    }, e.prototype.updateViewOnPan = function(t, i, a) {
      this._active && (ek(this._controllerHost, a.dx, a.dy), this._updateThumbnailWindow());
    }, e.prototype.updateViewOnZoom = function(t, i, a) {
      this._active && (tk(this._controllerHost, a.zoom, a.originX, a.originY), this._updateNodeAndLinkScale(), N5(t.getGraph(), Og(t)), this._lineDraw.updateLayout(), i.updateLabelLayout(), this._updateThumbnailWindow());
    }, e.prototype._updateNodeAndLinkScale = function() {
      var t = this._model, i = t.getData(), a = Og(t);
      i.eachItemGraphicEl(function(n, o) {
        n && n.setSymbolScale(a);
      });
    }, e.prototype.updateLayout = function(t) {
      this._active && (N5(t.getGraph(), Og(t)), this._symbolDraw.updateLayout(), this._lineDraw.updateLayout());
    }, e.prototype.remove = function() {
      this._active = !1, clearTimeout(this._layoutTimeout), this._layouting = !1, this._layoutTimeout = null, this._symbolDraw && this._symbolDraw.remove(), this._lineDraw && this._lineDraw.remove(), this._controller && this._controller.disable();
    }, e.prototype._getThumbnailInfo = function() {
      var t = this._model, i = t.coordinateSystem;
      if (i.type === "view") {
        var a = yxe(t);
        if (a)
          return {
            bridge: a,
            coordSys: i
          };
      }
    }, e.prototype._updateThumbnailWindow = function() {
      var t = this._getThumbnailInfo();
      t && t.bridge.updateWindow(t.coordSys.transform, this._api);
    }, e.prototype._renderThumbnail = function(t, i, a, n) {
      var o = this._getThumbnailInfo();
      if (o) {
        var s = new Wt(), l = a.group.children(), u = n.group.children(), c = new Wt(), f = new Wt();
        s.add(f), s.add(c);
        for (var d = 0; d < l.length; d++) {
          var p = l[d], v = p.children()[0], y = p.x, _ = p.y, w = Gt(v.shape), S = $e(w, {
            width: v.scaleX,
            height: v.scaleY,
            x: y - v.scaleX / 2,
            y: _ - v.scaleY / 2
          }), x = Gt(v.style), E = new v.constructor({
            shape: S,
            style: x,
            z2: 151
          });
          f.add(E);
        }
        for (var d = 0; d < u.length; d++) {
          var p = u[d], M = p.children()[0], x = Gt(M.style), S = Gt(M.shape), k = new $K({
            style: x,
            shape: S,
            z2: 151
          });
          c.add(k);
        }
        o.bridge.renderContent({
          api: i,
          roamType: t.get("roam"),
          viewportRect: null,
          group: s,
          targetTrans: o.coordSys.transform
        });
      }
    }, e.type = "graph", e;
  }(gn)
);
const bxe = _xe;
function _p(r) {
  return "_EC_" + r;
}
var wxe = (
  /** @class */
  function() {
    function r(e) {
      this.type = "graph", this.nodes = [], this.edges = [], this._nodesMap = {}, this._edgesMap = {}, this._directed = e || !1;
    }
    return r.prototype.isDirected = function() {
      return this._directed;
    }, r.prototype.addNode = function(e, t) {
      e = e == null ? "" + t : "" + e;
      var i = this._nodesMap;
      if (i[_p(e)]) {
        process.env.NODE_ENV !== "production" && console.error("Graph nodes have duplicate name or id");
        return;
      }
      var a = new _f(e, t);
      return a.hostGraph = this, this.nodes.push(a), i[_p(e)] = a, a;
    }, r.prototype.getNodeByIndex = function(e) {
      var t = this.data.getRawIndex(e);
      return this.nodes[t];
    }, r.prototype.getNodeById = function(e) {
      return this._nodesMap[_p(e)];
    }, r.prototype.addEdge = function(e, t, i) {
      var a = this._nodesMap, n = this._edgesMap;
      if (Or(e) && (e = this.nodes[e]), Or(t) && (t = this.nodes[t]), e instanceof _f || (e = a[_p(e)]), t instanceof _f || (t = a[_p(t)]), !(!e || !t)) {
        var o = e.id + "-" + t.id, s = new jK(e, t, i);
        return s.hostGraph = this, this._directed && (e.outEdges.push(s), t.inEdges.push(s)), e.edges.push(s), e !== t && t.edges.push(s), this.edges.push(s), n[o] = s, s;
      }
    }, r.prototype.getEdgeByIndex = function(e) {
      var t = this.edgeData.getRawIndex(e);
      return this.edges[t];
    }, r.prototype.getEdge = function(e, t) {
      e instanceof _f && (e = e.id), t instanceof _f && (t = t.id);
      var i = this._edgesMap;
      return this._directed ? i[e + "-" + t] : i[e + "-" + t] || i[t + "-" + e];
    }, r.prototype.eachNode = function(e, t) {
      for (var i = this.nodes, a = i.length, n = 0; n < a; n++)
        i[n].dataIndex >= 0 && e.call(t, i[n], n);
    }, r.prototype.eachEdge = function(e, t) {
      for (var i = this.edges, a = i.length, n = 0; n < a; n++)
        i[n].dataIndex >= 0 && i[n].node1.dataIndex >= 0 && i[n].node2.dataIndex >= 0 && e.call(t, i[n], n);
    }, r.prototype.breadthFirstTraverse = function(e, t, i, a) {
      if (t instanceof _f || (t = this._nodesMap[_p(t)]), !!t) {
        for (var n = i === "out" ? "outEdges" : i === "in" ? "inEdges" : "edges", o = 0; o < this.nodes.length; o++)
          this.nodes[o].__visited = !1;
        if (!e.call(a, t, null))
          for (var s = [t]; s.length; )
            for (var l = s.shift(), u = l[n], o = 0; o < u.length; o++) {
              var c = u[o], f = c.node1 === l ? c.node2 : c.node1;
              if (!f.__visited) {
                if (e.call(a, f, l))
                  return;
                s.push(f), f.__visited = !0;
              }
            }
      }
    }, r.prototype.update = function() {
      for (var e = this.data, t = this.edgeData, i = this.nodes, a = this.edges, n = 0, o = i.length; n < o; n++)
        i[n].dataIndex = -1;
      for (var n = 0, o = e.count(); n < o; n++)
        i[e.getRawIndex(n)].dataIndex = n;
      t.filterSelf(function(s) {
        var l = a[t.getRawIndex(s)];
        return l.node1.dataIndex >= 0 && l.node2.dataIndex >= 0;
      });
      for (var n = 0, o = a.length; n < o; n++)
        a[n].dataIndex = -1;
      for (var n = 0, o = t.count(); n < o; n++)
        a[t.getRawIndex(n)].dataIndex = n;
    }, r.prototype.clone = function() {
      for (var e = new r(this._directed), t = this.nodes, i = this.edges, a = 0; a < t.length; a++)
        e.addNode(t[a].id, t[a].dataIndex);
      for (var a = 0; a < i.length; a++) {
        var n = i[a];
        e.addEdge(n.node1.id, n.node2.id, n.dataIndex);
      }
      return e;
    }, r;
  }()
), _f = (
  /** @class */
  function() {
    function r(e, t) {
      this.inEdges = [], this.outEdges = [], this.edges = [], this.dataIndex = -1, this.id = e ?? "", this.dataIndex = t ?? -1;
    }
    return r.prototype.degree = function() {
      return this.edges.length;
    }, r.prototype.inDegree = function() {
      return this.inEdges.length;
    }, r.prototype.outDegree = function() {
      return this.outEdges.length;
    }, r.prototype.getModel = function(e) {
      if (!(this.dataIndex < 0)) {
        var t = this.hostGraph, i = t.data.getItemModel(this.dataIndex);
        return i.getModel(e);
      }
    }, r.prototype.getAdjacentDataIndices = function() {
      for (var e = {
        edge: [],
        node: []
      }, t = 0; t < this.edges.length; t++) {
        var i = this.edges[t];
        i.dataIndex < 0 || (e.edge.push(i.dataIndex), e.node.push(i.node1.dataIndex, i.node2.dataIndex));
      }
      return e;
    }, r.prototype.getTrajectoryDataIndices = function() {
      for (var e = Pt(), t = Pt(), i = 0, a = this.edges.length; i < a; i++) {
        var n = this.edges[i];
        if (!(n.dataIndex < 0)) {
          e.set(n.dataIndex, !0);
          for (var o = [n.node1], s = [n.node2], l = 0; l < o.length; ) {
            var u = o[l];
            l++, t.set(u.dataIndex, !0);
            for (var c = u.inEdges, f = 0, d = c.length, p = void 0, v = void 0; f < d; f++)
              p = c[f], v = p.dataIndex, v >= 0 && !e.hasKey(v) && (e.set(v, !0), o.push(p.node1));
          }
          for (l = 0; l < s.length; ) {
            var y = s[l];
            l++, t.set(y.dataIndex, !0);
            for (var _ = y.outEdges, f = 0, w = _.length, S = void 0, x = void 0; f < w; f++)
              S = _[f], x = S.dataIndex, x >= 0 && !e.hasKey(x) && (e.set(x, !0), s.push(S.node2));
          }
        }
      }
      return {
        edge: e.keys(),
        node: t.keys()
      };
    }, r;
  }()
), jK = (
  /** @class */
  function() {
    function r(e, t, i) {
      this.dataIndex = -1, this.node1 = e, this.node2 = t, this.dataIndex = i ?? -1;
    }
    return r.prototype.getModel = function(e) {
      if (!(this.dataIndex < 0)) {
        var t = this.hostGraph, i = t.edgeData.getItemModel(this.dataIndex);
        return i.getModel(e);
      }
    }, r.prototype.getAdjacentDataIndices = function() {
      return {
        edge: [this.dataIndex],
        node: [this.node1.dataIndex, this.node2.dataIndex]
      };
    }, r.prototype.getTrajectoryDataIndices = function() {
      var e = Pt(), t = Pt();
      e.set(this.dataIndex, !0);
      for (var i = [this.node1], a = [this.node2], n = 0; n < i.length; ) {
        var o = i[n];
        n++, t.set(o.dataIndex, !0);
        for (var s = o.inEdges, l = 0, u = s.length, c = void 0, f = void 0; l < u; l++)
          c = o.inEdges[l], f = c.dataIndex, f >= 0 && !e.hasKey(f) && (e.set(f, !0), i.push(c.node1));
      }
      for (n = 0; n < a.length; ) {
        var d = a[n];
        n++, t.set(d.dataIndex, !0);
        for (var p = d.outEdges, l = 0, u = p.length, v = void 0, y = void 0; l < u; l++)
          v = d.outEdges[l], y = v.dataIndex, y >= 0 && !e.hasKey(y) && (e.set(y, !0), a.push(v.node2));
      }
      return {
        edge: e.keys(),
        node: t.keys()
      };
    }, r;
  }()
);
function qK(r, e) {
  return {
    /**
     * @param Default 'value'. can be 'a', 'b', 'c', 'd', 'e'.
     */
    getValue: function(t) {
      var i = this[r][e];
      return i.getStore().get(i.getDimensionIndex(t || "value"), this.dataIndex);
    },
    // TODO: TYPE stricter type.
    setVisual: function(t, i) {
      this.dataIndex >= 0 && this[r][e].setItemVisual(this.dataIndex, t, i);
    },
    getVisual: function(t) {
      return this[r][e].getItemVisual(this.dataIndex, t);
    },
    setLayout: function(t, i) {
      this.dataIndex >= 0 && this[r][e].setItemLayout(this.dataIndex, t, i);
    },
    getLayout: function() {
      return this[r][e].getItemLayout(this.dataIndex);
    },
    getGraphicEl: function() {
      return this[r][e].getItemGraphicEl(this.dataIndex);
    },
    getRawIndex: function() {
      return this[r][e].getRawIndex(this.dataIndex);
    }
  };
}
ci(_f, qK("hostGraph", "data"));
ci(jK, qK("hostGraph", "edgeData"));
const Sxe = wxe;
function pk(r, e, t, i, a) {
  for (var n = new Sxe(i), o = 0; o < r.length; o++)
    n.addNode(Di(
      // Id, name, dataIndex
      r[o].id,
      r[o].name,
      o
    ), o);
  for (var s = [], l = [], u = 0, o = 0; o < e.length; o++) {
    var c = e[o], f = c.source, d = c.target;
    n.addEdge(f, d, u) && (l.push(c), s.push(Di(Vi(c.id, null), f + " > " + d)), u++);
  }
  var p = t.get("coordinateSystem"), v;
  if (p === "cartesian2d" || p === "polar" || p === "matrix")
    v = Bl(r, t);
  else {
    var y = xd.get(p), _ = y ? y.dimensions || [] : [];
    dr(_, "value") < 0 && _.concat(["value"]);
    var w = W0(r, {
      coordDimensions: _,
      encodeDefine: t.getEncode()
    }).dimensions;
    v = new Ua(w, t), v.initData(r);
  }
  var S = new Ua(["value"], t);
  return S.initData(l, s), a && a(v, S), DK({
    mainData: v,
    struct: n,
    structAttr: "graph",
    datas: {
      node: v,
      edge: S
    },
    datasAttr: {
      node: "data",
      edge: "edgeData"
    }
  }), n.update(), n;
}
var xxe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.hasSymbolVisual = !0, t;
    }
    return e.prototype.init = function(t) {
      r.prototype.init.apply(this, arguments);
      var i = this;
      function a() {
        return i._categoriesData;
      }
      this.legendVisualProvider = new q0(a, a), this.fillDataTextStyle(t.edges || t.links), this._updateCategoriesData();
    }, e.prototype.mergeOption = function(t) {
      r.prototype.mergeOption.apply(this, arguments), this.fillDataTextStyle(t.edges || t.links), this._updateCategoriesData();
    }, e.prototype.mergeDefaultAndTheme = function(t) {
      r.prototype.mergeDefaultAndTheme.apply(this, arguments), Zf(t, "edgeLabel", ["show"]);
    }, e.prototype.getInitialData = function(t, i) {
      var a = t.edges || t.links || [], n = t.data || t.nodes || [], o = this;
      if (n && a) {
        ixe(this);
        var s = pk(n, a, this, !0, l);
        return J(s.edges, function(u) {
          axe(u.node1, u.node2, this, u.dataIndex);
        }, this), s.data;
      }
      function l(u, c) {
        u.wrapMethod("getItemModel", function(v) {
          var y = o._categoriesModels, _ = v.getShallow("category"), w = y[_];
          return w && (w.parentModel = v.parentModel, v.parentModel = w), v;
        });
        var f = Vr.prototype.getModel;
        function d(v, y) {
          var _ = f.call(this, v, y);
          return _.resolveParentPath = p, _;
        }
        c.wrapMethod("getItemModel", function(v) {
          return v.resolveParentPath = p, v.getModel = d, v;
        });
        function p(v) {
          if (v && (v[0] === "label" || v[1] === "label")) {
            var y = v.slice();
            return v[0] === "label" ? y[0] = "edgeLabel" : v[1] === "label" && (y[1] = "edgeLabel"), y;
          }
          return v;
        }
      }
    }, e.prototype.getGraph = function() {
      return this.getData().graph;
    }, e.prototype.getEdgeData = function() {
      return this.getGraph().edgeData;
    }, e.prototype.getCategoriesData = function() {
      return this._categoriesData;
    }, e.prototype.formatTooltip = function(t, i, a) {
      if (a === "edge") {
        var n = this.getData(), o = this.getDataParams(t, a), s = n.graph.getEdgeByIndex(t), l = n.getName(s.node1.dataIndex), u = n.getName(s.node2.dataIndex), c = [];
        return l != null && c.push(l), u != null && c.push(u), Pi("nameValue", {
          name: c.join(" > "),
          value: o.value,
          noValue: o.value == null
        });
      }
      var f = Yj({
        series: this,
        dataIndex: t,
        multipleSeries: i
      });
      return f;
    }, e.prototype._updateCategoriesData = function() {
      var t = Je(this.option.categories || [], function(a) {
        return a.value != null ? a : $e({
          value: 0
        }, a);
      }), i = new Ua(["value"], this);
      i.initData(t), this._categoriesData = i, this._categoriesModels = i.mapArray(function(a) {
        return i.getItemModel(a);
      });
    }, e.prototype.setZoom = function(t) {
      this.option.zoom = t;
    }, e.prototype.setCenter = function(t) {
      this.option.center = t;
    }, e.prototype.isAnimationEnabled = function() {
      return r.prototype.isAnimationEnabled.call(this) && !(this.get("layout") === "force" && this.get(["force", "layoutAnimation"]));
    }, e.type = "series.graph", e.dependencies = ["grid", "polar", "geo", "singleAxis", "calendar"], e.defaultOption = {
      // zlevel: 0,
      z: 2,
      coordinateSystem: "view",
      // Default option for all coordinate systems
      // xAxisIndex: 0,
      // yAxisIndex: 0,
      // polarIndex: 0,
      // geoIndex: 0,
      legendHoverLink: !0,
      layout: null,
      // Configuration of circular layout
      circular: {
        rotateLabel: !1
      },
      // Configuration of force directed layout
      force: {
        initLayout: null,
        // Node repulsion. Can be an array to represent range.
        repulsion: [0, 50],
        gravity: 0.1,
        // Initial friction
        friction: 0.6,
        // Edge length. Can be an array to represent range.
        edgeLength: 30,
        layoutAnimation: !0
      },
      left: "center",
      top: "center",
      // right: null,
      // bottom: null,
      // width: '80%',
      // height: '80%',
      symbol: "circle",
      symbolSize: 10,
      edgeSymbol: ["none", "none"],
      edgeSymbolSize: 10,
      edgeLabel: {
        position: "middle",
        distance: 5
      },
      draggable: !1,
      roam: !1,
      // Default on center of graph
      center: null,
      zoom: 1,
      // Symbol size scale ratio in roam
      nodeScaleRatio: 0.6,
      // cursor: null,
      // categories: [],
      // data: []
      // Or
      // nodes: []
      //
      // links: []
      // Or
      // edges: []
      label: {
        show: !1,
        formatter: "{b}"
      },
      itemStyle: {},
      lineStyle: {
        // Don't use tokens.color.border because of the opacity
        color: Ve.color.neutral50,
        width: 1,
        opacity: 0.5
      },
      emphasis: {
        scale: !0,
        label: {
          show: !0
        }
      },
      select: {
        itemStyle: {
          borderColor: Ve.color.primary
        }
      }
    }, e;
  }(En)
);
const Txe = xxe;
function Cxe(r) {
  r.registerChartView(bxe), r.registerSeriesModel(Txe), r.registerProcessor(QSe), r.registerVisual(exe), r.registerVisual(txe), r.registerLayout(oxe), r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT, lxe), r.registerLayout(cxe), r.registerCoordinateSystem("graphView", {
    dimensions: Md.dimensions,
    create: fxe
  }), r.registerAction({
    type: "focusNodeAdjacency",
    event: "focusNodeAdjacency",
    update: "series:focusNodeAdjacency"
  }, si), r.registerAction({
    type: "unfocusNodeAdjacency",
    event: "unfocusNodeAdjacency",
    update: "series:unfocusNodeAdjacency"
  }, si), r.registerAction({
    type: "graphRoam",
    event: "graphRoam",
    update: "none"
  }, function(e, t, i) {
    t.eachComponent({
      mainType: "series",
      query: e
    }, function(a) {
      var n = i.getViewOfSeriesModel(a);
      n && (e.dx != null && e.dy != null && n.updateViewOnPan(a, i, e), e.zoom != null && e.originX != null && e.originY != null && n.updateViewOnZoom(a, i, e));
      var o = a.coordinateSystem, s = VS(o, e, a.get("scaleLimit"));
      a.setCenter && a.setCenter(s.center), a.setZoom && a.setZoom(s.zoom);
    });
  });
}
var Axe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i, a) {
      var n = r.call(this) || this;
      er(n).dataType = "node", n.z2 = 2;
      var o = new Br();
      return n.setTextContent(o), n.updateData(t, i, a, !0), n;
    }
    return e.prototype.updateData = function(t, i, a, n) {
      var o = this, s = t.graph.getNodeByIndex(i), l = t.hostModel, u = s.getModel(), c = u.getModel("emphasis"), f = t.getItemLayout(i), d = $e(Cl(u.getModel("itemStyle"), f, !0), f), p = this;
      if (isNaN(d.startAngle)) {
        p.setShape(d);
        return;
      }
      n ? p.setShape(d) : Wr(p, {
        shape: d
      }, l, i);
      var v = $e(Cl(u.getModel("itemStyle"), f, !0), f);
      o.setShape(v), o.useStyle(t.getItemVisual(i, "style")), Gi(o, u), this._updateLabel(l, u, s), t.setItemGraphicEl(i, p), Gi(p, u, "itemStyle");
      var y = c.get("focus");
      Wn(this, y === "adjacency" ? s.getAdjacentDataIndices() : y, c.get("blurScope"), c.get("disabled"));
    }, e.prototype._updateLabel = function(t, i, a) {
      var n = this.getTextContent(), o = a.getLayout(), s = (o.startAngle + o.endAngle) / 2, l = Math.cos(s), u = Math.sin(s), c = i.getModel("label");
      n.ignore = !c.get("show");
      var f = zi(i), d = a.getVisual("style");
      ea(n, f, {
        labelFetcher: {
          getFormattedLabel: function(S, x, E, M, k, P) {
            return t.getFormattedLabel(
              S,
              x,
              "node",
              M,
              // ensure edgeLabel formatter is provided
              // to prevent the inheritance from `label.formatter` of the series
              Ba(k, f.normal && f.normal.get("formatter"), i.get("name")),
              P
            );
          }
        },
        labelDataIndex: a.dataIndex,
        defaultText: a.dataIndex + "",
        inheritColor: d.fill,
        defaultOpacity: d.opacity,
        defaultOutsidePosition: "startArc"
      });
      var p = c.get("position") || "outside", v = c.get("distance") || 0, y;
      p === "outside" ? y = o.r + v : y = (o.r + o.r0) / 2, this.textConfig = {
        inside: p !== "outside"
      };
      var _ = p !== "outside" ? c.get("align") || "center" : l > 0 ? "left" : "right", w = p !== "outside" ? c.get("verticalAlign") || "middle" : u > 0 ? "top" : "bottom";
      n.attr({
        x: l * y + o.cx,
        y: u * y + o.cy,
        rotation: 0,
        style: {
          align: _,
          verticalAlign: w
        }
      });
    }, e;
  }(Wa)
);
const OB = Axe;
var Exe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i, a, n) {
      var o = r.call(this) || this;
      return er(o).dataType = "edge", o.updateData(t, i, a, n, !0), o;
    }
    return e.prototype.buildPath = function(t, i) {
      t.moveTo(i.s1[0], i.s1[1]);
      var a = 0.7, n = i.clockwise;
      t.arc(i.cx, i.cy, i.r, i.sStartAngle, i.sEndAngle, !n), t.bezierCurveTo((i.cx - i.s2[0]) * a + i.s2[0], (i.cy - i.s2[1]) * a + i.s2[1], (i.cx - i.t1[0]) * a + i.t1[0], (i.cy - i.t1[1]) * a + i.t1[1], i.t1[0], i.t1[1]), t.arc(i.cx, i.cy, i.r, i.tStartAngle, i.tEndAngle, !n), t.bezierCurveTo((i.cx - i.t2[0]) * a + i.t2[0], (i.cy - i.t2[1]) * a + i.t2[1], (i.cx - i.s1[0]) * a + i.s1[0], (i.cy - i.s1[1]) * a + i.s1[1], i.s1[0], i.s1[1]), t.closePath();
    }, e.prototype.updateData = function(t, i, a, n, o) {
      var s = t.hostModel, l = i.graph.getEdgeByIndex(a), u = l.getLayout(), c = l.node1.getModel(), f = i.getItemModel(l.dataIndex), d = f.getModel("lineStyle"), p = f.getModel("emphasis"), v = p.get("focus"), y = $e(Cl(c.getModel("itemStyle"), u, !0), u), _ = this;
      if (isNaN(y.sStartAngle) || isNaN(y.tStartAngle)) {
        _.setShape(y);
        return;
      }
      o ? (_.setShape(y), FB(_, l, t, d)) : (hs(_), FB(_, l, t, d), Wr(_, {
        shape: y
      }, s, a)), Wn(this, v === "adjacency" ? l.getAdjacentDataIndices() : v, p.get("blurScope"), p.get("disabled")), Gi(_, f, "lineStyle"), i.setItemGraphicEl(l.dataIndex, _);
    }, e;
  }(Er)
);
function FB(r, e, t, i) {
  var a = e.node1, n = e.node2, o = r.style;
  r.setStyle(i.getLineStyle());
  var s = i.get("color");
  switch (s) {
    case "source":
      o.fill = t.getItemVisual(a.dataIndex, "style").fill, o.decal = a.getVisual("style").decal;
      break;
    case "target":
      o.fill = t.getItemVisual(n.dataIndex, "style").fill, o.decal = n.getVisual("style").decal;
      break;
    case "gradient":
      var l = t.getItemVisual(a.dataIndex, "style").fill, u = t.getItemVisual(n.dataIndex, "style").fill;
      if (vt(l) && vt(u)) {
        var c = r.shape, f = (c.s1[0] + c.s2[0]) / 2, d = (c.s1[1] + c.s2[1]) / 2, p = (c.t1[0] + c.t2[0]) / 2, v = (c.t1[1] + c.t2[1]) / 2;
        o.fill = new bd(f, d, p, v, [{
          offset: 0,
          color: l
        }, {
          offset: 1,
          color: u
        }], !0);
      }
      break;
  }
}
var Dxe = Math.PI / 180, kxe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.init = function(t, i) {
    }, e.prototype.render = function(t, i, a) {
      var n = t.getData(), o = this._data, s = this.group, l = -t.get("startAngle") * Dxe;
      if (n.diff(o).add(function(c) {
        var f = n.getItemLayout(c);
        if (f) {
          var d = new OB(n, c, l);
          er(d).dataIndex = c, s.add(d);
        }
      }).update(function(c, f) {
        var d = o.getItemGraphicEl(f), p = n.getItemLayout(c);
        if (!p) {
          d && Au(d, t, f);
          return;
        }
        d ? d.updateData(n, c, l) : d = new OB(n, c, l), s.add(d);
      }).remove(function(c) {
        var f = o.getItemGraphicEl(c);
        f && Au(f, t, c);
      }).execute(), !o) {
        var u = t.get("center");
        this.group.scaleX = 0.01, this.group.scaleY = 0.01, this.group.originX = gt(u[0], a.getWidth()), this.group.originY = gt(u[1], a.getHeight()), In(this.group, {
          scaleX: 1,
          scaleY: 1
        }, t);
      }
      this._data = n, this.renderEdges(t, l);
    }, e.prototype.renderEdges = function(t, i) {
      var a = t.getData(), n = t.getEdgeData(), o = this._edgeData, s = this.group;
      n.diff(o).add(function(l) {
        var u = new Exe(a, n, l, i);
        er(u).dataIndex = l, s.add(u);
      }).update(function(l, u) {
        var c = o.getItemGraphicEl(u);
        c.updateData(a, n, l, i), s.add(c);
      }).remove(function(l) {
        var u = o.getItemGraphicEl(l);
        u && Au(u, t, l);
      }).execute(), this._edgeData = n;
    }, e.prototype.dispose = function() {
    }, e.type = "chord", e;
  }(gn)
);
const Mxe = kxe;
var Ixe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.init = function(t) {
      r.prototype.init.apply(this, arguments), this.fillDataTextStyle(t.edges || t.links), this.legendVisualProvider = new q0(mt(this.getData, this), mt(this.getRawData, this));
    }, e.prototype.mergeOption = function(t) {
      r.prototype.mergeOption.apply(this, arguments), this.fillDataTextStyle(t.edges || t.links);
    }, e.prototype.getInitialData = function(t, i) {
      var a = t.edges || t.links || [], n = t.data || t.nodes || [];
      if (n && a) {
        var o = pk(n, a, this, !0, s);
        return o.data;
      }
      function s(l, u) {
        var c = Vr.prototype.getModel;
        function f(p, v) {
          var y = c.call(this, p, v);
          return y.resolveParentPath = d, y;
        }
        u.wrapMethod("getItemModel", function(p) {
          return p.resolveParentPath = d, p.getModel = f, p;
        });
        function d(p) {
          if (p && (p[0] === "label" || p[1] === "label")) {
            var v = p.slice();
            return p[0] === "label" ? v[0] = "edgeLabel" : p[1] === "label" && (v[1] = "edgeLabel"), v;
          }
          return p;
        }
      }
    }, e.prototype.getGraph = function() {
      return this.getData().graph;
    }, e.prototype.getEdgeData = function() {
      return this.getGraph().edgeData;
    }, e.prototype.formatTooltip = function(t, i, a) {
      var n = this.getDataParams(t, a);
      if (a === "edge") {
        var o = this.getData(), s = o.graph.getEdgeByIndex(t), l = o.getName(s.node1.dataIndex), u = o.getName(s.node2.dataIndex), c = [];
        return l != null && c.push(l), u != null && c.push(u), Pi("nameValue", {
          name: c.join(" > "),
          value: n.value,
          noValue: n.value == null
        });
      }
      return Pi("nameValue", {
        name: n.name,
        value: n.value,
        noValue: n.value == null
      });
    }, e.prototype.getDataParams = function(t, i) {
      var a = r.prototype.getDataParams.call(this, t, i);
      if (i === "node") {
        var n = this.getData(), o = this.getGraph().getNodeByIndex(t);
        if (a.name == null && (a.name = n.getName(t)), a.value == null) {
          var s = o.getLayout().value;
          a.value = s;
        }
      }
      return a;
    }, e.type = "series.chord", e.defaultOption = {
      // zlevel: 0,
      z: 2,
      coordinateSystem: "none",
      legendHoverLink: !0,
      colorBy: "data",
      left: 0,
      top: 0,
      right: 0,
      bottom: 0,
      width: null,
      height: null,
      center: ["50%", "50%"],
      radius: ["70%", "80%"],
      clockwise: !0,
      startAngle: 90,
      endAngle: "auto",
      minAngle: 0,
      padAngle: 3,
      itemStyle: {
        borderRadius: [0, 0, 5, 5]
      },
      lineStyle: {
        width: 0,
        color: "source",
        opacity: 0.2
      },
      label: {
        show: !0,
        position: "outside",
        distance: 5
      },
      emphasis: {
        focus: "adjacency",
        lineStyle: {
          opacity: 0.5
        }
      }
    }, e;
  }(En)
);
const Pxe = Ixe;
var B5 = Math.PI / 180;
function Rxe(r, e) {
  r.eachSeriesByType("chord", function(t) {
    Lxe(t, e);
  });
}
function Lxe(r, e) {
  var t = r.getData(), i = t.graph, a = r.getEdgeData(), n = a.count();
  if (n) {
    var o = cj(r, e), s = o.cx, l = o.cy, u = o.r, c = o.r0, f = Math.max((r.get("padAngle") || 0) * B5, 0), d = Math.max((r.get("minAngle") || 0) * B5, 0), p = -r.get("startAngle") * B5, v = p + Math.PI * 2, y = r.get("clockwise"), _ = y ? 1 : -1, w = [p, v];
    yS(w, !y);
    var S = w[0], x = w[1], E = x - S, M = t.getSum("value") === 0 && a.getSum("value") === 0, k = [], P = 0;
    i.eachEdge(function(le) {
      var Se = M ? 1 : le.getValue("value");
      M && (Se > 0 || d) && (P += 2);
      var he = le.node1.dataIndex, fe = le.node2.dataIndex;
      k[he] = (k[he] || 0) + Se, k[fe] = (k[fe] || 0) + Se;
    });
    var L = 0;
    if (i.eachNode(function(le) {
      var Se = le.getValue("value");
      isNaN(Se) || (k[le.dataIndex] = Math.max(Se, k[le.dataIndex] || 0)), !M && (k[le.dataIndex] > 0 || d) && P++, L += k[le.dataIndex] || 0;
    }), !(P === 0 || L === 0)) {
      f * P >= Math.abs(E) && (f = Math.max(0, (Math.abs(E) - d * P) / P)), (f + d) * P >= Math.abs(E) && (d = (Math.abs(E) - f * P) / P);
      var F = (E - f * P * _) / L, O = 0, U = 0, V = 0;
      i.eachNode(function(le) {
        var Se = k[le.dataIndex] || 0, he = F * (L ? Se : 1) * _;
        Math.abs(he) < d ? O += d - Math.abs(he) : (U += Math.abs(he) - d, V += Math.abs(he)), le.setLayout({
          angle: he,
          value: Se
        });
      });
      var G = !1;
      if (O > U) {
        var Z = O / U;
        i.eachNode(function(le) {
          var Se = le.getLayout().angle;
          Math.abs(Se) >= d ? le.setLayout({
            angle: Se * Z,
            ratio: Z
          }, !0) : le.setLayout({
            angle: d,
            ratio: d === 0 ? 1 : Se / d
          }, !0);
        });
      } else
        i.eachNode(function(le) {
          if (!G) {
            var Se = le.getLayout().angle, he = Math.min(Se / V, 1), fe = he * O;
            Se - fe < d && (G = !0);
          }
        });
      var Q = O;
      i.eachNode(function(le) {
        if (!(Q <= 0)) {
          var Se = le.getLayout().angle;
          if (Se > d && d > 0) {
            var he = G ? 1 : Math.min(Se / V, 1), fe = Se - d, K = Math.min(fe, Math.min(Q, O * he));
            Q -= K, le.setLayout({
              angle: Se - K,
              ratio: (Se - K) / Se
            }, !0);
          } else
            d > 0 && le.setLayout({
              angle: d,
              ratio: Se === 0 ? 1 : d / Se
            }, !0);
        }
      });
      var se = S, de = [];
      i.eachNode(function(le) {
        var Se = Math.max(le.getLayout().angle, d);
        le.setLayout({
          cx: s,
          cy: l,
          r0: c,
          r: u,
          startAngle: se,
          endAngle: se + Se * _,
          clockwise: y
        }, !0), de[le.dataIndex] = se, se += (Se + f) * _;
      }), i.eachEdge(function(le) {
        var Se = M ? 1 : le.getValue("value"), he = F * (L ? Se : 1) * _, fe = le.node1.dataIndex, K = de[fe] || 0, we = Math.abs((le.node1.getLayout().ratio || 1) * he), ve = K + we * _, De = [s + c * Math.cos(K), l + c * Math.sin(K)], Ie = [s + c * Math.cos(ve), l + c * Math.sin(ve)], q = le.node2.dataIndex, re = de[q] || 0, be = Math.abs((le.node2.getLayout().ratio || 1) * he), te = re + be * _, ne = [s + c * Math.cos(re), l + c * Math.sin(re)], ie = [s + c * Math.cos(te), l + c * Math.sin(te)];
        le.setLayout({
          s1: De,
          s2: Ie,
          sStartAngle: K,
          sEndAngle: ve,
          t1: ne,
          t2: ie,
          tStartAngle: re,
          tEndAngle: te,
          cx: s,
          cy: l,
          r: c,
          value: Se,
          clockwise: y
        }), de[fe] = ve, de[q] = te;
      });
    }
  }
}
function Oxe(r) {
  r.registerChartView(Mxe), r.registerSeriesModel(Pxe), r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT, Rxe), r.registerProcessor(Y0("chord"));
}
var Fxe = (
  /** @class */
  function() {
    function r() {
      this.angle = 0, this.width = 10, this.r = 10, this.x = 0, this.y = 0;
    }
    return r;
  }()
), Nxe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t) {
      var i = r.call(this, t) || this;
      return i.type = "pointer", i;
    }
    return e.prototype.getDefaultShape = function() {
      return new Fxe();
    }, e.prototype.buildPath = function(t, i) {
      var a = Math.cos, n = Math.sin, o = i.r, s = i.width, l = i.angle, u = i.x - a(l) * s * (s >= o / 3 ? 1 : 2), c = i.y - n(l) * s * (s >= o / 3 ? 1 : 2);
      l = i.angle - Math.PI / 2, t.moveTo(u, c), t.lineTo(i.x + a(l) * s, i.y + n(l) * s), t.lineTo(i.x + a(i.angle) * o, i.y + n(i.angle) * o), t.lineTo(i.x - a(l) * s, i.y - n(l) * s), t.lineTo(u, c);
    }, e;
  }(Er)
);
const Bxe = Nxe;
function Vxe(r, e) {
  var t = r.get("center"), i = e.getWidth(), a = e.getHeight(), n = Math.min(i, a), o = gt(t[0], e.getWidth()), s = gt(t[1], e.getHeight()), l = gt(r.get("radius"), n / 2);
  return {
    cx: o,
    cy: s,
    r: l
  };
}
function v2(r, e) {
  var t = r == null ? "" : r + "";
  return e && (vt(e) ? t = e.replace("{value}", t) : Bt(e) && (t = e(r))), t;
}
var Uxe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i, a) {
      this.group.removeAll();
      var n = t.get(["axisLine", "lineStyle", "color"]), o = Vxe(t, a);
      this._renderMain(t, i, a, n, o), this._data = t.getData();
    }, e.prototype.dispose = function() {
    }, e.prototype._renderMain = function(t, i, a, n, o) {
      var s = this.group, l = t.get("clockwise"), u = -t.get("startAngle") / 180 * Math.PI, c = -t.get("endAngle") / 180 * Math.PI, f = t.getModel("axisLine"), d = f.get("roundCap"), p = d ? Sb : Wa, v = f.get("show"), y = f.getModel("lineStyle"), _ = y.get("width"), w = [u, c];
      yS(w, !l), u = w[0], c = w[1];
      for (var S = c - u, x = u, E = [], M = 0; v && M < n.length; M++) {
        var k = Math.min(Math.max(n[M][0], 0), 1);
        c = u + S * k;
        var P = new p({
          shape: {
            startAngle: x,
            endAngle: c,
            cx: o.cx,
            cy: o.cy,
            clockwise: l,
            r0: o.r - _,
            r: o.r
          },
          silent: !0
        });
        P.setStyle({
          fill: n[M][1]
        }), P.setStyle(y.getLineStyle(
          // Because we use sector to simulate arc
          // so the properties for stroking are useless
          ["color", "width"]
        )), E.push(P), x = c;
      }
      E.reverse(), J(E, function(F) {
        return s.add(F);
      });
      var L = function(F) {
        if (F <= 0)
          return n[0][1];
        var O;
        for (O = 0; O < n.length; O++)
          if (n[O][0] >= F && (O === 0 ? 0 : n[O - 1][0]) < F)
            return n[O][1];
        return n[O - 1][1];
      };
      this._renderTicks(t, i, a, L, o, u, c, l, _), this._renderTitleAndDetail(t, i, a, L, o), this._renderAnchor(t, o), this._renderPointer(t, i, a, L, o, u, c, l, _);
    }, e.prototype._renderTicks = function(t, i, a, n, o, s, l, u, c) {
      for (var f = this.group, d = o.cx, p = o.cy, v = o.r, y = +t.get("min"), _ = +t.get("max"), w = t.getModel("splitLine"), S = t.getModel("axisTick"), x = t.getModel("axisLabel"), E = t.get("splitNumber"), M = S.get("splitNumber"), k = gt(w.get("length"), v), P = gt(S.get("length"), v), L = s, F = (l - s) / E, O = F / M, U = w.getModel("lineStyle").getLineStyle(), V = S.getModel("lineStyle").getLineStyle(), G = w.get("distance"), Z, Q, se = 0; se <= E; se++) {
        if (Z = Math.cos(L), Q = Math.sin(L), w.get("show")) {
          var de = G ? G + c : c, le = new ki({
            shape: {
              x1: Z * (v - de) + d,
              y1: Q * (v - de) + p,
              x2: Z * (v - k - de) + d,
              y2: Q * (v - k - de) + p
            },
            style: U,
            silent: !0
          });
          U.stroke === "auto" && le.setStyle({
            stroke: n(se / E)
          }), f.add(le);
        }
        if (x.get("show")) {
          var de = x.get("distance") + G, Se = v2(wi(se / E * (_ - y) + y), x.get("formatter")), he = n(se / E), fe = Z * (v - k - de) + d, K = Q * (v - k - de) + p, we = x.get("rotate"), ve = 0;
          we === "radial" ? (ve = -L + 2 * Math.PI, ve > Math.PI / 2 && (ve += Math.PI)) : we === "tangential" ? ve = -L - Math.PI / 2 : Or(we) && (ve = we * Math.PI / 180), ve === 0 ? f.add(new Br({
            style: Sn(x, {
              text: Se,
              x: fe,
              y: K,
              verticalAlign: Q < -0.8 ? "top" : Q > 0.8 ? "bottom" : "middle",
              align: Z < -0.4 ? "left" : Z > 0.4 ? "right" : "center"
            }, {
              inheritColor: he
            }),
            silent: !0
          })) : f.add(new Br({
            style: Sn(x, {
              text: Se,
              x: fe,
              y: K,
              verticalAlign: "middle",
              align: "center"
            }, {
              inheritColor: he
            }),
            silent: !0,
            originX: fe,
            originY: K,
            rotation: ve
          }));
        }
        if (S.get("show") && se !== E) {
          var de = S.get("distance");
          de = de ? de + c : c;
          for (var De = 0; De <= M; De++) {
            Z = Math.cos(L), Q = Math.sin(L);
            var Ie = new ki({
              shape: {
                x1: Z * (v - de) + d,
                y1: Q * (v - de) + p,
                x2: Z * (v - P - de) + d,
                y2: Q * (v - P - de) + p
              },
              silent: !0,
              style: V
            });
            V.stroke === "auto" && Ie.setStyle({
              stroke: n((se + De / M) / E)
            }), f.add(Ie), L += O;
          }
          L -= O;
        } else
          L += F;
      }
    }, e.prototype._renderPointer = function(t, i, a, n, o, s, l, u, c) {
      var f = this.group, d = this._data, p = this._progressEls, v = [], y = t.get(["pointer", "show"]), _ = t.getModel("progress"), w = _.get("show"), S = t.getData(), x = S.mapDimension("value"), E = +t.get("min"), M = +t.get("max"), k = [E, M], P = [s, l];
      function L(O, U) {
        var V = S.getItemModel(O), G = V.getModel("pointer"), Z = gt(G.get("width"), o.r), Q = gt(G.get("length"), o.r), se = t.get(["pointer", "icon"]), de = G.get("offsetCenter"), le = gt(de[0], o.r), Se = gt(de[1], o.r), he = G.get("keepAspect"), fe;
        return se ? fe = Si(se, le - Z / 2, Se - Q, Z, Q, null, he) : fe = new Bxe({
          shape: {
            angle: -Math.PI / 2,
            width: Z,
            r: Q,
            x: le,
            y: Se
          }
        }), fe.rotation = -(U + Math.PI / 2), fe.x = o.cx, fe.y = o.cy, fe;
      }
      function F(O, U) {
        var V = _.get("roundCap"), G = V ? Sb : Wa, Z = _.get("overlap"), Q = Z ? _.get("width") : c / S.count(), se = Z ? o.r - Q : o.r - (O + 1) * Q, de = Z ? o.r : o.r - O * Q, le = new G({
          shape: {
            startAngle: s,
            endAngle: U,
            cx: o.cx,
            cy: o.cy,
            clockwise: u,
            r0: se,
            r: de
          }
        });
        return Z && (le.z2 = Qr(S.get(x, O), [E, M], [100, 0], !0)), le;
      }
      (w || y) && (S.diff(d).add(function(O) {
        var U = S.get(x, O);
        if (y) {
          var V = L(O, s);
          In(V, {
            rotation: -((isNaN(+U) ? P[0] : Qr(U, k, P, !0)) + Math.PI / 2)
          }, t), f.add(V), S.setItemGraphicEl(O, V);
        }
        if (w) {
          var G = F(O, s), Z = _.get("clip");
          In(G, {
            shape: {
              endAngle: Qr(U, k, P, Z)
            }
          }, t), f.add(G), YA(t.seriesIndex, S.dataType, O, G), v[O] = G;
        }
      }).update(function(O, U) {
        var V = S.get(x, O);
        if (y) {
          var G = d.getItemGraphicEl(U), Z = G ? G.rotation : s, Q = L(O, Z);
          Q.rotation = Z, Wr(Q, {
            rotation: -((isNaN(+V) ? P[0] : Qr(V, k, P, !0)) + Math.PI / 2)
          }, t), f.add(Q), S.setItemGraphicEl(O, Q);
        }
        if (w) {
          var se = p[U], de = se ? se.shape.endAngle : s, le = F(O, de), Se = _.get("clip");
          Wr(le, {
            shape: {
              endAngle: Qr(V, k, P, Se)
            }
          }, t), f.add(le), YA(t.seriesIndex, S.dataType, O, le), v[O] = le;
        }
      }).execute(), S.each(function(O) {
        var U = S.getItemModel(O), V = U.getModel("emphasis"), G = V.get("focus"), Z = V.get("blurScope"), Q = V.get("disabled");
        if (y) {
          var se = S.getItemGraphicEl(O), de = S.getItemVisual(O, "style"), le = de.fill;
          if (se instanceof ha) {
            var Se = se.style;
            se.useStyle($e({
              image: Se.image,
              x: Se.x,
              y: Se.y,
              width: Se.width,
              height: Se.height
            }, de));
          } else
            se.useStyle(de), se.type !== "pointer" && se.setColor(le);
          se.setStyle(U.getModel(["pointer", "itemStyle"]).getItemStyle()), se.style.fill === "auto" && se.setStyle("fill", n(Qr(S.get(x, O), k, [0, 1], !0))), se.z2EmphasisLift = 0, Gi(se, U), Wn(se, G, Z, Q);
        }
        if (w) {
          var he = v[O];
          he.useStyle(S.getItemVisual(O, "style")), he.setStyle(U.getModel(["progress", "itemStyle"]).getItemStyle()), he.z2EmphasisLift = 0, Gi(he, U), Wn(he, G, Z, Q);
        }
      }), this._progressEls = v);
    }, e.prototype._renderAnchor = function(t, i) {
      var a = t.getModel("anchor"), n = a.get("show");
      if (n) {
        var o = a.get("size"), s = a.get("icon"), l = a.get("offsetCenter"), u = a.get("keepAspect"), c = Si(s, i.cx - o / 2 + gt(l[0], i.r), i.cy - o / 2 + gt(l[1], i.r), o, o, null, u);
        c.z2 = a.get("showAbove") ? 1 : 0, c.setStyle(a.getModel("itemStyle").getItemStyle()), this.group.add(c);
      }
    }, e.prototype._renderTitleAndDetail = function(t, i, a, n, o) {
      var s = this, l = t.getData(), u = l.mapDimension("value"), c = +t.get("min"), f = +t.get("max"), d = new Wt(), p = [], v = [], y = t.isAnimationEnabled(), _ = t.get(["pointer", "showAbove"]);
      l.diff(this._data).add(function(w) {
        p[w] = new Br({
          silent: !0
        }), v[w] = new Br({
          silent: !0
        });
      }).update(function(w, S) {
        p[w] = s._titleEls[S], v[w] = s._detailEls[S];
      }).execute(), l.each(function(w) {
        var S = l.getItemModel(w), x = l.get(u, w), E = new Wt(), M = n(Qr(x, [c, f], [0, 1], !0)), k = S.getModel("title");
        if (k.get("show")) {
          var P = k.get("offsetCenter"), L = o.cx + gt(P[0], o.r), F = o.cy + gt(P[1], o.r), O = p[w];
          O.attr({
            z2: _ ? 0 : 2,
            style: Sn(k, {
              x: L,
              y: F,
              text: l.getName(w),
              align: "center",
              verticalAlign: "middle"
            }, {
              inheritColor: M
            })
          }), E.add(O);
        }
        var U = S.getModel("detail");
        if (U.get("show")) {
          var V = U.get("offsetCenter"), G = o.cx + gt(V[0], o.r), Z = o.cy + gt(V[1], o.r), Q = gt(U.get("width"), o.r), se = gt(U.get("height"), o.r), de = t.get(["progress", "show"]) ? l.getItemVisual(w, "style").fill : M, O = v[w], le = U.get("formatter");
          O.attr({
            z2: _ ? 0 : 2,
            style: Sn(U, {
              x: G,
              y: Z,
              text: v2(x, le),
              width: isNaN(Q) ? null : Q,
              height: isNaN(se) ? null : se,
              align: "center",
              verticalAlign: "middle"
            }, {
              inheritColor: de
            })
          }), jY(O, {
            normal: U
          }, x, function(he) {
            return v2(he, le);
          }), y && qY(O, w, l, t, {
            getFormattedLabel: function(he, fe, K, we, ve, De) {
              return v2(De ? De.interpolatedValue : x, le);
            }
          }), E.add(O);
        }
        d.add(E);
      }), this.group.add(d), this._titleEls = p, this._detailEls = v;
    }, e.type = "gauge", e;
  }(gn)
);
const Gxe = Uxe;
var zxe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.visualStyleAccessPath = "itemStyle", t;
    }
    return e.prototype.getInitialData = function(t, i) {
      return j0(this, ["value"]);
    }, e.type = "series.gauge", e.defaultOption = {
      // zlevel: 0,
      z: 2,
      colorBy: "data",
      // 
      center: ["50%", "50%"],
      legendHoverLink: !0,
      radius: "75%",
      startAngle: 225,
      endAngle: -45,
      clockwise: !0,
      // 
      min: 0,
      // 
      max: 100,
      // 10
      splitNumber: 10,
      // 
      axisLine: {
        // show
        show: !0,
        roundCap: !1,
        lineStyle: {
          color: [[1, Ve.color.neutral10]],
          width: 10
        }
      },
      // 
      progress: {
        // show
        show: !1,
        overlap: !0,
        width: 10,
        roundCap: !1,
        clip: !0
      },
      // 
      splitLine: {
        // show
        show: !0,
        // length
        length: 10,
        distance: 10,
        // lineStylelineStyle
        lineStyle: {
          color: Ve.color.axisTick,
          width: 3,
          type: "solid"
        }
      },
      // 
      axisTick: {
        // show
        show: !0,
        // split
        splitNumber: 5,
        // length
        length: 6,
        distance: 10,
        // lineStyle
        lineStyle: {
          color: Ve.color.axisTickMinor,
          width: 1,
          type: "solid"
        }
      },
      axisLabel: {
        show: !0,
        distance: 15,
        // formatter: null,
        color: Ve.color.axisLabel,
        fontSize: 12,
        rotate: 0
      },
      pointer: {
        icon: null,
        offsetCenter: [0, 0],
        show: !0,
        showAbove: !0,
        length: "60%",
        width: 6,
        keepAspect: !1
      },
      anchor: {
        show: !1,
        showAbove: !1,
        size: 6,
        icon: "circle",
        offsetCenter: [0, 0],
        keepAspect: !1,
        itemStyle: {
          color: Ve.color.neutral00,
          borderWidth: 0,
          borderColor: Ve.color.theme[0]
        }
      },
      title: {
        show: !0,
        // x, ypx
        offsetCenter: [0, "20%"],
        // TEXTSTYLE
        color: Ve.color.secondary,
        fontSize: 16,
        valueAnimation: !1
      },
      detail: {
        show: !0,
        backgroundColor: Ve.color.transparent,
        borderWidth: 0,
        borderColor: Ve.color.neutral40,
        width: 100,
        height: null,
        padding: [5, 10],
        // x, ypx
        offsetCenter: [0, "40%"],
        // formatter: null,
        // TEXTSTYLE
        color: Ve.color.primary,
        fontSize: 30,
        fontWeight: "bold",
        lineHeight: 30,
        valueAnimation: !1
      }
    }, e;
  }(En)
);
const Wxe = zxe;
function Hxe(r) {
  r.registerChartView(Gxe), r.registerSeriesModel(Wxe);
}
var $xe = ["itemStyle", "opacity"], Yxe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i) {
      var a = r.call(this) || this, n = a, o = new wa(), s = new Br();
      return n.setTextContent(s), a.setTextGuideLine(o), a.updateData(t, i, !0), a;
    }
    return e.prototype.updateData = function(t, i, a) {
      var n = this, o = t.hostModel, s = t.getItemModel(i), l = t.getItemLayout(i), u = s.getModel("emphasis"), c = s.get($xe);
      c = c ?? 1, a || hs(n), n.useStyle(t.getItemVisual(i, "style")), n.style.lineJoin = "round", a ? (n.setShape({
        points: l.points
      }), n.style.opacity = 0, In(n, {
        style: {
          opacity: c
        }
      }, o, i)) : Wr(n, {
        style: {
          opacity: c
        },
        shape: {
          points: l.points
        }
      }, o, i), Gi(n, s), this._updateLabel(t, i), Wn(this, u.get("focus"), u.get("blurScope"), u.get("disabled"));
    }, e.prototype._updateLabel = function(t, i) {
      var a = this, n = this.getTextGuideLine(), o = a.getTextContent(), s = t.hostModel, l = t.getItemModel(i), u = t.getItemLayout(i), c = u.label, f = t.getItemVisual(i, "style"), d = f.fill;
      ea(
        // position will not be used in setLabelStyle
        o,
        zi(l),
        {
          labelFetcher: t.hostModel,
          labelDataIndex: i,
          defaultOpacity: f.opacity,
          defaultText: t.getName(i)
        },
        {
          normal: {
            align: c.textAlign,
            verticalAlign: c.verticalAlign
          }
        }
      );
      var p = l.getModel("label"), v = p.get("color"), y = v === "inherit" ? d : null;
      a.setTextConfig({
        local: !0,
        inside: !!c.inside,
        insideStroke: y,
        outsideFill: y
      });
      var _ = c.linePoints;
      n.setShape({
        points: _
      }), a.textGuideLineConfig = {
        anchor: _ ? new Xt(_[0][0], _[0][1]) : null
      }, Wr(o, {
        style: {
          x: c.x,
          y: c.y
        }
      }, s, i), o.attr({
        rotation: c.rotation,
        originX: c.x,
        originY: c.y,
        z2: 10
      }), GD(a, zD(l), {
        // Default use item visual color
        stroke: d
      });
    }, e;
  }(Ha)
), jxe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.ignoreLabelLineUpdate = !0, t;
    }
    return e.prototype.render = function(t, i, a) {
      var n = t.getData(), o = this._data, s = this.group;
      n.diff(o).add(function(l) {
        var u = new Yxe(n, l);
        n.setItemGraphicEl(l, u), s.add(u);
      }).update(function(l, u) {
        var c = o.getItemGraphicEl(u);
        c.updateData(n, l), s.add(c), n.setItemGraphicEl(l, c);
      }).remove(function(l) {
        var u = o.getItemGraphicEl(l);
        Au(u, t, l);
      }).execute(), this._data = n;
    }, e.prototype.remove = function() {
      this.group.removeAll(), this._data = null;
    }, e.prototype.dispose = function() {
    }, e.type = "funnel", e;
  }(gn)
);
const qxe = jxe;
var Xxe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.init = function(t) {
      r.prototype.init.apply(this, arguments), this.legendVisualProvider = new q0(mt(this.getData, this), mt(this.getRawData, this)), this._defaultLabelLine(t);
    }, e.prototype.getInitialData = function(t, i) {
      return j0(this, {
        coordDimensions: ["value"],
        encodeDefaulter: fr(vD, this)
      });
    }, e.prototype._defaultLabelLine = function(t) {
      Zf(t, "labelLine", ["show"]);
      var i = t.labelLine, a = t.emphasis.labelLine;
      i.show = i.show && t.label.show, a.show = a.show && t.emphasis.label.show;
    }, e.prototype.getDataParams = function(t) {
      var i = this.getData(), a = r.prototype.getDataParams.call(this, t), n = i.mapDimension("value"), o = i.getSum(n);
      return a.percent = o ? +(i.get(n, t) / o * 100).toFixed(2) : 0, a.$vars.push("percent"), a;
    }, e.type = "series.funnel", e.defaultOption = {
      coordinateSystemUsage: "box",
      // zlevel: 0,                  // 
      z: 2,
      legendHoverLink: !0,
      colorBy: "data",
      left: 80,
      top: 60,
      right: 80,
      bottom: 65,
      // width: {totalWidth} - left - right,
      // height: {totalHeight} - top - bottom,
      // 
      // min: 0,
      // max: 100,
      minSize: "0%",
      maxSize: "100%",
      sort: "descending",
      orient: "vertical",
      gap: 0,
      funnelAlign: "center",
      label: {
        show: !0,
        position: "outer"
        // formatter: Tooltip.formatter
      },
      labelLine: {
        show: !0,
        length: 20,
        lineStyle: {
          // color: ,
          width: 1
        }
      },
      itemStyle: {
        // color: ,
        borderColor: Ve.color.neutral00,
        borderWidth: 1
      },
      emphasis: {
        label: {
          show: !0
        }
      },
      select: {
        itemStyle: {
          borderColor: Ve.color.primary
        }
      }
    }, e;
  }(En)
);
const Kxe = Xxe;
function Zxe(r, e) {
  for (var t = r.mapDimension("value"), i = r.mapArray(t, function(l) {
    return l;
  }), a = [], n = e === "ascending", o = 0, s = r.count(); o < s; o++)
    a[o] = o;
  return Bt(e) ? a.sort(e) : e !== "none" && a.sort(function(l, u) {
    return n ? i[l] - i[u] : i[u] - i[l];
  }), a;
}
function Jxe(r) {
  var e = r.hostModel, t = e.get("orient");
  r.each(function(i) {
    var a = r.getItemModel(i), n = a.getModel("label"), o = n.get("position"), s = a.getModel("labelLine"), l = r.getItemLayout(i), u = l.points, c = o === "inner" || o === "inside" || o === "center" || o === "insideLeft" || o === "insideRight", f, d, p, v;
    if (c)
      o === "insideLeft" ? (d = (u[0][0] + u[3][0]) / 2 + 5, p = (u[0][1] + u[3][1]) / 2, f = "left") : o === "insideRight" ? (d = (u[1][0] + u[2][0]) / 2 - 5, p = (u[1][1] + u[2][1]) / 2, f = "right") : (d = (u[0][0] + u[1][0] + u[2][0] + u[3][0]) / 4, p = (u[0][1] + u[1][1] + u[2][1] + u[3][1]) / 4, f = "center"), v = [[d, p], [d, p]];
    else {
      var y = void 0, _ = void 0, w = void 0, S = void 0, x = s.get("length");
      process.env.NODE_ENV !== "production" && (t === "vertical" && ["top", "bottom"].indexOf(o) > -1 && (o = "left", console.warn("Position error: Funnel chart on vertical orient dose not support top and bottom.")), t === "horizontal" && ["left", "right"].indexOf(o) > -1 && (o = "bottom", console.warn("Position error: Funnel chart on horizontal orient dose not support left and right."))), o === "left" ? (y = (u[3][0] + u[0][0]) / 2, _ = (u[3][1] + u[0][1]) / 2, w = y - x, d = w - 5, f = "right") : o === "right" ? (y = (u[1][0] + u[2][0]) / 2, _ = (u[1][1] + u[2][1]) / 2, w = y + x, d = w + 5, f = "left") : o === "top" ? (y = (u[3][0] + u[0][0]) / 2, _ = (u[3][1] + u[0][1]) / 2, S = _ - x, p = S - 5, f = "center") : o === "bottom" ? (y = (u[1][0] + u[2][0]) / 2, _ = (u[1][1] + u[2][1]) / 2, S = _ + x, p = S + 5, f = "center") : o === "rightTop" ? (y = t === "horizontal" ? u[3][0] : u[1][0], _ = t === "horizontal" ? u[3][1] : u[1][1], t === "horizontal" ? (S = _ - x, p = S - 5, f = "center") : (w = y + x, d = w + 5, f = "top")) : o === "rightBottom" ? (y = u[2][0], _ = u[2][1], t === "horizontal" ? (S = _ + x, p = S + 5, f = "center") : (w = y + x, d = w + 5, f = "bottom")) : o === "leftTop" ? (y = u[0][0], _ = t === "horizontal" ? u[0][1] : u[1][1], t === "horizontal" ? (S = _ - x, p = S - 5, f = "center") : (w = y - x, d = w - 5, f = "right")) : o === "leftBottom" ? (y = t === "horizontal" ? u[1][0] : u[3][0], _ = t === "horizontal" ? u[1][1] : u[2][1], t === "horizontal" ? (S = _ + x, p = S + 5, f = "center") : (w = y - x, d = w - 5, f = "right")) : (y = (u[1][0] + u[2][0]) / 2, _ = (u[1][1] + u[2][1]) / 2, t === "horizontal" ? (S = _ + x, p = S + 5, f = "center") : (w = y + x, d = w + 5, f = "left")), t === "horizontal" ? (w = y, d = w) : (S = _, p = S), v = [[y, _], [w, S]];
    }
    l.label = {
      linePoints: v,
      x: d,
      y: p,
      verticalAlign: "middle",
      textAlign: f,
      inside: c
    };
  });
}
function Qxe(r, e) {
  r.eachSeriesByType("funnel", function(t) {
    var i = t.getData(), a = i.mapDimension("value"), n = t.get("sort"), o = Wi(t, e), s = Bn(t.getBoxLayoutParams(), o.refContainer), l = t.get("orient"), u = s.width, c = s.height, f = Zxe(i, n), d = s.x, p = s.y, v = l === "horizontal" ? [gt(t.get("minSize"), c), gt(t.get("maxSize"), c)] : [gt(t.get("minSize"), u), gt(t.get("maxSize"), u)], y = i.getDataExtent(a), _ = t.get("min"), w = t.get("max");
    _ == null && (_ = Math.min(y[0], 0)), w == null && (w = y[1]);
    var S = t.get("funnelAlign"), x = t.get("gap"), E = l === "horizontal" ? u : c, M = (E - x * (i.count() - 1)) / i.count(), k = function(Q, se) {
      if (l === "horizontal") {
        var de = i.get(a, Q) || 0, le = Qr(de, [_, w], v, !0), Se = void 0;
        switch (S) {
          case "top":
            Se = p;
            break;
          case "center":
            Se = p + (c - le) / 2;
            break;
          case "bottom":
            Se = p + (c - le);
            break;
        }
        return [[se, Se], [se, Se + le]];
      }
      var he = i.get(a, Q) || 0, fe = Qr(he, [_, w], v, !0), K;
      switch (S) {
        case "left":
          K = d;
          break;
        case "center":
          K = d + (u - fe) / 2;
          break;
        case "right":
          K = d + u - fe;
          break;
      }
      return [[K, se], [K + fe, se]];
    };
    n === "ascending" && (M = -M, x = -x, l === "horizontal" ? d += u : p += c, f = f.reverse());
    for (var P = 0; P < f.length; P++) {
      var L = f[P], F = f[P + 1], O = i.getItemModel(L);
      if (l === "horizontal") {
        var U = O.get(["itemStyle", "width"]);
        U == null ? U = M : (U = gt(U, u), n === "ascending" && (U = -U));
        var V = k(L, d), G = k(F, d + U);
        d += U + x, i.setItemLayout(L, {
          points: V.concat(G.slice().reverse())
        });
      } else {
        var Z = O.get(["itemStyle", "height"]);
        Z == null ? Z = M : (Z = gt(Z, c), n === "ascending" && (Z = -Z));
        var V = k(L, p), G = k(F, p + Z);
        p += Z + x, i.setItemLayout(L, {
          points: V.concat(G.slice().reverse())
        });
      }
    }
    Jxe(i);
  });
}
function e4e(r) {
  r.registerChartView(qxe), r.registerSeriesModel(Kxe), r.registerLayout(Qxe), r.registerProcessor(Y0("funnel"));
}
var t4e = 0.3, r4e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t._dataGroup = new Wt(), t._initialized = !1, t;
    }
    return e.prototype.init = function() {
      this.group.add(this._dataGroup);
    }, e.prototype.render = function(t, i, a, n) {
      this._progressiveEls = null;
      var o = this._dataGroup, s = t.getData(), l = this._data, u = t.coordinateSystem, c = u.dimensions, f = BB(t);
      s.diff(l).add(d).update(p).remove(v).execute();
      function d(_) {
        var w = NB(s, o, _, c, u);
        V5(w, s, _, f);
      }
      function p(_, w) {
        var S = l.getItemGraphicEl(w), x = XK(s, _, c, u);
        s.setItemGraphicEl(_, S), Wr(S, {
          shape: {
            points: x
          }
        }, t, _), hs(S), V5(S, s, _, f);
      }
      function v(_) {
        var w = l.getItemGraphicEl(_);
        o.remove(w);
      }
      if (!this._initialized) {
        this._initialized = !0;
        var y = n4e(u, t, function() {
          setTimeout(function() {
            o.removeClipPath();
          });
        });
        o.setClipPath(y);
      }
      this._data = s;
    }, e.prototype.incrementalPrepareRender = function(t, i, a) {
      this._initialized = !0, this._data = null, this._dataGroup.removeAll();
    }, e.prototype.incrementalRender = function(t, i, a) {
      for (var n = i.getData(), o = i.coordinateSystem, s = o.dimensions, l = BB(i), u = this._progressiveEls = [], c = t.start; c < t.end; c++) {
        var f = NB(n, this._dataGroup, c, s, o);
        f.incremental = !0, V5(f, n, c, l), u.push(f);
      }
    }, e.prototype.remove = function() {
      this._dataGroup && this._dataGroup.removeAll(), this._data = null;
    }, e.type = "parallel", e;
  }(gn)
);
function n4e(r, e, t) {
  var i = r.model, a = r.getRect(), n = new Cr({
    shape: {
      x: a.x,
      y: a.y,
      width: a.width,
      height: a.height
    }
  }), o = i.get("layout") === "horizontal" ? "width" : "height";
  return n.setShape(o, 0), In(n, {
    shape: {
      width: a.width,
      height: a.height
    }
  }, e, t), n;
}
function XK(r, e, t, i) {
  for (var a = [], n = 0; n < t.length; n++) {
    var o = t[n], s = r.get(r.mapDimension(o), e);
    i4e(s, i.getAxis(o).type) || a.push(i.dataToPoint(s, o));
  }
  return a;
}
function NB(r, e, t, i, a) {
  var n = XK(r, t, i, a), o = new wa({
    shape: {
      points: n
    },
    // silent: true,
    z2: 10
  });
  return e.add(o), r.setItemGraphicEl(t, o), o;
}
function BB(r) {
  var e = r.get("smooth", !0);
  return e === !0 && (e = t4e), e = Ml(e), Zi(e) && (e = 0), {
    smooth: e
  };
}
function V5(r, e, t, i) {
  r.useStyle(e.getItemVisual(t, "style")), r.style.fill = null, r.setShape("smooth", i.smooth);
  var a = e.getItemModel(t), n = a.getModel("emphasis");
  Gi(r, a, "lineStyle"), Wn(r, n.get("focus"), n.get("blurScope"), n.get("disabled"));
}
function i4e(r, e) {
  return e === "category" ? r == null : r == null || isNaN(r);
}
const a4e = r4e;
var o4e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.visualStyleAccessPath = "lineStyle", t.visualDrawType = "stroke", t;
    }
    return e.prototype.getInitialData = function(t, i) {
      return Bl(null, this, {
        useEncodeDefaulter: mt(s4e, null, this)
      });
    }, e.prototype.getRawIndicesByActiveState = function(t) {
      var i = this.coordinateSystem, a = this.getData(), n = [];
      return i.eachActiveState(a, function(o, s) {
        t === o && n.push(a.getRawIndex(s));
      }), n;
    }, e.type = "series.parallel", e.dependencies = ["parallel"], e.defaultOption = {
      // zlevel: 0,
      z: 2,
      coordinateSystem: "parallel",
      parallelIndex: 0,
      label: {
        show: !1
      },
      inactiveOpacity: 0.05,
      activeOpacity: 1,
      lineStyle: {
        width: 1,
        opacity: 0.45,
        type: "solid"
      },
      emphasis: {
        label: {
          show: !1
        }
      },
      progressive: 500,
      smooth: !1,
      animationEasing: "linear"
    }, e;
  }(En)
);
function s4e(r) {
  var e = r.ecModel.getComponent("parallel", r.get("parallelIndex"));
  if (e) {
    var t = {};
    return J(e.dimensions, function(i) {
      var a = l4e(i);
      t[i] = a;
    }), t;
  }
}
function l4e(r) {
  return +r.replace("dim", "");
}
const u4e = o4e;
var c4e = ["lineStyle", "opacity"], h4e = {
  seriesType: "parallel",
  reset: function(r, e) {
    var t = r.coordinateSystem, i = {
      normal: r.get(["lineStyle", "opacity"]),
      active: r.get("activeOpacity"),
      inactive: r.get("inactiveOpacity")
    };
    return {
      progress: function(a, n) {
        t.eachActiveState(n, function(o, s) {
          var l = i[o];
          if (o === "normal" && n.hasItemOption) {
            var u = n.getItemModel(s).get(c4e, !0);
            u != null && (l = u);
          }
          var c = n.ensureUniqueItemVisual(s, "style");
          c.opacity = l;
        }, a.start, a.end);
      }
    };
  }
};
const f4e = h4e;
function d4e(r) {
  p4e(r), v4e(r);
}
function p4e(r) {
  if (!r.parallel) {
    var e = !1;
    J(r.series, function(t) {
      t && t.type === "parallel" && (e = !0);
    }), e && (r.parallel = [{}]);
  }
}
function v4e(r) {
  var e = xn(r.parallelAxis);
  J(e, function(t) {
    if (zt(t)) {
      var i = t.parallelIndex || 0, a = xn(r.parallel)[i];
      a && a.parallelAxisDefault && gr(t, a.parallelAxisDefault, !1);
    }
  });
}
var g4e = 5, m4e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i, a) {
      this._model = t, this._api = a, this._handlers || (this._handlers = {}, J(y4e, function(n, o) {
        a.getZr().on(o, this._handlers[o] = mt(n, this));
      }, this)), G0(this, "_throttledDispatchExpand", t.get("axisExpandRate"), "fixRate");
    }, e.prototype.dispose = function(t, i) {
      y1(this, "_throttledDispatchExpand"), J(this._handlers, function(a, n) {
        i.getZr().off(n, a);
      }), this._handlers = null;
    }, e.prototype._throttledDispatchExpand = function(t) {
      this._dispatchExpand(t);
    }, e.prototype._dispatchExpand = function(t) {
      t && this._api.dispatchAction($e({
        type: "parallelAxisExpand"
      }, t));
    }, e.type = "parallel", e;
  }(Pn)
), y4e = {
  mousedown: function(r) {
    U5(this, "click") && (this._mouseDownPoint = [r.offsetX, r.offsetY]);
  },
  mouseup: function(r) {
    var e = this._mouseDownPoint;
    if (U5(this, "click") && e) {
      var t = [r.offsetX, r.offsetY], i = Math.pow(e[0] - t[0], 2) + Math.pow(e[1] - t[1], 2);
      if (i > g4e)
        return;
      var a = this._model.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX, r.offsetY]);
      a.behavior !== "none" && this._dispatchExpand({
        axisExpandWindow: a.axisExpandWindow
      });
    }
    this._mouseDownPoint = null;
  },
  mousemove: function(r) {
    if (!(this._mouseDownPoint || !U5(this, "mousemove"))) {
      var e = this._model, t = e.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX, r.offsetY]), i = t.behavior;
      i === "jump" && this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")), this._throttledDispatchExpand(i === "none" ? null : {
        axisExpandWindow: t.axisExpandWindow,
        // Jumping uses animation, and sliding suppresses animation.
        animation: i === "jump" ? null : {
          duration: 0
          // Disable animation.
        }
      });
    }
  }
};
function U5(r, e) {
  var t = r._model;
  return t.get("axisExpandable") && t.get("axisExpandTriggerOn") === e;
}
const _4e = m4e;
var b4e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.init = function() {
      r.prototype.init.apply(this, arguments), this.mergeOption({});
    }, e.prototype.mergeOption = function(t) {
      var i = this.option;
      t && gr(i, t, !0), this._initDimensions();
    }, e.prototype.contains = function(t, i) {
      var a = t.get("parallelIndex");
      return a != null && i.getComponent("parallel", a) === this;
    }, e.prototype.setAxisExpand = function(t) {
      J(["axisExpandable", "axisExpandCenter", "axisExpandCount", "axisExpandWidth", "axisExpandWindow"], function(i) {
        t.hasOwnProperty(i) && (this.option[i] = t[i]);
      }, this);
    }, e.prototype._initDimensions = function() {
      var t = this.dimensions = [], i = this.parallelAxisIndex = [], a = Xr(this.ecModel.queryComponents({
        mainType: "parallelAxis"
      }), function(n) {
        return (n.get("parallelIndex") || 0) === this.componentIndex;
      }, this);
      J(a, function(n) {
        t.push("dim" + n.get("dim")), i.push(n.componentIndex);
      });
    }, e.type = "parallel", e.dependencies = ["parallelAxis"], e.layoutMode = "box", e.defaultOption = {
      // zlevel: 0,
      z: 0,
      left: 80,
      top: 60,
      right: 80,
      bottom: 60,
      // width: {totalWidth} - left - right,
      // height: {totalHeight} - top - bottom,
      layout: "horizontal",
      // FIXME
      // naming?
      axisExpandable: !1,
      axisExpandCenter: null,
      axisExpandCount: 0,
      axisExpandWidth: 50,
      axisExpandRate: 17,
      axisExpandDebounce: 50,
      // [out, in, jumpTarget]. In percentage. If use [null, 0.05], null means full.
      // Do not doc to user until necessary.
      axisExpandSlideTriggerArea: [-0.15, 0.05, 0.4],
      axisExpandTriggerOn: "click",
      parallelAxisDefault: null
    }, e;
  }(Rr)
);
const w4e = b4e;
var S4e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i, a, n, o) {
      var s = r.call(this, t, i, a) || this;
      return s.type = n || "value", s.axisIndex = o, s;
    }
    return e.prototype.isHorizontal = function() {
      return this.coordinateSystem.getModel().get("layout") !== "horizontal";
    }, e;
  }(ps)
);
const x4e = S4e;
function eh(r, e, t, i, a, n) {
  r = r || 0;
  var o = t[1] - t[0];
  if (a != null && (a = bp(a, [0, o])), n != null && (n = Math.max(n, a ?? 0)), i === "all") {
    var s = Math.abs(e[1] - e[0]);
    s = bp(s, [0, o]), a = n = bp(s, [a, n]), i = 0;
  }
  e[0] = bp(e[0], t), e[1] = bp(e[1], t);
  var l = G5(e, i);
  e[i] += r;
  var u = a || 0, c = t.slice();
  l.sign < 0 ? c[0] += u : c[1] -= u, e[i] = bp(e[i], c);
  var f;
  return f = G5(e, i), a != null && (f.sign !== l.sign || f.span < a) && (e[1 - i] = e[i] + l.sign * a), f = G5(e, i), n != null && f.span > n && (e[1 - i] = e[i] + f.sign * n), e;
}
function G5(r, e) {
  var t = r[e] - r[1 - e];
  return {
    span: Math.abs(t),
    sign: t > 0 ? -1 : t < 0 ? 1 : e ? -1 : 1
  };
}
function bp(r, e) {
  return Math.min(e[1] != null ? e[1] : 1 / 0, Math.max(e[0] != null ? e[0] : -1 / 0, r));
}
var z5 = J, KK = Math.min, ZK = Math.max, VB = Math.floor, T4e = Math.ceil, UB = wi, C4e = Math.PI, A4e = (
  /** @class */
  function() {
    function r(e, t, i) {
      this.type = "parallel", this._axesMap = Pt(), this._axesLayout = {}, this.dimensions = e.dimensions, this._model = e, this._init(e, t, i);
    }
    return r.prototype._init = function(e, t, i) {
      var a = e.dimensions, n = e.parallelAxisIndex;
      z5(a, function(o, s) {
        var l = n[s], u = t.getComponent("parallelAxis", l), c = this._axesMap.set(o, new x4e(o, um(u), [0, 0], u.get("type"), l)), f = c.type === "category";
        c.onBand = f && u.get("boundaryGap"), c.inverse = u.get("inverse"), u.axis = c, c.model = u, c.coordinateSystem = u.coordinateSystem = this;
      }, this);
    }, r.prototype.update = function(e, t) {
      this._updateAxesFromSeries(this._model, e);
    }, r.prototype.containPoint = function(e) {
      var t = this._makeLayoutInfo(), i = t.axisBase, a = t.layoutBase, n = t.pixelDimIndex, o = e[1 - n], s = e[n];
      return o >= i && o <= i + t.axisLength && s >= a && s <= a + t.layoutLength;
    }, r.prototype.getModel = function() {
      return this._model;
    }, r.prototype._updateAxesFromSeries = function(e, t) {
      t.eachSeries(function(i) {
        if (e.contains(i, t)) {
          var a = i.getData();
          z5(this.dimensions, function(n) {
            var o = this._axesMap.get(n);
            o.scale.unionExtentFromData(a, a.mapDimension(n)), id(o.scale, o.model);
          }, this);
        }
      }, this);
    }, r.prototype.resize = function(e, t) {
      var i = Wi(e, t).refContainer;
      this._rect = Bn(e.getBoxLayoutParams(), i), this._layoutAxes();
    }, r.prototype.getRect = function() {
      return this._rect;
    }, r.prototype._makeLayoutInfo = function() {
      var e = this._model, t = this._rect, i = ["x", "y"], a = ["width", "height"], n = e.get("layout"), o = n === "horizontal" ? 0 : 1, s = t[a[o]], l = [0, s], u = this.dimensions.length, c = g2(e.get("axisExpandWidth"), l), f = g2(e.get("axisExpandCount") || 0, [0, u]), d = e.get("axisExpandable") && u > 3 && u > f && f > 1 && c > 0 && s > 0, p = e.get("axisExpandWindow"), v;
      if (p)
        v = g2(p[1] - p[0], l), p[1] = p[0] + v;
      else {
        v = g2(c * (f - 1), l);
        var y = e.get("axisExpandCenter") || VB(u / 2);
        p = [c * y - v / 2], p[1] = p[0] + v;
      }
      var _ = (s - v) / (u - f);
      _ < 3 && (_ = 0);
      var w = [VB(UB(p[0] / c, 1)) + 1, T4e(UB(p[1] / c, 1)) - 1], S = _ / c * p[0];
      return {
        layout: n,
        pixelDimIndex: o,
        layoutBase: t[i[o]],
        layoutLength: s,
        axisBase: t[i[1 - o]],
        axisLength: t[a[1 - o]],
        axisExpandable: d,
        axisExpandWidth: c,
        axisCollapseWidth: _,
        axisExpandWindow: p,
        axisCount: u,
        winInnerIndices: w,
        axisExpandWindow0Pos: S
      };
    }, r.prototype._layoutAxes = function() {
      var e = this._rect, t = this._axesMap, i = this.dimensions, a = this._makeLayoutInfo(), n = a.layout;
      t.each(function(o) {
        var s = [0, a.axisLength], l = o.inverse ? 1 : 0;
        o.setExtent(s[l], s[1 - l]);
      }), z5(i, function(o, s) {
        var l = (a.axisExpandable ? D4e : E4e)(s, a), u = {
          horizontal: {
            x: l.position,
            y: a.axisLength
          },
          vertical: {
            x: 0,
            y: l.position
          }
        }, c = {
          horizontal: C4e / 2,
          vertical: 0
        }, f = [u[n].x + e.x, u[n].y + e.y], d = c[n], p = Ji();
        ec(p, p, d), Bs(p, p, f), this._axesLayout[o] = {
          position: f,
          rotation: d,
          transform: p,
          axisNameAvailableWidth: l.axisNameAvailableWidth,
          axisLabelShow: l.axisLabelShow,
          nameTruncateMaxWidth: l.nameTruncateMaxWidth,
          tickDirection: 1,
          labelDirection: 1
        };
      }, this);
    }, r.prototype.getAxis = function(e) {
      return this._axesMap.get(e);
    }, r.prototype.dataToPoint = function(e, t) {
      return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e), t);
    }, r.prototype.eachActiveState = function(e, t, i, a) {
      i == null && (i = 0), a == null && (a = e.count());
      var n = this._axesMap, o = this.dimensions, s = [], l = [];
      J(o, function(_) {
        s.push(e.mapDimension(_)), l.push(n.get(_).model);
      });
      for (var u = this.hasAxisBrushed(), c = i; c < a; c++) {
        var f = void 0;
        if (!u)
          f = "normal";
        else {
          f = "active";
          for (var d = e.getValues(s, c), p = 0, v = o.length; p < v; p++) {
            var y = l[p].getActiveState(d[p]);
            if (y === "inactive") {
              f = "inactive";
              break;
            }
          }
        }
        t(f, c);
      }
    }, r.prototype.hasAxisBrushed = function() {
      for (var e = this.dimensions, t = this._axesMap, i = !1, a = 0, n = e.length; a < n; a++)
        t.get(e[a]).model.getActiveState() !== "normal" && (i = !0);
      return i;
    }, r.prototype.axisCoordToPoint = function(e, t) {
      var i = this._axesLayout[t];
      return Fs([e, 0], i.transform);
    }, r.prototype.getAxisLayout = function(e) {
      return Gt(this._axesLayout[e]);
    }, r.prototype.getSlidedAxisExpandWindow = function(e) {
      var t = this._makeLayoutInfo(), i = t.pixelDimIndex, a = t.axisExpandWindow.slice(), n = a[1] - a[0], o = [0, t.axisExpandWidth * (t.axisCount - 1)];
      if (!this.containPoint(e))
        return {
          behavior: "none",
          axisExpandWindow: a
        };
      var s = e[i] - t.layoutBase - t.axisExpandWindow0Pos, l, u = "slide", c = t.axisCollapseWidth, f = this._model.get("axisExpandSlideTriggerArea"), d = f[0] != null;
      if (c)
        d && c && s < n * f[0] ? (u = "jump", l = s - n * f[2]) : d && c && s > n * (1 - f[0]) ? (u = "jump", l = s - n * (1 - f[2])) : (l = s - n * f[1]) >= 0 && (l = s - n * (1 - f[1])) <= 0 && (l = 0), l *= t.axisExpandWidth / c, l ? eh(l, a, o, "all") : u = "none";
      else {
        var p = a[1] - a[0], v = o[1] * s / p;
        a = [ZK(0, v - p / 2)], a[1] = KK(o[1], a[0] + p), a[0] = a[1] - p;
      }
      return {
        axisExpandWindow: a,
        behavior: u
      };
    }, r;
  }()
);
function g2(r, e) {
  return KK(ZK(r, e[0]), e[1]);
}
function E4e(r, e) {
  var t = e.layoutLength / (e.axisCount - 1);
  return {
    position: t * r,
    axisNameAvailableWidth: t,
    axisLabelShow: !0
  };
}
function D4e(r, e) {
  var t = e.layoutLength, i = e.axisExpandWidth, a = e.axisCount, n = e.axisCollapseWidth, o = e.winInnerIndices, s, l = n, u = !1, c;
  return r < o[0] ? (s = r * n, c = n) : r <= o[1] ? (s = e.axisExpandWindow0Pos + r * i - e.axisExpandWindow[0], l = i, u = !0) : (s = t - (a - 1 - r) * n, c = n), {
    position: s,
    axisNameAvailableWidth: l,
    axisLabelShow: u,
    nameTruncateMaxWidth: c
  };
}
const k4e = A4e;
function M4e(r, e) {
  var t = [];
  return r.eachComponent("parallel", function(i, a) {
    var n = new k4e(i, r, e);
    n.name = "parallel_" + a, n.resize(i, e), i.coordinateSystem = n, n.model = i, t.push(n);
  }), r.eachSeries(function(i) {
    if (i.get("coordinateSystem") === "parallel") {
      var a = i.getReferringComponents("parallel", ri).models[0];
      i.coordinateSystem = a.coordinateSystem;
    }
  }), t;
}
var I4e = {
  create: M4e
};
const P4e = I4e;
var JK = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.activeIntervals = [], t;
    }
    return e.prototype.getAreaSelectStyle = function() {
      return Qf([
        ["fill", "color"],
        ["lineWidth", "borderWidth"],
        ["stroke", "borderColor"],
        ["width", "width"],
        ["opacity", "opacity"]
        // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
        // So do not transfer decal directly.
      ])(this.getModel("areaSelectStyle"));
    }, e.prototype.setActiveIntervals = function(t) {
      var i = this.activeIntervals = Gt(t);
      if (i)
        for (var a = i.length - 1; a >= 0; a--)
          Eo(i[a]);
    }, e.prototype.getActiveState = function(t) {
      var i = this.activeIntervals;
      if (!i.length)
        return "normal";
      if (t == null || isNaN(+t))
        return "inactive";
      if (i.length === 1) {
        var a = i[0];
        if (a[0] <= t && t <= a[1])
          return "active";
      } else
        for (var n = 0, o = i.length; n < o; n++)
          if (i[n][0] <= t && t <= i[n][1])
            return "active";
      return "inactive";
    }, e;
  }(Rr)
);
ci(JK, $0);
const GB = JK;
var ad = !0, P1 = Math.min, g0 = Math.max, R4e = Math.pow, L4e = 1e4, O4e = 6, F4e = 6, zB = "globalPan", N4e = {
  w: [0, 0],
  e: [0, 1],
  n: [1, 0],
  s: [1, 1]
}, B4e = {
  w: "ew",
  e: "ew",
  n: "ns",
  s: "ns",
  ne: "nesw",
  sw: "nesw",
  nw: "nwse",
  se: "nwse"
}, WB = {
  brushStyle: {
    lineWidth: 2,
    stroke: Ve.color.backgroundTint,
    fill: Ve.color.borderTint
  },
  transformable: !0,
  brushMode: "single",
  removeOnClick: !1
}, V4e = 0, U4e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t) {
      var i = r.call(this) || this;
      return i._track = [], i._covers = [], i._handlers = {}, process.env.NODE_ENV !== "production" && kt(t), i._zr = t, i.group = new Wt(), i._uid = "brushController_" + V4e++, J(j4e, function(a, n) {
        this._handlers[n] = mt(a, this);
      }, i), i;
    }
    return e.prototype.enableBrush = function(t) {
      return process.env.NODE_ENV !== "production" && kt(this._mounted), this._brushType && this._doDisableBrush(), t.brushType && this._doEnableBrush(t), this;
    }, e.prototype._doEnableBrush = function(t) {
      var i = this._zr;
      this._enableGlobalPan || Ube(i, zB, this._uid), J(this._handlers, function(a, n) {
        i.on(n, a);
      }), this._brushType = t.brushType, this._brushOption = gr(Gt(WB), t, !0);
    }, e.prototype._doDisableBrush = function() {
      var t = this._zr;
      Gbe(t, zB, this._uid), J(this._handlers, function(i, a) {
        t.off(a, i);
      }), this._brushType = this._brushOption = null;
    }, e.prototype.setPanels = function(t) {
      if (t && t.length) {
        var i = this._panels = {};
        J(t, function(a) {
          i[a.panelId] = Gt(a);
        });
      } else
        this._panels = null;
      return this;
    }, e.prototype.mount = function(t) {
      t = t || {}, process.env.NODE_ENV !== "production" && (this._mounted = !0), this._enableGlobalPan = t.enableGlobalPan;
      var i = this.group;
      return this._zr.add(i), i.attr({
        x: t.x || 0,
        y: t.y || 0,
        rotation: t.rotation || 0,
        scaleX: t.scaleX || 1,
        scaleY: t.scaleY || 1
      }), this._transform = i.getLocalTransform(), this;
    }, e.prototype.updateCovers = function(t) {
      process.env.NODE_ENV !== "production" && kt(this._mounted), t = Je(t, function(d) {
        return gr(Gt(WB), d, !0);
      });
      var i = "\0-brush-index-", a = this._covers, n = this._covers = [], o = this, s = this._creatingCover;
      return new Gu(a, t, u, l).add(c).update(c).remove(f).execute(), this;
      function l(d, p) {
        return (d.id != null ? d.id : i + p) + "-" + d.brushType;
      }
      function u(d, p) {
        return l(d.__brushOption, p);
      }
      function c(d, p) {
        var v = t[d];
        if (p != null && a[p] === s)
          n[d] = a[p];
        else {
          var y = n[d] = p != null ? (a[p].__brushOption = v, a[p]) : eZ(o, QK(o, v));
          vk(o, y);
        }
      }
      function f(d) {
        a[d] !== s && o.group.remove(a[d]);
      }
    }, e.prototype.unmount = function() {
      if (!(process.env.NODE_ENV !== "production" && !this._mounted))
        return this.enableBrush(!1), Z6(this), this._zr.remove(this.group), process.env.NODE_ENV !== "production" && (this._mounted = !1), this;
    }, e.prototype.dispose = function() {
      this.unmount(), this.off();
    }, e;
  }(fs)
);
function QK(r, e) {
  var t = WS[e.brushType].createCover(r, e);
  return t.__brushOption = e, rZ(t, e), r.group.add(t), t;
}
function eZ(r, e) {
  var t = gk(e);
  return t.endCreating && (t.endCreating(r, e), rZ(e, e.__brushOption)), e;
}
function tZ(r, e) {
  var t = e.__brushOption;
  gk(e).updateCoverShape(r, e, t.range, t);
}
function rZ(r, e) {
  var t = e.z;
  t == null && (t = L4e), r.traverse(function(i) {
    i.z = t, i.z2 = t;
  });
}
function vk(r, e) {
  gk(e).updateCommon(r, e), tZ(r, e);
}
function gk(r) {
  return WS[r.__brushOption.brushType];
}
function mk(r, e, t) {
  var i = r._panels;
  if (!i)
    return ad;
  var a, n = r._transform;
  return J(i, function(o) {
    o.isTargetByCursor(e, t, n) && (a = o);
  }), a;
}
function nZ(r, e) {
  var t = r._panels;
  if (!t)
    return ad;
  var i = e.__brushOption.panelId;
  return i != null ? t[i] : ad;
}
function Z6(r) {
  var e = r._covers, t = e.length;
  return J(e, function(i) {
    r.group.remove(i);
  }, r), e.length = 0, !!t;
}
function od(r, e) {
  var t = Je(r._covers, function(i) {
    var a = i.__brushOption, n = Gt(a.range);
    return {
      brushType: a.brushType,
      panelId: a.panelId,
      range: n
    };
  });
  r.trigger("brush", {
    areas: t,
    isEnd: !!e.isEnd,
    removeOnClick: !!e.removeOnClick
  });
}
function G4e(r) {
  var e = r._track;
  if (!e.length)
    return !1;
  var t = e[e.length - 1], i = e[0], a = t[0] - i[0], n = t[1] - i[1], o = R4e(a * a + n * n, 0.5);
  return o > O4e;
}
function iZ(r) {
  var e = r.length - 1;
  return e < 0 && (e = 0), [r[0], r[e]];
}
function aZ(r, e, t, i) {
  var a = new Wt();
  return a.add(new Cr({
    name: "main",
    style: yk(t),
    silent: !0,
    draggable: !0,
    cursor: "move",
    drift: fr(HB, r, e, a, ["n", "s", "w", "e"]),
    ondragend: fr(od, e, {
      isEnd: !0
    })
  })), J(i, function(n) {
    a.add(new Cr({
      name: n.join(""),
      style: {
        opacity: 0
      },
      draggable: !0,
      silent: !0,
      invisible: !0,
      drift: fr(HB, r, e, a, n),
      ondragend: fr(od, e, {
        isEnd: !0
      })
    }));
  }), a;
}
function oZ(r, e, t, i) {
  var a = i.brushStyle.lineWidth || 0, n = g0(a, F4e), o = t[0][0], s = t[1][0], l = o - a / 2, u = s - a / 2, c = t[0][1], f = t[1][1], d = c - n + a / 2, p = f - n + a / 2, v = c - o, y = f - s, _ = v + a, w = y + a;
  tu(r, e, "main", o, s, v, y), i.transformable && (tu(r, e, "w", l, u, n, w), tu(r, e, "e", d, u, n, w), tu(r, e, "n", l, u, _, n), tu(r, e, "s", l, p, _, n), tu(r, e, "nw", l, u, n, n), tu(r, e, "ne", d, u, n, n), tu(r, e, "sw", l, p, n, n), tu(r, e, "se", d, p, n, n));
}
function J6(r, e) {
  var t = e.__brushOption, i = t.transformable, a = e.childAt(0);
  a.useStyle(yk(t)), a.attr({
    silent: !i,
    cursor: i ? "move" : "default"
  }), J([["w"], ["e"], ["n"], ["s"], ["s", "e"], ["s", "w"], ["n", "e"], ["n", "w"]], function(n) {
    var o = e.childOfName(n.join("")), s = n.length === 1 ? Q6(r, n[0]) : W4e(r, n);
    o && o.attr({
      silent: !i,
      invisible: !i,
      cursor: i ? B4e[s] + "-resize" : null
    });
  });
}
function tu(r, e, t, i, a, n, o) {
  var s = e.childOfName(t);
  s && s.setShape($4e(_k(r, e, [[i, a], [i + n, a + o]])));
}
function yk(r) {
  return Yt({
    strokeNoScale: !0
  }, r.brushStyle);
}
function sZ(r, e, t, i) {
  var a = [P1(r, t), P1(e, i)], n = [g0(r, t), g0(e, i)];
  return [
    [a[0], n[0]],
    [a[1], n[1]]
    // y range
  ];
}
function z4e(r) {
  return Wc(r.group);
}
function Q6(r, e) {
  var t = {
    w: "left",
    e: "right",
    n: "top",
    s: "bottom"
  }, i = {
    left: "w",
    right: "e",
    top: "n",
    bottom: "s"
  }, a = TS(t[e], z4e(r));
  return i[a];
}
function W4e(r, e) {
  var t = [Q6(r, e[0]), Q6(r, e[1])];
  return (t[0] === "e" || t[0] === "w") && t.reverse(), t.join("");
}
function HB(r, e, t, i, a, n) {
  var o = t.__brushOption, s = r.toRectRange(o.range), l = lZ(e, a, n);
  J(i, function(u) {
    var c = N4e[u];
    s[c[0]][c[1]] += l[c[0]];
  }), o.range = r.fromRectRange(sZ(s[0][0], s[1][0], s[0][1], s[1][1])), vk(e, t), od(e, {
    isEnd: !1
  });
}
function H4e(r, e, t, i) {
  var a = e.__brushOption.range, n = lZ(r, t, i);
  J(a, function(o) {
    o[0] += n[0], o[1] += n[1];
  }), vk(r, e), od(r, {
    isEnd: !1
  });
}
function lZ(r, e, t) {
  var i = r.group, a = i.transformCoordToLocal(e, t), n = i.transformCoordToLocal(0, 0);
  return [a[0] - n[0], a[1] - n[1]];
}
function _k(r, e, t) {
  var i = nZ(r, e);
  return i && i !== ad ? i.clipPath(t, r._transform) : Gt(t);
}
function $4e(r) {
  var e = P1(r[0][0], r[1][0]), t = P1(r[0][1], r[1][1]), i = g0(r[0][0], r[1][0]), a = g0(r[0][1], r[1][1]);
  return {
    x: e,
    y: t,
    width: i - e,
    height: a - t
  };
}
function Y4e(r, e, t) {
  if (
    // Check active
    !(!r._brushType || q4e(r, e.offsetX, e.offsetY))
  ) {
    var i = r._zr, a = r._covers, n = mk(r, e, t);
    if (!r._dragging)
      for (var o = 0; o < a.length; o++) {
        var s = a[o].__brushOption;
        if (n && (n === ad || s.panelId === n.panelId) && WS[s.brushType].contain(a[o], t[0], t[1]))
          return;
      }
    n && i.setCursorStyle("crosshair");
  }
}
function eE(r) {
  var e = r.event;
  e.preventDefault && e.preventDefault();
}
function tE(r, e, t) {
  return r.childOfName("main").contain(e, t);
}
function uZ(r, e, t, i) {
  var a = r._creatingCover, n = r._creatingPanel, o = r._brushOption, s;
  if (r._track.push(t.slice()), G4e(r) || a) {
    if (n && !a) {
      o.brushMode === "single" && Z6(r);
      var l = Gt(o);
      l.brushType = $B(l.brushType, n), l.panelId = n === ad ? null : n.panelId, a = r._creatingCover = QK(r, l), r._covers.push(a);
    }
    if (a) {
      var u = WS[$B(r._brushType, n)], c = a.__brushOption;
      c.range = u.getCreatingRange(_k(r, a, r._track)), i && (eZ(r, a), u.updateCommon(r, a)), tZ(r, a), s = {
        isEnd: i
      };
    }
  } else
    i && o.brushMode === "single" && o.removeOnClick && mk(r, e, t) && Z6(r) && (s = {
      isEnd: i,
      removeOnClick: !0
    });
  return s;
}
function $B(r, e) {
  return r === "auto" ? (process.env.NODE_ENV !== "production" && kt(e && e.defaultBrushType, 'MUST have defaultBrushType when brushType is "atuo"'), e.defaultBrushType) : r;
}
var j4e = {
  mousedown: function(r) {
    if (this._dragging)
      YB(this, r);
    else if (!r.target || !r.target.draggable) {
      eE(r);
      var e = this.group.transformCoordToLocal(r.offsetX, r.offsetY);
      this._creatingCover = null;
      var t = this._creatingPanel = mk(this, r, e);
      t && (this._dragging = !0, this._track = [e.slice()]);
    }
  },
  mousemove: function(r) {
    var e = r.offsetX, t = r.offsetY, i = this.group.transformCoordToLocal(e, t);
    if (Y4e(this, r, i), this._dragging) {
      eE(r);
      var a = uZ(this, r, i, !1);
      a && od(this, a);
    }
  },
  mouseup: function(r) {
    YB(this, r);
  }
};
function YB(r, e) {
  if (r._dragging) {
    eE(e);
    var t = e.offsetX, i = e.offsetY, a = r.group.transformCoordToLocal(t, i), n = uZ(r, e, a, !0);
    r._dragging = !1, r._track = [], r._creatingCover = null, n && od(r, n);
  }
}
function q4e(r, e, t) {
  var i = r._zr;
  return e < 0 || e > i.getWidth() || t < 0 || t > i.getHeight();
}
var WS = {
  lineX: jB(0),
  lineY: jB(1),
  rect: {
    createCover: function(r, e) {
      function t(i) {
        return i;
      }
      return aZ({
        toRectRange: t,
        fromRectRange: t
      }, r, e, [["w"], ["e"], ["n"], ["s"], ["s", "e"], ["s", "w"], ["n", "e"], ["n", "w"]]);
    },
    getCreatingRange: function(r) {
      var e = iZ(r);
      return sZ(e[1][0], e[1][1], e[0][0], e[0][1]);
    },
    updateCoverShape: function(r, e, t, i) {
      oZ(r, e, t, i);
    },
    updateCommon: J6,
    contain: tE
  },
  polygon: {
    createCover: function(r, e) {
      var t = new Wt();
      return t.add(new wa({
        name: "main",
        style: yk(e),
        silent: !0
      })), t;
    },
    getCreatingRange: function(r) {
      return r;
    },
    endCreating: function(r, e) {
      e.remove(e.childAt(0)), e.add(new Ha({
        name: "main",
        draggable: !0,
        drift: fr(H4e, r, e),
        ondragend: fr(od, r, {
          isEnd: !0
        })
      }));
    },
    updateCoverShape: function(r, e, t, i) {
      e.childAt(0).setShape({
        points: _k(r, e, t)
      });
    },
    updateCommon: J6,
    contain: tE
  }
};
function jB(r) {
  return {
    createCover: function(e, t) {
      return aZ({
        toRectRange: function(i) {
          var a = [i, [0, 100]];
          return r && a.reverse(), a;
        },
        fromRectRange: function(i) {
          return i[r];
        }
      }, e, t, [[["w"], ["e"]], [["n"], ["s"]]][r]);
    },
    getCreatingRange: function(e) {
      var t = iZ(e), i = P1(t[0][r], t[1][r]), a = g0(t[0][r], t[1][r]);
      return [i, a];
    },
    updateCoverShape: function(e, t, i, a) {
      var n, o = nZ(e, t);
      if (o !== ad && o.getLinearBrushOtherExtent)
        n = o.getLinearBrushOtherExtent(r);
      else {
        var s = e._zr;
        n = [0, [s.getWidth(), s.getHeight()][1 - r]];
      }
      var l = [i, n];
      r && l.reverse(), oZ(e, t, l, a);
    },
    updateCommon: J6,
    contain: tE
  };
}
const bk = U4e;
function cZ(r) {
  return r = wk(r), function(e) {
    return K8(e, r);
  };
}
function hZ(r, e) {
  return r = wk(r), function(t) {
    var i = e ?? t, a = i ? r.width : r.height, n = i ? r.x : r.y;
    return [n, n + (a || 0)];
  };
}
function fZ(r, e, t) {
  var i = wk(r);
  return function(a, n) {
    return i.contain(n[0], n[1]) && !vK(a, e, t);
  };
}
function wk(r) {
  return Jt.create(r);
}
var X4e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.init = function(t, i) {
      r.prototype.init.apply(this, arguments), (this._brushController = new bk(i.getZr())).on("brush", mt(this._onBrush, this));
    }, e.prototype.render = function(t, i, a, n) {
      if (!K4e(t, i, n)) {
        this.axisModel = t, this.api = a, this.group.removeAll();
        var o = this._axisGroup;
        if (this._axisGroup = new Wt(), this.group.add(this._axisGroup), !!t.get("show")) {
          var s = J4e(t, i), l = s.coordinateSystem, u = t.getAreaSelectStyle(), c = u.width, f = t.axis.dim, d = l.getAxisLayout(f), p = $e({
            strokeContainThreshold: c
          }, d), v = new Wu(t, a, p);
          v.build(), this._axisGroup.add(v.group), this._refreshBrushController(p, u, t, s, c, a), am(o, this._axisGroup, t);
        }
      }
    }, e.prototype._refreshBrushController = function(t, i, a, n, o, s) {
      var l = a.axis.getExtent(), u = l[1] - l[0], c = Math.min(30, Math.abs(u) * 0.1), f = Jt.create({
        x: l[0],
        y: -o / 2,
        width: u,
        height: o
      });
      f.x -= c, f.width += 2 * c, this._brushController.mount({
        enableGlobalPan: !0,
        rotation: t.rotation,
        x: t.position[0],
        y: t.position[1]
      }).setPanels([{
        panelId: "pl",
        clipPath: cZ(f),
        isTargetByCursor: fZ(f, s, n),
        getLinearBrushOtherExtent: hZ(f, 0)
      }]).enableBrush({
        brushType: "lineX",
        brushStyle: i,
        removeOnClick: !0
      }).updateCovers(Z4e(a));
    }, e.prototype._onBrush = function(t) {
      var i = t.areas, a = this.axisModel, n = a.axis, o = Je(i, function(s) {
        return [n.coordToData(s.range[0], !0), n.coordToData(s.range[1], !0)];
      });
      (!a.option.realtime === t.isEnd || t.removeOnClick) && this.api.dispatchAction({
        type: "axisAreaSelect",
        parallelAxisId: a.id,
        intervals: o
      });
    }, e.prototype.dispose = function() {
      this._brushController.dispose();
    }, e.type = "parallelAxis", e;
  }(Pn)
);
function K4e(r, e, t) {
  return t && t.type === "axisAreaSelect" && e.findComponents({
    mainType: "parallelAxis",
    query: t
  })[0] === r;
}
function Z4e(r) {
  var e = r.axis;
  return Je(r.activeIntervals, function(t) {
    return {
      brushType: "lineX",
      panelId: "pl",
      range: [e.dataToCoord(t[0], !0), e.dataToCoord(t[1], !0)]
    };
  });
}
function J4e(r, e) {
  return e.getComponent("parallel", r.get("parallelIndex"));
}
const Q4e = X4e;
var e3e = {
  type: "axisAreaSelect",
  event: "axisAreaSelected"
  // update: 'updateVisual'
};
function t3e(r) {
  r.registerAction(e3e, function(e, t) {
    t.eachComponent({
      mainType: "parallelAxis",
      query: e
    }, function(i) {
      i.axis.model.setActiveIntervals(e.intervals);
    });
  }), r.registerAction("parallelAxisExpand", function(e, t) {
    t.eachComponent({
      mainType: "parallel",
      query: e
    }, function(i) {
      i.setAxisExpand(e);
    });
  });
}
var r3e = {
  type: "value",
  areaSelectStyle: {
    width: 20,
    borderWidth: 1,
    borderColor: "rgba(160,197,232)",
    color: "rgba(160,197,232)",
    opacity: 0.3
  },
  realtime: !0,
  z: 10
};
function dZ(r) {
  r.registerComponentView(_4e), r.registerComponentModel(w4e), r.registerCoordinateSystem("parallel", P4e), r.registerPreprocessor(d4e), r.registerComponentModel(GB), r.registerComponentView(Q4e), p0(r, "parallel", GB, r3e), t3e(r);
}
function n3e(r) {
  _r(dZ), r.registerChartView(a4e), r.registerSeriesModel(u4e), r.registerVisual(r.PRIORITY.VISUAL.BRUSH, f4e);
}
var i3e = (
  /** @class */
  function() {
    function r() {
      this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.cpx1 = 0, this.cpy1 = 0, this.cpx2 = 0, this.cpy2 = 0, this.extent = 0;
    }
    return r;
  }()
), a3e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t) {
      return r.call(this, t) || this;
    }
    return e.prototype.getDefaultShape = function() {
      return new i3e();
    }, e.prototype.buildPath = function(t, i) {
      var a = i.extent;
      t.moveTo(i.x1, i.y1), t.bezierCurveTo(i.cpx1, i.cpy1, i.cpx2, i.cpy2, i.x2, i.y2), i.orient === "vertical" ? (t.lineTo(i.x2 + a, i.y2), t.bezierCurveTo(i.cpx2 + a, i.cpy2, i.cpx1 + a, i.cpy1, i.x1 + a, i.y1)) : (t.lineTo(i.x2, i.y2 + a), t.bezierCurveTo(i.cpx2, i.cpy2 + a, i.cpx1, i.cpy1 + a, i.x1, i.y1 + a)), t.closePath();
    }, e.prototype.highlight = function() {
      Vu(this);
    }, e.prototype.downplay = function() {
      Uu(this);
    }, e;
  }(Er)
), o3e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t._mainGroup = new Wt(), t._focusAdjacencyDisabled = !1, t;
    }
    return e.prototype.init = function(t, i) {
      this._controller = new kd(i.getZr()), this._controllerHost = {
        target: this.group
      }, this.group.add(this._mainGroup);
    }, e.prototype.render = function(t, i, a) {
      var n = this, o = t.getGraph(), s = this._mainGroup, l = t.layoutInfo, u = l.width, c = l.height, f = t.getData(), d = t.getData("edge"), p = t.get("orient");
      this._model = t, s.removeAll(), s.x = l.x, s.y = l.y, this._updateViewCoordSys(t, a), gK(t, a, s, this._controller, this._controllerHost, null), o.eachEdge(function(v) {
        var y = new a3e(), _ = er(y);
        _.dataIndex = v.dataIndex, _.seriesIndex = t.seriesIndex, _.dataType = "edge";
        var w = v.getModel(), S = w.getModel("lineStyle"), x = S.get("curveness"), E = v.node1.getLayout(), M = v.node1.getModel(), k = M.get("localX"), P = M.get("localY"), L = v.node2.getLayout(), F = v.node2.getModel(), O = F.get("localX"), U = F.get("localY"), V = v.getLayout(), G, Z, Q, se, de, le, Se, he;
        y.shape.extent = Math.max(1, V.dy), y.shape.orient = p, p === "vertical" ? (G = (k != null ? k * u : E.x) + V.sy, Z = (P != null ? P * c : E.y) + E.dy, Q = (O != null ? O * u : L.x) + V.ty, se = U != null ? U * c : L.y, de = G, le = Z * (1 - x) + se * x, Se = Q, he = Z * x + se * (1 - x)) : (G = (k != null ? k * u : E.x) + E.dx, Z = (P != null ? P * c : E.y) + V.sy, Q = O != null ? O * u : L.x, se = (U != null ? U * c : L.y) + V.ty, de = G * (1 - x) + Q * x, le = Z, Se = G * x + Q * (1 - x), he = se), y.setShape({
          x1: G,
          y1: Z,
          x2: Q,
          y2: se,
          cpx1: de,
          cpy1: le,
          cpx2: Se,
          cpy2: he
        }), y.useStyle(S.getItemStyle()), qB(y.style, p, v);
        var fe = "" + w.get("value"), K = zi(w, "edgeLabel");
        ea(y, K, {
          labelFetcher: {
            getFormattedLabel: function(De, Ie, q, re, be, te) {
              return t.getFormattedLabel(
                De,
                Ie,
                "edge",
                re,
                // ensure edgeLabel formatter is provided
                // to prevent the inheritance from `label.formatter` of the series
                Ba(be, K.normal && K.normal.get("formatter"), fe),
                te
              );
            }
          },
          labelDataIndex: v.dataIndex,
          defaultText: fe
        }), y.setTextConfig({
          position: "inside"
        });
        var we = w.getModel("emphasis");
        Gi(y, w, "lineStyle", function(De) {
          var Ie = De.getItemStyle();
          return qB(Ie, p, v), Ie;
        }), s.add(y), d.setItemGraphicEl(v.dataIndex, y);
        var ve = we.get("focus");
        Wn(y, ve === "adjacency" ? v.getAdjacentDataIndices() : ve === "trajectory" ? v.getTrajectoryDataIndices() : ve, we.get("blurScope"), we.get("disabled"));
      }), o.eachNode(function(v) {
        var y = v.getLayout(), _ = v.getModel(), w = _.get("localX"), S = _.get("localY"), x = _.getModel("emphasis"), E = _.get(["itemStyle", "borderRadius"]) || 0, M = new Cr({
          shape: {
            x: w != null ? w * u : y.x,
            y: S != null ? S * c : y.y,
            width: y.dx,
            height: y.dy,
            r: E
          },
          style: _.getModel("itemStyle").getItemStyle(),
          z2: 10
        });
        ea(M, zi(_), {
          labelFetcher: {
            getFormattedLabel: function(P, L) {
              return t.getFormattedLabel(P, L, "node");
            }
          },
          labelDataIndex: v.dataIndex,
          defaultText: v.id
        }), M.disableLabelAnimation = !0, M.setStyle("fill", v.getVisual("color")), M.setStyle("decal", v.getVisual("style").decal), Gi(M, _), s.add(M), f.setItemGraphicEl(v.dataIndex, M), er(M).dataType = "node";
        var k = x.get("focus");
        Wn(M, k === "adjacency" ? v.getAdjacentDataIndices() : k === "trajectory" ? v.getTrajectoryDataIndices() : k, x.get("blurScope"), x.get("disabled"));
      }), f.eachItemGraphicEl(function(v, y) {
        var _ = f.getItemModel(y);
        _.get("draggable") && (v.drift = function(w, S) {
          n._focusAdjacencyDisabled = !0, this.shape.x += w, this.shape.y += S, this.dirty(), a.dispatchAction({
            type: "dragNode",
            seriesId: t.id,
            dataIndex: f.getRawIndex(y),
            localX: this.shape.x / u,
            localY: this.shape.y / c
          });
        }, v.ondragend = function() {
          n._focusAdjacencyDisabled = !1;
        }, v.draggable = !0, v.cursor = "move");
      }), !this._data && t.isAnimationEnabled() && s.setClipPath(s3e(s.getBoundingRect(), t, function() {
        s.removeClipPath();
      })), this._data = t.getData();
    }, e.prototype.dispose = function() {
      this._controller && this._controller.dispose(), this._controllerHost = null;
    }, e.prototype._updateViewCoordSys = function(t, i) {
      var a = t.layoutInfo, n = a.width, o = a.height, s = t.coordinateSystem = new Md(null, {
        api: i,
        ecModel: t.ecModel
      });
      s.zoomLimit = t.get("scaleLimit"), s.setBoundingRect(0, 0, n, o), s.setCenter(t.get("center")), s.setZoom(t.get("zoom")), this._controllerHost.target.attr({
        x: s.x,
        y: s.y,
        scaleX: s.scaleX,
        scaleY: s.scaleY
      });
    }, e.type = "sankey", e;
  }(gn)
);
function qB(r, e, t) {
  switch (r.fill) {
    case "source":
      r.fill = t.node1.getVisual("color"), r.decal = t.node1.getVisual("style").decal;
      break;
    case "target":
      r.fill = t.node2.getVisual("color"), r.decal = t.node2.getVisual("style").decal;
      break;
    case "gradient":
      var i = t.node1.getVisual("color"), a = t.node2.getVisual("color");
      vt(i) && vt(a) && (r.fill = new bd(0, 0, +(e === "horizontal"), +(e === "vertical"), [{
        color: i,
        offset: 0
      }, {
        color: a,
        offset: 1
      }]));
  }
}
function s3e(r, e, t) {
  var i = new Cr({
    shape: {
      x: r.x - 10,
      y: r.y - 10,
      width: 0,
      height: r.height + 20
    }
  });
  return In(i, {
    shape: {
      width: r.width + 20
    }
  }, e, t), i;
}
const l3e = o3e;
var u3e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.getInitialData = function(t, i) {
      var a = t.edges || t.links || [], n = t.data || t.nodes || [], o = t.levels || [];
      this.levelModels = [];
      for (var s = this.levelModels, l = 0; l < o.length; l++)
        if (o[l].depth != null && o[l].depth >= 0)
          s[o[l].depth] = new Vr(o[l], this, i);
        else if (process.env.NODE_ENV !== "production")
          throw new Error("levels[i].depth is mandatory and should be natural number");
      var u = pk(n, a, this, !0, c);
      return u.data;
      function c(f, d) {
        f.wrapMethod("getItemModel", function(p, v) {
          var y = p.parentModel, _ = y.getData().getItemLayout(v);
          if (_) {
            var w = _.depth, S = y.levelModels[w];
            S && (p.parentModel = S);
          }
          return p;
        }), d.wrapMethod("getItemModel", function(p, v) {
          var y = p.parentModel, _ = y.getGraph().getEdgeByIndex(v), w = _.node1.getLayout();
          if (w) {
            var S = w.depth, x = y.levelModels[S];
            x && (p.parentModel = x);
          }
          return p;
        });
      }
    }, e.prototype.setNodePosition = function(t, i) {
      var a = this.option.data || this.option.nodes, n = a[t];
      n.localX = i[0], n.localY = i[1];
    }, e.prototype.setCenter = function(t) {
      this.option.center = t;
    }, e.prototype.setZoom = function(t) {
      this.option.zoom = t;
    }, e.prototype.getGraph = function() {
      return this.getData().graph;
    }, e.prototype.getEdgeData = function() {
      return this.getGraph().edgeData;
    }, e.prototype.formatTooltip = function(t, i, a) {
      function n(p) {
        return isNaN(p) || p == null;
      }
      if (a === "edge") {
        var o = this.getDataParams(t, a), s = o.data, l = o.value, u = s.source + " -- " + s.target;
        return Pi("nameValue", {
          name: u,
          value: l,
          noValue: n(l)
        });
      } else {
        var c = this.getGraph().getNodeByIndex(t), f = c.getLayout().value, d = this.getDataParams(t, a).data.name;
        return Pi("nameValue", {
          name: d != null ? d + "" : null,
          value: f,
          noValue: n(f)
        });
      }
    }, e.prototype.optionUpdated = function() {
    }, e.prototype.getDataParams = function(t, i) {
      var a = r.prototype.getDataParams.call(this, t, i);
      if (a.value == null && i === "node") {
        var n = this.getGraph().getNodeByIndex(t), o = n.getLayout().value;
        a.value = o;
      }
      return a;
    }, e.type = "series.sankey", e.layoutMode = "box", e.defaultOption = {
      // zlevel: 0,
      z: 2,
      // `coordinateSystem` can be declared as 'matrix', 'calendar',
      //  which provides box layout container.
      coordinateSystemUsage: "box",
      left: "5%",
      top: "5%",
      right: "20%",
      bottom: "5%",
      orient: "horizontal",
      nodeWidth: 20,
      nodeGap: 8,
      draggable: !0,
      layoutIterations: 32,
      // true | false | 'move' | 'scale', see module:component/helper/RoamController.
      roam: !1,
      roamTrigger: "global",
      center: null,
      zoom: 1,
      label: {
        show: !0,
        position: "right",
        fontSize: 12
      },
      edgeLabel: {
        show: !1,
        fontSize: 12
      },
      levels: [],
      nodeAlign: "justify",
      lineStyle: {
        color: Ve.color.neutral50,
        opacity: 0.2,
        curveness: 0.5
      },
      emphasis: {
        label: {
          show: !0
        },
        lineStyle: {
          opacity: 0.5
        }
      },
      select: {
        itemStyle: {
          borderColor: Ve.color.primary
        }
      },
      animationEasing: "linear",
      animationDuration: 1e3
    }, e;
  }(En)
);
const c3e = u3e;
function h3e(r, e) {
  r.eachSeriesByType("sankey", function(t) {
    var i = t.get("nodeWidth"), a = t.get("nodeGap"), n = Wi(t, e).refContainer, o = Bn(t.getBoxLayoutParams(), n);
    t.layoutInfo = o;
    var s = o.width, l = o.height, u = t.getGraph(), c = u.nodes, f = u.edges;
    d3e(c);
    var d = Xr(c, function(_) {
      return _.getLayout().value === 0;
    }), p = d.length !== 0 ? 0 : t.get("layoutIterations"), v = t.get("orient"), y = t.get("nodeAlign");
    f3e(c, f, i, a, s, l, p, v, y);
  });
}
function f3e(r, e, t, i, a, n, o, s, l) {
  p3e(r, e, t, a, n, s, l), y3e(r, e, n, a, i, o, s), E3e(r, s);
}
function d3e(r) {
  J(r, function(e) {
    var t = $c(e.outEdges, Mb), i = $c(e.inEdges, Mb), a = e.getValue() || 0, n = Math.max(t, i, a);
    e.setLayout({
      value: n
    }, !0);
  });
}
function p3e(r, e, t, i, a, n, o) {
  for (var s = [], l = [], u = [], c = [], f = 0, d = 0; d < e.length; d++)
    s[d] = 1;
  for (var d = 0; d < r.length; d++)
    l[d] = r[d].inEdges.length, l[d] === 0 && u.push(r[d]);
  for (var p = -1; u.length; ) {
    for (var v = 0; v < u.length; v++) {
      var y = u[v], _ = y.hostGraph.data.getRawDataItem(y.dataIndex), w = _.depth != null && _.depth >= 0;
      w && _.depth > p && (p = _.depth), y.setLayout({
        depth: w ? _.depth : f
      }, !0), n === "vertical" ? y.setLayout({
        dy: t
      }, !0) : y.setLayout({
        dx: t
      }, !0);
      for (var S = 0; S < y.outEdges.length; S++) {
        var x = y.outEdges[S], E = e.indexOf(x);
        s[E] = 0;
        var M = x.node2, k = r.indexOf(M);
        --l[k] === 0 && c.indexOf(M) < 0 && c.push(M);
      }
    }
    ++f, u = c, c = [];
  }
  for (var d = 0; d < s.length; d++)
    if (s[d] === 1)
      throw new Error("Sankey is a DAG, the original data has cycle!");
  var P = p > f - 1 ? p : f - 1;
  o && o !== "left" && v3e(r, o, n, P);
  var L = n === "vertical" ? (a - t) / P : (i - t) / P;
  m3e(r, L, n);
}
function pZ(r) {
  var e = r.hostGraph.data.getRawDataItem(r.dataIndex);
  return e.depth != null && e.depth >= 0;
}
function v3e(r, e, t, i) {
  if (e === "right") {
    for (var a = [], n = r, o = 0; n.length; ) {
      for (var s = 0; s < n.length; s++) {
        var l = n[s];
        l.setLayout({
          skNodeHeight: o
        }, !0);
        for (var u = 0; u < l.inEdges.length; u++) {
          var c = l.inEdges[u];
          a.indexOf(c.node1) < 0 && a.push(c.node1);
        }
      }
      n = a, a = [], ++o;
    }
    J(r, function(f) {
      pZ(f) || f.setLayout({
        depth: Math.max(0, i - f.getLayout().skNodeHeight)
      }, !0);
    });
  } else
    e === "justify" && g3e(r, i);
}
function g3e(r, e) {
  J(r, function(t) {
    !pZ(t) && !t.outEdges.length && t.setLayout({
      depth: e
    }, !0);
  });
}
function m3e(r, e, t) {
  J(r, function(i) {
    var a = i.getLayout().depth * e;
    t === "vertical" ? i.setLayout({
      y: a
    }, !0) : i.setLayout({
      x: a
    }, !0);
  });
}
function y3e(r, e, t, i, a, n, o) {
  var s = _3e(r, o);
  b3e(s, e, t, i, a, o), W5(s, a, t, i, o);
  for (var l = 1; n > 0; n--)
    l *= 0.99, w3e(s, l, o), W5(s, a, t, i, o), A3e(s, l, o), W5(s, a, t, i, o);
}
function _3e(r, e) {
  var t = [], i = e === "vertical" ? "y" : "x", a = GA(r, function(n) {
    return n.getLayout()[i];
  });
  return a.keys.sort(function(n, o) {
    return n - o;
  }), J(a.keys, function(n) {
    t.push(a.buckets.get(n));
  }), t;
}
function b3e(r, e, t, i, a, n) {
  var o = 1 / 0;
  J(r, function(s) {
    var l = s.length, u = 0;
    J(s, function(f) {
      u += f.getLayout().value;
    });
    var c = n === "vertical" ? (i - (l - 1) * a) / u : (t - (l - 1) * a) / u;
    c < o && (o = c);
  }), J(r, function(s) {
    J(s, function(l, u) {
      var c = l.getLayout().value * o;
      n === "vertical" ? (l.setLayout({
        x: u
      }, !0), l.setLayout({
        dx: c
      }, !0)) : (l.setLayout({
        y: u
      }, !0), l.setLayout({
        dy: c
      }, !0));
    });
  }), J(e, function(s) {
    var l = +s.getValue() * o;
    s.setLayout({
      dy: l
    }, !0);
  });
}
function W5(r, e, t, i, a) {
  var n = a === "vertical" ? "x" : "y";
  J(r, function(o) {
    o.sort(function(y, _) {
      return y.getLayout()[n] - _.getLayout()[n];
    });
    for (var s, l, u, c = 0, f = o.length, d = a === "vertical" ? "dx" : "dy", p = 0; p < f; p++)
      l = o[p], u = c - l.getLayout()[n], u > 0 && (s = l.getLayout()[n] + u, a === "vertical" ? l.setLayout({
        x: s
      }, !0) : l.setLayout({
        y: s
      }, !0)), c = l.getLayout()[n] + l.getLayout()[d] + e;
    var v = a === "vertical" ? i : t;
    if (u = c - e - v, u > 0) {
      s = l.getLayout()[n] - u, a === "vertical" ? l.setLayout({
        x: s
      }, !0) : l.setLayout({
        y: s
      }, !0), c = s;
      for (var p = f - 2; p >= 0; --p)
        l = o[p], u = l.getLayout()[n] + l.getLayout()[d] + e - c, u > 0 && (s = l.getLayout()[n] - u, a === "vertical" ? l.setLayout({
          x: s
        }, !0) : l.setLayout({
          y: s
        }, !0)), c = l.getLayout()[n];
    }
  });
}
function w3e(r, e, t) {
  J(r.slice().reverse(), function(i) {
    J(i, function(a) {
      if (a.outEdges.length) {
        var n = $c(a.outEdges, S3e, t) / $c(a.outEdges, Mb);
        if (isNaN(n)) {
          var o = a.outEdges.length;
          n = o ? $c(a.outEdges, x3e, t) / o : 0;
        }
        if (t === "vertical") {
          var s = a.getLayout().x + (n - th(a, t)) * e;
          a.setLayout({
            x: s
          }, !0);
        } else {
          var l = a.getLayout().y + (n - th(a, t)) * e;
          a.setLayout({
            y: l
          }, !0);
        }
      }
    });
  });
}
function S3e(r, e) {
  return th(r.node2, e) * r.getValue();
}
function x3e(r, e) {
  return th(r.node2, e);
}
function T3e(r, e) {
  return th(r.node1, e) * r.getValue();
}
function C3e(r, e) {
  return th(r.node1, e);
}
function th(r, e) {
  return e === "vertical" ? r.getLayout().x + r.getLayout().dx / 2 : r.getLayout().y + r.getLayout().dy / 2;
}
function Mb(r) {
  return r.getValue();
}
function $c(r, e, t) {
  for (var i = 0, a = r.length, n = -1; ++n < a; ) {
    var o = +e(r[n], t);
    isNaN(o) || (i += o);
  }
  return i;
}
function A3e(r, e, t) {
  J(r, function(i) {
    J(i, function(a) {
      if (a.inEdges.length) {
        var n = $c(a.inEdges, T3e, t) / $c(a.inEdges, Mb);
        if (isNaN(n)) {
          var o = a.inEdges.length;
          n = o ? $c(a.inEdges, C3e, t) / o : 0;
        }
        if (t === "vertical") {
          var s = a.getLayout().x + (n - th(a, t)) * e;
          a.setLayout({
            x: s
          }, !0);
        } else {
          var l = a.getLayout().y + (n - th(a, t)) * e;
          a.setLayout({
            y: l
          }, !0);
        }
      }
    });
  });
}
function E3e(r, e) {
  var t = e === "vertical" ? "x" : "y";
  J(r, function(i) {
    i.outEdges.sort(function(a, n) {
      return a.node2.getLayout()[t] - n.node2.getLayout()[t];
    }), i.inEdges.sort(function(a, n) {
      return a.node1.getLayout()[t] - n.node1.getLayout()[t];
    });
  }), J(r, function(i) {
    var a = 0, n = 0;
    J(i.outEdges, function(o) {
      o.setLayout({
        sy: a
      }, !0), a += o.getLayout().dy;
    }), J(i.inEdges, function(o) {
      o.setLayout({
        ty: n
      }, !0), n += o.getLayout().dy;
    });
  });
}
function D3e(r) {
  r.eachSeriesByType("sankey", function(e) {
    var t = e.getGraph(), i = t.nodes, a = t.edges;
    if (i.length) {
      var n = 1 / 0, o = -1 / 0;
      J(i, function(s) {
        var l = s.getLayout().value;
        l < n && (n = l), l > o && (o = l);
      }), J(i, function(s) {
        var l = new _a({
          type: "color",
          mappingMethod: "linear",
          dataExtent: [n, o],
          visual: e.get("color")
        }), u = l.mapValueToVisual(s.getLayout().value), c = s.getModel().get(["itemStyle", "color"]);
        c != null ? (s.setVisual("color", c), s.setVisual("style", {
          fill: c
        })) : (s.setVisual("color", u), s.setVisual("style", {
          fill: u
        }));
      });
    }
    a.length && J(a, function(s) {
      var l = s.getModel().get("lineStyle");
      s.setVisual("style", l);
    });
  });
}
function k3e(r) {
  r.registerChartView(l3e), r.registerSeriesModel(c3e), r.registerLayout(h3e), r.registerVisual(D3e), r.registerAction({
    type: "dragNode",
    event: "dragnode",
    // here can only use 'update' now, other value is not support in echarts.
    update: "update"
  }, function(e, t) {
    t.eachComponent({
      mainType: "series",
      subType: "sankey",
      query: e
    }, function(i) {
      i.setNodePosition(e.dataIndex, [e.localX, e.localY]);
    });
  }), r.registerAction({
    type: "sankeyRoam",
    event: "sankeyRoam",
    update: "none"
  }, function(e, t, i) {
    t.eachComponent({
      mainType: "series",
      subType: "sankey",
      query: e
    }, function(a) {
      var n = a.coordinateSystem, o = VS(n, e, a.get("scaleLimit"));
      a.setCenter(o.center), a.setZoom(o.zoom);
    });
  });
}
var vZ = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype._hasEncodeRule = function(e) {
      var t = this.getEncode();
      return t && t.get(e) != null;
    }, r.prototype.getInitialData = function(e, t) {
      var i, a = t.getComponent("xAxis", this.get("xAxisIndex")), n = t.getComponent("yAxis", this.get("yAxisIndex")), o = a.get("type"), s = n.get("type"), l;
      o === "category" ? (e.layout = "horizontal", i = a.getOrdinalMeta(), l = !this._hasEncodeRule("x")) : s === "category" ? (e.layout = "vertical", i = n.getOrdinalMeta(), l = !this._hasEncodeRule("y")) : e.layout = e.layout || "horizontal";
      var u = ["x", "y"], c = e.layout === "horizontal" ? 0 : 1, f = this._baseAxisDim = u[c], d = u[1 - c], p = [a, n], v = p[c].get("type"), y = p[1 - c].get("type"), _ = e.data;
      if (_ && l) {
        var w = [];
        J(_, function(E, M) {
          var k;
          Ke(E) ? (k = E.slice(), E.unshift(M)) : Ke(E.value) ? (k = $e({}, E), k.value = k.value.slice(), E.value.unshift(M)) : k = E, w.push(k);
        }), e.data = w;
      }
      var S = this.defaultValueDimensions, x = [{
        name: f,
        type: fb(v),
        ordinalMeta: i,
        otherDims: {
          tooltip: !1,
          itemName: 0
        },
        dimsDef: ["base"]
      }, {
        name: d,
        type: fb(y),
        dimsDef: S.slice()
      }];
      return j0(this, {
        coordDimensions: x,
        dimensionsCount: S.length + 1,
        encodeDefaulter: fr(mj, x, this)
      });
    }, r.prototype.getBaseAxis = function() {
      var e = this._baseAxisDim;
      return this.ecModel.getComponent(e + "Axis", this.get(e + "AxisIndex")).axis;
    }, r;
  }()
), gZ = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.defaultValueDimensions = [{
        name: "min",
        defaultTooltip: !0
      }, {
        name: "Q1",
        defaultTooltip: !0
      }, {
        name: "median",
        defaultTooltip: !0
      }, {
        name: "Q3",
        defaultTooltip: !0
      }, {
        name: "max",
        defaultTooltip: !0
      }], t.visualDrawType = "stroke", t;
    }
    return e.type = "series.boxplot", e.dependencies = ["xAxis", "yAxis", "grid"], e.defaultOption = {
      // zlevel: 0,
      z: 2,
      coordinateSystem: "cartesian2d",
      legendHoverLink: !0,
      layout: null,
      boxWidth: [7, 50],
      itemStyle: {
        color: Ve.color.neutral00,
        borderWidth: 1
      },
      emphasis: {
        scale: !0,
        itemStyle: {
          borderWidth: 2,
          shadowBlur: 5,
          shadowOffsetX: 1,
          shadowOffsetY: 1,
          shadowColor: Ve.color.shadow
        }
      },
      animationDuration: 800
    }, e;
  }(En)
);
ci(gZ, vZ, !0);
const M3e = gZ;
var I3e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i, a) {
      var n = t.getData(), o = this.group, s = this._data;
      this._data || o.removeAll();
      var l = t.get("layout") === "horizontal" ? 1 : 0;
      n.diff(s).add(function(u) {
        if (n.hasValue(u)) {
          var c = n.getItemLayout(u), f = XB(c, n, u, l, !0);
          n.setItemGraphicEl(u, f), o.add(f);
        }
      }).update(function(u, c) {
        var f = s.getItemGraphicEl(c);
        if (!n.hasValue(u)) {
          o.remove(f);
          return;
        }
        var d = n.getItemLayout(u);
        f ? (hs(f), mZ(d, f, n, u)) : f = XB(d, n, u, l), o.add(f), n.setItemGraphicEl(u, f);
      }).remove(function(u) {
        var c = s.getItemGraphicEl(u);
        c && o.remove(c);
      }).execute(), this._data = n;
    }, e.prototype.remove = function(t) {
      var i = this.group, a = this._data;
      this._data = null, a && a.eachItemGraphicEl(function(n) {
        n && i.remove(n);
      });
    }, e.type = "boxplot", e;
  }(gn)
), P3e = (
  /** @class */
  function() {
    function r() {
    }
    return r;
  }()
), R3e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t) {
      var i = r.call(this, t) || this;
      return i.type = "boxplotBoxPath", i;
    }
    return e.prototype.getDefaultShape = function() {
      return new P3e();
    }, e.prototype.buildPath = function(t, i) {
      var a = i.points, n = 0;
      for (t.moveTo(a[n][0], a[n][1]), n++; n < 4; n++)
        t.lineTo(a[n][0], a[n][1]);
      for (t.closePath(); n < a.length; n++)
        t.moveTo(a[n][0], a[n][1]), n++, t.lineTo(a[n][0], a[n][1]);
    }, e;
  }(Er)
);
function XB(r, e, t, i, a) {
  var n = r.ends, o = new R3e({
    shape: {
      points: a ? L3e(n, i, r) : n
    }
  });
  return mZ(r, o, e, t, a), o;
}
function mZ(r, e, t, i, a) {
  var n = t.hostModel, o = wd[a ? "initProps" : "updateProps"];
  o(e, {
    shape: {
      points: r.ends
    }
  }, n, i), e.useStyle(t.getItemVisual(i, "style")), e.style.strokeNoScale = !0, e.z2 = 100;
  var s = t.getItemModel(i), l = s.getModel("emphasis");
  Gi(e, s), Wn(e, l.get("focus"), l.get("blurScope"), l.get("disabled"));
}
function L3e(r, e, t) {
  return Je(r, function(i) {
    return i = i.slice(), i[e] = t.initBaseline, i;
  });
}
const O3e = I3e;
var Jg = J;
function F3e(r) {
  var e = N3e(r);
  Jg(e, function(t) {
    var i = t.seriesModels;
    i.length && (B3e(t), Jg(i, function(a, n) {
      V3e(a, t.boxOffsetList[n], t.boxWidthList[n]);
    }));
  });
}
function N3e(r) {
  var e = [], t = [];
  return r.eachSeriesByType("boxplot", function(i) {
    var a = i.getBaseAxis(), n = dr(t, a);
    n < 0 && (n = t.length, t[n] = a, e[n] = {
      axis: a,
      seriesModels: []
    }), e[n].seriesModels.push(i);
  }), e;
}
function B3e(r) {
  var e = r.axis, t = r.seriesModels, i = t.length, a = r.boxWidthList = [], n = r.boxOffsetList = [], o = [], s;
  if (e.type === "category")
    s = e.getBandWidth();
  else {
    var l = 0;
    Jg(t, function(v) {
      l = Math.max(l, v.getData().count());
    });
    var u = e.getExtent();
    s = Math.abs(u[1] - u[0]) / l;
  }
  Jg(t, function(v) {
    var y = v.get("boxWidth");
    Ke(y) || (y = [y, y]), o.push([gt(y[0], s) || 0, gt(y[1], s) || 0]);
  });
  var c = s * 0.8 - 2, f = c / i * 0.3, d = (c - f * (i - 1)) / i, p = d / 2 - c / 2;
  Jg(t, function(v, y) {
    n.push(p), p += f + d, a.push(Math.min(Math.max(d, o[y][0]), o[y][1]));
  });
}
function V3e(r, e, t) {
  var i = r.coordinateSystem, a = r.getData(), n = t / 2, o = r.get("layout") === "horizontal" ? 0 : 1, s = 1 - o, l = ["x", "y"], u = a.mapDimension(l[o]), c = a.mapDimensionsAll(l[s]);
  if (u == null || c.length < 5)
    return;
  for (var f = 0; f < a.count(); f++) {
    var d = a.get(u, f), p = x(d, c[2], f), v = x(d, c[0], f), y = x(d, c[1], f), _ = x(d, c[3], f), w = x(d, c[4], f), S = [];
    E(S, y, !1), E(S, _, !0), S.push(v, y, w, _), M(S, v), M(S, w), M(S, p), a.setItemLayout(f, {
      initBaseline: p[s],
      ends: S
    });
  }
  function x(k, P, L) {
    var F = a.get(P, L), O = [];
    O[o] = k, O[s] = F;
    var U;
    return isNaN(k) || isNaN(F) ? U = [NaN, NaN] : (U = i.dataToPoint(O), U[o] += e), U;
  }
  function E(k, P, L) {
    var F = P.slice(), O = P.slice();
    F[o] += n, O[o] -= n, L ? k.push(F, O) : k.push(O, F);
  }
  function M(k, P) {
    var L = P.slice(), F = P.slice();
    L[o] -= n, F[o] += n, k.push(L, F);
  }
}
function U3e(r, e) {
  e = e || {};
  for (var t = [], i = [], a = e.boundIQR, n = a === "none" || a === 0, o = 0; o < r.length; o++) {
    var s = Eo(r[o].slice()), l = e_(s, 0.25), u = e_(s, 0.5), c = e_(s, 0.75), f = s[0], d = s[s.length - 1], p = (a ?? 1.5) * (c - l), v = n ? f : Math.max(f, l - p), y = n ? d : Math.min(d, c + p), _ = e.itemNameFormatter, w = Bt(_) ? _({
      value: o
    }) : vt(_) ? _.replace("{value}", o + "") : o + "";
    t.push([w, v, l, u, c, y]);
    for (var S = 0; S < s.length; S++) {
      var x = s[S];
      if (x < v || x > y) {
        var E = [w, x];
        i.push(E);
      }
    }
  }
  return {
    boxData: t,
    outliers: i
  };
}
var G3e = {
  type: "echarts:boxplot",
  transform: function(e) {
    var t = e.upstream;
    if (t.sourceFormat !== ca) {
      var i = "";
      process.env.NODE_ENV !== "production" && (i = to("source data is not applicable for this boxplot transform. Expect number[][].")), en(i);
    }
    var a = U3e(t.getRawData(), e.config);
    return [{
      dimensions: ["ItemName", "Low", "Q1", "Q2", "Q3", "High"],
      data: a.boxData
    }, {
      data: a.outliers
    }];
  }
};
function z3e(r) {
  r.registerSeriesModel(M3e), r.registerChartView(O3e), r.registerLayout(F3e), r.registerTransform(G3e);
}
var W3e = ["itemStyle", "borderColor"], H3e = ["itemStyle", "borderColor0"], $3e = ["itemStyle", "borderColorDoji"], Y3e = ["itemStyle", "color"], j3e = ["itemStyle", "color0"];
function Sk(r, e) {
  return e.get(r > 0 ? Y3e : j3e);
}
function xk(r, e) {
  return e.get(r === 0 ? $3e : r > 0 ? W3e : H3e);
}
var q3e = {
  seriesType: "candlestick",
  plan: U0(),
  // For legend.
  performRawSeries: !0,
  reset: function(r, e) {
    if (!e.isSeriesFiltered(r)) {
      var t = r.pipelineContext.large;
      return !t && {
        progress: function(i, a) {
          for (var n; (n = i.next()) != null; ) {
            var o = a.getItemModel(n), s = a.getItemLayout(n).sign, l = o.getItemStyle();
            l.fill = Sk(s, o), l.stroke = xk(s, o) || l.fill;
            var u = a.ensureUniqueItemVisual(n, "style");
            $e(u, l);
          }
        }
      };
    }
  }
};
const X3e = q3e;
var K3e = ["color", "borderColor"], Z3e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i, a) {
      this.group.removeClipPath(), this._progressiveEls = null, this._updateDrawMode(t), this._isLargeDraw ? this._renderLarge(t) : this._renderNormal(t);
    }, e.prototype.incrementalPrepareRender = function(t, i, a) {
      this._clear(), this._updateDrawMode(t);
    }, e.prototype.incrementalRender = function(t, i, a, n) {
      this._progressiveEls = [], this._isLargeDraw ? this._incrementalRenderLarge(t, i) : this._incrementalRenderNormal(t, i);
    }, e.prototype.eachRendered = function(t) {
      fh(this._progressiveEls || this.group, t);
    }, e.prototype._updateDrawMode = function(t) {
      var i = t.pipelineContext.large;
      (this._isLargeDraw == null || i !== this._isLargeDraw) && (this._isLargeDraw = i, this._clear());
    }, e.prototype._renderNormal = function(t) {
      var i = t.getData(), a = this._data, n = this.group, o = i.getLayout("isSimpleBox"), s = t.get("clip", !0), l = t.coordinateSystem, u = l.getArea && l.getArea();
      this._data || n.removeAll(), i.diff(a).add(function(c) {
        if (i.hasValue(c)) {
          var f = i.getItemLayout(c);
          if (s && KB(u, f))
            return;
          var d = H5(f, c, !0);
          In(d, {
            shape: {
              points: f.ends
            }
          }, t, c), $5(d, i, c, o), n.add(d), i.setItemGraphicEl(c, d);
        }
      }).update(function(c, f) {
        var d = a.getItemGraphicEl(f);
        if (!i.hasValue(c)) {
          n.remove(d);
          return;
        }
        var p = i.getItemLayout(c);
        if (s && KB(u, p)) {
          n.remove(d);
          return;
        }
        d ? (Wr(d, {
          shape: {
            points: p.ends
          }
        }, t, c), hs(d)) : d = H5(p), $5(d, i, c, o), n.add(d), i.setItemGraphicEl(c, d);
      }).remove(function(c) {
        var f = a.getItemGraphicEl(c);
        f && n.remove(f);
      }).execute(), this._data = i;
    }, e.prototype._renderLarge = function(t) {
      this._clear(), ZB(t, this.group);
      var i = t.get("clip", !0) ? fm(t.coordinateSystem, !1, t) : null;
      i ? this.group.setClipPath(i) : this.group.removeClipPath();
    }, e.prototype._incrementalRenderNormal = function(t, i) {
      for (var a = i.getData(), n = a.getLayout("isSimpleBox"), o; (o = t.next()) != null; ) {
        var s = a.getItemLayout(o), l = H5(s);
        $5(l, a, o, n), l.incremental = !0, this.group.add(l), this._progressiveEls.push(l);
      }
    }, e.prototype._incrementalRenderLarge = function(t, i) {
      ZB(i, this.group, this._progressiveEls, !0);
    }, e.prototype.remove = function(t) {
      this._clear();
    }, e.prototype._clear = function() {
      this.group.removeAll(), this._data = null;
    }, e.type = "candlestick", e;
  }(gn)
), J3e = (
  /** @class */
  function() {
    function r() {
    }
    return r;
  }()
), Q3e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t) {
      var i = r.call(this, t) || this;
      return i.type = "normalCandlestickBox", i;
    }
    return e.prototype.getDefaultShape = function() {
      return new J3e();
    }, e.prototype.buildPath = function(t, i) {
      var a = i.points;
      this.__simpleBox ? (t.moveTo(a[4][0], a[4][1]), t.lineTo(a[6][0], a[6][1])) : (t.moveTo(a[0][0], a[0][1]), t.lineTo(a[1][0], a[1][1]), t.lineTo(a[2][0], a[2][1]), t.lineTo(a[3][0], a[3][1]), t.closePath(), t.moveTo(a[4][0], a[4][1]), t.lineTo(a[5][0], a[5][1]), t.moveTo(a[6][0], a[6][1]), t.lineTo(a[7][0], a[7][1]));
    }, e;
  }(Er)
);
function H5(r, e, t) {
  var i = r.ends;
  return new Q3e({
    shape: {
      points: t ? e5e(i, r) : i
    },
    z2: 100
  });
}
function KB(r, e) {
  for (var t = !0, i = 0; i < e.ends.length; i++)
    if (r.contain(e.ends[i][0], e.ends[i][1])) {
      t = !1;
      break;
    }
  return t;
}
function $5(r, e, t, i) {
  var a = e.getItemModel(t);
  r.useStyle(e.getItemVisual(t, "style")), r.style.strokeNoScale = !0, r.__simpleBox = i, Gi(r, a);
  var n = e.getItemLayout(t).sign;
  J(r.states, function(s, l) {
    var u = a.getModel(l), c = Sk(n, u), f = xk(n, u) || c, d = s.style || (s.style = {});
    c && (d.fill = c), f && (d.stroke = f);
  });
  var o = a.getModel("emphasis");
  Wn(r, o.get("focus"), o.get("blurScope"), o.get("disabled"));
}
function e5e(r, e) {
  return Je(r, function(t) {
    return t = t.slice(), t[1] = e.initBaseline, t;
  });
}
var t5e = (
  /** @class */
  function() {
    function r() {
    }
    return r;
  }()
), Y5 = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t) {
      var i = r.call(this, t) || this;
      return i.type = "largeCandlestickBox", i;
    }
    return e.prototype.getDefaultShape = function() {
      return new t5e();
    }, e.prototype.buildPath = function(t, i) {
      for (var a = i.points, n = 0; n < a.length; )
        if (this.__sign === a[n++]) {
          var o = a[n++];
          t.moveTo(o, a[n++]), t.lineTo(o, a[n++]);
        } else
          n += 3;
    }, e;
  }(Er)
);
function ZB(r, e, t, i) {
  var a = r.getData(), n = a.getLayout("largePoints"), o = new Y5({
    shape: {
      points: n
    },
    __sign: 1,
    ignoreCoarsePointer: !0
  });
  e.add(o);
  var s = new Y5({
    shape: {
      points: n
    },
    __sign: -1,
    ignoreCoarsePointer: !0
  });
  e.add(s);
  var l = new Y5({
    shape: {
      points: n
    },
    __sign: 0,
    ignoreCoarsePointer: !0
  });
  e.add(l), j5(1, o, r), j5(-1, s, r), j5(0, l, r), i && (o.incremental = !0, s.incremental = !0), t && t.push(o, s);
}
function j5(r, e, t, i) {
  var a = xk(r, t) || Sk(r, t), n = t.getModel("itemStyle").getItemStyle(K3e);
  e.useStyle(n), e.style.fill = null, e.style.stroke = a;
}
const r5e = Z3e;
var yZ = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.defaultValueDimensions = [{
        name: "open",
        defaultTooltip: !0
      }, {
        name: "close",
        defaultTooltip: !0
      }, {
        name: "lowest",
        defaultTooltip: !0
      }, {
        name: "highest",
        defaultTooltip: !0
      }], t;
    }
    return e.prototype.getShadowDim = function() {
      return "open";
    }, e.prototype.brushSelector = function(t, i, a) {
      var n = i.getItemLayout(t);
      return n && a.rect(n.brushRect);
    }, e.type = "series.candlestick", e.dependencies = ["xAxis", "yAxis", "grid"], e.defaultOption = {
      // zlevel: 0,
      z: 2,
      coordinateSystem: "cartesian2d",
      legendHoverLink: !0,
      // xAxisIndex: 0,
      // yAxisIndex: 0,
      layout: null,
      clip: !0,
      itemStyle: {
        color: "#eb5454",
        color0: "#47b262",
        borderColor: "#eb5454",
        borderColor0: "#47b262",
        borderColorDoji: null,
        // borderColor: '#d24040',
        // borderColor0: '#398f4f',
        borderWidth: 1
      },
      emphasis: {
        itemStyle: {
          borderWidth: 2
        }
      },
      barMaxWidth: null,
      barMinWidth: null,
      barWidth: null,
      large: !0,
      largeThreshold: 600,
      progressive: 3e3,
      progressiveThreshold: 1e4,
      progressiveChunkMode: "mod",
      animationEasing: "linear",
      animationDuration: 300
    }, e;
  }(En)
);
ci(yZ, vZ, !0);
const n5e = yZ;
function i5e(r) {
  !r || !Ke(r.series) || J(r.series, function(e) {
    zt(e) && e.type === "k" && (e.type = "candlestick");
  });
}
var a5e = {
  seriesType: "candlestick",
  plan: U0(),
  reset: function(r) {
    var e = r.coordinateSystem, t = r.getData(), i = o5e(r, t), a = 0, n = 1, o = ["x", "y"], s = t.getDimensionIndex(t.mapDimension(o[a])), l = Je(t.mapDimensionsAll(o[n]), t.getDimensionIndex, t), u = l[0], c = l[1], f = l[2], d = l[3];
    if (t.setLayout({
      candleWidth: i,
      // The value is experimented visually.
      isSimpleBox: i <= 1.3
    }), s < 0 || l.length < 4)
      return;
    return {
      progress: r.pipelineContext.large ? v : p
    };
    function p(y, _) {
      for (var w, S = _.getStore(); (w = y.next()) != null; ) {
        var x = S.get(s, w), E = S.get(u, w), M = S.get(c, w), k = S.get(f, w), P = S.get(d, w), L = Math.min(E, M), F = Math.max(E, M), O = de(L, x), U = de(F, x), V = de(k, x), G = de(P, x), Z = [];
        le(Z, U, 0), le(Z, O, 1), Z.push(he(G), he(U), he(V), he(O));
        var Q = _.getItemModel(w), se = !!Q.get(["itemStyle", "borderColorDoji"]);
        _.setItemLayout(w, {
          sign: JB(S, w, E, M, c, se),
          initBaseline: E > M ? U[n] : O[n],
          ends: Z,
          brushRect: Se(k, P, x)
        });
      }
      function de(fe, K) {
        var we = [];
        return we[a] = K, we[n] = fe, isNaN(K) || isNaN(fe) ? [NaN, NaN] : e.dataToPoint(we);
      }
      function le(fe, K, we) {
        var ve = K.slice(), De = K.slice();
        ve[a] = r_(ve[a] + i / 2, 1, !1), De[a] = r_(De[a] - i / 2, 1, !0), we ? fe.push(ve, De) : fe.push(De, ve);
      }
      function Se(fe, K, we) {
        var ve = de(fe, we), De = de(K, we);
        return ve[a] -= i / 2, De[a] -= i / 2, {
          x: ve[0],
          y: ve[1],
          width: i,
          height: De[1] - ve[1]
        };
      }
      function he(fe) {
        return fe[a] = r_(fe[a], 1), fe;
      }
    }
    function v(y, _) {
      for (var w = xl(y.count * 4), S = 0, x, E = [], M = [], k, P = _.getStore(), L = !!r.get(["itemStyle", "borderColorDoji"]); (k = y.next()) != null; ) {
        var F = P.get(s, k), O = P.get(u, k), U = P.get(c, k), V = P.get(f, k), G = P.get(d, k);
        if (isNaN(F) || isNaN(V) || isNaN(G)) {
          w[S++] = NaN, S += 3;
          continue;
        }
        w[S++] = JB(P, k, O, U, c, L), E[a] = F, E[n] = V, x = e.dataToPoint(E, null, M), w[S++] = x ? x[0] : NaN, w[S++] = x ? x[1] : NaN, E[n] = G, x = e.dataToPoint(E, null, M), w[S++] = x ? x[1] : NaN;
      }
      _.setLayout("largePoints", w);
    }
  }
};
function JB(r, e, t, i, a, n) {
  var o;
  return t > i ? o = -1 : t < i ? o = 1 : o = n ? 0 : e > 0 ? r.get(a, e - 1) <= i ? 1 : -1 : 1, o;
}
function o5e(r, e) {
  var t = r.getBaseAxis(), i, a = t.type === "category" ? t.getBandWidth() : (i = t.getExtent(), Math.abs(i[1] - i[0]) / e.count()), n = gt(It(r.get("barMaxWidth"), a), a), o = gt(It(r.get("barMinWidth"), 1), a), s = r.get("barWidth");
  return s != null ? gt(s, a) : Math.max(Math.min(a / 2, n), o);
}
const s5e = a5e;
function l5e(r) {
  r.registerChartView(r5e), r.registerSeriesModel(n5e), r.registerPreprocessor(i5e), r.registerVisual(X3e), r.registerLayout(s5e);
}
function QB(r, e) {
  var t = e.rippleEffectColor || e.color;
  r.eachChild(function(i) {
    i.attr({
      z: e.z,
      zlevel: e.zlevel,
      style: {
        stroke: e.brushType === "stroke" ? t : null,
        fill: e.brushType === "fill" ? t : null
      }
    });
  });
}
var u5e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i) {
      var a = r.call(this) || this, n = new cm(t, i), o = new Wt();
      return a.add(n), a.add(o), a.updateData(t, i), a;
    }
    return e.prototype.stopEffectAnimation = function() {
      this.childAt(1).removeAll();
    }, e.prototype.startEffectAnimation = function(t) {
      for (var i = t.symbolType, a = t.color, n = t.rippleNumber, o = this.childAt(1), s = 0; s < n; s++) {
        var l = Si(i, -1, -1, 2, 2, a);
        l.attr({
          style: {
            strokeNoScale: !0
          },
          z2: 99,
          silent: !0,
          scaleX: 0.5,
          scaleY: 0.5
        });
        var u = -s / n * t.period + t.effectOffset;
        l.animate("", !0).when(t.period, {
          scaleX: t.rippleScale / 2,
          scaleY: t.rippleScale / 2
        }).delay(u).start(), l.animateStyle(!0).when(t.period, {
          opacity: 0
        }).delay(u).start(), o.add(l);
      }
      QB(o, t);
    }, e.prototype.updateEffectAnimation = function(t) {
      for (var i = this._effectCfg, a = this.childAt(1), n = ["symbolType", "period", "rippleScale", "rippleNumber"], o = 0; o < n.length; o++) {
        var s = n[o];
        if (i[s] !== t[s]) {
          this.stopEffectAnimation(), this.startEffectAnimation(t);
          return;
        }
      }
      QB(a, t);
    }, e.prototype.highlight = function() {
      Vu(this);
    }, e.prototype.downplay = function() {
      Uu(this);
    }, e.prototype.getSymbolType = function() {
      var t = this.childAt(0);
      return t && t.getSymbolType();
    }, e.prototype.updateData = function(t, i) {
      var a = this, n = t.hostModel;
      this.childAt(0).updateData(t, i);
      var o = this.childAt(1), s = t.getItemModel(i), l = t.getItemVisual(i, "symbol"), u = z0(t.getItemVisual(i, "symbolSize")), c = t.getItemVisual(i, "style"), f = c && c.fill, d = s.getModel("emphasis");
      o.setScale(u), o.traverse(function(_) {
        _.setStyle("fill", f);
      });
      var p = Ad(t.getItemVisual(i, "symbolOffset"), u);
      p && (o.x = p[0], o.y = p[1]);
      var v = t.getItemVisual(i, "symbolRotate");
      o.rotation = (v || 0) * Math.PI / 180 || 0;
      var y = {};
      y.showEffectOn = n.get("showEffectOn"), y.rippleScale = s.get(["rippleEffect", "scale"]), y.brushType = s.get(["rippleEffect", "brushType"]), y.period = s.get(["rippleEffect", "period"]) * 1e3, y.effectOffset = i / t.count(), y.z = n.getShallow("z") || 0, y.zlevel = n.getShallow("zlevel") || 0, y.symbolType = l, y.color = f, y.rippleEffectColor = s.get(["rippleEffect", "color"]), y.rippleNumber = s.get(["rippleEffect", "number"]), y.showEffectOn === "render" ? (this._effectCfg ? this.updateEffectAnimation(y) : this.startEffectAnimation(y), this._effectCfg = y) : (this._effectCfg = null, this.stopEffectAnimation(), this.onHoverStateChange = function(_) {
        _ === "emphasis" ? y.showEffectOn !== "render" && a.startEffectAnimation(y) : _ === "normal" && y.showEffectOn !== "render" && a.stopEffectAnimation();
      }), this._effectCfg = y, Wn(this, d.get("focus"), d.get("blurScope"), d.get("disabled"));
    }, e.prototype.fadeOut = function(t) {
      t && t();
    }, e;
  }(Wt)
);
const c5e = u5e;
var h5e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.init = function() {
      this._symbolDraw = new hm(c5e);
    }, e.prototype.render = function(t, i, a) {
      var n = t.getData(), o = this._symbolDraw;
      o.updateData(n, {
        clipShape: this._getClipShape(t)
      }), this.group.add(o.group);
    }, e.prototype._getClipShape = function(t) {
      var i = t.coordinateSystem, a = i && i.getArea && i.getArea();
      return t.get("clip", !0) ? a : null;
    }, e.prototype.updateTransform = function(t, i, a) {
      var n = t.getData();
      this.group.dirty();
      var o = dm("").reset(t, i, a);
      o.progress && o.progress({
        start: 0,
        end: n.count(),
        count: n.count()
      }, n), this._symbolDraw.updateLayout();
    }, e.prototype._updateGroupTransform = function(t) {
      var i = t.coordinateSystem;
      i && i.getRoamTransform && (this.group.transform = i$(i.getRoamTransform()), this.group.decomposeTransform());
    }, e.prototype.remove = function(t, i) {
      this._symbolDraw && this._symbolDraw.remove(!0);
    }, e.type = "effectScatter", e;
  }(gn)
);
const f5e = h5e;
var d5e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.hasSymbolVisual = !0, t;
    }
    return e.prototype.getInitialData = function(t, i) {
      return Bl(null, this, {
        useEncodeDefaulter: !0
      });
    }, e.prototype.brushSelector = function(t, i, a) {
      return a.point(i.getItemLayout(t));
    }, e.type = "series.effectScatter", e.dependencies = ["grid", "polar"], e.defaultOption = {
      coordinateSystem: "cartesian2d",
      // zlevel: 0,
      z: 2,
      legendHoverLink: !0,
      effectType: "ripple",
      progressive: 0,
      // When to show the effect, option: 'render'|'emphasis'
      showEffectOn: "render",
      clip: !0,
      // Ripple effect config
      rippleEffect: {
        period: 4,
        // Scale of ripple
        scale: 2.5,
        // Brush type can be fill or stroke
        brushType: "fill",
        // Ripple number
        number: 3
      },
      universalTransition: {
        divideShape: "clone"
      },
      // Cartesian coordinate system
      // xAxisIndex: 0,
      // yAxisIndex: 0,
      // Polar coordinate system
      // polarIndex: 0,
      // Geo coordinate system
      // geoIndex: 0,
      // symbol: null,        // 
      symbolSize: 10
      // symbolSize * 2
      // symbolRotate: null,  // 
      // itemStyle: {
      //     opacity: 1
      // }
    }, e;
  }(En)
);
const p5e = d5e;
function v5e(r) {
  r.registerChartView(f5e), r.registerSeriesModel(p5e), r.registerLayout(dm("effectScatter"));
}
var g5e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i, a) {
      var n = r.call(this) || this;
      return n.add(n.createLine(t, i, a)), n._updateEffectSymbol(t, i), n;
    }
    return e.prototype.createLine = function(t, i, a) {
      return new fk(t, i, a);
    }, e.prototype._updateEffectSymbol = function(t, i) {
      var a = t.getItemModel(i), n = a.getModel("effect"), o = n.get("symbolSize"), s = n.get("symbol");
      Ke(o) || (o = [o, o]);
      var l = t.getItemVisual(i, "style"), u = n.get("color") || l && l.stroke, c = this.childAt(1);
      this._symbolType !== s && (this.remove(c), c = Si(s, -0.5, -0.5, 1, 1, u), c.z2 = 100, c.culling = !0, this.add(c)), c && (c.setStyle("shadowColor", u), c.setStyle(n.getItemStyle(["color"])), c.scaleX = o[0], c.scaleY = o[1], c.setColor(u), this._symbolType = s, this._symbolScale = o, this._updateEffectAnimation(t, n, i));
    }, e.prototype._updateEffectAnimation = function(t, i, a) {
      var n = this.childAt(1);
      if (n) {
        var o = t.getItemLayout(a), s = i.get("period") * 1e3, l = i.get("loop"), u = i.get("roundTrip"), c = i.get("constantSpeed"), f = Di(i.get("delay"), function(p) {
          return p / t.count() * s / 3;
        });
        if (n.ignore = !0, this._updateAnimationPoints(n, o), c > 0 && (s = this._getLineLength(n) / c * 1e3), s !== this._period || l !== this._loop || u !== this._roundTrip) {
          n.stopAnimation();
          var d = void 0;
          Bt(f) ? d = f(a) : d = f, n.__t > 0 && (d = -s * n.__t), this._animateSymbol(n, s, d, l, u);
        }
        this._period = s, this._loop = l, this._roundTrip = u;
      }
    }, e.prototype._animateSymbol = function(t, i, a, n, o) {
      if (i > 0) {
        t.__t = 0;
        var s = this, l = t.animate("", n).when(o ? i * 2 : i, {
          __t: o ? 2 : 1
        }).delay(a).during(function() {
          s._updateSymbolPosition(t);
        });
        n || l.done(function() {
          s.remove(t);
        }), l.start();
      }
    }, e.prototype._getLineLength = function(t) {
      return gu(t.__p1, t.__cp1) + gu(t.__cp1, t.__p2);
    }, e.prototype._updateAnimationPoints = function(t, i) {
      t.__p1 = i[0], t.__p2 = i[1], t.__cp1 = i[2] || [(i[0][0] + i[1][0]) / 2, (i[0][1] + i[1][1]) / 2];
    }, e.prototype.updateData = function(t, i, a) {
      this.childAt(0).updateData(t, i, a), this._updateEffectSymbol(t, i);
    }, e.prototype._updateSymbolPosition = function(t) {
      var i = t.__p1, a = t.__p2, n = t.__cp1, o = t.__t < 1 ? t.__t : 2 - t.__t, s = [t.x, t.y], l = s.slice(), u = ua, c = CA;
      s[0] = u(i[0], n[0], a[0], o), s[1] = u(i[1], n[1], a[1], o);
      var f = t.__t < 1 ? c(i[0], n[0], a[0], o) : c(a[0], n[0], i[0], 1 - o), d = t.__t < 1 ? c(i[1], n[1], a[1], o) : c(a[1], n[1], i[1], 1 - o);
      t.rotation = -Math.atan2(d, f) - Math.PI / 2, (this._symbolType === "line" || this._symbolType === "rect" || this._symbolType === "roundRect") && (t.__lastT !== void 0 && t.__lastT < t.__t ? (t.scaleY = gu(l, s) * 1.05, o === 1 && (s[0] = l[0] + (s[0] - l[0]) / 2, s[1] = l[1] + (s[1] - l[1]) / 2)) : t.__lastT === 1 ? t.scaleY = 2 * gu(i, s) : t.scaleY = this._symbolScale[1]), t.__lastT = t.__t, t.ignore = !1, t.x = s[0], t.y = s[1];
    }, e.prototype.updateLayout = function(t, i) {
      this.childAt(0).updateLayout(t, i);
      var a = t.getItemModel(i).getModel("effect");
      this._updateEffectAnimation(t, a, i);
    }, e;
  }(Wt)
);
const _Z = g5e;
var m5e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i, a) {
      var n = r.call(this) || this;
      return n._createPolyline(t, i, a), n;
    }
    return e.prototype._createPolyline = function(t, i, a) {
      var n = t.getItemLayout(i), o = new wa({
        shape: {
          points: n
        }
      });
      this.add(o), this._updateCommonStl(t, i, a);
    }, e.prototype.updateData = function(t, i, a) {
      var n = t.hostModel, o = this.childAt(0), s = {
        shape: {
          points: t.getItemLayout(i)
        }
      };
      Wr(o, s, n, i), this._updateCommonStl(t, i, a);
    }, e.prototype._updateCommonStl = function(t, i, a) {
      var n = this.childAt(0), o = t.getItemModel(i), s = a && a.emphasisLineStyle, l = a && a.focus, u = a && a.blurScope, c = a && a.emphasisDisabled;
      if (!a || t.hasItemOption) {
        var f = o.getModel("emphasis");
        s = f.getModel("lineStyle").getLineStyle(), c = f.get("disabled"), l = f.get("focus"), u = f.get("blurScope");
      }
      n.useStyle(t.getItemVisual(i, "style")), n.style.fill = null, n.style.strokeNoScale = !0;
      var d = n.ensureState("emphasis");
      d.style = s, Wn(this, l, u, c);
    }, e.prototype.updateLayout = function(t, i) {
      var a = this.childAt(0);
      a.setShape("points", t.getItemLayout(i));
    }, e;
  }(Wt)
);
const bZ = m5e;
var y5e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t._lastFrame = 0, t._lastFramePercent = 0, t;
    }
    return e.prototype.createLine = function(t, i, a) {
      return new bZ(t, i, a);
    }, e.prototype._updateAnimationPoints = function(t, i) {
      this._points = i;
      for (var a = [0], n = 0, o = 1; o < i.length; o++) {
        var s = i[o - 1], l = i[o];
        n += gu(s, l), a.push(n);
      }
      if (n === 0) {
        this._length = 0;
        return;
      }
      for (var o = 0; o < a.length; o++)
        a[o] /= n;
      this._offsets = a, this._length = n;
    }, e.prototype._getLineLength = function() {
      return this._length;
    }, e.prototype._updateSymbolPosition = function(t) {
      var i = t.__t < 1 ? t.__t : 2 - t.__t, a = this._points, n = this._offsets, o = a.length;
      if (n) {
        var s = this._lastFrame, l;
        if (i < this._lastFramePercent) {
          var u = Math.min(s + 1, o - 1);
          for (l = u; l >= 0 && !(n[l] <= i); l--)
            ;
          l = Math.min(l, o - 2);
        } else {
          for (l = s; l < o && !(n[l] > i); l++)
            ;
          l = Math.min(l - 1, o - 2);
        }
        var c = (i - n[l]) / (n[l + 1] - n[l]), f = a[l], d = a[l + 1];
        t.x = f[0] * (1 - c) + c * d[0], t.y = f[1] * (1 - c) + c * d[1];
        var p = t.__t < 1 ? d[0] - f[0] : f[0] - d[0], v = t.__t < 1 ? d[1] - f[1] : f[1] - d[1];
        t.rotation = -Math.atan2(v, p) - Math.PI / 2, this._lastFrame = l, this._lastFramePercent = i, t.ignore = !1;
      }
    }, e;
  }(_Z)
);
const _5e = y5e;
var b5e = (
  /** @class */
  function() {
    function r() {
      this.polyline = !1, this.curveness = 0, this.segs = [];
    }
    return r;
  }()
), w5e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t) {
      var i = r.call(this, t) || this;
      return i._off = 0, i.hoverDataIdx = -1, i;
    }
    return e.prototype.reset = function() {
      this.notClear = !1, this._off = 0;
    }, e.prototype.getDefaultStyle = function() {
      return {
        stroke: Ve.color.neutral99,
        fill: null
      };
    }, e.prototype.getDefaultShape = function() {
      return new b5e();
    }, e.prototype.buildPath = function(t, i) {
      var a = i.segs, n = i.curveness, o;
      if (i.polyline)
        for (o = this._off; o < a.length; ) {
          var s = a[o++];
          if (s > 0) {
            t.moveTo(a[o++], a[o++]);
            for (var l = 1; l < s; l++)
              t.lineTo(a[o++], a[o++]);
          }
        }
      else
        for (o = this._off; o < a.length; ) {
          var u = a[o++], c = a[o++], f = a[o++], d = a[o++];
          if (t.moveTo(u, c), n > 0) {
            var p = (u + f) / 2 - (c - d) * n, v = (c + d) / 2 - (f - u) * n;
            t.quadraticCurveTo(p, v, f, d);
          } else
            t.lineTo(f, d);
        }
      this.incremental && (this._off = o, this.notClear = !0);
    }, e.prototype.findDataIndex = function(t, i) {
      var a = this.shape, n = a.segs, o = a.curveness, s = this.style.lineWidth;
      if (a.polyline)
        for (var l = 0, u = 0; u < n.length; ) {
          var c = n[u++];
          if (c > 0)
            for (var f = n[u++], d = n[u++], p = 1; p < c; p++) {
              var v = n[u++], y = n[u++];
              if (Dc(f, d, v, y, s, t, i))
                return l;
            }
          l++;
        }
      else
        for (var l = 0, u = 0; u < n.length; ) {
          var f = n[u++], d = n[u++], v = n[u++], y = n[u++];
          if (o > 0) {
            var _ = (f + v) / 2 - (d - y) * o, w = (d + y) / 2 - (v - f) * o;
            if (tY(f, d, _, w, v, y, s, t, i))
              return l;
          } else if (Dc(f, d, v, y, s, t, i))
            return l;
          l++;
        }
      return -1;
    }, e.prototype.contain = function(t, i) {
      var a = this.transformCoordToLocal(t, i), n = this.getBoundingRect();
      if (t = a[0], i = a[1], n.contain(t, i)) {
        var o = this.hoverDataIdx = this.findDataIndex(t, i);
        return o >= 0;
      }
      return this.hoverDataIdx = -1, !1;
    }, e.prototype.getBoundingRect = function() {
      var t = this._rect;
      if (!t) {
        for (var i = this.shape, a = i.segs, n = 1 / 0, o = 1 / 0, s = -1 / 0, l = -1 / 0, u = 0; u < a.length; ) {
          var c = a[u++], f = a[u++];
          n = Math.min(c, n), s = Math.max(c, s), o = Math.min(f, o), l = Math.max(f, l);
        }
        t = this._rect = new Jt(n, o, s, l);
      }
      return t;
    }, e;
  }(Er)
), S5e = (
  /** @class */
  function() {
    function r() {
      this.group = new Wt();
    }
    return r.prototype.updateData = function(e) {
      this._clear();
      var t = this._create();
      t.setShape({
        segs: e.getLayout("linesPoints")
      }), this._setCommon(t, e);
    }, r.prototype.incrementalPrepareUpdate = function(e) {
      this.group.removeAll(), this._clear();
    }, r.prototype.incrementalUpdate = function(e, t) {
      var i = this._newAdded[0], a = t.getLayout("linesPoints"), n = i && i.shape.segs;
      if (n && n.length < 2e4) {
        var o = n.length, s = new Float32Array(o + a.length);
        s.set(n), s.set(a, o), i.setShape({
          segs: s
        });
      } else {
        this._newAdded = [];
        var l = this._create();
        l.incremental = !0, l.setShape({
          segs: a
        }), this._setCommon(l, t), l.__startIndex = e.start;
      }
    }, r.prototype.remove = function() {
      this._clear();
    }, r.prototype.eachRendered = function(e) {
      this._newAdded[0] && e(this._newAdded[0]);
    }, r.prototype._create = function() {
      var e = new w5e({
        cursor: "default",
        ignoreCoarsePointer: !0
      });
      return this._newAdded.push(e), this.group.add(e), e;
    }, r.prototype._setCommon = function(e, t, i) {
      var a = t.hostModel;
      e.setShape({
        polyline: a.get("polyline"),
        curveness: a.get(["lineStyle", "curveness"])
      }), e.useStyle(a.getModel("lineStyle").getLineStyle()), e.style.strokeNoScale = !0;
      var n = t.getVisual("style");
      n && n.stroke && e.setStyle("stroke", n.stroke), e.setStyle("fill", null);
      var o = er(e);
      o.seriesIndex = a.seriesIndex, e.on("mousemove", function(s) {
        o.dataIndex = null;
        var l = e.hoverDataIdx;
        l > 0 && (o.dataIndex = l + e.__startIndex);
      });
    }, r.prototype._clear = function() {
      this._newAdded = [], this.group.removeAll();
    }, r;
  }()
);
const x5e = S5e;
var T5e = {
  seriesType: "lines",
  plan: U0(),
  reset: function(r) {
    var e = r.coordinateSystem;
    if (!e) {
      process.env.NODE_ENV !== "production" && Nr("The lines series must have a coordinate system.");
      return;
    }
    var t = r.get("polyline"), i = r.pipelineContext.large;
    return {
      progress: function(a, n) {
        var o = [];
        if (i) {
          var s = void 0, l = a.end - a.start;
          if (t) {
            for (var u = 0, c = a.start; c < a.end; c++)
              u += r.getLineCoordsCount(c);
            s = new Float32Array(l + u * 2);
          } else
            s = new Float32Array(l * 4);
          for (var f = 0, d = [], c = a.start; c < a.end; c++) {
            var p = r.getLineCoords(c, o);
            t && (s[f++] = p);
            for (var v = 0; v < p; v++)
              d = e.dataToPoint(o[v], !1, d), s[f++] = d[0], s[f++] = d[1];
          }
          n.setLayout("linesPoints", s);
        } else
          for (var c = a.start; c < a.end; c++) {
            var y = n.getItemModel(c), p = r.getLineCoords(c, o), _ = [];
            if (t)
              for (var w = 0; w < p; w++)
                _.push(e.dataToPoint(o[w]));
            else {
              _[0] = e.dataToPoint(o[0]), _[1] = e.dataToPoint(o[1]);
              var S = y.get(["lineStyle", "curveness"]);
              +S && (_[2] = [(_[0][0] + _[1][0]) / 2 - (_[0][1] - _[1][1]) * S, (_[0][1] + _[1][1]) / 2 - (_[1][0] - _[0][0]) * S]);
            }
            n.setItemLayout(c, _);
          }
      }
    };
  }
};
const wZ = T5e;
var C5e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i, a) {
      var n = t.getData(), o = this._updateLineDraw(n, t), s = t.get("zlevel"), l = t.get(["effect", "trailLength"]), u = a.getZr(), c = u.painter.getType() === "svg";
      c || u.painter.getLayer(s).clear(!0), this._lastZlevel != null && !c && u.configLayer(this._lastZlevel, {
        motionBlur: !1
      }), this._showEffect(t) && l > 0 && (c ? process.env.NODE_ENV !== "production" && console.warn("SVG render mode doesn't support lines with trail effect") : u.configLayer(s, {
        motionBlur: !0,
        lastFrameAlpha: Math.max(Math.min(l / 10 + 0.9, 1), 0)
      })), o.updateData(n);
      var f = t.get("clip", !0) && fm(t.coordinateSystem, !1, t);
      f ? this.group.setClipPath(f) : this.group.removeClipPath(), this._lastZlevel = s, this._finished = !0;
    }, e.prototype.incrementalPrepareRender = function(t, i, a) {
      var n = t.getData(), o = this._updateLineDraw(n, t);
      o.incrementalPrepareUpdate(n), this._clearLayer(a), this._finished = !1;
    }, e.prototype.incrementalRender = function(t, i, a) {
      this._lineDraw.incrementalUpdate(t, i.getData()), this._finished = t.end === i.getData().count();
    }, e.prototype.eachRendered = function(t) {
      this._lineDraw && this._lineDraw.eachRendered(t);
    }, e.prototype.updateTransform = function(t, i, a) {
      var n = t.getData(), o = t.pipelineContext;
      if (!this._finished || o.large || o.progressiveRender)
        return {
          update: !0
        };
      var s = wZ.reset(t, i, a);
      s.progress && s.progress({
        start: 0,
        end: n.count(),
        count: n.count()
      }, n), this._lineDraw.updateLayout(), this._clearLayer(a);
    }, e.prototype._updateLineDraw = function(t, i) {
      var a = this._lineDraw, n = this._showEffect(i), o = !!i.get("polyline"), s = i.pipelineContext, l = s.large;
      return process.env.NODE_ENV !== "production" && n && l && console.warn("Large lines not support effect"), (!a || n !== this._hasEffet || o !== this._isPolyline || l !== this._isLargeDraw) && (a && a.remove(), a = this._lineDraw = l ? new x5e() : new dk(o ? n ? _5e : bZ : n ? _Z : fk), this._hasEffet = n, this._isPolyline = o, this._isLargeDraw = l), this.group.add(a.group), a;
    }, e.prototype._showEffect = function(t) {
      return !!t.get(["effect", "show"]);
    }, e.prototype._clearLayer = function(t) {
      var i = t.getZr(), a = i.painter.getType() === "svg";
      !a && this._lastZlevel != null && i.painter.getLayer(this._lastZlevel).clear(!0);
    }, e.prototype.remove = function(t, i) {
      this._lineDraw && this._lineDraw.remove(), this._lineDraw = null, this._clearLayer(i);
    }, e.prototype.dispose = function(t, i) {
      this.remove(t, i);
    }, e.type = "lines", e;
  }(gn)
);
const A5e = C5e;
var E5e = typeof Uint32Array > "u" ? Array : Uint32Array, D5e = typeof Float64Array > "u" ? Array : Float64Array;
function eV(r) {
  var e = r.data;
  e && e[0] && e[0][0] && e[0][0].coord && (process.env.NODE_ENV !== "production" && console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }"), r.data = Je(e, function(t) {
    var i = [t[0].coord, t[1].coord], a = {
      coords: i
    };
    return t[0].name && (a.fromName = t[0].name), t[1].name && (a.toName = t[1].name), oS([a, t[0], t[1]]);
  }));
}
var k5e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.visualStyleAccessPath = "lineStyle", t.visualDrawType = "stroke", t;
    }
    return e.prototype.init = function(t) {
      t.data = t.data || [], eV(t);
      var i = this._processFlatCoordsArray(t.data);
      this._flatCoords = i.flatCoords, this._flatCoordsOffset = i.flatCoordsOffset, i.flatCoords && (t.data = new Float32Array(i.count)), r.prototype.init.apply(this, arguments);
    }, e.prototype.mergeOption = function(t) {
      if (eV(t), t.data) {
        var i = this._processFlatCoordsArray(t.data);
        this._flatCoords = i.flatCoords, this._flatCoordsOffset = i.flatCoordsOffset, i.flatCoords && (t.data = new Float32Array(i.count));
      }
      r.prototype.mergeOption.apply(this, arguments);
    }, e.prototype.appendData = function(t) {
      var i = this._processFlatCoordsArray(t.data);
      i.flatCoords && (this._flatCoords ? (this._flatCoords = n0(this._flatCoords, i.flatCoords), this._flatCoordsOffset = n0(this._flatCoordsOffset, i.flatCoordsOffset)) : (this._flatCoords = i.flatCoords, this._flatCoordsOffset = i.flatCoordsOffset), t.data = new Float32Array(i.count)), this.getRawData().appendData(t.data);
    }, e.prototype._getCoordsFromItemModel = function(t) {
      var i = this.getData().getItemModel(t), a = i.option instanceof Array ? i.option : i.getShallow("coords");
      if (process.env.NODE_ENV !== "production" && !(a instanceof Array && a.length > 0 && a[0] instanceof Array))
        throw new Error("Invalid coords " + JSON.stringify(a) + ". Lines must have 2d coords array in data item.");
      return a;
    }, e.prototype.getLineCoordsCount = function(t) {
      return this._flatCoordsOffset ? this._flatCoordsOffset[t * 2 + 1] : this._getCoordsFromItemModel(t).length;
    }, e.prototype.getLineCoords = function(t, i) {
      if (this._flatCoordsOffset) {
        for (var a = this._flatCoordsOffset[t * 2], n = this._flatCoordsOffset[t * 2 + 1], o = 0; o < n; o++)
          i[o] = i[o] || [], i[o][0] = this._flatCoords[a + o * 2], i[o][1] = this._flatCoords[a + o * 2 + 1];
        return n;
      } else {
        for (var s = this._getCoordsFromItemModel(t), o = 0; o < s.length; o++)
          i[o] = i[o] || [], i[o][0] = s[o][0], i[o][1] = s[o][1];
        return s.length;
      }
    }, e.prototype._processFlatCoordsArray = function(t) {
      var i = 0;
      if (this._flatCoords && (i = this._flatCoords.length), Or(t[0])) {
        for (var a = t.length, n = new E5e(a), o = new D5e(a), s = 0, l = 0, u = 0, c = 0; c < a; ) {
          u++;
          var f = t[c++];
          n[l++] = s + i, n[l++] = f;
          for (var d = 0; d < f; d++) {
            var p = t[c++], v = t[c++];
            if (o[s++] = p, o[s++] = v, c > a && process.env.NODE_ENV !== "production")
              throw new Error("Invalid data format.");
          }
        }
        return {
          flatCoordsOffset: new Uint32Array(n.buffer, 0, l),
          flatCoords: o,
          count: u
        };
      }
      return {
        flatCoordsOffset: null,
        flatCoords: null,
        count: t.length
      };
    }, e.prototype.getInitialData = function(t, i) {
      if (process.env.NODE_ENV !== "production") {
        var a = xd.get(t.coordinateSystem);
        if (!a)
          throw new Error("Unknown coordinate system " + t.coordinateSystem);
      }
      var n = new Ua(["value"], this);
      return n.hasItemOption = !1, n.initData(t.data, [], function(o, s, l, u) {
        if (o instanceof Array)
          return NaN;
        n.hasItemOption = !0;
        var c = o.value;
        if (c != null)
          return c instanceof Array ? c[u] : c;
      }), n;
    }, e.prototype.formatTooltip = function(t, i, a) {
      var n = this.getData(), o = n.getItemModel(t), s = o.get("name");
      if (s)
        return s;
      var l = o.get("fromName"), u = o.get("toName"), c = [];
      return l != null && c.push(l), u != null && c.push(u), Pi("nameValue", {
        name: c.join(" > ")
      });
    }, e.prototype.preventIncremental = function() {
      return !!this.get(["effect", "show"]);
    }, e.prototype.getProgressive = function() {
      var t = this.option.progressive;
      return t ?? (this.option.large ? 1e4 : this.get("progressive"));
    }, e.prototype.getProgressiveThreshold = function() {
      var t = this.option.progressiveThreshold;
      return t ?? (this.option.large ? 2e4 : this.get("progressiveThreshold"));
    }, e.prototype.getZLevelKey = function() {
      var t = this.getModel("effect"), i = t.get("trailLength");
      return this.getData().count() > this.getProgressiveThreshold() ? this.id : t.get("show") && i > 0 ? i + "" : "";
    }, e.type = "series.lines", e.dependencies = ["grid", "polar", "geo", "calendar"], e.defaultOption = {
      coordinateSystem: "geo",
      // zlevel: 0,
      z: 2,
      legendHoverLink: !0,
      // Cartesian coordinate system
      xAxisIndex: 0,
      yAxisIndex: 0,
      symbol: ["none", "none"],
      symbolSize: [10, 10],
      // Geo coordinate system
      geoIndex: 0,
      effect: {
        show: !1,
        period: 4,
        constantSpeed: 0,
        symbol: "circle",
        symbolSize: 3,
        loop: !0,
        trailLength: 0.2
      },
      large: !1,
      // Available when large is true
      largeThreshold: 2e3,
      polyline: !1,
      clip: !0,
      label: {
        show: !1,
        position: "end"
        // distance: 5,
        // formatter: Tooltip.formatter
      },
      lineStyle: {
        opacity: 0.5
      }
    }, e;
  }(En)
);
const M5e = k5e;
function m2(r) {
  return r instanceof Array || (r = [r, r]), r;
}
var I5e = {
  seriesType: "lines",
  reset: function(r) {
    var e = m2(r.get("symbol")), t = m2(r.get("symbolSize")), i = r.getData();
    i.setVisual("fromSymbol", e && e[0]), i.setVisual("toSymbol", e && e[1]), i.setVisual("fromSymbolSize", t && t[0]), i.setVisual("toSymbolSize", t && t[1]);
    function a(n, o) {
      var s = n.getItemModel(o), l = m2(s.getShallow("symbol", !0)), u = m2(s.getShallow("symbolSize", !0));
      l[0] && n.setItemVisual(o, "fromSymbol", l[0]), l[1] && n.setItemVisual(o, "toSymbol", l[1]), u[0] && n.setItemVisual(o, "fromSymbolSize", u[0]), u[1] && n.setItemVisual(o, "toSymbolSize", u[1]);
    }
    return {
      dataEach: i.hasItemOption ? a : null
    };
  }
};
const P5e = I5e;
function R5e(r) {
  r.registerChartView(A5e), r.registerSeriesModel(M5e), r.registerLayout(wZ), r.registerVisual(P5e);
}
var L5e = 256, O5e = (
  /** @class */
  function() {
    function r() {
      this.blurSize = 30, this.pointSize = 20, this.maxOpacity = 1, this.minOpacity = 0, this._gradientPixels = {
        inRange: null,
        outOfRange: null
      };
      var e = vo.createCanvas();
      this.canvas = e;
    }
    return r.prototype.update = function(e, t, i, a, n, o) {
      var s = this._getBrush(), l = this._getGradient(n, "inRange"), u = this._getGradient(n, "outOfRange"), c = this.pointSize + this.blurSize, f = this.canvas, d = f.getContext("2d"), p = e.length;
      f.width = t, f.height = i;
      for (var v = 0; v < p; ++v) {
        var y = e[v], _ = y[0], w = y[1], S = y[2], x = a(S);
        d.globalAlpha = x, d.drawImage(s, _ - c, w - c);
      }
      if (!f.width || !f.height)
        return f;
      for (var E = d.getImageData(0, 0, f.width, f.height), M = E.data, k = 0, P = M.length, L = this.minOpacity, F = this.maxOpacity, O = F - L; k < P; ) {
        var x = M[k + 3] / 256, U = Math.floor(x * (L5e - 1)) * 4;
        if (x > 0) {
          var V = o(x) ? l : u;
          x > 0 && (x = x * O + L), M[k++] = V[U], M[k++] = V[U + 1], M[k++] = V[U + 2], M[k++] = V[U + 3] * x * 256;
        } else
          k += 4;
      }
      return d.putImageData(E, 0, 0), f;
    }, r.prototype._getBrush = function() {
      var e = this._brushCanvas || (this._brushCanvas = vo.createCanvas()), t = this.pointSize + this.blurSize, i = t * 2;
      e.width = i, e.height = i;
      var a = e.getContext("2d");
      return a.clearRect(0, 0, i, i), a.shadowOffsetX = i, a.shadowBlur = this.blurSize, a.shadowColor = Ve.color.neutral99, a.beginPath(), a.arc(-t, t, this.pointSize, 0, Math.PI * 2, !0), a.closePath(), a.fill(), e;
    }, r.prototype._getGradient = function(e, t) {
      for (var i = this._gradientPixels, a = i[t] || (i[t] = new Uint8ClampedArray(256 * 4)), n = [0, 0, 0, 0], o = 0, s = 0; s < 256; s++)
        e[t](s / 255, !0, n), a[o++] = n[0], a[o++] = n[1], a[o++] = n[2], a[o++] = n[3];
      return a;
    }, r;
  }()
);
const F5e = O5e;
function N5e(r, e, t) {
  var i = r[1] - r[0];
  e = Je(e, function(o) {
    return {
      interval: [(o.interval[0] - r[0]) / i, (o.interval[1] - r[0]) / i]
    };
  });
  var a = e.length, n = 0;
  return function(o) {
    var s;
    for (s = n; s < a; s++) {
      var l = e[s].interval;
      if (l[0] <= o && o <= l[1]) {
        n = s;
        break;
      }
    }
    if (s === a)
      for (s = n - 1; s >= 0; s--) {
        var l = e[s].interval;
        if (l[0] <= o && o <= l[1]) {
          n = s;
          break;
        }
      }
    return s >= 0 && s < a && t[s];
  };
}
function B5e(r, e) {
  var t = r[1] - r[0];
  return e = [(e[0] - r[0]) / t, (e[1] - r[0]) / t], function(i) {
    return i >= e[0] && i <= e[1];
  };
}
function tV(r) {
  var e = r.dimensions;
  return e[0] === "lng" && e[1] === "lat";
}
var V5e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i, a) {
      var n;
      if (i.eachComponent("visualMap", function(s) {
        s.eachTargetSeries(function(l) {
          l === t && (n = s);
        });
      }), process.env.NODE_ENV !== "production" && !n)
        throw new Error("Heatmap must use with visualMap");
      this._progressiveEls = null, this.group.removeAll();
      var o = t.coordinateSystem;
      o.type === "cartesian2d" || o.type === "calendar" || o.type === "matrix" ? this._renderOnGridLike(t, a, 0, t.getData().count()) : tV(o) && this._renderOnGeo(o, t, n, a);
    }, e.prototype.incrementalPrepareRender = function(t, i, a) {
      this.group.removeAll();
    }, e.prototype.incrementalRender = function(t, i, a, n) {
      var o = i.coordinateSystem;
      o && (tV(o) ? this.render(i, a, n) : (this._progressiveEls = [], this._renderOnGridLike(i, n, t.start, t.end, !0)));
    }, e.prototype.eachRendered = function(t) {
      fh(this._progressiveEls || this.group, t);
    }, e.prototype._renderOnGridLike = function(t, i, a, n, o) {
      var s = t.coordinateSystem, l = Qc(s, "cartesian2d"), u = Qc(s, "matrix"), c, f, d, p;
      if (l) {
        var v = s.getAxis("x"), y = s.getAxis("y");
        if (process.env.NODE_ENV !== "production") {
          if (!(v.type === "category" && y.type === "category"))
            throw new Error("Heatmap on cartesian must have two category axes");
          if (!(v.onBand && y.onBand))
            throw new Error("Heatmap on cartesian must have two axes with boundaryGap true");
        }
        c = v.getBandWidth() + 0.5, f = y.getBandWidth() + 0.5, d = v.scale.getExtent(), p = y.scale.getExtent();
      }
      for (var _ = this.group, w = t.getData(), S = t.getModel(["emphasis", "itemStyle"]).getItemStyle(), x = t.getModel(["blur", "itemStyle"]).getItemStyle(), E = t.getModel(["select", "itemStyle"]).getItemStyle(), M = t.get(["itemStyle", "borderRadius"]), k = zi(t), P = t.getModel("emphasis"), L = P.get("focus"), F = P.get("blurScope"), O = P.get("disabled"), U = l || u ? [w.mapDimension("x"), w.mapDimension("y"), w.mapDimension("value")] : [w.mapDimension("time"), w.mapDimension("value")], V = a; V < n; V++) {
        var G = void 0, Z = w.getItemVisual(V, "style");
        if (l) {
          var Q = w.get(U[0], V), se = w.get(U[1], V);
          if (isNaN(w.get(U[2], V)) || isNaN(Q) || isNaN(se) || Q < d[0] || Q > d[1] || se < p[0] || se > p[1])
            continue;
          var de = s.dataToPoint([Q, se]);
          G = new Cr({
            shape: {
              x: de[0] - c / 2,
              y: de[1] - f / 2,
              width: c,
              height: f
            },
            style: Z
          });
        } else if (u) {
          var le = s.dataToLayout([w.get(U[0], V), w.get(U[1], V)]).rect;
          if (Zi(le.x))
            continue;
          G = new Cr({
            z2: 1,
            shape: le,
            style: Z
          });
        } else {
          if (isNaN(w.get(U[1], V)))
            continue;
          var Se = s.dataToLayout([w.get(U[0], V)]), le = Se.contentRect || Se.rect;
          if (Zi(le.x) || Zi(le.y))
            continue;
          G = new Cr({
            z2: 1,
            shape: le,
            style: Z
          });
        }
        if (w.hasItemOption) {
          var he = w.getItemModel(V), fe = he.getModel("emphasis");
          S = fe.getModel("itemStyle").getItemStyle(), x = he.getModel(["blur", "itemStyle"]).getItemStyle(), E = he.getModel(["select", "itemStyle"]).getItemStyle(), M = he.get(["itemStyle", "borderRadius"]), L = fe.get("focus"), F = fe.get("blurScope"), O = fe.get("disabled"), k = zi(he);
        }
        G.shape.r = M;
        var K = t.getRawValue(V), we = "-";
        K && K[2] != null && (we = K[2] + ""), ea(G, k, {
          labelFetcher: t,
          labelDataIndex: V,
          defaultOpacity: Z.opacity,
          defaultText: we
        }), G.ensureState("emphasis").style = S, G.ensureState("blur").style = x, G.ensureState("select").style = E, Wn(G, L, F, O), G.incremental = o, o && (G.states.emphasis.hoverLayer = !0), _.add(G), w.setItemGraphicEl(V, G), this._progressiveEls && this._progressiveEls.push(G);
      }
    }, e.prototype._renderOnGeo = function(t, i, a, n) {
      var o = a.targetVisuals.inRange, s = a.targetVisuals.outOfRange, l = i.getData(), u = this._hmLayer || this._hmLayer || new F5e();
      u.blurSize = i.get("blurSize"), u.pointSize = i.get("pointSize"), u.minOpacity = i.get("minOpacity"), u.maxOpacity = i.get("maxOpacity");
      var c = t.getViewRect().clone(), f = t.getRoamTransform();
      c.applyTransform(f);
      var d = Math.max(c.x, 0), p = Math.max(c.y, 0), v = Math.min(c.width + c.x, n.getWidth()), y = Math.min(c.height + c.y, n.getHeight()), _ = v - d, w = y - p, S = [l.mapDimension("lng"), l.mapDimension("lat"), l.mapDimension("value")], x = l.mapArray(S, function(P, L, F) {
        var O = t.dataToPoint([P, L]);
        return O[0] -= d, O[1] -= p, O.push(F), O;
      }), E = a.getExtent(), M = a.type === "visualMap.continuous" ? B5e(E, a.option.range) : N5e(E, a.getPieceList(), a.option.selected);
      u.update(x, _, w, o.color.getNormalizer(), {
        inRange: o.color.getColorMapper(),
        outOfRange: s.color.getColorMapper()
      }, M);
      var k = new ha({
        style: {
          width: _,
          height: w,
          x: d,
          y: p,
          image: u.canvas
        },
        silent: !0
      });
      this.group.add(k);
    }, e.type = "heatmap", e;
  }(gn)
);
const U5e = V5e;
var G5e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.getInitialData = function(t, i) {
      return Bl(null, this, {
        generateCoord: "value"
      });
    }, e.prototype.preventIncremental = function() {
      var t = xd.get(this.get("coordinateSystem"));
      if (t && t.dimensions)
        return t.dimensions[0] === "lng" && t.dimensions[1] === "lat";
    }, e.type = "series.heatmap", e.dependencies = ["grid", "geo", "calendar", "matrix"], e.defaultOption = {
      coordinateSystem: "cartesian2d",
      // zlevel: 0,
      z: 2,
      // Cartesian coordinate system
      // xAxisIndex: 0,
      // yAxisIndex: 0,
      // Geo coordinate system
      geoIndex: 0,
      blurSize: 30,
      pointSize: 20,
      maxOpacity: 1,
      minOpacity: 0,
      select: {
        itemStyle: {
          borderColor: Ve.color.primary
        }
      }
    }, e;
  }(En)
);
const z5e = G5e;
function W5e(r) {
  r.registerChartView(U5e), r.registerSeriesModel(z5e);
}
var H5e = ["itemStyle", "borderWidth"], rV = [{
  xy: "x",
  wh: "width",
  index: 0,
  posDesc: ["left", "right"]
}, {
  xy: "y",
  wh: "height",
  index: 1,
  posDesc: ["top", "bottom"]
}], q5 = new rc(), $5e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i, a) {
      var n = this.group, o = t.getData(), s = this._data, l = t.coordinateSystem, u = l.getBaseAxis(), c = u.isHorizontal(), f = l.master.getRect(), d = {
        ecSize: {
          width: a.getWidth(),
          height: a.getHeight()
        },
        seriesModel: t,
        coordSys: l,
        coordSysExtent: [[f.x, f.x + f.width], [f.y, f.y + f.height]],
        isHorizontal: c,
        valueDim: rV[+c],
        categoryDim: rV[1 - +c]
      };
      o.diff(s).add(function(v) {
        if (o.hasValue(v)) {
          var y = iV(o, v), _ = nV(o, v, y, d), w = aV(o, d, _);
          o.setItemGraphicEl(v, w), n.add(w), sV(w, d, _);
        }
      }).update(function(v, y) {
        var _ = s.getItemGraphicEl(y);
        if (!o.hasValue(v)) {
          n.remove(_);
          return;
        }
        var w = iV(o, v), S = nV(o, v, w, d), x = EZ(o, S);
        _ && x !== _.__pictorialShapeStr && (n.remove(_), o.setItemGraphicEl(v, null), _ = null), _ ? J5e(_, d, S) : _ = aV(o, d, S, !0), o.setItemGraphicEl(v, _), _.__pictorialSymbolMeta = S, n.add(_), sV(_, d, S);
      }).remove(function(v) {
        var y = s.getItemGraphicEl(v);
        y && oV(s, v, y.__pictorialSymbolMeta.animationModel, y);
      }).execute();
      var p = t.get("clip", !0) ? fm(t.coordinateSystem, !1, t) : null;
      return p ? n.setClipPath(p) : n.removeClipPath(), this._data = o, this.group;
    }, e.prototype.remove = function(t, i) {
      var a = this.group, n = this._data;
      t.get("animation") ? n && n.eachItemGraphicEl(function(o) {
        oV(n, er(o).dataIndex, t, o);
      }) : a.removeAll();
    }, e.type = "pictorialBar", e;
  }(gn)
);
function nV(r, e, t, i) {
  var a = r.getItemLayout(e), n = t.get("symbolRepeat"), o = t.get("symbolClip"), s = t.get("symbolPosition") || "start", l = t.get("symbolRotate"), u = (l || 0) * Math.PI / 180 || 0, c = t.get("symbolPatternSize") || 2, f = t.isAnimationEnabled(), d = {
    dataIndex: e,
    layout: a,
    itemModel: t,
    symbolType: r.getItemVisual(e, "symbol") || "circle",
    style: r.getItemVisual(e, "style"),
    symbolClip: o,
    symbolRepeat: n,
    symbolRepeatDirection: t.get("symbolRepeatDirection"),
    symbolPatternSize: c,
    rotation: u,
    animationModel: f ? t : null,
    hoverScale: f && t.get(["emphasis", "scale"]),
    z2: t.getShallow("z", !0) || 0
  };
  Y5e(t, n, a, i, d), j5e(r, e, a, n, o, d.boundingLength, d.pxSign, c, i, d), q5e(t, d.symbolScale, u, i, d);
  var p = d.symbolSize, v = Ad(t.get("symbolOffset"), p);
  return X5e(t, p, a, n, o, v, s, d.valueLineWidth, d.boundingLength, d.repeatCutLength, i, d), d;
}
function Y5e(r, e, t, i, a) {
  var n = i.valueDim, o = r.get("symbolBoundingData"), s = i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()), l = s.toGlobalCoord(s.dataToCoord(0)), u = 1 - +(t[n.wh] <= 0), c;
  if (Ke(o)) {
    var f = [X5(s, o[0]) - l, X5(s, o[1]) - l];
    f[1] < f[0] && f.reverse(), c = f[u];
  } else
    o != null ? c = X5(s, o) - l : e ? c = i.coordSysExtent[n.index][u] - l : c = t[n.wh];
  a.boundingLength = c, e && (a.repeatCutLength = t[n.wh]);
  var d = n.xy === "x", p = s.inverse;
  a.pxSign = d && !p || !d && p ? c >= 0 ? 1 : -1 : c > 0 ? 1 : -1;
}
function X5(r, e) {
  return r.toGlobalCoord(r.dataToCoord(r.scale.parse(e)));
}
function j5e(r, e, t, i, a, n, o, s, l, u) {
  var c = l.valueDim, f = l.categoryDim, d = Math.abs(t[f.wh]), p = r.getItemVisual(e, "symbolSize"), v;
  Ke(p) ? v = p.slice() : p == null ? v = ["100%", "100%"] : v = [p, p], v[f.index] = gt(v[f.index], d), v[c.index] = gt(v[c.index], i ? d : Math.abs(n)), u.symbolSize = v;
  var y = u.symbolScale = [v[0] / s, v[1] / s];
  y[c.index] *= (l.isHorizontal ? -1 : 1) * o;
}
function q5e(r, e, t, i, a) {
  var n = r.get(H5e) || 0;
  n && (q5.attr({
    scaleX: e[0],
    scaleY: e[1],
    rotation: t
  }), q5.updateTransform(), n /= q5.getLineScale(), n *= e[i.valueDim.index]), a.valueLineWidth = n || 0;
}
function X5e(r, e, t, i, a, n, o, s, l, u, c, f) {
  var d = c.categoryDim, p = c.valueDim, v = f.pxSign, y = Math.max(e[p.index] + s, 0), _ = y;
  if (i) {
    var w = Math.abs(l), S = Di(r.get("symbolMargin"), "15%") + "", x = !1;
    S.lastIndexOf("!") === S.length - 1 && (x = !0, S = S.slice(0, S.length - 1));
    var E = gt(S, e[p.index]), M = Math.max(y + E * 2, 0), k = x ? 0 : E * 2, P = fS(i), L = P ? i : lV((w + k) / M), F = w - L * y;
    E = F / 2 / (x ? L : Math.max(L - 1, 1)), M = y + E * 2, k = x ? 0 : E * 2, !P && i !== "fixed" && (L = u ? lV((Math.abs(u) + k) / M) : 0), _ = L * M - k, f.repeatTimes = L, f.symbolMargin = E;
  }
  var O = v * (_ / 2), U = f.pathPosition = [];
  U[d.index] = t[d.wh] / 2, U[p.index] = o === "start" ? O : o === "end" ? l - O : l / 2, n && (U[0] += n[0], U[1] += n[1]);
  var V = f.bundlePosition = [];
  V[d.index] = t[d.xy], V[p.index] = t[p.xy];
  var G = f.barRectShape = $e({}, t);
  G[p.wh] = v * Math.max(Math.abs(t[p.wh]), Math.abs(U[p.index] + O)), G[d.wh] = t[d.wh];
  var Z = f.clipShape = {};
  Z[d.xy] = -t[d.xy], Z[d.wh] = c.ecSize[d.wh], Z[p.xy] = 0, Z[p.wh] = t[p.wh];
}
function SZ(r) {
  var e = r.symbolPatternSize, t = Si(
    // Consider texture img, make a big size.
    r.symbolType,
    -e / 2,
    -e / 2,
    e,
    e
  );
  return t.attr({
    culling: !0
  }), t.type !== "image" && t.setStyle({
    strokeNoScale: !0
  }), t;
}
function xZ(r, e, t, i) {
  var a = r.__pictorialBundle, n = t.symbolSize, o = t.valueLineWidth, s = t.pathPosition, l = e.valueDim, u = t.repeatTimes || 0, c = 0, f = n[e.valueDim.index] + o + t.symbolMargin * 2;
  for (Tk(r, function(y) {
    y.__pictorialAnimationIndex = c, y.__pictorialRepeatTimes = u, c < u ? Kp(y, null, v(c), t, i) : Kp(y, null, {
      scaleX: 0,
      scaleY: 0
    }, t, i, function() {
      a.remove(y);
    }), c++;
  }); c < u; c++) {
    var d = SZ(t);
    d.__pictorialAnimationIndex = c, d.__pictorialRepeatTimes = u, a.add(d);
    var p = v(c);
    Kp(d, {
      x: p.x,
      y: p.y,
      scaleX: 0,
      scaleY: 0
    }, {
      scaleX: p.scaleX,
      scaleY: p.scaleY,
      rotation: p.rotation
    }, t, i);
  }
  function v(y) {
    var _ = s.slice(), w = t.pxSign, S = y;
    return (t.symbolRepeatDirection === "start" ? w > 0 : w < 0) && (S = u - 1 - y), _[l.index] = f * (S - u / 2 + 0.5) + s[l.index], {
      x: _[0],
      y: _[1],
      scaleX: t.symbolScale[0],
      scaleY: t.symbolScale[1],
      rotation: t.rotation
    };
  }
}
function TZ(r, e, t, i) {
  var a = r.__pictorialBundle, n = r.__pictorialMainPath;
  n ? Kp(n, null, {
    x: t.pathPosition[0],
    y: t.pathPosition[1],
    scaleX: t.symbolScale[0],
    scaleY: t.symbolScale[1],
    rotation: t.rotation
  }, t, i) : (n = r.__pictorialMainPath = SZ(t), a.add(n), Kp(n, {
    x: t.pathPosition[0],
    y: t.pathPosition[1],
    scaleX: 0,
    scaleY: 0,
    rotation: t.rotation
  }, {
    scaleX: t.symbolScale[0],
    scaleY: t.symbolScale[1]
  }, t, i));
}
function CZ(r, e, t) {
  var i = $e({}, e.barRectShape), a = r.__pictorialBarRect;
  a ? Kp(a, null, {
    shape: i
  }, e, t) : (a = r.__pictorialBarRect = new Cr({
    z2: 2,
    shape: i,
    silent: !0,
    style: {
      stroke: "transparent",
      fill: "transparent",
      lineWidth: 0
    }
  }), a.disableMorphing = !0, r.add(a));
}
function AZ(r, e, t, i) {
  if (t.symbolClip) {
    var a = r.__pictorialClipPath, n = $e({}, t.clipShape), o = e.valueDim, s = t.animationModel, l = t.dataIndex;
    if (a)
      Wr(a, {
        shape: n
      }, s, l);
    else {
      n[o.wh] = 0, a = new Cr({
        shape: n
      }), r.__pictorialBundle.setClipPath(a), r.__pictorialClipPath = a;
      var u = {};
      u[o.wh] = t.clipShape[o.wh], wd[i ? "updateProps" : "initProps"](a, {
        shape: u
      }, s, l);
    }
  }
}
function iV(r, e) {
  var t = r.getItemModel(e);
  return t.getAnimationDelayParams = K5e, t.isAnimationEnabled = Z5e, t;
}
function K5e(r) {
  return {
    index: r.__pictorialAnimationIndex,
    count: r.__pictorialRepeatTimes
  };
}
function Z5e() {
  return this.parentModel.isAnimationEnabled() && !!this.getShallow("animation");
}
function aV(r, e, t, i) {
  var a = new Wt(), n = new Wt();
  return a.add(n), a.__pictorialBundle = n, n.x = t.bundlePosition[0], n.y = t.bundlePosition[1], t.symbolRepeat ? xZ(a, e, t) : TZ(a, e, t), CZ(a, t, i), AZ(a, e, t, i), a.__pictorialShapeStr = EZ(r, t), a.__pictorialSymbolMeta = t, a;
}
function J5e(r, e, t) {
  var i = t.animationModel, a = t.dataIndex, n = r.__pictorialBundle;
  Wr(n, {
    x: t.bundlePosition[0],
    y: t.bundlePosition[1]
  }, i, a), t.symbolRepeat ? xZ(r, e, t, !0) : TZ(r, e, t, !0), CZ(r, t, !0), AZ(r, e, t, !0);
}
function oV(r, e, t, i) {
  var a = i.__pictorialBarRect;
  a && a.removeTextContent();
  var n = [];
  Tk(i, function(o) {
    n.push(o);
  }), i.__pictorialMainPath && n.push(i.__pictorialMainPath), i.__pictorialClipPath && (t = null), J(n, function(o) {
    Zc(o, {
      scaleX: 0,
      scaleY: 0
    }, t, e, function() {
      i.parent && i.parent.remove(i);
    });
  }), r.setItemGraphicEl(e, null);
}
function EZ(r, e) {
  return [r.getItemVisual(e.dataIndex, "symbol") || "none", !!e.symbolRepeat, !!e.symbolClip].join(":");
}
function Tk(r, e, t) {
  J(r.__pictorialBundle.children(), function(i) {
    i !== r.__pictorialBarRect && e.call(t, i);
  });
}
function Kp(r, e, t, i, a, n) {
  e && r.attr(e), i.symbolClip && !a ? t && r.attr(t) : t && wd[a ? "updateProps" : "initProps"](r, t, i.animationModel, i.dataIndex, n);
}
function sV(r, e, t) {
  var i = t.dataIndex, a = t.itemModel, n = a.getModel("emphasis"), o = n.getModel("itemStyle").getItemStyle(), s = a.getModel(["blur", "itemStyle"]).getItemStyle(), l = a.getModel(["select", "itemStyle"]).getItemStyle(), u = a.getShallow("cursor"), c = n.get("focus"), f = n.get("blurScope"), d = n.get("scale");
  Tk(r, function(y) {
    if (y instanceof ha) {
      var _ = y.style;
      y.useStyle($e({
        // TODO other properties like dx, dy ?
        image: _.image,
        x: _.x,
        y: _.y,
        width: _.width,
        height: _.height
      }, t.style));
    } else
      y.useStyle(t.style);
    var w = y.ensureState("emphasis");
    w.style = o, d && (w.scaleX = y.scaleX * 1.1, w.scaleY = y.scaleY * 1.1), y.ensureState("blur").style = s, y.ensureState("select").style = l, u && (y.cursor = u), y.z2 = t.z2;
  });
  var p = e.valueDim.posDesc[+(t.boundingLength > 0)], v = r.__pictorialBarRect;
  v.ignoreClip = !0, ea(v, zi(a), {
    labelFetcher: e.seriesModel,
    labelDataIndex: i,
    defaultText: d0(e.seriesModel.getData(), i),
    inheritColor: t.style.fill,
    defaultOpacity: t.style.opacity,
    defaultOutsidePosition: p
  }), Wn(r, c, f, n.get("disabled"));
}
function lV(r) {
  var e = Math.round(r);
  return Math.abs(r - e) < 1e-4 ? e : Math.ceil(r);
}
const Q5e = $5e;
var eTe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.hasSymbolVisual = !0, t.defaultSymbol = "roundRect", t;
    }
    return e.prototype.getInitialData = function(t) {
      return t.stack = null, r.prototype.getInitialData.apply(this, arguments);
    }, e.type = "series.pictorialBar", e.dependencies = ["grid"], e.defaultOption = dh(wb.defaultOption, {
      symbol: "circle",
      symbolSize: null,
      symbolRotate: null,
      symbolPosition: null,
      symbolOffset: null,
      symbolMargin: null,
      symbolRepeat: !1,
      symbolRepeatDirection: "end",
      symbolClip: !1,
      symbolBoundingData: null,
      symbolPatternSize: 400,
      barGap: "-100%",
      // Pictorial bar do not clip by default because in many cases
      // xAxis and yAxis are not displayed and it's expected not to clip
      clip: !1,
      // z can be set in data item, which is z2 actually.
      // Disable progressive
      progressive: 0,
      emphasis: {
        // By default pictorialBar do not hover scale. Hover scale is not suitable
        // for the case that both has foreground and background.
        scale: !1
      },
      select: {
        itemStyle: {
          borderColor: Ve.color.primary
        }
      }
    }), e;
  }(wb)
);
const tTe = eTe;
function rTe(r) {
  r.registerChartView(Q5e), r.registerSeriesModel(tTe), r.registerLayout(r.PRIORITY.VISUAL.LAYOUT, fr(zq, "pictorialBar")), r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, Wq("pictorialBar"));
}
var nTe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t._layers = [], t;
    }
    return e.prototype.render = function(t, i, a) {
      var n = t.getData(), o = this, s = this.group, l = t.getLayerSeries(), u = n.getLayout("layoutInfo"), c = u.rect, f = u.boundaryGap;
      s.x = 0, s.y = c.y + f[0];
      function d(_) {
        return _.name;
      }
      var p = new Gu(this._layersSeries || [], l, d, d), v = [];
      p.add(mt(y, this, "add")).update(mt(y, this, "update")).remove(mt(y, this, "remove")).execute();
      function y(_, w, S) {
        var x = o._layers;
        if (_ === "remove") {
          s.remove(x[w]);
          return;
        }
        for (var E = [], M = [], k, P = l[w].indices, L = 0; L < P.length; L++) {
          var F = n.getItemLayout(P[L]), O = F.x, U = F.y0, V = F.y;
          E.push(O, U), M.push(O, U + V), k = n.getItemVisual(P[L], "style");
        }
        var G, Z = n.getItemLayout(P[0]), Q = t.getModel("label"), se = Q.get("margin"), de = t.getModel("emphasis");
        if (_ === "add") {
          var le = v[w] = new Wt();
          G = new OX({
            shape: {
              points: E,
              stackedOnPoints: M,
              smooth: 0.4,
              stackedOnSmooth: 0.4,
              smoothConstraint: !1
            },
            z2: 0
          }), le.add(G), s.add(le), t.isAnimationEnabled() && G.setClipPath(iTe(G.getBoundingRect(), t, function() {
            G.removeClipPath();
          }));
        } else {
          var le = x[S];
          G = le.childAt(0), s.add(le), v[w] = le, Wr(G, {
            shape: {
              points: E,
              stackedOnPoints: M
            }
          }, t), hs(G);
        }
        ea(G, zi(t), {
          labelDataIndex: P[L - 1],
          defaultText: n.getName(P[L - 1]),
          inheritColor: k.fill
        }, {
          normal: {
            verticalAlign: "middle"
            // align: 'right'
          }
        }), G.setTextConfig({
          position: null,
          local: !0
        });
        var Se = G.getTextContent();
        Se && (Se.x = Z.x - se, Se.y = Z.y0 + Z.y / 2), G.useStyle(k), n.setItemGraphicEl(w, G), Gi(G, t), Wn(G, de.get("focus"), de.get("blurScope"), de.get("disabled"));
      }
      this._layersSeries = l, this._layers = v;
    }, e.type = "themeRiver", e;
  }(gn)
);
function iTe(r, e, t) {
  var i = new Cr({
    shape: {
      x: r.x - 10,
      y: r.y - 10,
      width: 0,
      height: r.height + 20
    }
  });
  return In(i, {
    shape: {
      x: r.x - 50,
      width: r.width + 100,
      height: r.height + 20
    }
  }, e, t), i;
}
const aTe = nTe;
var K5 = 2, oTe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.init = function(t) {
      r.prototype.init.apply(this, arguments), this.legendVisualProvider = new q0(mt(this.getData, this), mt(this.getRawData, this));
    }, e.prototype.fixData = function(t) {
      var i = t.length, a = {}, n = GA(t, function(d) {
        return a.hasOwnProperty(d[0] + "") || (a[d[0] + ""] = -1), d[2];
      }), o = [];
      n.buckets.each(function(d, p) {
        o.push({
          name: p,
          dataList: d
        });
      });
      for (var s = o.length, l = 0; l < s; ++l) {
        for (var u = o[l].name, c = 0; c < o[l].dataList.length; ++c) {
          var f = o[l].dataList[c][0] + "";
          a[f] = l;
        }
        for (var f in a)
          a.hasOwnProperty(f) && a[f] !== l && (a[f] = l, t[i] = [f, 0, u], i++);
      }
      return t;
    }, e.prototype.getInitialData = function(t, i) {
      for (var a = this.getReferringComponents("singleAxis", ri).models[0], n = a.get("type"), o = Xr(t.data, function(v) {
        return v[2] !== void 0;
      }), s = this.fixData(o || []), l = [], u = this.nameMap = Pt(), c = 0, f = 0; f < s.length; ++f)
        l.push(s[f][K5]), u.get(s[f][K5]) || (u.set(s[f][K5], c), c++);
      var d = W0(s, {
        coordDimensions: ["single"],
        dimensionsDefine: [{
          name: "time",
          type: fb(n)
        }, {
          name: "value",
          type: "float"
        }, {
          name: "name",
          type: "ordinal"
        }],
        encodeDefine: {
          single: 0,
          value: 1,
          itemName: 2
        }
      }).dimensions, p = new Ua(d, this);
      return p.initData(s), p;
    }, e.prototype.getLayerSeries = function() {
      for (var t = this.getData(), i = t.count(), a = [], n = 0; n < i; ++n)
        a[n] = n;
      var o = t.mapDimension("single"), s = GA(a, function(u) {
        return t.get("name", u);
      }), l = [];
      return s.buckets.each(function(u, c) {
        u.sort(function(f, d) {
          return t.get(o, f) - t.get(o, d);
        }), l.push({
          name: c,
          indices: u
        });
      }), l;
    }, e.prototype.getAxisTooltipData = function(t, i, a) {
      Ke(t) || (t = t ? [t] : []);
      for (var n = this.getData(), o = this.getLayerSeries(), s = [], l = o.length, u, c = 0; c < l; ++c) {
        for (var f = Number.MAX_VALUE, d = -1, p = o[c].indices.length, v = 0; v < p; ++v) {
          var y = n.get(t[0], o[c].indices[v]), _ = Math.abs(y - i);
          _ <= f && (u = y, f = _, d = o[c].indices[v]);
        }
        s.push(d);
      }
      return {
        dataIndices: s,
        nestestValue: u
      };
    }, e.prototype.formatTooltip = function(t, i, a) {
      var n = this.getData(), o = n.getName(t), s = n.get(n.mapDimension("value"), t);
      return Pi("nameValue", {
        name: o,
        value: s
      });
    }, e.type = "series.themeRiver", e.dependencies = ["singleAxis"], e.defaultOption = {
      // zlevel: 0,
      z: 2,
      colorBy: "data",
      coordinateSystem: "singleAxis",
      // gap in axis's orthogonal orientation
      boundaryGap: ["10%", "10%"],
      // legendHoverLink: true,
      singleAxisIndex: 0,
      animationEasing: "linear",
      label: {
        margin: 4,
        show: !0,
        position: "left",
        fontSize: 11
      },
      emphasis: {
        label: {
          show: !0
        }
      }
    }, e;
  }(En)
);
const sTe = oTe;
function lTe(r, e) {
  r.eachSeriesByType("themeRiver", function(t) {
    var i = t.getData(), a = t.coordinateSystem, n = {}, o = a.getRect();
    n.rect = o;
    var s = t.get("boundaryGap"), l = a.getAxis();
    if (n.boundaryGap = s, l.orient === "horizontal") {
      s[0] = gt(s[0], o.height), s[1] = gt(s[1], o.height);
      var u = o.height - s[0] - s[1];
      uV(i, t, u);
    } else {
      s[0] = gt(s[0], o.width), s[1] = gt(s[1], o.width);
      var c = o.width - s[0] - s[1];
      uV(i, t, c);
    }
    i.setLayout("layoutInfo", n);
  });
}
function uV(r, e, t) {
  if (r.count())
    for (var i = e.coordinateSystem, a = e.getLayerSeries(), n = r.mapDimension("single"), o = r.mapDimension("value"), s = Je(a, function(_) {
      return Je(_.indices, function(w) {
        var S = i.dataToPoint(r.get(n, w));
        return S[1] = r.get(o, w), S;
      });
    }), l = uTe(s), u = l.y0, c = t / l.max, f = a.length, d = a[0].indices.length, p, v = 0; v < d; ++v) {
      p = u[v] * c, r.setItemLayout(a[0].indices[v], {
        layerIndex: 0,
        x: s[0][v][0],
        y0: p,
        y: s[0][v][1] * c
      });
      for (var y = 1; y < f; ++y)
        p += s[y - 1][v][1] * c, r.setItemLayout(a[y].indices[v], {
          layerIndex: y,
          x: s[y][v][0],
          y0: p,
          y: s[y][v][1] * c
        });
    }
}
function uTe(r) {
  for (var e = r.length, t = r[0].length, i = [], a = [], n = 0, o = 0; o < t; ++o) {
    for (var s = 0, l = 0; l < e; ++l)
      s += r[l][o][1];
    s > n && (n = s), i.push(s);
  }
  for (var u = 0; u < t; ++u)
    a[u] = (n - i[u]) / 2;
  n = 0;
  for (var c = 0; c < t; ++c) {
    var f = i[c] + a[c];
    f > n && (n = f);
  }
  return {
    y0: a,
    max: n
  };
}
function cTe(r) {
  r.registerChartView(aTe), r.registerSeriesModel(sTe), r.registerLayout(lTe), r.registerProcessor(Y0("themeRiver"));
}
var hTe = 2, fTe = 4, dTe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i, a, n) {
      var o = r.call(this) || this;
      o.z2 = hTe, o.textConfig = {
        inside: !0
      }, er(o).seriesIndex = i.seriesIndex;
      var s = new Br({
        z2: fTe,
        silent: t.getModel().get(["label", "silent"])
      });
      return o.setTextContent(s), o.updateData(!0, t, i, a, n), o;
    }
    return e.prototype.updateData = function(t, i, a, n, o) {
      this.node = i, i.piece = this, a = a || this._seriesModel, n = n || this._ecModel;
      var s = this;
      er(s).dataIndex = i.dataIndex;
      var l = i.getModel(), u = l.getModel("emphasis"), c = i.getLayout(), f = $e({}, c);
      f.label = null;
      var d = i.getVisual("style");
      d.lineJoin = "bevel";
      var p = i.getVisual("decal");
      p && (d.decal = h0(p, o));
      var v = Cl(l.getModel("itemStyle"), f, !0);
      $e(f, v), J(ro, function(S) {
        var x = s.ensureState(S), E = l.getModel([S, "itemStyle"]);
        x.style = E.getItemStyle();
        var M = Cl(E, f);
        M && (x.shape = M);
      }), t ? (s.setShape(f), s.shape.r = c.r0, In(s, {
        shape: {
          r: c.r
        }
      }, a, i.dataIndex)) : (Wr(s, {
        shape: f
      }, a), hs(s)), s.useStyle(d), this._updateLabel(a);
      var y = l.getShallow("cursor");
      y && s.attr("cursor", y), this._seriesModel = a || this._seriesModel, this._ecModel = n || this._ecModel;
      var _ = u.get("focus"), w = _ === "relative" ? n0(i.getAncestorsIndices(), i.getDescendantIndices()) : _ === "ancestor" ? i.getAncestorsIndices() : _ === "descendant" ? i.getDescendantIndices() : _;
      Wn(this, w, u.get("blurScope"), u.get("disabled"));
    }, e.prototype._updateLabel = function(t) {
      var i = this, a = this.node.getModel(), n = a.getModel("label"), o = this.node.getLayout(), s = o.endAngle - o.startAngle, l = (o.startAngle + o.endAngle) / 2, u = Math.cos(l), c = Math.sin(l), f = this, d = f.getTextContent(), p = this.node.dataIndex, v = n.get("minAngle") / 180 * Math.PI, y = n.get("show") && !(v != null && Math.abs(s) < v);
      d.ignore = !y, J(d1, function(w) {
        var S = w === "normal" ? a.getModel("label") : a.getModel([w, "label"]), x = w === "normal", E = x ? d : d.ensureState(w), M = t.getFormattedLabel(p, w);
        x && (M = M || i.node.name), E.style = Sn(S, {}, null, w !== "normal", !0), M && (E.style.text = M);
        var k = S.get("show");
        k != null && !x && (E.ignore = !k);
        var P = _(S, "position"), L = x ? f : f.states[w], F = L.style.fill;
        L.textConfig = {
          outsideFill: S.get("color") === "inherit" ? F : null,
          inside: P !== "outside"
        };
        var O, U = _(S, "distance") || 0, V = _(S, "align"), G = _(S, "rotate"), Z = Math.PI * 0.5, Q = Math.PI * 1.5, se = Do(G === "tangential" ? Math.PI / 2 - l : l), de = se > Z && !o0(se - Z) && se < Q;
        P === "outside" ? (O = o.r + U, V = de ? "right" : "left") : !V || V === "center" ? (s === 2 * Math.PI && o.r0 === 0 ? O = 0 : O = (o.r + o.r0) / 2, V = "center") : V === "left" ? (O = o.r0 + U, V = de ? "right" : "left") : V === "right" && (O = o.r - U, V = de ? "left" : "right"), E.style.align = V, E.style.verticalAlign = _(S, "verticalAlign") || "middle", E.x = O * u + o.cx, E.y = O * c + o.cy;
        var le = 0;
        G === "radial" ? le = Do(-l) + (de ? Math.PI : 0) : G === "tangential" ? le = Do(Math.PI / 2 - l) + (de ? Math.PI : 0) : Or(G) && (le = G * Math.PI / 180), E.rotation = Do(le);
      });
      function _(w, S) {
        var x = w.get(S);
        return x ?? n.get(S);
      }
      d.dirtyStyle();
    }, e;
  }(Wa)
);
const cV = dTe;
var rE = "sunburstRootToNode", hV = "sunburstHighlight", pTe = "sunburstUnhighlight";
function vTe(r) {
  r.registerAction({
    type: rE,
    update: "updateView"
  }, function(e, t) {
    t.eachComponent({
      mainType: "series",
      subType: "sunburst",
      query: e
    }, i);
    function i(a, n) {
      var o = D1(e, [rE], a);
      if (o) {
        var s = a.getViewRoot();
        s && (e.direction = ok(s, o.node) ? "rollUp" : "drillDown"), a.resetViewRoot(o.node);
      }
    }
  }), r.registerAction({
    type: hV,
    update: "none"
  }, function(e, t, i) {
    e = $e({}, e), t.eachComponent({
      mainType: "series",
      subType: "sunburst",
      query: e
    }, a);
    function a(n) {
      var o = D1(e, [hV], n);
      o && (e.dataIndex = o.node.dataIndex);
    }
    process.env.NODE_ENV !== "production" && yi("sunburstHighlight", "highlight"), i.dispatchAction($e(e, {
      type: "highlight"
    }));
  }), r.registerAction({
    type: pTe,
    update: "updateView"
  }, function(e, t, i) {
    e = $e({}, e), process.env.NODE_ENV !== "production" && yi("sunburstUnhighlight", "downplay"), i.dispatchAction($e(e, {
      type: "downplay"
    }));
  });
}
var gTe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i, a, n) {
      var o = this;
      this.seriesModel = t, this.api = a, this.ecModel = i;
      var s = t.getData(), l = s.tree.root, u = t.getViewRoot(), c = this.group, f = t.get("renderLabelForZeroData"), d = [];
      u.eachNode(function(S) {
        d.push(S);
      });
      var p = this._oldChildren || [];
      v(d, p), w(l, u), this._initEvents(), this._oldChildren = d;
      function v(S, x) {
        if (S.length === 0 && x.length === 0)
          return;
        new Gu(x, S, E, E).add(M).update(M).remove(fr(M, null)).execute();
        function E(k) {
          return k.getId();
        }
        function M(k, P) {
          var L = k == null ? null : S[k], F = P == null ? null : x[P];
          y(L, F);
        }
      }
      function y(S, x) {
        if (!f && S && !S.getValue() && (S = null), S !== l && x !== l) {
          if (x && x.piece)
            S ? (x.piece.updateData(!1, S, t, i, a), s.setItemGraphicEl(S.dataIndex, x.piece)) : _(x);
          else if (S) {
            var E = new cV(S, t, i, a);
            c.add(E), s.setItemGraphicEl(S.dataIndex, E);
          }
        }
      }
      function _(S) {
        S && S.piece && (c.remove(S.piece), S.piece = null);
      }
      function w(S, x) {
        x.depth > 0 ? (o.virtualPiece ? o.virtualPiece.updateData(!1, S, t, i, a) : (o.virtualPiece = new cV(S, t, i, a), c.add(o.virtualPiece)), x.piece.off("click"), o.virtualPiece.on("click", function(E) {
          o._rootToNode(x.parentNode);
        })) : o.virtualPiece && (c.remove(o.virtualPiece), o.virtualPiece = null);
      }
    }, e.prototype._initEvents = function() {
      var t = this;
      this.group.off("click"), this.group.on("click", function(i) {
        var a = !1, n = t.seriesModel.getViewRoot();
        n.eachNode(function(o) {
          if (!a && o.piece && o.piece === i.target) {
            var s = o.getModel().get("nodeClick");
            if (s === "rootToNode")
              t._rootToNode(o);
            else if (s === "link") {
              var l = o.getModel(), u = l.get("link");
              if (u) {
                var c = l.get("target", !0) || "_blank";
                J_(u, c);
              }
            }
            a = !0;
          }
        });
      });
    }, e.prototype._rootToNode = function(t) {
      t !== this.seriesModel.getViewRoot() && this.api.dispatchAction({
        type: rE,
        from: this.uid,
        seriesId: this.seriesModel.id,
        targetNode: t
      });
    }, e.prototype.containPoint = function(t, i) {
      var a = i.getData(), n = a.getItemLayout(0);
      if (n) {
        var o = t[0] - n.cx, s = t[1] - n.cy, l = Math.sqrt(o * o + s * s);
        return l <= n.r && l >= n.r0;
      }
    }, e.type = "sunburst", e;
  }(gn)
);
const mTe = gTe;
var yTe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.ignoreStyleOnData = !0, t;
    }
    return e.prototype.getInitialData = function(t, i) {
      var a = {
        name: t.name,
        children: t.data
      };
      DZ(a);
      var n = this._levelModels = Je(t.levels || [], function(l) {
        return new Vr(l, this, i);
      }, this), o = ak.createTree(a, this, s);
      function s(l) {
        l.wrapMethod("getItemModel", function(u, c) {
          var f = o.getNodeByDataIndex(c), d = n[f.depth];
          return d && (u.parentModel = d), u;
        });
      }
      return o.data;
    }, e.prototype.optionUpdated = function() {
      this.resetViewRoot();
    }, e.prototype.getDataParams = function(t) {
      var i = r.prototype.getDataParams.apply(this, arguments), a = this.getData().tree.getNodeByDataIndex(t);
      return i.treePathInfo = GS(a, this), i;
    }, e.prototype.getLevelModel = function(t) {
      return this._levelModels && this._levelModels[t.depth];
    }, e.prototype.getViewRoot = function() {
      return this._viewRoot;
    }, e.prototype.resetViewRoot = function(t) {
      t ? this._viewRoot = t : t = this._viewRoot;
      var i = this.getRawData().tree.root;
      (!t || t !== i && !i.contains(t)) && (this._viewRoot = i);
    }, e.prototype.enableAriaDecal = function() {
      IK(this);
    }, e.type = "series.sunburst", e.defaultOption = {
      // zlevel: 0,
      z: 2,
      // 
      center: ["50%", "50%"],
      radius: [0, "75%"],
      // 
      clockwise: !0,
      startAngle: 90,
      // 0
      minAngle: 0,
      // If still show when all data zero.
      stillShowZeroSum: !0,
      // 'rootToNode', 'link', or false
      nodeClick: "rootToNode",
      renderLabelForZeroData: !1,
      label: {
        // could be: 'radial', 'tangential', or 'none'
        rotate: "radial",
        show: !0,
        opacity: 1,
        // 'left' is for inner side of inside, and 'right' is for outer
        // side for inside
        align: "center",
        position: "inside",
        distance: 5,
        silent: !0
      },
      itemStyle: {
        borderWidth: 1,
        borderColor: "white",
        borderType: "solid",
        shadowBlur: 0,
        shadowColor: "rgba(0, 0, 0, 0.2)",
        shadowOffsetX: 0,
        shadowOffsetY: 0,
        opacity: 1
      },
      emphasis: {
        focus: "descendant"
      },
      blur: {
        itemStyle: {
          opacity: 0.2
        },
        label: {
          opacity: 0.1
        }
      },
      // Animation type can be expansion, scale.
      animationType: "expansion",
      animationDuration: 1e3,
      animationDurationUpdate: 500,
      data: [],
      /**
       * Sort order.
       *
       * Valid values: 'desc', 'asc', null, or callback function.
       * 'desc' and 'asc' for descend and ascendant order;
       * null for not sorting;
       * example of callback function:
       * function(nodeA, nodeB) {
       *     return nodeA.getValue() - nodeB.getValue();
       * }
       */
      sort: "desc"
    }, e;
  }(En)
);
function DZ(r) {
  var e = 0;
  J(r.children, function(i) {
    DZ(i);
    var a = i.value;
    Ke(a) && (a = a[0]), e += a;
  });
  var t = r.value;
  Ke(t) && (t = t[0]), (t == null || isNaN(t)) && (t = e), t < 0 && (t = 0), Ke(r.value) ? r.value[0] = t : r.value = t;
}
const _Te = yTe;
var fV = Math.PI / 180;
function bTe(r, e, t) {
  e.eachSeriesByType(r, function(i) {
    var a = i.get("center"), n = i.get("radius");
    Ke(n) || (n = [0, n]), Ke(a) || (a = [a, a]);
    var o = t.getWidth(), s = t.getHeight(), l = Math.min(o, s), u = gt(a[0], o), c = gt(a[1], s), f = gt(n[0], l / 2), d = gt(n[1], l / 2), p = -i.get("startAngle") * fV, v = i.get("minAngle") * fV, y = i.getData().tree.root, _ = i.getViewRoot(), w = _.depth, S = i.get("sort");
    S != null && kZ(_, S);
    var x = 0;
    J(_.children, function(se) {
      !isNaN(se.getValue()) && x++;
    });
    var E = _.getValue(), M = Math.PI / (E || x) * 2, k = _.depth > 0, P = _.height - (k ? -1 : 1), L = (d - f) / (P || 1), F = i.get("clockwise"), O = i.get("stillShowZeroSum"), U = F ? 1 : -1, V = function(se, de) {
      if (se) {
        var le = de;
        if (se !== y) {
          var Se = se.getValue(), he = E === 0 && O ? M : Se * M;
          he < v && (he = v), le = de + U * he;
          var fe = se.depth - w - (k ? -1 : 1), K = f + L * fe, we = f + L * (fe + 1), ve = i.getLevelModel(se);
          if (ve) {
            var De = ve.get("r0", !0), Ie = ve.get("r", !0), q = ve.get("radius", !0);
            q != null && (De = q[0], Ie = q[1]), De != null && (K = gt(De, l / 2)), Ie != null && (we = gt(Ie, l / 2));
          }
          se.setLayout({
            angle: he,
            startAngle: de,
            endAngle: le,
            clockwise: F,
            cx: u,
            cy: c,
            r0: K,
            r: we
          });
        }
        if (se.children && se.children.length) {
          var re = 0;
          J(se.children, function(be) {
            re += V(be, de + re);
          });
        }
        return le - de;
      }
    };
    if (k) {
      var G = f, Z = f + L, Q = Math.PI * 2;
      y.setLayout({
        angle: Q,
        startAngle: p,
        endAngle: p + Q,
        clockwise: F,
        cx: u,
        cy: c,
        r0: G,
        r: Z
      });
    }
    V(_, p);
  });
}
function kZ(r, e) {
  var t = r.children || [];
  r.children = wTe(t, e), t.length && J(r.children, function(i) {
    kZ(i, e);
  });
}
function wTe(r, e) {
  if (Bt(e)) {
    var t = Je(r, function(a, n) {
      var o = a.getValue();
      return {
        params: {
          depth: a.depth,
          height: a.height,
          dataIndex: a.dataIndex,
          getValue: function() {
            return o;
          }
        },
        index: n
      };
    });
    return t.sort(function(a, n) {
      return e(a.params, n.params);
    }), Je(t, function(a) {
      return r[a.index];
    });
  } else {
    var i = e === "asc";
    return r.sort(function(a, n) {
      var o = (a.getValue() - n.getValue()) * (i ? 1 : -1);
      return o === 0 ? (a.dataIndex - n.dataIndex) * (i ? -1 : 1) : o;
    });
  }
}
function STe(r) {
  var e = {};
  function t(i, a, n) {
    if (i.depth === 0)
      return Ve.color.neutral50;
    for (var o = i; o && o.depth > 1; )
      o = o.parentNode;
    var s = a.getColorFromPalette(o.name || o.dataIndex + "", e);
    return i.depth > 1 && vt(s) && (s = N_(s, (i.depth - 1) / (n - 1) * 0.5)), s;
  }
  r.eachSeriesByType("sunburst", function(i) {
    var a = i.getData(), n = a.tree;
    n.eachNode(function(o) {
      var s = o.getModel(), l = s.getModel("itemStyle").getItemStyle();
      l.fill || (l.fill = t(o, i, n.root.height));
      var u = a.ensureUniqueItemVisual(o.dataIndex, "style");
      $e(u, l);
    });
  });
}
function xTe(r) {
  r.registerChartView(mTe), r.registerSeriesModel(_Te), r.registerLayout(fr(bTe, "sunburst")), r.registerProcessor(fr(Y0, "sunburst")), r.registerVisual(STe), vTe(r);
}
var dV = {
  color: "fill",
  borderColor: "stroke"
}, TTe = {
  symbol: 1,
  symbolSize: 1,
  symbolKeepAspect: 1,
  legendIcon: 1,
  visualMeta: 1,
  liftZ: 1,
  decal: 1
}, Du = Ar(), CTe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.optionUpdated = function() {
      this.currentZLevel = this.get("zlevel", !0), this.currentZ = this.get("z", !0);
    }, e.prototype.getInitialData = function(t, i) {
      return Bl(null, this);
    }, e.prototype.getDataParams = function(t, i, a) {
      var n = r.prototype.getDataParams.call(this, t, i);
      return a && (n.info = Du(a).info), n;
    }, e.type = "series.custom", e.dependencies = ["grid", "polar", "geo", "singleAxis", "calendar", "matrix"], e.defaultOption = {
      coordinateSystem: "cartesian2d",
      // zlevel: 0,
      z: 2,
      legendHoverLink: !0,
      // Custom series will not clip by default.
      // Some case will use custom series to draw label
      // For example https://echarts.apache.org/examples/en/editor.html?c=custom-gantt-flight
      clip: !1
      // Cartesian coordinate system
      // xAxisIndex: 0,
      // yAxisIndex: 0,
      // Polar coordinate system
      // polarIndex: 0,
      // Geo coordinate system
      // geoIndex: 0,
    }, e;
  }(En)
);
const ATe = CTe;
function ETe(r, e) {
  return e = e || [0, 0], Je(["x", "y"], function(t, i) {
    var a = this.getAxis(t), n = e[i], o = r[i] / 2;
    return a.type === "category" ? a.getBandWidth() : Math.abs(a.dataToCoord(n - o) - a.dataToCoord(n + o));
  }, this);
}
function DTe(r) {
  var e = r.master.getRect();
  return {
    coordSys: {
      // The name exposed to user is always 'cartesian2d' but not 'grid'.
      type: "cartesian2d",
      x: e.x,
      y: e.y,
      width: e.width,
      height: e.height
    },
    api: {
      coord: function(t) {
        return r.dataToPoint(t);
      },
      size: mt(ETe, r)
    }
  };
}
function kTe(r, e) {
  return e = e || [0, 0], Je([0, 1], function(t) {
    var i = e[t], a = r[t] / 2, n = [], o = [];
    return n[t] = i - a, o[t] = i + a, n[1 - t] = o[1 - t] = e[1 - t], Math.abs(this.dataToPoint(n)[t] - this.dataToPoint(o)[t]);
  }, this);
}
function MTe(r) {
  var e = r.getBoundingRect();
  return {
    coordSys: {
      type: "geo",
      x: e.x,
      y: e.y,
      width: e.width,
      height: e.height,
      zoom: r.getZoom()
    },
    api: {
      coord: function(t) {
        return r.dataToPoint(t);
      },
      size: mt(kTe, r)
    }
  };
}
function ITe(r, e) {
  var t = this.getAxis(), i = e instanceof Array ? e[0] : e, a = (r instanceof Array ? r[0] : r) / 2;
  return t.type === "category" ? t.getBandWidth() : Math.abs(t.dataToCoord(i - a) - t.dataToCoord(i + a));
}
function PTe(r) {
  var e = r.getRect();
  return {
    coordSys: {
      type: "singleAxis",
      x: e.x,
      y: e.y,
      width: e.width,
      height: e.height
    },
    api: {
      coord: function(t) {
        return r.dataToPoint(t);
      },
      size: mt(ITe, r)
    }
  };
}
function RTe(r, e) {
  return e = e || [0, 0], Je(["Radius", "Angle"], function(t, i) {
    var a = "get" + t + "Axis", n = this[a](), o = e[i], s = r[i] / 2, l = n.type === "category" ? n.getBandWidth() : Math.abs(n.dataToCoord(o - s) - n.dataToCoord(o + s));
    return t === "Angle" && (l = l * Math.PI / 180), l;
  }, this);
}
function LTe(r) {
  var e = r.getRadiusAxis(), t = r.getAngleAxis(), i = e.getExtent();
  return i[0] > i[1] && i.reverse(), {
    coordSys: {
      type: "polar",
      cx: r.cx,
      cy: r.cy,
      r: i[1],
      r0: i[0]
    },
    api: {
      coord: function(a) {
        var n = e.dataToRadius(a[0]), o = t.dataToAngle(a[1]), s = r.coordToPoint([n, o]);
        return s.push(n, o * Math.PI / 180), s;
      },
      size: mt(RTe, r)
    }
  };
}
function OTe(r) {
  var e = r.getRect(), t = r.getRangeInfo();
  return {
    coordSys: {
      type: "calendar",
      x: e.x,
      y: e.y,
      width: e.width,
      height: e.height,
      cellWidth: r.getCellWidth(),
      cellHeight: r.getCellHeight(),
      rangeInfo: {
        start: t.start,
        end: t.end,
        weeks: t.weeks,
        dayCount: t.allDay
      }
    },
    api: {
      coord: function(i, a) {
        return r.dataToPoint(i, a);
      },
      layout: function(i, a) {
        return r.dataToLayout(i, a);
      }
    }
  };
}
function FTe(r) {
  var e = r.getRect();
  return {
    coordSys: {
      type: "matrix",
      x: e.x,
      y: e.y,
      width: e.width,
      height: e.height
    },
    api: {
      coord: function(t, i) {
        return r.dataToPoint(t, i);
      },
      layout: function(t, i) {
        return r.dataToLayout(t, i);
      }
    }
  };
}
var pV = {};
function MZ(r, e, t, i) {
  return r && (r.legacy || r.legacy !== !1 && !t && !i && e !== "tspan" && (e === "text" || xt(r, "text")));
}
function IZ(r, e, t) {
  var i = r, a, n, o;
  if (e === "text")
    o = i;
  else {
    o = {}, xt(i, "text") && (o.text = i.text), xt(i, "rich") && (o.rich = i.rich), xt(i, "textFill") && (o.fill = i.textFill), xt(i, "textStroke") && (o.stroke = i.textStroke), xt(i, "fontFamily") && (o.fontFamily = i.fontFamily), xt(i, "fontSize") && (o.fontSize = i.fontSize), xt(i, "fontStyle") && (o.fontStyle = i.fontStyle), xt(i, "fontWeight") && (o.fontWeight = i.fontWeight), n = {
      type: "text",
      style: o,
      // ec4 does not support rectText trigger.
      // And when text position is different in normal and emphasis
      // => hover text trigger emphasis;
      // => text position changed, leave mouse pointer immediately;
      // That might cause incorrect state.
      silent: !0
    }, a = {};
    var s = xt(i, "textPosition");
    t ? a.position = s ? i.textPosition : "inside" : s && (a.position = i.textPosition), xt(i, "textPosition") && (a.position = i.textPosition), xt(i, "textOffset") && (a.offset = i.textOffset), xt(i, "textRotation") && (a.rotation = i.textRotation), xt(i, "textDistance") && (a.distance = i.textDistance);
  }
  return vV(o, r), J(o.rich, function(l) {
    vV(l, l);
  }), {
    textConfig: a,
    textContent: n
  };
}
function vV(r, e) {
  e && (e.font = e.textFont || e.font, xt(e, "textStrokeWidth") && (r.lineWidth = e.textStrokeWidth), xt(e, "textAlign") && (r.align = e.textAlign), xt(e, "textVerticalAlign") && (r.verticalAlign = e.textVerticalAlign), xt(e, "textLineHeight") && (r.lineHeight = e.textLineHeight), xt(e, "textWidth") && (r.width = e.textWidth), xt(e, "textHeight") && (r.height = e.textHeight), xt(e, "textBackgroundColor") && (r.backgroundColor = e.textBackgroundColor), xt(e, "textPadding") && (r.padding = e.textPadding), xt(e, "textBorderColor") && (r.borderColor = e.textBorderColor), xt(e, "textBorderWidth") && (r.borderWidth = e.textBorderWidth), xt(e, "textBorderRadius") && (r.borderRadius = e.textBorderRadius), xt(e, "textBoxShadowColor") && (r.shadowColor = e.textBoxShadowColor), xt(e, "textBoxShadowBlur") && (r.shadowBlur = e.textBoxShadowBlur), xt(e, "textBoxShadowOffsetX") && (r.shadowOffsetX = e.textBoxShadowOffsetX), xt(e, "textBoxShadowOffsetY") && (r.shadowOffsetY = e.textBoxShadowOffsetY));
}
function gV(r, e, t) {
  var i = r;
  i.textPosition = i.textPosition || t.position || "inside", t.offset != null && (i.textOffset = t.offset), t.rotation != null && (i.textRotation = t.rotation), t.distance != null && (i.textDistance = t.distance);
  var a = i.textPosition.indexOf("inside") >= 0, n = r.fill || Ve.color.neutral99;
  mV(i, e);
  var o = i.textFill == null;
  return a ? o && (i.textFill = t.insideFill || Ve.color.neutral00, !i.textStroke && t.insideStroke && (i.textStroke = t.insideStroke), !i.textStroke && (i.textStroke = n), i.textStrokeWidth == null && (i.textStrokeWidth = 2)) : (o && (i.textFill = r.fill || t.outsideFill || Ve.color.neutral00), !i.textStroke && t.outsideStroke && (i.textStroke = t.outsideStroke)), i.text = e.text, i.rich = e.rich, J(e.rich, function(s) {
    mV(s, s);
  }), i;
}
function mV(r, e) {
  e && (xt(e, "fill") && (r.textFill = e.fill), xt(e, "stroke") && (r.textStroke = e.fill), xt(e, "lineWidth") && (r.textStrokeWidth = e.lineWidth), xt(e, "font") && (r.font = e.font), xt(e, "fontStyle") && (r.fontStyle = e.fontStyle), xt(e, "fontWeight") && (r.fontWeight = e.fontWeight), xt(e, "fontSize") && (r.fontSize = e.fontSize), xt(e, "fontFamily") && (r.fontFamily = e.fontFamily), xt(e, "align") && (r.textAlign = e.align), xt(e, "verticalAlign") && (r.textVerticalAlign = e.verticalAlign), xt(e, "lineHeight") && (r.textLineHeight = e.lineHeight), xt(e, "width") && (r.textWidth = e.width), xt(e, "height") && (r.textHeight = e.height), xt(e, "backgroundColor") && (r.textBackgroundColor = e.backgroundColor), xt(e, "padding") && (r.textPadding = e.padding), xt(e, "borderColor") && (r.textBorderColor = e.borderColor), xt(e, "borderWidth") && (r.textBorderWidth = e.borderWidth), xt(e, "borderRadius") && (r.textBorderRadius = e.borderRadius), xt(e, "shadowColor") && (r.textBoxShadowColor = e.shadowColor), xt(e, "shadowBlur") && (r.textBoxShadowBlur = e.shadowBlur), xt(e, "shadowOffsetX") && (r.textBoxShadowOffsetX = e.shadowOffsetX), xt(e, "shadowOffsetY") && (r.textBoxShadowOffsetY = e.shadowOffsetY), xt(e, "textShadowColor") && (r.textShadowColor = e.textShadowColor), xt(e, "textShadowBlur") && (r.textShadowBlur = e.textShadowBlur), xt(e, "textShadowOffsetX") && (r.textShadowOffsetX = e.textShadowOffsetX), xt(e, "textShadowOffsetY") && (r.textShadowOffsetY = e.textShadowOffsetY));
}
function yV(r, e) {
  if (process.env.NODE_ENV !== "production") {
    var t = r + "^_^" + e;
    pV[t] || (console.warn('[ECharts] DEPRECATED: "' + r + '" has been deprecated. ' + e), pV[t] = !0);
  }
}
var PZ = {
  position: ["x", "y"],
  scale: ["scaleX", "scaleY"],
  origin: ["originX", "originY"]
}, _V = Ir(PZ), Ib = ls(kl, function(r, e) {
  return r[e] = 1, r;
}, {}), bV = kl.join(", "), Pb = ["", "style", "shape", "extra"], m0 = Ar();
function Ck(r, e, t, i, a) {
  var n = r + "Animation", o = L0(r, i, a) || {}, s = m0(e).userDuring;
  return o.duration > 0 && (o.during = s ? mt(GTe, {
    el: e,
    userDuring: s
  }) : null, o.setToFinal = !0, o.scope = r), $e(o, t[n]), o;
}
function c_(r, e, t, i) {
  i = i || {};
  var a = i.dataIndex, n = i.isInit, o = i.clearStyle, s = t.isAnimationEnabled(), l = m0(r), u = e.style;
  l.userDuring = e.during;
  var c = {}, f = {};
  if (WTe(r, e, f), r.type === "compound")
    for (var d = r.shape.paths, p = e.shape.paths, v = 0; v < p.length; v++) {
      var y = p[v];
      Z5("shape", y, d[v]);
    }
  else
    Z5("shape", e, f), Z5("extra", e, f);
  if (!n && s && (zTe(r, e, c), wV("shape", r, e, c), wV("extra", r, e, c), HTe(r, e, u, c)), f.style = u, NTe(r, f, o), VTe(r, e), s)
    if (n) {
      var _ = {};
      J(Pb, function(S) {
        var x = S ? e[S] : e;
        x && x.enterFrom && (S && (_[S] = _[S] || {}), $e(S ? _[S] : _, x.enterFrom));
      });
      var w = Ck("enter", r, e, t, a);
      w.duration > 0 && r.animateFrom(_, w);
    } else
      BTe(r, e, a || 0, t, c);
  RZ(r, e), u ? r.dirty() : r.markRedraw();
}
function RZ(r, e) {
  for (var t = m0(r).leaveToProps, i = 0; i < Pb.length; i++) {
    var a = Pb[i], n = a ? e[a] : e;
    n && n.leaveTo && (t || (t = m0(r).leaveToProps = {}), a && (t[a] = t[a] || {}), $e(a ? t[a] : t, n.leaveTo));
  }
}
function HS(r, e, t, i) {
  if (r) {
    var a = r.parent, n = m0(r).leaveToProps;
    if (n) {
      var o = Ck("update", r, e, t, 0);
      o.done = function() {
        a && a.remove(r), i && i();
      }, r.animateTo(n, o);
    } else
      a && a.remove(r), i && i();
  }
}
function qf(r) {
  return r === "all";
}
function NTe(r, e, t) {
  var i = e.style;
  if (!r.isGroup && i) {
    if (t) {
      r.useStyle({});
      for (var a = r.animators, n = 0; n < a.length; n++) {
        var o = a[n];
        o.targetName === "style" && o.changeTarget(r.style);
      }
    }
    r.setStyle(i);
  }
  e && (e.style = null, e && r.attr(e), e.style = i);
}
function BTe(r, e, t, i, a) {
  if (a) {
    var n = Ck("update", r, e, i, t);
    n.duration > 0 && r.animateFrom(a, n);
  }
}
function VTe(r, e) {
  xt(e, "silent") && (r.silent = e.silent), xt(e, "ignore") && (r.ignore = e.ignore), r instanceof cs && xt(e, "invisible") && (r.invisible = e.invisible), r instanceof Er && xt(e, "autoBatch") && (r.autoBatch = e.autoBatch);
}
var fl = {}, UTe = {
  // Usually other props do not need to be changed in animation during.
  setTransform: function(r, e) {
    return process.env.NODE_ENV !== "production" && kt(xt(Ib, r), "Only " + bV + " available in `setTransform`."), fl.el[r] = e, this;
  },
  getTransform: function(r) {
    return process.env.NODE_ENV !== "production" && kt(xt(Ib, r), "Only " + bV + " available in `getTransform`."), fl.el[r];
  },
  setShape: function(r, e) {
    process.env.NODE_ENV !== "production" && wp(r);
    var t = fl.el, i = t.shape || (t.shape = {});
    return i[r] = e, t.dirtyShape && t.dirtyShape(), this;
  },
  getShape: function(r) {
    process.env.NODE_ENV !== "production" && wp(r);
    var e = fl.el.shape;
    if (e)
      return e[r];
  },
  setStyle: function(r, e) {
    process.env.NODE_ENV !== "production" && wp(r);
    var t = fl.el, i = t.style;
    return i && (process.env.NODE_ENV !== "production" && Zi(e) && Yn("style." + r + " must not be assigned with NaN."), i[r] = e, t.dirtyStyle && t.dirtyStyle()), this;
  },
  getStyle: function(r) {
    process.env.NODE_ENV !== "production" && wp(r);
    var e = fl.el.style;
    if (e)
      return e[r];
  },
  setExtra: function(r, e) {
    process.env.NODE_ENV !== "production" && wp(r);
    var t = fl.el.extra || (fl.el.extra = {});
    return t[r] = e, this;
  },
  getExtra: function(r) {
    process.env.NODE_ENV !== "production" && wp(r);
    var e = fl.el.extra;
    if (e)
      return e[r];
  }
};
function wp(r) {
  if (process.env.NODE_ENV !== "production" && (r === "transition" || r === "enterFrom" || r === "leaveTo"))
    throw new Error('key must not be "' + r + '"');
}
function GTe() {
  var r = this, e = r.el;
  if (e) {
    var t = m0(e).userDuring, i = r.userDuring;
    if (t !== i) {
      r.el = r.userDuring = null;
      return;
    }
    fl.el = e, i(UTe);
  }
}
function wV(r, e, t, i) {
  var a = t[r];
  if (a) {
    var n = e[r], o;
    if (n) {
      var s = t.transition, l = a.transition;
      if (l)
        if (!o && (o = i[r] = {}), qf(l))
          $e(o, n);
        else
          for (var u = xn(l), c = 0; c < u.length; c++) {
            var f = u[c], d = n[f];
            o[f] = d;
          }
      else if (qf(s) || dr(s, r) >= 0) {
        !o && (o = i[r] = {});
        for (var p = Ir(n), c = 0; c < p.length; c++) {
          var f = p[c], d = n[f];
          $Te(a[f], d) && (o[f] = d);
        }
      }
    }
  }
}
function Z5(r, e, t) {
  var i = e[r];
  if (i)
    for (var a = t[r] = {}, n = Ir(i), o = 0; o < n.length; o++) {
      var s = n[o];
      a[s] = Hg(i[s]);
    }
}
function zTe(r, e, t) {
  for (var i = e.transition, a = qf(i) ? kl : xn(i || []), n = 0; n < a.length; n++) {
    var o = a[n];
    if (!(o === "style" || o === "shape" || o === "extra")) {
      var s = r[o];
      process.env.NODE_ENV !== "production" && LZ(o, "el.transition"), t[o] = s;
    }
  }
}
function WTe(r, e, t) {
  for (var i = 0; i < _V.length; i++) {
    var a = _V[i], n = PZ[a], o = e[a];
    o && (t[n[0]] = o[0], t[n[1]] = o[1]);
  }
  for (var i = 0; i < kl.length; i++) {
    var s = kl[i];
    e[s] != null && (t[s] = e[s]);
  }
}
function HTe(r, e, t, i) {
  if (t) {
    var a = r.style, n;
    if (a) {
      var o = t.transition, s = e.transition;
      if (o && !qf(o)) {
        var l = xn(o);
        !n && (n = i.style = {});
        for (var u = 0; u < l.length; u++) {
          var c = l[u], f = a[c];
          n[c] = f;
        }
      } else if (r.getAnimationStyleProps && (qf(s) || qf(o) || dr(s, "style") >= 0)) {
        var d = r.getAnimationStyleProps(), p = d ? d.style : null;
        if (p) {
          !n && (n = i.style = {});
          for (var v = Ir(t), u = 0; u < v.length; u++) {
            var c = v[u];
            if (p[c]) {
              var f = a[c];
              n[c] = f;
            }
          }
        }
      }
    }
  }
}
function $Te(r, e) {
  return ba(r) ? r !== e : r != null && isFinite(r);
}
var LZ;
process.env.NODE_ENV !== "production" && (LZ = function(r, e) {
  xt(Ib, r) || Yn("Prop `" + r + "` is not a permitted in `" + e + "`. Only `" + Ir(Ib).join("`, `") + "` are permitted.");
});
var OZ = Ar(), YTe = ["percent", "easing", "shape", "style", "extra"];
function FZ(r) {
  r.stopAnimation("keyframe"), r.attr(OZ(r));
}
function Rb(r, e, t) {
  if (!(!t.isAnimationEnabled() || !e)) {
    if (Ke(e)) {
      J(e, function(s) {
        Rb(r, s, t);
      });
      return;
    }
    var i = e.keyframes, a = e.duration;
    if (t && a == null) {
      var n = L0("enter", t, 0);
      a = n && n.duration;
    }
    if (!(!i || !a)) {
      var o = OZ(r);
      J(Pb, function(s) {
        if (!(s && !r[s])) {
          var l, u = !1;
          i.sort(function(c, f) {
            return c.percent - f.percent;
          }), J(i, function(c) {
            var f = r.animators, d = s ? c[s] : c;
            if (process.env.NODE_ENV !== "production" && c.percent >= 1 && (u = !0), !!d) {
              var p = Ir(d);
              if (s || (p = Xr(p, function(_) {
                return dr(YTe, _) < 0;
              })), !!p.length) {
                l || (l = r.animate(s, e.loop, !0), l.scope = "keyframe");
                for (var v = 0; v < f.length; v++)
                  f[v] !== l && f[v].targetName === l.targetName && f[v].stopTracks(p);
                s && (o[s] = o[s] || {});
                var y = s ? o[s] : o;
                J(p, function(_) {
                  y[_] = ((s ? r[s] : r) || {})[_];
                }), l.whenWithKeys(a * c.percent, d, p, c.easing);
              }
            }
          }), l && (process.env.NODE_ENV !== "production" && (u || Yn("End frame with percent: 1 is missing in the keyframeAnimation.", !0)), l.delay(e.delay || 0).duration(a).start(e.easing));
        }
      });
    }
  }
}
var ku = "emphasis", Oc = "normal", Ak = "blur", Ek = "select", rh = [Oc, ku, Ak, Ek], J5 = {
  normal: ["itemStyle"],
  emphasis: [ku, "itemStyle"],
  blur: [Ak, "itemStyle"],
  select: [Ek, "itemStyle"]
}, Q5 = {
  normal: ["label"],
  emphasis: [ku, "label"],
  blur: [Ak, "label"],
  select: [Ek, "label"]
}, jTe = ["x", "y"], qTe = "e\0\0", jo = {
  normal: {},
  emphasis: {},
  blur: {},
  select: {}
}, SV = {
  cartesian2d: DTe,
  geo: MTe,
  single: PTe,
  polar: LTe,
  calendar: OTe,
  matrix: FTe
};
function Lb(r) {
  return r instanceof Er;
}
function nE(r) {
  return r instanceof cs;
}
function XTe(r, e) {
  e.copyTransform(r), nE(e) && nE(r) && (e.setStyle(r.style), e.z = r.z, e.z2 = r.z2, e.zlevel = r.zlevel, e.invisible = r.invisible, e.ignore = r.ignore, Lb(e) && Lb(r) && e.setShape(r.shape));
}
var KTe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i, a, n) {
      this._progressiveEls = null;
      var o = this._data, s = t.getData(), l = this.group, u = xV(t, s, i, a);
      o || l.removeAll(), s.diff(o).add(function(f) {
        eT(a, null, f, u(f, n), t, l, s);
      }).remove(function(f) {
        var d = o.getItemGraphicEl(f);
        d && HS(d, Du(d).option, t);
      }).update(function(f, d) {
        var p = o.getItemGraphicEl(d);
        eT(a, p, f, u(f, n), t, l, s);
      }).execute();
      var c = t.get("clip", !0) ? fm(t.coordinateSystem, !1, t) : null;
      c ? l.setClipPath(c) : l.removeClipPath(), this._data = s;
    }, e.prototype.incrementalPrepareRender = function(t, i, a) {
      this.group.removeAll(), this._data = null;
    }, e.prototype.incrementalRender = function(t, i, a, n, o) {
      var s = i.getData(), l = xV(i, s, a, n), u = this._progressiveEls = [];
      function c(p) {
        p.isGroup || (p.incremental = !0, p.ensureState("emphasis").hoverLayer = !0);
      }
      for (var f = t.start; f < t.end; f++) {
        var d = eT(null, null, f, l(f, o), i, this.group, s);
        d && (d.traverse(c), u.push(d));
      }
    }, e.prototype.eachRendered = function(t) {
      fh(this._progressiveEls || this.group, t);
    }, e.prototype.filterForExposedEvent = function(t, i, a, n) {
      var o = i.element;
      if (o == null || a.name === o)
        return !0;
      for (; (a = a.__hostTarget || a.parent) && a !== this.group; )
        if (a.name === o)
          return !0;
      return !1;
    }, e.type = "custom", e;
  }(gn)
);
const ZTe = KTe;
function Dk(r) {
  var e = r.type, t;
  if (e === "path") {
    var i = r.shape, a = i.width != null && i.height != null ? {
      x: i.x || 0,
      y: i.y || 0,
      width: i.width,
      height: i.height
    } : null, n = VZ(i);
    t = l0(n, null, a, i.layout || "center"), Du(t).customPathData = n;
  } else if (e === "image")
    t = new ha({}), Du(t).customImagePath = r.style.image;
  else if (e === "text")
    t = new Br({});
  else if (e === "group")
    t = new Wt();
  else if (e === "compoundPath") {
    var i = r.shape;
    if (!i || !i.paths) {
      var o = "";
      process.env.NODE_ENV !== "production" && (o = "shape.paths must be specified in compoundPath"), en(o);
    }
    var s = Je(i.paths, function(c) {
      if (c.type === "path")
        return l0(c.shape.pathData, c, null);
      var f = p1(c.type);
      if (!f) {
        var d = "";
        process.env.NODE_ENV !== "production" && (d = 'graphic type "' + e + '" can not be found.'), en(d);
      }
      return new f();
    });
    t = new im({
      shape: {
        paths: s
      }
    });
  } else {
    var l = p1(e);
    if (!l) {
      var o = "";
      process.env.NODE_ENV !== "production" && (o = 'graphic type "' + e + '" can not be found.'), en(o);
    }
    t = new l();
  }
  return Du(t).customGraphicType = e, t.name = r.name, t.z2EmphasisLift = 1, t.z2SelectLift = 1, t;
}
function kk(r, e, t, i, a, n, o) {
  FZ(e);
  var s = a && a.normal.cfg;
  s && e.setTextConfig(s), i && i.transition == null && (i.transition = jTe);
  var l = i && i.style;
  if (l) {
    if (e.type === "text") {
      var u = l;
      xt(u, "textFill") && (u.fill = u.textFill), xt(u, "textStroke") && (u.stroke = u.textStroke);
    }
    var c = void 0, f = Lb(e) ? l.decal : null;
    r && f && (f.dirty = !0, c = h0(f, r)), l.__decalPattern = c;
  }
  if (nE(e) && l) {
    var c = l.__decalPattern;
    c && (l.decal = c);
  }
  c_(e, i, n, {
    dataIndex: t,
    isInit: o,
    clearStyle: !0
  }), Rb(e, i.keyframeAnimation, n);
}
function NZ(r, e, t, i, a) {
  var n = e.isGroup ? null : e, o = a && a[r].cfg;
  if (n) {
    var s = n.ensureState(r);
    if (i === !1) {
      var l = n.getState(r);
      l && (l.style = null);
    } else
      s.style = i || null;
    o && (s.textConfig = o), ed(n);
  }
}
function JTe(r, e, t) {
  if (!r.isGroup) {
    var i = r, a = t.currentZ, n = t.currentZLevel;
    i.z = a, i.zlevel = n;
    var o = e.z2;
    o != null && (i.z2 = o || 0);
    for (var s = 0; s < rh.length; s++)
      QTe(i, e, rh[s]);
  }
}
function QTe(r, e, t) {
  var i = t === Oc, a = i ? e : Ob(e, t), n = a ? a.z2 : null, o;
  n != null && (o = i ? r : r.ensureState(t), o.z2 = n || 0);
}
function xV(r, e, t, i) {
  var a = r.get("renderItem");
  if (typeof a == "string") {
    var n = Kge(a);
    n ? a = n : process.env.NODE_ENV !== "production" && console.warn("Custom series renderItem '" + a + `' not found.
                Call 'echarts.registerCustomSeries' to register it.`);
  }
  var o = r.coordinateSystem, s = {};
  o && (process.env.NODE_ENV !== "production" && (kt(a, "series.render is required."), kt(o.prepareCustoms || SV[o.type], "This coordSys does not support custom series.")), s = o.prepareCustoms ? o.prepareCustoms(o) : SV[o.type](o));
  for (var l = Yt({
    getWidth: i.getWidth,
    getHeight: i.getHeight,
    getZr: i.getZr,
    getDevicePixelRatio: i.getDevicePixelRatio,
    value: M,
    style: P,
    ordinalRawValue: k,
    styleEmphasis: L,
    visual: U,
    barLayout: V,
    currentSeriesIndices: G,
    font: Z
  }, s.api || {}), u = {
    // The life cycle of context: current round of rendering.
    // The global life cycle is probably not necessary, because
    // user can store global status by themselves.
    context: {},
    seriesId: r.id,
    seriesName: r.name,
    seriesIndex: r.seriesIndex,
    coordSys: s.coordSys,
    dataInsideLength: e.count(),
    encode: eCe(r.getData()),
    itemPayload: r.get("itemPayload") || {}
  }, c, f, d = {}, p = {}, v = {}, y = {}, _ = 0; _ < rh.length; _++) {
    var w = rh[_];
    v[w] = r.getModel(J5[w]), y[w] = r.getModel(Q5[w]);
  }
  function S(Q) {
    return Q === c ? f || (f = e.getItemModel(Q)) : e.getItemModel(Q);
  }
  function x(Q, se) {
    return e.hasItemOption ? Q === c ? d[se] || (d[se] = S(Q).getModel(J5[se])) : S(Q).getModel(J5[se]) : v[se];
  }
  function E(Q, se) {
    return e.hasItemOption ? Q === c ? p[se] || (p[se] = S(Q).getModel(Q5[se])) : S(Q).getModel(Q5[se]) : y[se];
  }
  return function(Q, se) {
    return c = Q, f = null, d = {}, p = {}, a && a(Yt({
      dataIndexInside: Q,
      dataIndex: e.getRawIndex(Q),
      // Can be used for optimization when zoom or roam.
      actionType: se ? se.type : null
    }, u), l);
  };
  function M(Q, se) {
    return se == null && (se = c), e.getStore().get(e.getDimensionIndex(Q || 0), se);
  }
  function k(Q, se) {
    se == null && (se = c), Q = Q || 0;
    var de = e.getDimensionInfo(Q);
    if (!de) {
      var le = e.getDimensionIndex(Q);
      return le >= 0 ? e.getStore().get(le, se) : void 0;
    }
    var Se = e.get(de.name, se), he = de && de.ordinalMeta;
    return he ? he.categories[Se] : Se;
  }
  function P(Q, se) {
    process.env.NODE_ENV !== "production" && yV("api.style", "Please write literal style directly instead."), se == null && (se = c);
    var de = e.getItemVisual(se, "style"), le = de && de.fill, Se = de && de.opacity, he = x(se, Oc).getItemStyle();
    le != null && (he.fill = le), Se != null && (he.opacity = Se);
    var fe = {
      inheritColor: vt(le) ? le : Ve.color.neutral99
    }, K = E(se, Oc), we = Sn(K, null, fe, !1, !0);
    we.text = K.getShallow("show") ? It(r.getFormattedLabel(se, Oc), d0(e, se)) : null;
    var ve = X_(K, fe, !1);
    return O(Q, he), he = gV(he, we, ve), Q && F(he, Q), he.legacy = !0, he;
  }
  function L(Q, se) {
    process.env.NODE_ENV !== "production" && yV("api.styleEmphasis", "Please write literal style directly instead."), se == null && (se = c);
    var de = x(se, ku).getItemStyle(), le = E(se, ku), Se = Sn(le, null, null, !0, !0);
    Se.text = le.getShallow("show") ? Ba(r.getFormattedLabel(se, ku), r.getFormattedLabel(se, Oc), d0(e, se)) : null;
    var he = X_(le, null, !0);
    return O(Q, de), de = gV(de, Se, he), Q && F(de, Q), de.legacy = !0, de;
  }
  function F(Q, se) {
    for (var de in se)
      xt(se, de) && (Q[de] = se[de]);
  }
  function O(Q, se) {
    Q && (Q.textFill && (se.textFill = Q.textFill), Q.textPosition && (se.textPosition = Q.textPosition));
  }
  function U(Q, se) {
    if (se == null && (se = c), xt(dV, Q)) {
      var de = e.getItemVisual(se, "style");
      return de ? de[dV[Q]] : null;
    }
    if (xt(TTe, Q))
      return e.getItemVisual(se, Q);
  }
  function V(Q) {
    if (o.type === "cartesian2d") {
      var se = o.getBaseAxis();
      return ime(Yt({
        axis: se
      }, Q));
    }
  }
  function G() {
    return t.getCurrentSeriesIndices();
  }
  function Z(Q) {
    return Q8(Q, t);
  }
}
function eCe(r) {
  var e = {};
  return J(r.dimensions, function(t) {
    var i = r.getDimensionInfo(t);
    if (!i.isExtraCoord) {
      var a = i.coordDim, n = e[a] = e[a] || [];
      n[i.coordDimIndex] = r.getDimensionIndex(t);
    }
  }), e;
}
function eT(r, e, t, i, a, n, o) {
  if (!i) {
    n.remove(e);
    return;
  }
  var s = Mk(r, e, t, i, a, n);
  return s && o.setItemGraphicEl(t, s), s && Wn(s, i.focus, i.blurScope, i.emphasisDisabled), s;
}
function Mk(r, e, t, i, a, n) {
  process.env.NODE_ENV !== "production" && kt(i, "should not have an null/undefined element setting");
  var o = -1, s = e;
  e && BZ(e, i, a) && (o = dr(n.childrenRef(), e), e = null);
  var l = !e, u = e;
  u ? u.clearStates() : (u = Dk(i), s && XTe(s, u)), i.morph === !1 ? u.disableMorphing = !0 : u.disableMorphing && (u.disableMorphing = !1), i.tooltipDisabled && (u.tooltipDisabled = !0), jo.normal.cfg = jo.normal.conOpt = jo.emphasis.cfg = jo.emphasis.conOpt = jo.blur.cfg = jo.blur.conOpt = jo.select.cfg = jo.select.conOpt = null, jo.isLegacy = !1, rCe(u, t, i, a, l, jo), tCe(u, t, i, a, l), kk(r, u, t, i, jo, a, l), xt(i, "info") && (Du(u).info = i.info);
  for (var c = 0; c < rh.length; c++) {
    var f = rh[c];
    if (f !== Oc) {
      var d = Ob(i, f), p = Ik(i, d, f);
      NZ(f, u, d, p, jo);
    }
  }
  return JTe(u, i, a), i.type === "group" && nCe(r, u, t, i, a), o >= 0 ? n.replaceAt(u, o) : n.add(u), u;
}
function BZ(r, e, t) {
  var i = Du(r), a = e.type, n = e.shape, o = e.style;
  return (
    // Always create new if universal transition is enabled.
    // Because we do transition after render. It needs to know what old element is. Replacement will loose it.
    t.isUniversalTransitionEnabled() || a != null && a !== i.customGraphicType || a === "path" && sCe(n) && VZ(n) !== i.customPathData || a === "image" && xt(o, "image") && o.image !== i.customImagePath
  );
}
function tCe(r, e, t, i, a) {
  var n = t.clipPath;
  if (n === !1)
    r && r.getClipPath() && r.removeClipPath();
  else if (n) {
    var o = r.getClipPath();
    o && BZ(o, n, i) && (o = null), o || (o = Dk(n), process.env.NODE_ENV !== "production" && kt(Lb(o), "Only any type of `path` can be used in `clipPath`, rather than " + o.type + "."), r.setClipPath(o)), kk(null, o, e, n, null, i, a);
  }
}
function rCe(r, e, t, i, a, n) {
  if (!(r.isGroup || r.type === "compoundPath")) {
    TV(t, null, n), TV(t, ku, n);
    var o = n.normal.conOpt, s = n.emphasis.conOpt, l = n.blur.conOpt, u = n.select.conOpt;
    if (o != null || s != null || u != null || l != null) {
      var c = r.getTextContent();
      if (o === !1)
        c && r.removeTextContent();
      else {
        o = n.normal.conOpt = o || {
          type: "text"
        }, c ? c.clearStates() : (c = Dk(o), r.setTextContent(c)), kk(null, c, e, o, null, i, a);
        for (var f = o && o.style, d = 0; d < rh.length; d++) {
          var p = rh[d];
          if (p !== Oc) {
            var v = n[p].conOpt;
            NZ(p, c, v, Ik(o, v, p), null);
          }
        }
        f ? c.dirty() : c.markRedraw();
      }
    }
  }
}
function TV(r, e, t) {
  var i = e ? Ob(r, e) : r, a = e ? Ik(r, i, ku) : r.style, n = r.type, o = i ? i.textConfig : null, s = r.textContent, l = s ? e ? Ob(s, e) : s : null;
  if (a && // Because emphasis style has little info to detect legacy,
  // if normal is legacy, emphasis is trade as legacy.
  (t.isLegacy || MZ(a, n, !!o, !!l))) {
    t.isLegacy = !0;
    var u = IZ(a, n, !e);
    !o && u.textConfig && (o = u.textConfig), !l && u.textContent && (l = u.textContent);
  }
  if (!e && l) {
    var c = l;
    !c.type && (c.type = "text"), process.env.NODE_ENV !== "production" && kt(c.type === "text", 'textContent.type must be "text"');
  }
  var f = e ? t[e] : t.normal;
  f.cfg = o, f.conOpt = l;
}
function Ob(r, e) {
  return e ? r ? r[e] : null : r;
}
function Ik(r, e, t) {
  var i = e && e.style;
  return i == null && t === ku && r && (i = r.styleEmphasis), i;
}
function nCe(r, e, t, i, a) {
  var n = i.children, o = n ? n.length : 0, s = i.$mergeChildren, l = s === "byName" || i.diffChildrenByName, u = s === !1;
  if (!(!o && !l && !u)) {
    if (l) {
      aCe({
        api: r,
        oldChildren: e.children() || [],
        newChildren: n || [],
        dataIndex: t,
        seriesModel: a,
        group: e
      });
      return;
    }
    u && e.removeAll();
    for (var c = 0; c < o; c++) {
      var f = n[c], d = e.childAt(c);
      f ? (f.ignore == null && (f.ignore = !1), Mk(r, d, t, f, a, e)) : (process.env.NODE_ENV !== "production" && kt(d, "renderItem should not return a group containing elements as null/undefined/{} if they do not exist before."), d.ignore = !0);
    }
    for (var p = e.childCount() - 1; p >= c; p--) {
      var v = e.childAt(p);
      iCe(e, v, a);
    }
  }
}
function iCe(r, e, t) {
  e && HS(e, Du(r).option, t);
}
function aCe(r) {
  new Gu(r.oldChildren, r.newChildren, CV, CV, r).add(AV).update(AV).remove(oCe).execute();
}
function CV(r, e) {
  var t = r && r.name;
  return t ?? qTe + e;
}
function AV(r, e) {
  var t = this.context, i = r != null ? t.newChildren[r] : null, a = e != null ? t.oldChildren[e] : null;
  Mk(t.api, a, t.dataIndex, i, t.seriesModel, t.group);
}
function oCe(r) {
  var e = this.context, t = e.oldChildren[r];
  t && HS(t, Du(t).option, e.seriesModel);
}
function VZ(r) {
  return r && (r.pathData || r.d);
}
function sCe(r) {
  return r && (xt(r, "pathData") || xt(r, "d"));
}
function lCe(r) {
  r.registerChartView(ZTe), r.registerSeriesModel(ATe);
}
var Tf = Ar(), EV = Gt, tT = mt, uCe = (
  /** @class */
  function() {
    function r() {
      this._dragging = !1, this.animationThreshold = 15;
    }
    return r.prototype.render = function(e, t, i, a) {
      var n = t.get("value"), o = t.get("status");
      if (this._axisModel = e, this._axisPointerModel = t, this._api = i, !(!a && this._lastValue === n && this._lastStatus === o)) {
        this._lastValue = n, this._lastStatus = o;
        var s = this._group, l = this._handle;
        if (!o || o === "hide") {
          s && s.hide(), l && l.hide();
          return;
        }
        s && s.show(), l && l.show();
        var u = {};
        this.makeElOption(u, n, e, t, i);
        var c = u.graphicKey;
        c !== this._lastGraphicKey && this.clear(i), this._lastGraphicKey = c;
        var f = this._moveAnimation = this.determineAnimation(e, t);
        if (!s)
          s = this._group = new Wt(), this.createPointerEl(s, u, e, t), this.createLabelEl(s, u, e, t), i.getZr().add(s);
        else {
          var d = fr(DV, t, f);
          this.updatePointerEl(s, u, d), this.updateLabelEl(s, u, d, t);
        }
        MV(s, t, !0), this._renderHandle(n);
      }
    }, r.prototype.remove = function(e) {
      this.clear(e);
    }, r.prototype.dispose = function(e) {
      this.clear(e);
    }, r.prototype.determineAnimation = function(e, t) {
      var i = t.get("animation"), a = e.axis, n = a.type === "category", o = t.get("snap");
      if (!o && !n)
        return !1;
      if (i === "auto" || i == null) {
        var s = this.animationThreshold;
        if (n && a.getBandWidth() > s)
          return !0;
        if (o) {
          var l = JD(e).seriesDataCount, u = a.getExtent();
          return Math.abs(u[0] - u[1]) / l > s;
        }
        return !1;
      }
      return i === !0;
    }, r.prototype.makeElOption = function(e, t, i, a, n) {
    }, r.prototype.createPointerEl = function(e, t, i, a) {
      var n = t.pointer;
      if (n) {
        var o = Tf(e).pointerEl = new wd[n.type](EV(t.pointer));
        e.add(o);
      }
    }, r.prototype.createLabelEl = function(e, t, i, a) {
      if (t.label) {
        var n = Tf(e).labelEl = new Br(EV(t.label));
        e.add(n), kV(n, a);
      }
    }, r.prototype.updatePointerEl = function(e, t, i) {
      var a = Tf(e).pointerEl;
      a && t.pointer && (a.setStyle(t.pointer.style), i(a, {
        shape: t.pointer.shape
      }));
    }, r.prototype.updateLabelEl = function(e, t, i, a) {
      var n = Tf(e).labelEl;
      n && (n.setStyle(t.label.style), i(n, {
        // Consider text length change in vertical axis, animation should
        // be used on shape, otherwise the effect will be weird.
        // TODOTODO
        // shape: elOption.label.shape,
        x: t.label.x,
        y: t.label.y
      }), kV(n, a));
    }, r.prototype._renderHandle = function(e) {
      if (!(this._dragging || !this.updateHandleTransform)) {
        var t = this._axisPointerModel, i = this._api.getZr(), a = this._handle, n = t.getModel("handle"), o = t.get("status");
        if (!n.get("show") || !o || o === "hide") {
          a && i.remove(a), this._handle = null;
          return;
        }
        var s;
        this._handle || (s = !0, a = this._handle = O0(n.get("icon"), {
          cursor: "move",
          draggable: !0,
          onmousemove: function(u) {
            Bu(u.event);
          },
          onmousedown: tT(this._onHandleDragMove, this, 0, 0),
          drift: tT(this._onHandleDragMove, this),
          ondragend: tT(this._onHandleDragEnd, this)
        }), i.add(a)), MV(a, t, !1), a.setStyle(n.getItemStyle(null, ["color", "borderColor", "borderWidth", "opacity", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"]));
        var l = n.get("size");
        Ke(l) || (l = [l, l]), a.scaleX = l[0] / 2, a.scaleY = l[1] / 2, G0(this, "_doDispatchAxisPointer", n.get("throttle") || 0, "fixRate"), this._moveHandleToValue(e, s);
      }
    }, r.prototype._moveHandleToValue = function(e, t) {
      DV(this._axisPointerModel, !t && this._moveAnimation, this._handle, rT(this.getHandleTransform(e, this._axisModel, this._axisPointerModel)));
    }, r.prototype._onHandleDragMove = function(e, t) {
      var i = this._handle;
      if (i) {
        this._dragging = !0;
        var a = this.updateHandleTransform(rT(i), [e, t], this._axisModel, this._axisPointerModel);
        this._payloadInfo = a, i.stopAnimation(), i.attr(rT(a)), Tf(i).lastProp = null, this._doDispatchAxisPointer();
      }
    }, r.prototype._doDispatchAxisPointer = function() {
      var e = this._handle;
      if (e) {
        var t = this._payloadInfo, i = this._axisModel;
        this._api.dispatchAction({
          type: "updateAxisPointer",
          x: t.cursorPoint[0],
          y: t.cursorPoint[1],
          tooltipOption: t.tooltipOption,
          axesInfo: [{
            axisDim: i.axis.dim,
            axisIndex: i.componentIndex
          }]
        });
      }
    }, r.prototype._onHandleDragEnd = function() {
      this._dragging = !1;
      var e = this._handle;
      if (e) {
        var t = this._axisPointerModel.get("value");
        this._moveHandleToValue(t), this._api.dispatchAction({
          type: "hideTip"
        });
      }
    }, r.prototype.clear = function(e) {
      this._lastValue = null, this._lastStatus = null;
      var t = e.getZr(), i = this._group, a = this._handle;
      t && i && (this._lastGraphicKey = null, i && t.remove(i), a && t.remove(a), this._group = null, this._handle = null, this._payloadInfo = null), y1(this, "_doDispatchAxisPointer");
    }, r.prototype.doClear = function() {
    }, r.prototype.buildLabel = function(e, t, i) {
      return i = i || 0, {
        x: e[i],
        y: e[1 - i],
        width: t[i],
        height: t[1 - i]
      };
    }, r;
  }()
);
function DV(r, e, t, i) {
  UZ(Tf(t).lastProp, i) || (Tf(t).lastProp = i, e ? Wr(t, i, r) : (t.stopAnimation(), t.attr(i)));
}
function UZ(r, e) {
  if (zt(r) && zt(e)) {
    var t = !0;
    return J(e, function(i, a) {
      t = t && UZ(r[a], i);
    }), !!t;
  } else
    return r === e;
}
function kV(r, e) {
  r[e.get(["label", "show"]) ? "show" : "hide"]();
}
function rT(r) {
  return {
    x: r.x || 0,
    y: r.y || 0,
    rotation: r.rotation || 0
  };
}
function MV(r, e, t) {
  var i = e.get("z"), a = e.get("zlevel");
  r && r.traverse(function(n) {
    n.type !== "group" && (i != null && (n.z = i), a != null && (n.zlevel = a), n.silent = t);
  });
}
const Pk = uCe;
function Rk(r) {
  var e = r.get("type"), t = r.getModel(e + "Style"), i;
  return e === "line" ? (i = t.getLineStyle(), i.fill = null) : e === "shadow" && (i = t.getAreaStyle(), i.stroke = null), i;
}
function GZ(r, e, t, i, a) {
  var n = t.get("value"), o = zZ(n, e.axis, e.ecModel, t.get("seriesDataIndices"), {
    precision: t.get(["label", "precision"]),
    formatter: t.get(["label", "formatter"])
  }), s = t.getModel("label"), l = B0(s.get("padding") || 0), u = s.getFont(), c = hS(o, u), f = a.position, d = c.width + l[1] + l[3], p = c.height + l[0] + l[2], v = a.align;
  v === "right" && (f[0] -= d), v === "center" && (f[0] -= d / 2);
  var y = a.verticalAlign;
  y === "bottom" && (f[1] -= p), y === "middle" && (f[1] -= p / 2), cCe(f, d, p, i);
  var _ = s.get("backgroundColor");
  (!_ || _ === "auto") && (_ = e.get(["axisLine", "lineStyle", "color"])), r.label = {
    // shape: {x: 0, y: 0, width: width, height: height, r: labelModel.get('borderRadius')},
    x: f[0],
    y: f[1],
    style: Sn(s, {
      text: o,
      font: u,
      fill: s.getTextColor(),
      padding: l,
      backgroundColor: _
    }),
    // Label should be over axisPointer.
    z2: 10
  };
}
function cCe(r, e, t, i) {
  var a = i.getWidth(), n = i.getHeight();
  r[0] = Math.min(r[0] + e, a) - e, r[1] = Math.min(r[1] + t, n) - t, r[0] = Math.max(r[0], 0), r[1] = Math.max(r[1], 0);
}
function zZ(r, e, t, i, a) {
  r = e.scale.parse(r);
  var n = e.scale.getLabel({
    value: r
  }, {
    // If `precision` is set, width can be fixed (like '12.00500'), which
    // helps to debounce when when moving label.
    precision: a.precision
  }), o = a.formatter;
  if (o) {
    var s = {
      value: db(e, {
        value: r
      }),
      axisDimension: e.dim,
      axisIndex: e.index,
      seriesData: []
    };
    J(i, function(l) {
      var u = t.getSeriesByIndex(l.seriesIndex), c = l.dataIndexInside, f = u && u.getDataParams(c);
      f && s.seriesData.push(f);
    }), vt(o) ? n = o.replace("{value}", n) : Bt(o) && (n = o(s));
  }
  return n;
}
function Lk(r, e, t) {
  var i = Ji();
  return ec(i, i, t.rotation), Bs(i, i, t.position), Fs([r.dataToCoord(e), (t.labelOffset || 0) + (t.labelDirection || 1) * (t.labelMargin || 0)], i);
}
function WZ(r, e, t, i, a, n) {
  var o = Wu.innerTextLayout(t.rotation, 0, t.labelDirection);
  t.labelMargin = a.get(["label", "margin"]), GZ(e, i, a, n, {
    position: Lk(i.axis, r, t),
    align: o.textAlign,
    verticalAlign: o.textVerticalAlign
  });
}
function Ok(r, e, t) {
  return t = t || 0, {
    x1: r[t],
    y1: r[1 - t],
    x2: e[t],
    y2: e[1 - t]
  };
}
function HZ(r, e, t) {
  return t = t || 0, {
    x: r[t],
    y: r[1 - t],
    width: e[t],
    height: e[1 - t]
  };
}
function IV(r, e, t, i, a, n) {
  return {
    cx: r,
    cy: e,
    r0: t,
    r: i,
    startAngle: a,
    endAngle: n,
    clockwise: !0
  };
}
var hCe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e.prototype.makeElOption = function(t, i, a, n, o) {
      var s = a.axis, l = s.grid, u = n.get("type"), c = PV(l, s).getOtherAxis(s).getGlobalExtent(), f = s.toGlobalCoord(s.dataToCoord(i, !0));
      if (u && u !== "none") {
        var d = Rk(n), p = fCe[u](s, f, c);
        p.style = d, t.graphicKey = p.type, t.pointer = p;
      }
      var v = Tb(l.getRect(), a);
      WZ(i, t, v, a, n, o);
    }, e.prototype.getHandleTransform = function(t, i, a) {
      var n = Tb(i.axis.grid.getRect(), i, {
        labelInside: !1
      });
      n.labelMargin = a.get(["handle", "margin"]);
      var o = Lk(i.axis, t, n);
      return {
        x: o[0],
        y: o[1],
        rotation: n.rotation + (n.labelDirection < 0 ? Math.PI : 0)
      };
    }, e.prototype.updateHandleTransform = function(t, i, a, n) {
      var o = a.axis, s = o.grid, l = o.getGlobalExtent(!0), u = PV(s, o).getOtherAxis(o).getGlobalExtent(), c = o.dim === "x" ? 0 : 1, f = [t.x, t.y];
      f[c] += i[c], f[c] = Math.min(l[1], f[c]), f[c] = Math.max(l[0], f[c]);
      var d = (u[1] + u[0]) / 2, p = [d, d];
      p[c] = f[c];
      var v = [{
        verticalAlign: "middle"
      }, {
        align: "center"
      }];
      return {
        x: f[0],
        y: f[1],
        rotation: t.rotation,
        cursorPoint: p,
        tooltipOption: v[c]
      };
    }, e;
  }(Pk)
);
function PV(r, e) {
  var t = {};
  return t[e.dim + "AxisIndex"] = e.index, r.getCartesian(t);
}
var fCe = {
  line: function(r, e, t) {
    var i = Ok([e, t[0]], [e, t[1]], RV(r));
    return {
      type: "Line",
      subPixelOptimize: !0,
      shape: i
    };
  },
  shadow: function(r, e, t) {
    var i = Math.max(1, r.getBandWidth()), a = t[1] - t[0];
    return {
      type: "Rect",
      shape: HZ([e - i / 2, t[0]], [i, a], RV(r))
    };
  }
};
function RV(r) {
  return r.dim === "x" ? 0 : 1;
}
const dCe = hCe;
var pCe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.type = "axisPointer", e.defaultOption = {
      // 'auto' means that show when triggered by tooltip or handle.
      show: "auto",
      // zlevel: 0,
      z: 50,
      type: "line",
      // axispointer triggered by tootip determine snap automatically,
      // see `modelHelper`.
      snap: !1,
      triggerTooltip: !0,
      triggerEmphasis: !0,
      value: null,
      status: null,
      link: [],
      // Do not set 'auto' here, otherwise global animation: false
      // will not effect at this axispointer.
      animation: null,
      animationDurationUpdate: 200,
      lineStyle: {
        color: Ve.color.border,
        width: 1,
        type: "dashed"
      },
      shadowStyle: {
        color: Ve.color.shadowTint
      },
      label: {
        show: !0,
        formatter: null,
        precision: "auto",
        margin: 3,
        color: Ve.color.neutral00,
        padding: [5, 7, 5, 7],
        backgroundColor: Ve.color.accent60,
        borderColor: null,
        borderWidth: 0,
        borderRadius: 3
      },
      handle: {
        show: !1,
        // eslint-disable-next-line
        icon: "M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",
        size: 45,
        // handle margin is from symbol center to axis, which is stable when circular move.
        margin: 50,
        // color: '#1b8bbd'
        // color: '#2f4554'
        color: Ve.color.accent40,
        // For mobile performance
        throttle: 40
      }
    }, e;
  }(Rr)
);
const vCe = pCe;
var bu = Ar(), gCe = J;
function $Z(r, e, t) {
  if (!qr.node) {
    var i = e.getZr();
    bu(i).records || (bu(i).records = {}), mCe(i, e);
    var a = bu(i).records[r] || (bu(i).records[r] = {});
    a.handler = t;
  }
}
function mCe(r, e) {
  if (bu(r).initialized)
    return;
  bu(r).initialized = !0, t("click", fr(LV, "click")), t("mousemove", fr(LV, "mousemove")), t("globalout", _Ce);
  function t(i, a) {
    r.on(i, function(n) {
      var o = bCe(e);
      gCe(bu(r).records, function(s) {
        s && a(s, n, o.dispatchAction);
      }), yCe(o.pendings, e);
    });
  }
}
function yCe(r, e) {
  var t = r.showTip.length, i = r.hideTip.length, a;
  t ? a = r.showTip[t - 1] : i && (a = r.hideTip[i - 1]), a && (a.dispatchAction = null, e.dispatchAction(a));
}
function _Ce(r, e, t) {
  r.handler("leave", null, t);
}
function LV(r, e, t, i) {
  e.handler(r, t, i);
}
function bCe(r) {
  var e = {
    showTip: [],
    hideTip: []
  }, t = function(i) {
    var a = e[i.type];
    a ? a.push(i) : (i.dispatchAction = t, r.dispatchAction(i));
  };
  return {
    dispatchAction: t,
    pendings: e
  };
}
function iE(r, e) {
  if (!qr.node) {
    var t = e.getZr(), i = (bu(t).records || {})[r];
    i && (bu(t).records[r] = null);
  }
}
var wCe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i, a) {
      var n = i.getComponent("tooltip"), o = t.get("triggerOn") || n && n.get("triggerOn") || "mousemove|click";
      $Z("axisPointer", a, function(s, l, u) {
        o !== "none" && (s === "leave" || o.indexOf(s) >= 0) && u({
          type: "updateAxisPointer",
          currTrigger: s,
          x: l && l.offsetX,
          y: l && l.offsetY
        });
      });
    }, e.prototype.remove = function(t, i) {
      iE("axisPointer", i);
    }, e.prototype.dispose = function(t, i) {
      iE("axisPointer", i);
    }, e.type = "axisPointer", e;
  }(Pn)
);
const SCe = wCe;
function YZ(r, e) {
  var t = [], i = r.seriesIndex, a;
  if (i == null || !(a = e.getSeriesByIndex(i)))
    return {
      point: []
    };
  var n = a.getData(), o = Jf(n, r);
  if (o == null || o < 0 || Ke(o))
    return {
      point: []
    };
  var s = n.getItemGraphicEl(o), l = a.coordinateSystem;
  if (a.getTooltipPosition)
    t = a.getTooltipPosition(o) || [];
  else if (l && l.dataToPoint)
    if (r.isStacked) {
      var u = l.getBaseAxis(), c = l.getOtherAxis(u), f = c.dim, d = u.dim, p = f === "x" || f === "radius" ? 1 : 0, v = n.mapDimension(d), y = [];
      y[p] = n.get(v, o), y[1 - p] = n.get(n.getCalculationInfo("stackResultDimension"), o), t = l.dataToPoint(y) || [];
    } else
      t = l.dataToPoint(n.getValues(Je(l.dimensions, function(w) {
        return n.mapDimension(w);
      }), o)) || [];
  else if (s) {
    var _ = s.getBoundingRect().clone();
    _.applyTransform(s.transform), t = [_.x + _.width / 2, _.y + _.height / 2];
  }
  return {
    point: t,
    el: s
  };
}
var OV = Ar();
function xCe(r, e, t) {
  var i = r.currTrigger, a = [r.x, r.y], n = r, o = r.dispatchAction || mt(t.dispatchAction, t), s = e.getComponent("axisPointer").coordSysAxesInfo;
  if (s) {
    h_(a) && (a = YZ({
      seriesIndex: n.seriesIndex,
      // Do not use dataIndexInside from other ec instance.
      // FIXME: auto detect it?
      dataIndex: n.dataIndex
    }, e).point);
    var l = h_(a), u = n.axesInfo, c = s.axesInfo, f = i === "leave" || h_(a), d = {}, p = {}, v = {
      list: [],
      map: {}
    }, y = {
      showPointer: fr(CCe, p),
      showTooltip: fr(ACe, v)
    };
    J(s.coordSysMap, function(w, S) {
      var x = l || w.containPoint(a);
      J(s.coordSysAxesInfo[S], function(E, M) {
        var k = E.axis, P = MCe(u, E);
        if (!f && x && (!u || P)) {
          var L = P && P.value;
          L == null && !l && (L = k.pointToData(a)), L != null && FV(E, L, y, !1, d);
        }
      });
    });
    var _ = {};
    return J(c, function(w, S) {
      var x = w.linkGroup;
      x && !p[S] && J(x.axesInfo, function(E, M) {
        var k = p[M];
        if (E !== w && k) {
          var P = k.value;
          x.mapper && (P = w.axis.scale.parse(x.mapper(P, NV(E), NV(w)))), _[w.key] = P;
        }
      });
    }), J(_, function(w, S) {
      FV(c[S], w, y, !0, d);
    }), ECe(p, c, d), DCe(v, a, r, o), kCe(c, o, t), d;
  }
}
function FV(r, e, t, i, a) {
  var n = r.axis;
  if (!(n.scale.isBlank() || !n.containData(e))) {
    if (!r.involveSeries) {
      t.showPointer(r, e);
      return;
    }
    var o = TCe(e, r), s = o.payloadBatch, l = o.snapToValue;
    s[0] && a.seriesIndex == null && $e(a, s[0]), !i && r.snap && n.containData(l) && l != null && (e = l), t.showPointer(r, e, s), t.showTooltip(r, o, l);
  }
}
function TCe(r, e) {
  var t = e.axis, i = t.dim, a = r, n = [], o = Number.MAX_VALUE, s = -1;
  return J(e.seriesModels, function(l, u) {
    var c = l.getData().mapDimensionsAll(i), f, d;
    if (l.getAxisTooltipData) {
      var p = l.getAxisTooltipData(c, r, t);
      d = p.dataIndices, f = p.nestestValue;
    } else {
      if (d = l.indicesOfNearest(
        i,
        c[0],
        r,
        // Add a threshold to avoid find the wrong dataIndex
        // when data length is not same.
        // false,
        t.type === "category" ? 0.5 : null
      ), !d.length)
        return;
      f = l.getData().get(c[0], d[0]);
    }
    if (!(f == null || !isFinite(f))) {
      var v = r - f, y = Math.abs(v);
      y <= o && ((y < o || v >= 0 && s < 0) && (o = y, s = v, a = f, n.length = 0), J(d, function(_) {
        n.push({
          seriesIndex: l.seriesIndex,
          dataIndexInside: _,
          dataIndex: l.getData().getRawIndex(_)
        });
      }));
    }
  }), {
    payloadBatch: n,
    snapToValue: a
  };
}
function CCe(r, e, t, i) {
  r[e.key] = {
    value: t,
    payloadBatch: i
  };
}
function ACe(r, e, t, i) {
  var a = t.payloadBatch, n = e.axis, o = n.model, s = e.axisPointerModel;
  if (!(!e.triggerTooltip || !a.length)) {
    var l = e.coordSys.model, u = E1(l), c = r.map[u];
    c || (c = r.map[u] = {
      coordSysId: l.id,
      coordSysIndex: l.componentIndex,
      coordSysType: l.type,
      coordSysMainType: l.mainType,
      dataByAxis: []
    }, r.list.push(c)), c.dataByAxis.push({
      axisDim: n.dim,
      axisIndex: o.componentIndex,
      axisType: o.type,
      axisId: o.id,
      value: i,
      // Caustion: viewHelper.getValueLabel is actually on "view stage", which
      // depends that all models have been updated. So it should not be performed
      // here. Considering axisPointerModel used here is volatile, which is hard
      // to be retrieve in TooltipView, we prepare parameters here.
      valueLabelOpt: {
        precision: s.get(["label", "precision"]),
        formatter: s.get(["label", "formatter"])
      },
      seriesDataIndices: a.slice()
    });
  }
}
function ECe(r, e, t) {
  var i = t.axesInfo = [];
  J(e, function(a, n) {
    var o = a.axisPointerModel.option, s = r[n];
    s ? (!a.useHandle && (o.status = "show"), o.value = s.value, o.seriesDataIndices = (s.payloadBatch || []).slice()) : !a.useHandle && (o.status = "hide"), o.status === "show" && i.push({
      axisDim: a.axis.dim,
      axisIndex: a.axis.model.componentIndex,
      value: o.value
    });
  });
}
function DCe(r, e, t, i) {
  if (h_(e) || !r.list.length) {
    i({
      type: "hideTip"
    });
    return;
  }
  var a = ((r.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};
  i({
    type: "showTip",
    escapeConnect: !0,
    x: e[0],
    y: e[1],
    tooltipOption: t.tooltipOption,
    position: t.position,
    dataIndexInside: a.dataIndexInside,
    dataIndex: a.dataIndex,
    seriesIndex: a.seriesIndex,
    dataByCoordSys: r.list
  });
}
function kCe(r, e, t) {
  var i = t.getZr(), a = "axisPointerLastHighlights", n = OV(i)[a] || {}, o = OV(i)[a] = {};
  J(r, function(u, c) {
    var f = u.axisPointerModel.option;
    f.status === "show" && u.triggerEmphasis && J(f.seriesDataIndices, function(d) {
      var p = d.seriesIndex + " | " + d.dataIndex;
      o[p] = d;
    });
  });
  var s = [], l = [];
  J(n, function(u, c) {
    !o[c] && l.push(u);
  }), J(o, function(u, c) {
    !n[c] && s.push(u);
  }), l.length && t.dispatchAction({
    type: "downplay",
    escapeConnect: !0,
    // Not blur others when highlight in axisPointer.
    notBlur: !0,
    batch: l
  }), s.length && t.dispatchAction({
    type: "highlight",
    escapeConnect: !0,
    // Not blur others when highlight in axisPointer.
    notBlur: !0,
    batch: s
  });
}
function MCe(r, e) {
  for (var t = 0; t < (r || []).length; t++) {
    var i = r[t];
    if (e.axis.dim === i.axisDim && e.axis.model.componentIndex === i.axisIndex)
      return i;
  }
}
function NV(r) {
  var e = r.axis.model, t = {}, i = t.axisDim = r.axis.dim;
  return t.axisIndex = t[i + "AxisIndex"] = e.componentIndex, t.axisName = t[i + "AxisName"] = e.name, t.axisId = t[i + "AxisId"] = e.id, t;
}
function h_(r) {
  return !r || r[0] == null || isNaN(r[0]) || r[1] == null || isNaN(r[1]);
}
function vm(r) {
  Dd.registerAxisPointerClass("CartesianAxisPointer", dCe), r.registerComponentModel(vCe), r.registerComponentView(SCe), r.registerPreprocessor(function(e) {
    if (e) {
      (!e.axisPointer || e.axisPointer.length === 0) && (e.axisPointer = {});
      var t = e.axisPointer.link;
      t && !Ke(t) && (e.axisPointer.link = [t]);
    }
  }), r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC, function(e, t) {
    e.getComponent("axisPointer").coordSysAxesInfo = obe(e, t);
  }), r.registerAction({
    type: "updateAxisPointer",
    event: "updateAxisPointer",
    update: ":updateAxisPointer"
  }, xCe);
}
function ICe(r) {
  _r(dK), _r(vm);
}
var PCe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e.prototype.makeElOption = function(t, i, a, n, o) {
      var s = a.axis;
      s.dim === "angle" && (this.animationThreshold = Math.PI / 18);
      var l = s.polar, u = l.getOtherAxis(s), c = u.getExtent(), f = s.dataToCoord(i), d = n.get("type");
      if (d && d !== "none") {
        var p = Rk(n), v = LCe[d](s, l, f, c);
        v.style = p, t.graphicKey = v.type, t.pointer = v;
      }
      var y = n.get(["label", "margin"]), _ = RCe(i, a, n, l, y);
      GZ(t, a, n, o, _);
    }, e;
  }(Pk)
);
function RCe(r, e, t, i, a) {
  var n = e.axis, o = n.dataToCoord(r), s = i.getAngleAxis().getExtent()[0];
  s = s / 180 * Math.PI;
  var l = i.getRadiusAxis().getExtent(), u, c, f;
  if (n.dim === "radius") {
    var d = Ji();
    ec(d, d, s), Bs(d, d, [i.cx, i.cy]), u = Fs([o, -a], d);
    var p = e.getModel("axisLabel").get("rotate") || 0, v = Wu.innerTextLayout(s, p * Math.PI / 180, -1);
    c = v.textAlign, f = v.textVerticalAlign;
  } else {
    var y = l[1];
    u = i.coordToPoint([y + a, o]);
    var _ = i.cx, w = i.cy;
    c = Math.abs(u[0] - _) / y < 0.3 ? "center" : u[0] > _ ? "left" : "right", f = Math.abs(u[1] - w) / y < 0.3 ? "middle" : u[1] > w ? "top" : "bottom";
  }
  return {
    position: u,
    align: c,
    verticalAlign: f
  };
}
var LCe = {
  line: function(r, e, t, i) {
    return r.dim === "angle" ? {
      type: "Line",
      shape: Ok(e.coordToPoint([i[0], t]), e.coordToPoint([i[1], t]))
    } : {
      type: "Circle",
      shape: {
        cx: e.cx,
        cy: e.cy,
        r: t
      }
    };
  },
  shadow: function(r, e, t, i) {
    var a = Math.max(1, r.getBandWidth()), n = Math.PI / 180;
    return r.dim === "angle" ? {
      type: "Sector",
      shape: IV(
        e.cx,
        e.cy,
        i[0],
        i[1],
        // In ECharts y is negative if angle is positive
        (-t - a / 2) * n,
        (-t + a / 2) * n
      )
    } : {
      type: "Sector",
      shape: IV(e.cx, e.cy, t - a / 2, t + a / 2, 0, Math.PI * 2)
    };
  }
};
const OCe = PCe;
var FCe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.findAxisModel = function(t) {
      var i, a = this.ecModel;
      return a.eachComponent(t, function(n) {
        n.getCoordSysModel() === this && (i = n);
      }, this), i;
    }, e.type = "polar", e.dependencies = ["radiusAxis", "angleAxis"], e.defaultOption = {
      // zlevel: 0,
      z: 0,
      center: ["50%", "50%"],
      radius: "80%"
    }, e;
  }(Rr)
);
const NCe = FCe;
var Fk = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e.prototype.getCoordSysModel = function() {
      return this.getReferringComponents("polar", ri).models[0];
    }, e.type = "polarAxis", e;
  }(Rr)
);
ci(Fk, $0);
var BCe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.type = "angleAxis", e;
  }(Fk)
), VCe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.type = "radiusAxis", e;
  }(Fk)
), Nk = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i) {
      return r.call(this, "radius", t, i) || this;
    }
    return e.prototype.pointToData = function(t, i) {
      return this.polar.pointToData(t, i)[this.dim === "radius" ? 0 : 1];
    }, e;
  }(ps)
);
Nk.prototype.dataToRadius = ps.prototype.dataToCoord;
Nk.prototype.radiusToData = ps.prototype.coordToData;
const UCe = Nk;
var GCe = Ar(), Bk = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i) {
      return r.call(this, "angle", t, i || [0, 360]) || this;
    }
    return e.prototype.pointToData = function(t, i) {
      return this.polar.pointToData(t, i)[this.dim === "radius" ? 0 : 1];
    }, e.prototype.calculateCategoryInterval = function() {
      var t = this, i = t.getLabelModel(), a = t.scale, n = a.getExtent(), o = a.count();
      if (n[1] - n[0] < 1)
        return 0;
      var s = n[0], l = t.dataToCoord(s + 1) - t.dataToCoord(s), u = Math.abs(l), c = hS(s == null ? "" : s + "", i.getFont(), "center", "top"), f = Math.max(c.height, 7), d = f / u;
      isNaN(d) && (d = 1 / 0);
      var p = Math.max(0, Math.floor(d)), v = GCe(t.model), y = v.lastAutoInterval, _ = v.lastTickCount;
      return y != null && _ != null && Math.abs(y - p) <= 1 && Math.abs(_ - o) <= 1 && y > p ? p = y : (v.lastTickCount = o, v.lastAutoInterval = p), p;
    }, e;
  }(ps)
);
Bk.prototype.dataToAngle = ps.prototype.dataToCoord;
Bk.prototype.angleToData = ps.prototype.coordToData;
const zCe = Bk;
var jZ = ["radius", "angle"], WCe = (
  /** @class */
  function() {
    function r(e) {
      this.dimensions = jZ, this.type = "polar", this.cx = 0, this.cy = 0, this._radiusAxis = new UCe(), this._angleAxis = new zCe(), this.axisPointerEnabled = !0, this.name = e || "", this._radiusAxis.polar = this._angleAxis.polar = this;
    }
    return r.prototype.containPoint = function(e) {
      var t = this.pointToCoord(e);
      return this._radiusAxis.contain(t[0]) && this._angleAxis.contain(t[1]);
    }, r.prototype.containData = function(e) {
      return this._radiusAxis.containData(e[0]) && this._angleAxis.containData(e[1]);
    }, r.prototype.getAxis = function(e) {
      var t = "_" + e + "Axis";
      return this[t];
    }, r.prototype.getAxes = function() {
      return [this._radiusAxis, this._angleAxis];
    }, r.prototype.getAxesByScale = function(e) {
      var t = [], i = this._angleAxis, a = this._radiusAxis;
      return i.scale.type === e && t.push(i), a.scale.type === e && t.push(a), t;
    }, r.prototype.getAngleAxis = function() {
      return this._angleAxis;
    }, r.prototype.getRadiusAxis = function() {
      return this._radiusAxis;
    }, r.prototype.getOtherAxis = function(e) {
      var t = this._angleAxis;
      return e === t ? this._radiusAxis : t;
    }, r.prototype.getBaseAxis = function() {
      return this.getAxesByScale("ordinal")[0] || this.getAxesByScale("time")[0] || this.getAngleAxis();
    }, r.prototype.getTooltipAxes = function(e) {
      var t = e != null && e !== "auto" ? this.getAxis(e) : this.getBaseAxis();
      return {
        baseAxes: [t],
        otherAxes: [this.getOtherAxis(t)]
      };
    }, r.prototype.dataToPoint = function(e, t, i) {
      return this.coordToPoint([this._radiusAxis.dataToRadius(e[0], t), this._angleAxis.dataToAngle(e[1], t)], i);
    }, r.prototype.pointToData = function(e, t, i) {
      i = i || [];
      var a = this.pointToCoord(e);
      return i[0] = this._radiusAxis.radiusToData(a[0], t), i[1] = this._angleAxis.angleToData(a[1], t), i;
    }, r.prototype.pointToCoord = function(e) {
      var t = e[0] - this.cx, i = e[1] - this.cy, a = this.getAngleAxis(), n = a.getExtent(), o = Math.min(n[0], n[1]), s = Math.max(n[0], n[1]);
      a.inverse ? o = s - 360 : s = o + 360;
      var l = Math.sqrt(t * t + i * i);
      t /= l, i /= l;
      for (var u = Math.atan2(-i, t) / Math.PI * 180, c = u < o ? 1 : -1; u < o || u > s; )
        u += c * 360;
      return [l, u];
    }, r.prototype.coordToPoint = function(e, t) {
      t = t || [];
      var i = e[0], a = e[1] / 180 * Math.PI;
      return t[0] = Math.cos(a) * i + this.cx, t[1] = -Math.sin(a) * i + this.cy, t;
    }, r.prototype.getArea = function() {
      var e = this.getAngleAxis(), t = this.getRadiusAxis(), i = t.getExtent().slice();
      i[0] > i[1] && i.reverse();
      var a = e.getExtent(), n = Math.PI / 180, o = 1e-4;
      return {
        cx: this.cx,
        cy: this.cy,
        r0: i[0],
        r: i[1],
        startAngle: -a[0] * n,
        endAngle: -a[1] * n,
        clockwise: e.inverse,
        contain: function(s, l) {
          var u = s - this.cx, c = l - this.cy, f = u * u + c * c, d = this.r, p = this.r0;
          return d !== p && f - o <= d * d && f + o >= p * p;
        },
        // As the bounding box
        x: this.cx - i[1],
        y: this.cy - i[1],
        width: i[1] * 2,
        height: i[1] * 2
      };
    }, r.prototype.convertToPixel = function(e, t, i) {
      var a = BV(t);
      return a === this ? this.dataToPoint(i) : null;
    }, r.prototype.convertFromPixel = function(e, t, i) {
      var a = BV(t);
      return a === this ? this.pointToData(i) : null;
    }, r;
  }()
);
function BV(r) {
  var e = r.seriesModel, t = r.polarModel;
  return t && t.coordinateSystem || e && e.coordinateSystem;
}
const HCe = WCe;
function $Ce(r, e, t) {
  var i = e.get("center"), a = Wi(e, t).refContainer;
  r.cx = gt(i[0], a.width) + a.x, r.cy = gt(i[1], a.height) + a.y;
  var n = r.getRadiusAxis(), o = Math.min(a.width, a.height) / 2, s = e.get("radius");
  s == null ? s = [0, "100%"] : Ke(s) || (s = [0, s]);
  var l = [gt(s[0], o), gt(s[1], o)];
  n.inverse ? n.setExtent(l[1], l[0]) : n.setExtent(l[0], l[1]);
}
function YCe(r, e) {
  var t = this, i = t.getAngleAxis(), a = t.getRadiusAxis();
  if (i.scale.setExtent(1 / 0, -1 / 0), a.scale.setExtent(1 / 0, -1 / 0), r.eachSeries(function(s) {
    if (s.coordinateSystem === t) {
      var l = s.getData();
      J(pb(l, "radius"), function(u) {
        a.scale.unionExtentFromData(l, u);
      }), J(pb(l, "angle"), function(u) {
        i.scale.unionExtentFromData(l, u);
      });
    }
  }), id(i.scale, i.model), id(a.scale, a.model), i.type === "category" && !i.onBand) {
    var n = i.getExtent(), o = 360 / i.scale.count();
    i.inverse ? n[1] += o : n[1] -= o, i.setExtent(n[0], n[1]);
  }
}
function jCe(r) {
  return r.mainType === "angleAxis";
}
function VV(r, e) {
  var t;
  if (r.type = e.get("type"), r.scale = um(e), r.onBand = e.get("boundaryGap") && r.type === "category", r.inverse = e.get("inverse"), jCe(e)) {
    r.inverse = r.inverse !== e.get("clockwise");
    var i = e.get("startAngle"), a = (t = e.get("endAngle")) !== null && t !== void 0 ? t : i + (r.inverse ? -360 : 360);
    r.setExtent(i, a);
  }
  e.axis = r, r.model = e;
}
var qCe = {
  dimensions: jZ,
  create: function(r, e) {
    var t = [];
    return r.eachComponent("polar", function(i, a) {
      var n = new HCe(a + "");
      n.update = YCe;
      var o = n.getRadiusAxis(), s = n.getAngleAxis(), l = i.findAxisModel("radiusAxis"), u = i.findAxisModel("angleAxis");
      VV(o, l), VV(s, u), $Ce(n, i, e), t.push(n), i.coordinateSystem = n, n.model = i;
    }), r.eachSeries(function(i) {
      if (i.get("coordinateSystem") === "polar") {
        var a = i.getReferringComponents("polar", ri).models[0];
        if (process.env.NODE_ENV !== "production" && !a)
          throw new Error('Polar "' + Di(i.get("polarIndex"), i.get("polarId"), 0) + '" not found');
        i.coordinateSystem = a.coordinateSystem;
      }
    }), t;
  }
};
const XCe = qCe;
var KCe = ["axisLine", "axisLabel", "axisTick", "minorTick", "splitLine", "minorSplitLine", "splitArea"];
function y2(r, e, t) {
  e[1] > e[0] && (e = e.slice().reverse());
  var i = r.coordToPoint([e[0], t]), a = r.coordToPoint([e[1], t]);
  return {
    x1: i[0],
    y1: i[1],
    x2: a[0],
    y2: a[1]
  };
}
function _2(r) {
  var e = r.getRadiusAxis();
  return e.inverse ? 0 : 1;
}
function UV(r) {
  var e = r[0], t = r[r.length - 1];
  e && t && Math.abs(Math.abs(e.coord - t.coord) - 360) < 1e-4 && r.pop();
}
var ZCe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.axisPointerClass = "PolarAxisPointer", t;
    }
    return e.prototype.render = function(t, i) {
      if (this.group.removeAll(), !!t.get("show")) {
        var a = t.axis, n = a.polar, o = n.getRadiusAxis().getExtent(), s = a.getTicksCoords({
          breakTicks: "none"
        }), l = a.getMinorTicksCoords(), u = Je(a.getViewLabels(), function(c) {
          c = Gt(c);
          var f = a.scale, d = f.type === "ordinal" ? f.getRawOrdinalNumber(c.tickValue) : c.tickValue;
          return c.coord = a.dataToCoord(d), c;
        });
        UV(u), UV(s), J(KCe, function(c) {
          t.get([c, "show"]) && (!a.scale.isBlank() || c === "axisLine") && JCe[c](this.group, t, n, s, l, o, u);
        }, this);
      }
    }, e.type = "angleAxis", e;
  }(Dd)
), JCe = {
  axisLine: function(r, e, t, i, a, n) {
    var o = e.getModel(["axisLine", "lineStyle"]), s = t.getAngleAxis(), l = Math.PI / 180, u = s.getExtent(), c = _2(t), f = c ? 0 : 1, d, p = Math.abs(u[1] - u[0]) === 360 ? "Circle" : "Arc";
    n[f] === 0 ? d = new wd[p]({
      shape: {
        cx: t.cx,
        cy: t.cy,
        r: n[c],
        startAngle: -u[0] * l,
        endAngle: -u[1] * l,
        clockwise: s.inverse
      },
      style: o.getLineStyle(),
      z2: 1,
      silent: !0
    }) : d = new rm({
      shape: {
        cx: t.cx,
        cy: t.cy,
        r: n[c],
        r0: n[f]
      },
      style: o.getLineStyle(),
      z2: 1,
      silent: !0
    }), d.style.fill = null, r.add(d);
  },
  axisTick: function(r, e, t, i, a, n) {
    var o = e.getModel("axisTick"), s = (o.get("inside") ? -1 : 1) * o.get("length"), l = n[_2(t)], u = Je(i, function(c) {
      return new ki({
        shape: y2(t, [l, l + s], c.coord)
      });
    });
    r.add(Co(u, {
      style: Yt(o.getModel("lineStyle").getLineStyle(), {
        stroke: e.get(["axisLine", "lineStyle", "color"])
      })
    }));
  },
  minorTick: function(r, e, t, i, a, n) {
    if (a.length) {
      for (var o = e.getModel("axisTick"), s = e.getModel("minorTick"), l = (o.get("inside") ? -1 : 1) * s.get("length"), u = n[_2(t)], c = [], f = 0; f < a.length; f++)
        for (var d = 0; d < a[f].length; d++)
          c.push(new ki({
            shape: y2(t, [u, u + l], a[f][d].coord)
          }));
      r.add(Co(c, {
        style: Yt(s.getModel("lineStyle").getLineStyle(), Yt(o.getLineStyle(), {
          stroke: e.get(["axisLine", "lineStyle", "color"])
        }))
      }));
    }
  },
  axisLabel: function(r, e, t, i, a, n, o) {
    var s = e.getCategories(!0), l = e.getModel("axisLabel"), u = l.get("margin"), c = e.get("triggerEvent");
    J(o, function(f, d) {
      var p = l, v = f.tickValue, y = n[_2(t)], _ = t.coordToPoint([y + u, f.coord]), w = t.cx, S = t.cy, x = Math.abs(_[0] - w) / y < 0.3 ? "center" : _[0] > w ? "left" : "right", E = Math.abs(_[1] - S) / y < 0.3 ? "middle" : _[1] > S ? "top" : "bottom";
      if (s && s[v]) {
        var M = s[v];
        zt(M) && M.textStyle && (p = new Vr(M.textStyle, l, l.ecModel));
      }
      var k = new Br({
        silent: Wu.isLabelSilent(e),
        style: Sn(p, {
          x: _[0],
          y: _[1],
          fill: p.getTextColor() || e.get(["axisLine", "lineStyle", "color"]),
          text: f.formattedLabel,
          align: x,
          verticalAlign: E
        })
      });
      if (r.add(k), nc({
        el: k,
        componentModel: e,
        itemName: f.formattedLabel,
        formatterParamsExtra: {
          isTruncated: function() {
            return k.isTruncated;
          },
          value: f.rawLabel,
          tickIndex: d
        }
      }), c) {
        var P = Wu.makeAxisEventDataBase(e);
        P.targetType = "axisLabel", P.value = f.rawLabel, er(k).eventData = P;
      }
    }, this);
  },
  splitLine: function(r, e, t, i, a, n) {
    var o = e.getModel("splitLine"), s = o.getModel("lineStyle"), l = s.get("color"), u = 0;
    l = l instanceof Array ? l : [l];
    for (var c = [], f = 0; f < i.length; f++) {
      var d = u++ % l.length;
      c[d] = c[d] || [], c[d].push(new ki({
        shape: y2(t, n, i[f].coord)
      }));
    }
    for (var f = 0; f < c.length; f++)
      r.add(Co(c[f], {
        style: Yt({
          stroke: l[f % l.length]
        }, s.getLineStyle()),
        silent: !0,
        z: e.get("z")
      }));
  },
  minorSplitLine: function(r, e, t, i, a, n) {
    if (a.length) {
      for (var o = e.getModel("minorSplitLine"), s = o.getModel("lineStyle"), l = [], u = 0; u < a.length; u++)
        for (var c = 0; c < a[u].length; c++)
          l.push(new ki({
            shape: y2(t, n, a[u][c].coord)
          }));
      r.add(Co(l, {
        style: s.getLineStyle(),
        silent: !0,
        z: e.get("z")
      }));
    }
  },
  splitArea: function(r, e, t, i, a, n) {
    if (i.length) {
      var o = e.getModel("splitArea"), s = o.getModel("areaStyle"), l = s.get("color"), u = 0;
      l = l instanceof Array ? l : [l];
      for (var c = [], f = Math.PI / 180, d = -i[0].coord * f, p = Math.min(n[0], n[1]), v = Math.max(n[0], n[1]), y = e.get("clockwise"), _ = 1, w = i.length; _ <= w; _++) {
        var S = _ === w ? i[0].coord : i[_].coord, x = u++ % l.length;
        c[x] = c[x] || [], c[x].push(new Wa({
          shape: {
            cx: t.cx,
            cy: t.cy,
            r0: p,
            r: v,
            startAngle: d,
            endAngle: -S * f,
            clockwise: y
          },
          silent: !0
        })), d = -S * f;
      }
      for (var _ = 0; _ < c.length; _++)
        r.add(Co(c[_], {
          style: Yt({
            fill: l[_ % l.length]
          }, s.getAreaStyle()),
          silent: !0
        }));
    }
  }
};
const QCe = ZCe;
var eAe = ["splitLine", "splitArea", "minorSplitLine"], tAe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.axisPointerClass = "PolarAxisPointer", t;
    }
    return e.prototype.render = function(t, i, a) {
      if (this.group.removeAll(), !!t.get("show")) {
        var n = this._axisGroup, o = this._axisGroup = new Wt();
        this.group.add(o);
        var s = t.axis, l = s.polar, u = l.getAngleAxis(), c = s.getTicksCoords(), f = s.getMinorTicksCoords(), d = u.getExtent()[0], p = s.getExtent(), v = nAe(l, t, d), y = new Wu(t, a, v);
        y.build(), o.add(y.group), am(n, o, t), J(eAe, function(_) {
          t.get([_, "show"]) && !s.scale.isBlank() && rAe[_](this.group, t, l, d, p, c, f);
        }, this);
      }
    }, e.type = "radiusAxis", e;
  }(Dd)
), rAe = {
  splitLine: function(r, e, t, i, a, n) {
    var o = e.getModel("splitLine"), s = o.getModel("lineStyle"), l = s.get("color"), u = 0, c = t.getAngleAxis(), f = Math.PI / 180, d = c.getExtent(), p = Math.abs(d[1] - d[0]) === 360 ? "Circle" : "Arc";
    l = l instanceof Array ? l : [l];
    for (var v = [], y = 0; y < n.length; y++) {
      var _ = u++ % l.length;
      v[_] = v[_] || [], v[_].push(new wd[p]({
        shape: {
          cx: t.cx,
          cy: t.cy,
          // ensure circle radius >= 0
          r: Math.max(n[y].coord, 0),
          startAngle: -d[0] * f,
          endAngle: -d[1] * f,
          clockwise: c.inverse
        }
      }));
    }
    for (var y = 0; y < v.length; y++)
      r.add(Co(v[y], {
        style: Yt({
          stroke: l[y % l.length],
          fill: null
        }, s.getLineStyle()),
        silent: !0
      }));
  },
  minorSplitLine: function(r, e, t, i, a, n, o) {
    if (o.length) {
      for (var s = e.getModel("minorSplitLine"), l = s.getModel("lineStyle"), u = [], c = 0; c < o.length; c++)
        for (var f = 0; f < o[c].length; f++)
          u.push(new rc({
            shape: {
              cx: t.cx,
              cy: t.cy,
              r: o[c][f].coord
            }
          }));
      r.add(Co(u, {
        style: Yt({
          fill: null
        }, l.getLineStyle()),
        silent: !0
      }));
    }
  },
  splitArea: function(r, e, t, i, a, n) {
    if (n.length) {
      var o = e.getModel("splitArea"), s = o.getModel("areaStyle"), l = s.get("color"), u = 0;
      l = l instanceof Array ? l : [l];
      for (var c = [], f = n[0].coord, d = 1; d < n.length; d++) {
        var p = u++ % l.length;
        c[p] = c[p] || [], c[p].push(new Wa({
          shape: {
            cx: t.cx,
            cy: t.cy,
            r0: f,
            r: n[d].coord,
            startAngle: 0,
            endAngle: Math.PI * 2
          },
          silent: !0
        })), f = n[d].coord;
      }
      for (var d = 0; d < c.length; d++)
        r.add(Co(c[d], {
          style: Yt({
            fill: l[d % l.length]
          }, s.getAreaStyle()),
          silent: !0
        }));
    }
  }
};
function nAe(r, e, t) {
  return {
    position: [r.cx, r.cy],
    rotation: t / 180 * Math.PI,
    labelDirection: -1,
    tickDirection: -1,
    nameDirection: 1,
    labelRotate: e.getModel("axisLabel").get("rotate"),
    // Over splitLine and splitArea
    z2: 1
  };
}
const iAe = tAe;
function qZ(r) {
  return r.get("stack") || "__ec_stack_" + r.seriesIndex;
}
function XZ(r, e) {
  return e.dim + r.model.componentIndex;
}
function aAe(r, e, t) {
  var i = {}, a = oAe(Xr(e.getSeriesByType(r), function(n) {
    return !e.isSeriesFiltered(n) && n.coordinateSystem && n.coordinateSystem.type === "polar";
  }));
  e.eachSeriesByType(r, function(n) {
    if (n.coordinateSystem.type === "polar") {
      var o = n.getData(), s = n.coordinateSystem, l = s.getBaseAxis(), u = XZ(s, l), c = qZ(n), f = a[u][c], d = f.offset, p = f.width, v = s.getOtherAxis(l), y = n.coordinateSystem.cx, _ = n.coordinateSystem.cy, w = n.get("barMinHeight") || 0, S = n.get("barMinAngle") || 0;
      i[c] = i[c] || [];
      for (var x = o.mapDimension(v.dim), E = o.mapDimension(l.dim), M = zu(
        o,
        x
        /* , baseDim */
      ), k = l.dim !== "radius" || !n.get("roundCap", !0), P = v.model, L = P.get("startValue"), F = v.dataToCoord(L || 0), O = 0, U = o.count(); O < U; O++) {
        var V = o.get(x, O), G = o.get(E, O), Z = V >= 0 ? "p" : "n", Q = F;
        M && (i[c][G] || (i[c][G] = {
          p: F,
          n: F
          // Negative stack
        }), Q = i[c][G][Z]);
        var se = void 0, de = void 0, le = void 0, Se = void 0;
        if (v.dim === "radius") {
          var he = v.dataToCoord(V) - F, fe = l.dataToCoord(G);
          Math.abs(he) < w && (he = (he < 0 ? -1 : 1) * w), se = Q, de = Q + he, le = fe - d, Se = le - p, M && (i[c][G][Z] = de);
        } else {
          var K = v.dataToCoord(V, k) - F, we = l.dataToCoord(G);
          Math.abs(K) < S && (K = (K < 0 ? -1 : 1) * S), se = we + d, de = se + p, le = Q, Se = Q + K, M && (i[c][G][Z] = Se);
        }
        o.setItemLayout(O, {
          cx: y,
          cy: _,
          r0: se,
          r: de,
          // Consider that positive angle is anti-clockwise,
          // while positive radian of sector is clockwise
          startAngle: -le * Math.PI / 180,
          endAngle: -Se * Math.PI / 180,
          /**
           * Keep the same logic with bar in catesion: use end value to
           * control direction. Notice that if clockwise is true (by
           * default), the sector will always draw clockwisely, no matter
           * whether endAngle is greater or less than startAngle.
           */
          clockwise: le >= Se
        });
      }
    }
  });
}
function oAe(r) {
  var e = {};
  J(r, function(i, a) {
    var n = i.getData(), o = i.coordinateSystem, s = o.getBaseAxis(), l = XZ(o, s), u = s.getExtent(), c = s.type === "category" ? s.getBandWidth() : Math.abs(u[1] - u[0]) / n.count(), f = e[l] || {
      bandWidth: c,
      remainedWidth: c,
      autoWidthCount: 0,
      categoryGap: "20%",
      gap: "30%",
      stacks: {}
    }, d = f.stacks;
    e[l] = f;
    var p = qZ(i);
    d[p] || f.autoWidthCount++, d[p] = d[p] || {
      width: 0,
      maxWidth: 0
    };
    var v = gt(i.get("barWidth"), c), y = gt(i.get("barMaxWidth"), c), _ = i.get("barGap"), w = i.get("barCategoryGap");
    v && !d[p].width && (v = Math.min(f.remainedWidth, v), d[p].width = v, f.remainedWidth -= v), y && (d[p].maxWidth = y), _ != null && (f.gap = _), w != null && (f.categoryGap = w);
  });
  var t = {};
  return J(e, function(i, a) {
    t[a] = {};
    var n = i.stacks, o = i.bandWidth, s = gt(i.categoryGap, o), l = gt(i.gap, 1), u = i.remainedWidth, c = i.autoWidthCount, f = (u - s) / (c + (c - 1) * l);
    f = Math.max(f, 0), J(n, function(y, _) {
      var w = y.maxWidth;
      w && w < f && (w = Math.min(w, u), y.width && (w = Math.min(w, y.width)), u -= w, y.width = w, c--);
    }), f = (u - s) / (c + (c - 1) * l), f = Math.max(f, 0);
    var d = 0, p;
    J(n, function(y, _) {
      y.width || (y.width = f), p = y, d += y.width * (1 + l);
    }), p && (d -= p.width * l);
    var v = -d / 2;
    J(n, function(y, _) {
      t[a][_] = t[a][_] || {
        offset: v,
        width: y.width
      }, v += y.width * (1 + l);
    });
  }), t;
}
var sAe = {
  startAngle: 90,
  clockwise: !0,
  splitNumber: 12,
  axisLabel: {
    rotate: 0
  }
}, lAe = {
  splitNumber: 5
}, uAe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.type = "polar", e;
  }(Pn)
);
function cAe(r) {
  _r(vm), Dd.registerAxisPointerClass("PolarAxisPointer", OCe), r.registerCoordinateSystem("polar", XCe), r.registerComponentModel(NCe), r.registerComponentView(uAe), p0(r, "angle", BCe, sAe), p0(r, "radius", VCe, lAe), r.registerComponentView(QCe), r.registerComponentView(iAe), r.registerLayout(fr(aAe, "bar"));
}
function aE(r, e) {
  e = e || {};
  var t = r.coordinateSystem, i = r.axis, a = {}, n = i.position, o = i.orient, s = t.getRect(), l = [s.x, s.x + s.width, s.y, s.y + s.height], u = {
    horizontal: {
      top: l[2],
      bottom: l[3]
    },
    vertical: {
      left: l[0],
      right: l[1]
    }
  };
  a.position = [o === "vertical" ? u.vertical[n] : l[0], o === "horizontal" ? u.horizontal[n] : l[3]];
  var c = {
    horizontal: 0,
    vertical: 1
  };
  a.rotation = Math.PI / 2 * c[o];
  var f = {
    top: -1,
    bottom: 1,
    right: 1,
    left: -1
  };
  a.labelDirection = a.tickDirection = a.nameDirection = f[n], r.get(["axisTick", "inside"]) && (a.tickDirection = -a.tickDirection), Di(e.labelInside, r.get(["axisLabel", "inside"])) && (a.labelDirection = -a.labelDirection);
  var d = r.get(["axisLabel", "rotate"]);
  return a.labelRotate = n === "top" ? -d : d, a.z2 = 1, a;
}
var hAe = ["splitArea", "splitLine", "breakArea"], fAe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.axisPointerClass = "SingleAxisPointer", t;
    }
    return e.prototype.render = function(t, i, a, n) {
      var o = this.group;
      o.removeAll();
      var s = this._axisGroup;
      this._axisGroup = new Wt();
      var l = aE(t), u = new Wu(t, a, l);
      u.build(), o.add(this._axisGroup), o.add(u.group), J(hAe, function(c) {
        t.get([c, "show"]) && dAe[c](this, this.group, this._axisGroup, t, a);
      }, this), am(s, this._axisGroup, t), r.prototype.render.call(this, t, i, a, n);
    }, e.prototype.remove = function() {
      cK(this);
    }, e.type = "singleAxis", e;
  }(Dd)
), dAe = {
  splitLine: function(r, e, t, i, a) {
    var n = i.axis;
    if (!n.scale.isBlank()) {
      var o = i.getModel("splitLine"), s = o.getModel("lineStyle"), l = s.get("color");
      l = l instanceof Array ? l : [l];
      for (var u = s.get("width"), c = i.coordinateSystem.getRect(), f = n.isHorizontal(), d = [], p = 0, v = n.getTicksCoords({
        tickModel: o,
        breakTicks: "none",
        pruneByBreak: "preserve_extent_bound"
      }), y = [], _ = [], w = 0; w < v.length; ++w) {
        var S = n.toGlobalCoord(v[w].coord);
        f ? (y[0] = S, y[1] = c.y, _[0] = S, _[1] = c.y + c.height) : (y[0] = c.x, y[1] = S, _[0] = c.x + c.width, _[1] = S);
        var x = new ki({
          shape: {
            x1: y[0],
            y1: y[1],
            x2: _[0],
            y2: _[1]
          },
          silent: !0
        });
        u0(x.shape, u);
        var E = p++ % l.length;
        d[E] = d[E] || [], d[E].push(x);
      }
      for (var M = s.getLineStyle(["color"]), w = 0; w < d.length; ++w)
        e.add(Co(d[w], {
          style: Yt({
            stroke: l[w % l.length]
          }, M),
          silent: !0
        }));
    }
  },
  splitArea: function(r, e, t, i, a) {
    uK(r, t, i, i);
  },
  breakArea: function(r, e, t, i, a) {
    var n = pm(), o = i.axis.scale;
    n && o.type !== "ordinal" && n.rectCoordBuildBreakAxis(e, r, i, i.coordinateSystem.getRect(), a);
  }
};
const pAe = fAe;
var KZ = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.getCoordSysModel = function() {
      return this;
    }, e.type = "singleAxis", e.layoutMode = "box", e.defaultOption = {
      left: "5%",
      top: "5%",
      right: "5%",
      bottom: "5%",
      type: "value",
      position: "bottom",
      orient: "horizontal",
      axisLine: {
        show: !0,
        lineStyle: {
          width: 1,
          type: "solid"
        }
      },
      // Single coordinate system and single axis is the,
      // which is used as the parent tooltip model.
      // same model, so we set default tooltip show as true.
      tooltip: {
        show: !0
      },
      axisTick: {
        show: !0,
        length: 6,
        lineStyle: {
          width: 1
        }
      },
      axisLabel: {
        show: !0,
        interval: "auto"
      },
      splitLine: {
        show: !0,
        lineStyle: {
          type: "dashed",
          opacity: 0.2
        }
      },
      jitter: 0,
      jitterOverlap: !0,
      jitterMargin: 2
    }, e;
  }(Rr)
);
ci(KZ, $0.prototype);
const nT = KZ;
var vAe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i, a, n, o) {
      var s = r.call(this, t, i, a) || this;
      return s.type = n || "value", s.position = o || "bottom", s;
    }
    return e.prototype.isHorizontal = function() {
      var t = this.position;
      return t === "top" || t === "bottom";
    }, e.prototype.pointToData = function(t, i) {
      return this.coordinateSystem.pointToData(t)[0];
    }, e;
  }(ps)
);
const gAe = vAe;
var ZZ = ["single"], mAe = (
  /** @class */
  function() {
    function r(e, t, i) {
      this.type = "single", this.dimension = "single", this.dimensions = ZZ, this.axisPointerEnabled = !0, this.model = e, this._init(e, t, i);
    }
    return r.prototype._init = function(e, t, i) {
      var a = this.dimension, n = new gAe(a, um(e), [0, 0], e.get("type"), e.get("position")), o = n.type === "category";
      n.onBand = o && e.get("boundaryGap"), n.inverse = e.get("inverse"), n.orient = e.get("orient"), e.axis = n, n.model = e, n.coordinateSystem = this, this._axis = n;
    }, r.prototype.update = function(e, t) {
      e.eachSeries(function(i) {
        if (i.coordinateSystem === this) {
          var a = i.getData();
          J(a.mapDimensionsAll(this.dimension), function(n) {
            this._axis.scale.unionExtentFromData(a, n);
          }, this), id(this._axis.scale, this._axis.model);
        }
      }, this);
    }, r.prototype.resize = function(e, t) {
      var i = Wi(e, t).refContainer;
      this._rect = Bn(e.getBoxLayoutParams(), i), this._adjustAxis();
    }, r.prototype.getRect = function() {
      return this._rect;
    }, r.prototype._adjustAxis = function() {
      var e = this._rect, t = this._axis, i = t.isHorizontal(), a = i ? [0, e.width] : [0, e.height], n = t.inverse ? 1 : 0;
      t.setExtent(a[n], a[1 - n]), this._updateAxisTransform(t, i ? e.x : e.y);
    }, r.prototype._updateAxisTransform = function(e, t) {
      var i = e.getExtent(), a = i[0] + i[1], n = e.isHorizontal();
      e.toGlobalCoord = n ? function(o) {
        return o + t;
      } : function(o) {
        return a - o + t;
      }, e.toLocalCoord = n ? function(o) {
        return o - t;
      } : function(o) {
        return a - o + t;
      };
    }, r.prototype.getAxis = function() {
      return this._axis;
    }, r.prototype.getBaseAxis = function() {
      return this._axis;
    }, r.prototype.getAxes = function() {
      return [this._axis];
    }, r.prototype.getTooltipAxes = function() {
      return {
        baseAxes: [this.getAxis()],
        // Empty otherAxes
        otherAxes: []
      };
    }, r.prototype.containPoint = function(e) {
      var t = this.getRect(), i = this.getAxis(), a = i.orient;
      return a === "horizontal" ? i.contain(i.toLocalCoord(e[0])) && e[1] >= t.y && e[1] <= t.y + t.height : i.contain(i.toLocalCoord(e[1])) && e[0] >= t.y && e[0] <= t.y + t.height;
    }, r.prototype.pointToData = function(e, t, i) {
      i = i || [];
      var a = this.getAxis();
      return i[0] = a.coordToData(a.toLocalCoord(e[a.orient === "horizontal" ? 0 : 1])), i;
    }, r.prototype.dataToPoint = function(e, t, i) {
      var a = this.getAxis(), n = this.getRect();
      i = i || [];
      var o = a.orient === "horizontal" ? 0 : 1;
      return e instanceof Array && (e = e[0]), i[o] = a.toGlobalCoord(a.dataToCoord(+e)), i[1 - o] = o === 0 ? n.y + n.height / 2 : n.x + n.width / 2, i;
    }, r.prototype.convertToPixel = function(e, t, i) {
      var a = GV(t);
      return a === this ? this.dataToPoint(i) : null;
    }, r.prototype.convertFromPixel = function(e, t, i) {
      var a = GV(t);
      return a === this ? this.pointToData(i) : null;
    }, r;
  }()
);
function GV(r) {
  var e = r.seriesModel, t = r.singleAxisModel;
  return t && t.coordinateSystem || e && e.coordinateSystem;
}
function yAe(r, e) {
  var t = [];
  return r.eachComponent("singleAxis", function(i, a) {
    var n = new mAe(i, r, e);
    n.name = "single_" + a, n.resize(i, e), i.coordinateSystem = n, t.push(n);
  }), r.eachSeries(function(i) {
    if (i.get("coordinateSystem") === "singleAxis") {
      var a = i.getReferringComponents("singleAxis", ri).models[0];
      i.coordinateSystem = a && a.coordinateSystem;
    }
  }), t;
}
var _Ae = {
  create: yAe,
  dimensions: ZZ
};
const bAe = _Ae;
var zV = ["x", "y"], wAe = ["width", "height"], SAe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e.prototype.makeElOption = function(t, i, a, n, o) {
      var s = a.axis, l = s.coordinateSystem, u = iT(l, 1 - Fb(s)), c = l.dataToPoint(i)[0], f = n.get("type");
      if (f && f !== "none") {
        var d = Rk(n), p = xAe[f](s, c, u);
        p.style = d, t.graphicKey = p.type, t.pointer = p;
      }
      var v = aE(a);
      WZ(i, t, v, a, n, o);
    }, e.prototype.getHandleTransform = function(t, i, a) {
      var n = aE(i, {
        labelInside: !1
      });
      n.labelMargin = a.get(["handle", "margin"]);
      var o = Lk(i.axis, t, n);
      return {
        x: o[0],
        y: o[1],
        rotation: n.rotation + (n.labelDirection < 0 ? Math.PI : 0)
      };
    }, e.prototype.updateHandleTransform = function(t, i, a, n) {
      var o = a.axis, s = o.coordinateSystem, l = Fb(o), u = iT(s, l), c = [t.x, t.y];
      c[l] += i[l], c[l] = Math.min(u[1], c[l]), c[l] = Math.max(u[0], c[l]);
      var f = iT(s, 1 - l), d = (f[1] + f[0]) / 2, p = [d, d];
      return p[l] = c[l], {
        x: c[0],
        y: c[1],
        rotation: t.rotation,
        cursorPoint: p,
        tooltipOption: {
          verticalAlign: "middle"
        }
      };
    }, e;
  }(Pk)
), xAe = {
  line: function(r, e, t) {
    var i = Ok([e, t[0]], [e, t[1]], Fb(r));
    return {
      type: "Line",
      subPixelOptimize: !0,
      shape: i
    };
  },
  shadow: function(r, e, t) {
    var i = r.getBandWidth(), a = t[1] - t[0];
    return {
      type: "Rect",
      shape: HZ([e - i / 2, t[0]], [i, a], Fb(r))
    };
  }
};
function Fb(r) {
  return r.isHorizontal() ? 0 : 1;
}
function iT(r, e) {
  var t = r.getRect();
  return [t[zV[e]], t[zV[e]] + t[wAe[e]]];
}
const TAe = SAe;
var CAe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.type = "single", e;
  }(Pn)
);
function AAe(r) {
  _r(vm), Dd.registerAxisPointerClass("SingleAxisPointer", TAe), r.registerComponentView(CAe), r.registerComponentView(pAe), r.registerComponentModel(nT), p0(r, "single", nT, nT.defaultOption), r.registerCoordinateSystem("single", bAe);
}
var EAe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.init = function(t, i, a) {
      var n = Td(t);
      r.prototype.init.apply(this, arguments), WV(t, n);
    }, e.prototype.mergeOption = function(t) {
      r.prototype.mergeOption.apply(this, arguments), WV(this.option, t);
    }, e.prototype.getCellSize = function() {
      return this.option.cellSize;
    }, e.type = "calendar", e.layoutMode = "box", e.defaultOption = {
      // zlevel: 0,
      // TODO: theoretically, the z of the calendar should be lower
      // than series, but we don't want the series to be displayed
      // on top of the borders like month split line. To align with
      // the effect of previous versions, we set the z to 2 for now
      // until better solution is found.
      z: 2,
      left: 80,
      top: 60,
      cellSize: 20,
      // horizontal vertical
      orient: "horizontal",
      // month separate line style
      splitLine: {
        show: !0,
        lineStyle: {
          color: Ve.color.axisLine,
          width: 1,
          type: "solid"
        }
      },
      // rect style  temporarily unused emphasis
      itemStyle: {
        color: Ve.color.neutral00,
        borderWidth: 1,
        borderColor: Ve.color.neutral10
      },
      // week text style
      dayLabel: {
        show: !0,
        firstDay: 0,
        // start end
        position: "start",
        margin: Ve.size.s,
        color: Ve.color.secondary
      },
      // month text style
      monthLabel: {
        show: !0,
        // start end
        position: "start",
        margin: Ve.size.s,
        // center or left
        align: "center",
        formatter: null,
        color: Ve.color.secondary
      },
      // year text style
      yearLabel: {
        show: !0,
        // top bottom left right
        position: null,
        margin: Ve.size.xl,
        formatter: null,
        color: Ve.color.quaternary,
        fontFamily: "sans-serif",
        fontWeight: "bolder",
        fontSize: 20
      }
    }, e;
  }(Rr)
);
function WV(r, e) {
  var t = r.cellSize, i;
  Ke(t) ? i = t : i = r.cellSize = [t, t], i.length === 1 && (i[1] = i[0]);
  var a = Je([0, 1], function(n) {
    return E0e(e, n) && (i[n] = "auto"), i[n] != null && i[n] !== "auto";
  });
  Pl(r, e, {
    type: "box",
    ignoreSize: a
  });
}
const DAe = EAe;
var kAe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i, a) {
      var n = this.group;
      n.removeAll();
      var o = t.coordinateSystem, s = o.getRangeInfo(), l = o.getOrient(), u = i.getLocaleModel();
      this._renderDayRect(t, s, n), this._renderLines(t, s, l, n), this._renderYearText(t, s, l, n), this._renderMonthText(t, u, l, n), this._renderWeekText(t, u, s, l, n);
    }, e.prototype._renderDayRect = function(t, i, a) {
      for (var n = t.coordinateSystem, o = t.getModel("itemStyle").getItemStyle(), s = n.getCellWidth(), l = n.getCellHeight(), u = i.start.time; u <= i.end.time; u = n.getNextNDay(u, 1).time) {
        var c = n.dataToCalendarLayout([u], !1).tl, f = new Cr({
          shape: {
            x: c[0],
            y: c[1],
            width: s,
            height: l
          },
          cursor: "default",
          style: o
        });
        a.add(f);
      }
    }, e.prototype._renderLines = function(t, i, a, n) {
      var o = this, s = t.coordinateSystem, l = t.getModel(["splitLine", "lineStyle"]).getLineStyle(), u = t.get(["splitLine", "show"]), c = l.lineWidth;
      this._tlpoints = [], this._blpoints = [], this._firstDayOfMonth = [], this._firstDayPoints = [];
      for (var f = i.start, d = 0; f.time <= i.end.time; d++) {
        v(f.formatedDate), d === 0 && (f = s.getDateInfo(i.start.y + "-" + i.start.m));
        var p = f.date;
        p.setMonth(p.getMonth() + 1), f = s.getDateInfo(p);
      }
      v(s.getNextNDay(i.end.time, 1).formatedDate);
      function v(y) {
        o._firstDayOfMonth.push(s.getDateInfo(y)), o._firstDayPoints.push(s.dataToCalendarLayout([y], !1).tl);
        var _ = o._getLinePointsOfOneWeek(t, y, a);
        o._tlpoints.push(_[0]), o._blpoints.push(_[_.length - 1]), u && o._drawSplitline(_, l, n);
      }
      u && this._drawSplitline(o._getEdgesPoints(o._tlpoints, c, a), l, n), u && this._drawSplitline(o._getEdgesPoints(o._blpoints, c, a), l, n);
    }, e.prototype._getEdgesPoints = function(t, i, a) {
      var n = [t[0].slice(), t[t.length - 1].slice()], o = a === "horizontal" ? 0 : 1;
      return n[0][o] = n[0][o] - i / 2, n[1][o] = n[1][o] + i / 2, n;
    }, e.prototype._drawSplitline = function(t, i, a) {
      var n = new wa({
        z2: 20,
        shape: {
          points: t
        },
        style: i
      });
      a.add(n);
    }, e.prototype._getLinePointsOfOneWeek = function(t, i, a) {
      for (var n = t.coordinateSystem, o = n.getDateInfo(i), s = [], l = 0; l < 7; l++) {
        var u = n.getNextNDay(o.time, l), c = n.dataToCalendarLayout([u.time], !1);
        s[2 * u.day] = c.tl, s[2 * u.day + 1] = c[a === "horizontal" ? "bl" : "tr"];
      }
      return s;
    }, e.prototype._formatterLabel = function(t, i) {
      return vt(t) && t ? _0e(t, i) : Bt(t) ? t(i) : i.nameMap;
    }, e.prototype._yearTextPositionControl = function(t, i, a, n, o) {
      var s = i[0], l = i[1], u = ["center", "bottom"];
      n === "bottom" ? (l += o, u = ["center", "top"]) : n === "left" ? s -= o : n === "right" ? (s += o, u = ["center", "top"]) : l -= o;
      var c = 0;
      return (n === "left" || n === "right") && (c = Math.PI / 2), {
        rotation: c,
        x: s,
        y: l,
        style: {
          align: u[0],
          verticalAlign: u[1]
        }
      };
    }, e.prototype._renderYearText = function(t, i, a, n) {
      var o = t.getModel("yearLabel");
      if (o.get("show")) {
        var s = o.get("margin"), l = o.get("position");
        l || (l = a !== "horizontal" ? "top" : "left");
        var u = [this._tlpoints[this._tlpoints.length - 1], this._blpoints[0]], c = (u[0][0] + u[1][0]) / 2, f = (u[0][1] + u[1][1]) / 2, d = a === "horizontal" ? 0 : 1, p = {
          top: [c, u[d][1]],
          bottom: [c, u[1 - d][1]],
          left: [u[1 - d][0], f],
          right: [u[d][0], f]
        }, v = i.start.y;
        +i.end.y > +i.start.y && (v = v + "-" + i.end.y);
        var y = o.get("formatter"), _ = {
          start: i.start.y,
          end: i.end.y,
          nameMap: v
        }, w = this._formatterLabel(y, _), S = new Br({
          z2: 30,
          style: Sn(o, {
            text: w
          }),
          silent: o.get("silent")
        });
        S.attr(this._yearTextPositionControl(S, p[l], a, l, s)), n.add(S);
      }
    }, e.prototype._monthTextPositionControl = function(t, i, a, n, o) {
      var s = "left", l = "top", u = t[0], c = t[1];
      return a === "horizontal" ? (c = c + o, i && (s = "center"), n === "start" && (l = "bottom")) : (u = u + o, i && (l = "middle"), n === "start" && (s = "right")), {
        x: u,
        y: c,
        align: s,
        verticalAlign: l
      };
    }, e.prototype._renderMonthText = function(t, i, a, n) {
      var o = t.getModel("monthLabel");
      if (o.get("show")) {
        var s = o.get("nameMap"), l = o.get("margin"), u = o.get("position"), c = o.get("align"), f = [this._tlpoints, this._blpoints];
        (!s || vt(s)) && (s && (i = r6(s) || i), s = i.get(["time", "monthAbbr"]) || []);
        var d = u === "start" ? 0 : 1, p = a === "horizontal" ? 0 : 1;
        l = u === "start" ? -l : l;
        for (var v = c === "center", y = o.get("silent"), _ = 0; _ < f[d].length - 1; _++) {
          var w = f[d][_].slice(), S = this._firstDayOfMonth[_];
          if (v) {
            var x = this._firstDayPoints[_];
            w[p] = (x[p] + f[0][_ + 1][p]) / 2;
          }
          var E = o.get("formatter"), M = s[+S.m - 1], k = {
            yyyy: S.y,
            yy: (S.y + "").slice(2),
            MM: S.m,
            M: +S.m,
            nameMap: M
          }, P = this._formatterLabel(E, k), L = new Br({
            z2: 30,
            style: $e(Sn(o, {
              text: P
            }), this._monthTextPositionControl(w, v, a, u, l)),
            silent: y
          });
          n.add(L);
        }
      }
    }, e.prototype._weekTextPositionControl = function(t, i, a, n, o) {
      var s = "center", l = "middle", u = t[0], c = t[1], f = a === "start";
      return i === "horizontal" ? (u = u + n + (f ? 1 : -1) * o[0] / 2, s = f ? "right" : "left") : (c = c + n + (f ? 1 : -1) * o[1] / 2, l = f ? "bottom" : "top"), {
        x: u,
        y: c,
        align: s,
        verticalAlign: l
      };
    }, e.prototype._renderWeekText = function(t, i, a, n, o) {
      var s = t.getModel("dayLabel");
      if (s.get("show")) {
        var l = t.coordinateSystem, u = s.get("position"), c = s.get("nameMap"), f = s.get("margin"), d = l.getFirstDayOfWeek();
        if (!c || vt(c)) {
          c && (i = r6(c) || i);
          var p = i.get(["time", "dayOfWeekShort"]);
          c = p || Je(i.get(["time", "dayOfWeekAbbr"]), function(k) {
            return k[0];
          });
        }
        var v = l.getNextNDay(a.end.time, 7 - a.lweek).time, y = [l.getCellWidth(), l.getCellHeight()];
        f = gt(f, Math.min(y[1], y[0])), u === "start" && (v = l.getNextNDay(a.start.time, -(7 + a.fweek)).time, f = -f);
        for (var _ = s.get("silent"), w = 0; w < 7; w++) {
          var S = l.getNextNDay(v, w), x = l.dataToCalendarLayout([S.time], !1).center, E = w;
          E = Math.abs((w + d) % 7);
          var M = new Br({
            z2: 30,
            style: $e(Sn(s, {
              text: c[E]
            }), this._weekTextPositionControl(x, n, u, f, y)),
            silent: _
          });
          o.add(M);
        }
      }
    }, e.type = "calendar", e;
  }(Pn)
);
const MAe = kAe;
var aT = 864e5, IAe = (
  /** @class */
  function() {
    function r(e, t, i) {
      this.type = "calendar", this.dimensions = r.dimensions, this.getDimensionsInfo = r.getDimensionsInfo, this._model = e, this._update(t, i);
    }
    return r.getDimensionsInfo = function() {
      return [{
        name: "time",
        type: "time"
      }, "value"];
    }, r.prototype.getRangeInfo = function() {
      return this._rangeInfo;
    }, r.prototype.getModel = function() {
      return this._model;
    }, r.prototype.getRect = function() {
      return this._rect;
    }, r.prototype.getCellWidth = function() {
      return this._sw;
    }, r.prototype.getCellHeight = function() {
      return this._sh;
    }, r.prototype.getOrient = function() {
      return this._orient;
    }, r.prototype.getFirstDayOfWeek = function() {
      return this._firstDayOfWeek;
    }, r.prototype.getDateInfo = function(e) {
      e = Nl(e);
      var t = e.getFullYear(), i = e.getMonth() + 1, a = i < 10 ? "0" + i : "" + i, n = e.getDate(), o = n < 10 ? "0" + n : "" + n, s = e.getDay();
      return s = Math.abs((s + 7 - this.getFirstDayOfWeek()) % 7), {
        y: t + "",
        m: a,
        d: o,
        day: s,
        time: e.getTime(),
        formatedDate: t + "-" + a + "-" + o,
        date: e
      };
    }, r.prototype.getNextNDay = function(e, t) {
      return t = t || 0, t === 0 ? this.getDateInfo(e) : (e = new Date(this.getDateInfo(e).time), e.setDate(e.getDate() + t), this.getDateInfo(e));
    }, r.prototype._update = function(e, t) {
      this._firstDayOfWeek = +this._model.getModel("dayLabel").get("firstDay"), this._orient = this._model.get("orient"), this._lineWidth = this._model.getModel("itemStyle").getItemStyle().lineWidth || 0, this._rangeInfo = this._getRangeInfo(this._initRangeOption());
      var i = this._rangeInfo.weeks || 1, a = ["width", "height"], n = this._model.getCellSize().slice(), o = this._model.getBoxLayoutParams(), s = this._orient === "horizontal" ? [i, 7] : [7, i];
      J([0, 1], function(f) {
        c(n, f) && (o[a[f]] = n[f] * s[f]);
      });
      var l = {
        width: t.getWidth(),
        height: t.getHeight()
      }, u = this._rect = Bn(o, l);
      J([0, 1], function(f) {
        c(n, f) || (n[f] = u[a[f]] / s[f]);
      });
      function c(f, d) {
        return f[d] != null && f[d] !== "auto";
      }
      this._sw = n[0], this._sh = n[1];
    }, r.prototype.dataToPoint = function(e, t, i) {
      i = i || [], Ke(e) && (e = e[0]), t == null && (t = !0);
      var a = this.getDateInfo(e), n = this._rangeInfo, o = a.formatedDate;
      if (t && !(a.time >= n.start.time && a.time < n.end.time + aT))
        return i[0] = i[1] = NaN, i;
      var s = a.day, l = this._getRangeInfo([n.start.time, o]).nthWeek;
      return this._orient === "vertical" ? (i[0] = this._rect.x + s * this._sw + this._sw / 2, i[1] = this._rect.y + l * this._sh + this._sh / 2) : (i[0] = this._rect.x + l * this._sw + this._sw / 2, i[1] = this._rect.y + s * this._sh + this._sh / 2), i;
    }, r.prototype.pointToData = function(e) {
      var t = this.pointToDate(e);
      return t && t.time;
    }, r.prototype.dataToLayout = function(e, t, i) {
      i = i || {};
      var a = i.rect = i.rect || {}, n = i.contentRect = i.contentRect || {}, o = this.dataToPoint(e, t);
      return a.x = o[0] - this._sw / 2, a.y = o[1] - this._sh / 2, a.width = this._sw, a.height = this._sh, Jt.copy(n, a), td(n, this._lineWidth / 2, !0, !0), i;
    }, r.prototype.dataToCalendarLayout = function(e, t) {
      var i = this.dataToPoint(e, t);
      return {
        center: i,
        tl: [i[0] - this._sw / 2, i[1] - this._sh / 2],
        tr: [i[0] + this._sw / 2, i[1] - this._sh / 2],
        br: [i[0] + this._sw / 2, i[1] + this._sh / 2],
        bl: [i[0] - this._sw / 2, i[1] + this._sh / 2]
      };
    }, r.prototype.pointToDate = function(e) {
      var t = Math.floor((e[0] - this._rect.x) / this._sw) + 1, i = Math.floor((e[1] - this._rect.y) / this._sh) + 1, a = this._rangeInfo.range;
      return this._orient === "vertical" ? this._getDateByWeeksAndDay(i, t - 1, a) : this._getDateByWeeksAndDay(t, i - 1, a);
    }, r.prototype.convertToPixel = function(e, t, i) {
      var a = oT(t);
      return a === this ? a.dataToPoint(i) : null;
    }, r.prototype.convertToLayout = function(e, t, i) {
      var a = oT(t);
      return a === this ? a.dataToLayout(i) : null;
    }, r.prototype.convertFromPixel = function(e, t, i) {
      var a = oT(t);
      return a === this ? a.pointToData(i) : null;
    }, r.prototype.containPoint = function(e) {
      return console.warn("Not implemented."), !1;
    }, r.prototype._initRangeOption = function() {
      var e = this._model.get("range"), t;
      if (Ke(e) && e.length === 1 && (e = e[0]), Ke(e))
        t = e;
      else {
        var i = e.toString();
        if (/^\d{4}$/.test(i) && (t = [i + "-01-01", i + "-12-31"]), /^\d{4}[\/|-]\d{1,2}$/.test(i)) {
          var a = this.getDateInfo(i), n = a.date;
          n.setMonth(n.getMonth() + 1);
          var o = this.getNextNDay(n, -1);
          t = [a.formatedDate, o.formatedDate];
        }
        /^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i) && (t = [i, i]);
      }
      if (!t)
        return process.env.NODE_ENV !== "production" && as("Invalid date range."), e;
      var s = this._getRangeInfo(t);
      return s.start.time > s.end.time && t.reverse(), t;
    }, r.prototype._getRangeInfo = function(e) {
      var t = [this.getDateInfo(e[0]), this.getDateInfo(e[1])], i;
      t[0].time > t[1].time && (i = !0, t.reverse());
      var a = Math.floor(t[1].time / aT) - Math.floor(t[0].time / aT) + 1, n = new Date(t[0].time), o = n.getDate(), s = t[1].date.getDate();
      n.setDate(o + a - 1);
      var l = n.getDate();
      if (l !== s)
        for (var u = n.getTime() - t[1].time > 0 ? 1 : -1; (l = n.getDate()) !== s && (n.getTime() - t[1].time) * u > 0; )
          a -= u, n.setDate(l - u);
      var c = Math.floor((a + t[0].day + 6) / 7), f = i ? -c + 1 : c - 1;
      return i && t.reverse(), {
        range: [t[0].formatedDate, t[1].formatedDate],
        start: t[0],
        end: t[1],
        allDay: a,
        weeks: c,
        // From 0.
        nthWeek: f,
        fweek: t[0].day,
        lweek: t[1].day
      };
    }, r.prototype._getDateByWeeksAndDay = function(e, t, i) {
      var a = this._getRangeInfo(i);
      if (e > a.weeks || e === 0 && t < a.fweek || e === a.weeks && t > a.lweek)
        return null;
      var n = (e - 1) * 7 - a.fweek + t, o = new Date(a.start.time);
      return o.setDate(+a.start.d + n), this.getDateInfo(o);
    }, r.create = function(e, t) {
      var i = [];
      return e.eachComponent("calendar", function(a) {
        var n = new r(a, e, t);
        i.push(n), a.coordinateSystem = n;
      }), e.eachComponent(function(a, n) {
        sm({
          targetModel: n,
          coordSysType: "calendar",
          coordSysProvider: sj
        });
      }), i;
    }, r.dimensions = ["time", "value"], r;
  }()
);
function oT(r) {
  var e = r.calendarModel, t = r.seriesModel, i = e ? e.coordinateSystem : t ? t.coordinateSystem : null;
  return i;
}
const PAe = IAe;
function RAe(r) {
  r.registerComponentModel(DAe), r.registerComponentView(MAe), r.registerCoordinateSystem("calendar", PAe);
}
var fu = {
  level: 1,
  leaf: 2,
  nonLeaf: 3
}, Mu = {
  // No clamp, be falsy, equals to null/undefined. It means if the input part is
  // null/undefined/NaN/outOfBoundary, the result part is NaN, rather than clamp to
  // the boundary of the matrix.
  none: 0,
  // Clamp, where null/undefined/NaN/outOfBoundary can be used to cover the entire row/column.
  all: 1,
  body: 2,
  corner: 3
};
function oE(r, e, t) {
  var i = e[cr[t]].getCell(r);
  return !i && Or(r) && r < 0 && (i = e[cr[1 - t]].getUnitLayoutInfo(t, Math.round(r))), i;
}
function JZ(r) {
  var e = r || [];
  return e[0] = e[0] || [], e[1] = e[1] || [], e[0][0] = e[0][1] = e[1][0] = e[1][1] = NaN, e;
}
function QZ(r, e, t, i, a) {
  HV(r[0], e, a, t, i, 0), HV(r[1], e, a, t, i, 1);
}
function HV(r, e, t, i, a, n) {
  r[0] = 1 / 0, r[1] = -1 / 0;
  var o = i[n], s = Ke(o) ? o : [o], l = s.length, u = !!t;
  if (l >= 1 ? ($V(r, e, s, u, a, n, 0), l > 1 && $V(r, e, s, u, a, n, l - 1)) : (process.env.NODE_ENV !== "production" && e && e.push('Should be like [["x1", "x2"], ["y1", "y2"]], or ["x1", "y1"], rather than empty.'), r[0] = r[1] = NaN), u) {
    var c = -a[cr[1 - n]].getLocatorCount(n), f = a[cr[n]].getLocatorCount(n) - 1;
    t === Mu.body ? c = bi(0, c) : t === Mu.corner && (f = Io(-1, f)), f < c && (c = f = NaN), Zi(r[0]) && (r[0] = c), Zi(r[1]) && (r[1] = f), r[0] = bi(Io(r[0], f), c), r[1] = bi(Io(r[1], f), c);
  }
}
function $V(r, e, t, i, a, n, o) {
  var s = oE(t[o], a, n);
  if (!s) {
    process.env.NODE_ENV !== "production" && !i && e && e.push("Can not find cell by coord[" + n + "][" + o + "]."), r[0] = r[1] = NaN;
    return;
  }
  var l = s.id[cr[n]], u = l, c = NAe(s);
  c && (u += c.span[cr[n]] - 1), r[0] = Io(r[0], l, u), r[1] = bi(r[1], l, u);
}
function b2(r, e) {
  return Zi(r[e][0]) || Zi(r[e][1]);
}
function YV(r, e, t, i) {
  e = e || LAe;
  for (var a = 0; a < i; a++)
    e[a] = !1;
  for (; ; ) {
    for (var n = !1, a = 0; a < i; a++) {
      var o = t[a];
      !e[a] && o.cellMergeOwner && OAe(r, o.locatorRange) && (e[a] = !0, n = !0);
    }
    if (!n)
      break;
  }
}
var LAe = [];
function OAe(r, e) {
  return !jV(r[0], e[0]) || !jV(r[1], e[1]) ? !1 : (r[0][0] = Io(r[0][0], e[0][0]), r[0][1] = bi(r[0][1], e[0][1]), r[1][0] = Io(r[1][0], e[1][0]), r[1][1] = bi(r[1][1], e[1][1]), !0);
}
function jV(r, e) {
  return r[1] >= e[0] && r[0] <= e[1];
}
function qV(r, e) {
  r.id.set(e[0][0], e[1][0]), r.span.set(e[0][1] - r.id.x + 1, e[1][1] - r.id.y + 1);
}
function FAe(r, e) {
  r[0][0] = e[0][0], r[0][1] = e[0][1], r[1][0] = e[1][0], r[1][1] = e[1][1];
}
function XV(r, e, t, i) {
  var a = oE(e[i][0], t, i), n = oE(e[i][1], t, i);
  r[cr[i]] = r[Ii[i]] = NaN, a && n && (r[cr[i]] = a.xy, r[Ii[i]] = n.xy + n.wh - a.xy);
}
function hg(r, e, t, i) {
  return r[cr[e]] = t, r[cr[1 - e]] = i, r;
}
function NAe(r) {
  return r && (r.type === fu.leaf || r.type === fu.nonLeaf) ? r : null;
}
function Nb() {
  return {
    x: NaN,
    y: NaN,
    width: NaN,
    height: NaN
  };
}
var KV = (
  /** @class */
  function() {
    function r(e, t) {
      this._cells = [], this._levels = [], this.dim = e, this.dimIdx = e === "x" ? 0 : 1, this._model = t, this._uniqueValueGen = BAe(e);
      var i = t.get("data", !0);
      i != null && !Ke(i) && (process.env.NODE_ENV !== "production" && Nr("Illegal echarts option - matrix." + this.dim + ".data must be an array if specified."), i = []), i ? this._initByDimModelData(i) : this._initBySeriesData();
    }
    return r.prototype._initByDimModelData = function(e) {
      var t = this, i = t._cells, a = t._levels, n = [], o = 0;
      t._leavesCount = s(e, 0, 0), l();
      return;
      function s(u, c, f) {
        var d = 0;
        return u && J(u, function(p, v) {
          var y = !1, _;
          vt(p) ? _ = {
            value: p
          } : zt(p) ? (_ = p, p.value != null && !vt(p.value) && (y = !0, _ = {
            value: null
          })) : (_ = {
            value: null
          }, p != null && (y = !0)), y && process.env.NODE_ENV !== "production" && Nr("Illegal echarts option - matrix." + t.dim + ".data[" + v + "] must be `string | {value: string}`.");
          var w = {
            type: fu.nonLeaf,
            ordinal: NaN,
            level: f,
            firstLeafLocator: c,
            id: new Xt(),
            span: hg(new Xt(), t.dimIdx, 1, 1),
            option: _,
            xy: NaN,
            wh: NaN,
            dim: t,
            rect: Nb()
          };
          o++, (n[c] || (n[c] = [])).push(w), a[f] || (a[f] = {
            type: fu.level,
            xy: NaN,
            wh: NaN,
            option: null,
            id: new Xt(),
            dim: t
          });
          var S = s(_.children, c, f + 1), x = Math.max(1, S);
          w.span[cr[t.dimIdx]] = x, d += x, c += x;
        }), d;
      }
      function l() {
        for (var u = []; i.length < o; )
          for (var c = 0; c < n.length; c++) {
            var f = n[c].pop();
            if (f) {
              f.ordinal = u.length;
              var d = f.option.value;
              u.push(d), i.push(f), t._uniqueValueGen.calcDupBase(d);
            }
          }
        t._uniqueValueGen.ensureValueUnique(u, i);
        var p = t._ordinalMeta = new S1({
          categories: u,
          needCollect: !1,
          deduplication: !1
        });
        t._scale = new x1({
          ordinalMeta: p
        });
        for (var v = 0; v < t._leavesCount; v++) {
          var y = t._cells[v];
          y.type = fu.leaf, y.span[cr[1 - t.dimIdx]] = t._levels.length - y.level;
        }
        t._initCellsId(), t._initLevelIdOptions();
      }
    }, r.prototype._initBySeriesData = function() {
      var e = this;
      e._leavesCount = 0, e._levels = [{
        type: fu.level,
        xy: NaN,
        wh: NaN,
        option: null,
        id: new Xt(),
        dim: e
      }], e._initLevelIdOptions();
      var t = e._ordinalMeta = new S1({
        needCollect: !0,
        deduplication: !0,
        onCollect: function(i, a) {
          var n = e._cells[a] = {
            type: fu.leaf,
            ordinal: a,
            level: 0,
            firstLeafLocator: a,
            id: new Xt(),
            span: hg(new Xt(), e.dimIdx, 1, 1),
            // Theoretically `value` is from `dataset` or `series.data`, so it may be any type.
            // Do not restrict this case for user's convenience, and here simply convert it to
            // string for display.
            option: {
              value: i + ""
            },
            xy: NaN,
            wh: NaN,
            dim: e,
            rect: Nb()
          };
          e._leavesCount++, e._setCellId(n);
        }
      });
      e._scale = new x1({
        ordinalMeta: t
      });
    }, r.prototype._setCellId = function(e) {
      var t = this._levels.length, i = this.dimIdx;
      hg(e.id, i, e.firstLeafLocator, e.level - t);
    }, r.prototype._initCellsId = function() {
      var e = this._levels.length, t = this.dimIdx;
      J(this._cells, function(i) {
        hg(i.id, t, i.firstLeafLocator, i.level - e);
      });
    }, r.prototype._initLevelIdOptions = function() {
      var e = this._levels.length, t = this.dimIdx, i = this._model.get("levels", !0);
      i = Ke(i) ? i : [], J(this._levels, function(a, n) {
        hg(a.id, t, 0, n - e), a.option = i[n];
      });
    }, r.prototype.shouldShow = function() {
      return !!this._model.getShallow("show", !0);
    }, r.prototype.resetLayoutIterator = function(e, t, i, a) {
      if (e = e || new Gc(), t === this.dimIdx) {
        var n = this._leavesCount, o = i != null ? Math.max(0, i) : 0;
        a = a != null ? Math.min(a, n) : n, e.reset(this._cells, o, o + a);
      } else {
        var n = this._levels.length, o = i != null ? Math.max(0, i + n) : 0;
        a = a != null ? Math.min(a, n) : n, e.reset(this._levels, o, o + a);
      }
      return e;
    }, r.prototype.resetCellIterator = function(e) {
      return (e || new Gc()).reset(this._cells, 0);
    }, r.prototype.resetLevelIterator = function(e) {
      return (e || new Gc()).reset(this._levels, 0);
    }, r.prototype.getLayout = function(e, t, i) {
      var a = this.getUnitLayoutInfo(t, i);
      e[cr[t]] = a ? a.xy : NaN, e[Ii[t]] = a ? a.wh : NaN;
    }, r.prototype.getUnitLayoutInfo = function(e, t) {
      return e === this.dimIdx ? t < this._leavesCount ? this._cells[t] : void 0 : this._levels[t + this._levels.length];
    }, r.prototype.getCell = function(e) {
      var t = this._scale.parse(e);
      return Zi(t) ? void 0 : this._cells[t];
    }, r.prototype.getLocatorCount = function(e) {
      return e === this.dimIdx ? this._leavesCount : this._levels.length;
    }, r.prototype.getOrdinalMeta = function() {
      return this._ordinalMeta;
    }, r;
  }()
);
function BAe(r) {
  var e = r.toUpperCase(), t = new RegExp("^" + e + "([0-9]+)$"), i = 0;
  function a(s) {
    var l;
    s != null && (l = s.match(t)) && (i = bi(i, +l[1] + 1));
  }
  function n() {
    return "" + e + i++;
  }
  function o(s, l) {
    for (var u = Pt(), c = 0; c < s.length; c++) {
      var f = s[c];
      (f == null || u.get(f) != null) && (s[c] = f = n(), l[c].option = Yt({
        value: f
      }, l[c].option)), u.set(f, !0);
    }
  }
  return {
    calcDupBase: a,
    ensureValueUnique: o
  };
}
var ZV = (
  /** @class */
  function() {
    function r(e, t, i) {
      this._model = t, this._dims = i, this._kind = e, this._cellMergeOwnerList = [];
    }
    return r.prototype._ensureCellMap = function() {
      var e = this, t = e._cellMap;
      return t || (t = e._cellMap = Pt(), i()), t;
      function i() {
        var n = [], o = e._model.getShallow("data");
        o && !Ke(o) && (process.env.NODE_ENV !== "production" && Nr("matrix." + o + ".data must be an array if specified."), o = null), J(o, function(v, y) {
          if (!zt(v) || !Ke(v.coord)) {
            process.env.NODE_ENV !== "production" && Nr("Illegal matrix." + e._kind + ".data[" + y + "], must be a {coord: [...], ...}");
            return;
          }
          var _ = JZ([]), w = null;
          if (process.env.NODE_ENV !== "production" && (w = []), QZ(_, w, v.coord, e._dims, v.coordClamp ? Mu[e._kind] : Mu.none), b2(_, 0) || b2(_, 1)) {
            process.env.NODE_ENV !== "production" && Nr("Can not determine cells by option matrix." + e._kind + ".data[" + y + "]: " + ("" + w.join(" ")));
            return;
          }
          var S = v && v.mergeCells, x = {
            id: new Xt(),
            span: new Xt(),
            locatorRange: _,
            option: v,
            cellMergeOwner: S
          };
          qV(x, _), n.push(x);
        });
        for (var s = [], l = 0; l < n.length; l++) {
          var u = n[l];
          if (u.cellMergeOwner) {
            var c = u.locatorRange;
            YV(c, s, n, l);
            for (var f = 0; f < l; f++)
              s[f] && (n[f].cellMergeOwner = !1);
            if (c[0][0] !== u.id.x || c[1][0] !== u.id.y) {
              u.cellMergeOwner = !1;
              var d = $e({}, u.option);
              d.coord = null;
              var p = {
                id: new Xt(),
                span: new Xt(),
                locatorRange: c,
                option: d,
                cellMergeOwner: !0
              };
              qV(p, c), n.push(p);
            }
          }
        }
        J(n, function(v) {
          var y = a(v.id.x, v.id.y);
          if (v.cellMergeOwner && (y.cellMergeOwner = !0, y.span = v.span, y.locatorRange = v.locatorRange, y.spanRect = Nb(), e._cellMergeOwnerList.push(y)), !(!v.cellMergeOwner && !v.option))
            for (var _ = 0; _ < v.span.y; _++)
              for (var w = 0; w < v.span.x; w++) {
                var S = a(v.id.x + w, v.id.y + _);
                S.option = v.option, v.cellMergeOwner && (S.inSpanOf = y);
              }
        });
      }
      function a(n, o) {
        var s = JV(n, o), l = t.get(s);
        return l || (l = t.set(s, {
          id: new Xt(n, o),
          option: null,
          inSpanOf: null,
          span: null,
          spanRect: null,
          locatorRange: null,
          cellMergeOwner: !1
        })), l;
      }
    }, r.prototype.getCell = function(e) {
      return this._ensureCellMap().get(JV(e[0], e[1]));
    }, r.prototype.travelExistingCells = function(e) {
      this._ensureCellMap().each(e);
    }, r.prototype.expandRangeByCellMerge = function(e) {
      if (!b2(e, 0) && !b2(e, 1) && e[0][0] === e[0][1] && e[1][0] === e[1][1]) {
        sT[0] = e[0][0], sT[1] = e[1][0];
        var t = this.getCell(sT), i = t && t.inSpanOf;
        if (i) {
          FAe(e, i.locatorRange);
          return;
        }
      }
      var a = this._cellMergeOwnerList;
      YV(e, null, a, a.length);
    }, r;
  }()
), sT = [];
function JV(r, e) {
  return r + "|" + e;
}
var Vk = {
  show: !0,
  color: Ve.color.secondary,
  // overflow: 'truncate',
  overflow: "break",
  lineOverflow: "truncate",
  padding: [2, 3, 2, 3],
  // Prefer to use `padding`, rather than distance.
  distance: 0
};
function Uk(r) {
  return {
    color: "none",
    borderWidth: 1,
    borderColor: r ? "none" : Ve.color.borderTint
  };
}
var QV = {
  show: !0,
  label: Vk,
  itemStyle: Uk(!1),
  silent: void 0,
  dividerLineStyle: {
    width: 1,
    color: Ve.color.border
  }
}, VAe = {
  label: Vk,
  itemStyle: Uk(!1),
  silent: void 0
}, UAe = {
  label: Vk,
  itemStyle: Uk(!0),
  silent: void 0
}, GAe = {
  // As a most basic coord sys, `z` should be lower than
  // other series and coord sys, such as, grid.
  z: -50,
  left: "10%",
  top: "10%",
  right: "10%",
  bottom: "10%",
  x: QV,
  y: QV,
  body: VAe,
  corner: UAe,
  backgroundStyle: {
    color: "none",
    borderColor: Ve.color.axisLine,
    borderWidth: 1
  }
}, zAe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.optionUpdated = function() {
      var t = this._dimModels = {
        // Do not use matrixModel as the parent model, for preventing from cascade-fetching options to it.
        x: new eU(this.get("x", !0) || {}),
        y: new eU(this.get("y", !0) || {})
      };
      t.x.option.type = t.y.option.type = "category";
      var i = t.x.dim = new KV("x", t.x), a = t.y.dim = new KV("y", t.y), n = {
        x: i,
        y: a
      };
      this._body = new ZV("body", new Vr(this.getShallow("body")), n), this._corner = new ZV("corner", new Vr(this.getShallow("corner")), n);
    }, e.prototype.getDimensionModel = function(t) {
      return this._dimModels[t];
    }, e.prototype.getBody = function() {
      return this._body;
    }, e.prototype.getCorner = function() {
      return this._corner;
    }, e.type = "matrix", e.layoutMode = "box", e.defaultOption = GAe, e;
  }(Rr)
), eU = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e.prototype.getOrdinalMeta = function() {
      return this.dim.getOrdinalMeta();
    }, e;
  }(Vr)
);
const WAe = zAe;
var w2 = Math.round, HAe = 0, $Ae = 99, YAe = {
  normal: 25,
  special: 100
}, jAe = {
  normal: 50,
  special: 125
}, qAe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i) {
      this.group.removeAll();
      var a = this.group, n = t.coordinateSystem, o = n.getRect(), s = t.getDimensionModel("x"), l = t.getDimensionModel("y"), u = s.dim, c = l.dim;
      XAe(a, t, i), KAe(a, t, u, c, i);
      var f = t.getShallow("borderZ2", !0), d = It(f, $Ae), p = d - 1, v = t.getModel("backgroundStyle").getItemStyle(["borderWidth"]);
      v.lineWidth = 0;
      var y = t.getModel("backgroundStyle").getItemStyle(["color", "decal", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"]);
      y.fill = "none";
      var _ = sE(o.clone(), v, HAe), w = sE(o.clone(), y, d);
      _.silent = !0, w.silent = !0, a.add(_), a.add(w);
      var S = u.getUnitLayoutInfo(0, 0), x = c.getUnitLayoutInfo(1, 0);
      S && x && (u.shouldShow() && a.add(tU({
        x1: o.x,
        y1: x.xy,
        x2: o.x + o.width,
        y2: x.xy
      }, s.getModel("dividerLineStyle").getLineStyle(), p)), c.shouldShow() && a.add(tU({
        x1: S.xy,
        y1: o.y,
        x2: S.xy,
        y2: o.y + o.height
      }, l.getModel("dividerLineStyle").getLineStyle(), p)));
    }, e.type = "matrix", e;
  }(Pn)
);
function XAe(r, e, t) {
  i(0), i(1);
  function i(a) {
    var n = e.getDimensionModel(cr[a]), o = n.dim;
    if (o.shouldShow())
      for (var s = n.getModel("itemStyle"), l = n.getModel("label"), u = e.getShallow("tooltip", !0), c = [], f = o.resetCellIterator(); f.next(); ) {
        var d = f.item, p = {};
        Jt.copy(p, d.rect), lS(c, d.id.x, d.id.y), eJ(c, e, r, t, d.option, s, l, n, p, d.option.value, jAe, u);
      }
  }
}
function KAe(r, e, t, i, a) {
  n("body", e.getBody(), t, i), t.shouldShow() && i.shouldShow() && n("corner", e.getCorner(), i, t);
  function n(o, s, l, u) {
    var c = new Vr(e.getShallow(o, !0)), f = c.getModel("itemStyle"), d = c.getModel("label"), p = new Gc(), v = new Gc(), y = [], _ = e.getShallow("tooltip", !0);
    for (u.resetLayoutIterator(v, 1); v.next(); )
      for (l.resetLayoutIterator(p, 0); p.next(); ) {
        var w = p.item, S = v.item;
        lS(y, w.id.x, S.id.y);
        var x = s.getCell(y);
        if (!(x && x.inSpanOf && x.inSpanOf !== x)) {
          var E = {};
          x && x.span ? Jt.copy(E, x.spanRect) : (w.dim.getLayout(E, 0, y[0]), S.dim.getLayout(E, 1, y[1]));
          var M = x ? x.option : null;
          eJ(y, e, r, a, M, f, d, c, E, M ? M.value : null, YAe, _);
        }
      }
  }
}
function eJ(r, e, t, i, a, n, o, s, l, u, c, f) {
  var d;
  S2.option = a ? a.itemStyle : null, S2.parentModel = n, Sp.option = a, Sp.parentModel = s;
  var p = It(Sp.getShallow("z2"), a && a.itemStyle ? c.special : c.normal), v = f && f.show, y = sE(l, S2.getItemStyle(), p);
  t.add(y);
  var _ = Sp.get("cursor");
  _ != null && y.attr("cursor", _);
  var w;
  if (u != null) {
    var S = u + "";
    if (xp.option = a ? a.label : null, xp.parentModel = o, xp.ecModel = i, ea(
      y,
      // Currently do not support other states (`emphasis`, `select`, `blur`)
      {
        normal: xp
      },
      {
        defaultText: S,
        autoOverflowArea: !0,
        // By default based on boundingRect. But boundingRect contains borderWidth,
        // and borderWidth is half outside the cell. Thus specific `layoutRect` explicitly.
        layoutRect: Gt(y.shape)
      }
    ), w = y.getTextContent(), w) {
      w.z2 = p + 1;
      var x = w.style;
      if (x && x.overflow && x.overflow !== "none" && x.lineOverflow) {
        var E = {};
        Jt.copy(E, l), td(E, (((d = y.style) === null || d === void 0 ? void 0 : d.lineWidth) || 0) / 2, !0, !0), y.updateInnerText(), w.getLocalTransform(x2), us(x2, x2), Jt.applyTransform(E, E, x2), w.setClipPath(new Cr({
          shape: E
        }));
      }
    }
    nc({
      el: y,
      componentModel: e,
      itemName: S,
      itemTooltipOption: f,
      formatterParamsExtra: {
        xyLocator: r.slice()
      }
    });
  }
  if (w) {
    var M = xp.get("silent");
    M == null && (M = !v), w.silent = M, w.ignoreHostSilent = !0;
  }
  var k = Sp.get("silent");
  k == null && (k = // If no background color in cell, set `rect.silent: false` will cause that only
  // the border response to mouse hovering, which is probably weird.
  !y.style || y.style.fill === "none" || !y.style.fill), y.silent = k, m3(Sp), m3(S2), m3(xp);
}
var Sp = new Vr(), S2 = new Vr(), xp = new Vr(), x2 = [];
function sE(r, e, t) {
  var i = e.lineWidth;
  if (i) {
    var a = r.x + r.width, n = r.y + r.height;
    r.x = ko(r.x, i, !0), r.y = ko(r.y, i, !0), r.width = ko(a, i, !0) - r.x, r.height = ko(n, i, !0) - r.y;
  }
  return new Cr({
    shape: r,
    style: e,
    z2: t
  });
}
function tU(r, e, t) {
  var i = e.lineWidth;
  return i && (w2(r.x1 * 2) === w2(r.x2 * 2) && (r.x1 = r.x2 = ko(r.x1, i, !0)), w2(r.y1 * 2) === w2(r.y2 * 2) && (r.y1 = r.y2 = ko(r.y1, i, !0))), new ki({
    shape: r,
    style: e,
    silent: !0,
    z2: t
  });
}
const ZAe = qAe;
var JAe = (
  /** @class */
  function() {
    function r(e, t, i) {
      this.dimensions = r.dimensions, this.type = "matrix", this._model = e;
      var a = this._dimModels = {
        x: e.getDimensionModel("x"),
        y: e.getDimensionModel("y")
      };
      this._dims = {
        x: a.x.dim,
        y: a.y.dim
      }, this._resize(e, i);
    }
    return r.getDimensionsInfo = function() {
      return [{
        name: "x",
        type: "ordinal"
      }, {
        name: "y",
        type: "ordinal"
      }, {
        name: "value"
      }];
    }, r.create = function(e, t) {
      var i = [];
      return e.eachComponent("matrix", function(a) {
        var n = new r(a, e, t);
        i.push(n), a.coordinateSystem = n;
      }), e.eachComponent(function(a, n) {
        sm({
          targetModel: n,
          coordSysType: "matrix",
          coordSysProvider: sj
        });
      }), i;
    }, r.prototype.getRect = function() {
      return this._rect;
    }, r.prototype._resize = function(e, t) {
      var i = this._dims, a = this._dimModels, n = this._rect = Bn(e.getBoxLayoutParams(), {
        width: t.getWidth(),
        height: t.getHeight()
      });
      rU(a, i, n, 0), rU(a, i, n, 1), nU(0, i), nU(1, i), iU(this._model.getBody(), i), iU(this._model.getCorner(), i);
    }, r.prototype.dataToPoint = function(e, t, i) {
      return i = i || [], this.dataToLayout(e, t, fg), i[0] = fg.rect.x + fg.rect.width / 2, i[1] = fg.rect.y + fg.rect.height / 2, i;
    }, r.prototype.dataToLayout = function(e, t, i) {
      var a = this._dims;
      i = i || {};
      var n = i.rect = i.rect || {};
      n.x = n.y = n.width = n.height = NaN;
      var o = i.matrixXYLocatorRange = JZ(i.matrixXYLocatorRange);
      return Ke(e) ? (QZ(o, null, e, a, It(t && t.clamp, Mu.none)), (!t || !t.ignoreMergeCells) && ((!t || t.clamp !== Mu.corner) && this._model.getBody().expandRangeByCellMerge(o), (!t || t.clamp !== Mu.body) && this._model.getCorner().expandRangeByCellMerge(o)), XV(n, o, a, 0), XV(n, o, a, 1), i) : (process.env.NODE_ENV !== "production" && Nr("Input data must be an array in `convertToLayout`, `convertToPixel`"), i);
    }, r.prototype.pointToData = function(e, t, i) {
      var a = this._dims;
      return aU(ul, 0, a, e, t && t.clamp), aU(ul, 1, a, e, t && t.clamp), i = i || [], i[0] = i[1] = NaN, ul.y === ma.inCorner && ul.x === ma.inBody ? oU(ul, i, 0, a) : ul.x === ma.inCorner && ul.y === ma.inBody ? oU(ul, i, 1, a) : (sU(ul, i, 0, a), sU(ul, i, 1, a)), i;
    }, r.prototype.convertToPixel = function(e, t, i, a) {
      var n = uT(t);
      return n === this ? n.dataToPoint(i, a) : void 0;
    }, r.prototype.convertToLayout = function(e, t, i, a) {
      var n = uT(t);
      return n === this ? n.dataToLayout(i, a) : void 0;
    }, r.prototype.convertFromPixel = function(e, t, i, a) {
      var n = uT(t);
      return n === this ? n.pointToData(i, a) : void 0;
    }, r.prototype.containPoint = function(e) {
      return this._rect.contain(e[0], e[1]);
    }, r.dimensions = ["x", "y", "value"], r;
  }()
), fg = {
  rect: Nb()
}, T2 = new Gc(), lT = new Gc();
function rU(r, e, t, i) {
  for (var a = 1 - i, n = e[cr[i]], o = e[cr[a]], s = o.shouldShow(), l = n.resetCellIterator(); l.next(); )
    l.item.wh = l.item.xy = NaN;
  for (var u = o.resetLayoutIterator(null, i); u.next(); )
    u.item.wh = u.item.xy = NaN;
  for (var c = t[Ii[i]], f = n.getLocatorCount(i) + o.getLocatorCount(i), d = new Vr(), p = o.resetLevelIterator(); p.next(); )
    d.option = p.item.option, d.parentModel = r[cr[a]], _(p.item, s ? d.get("levelSize") : 0);
  for (var v = new Vr(), y = n.resetCellIterator(); y.next(); )
    y.item.type === fu.leaf && (v.option = y.item.option, v.parentModel = void 0, _(y.item, v.get("size")));
  function _(P, L) {
    var F = QAe(L, i, t);
    Zi(F) || (P.wh = lE(F, c), c = lE(c - P.wh), f--);
  }
  var w = f ? c / f : 0, S = !f && c >= 1, x = t[cr[i]], E = n.getLocatorCount(i) - 1, M = new Gc();
  for (o.resetLayoutIterator(M, i); M.next(); )
    k(M.item);
  for (n.resetLayoutIterator(M, i); M.next(); )
    k(M.item);
  function k(P) {
    Zi(P.wh) && (P.wh = w), P.xy = x, P.id[cr[i]] === E && !S && (P.wh = t[cr[i]] + t[Ii[i]] - P.xy), x += P.wh;
  }
}
function nU(r, e) {
  for (var t = e[cr[r]].resetCellIterator(); t.next(); ) {
    var i = t.item;
    Bb(i.rect, r, i.id, i.span, e), Bb(i.rect, 1 - r, i.id, i.span, e), i.type === fu.nonLeaf && (i.xy = i.rect[cr[r]], i.wh = i.rect[Ii[r]]);
  }
}
function iU(r, e) {
  r.travelExistingCells(function(t) {
    var i = t.span;
    if (i) {
      var a = t.spanRect, n = t.id;
      Bb(a, 0, n, i, e), Bb(a, 1, n, i, e);
    }
  });
}
function Bb(r, e, t, i, a) {
  r[Ii[e]] = 0;
  var n = t[cr[e]], o = n < 0 ? a[cr[1 - e]] : a[cr[e]], s = o.getUnitLayoutInfo(e, t[cr[e]]);
  if (r[cr[e]] = s.xy, r[Ii[e]] = s.wh, i[cr[e]] > 1) {
    var l = o.getUnitLayoutInfo(e, t[cr[e]] + i[cr[e]] - 1);
    r[Ii[e]] = l.xy + l.wh - s.xy;
  }
}
function QAe(r, e, t) {
  var i = W_(r, t[Ii[e]]);
  return lE(i, t[Ii[e]]);
}
function lE(r, e) {
  return Math.max(Math.min(r, It(e, 1 / 0)), 0);
}
function uT(r) {
  var e = r.matrixModel, t = r.seriesModel, i = e ? e.coordinateSystem : t ? t.coordinateSystem : null;
  return i;
}
var ma = {
  inBody: 1,
  inCorner: 2,
  outside: 3
}, ul = {
  x: null,
  y: null,
  point: []
};
function aU(r, e, t, i, a) {
  var n = t[cr[e]], o = t[cr[1 - e]], s = n.getUnitLayoutInfo(e, n.getLocatorCount(e) - 1), l = n.getUnitLayoutInfo(e, 0), u = o.getUnitLayoutInfo(e, -o.getLocatorCount(e)), c = o.shouldShow() ? o.getUnitLayoutInfo(e, -1) : null, f = r.point[e] = i[e];
  if (!l && !c) {
    r[cr[e]] = ma.outside;
    return;
  }
  if (a === Mu.body) {
    l ? (r[cr[e]] = ma.inBody, f = Io(s.xy + s.wh, bi(l.xy, f)), r.point[e] = f) : r[cr[e]] = ma.outside;
    return;
  } else if (a === Mu.corner) {
    c ? (r[cr[e]] = ma.inCorner, f = Io(c.xy + c.wh, bi(u.xy, f)), r.point[e] = f) : r[cr[e]] = ma.outside;
    return;
  }
  var d = l ? l.xy : c ? c.xy + c.wh : NaN, p = u ? u.xy : d, v = s ? s.xy + s.wh : d;
  if (f < p) {
    if (!a) {
      r[cr[e]] = ma.outside;
      return;
    }
    f = p;
  } else if (f > v) {
    if (!a) {
      r[cr[e]] = ma.outside;
      return;
    }
    f = v;
  }
  r.point[e] = f, r[cr[e]] = d <= f && f <= v ? ma.inBody : p <= f && f <= d ? ma.inCorner : ma.outside;
}
function oU(r, e, t, i) {
  var a = 1 - t;
  if (r[cr[t]] !== ma.outside)
    for (i[cr[t]].resetCellIterator(lT); lT.next(); ) {
      var n = lT.item;
      if (lU(r.point[t], n.rect, t) && lU(r.point[a], n.rect, a)) {
        e[t] = n.ordinal, e[a] = n.id[cr[a]];
        return;
      }
    }
}
function sU(r, e, t, i) {
  if (r[cr[t]] !== ma.outside) {
    var a = r[cr[t]] === ma.inCorner ? i[cr[1 - t]] : i[cr[t]];
    for (a.resetLayoutIterator(T2, t); T2.next(); )
      if (e6e(r.point[t], T2.item)) {
        e[t] = T2.item.id[cr[t]];
        return;
      }
  }
}
function e6e(r, e) {
  return e.xy <= r && r <= e.xy + e.wh;
}
function lU(r, e, t) {
  return e[cr[t]] <= r && r <= e[cr[t]] + e[Ii[t]];
}
const t6e = JAe;
function r6e(r) {
  r.registerComponentModel(WAe), r.registerComponentView(ZAe), r.registerCoordinateSystem("matrix", t6e);
}
function n6e(r, e) {
  var t = r.existing;
  if (e.id = r.keyInfo.id, !e.type && t && (e.type = t.type), e.parentId == null) {
    var i = e.parentOption;
    i ? e.parentId = i.id : t && (e.parentId = t.parentId);
  }
  e.parentOption = null;
}
function uU(r, e) {
  var t;
  return J(e, function(i) {
    r[i] != null && r[i] !== "auto" && (t = !0);
  }), t;
}
function i6e(r, e, t) {
  var i = $e({}, t), a = r[e], n = t.$action || "merge";
  if (n === "merge")
    if (a) {
      if (process.env.NODE_ENV !== "production") {
        var o = t.type;
        kt(!o || a.type === o, 'Please set $action: "replace" to change `type`');
      }
      gr(a, i, !0), Pl(a, i, {
        ignoreSize: !0
      }), fj(t, a), C2(t, a), C2(t, a, "shape"), C2(t, a, "style"), C2(t, a, "extra"), t.clipPath = a.clipPath;
    } else
      r[e] = i;
  else
    n === "replace" ? r[e] = i : n === "remove" && a && (r[e] = null);
}
var tJ = ["transition", "enterFrom", "leaveTo"], a6e = tJ.concat(["enterAnimation", "updateAnimation", "leaveAnimation"]);
function C2(r, e, t) {
  if (t && (!r[t] && e[t] && (r[t] = {}), r = r[t], e = e[t]), !(!r || !e))
    for (var i = t ? tJ : a6e, a = 0; a < i.length; a++) {
      var n = i[a];
      r[n] == null && e[n] != null && (r[n] = e[n]);
    }
}
function o6e(r, e) {
  if (r && (r.hv = e.hv = [
    // Rigid body, don't care about `width`.
    uU(e, ["left", "right"]),
    // Rigid body, don't care about `height`.
    uU(e, ["top", "bottom"])
  ], r.type === "group")) {
    var t = r, i = e;
    t.width == null && (t.width = i.width = 0), t.height == null && (t.height = i.height = 0);
  }
}
var s6e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.preventAutoZ = !0, t;
    }
    return e.prototype.mergeOption = function(t, i) {
      var a = this.option.elements;
      this.option.elements = null, r.prototype.mergeOption.call(this, t, i), this.option.elements = a;
    }, e.prototype.optionUpdated = function(t, i) {
      var a = this.option, n = (i ? a : t).elements, o = a.elements = i ? [] : a.elements, s = [];
      this._flatten(n, s, null);
      var l = H$(o, s, "normalMerge"), u = this._elOptionsToUpdate = [];
      J(l, function(c, f) {
        var d = c.newOption;
        process.env.NODE_ENV !== "production" && kt(zt(d) || c.existing, "Empty graphic option definition"), d && (u.push(d), n6e(c, d), i6e(o, f, d), o6e(o[f], d));
      }, this), a.elements = Xr(o, function(c) {
        return c && delete c.$action, c != null;
      });
    }, e.prototype._flatten = function(t, i, a) {
      J(t, function(n) {
        if (n) {
          a && (n.parentOption = a), i.push(n);
          var o = n.children;
          o && o.length && this._flatten(o, i, n), delete n.children;
        }
      }, this);
    }, e.prototype.useElOptionsToUpdate = function() {
      var t = this._elOptionsToUpdate;
      return this._elOptionsToUpdate = null, t;
    }, e.type = "graphic", e.defaultOption = {
      elements: []
      // parentId: null
    }, e;
  }(Rr)
), cU = {
  // Reserved but not supported in graphic component.
  path: null,
  compoundPath: null,
  // Supported in graphic component.
  group: Wt,
  image: ha,
  text: Br
}, es = Ar(), l6e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.init = function() {
      this._elMap = Pt();
    }, e.prototype.render = function(t, i, a) {
      t !== this._lastGraphicModel && this._clear(), this._lastGraphicModel = t, this._updateElements(t), this._relocate(t, a);
    }, e.prototype._updateElements = function(t) {
      var i = t.useElOptionsToUpdate();
      if (i) {
        var a = this._elMap, n = this.group, o = t.get("z"), s = t.get("zlevel");
        J(i, function(l) {
          var u = Vi(l.id, null), c = u != null ? a.get(u) : null, f = Vi(l.parentId, null), d = f != null ? a.get(f) : n, p = l.type, v = l.style;
          p === "text" && v && l.hv && l.hv[1] && (v.textVerticalAlign = v.textBaseline = v.verticalAlign = v.align = null);
          var y = l.textContent, _ = l.textConfig;
          if (v && MZ(v, p, !!_, !!y)) {
            var w = IZ(v, p, !0);
            !_ && w.textConfig && (_ = l.textConfig = w.textConfig), !y && w.textContent && (y = w.textContent);
          }
          var S = u6e(l);
          process.env.NODE_ENV !== "production" && c && kt(d === c.parent, "Changing parent is not supported.");
          var x = l.$action || "merge", E = x === "merge", M = x === "replace";
          if (E) {
            var k = !c, P = c;
            k ? P = hU(u, d, l.type, a) : (P && (es(P).isNew = !1), FZ(P)), P && (c_(P, S, t, {
              isInit: k
            }), fU(P, l, o, s));
          } else if (M) {
            f_(c, l, a, t);
            var L = hU(u, d, l.type, a);
            L && (c_(L, S, t, {
              isInit: !0
            }), fU(L, l, o, s));
          } else
            x === "remove" && (RZ(c, l), f_(c, l, a, t));
          var F = a.get(u);
          if (F && y)
            if (E) {
              var O = F.getTextContent();
              O ? O.attr(y) : F.setTextContent(new Br(y));
            } else
              M && F.setTextContent(new Br(y));
          if (F) {
            var U = l.clipPath;
            if (U) {
              var V = U.type, G = void 0, k = !1;
              if (E) {
                var Z = F.getClipPath();
                k = !Z || es(Z).type !== V, G = k ? uE(V) : Z;
              } else
                M && (k = !0, G = uE(V));
              F.setClipPath(G), c_(G, U, t, {
                isInit: k
              }), Rb(G, U.keyframeAnimation, t);
            }
            var Q = es(F);
            F.setTextConfig(_), Q.option = l, c6e(F, t, l), nc({
              el: F,
              componentModel: t,
              itemName: F.name,
              itemTooltipOption: l.tooltip
            }), Rb(F, l.keyframeAnimation, t);
          }
        });
      }
    }, e.prototype._relocate = function(t, i) {
      for (var a = t.option.elements, n = this.group, o = this._elMap, s = i.getWidth(), l = i.getHeight(), u = ["x", "y"], c = 0; c < a.length; c++) {
        var f = a[c], d = Vi(f.id, null), p = d != null ? o.get(d) : null;
        if (!(!p || !p.isGroup)) {
          var v = p.parent, y = v === n, _ = es(p), w = es(v);
          _.width = gt(_.option.width, y ? s : w.width) || 0, _.height = gt(_.option.height, y ? l : w.height) || 0;
        }
      }
      for (var c = a.length - 1; c >= 0; c--) {
        var f = a[c], d = Vi(f.id, null), p = d != null ? o.get(d) : null;
        if (p) {
          var v = p.parent, w = es(v), S = v === n ? {
            width: s,
            height: l
          } : {
            width: w.width,
            height: w.height
          }, x = {}, E = ES(p, f, S, null, {
            hv: f.hv,
            boundingMode: f.bounding
          }, x);
          if (!es(p).isNew && E) {
            for (var M = f.transition, k = {}, P = 0; P < u.length; P++) {
              var L = u[P], F = x[L];
              M && (qf(M) || dr(M, L) >= 0) ? k[L] = F : p[L] = F;
            }
            Wr(p, k, t, 0);
          } else
            p.attr(x);
        }
      }
    }, e.prototype._clear = function() {
      var t = this, i = this._elMap;
      i.each(function(a) {
        f_(a, es(a).option, i, t._lastGraphicModel);
      }), this._elMap = Pt();
    }, e.prototype.dispose = function() {
      this._clear();
    }, e.type = "graphic", e;
  }(Pn)
);
function uE(r) {
  process.env.NODE_ENV !== "production" && kt(r, "graphic type MUST be set");
  var e = xt(cU, r) ? cU[r] : p1(r);
  process.env.NODE_ENV !== "production" && kt(e, "graphic type " + r + " can not be found");
  var t = new e({});
  return es(t).type = r, t;
}
function hU(r, e, t, i) {
  var a = uE(t);
  return e.add(a), i.set(r, a), es(a).id = r, es(a).isNew = !0, a;
}
function f_(r, e, t, i) {
  var a = r && r.parent;
  a && (r.type === "group" && r.traverse(function(n) {
    f_(n, e, t, i);
  }), HS(r, e, i), t.removeKey(es(r).id));
}
function fU(r, e, t, i) {
  r.isGroup || J([
    ["cursor", cs.prototype.cursor],
    // We should not support configure z and zlevel in the element level.
    // But seems we didn't limit it previously. So here still use it to avoid breaking.
    ["zlevel", i || 0],
    ["z", t || 0],
    // z2 must not be null/undefined, otherwise sort error may occur.
    ["z2", 0]
  ], function(a) {
    var n = a[0];
    xt(e, n) ? r[n] = It(e[n], a[1]) : r[n] == null && (r[n] = a[1]);
  }), J(Ir(e), function(a) {
    if (a.indexOf("on") === 0) {
      var n = e[a];
      r[a] = Bt(n) ? n : null;
    }
  }), xt(e, "draggable") && (r.draggable = e.draggable), e.name != null && (r.name = e.name), e.id != null && (r.id = e.id);
}
function u6e(r) {
  return r = $e({}, r), J(["id", "parentId", "$action", "hv", "bounding", "textContent", "clipPath"].concat(lj), function(e) {
    delete r[e];
  }), r;
}
function c6e(r, e, t) {
  var i = er(r).eventData;
  !r.silent && !r.ignore && !i && (i = er(r).eventData = {
    componentType: "graphic",
    componentIndex: e.componentIndex,
    name: r.name
  }), i && (i.info = t.info);
}
function h6e(r) {
  r.registerComponentModel(s6e), r.registerComponentView(l6e), r.registerPreprocessor(function(e) {
    var t = e.graphic;
    Ke(t) ? !t[0] || !t[0].elements ? e.graphic = [{
      elements: t
    }] : e.graphic = [e.graphic[0]] : t && !t.elements && (e.graphic = [{
      elements: [t]
    }]);
  });
}
var dU = ["x", "y", "radius", "angle", "single"], f6e = ["cartesian2d", "polar", "singleAxis"];
function d6e(r) {
  var e = r.get("coordinateSystem");
  return dr(f6e, e) >= 0;
}
function Fc(r) {
  return process.env.NODE_ENV !== "production" && kt(r), r + "Axis";
}
function p6e(r, e) {
  var t = Pt(), i = [], a = Pt();
  r.eachComponent({
    mainType: "dataZoom",
    query: e
  }, function(c) {
    a.get(c.uid) || s(c);
  });
  var n;
  do
    n = !1, r.eachComponent("dataZoom", o);
  while (n);
  function o(c) {
    !a.get(c.uid) && l(c) && (s(c), n = !0);
  }
  function s(c) {
    a.set(c.uid, !0), i.push(c), u(c);
  }
  function l(c) {
    var f = !1;
    return c.eachTargetAxis(function(d, p) {
      var v = t.get(d);
      v && v[p] && (f = !0);
    }), f;
  }
  function u(c) {
    c.eachTargetAxis(function(f, d) {
      (t.get(f) || t.set(f, []))[d] = !0;
    });
  }
  return i;
}
function rJ(r) {
  var e = r.ecModel, t = {
    infoList: [],
    infoMap: Pt()
  };
  return r.eachTargetAxis(function(i, a) {
    var n = e.getComponent(Fc(i), a);
    if (n) {
      var o = n.getCoordSysModel();
      if (o) {
        var s = o.uid, l = t.infoMap.get(s);
        l || (l = {
          model: o,
          axisModels: []
        }, t.infoList.push(l), t.infoMap.set(s, l)), l.axisModels.push(n);
      }
    }
  }), t;
}
var cT = (
  /** @class */
  function() {
    function r() {
      this.indexList = [], this.indexMap = [];
    }
    return r.prototype.add = function(e) {
      this.indexMap[e] || (this.indexList.push(e), this.indexMap[e] = !0);
    }, r;
  }()
), v6e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t._autoThrottle = !0, t._noTarget = !0, t._rangePropMode = ["percent", "percent"], t;
    }
    return e.prototype.init = function(t, i, a) {
      var n = pU(t);
      this.settledOption = n, this.mergeDefaultAndTheme(t, a), this._doInit(n);
    }, e.prototype.mergeOption = function(t) {
      var i = pU(t);
      gr(this.option, t, !0), gr(this.settledOption, i, !0), this._doInit(i);
    }, e.prototype._doInit = function(t) {
      var i = this.option;
      this._setDefaultThrottle(t), this._updateRangeUse(t);
      var a = this.settledOption;
      J([["start", "startValue"], ["end", "endValue"]], function(n, o) {
        this._rangePropMode[o] === "value" && (i[n[0]] = a[n[0]] = null);
      }, this), this._resetTarget();
    }, e.prototype._resetTarget = function() {
      var t = this.get("orient", !0), i = this._targetAxisInfoMap = Pt(), a = this._fillSpecifiedTargetAxis(i);
      a ? this._orient = t || this._makeAutoOrientByTargetAxis() : (this._orient = t || "horizontal", this._fillAutoTargetAxisByOrient(i, this._orient)), this._noTarget = !0, i.each(function(n) {
        n.indexList.length && (this._noTarget = !1);
      }, this);
    }, e.prototype._fillSpecifiedTargetAxis = function(t) {
      var i = !1;
      return J(dU, function(a) {
        var n = this.getReferringComponents(Fc(a), jfe);
        if (n.specified) {
          i = !0;
          var o = new cT();
          J(n.models, function(s) {
            o.add(s.componentIndex);
          }), t.set(a, o);
        }
      }, this), i;
    }, e.prototype._fillAutoTargetAxisByOrient = function(t, i) {
      var a = this.ecModel, n = !0;
      if (n) {
        var o = i === "vertical" ? "y" : "x", s = a.findComponents({
          mainType: o + "Axis"
        });
        l(s, o);
      }
      if (n) {
        var s = a.findComponents({
          mainType: "singleAxis",
          filter: function(c) {
            return c.get("orient", !0) === i;
          }
        });
        l(s, "single");
      }
      function l(u, c) {
        var f = u[0];
        if (f) {
          var d = new cT();
          if (d.add(f.componentIndex), t.set(c, d), n = !1, c === "x" || c === "y") {
            var p = f.getReferringComponents("grid", ri).models[0];
            p && J(u, function(v) {
              f.componentIndex !== v.componentIndex && p === v.getReferringComponents("grid", ri).models[0] && d.add(v.componentIndex);
            });
          }
        }
      }
      n && J(dU, function(u) {
        if (n) {
          var c = a.findComponents({
            mainType: Fc(u),
            filter: function(d) {
              return d.get("type", !0) === "category";
            }
          });
          if (c[0]) {
            var f = new cT();
            f.add(c[0].componentIndex), t.set(u, f), n = !1;
          }
        }
      }, this);
    }, e.prototype._makeAutoOrientByTargetAxis = function() {
      var t;
      return this.eachTargetAxis(function(i) {
        !t && (t = i);
      }, this), t === "y" ? "vertical" : "horizontal";
    }, e.prototype._setDefaultThrottle = function(t) {
      if (t.hasOwnProperty("throttle") && (this._autoThrottle = !1), this._autoThrottle) {
        var i = this.ecModel.option;
        this.option.throttle = i.animation && i.animationDurationUpdate > 0 ? 100 : 20;
      }
    }, e.prototype._updateRangeUse = function(t) {
      var i = this._rangePropMode, a = this.get("rangeMode");
      J([["start", "startValue"], ["end", "endValue"]], function(n, o) {
        var s = t[n[0]] != null, l = t[n[1]] != null;
        s && !l ? i[o] = "percent" : !s && l ? i[o] = "value" : a ? i[o] = a[o] : s && (i[o] = "percent");
      });
    }, e.prototype.noTarget = function() {
      return this._noTarget;
    }, e.prototype.getFirstTargetAxisModel = function() {
      var t;
      return this.eachTargetAxis(function(i, a) {
        t == null && (t = this.ecModel.getComponent(Fc(i), a));
      }, this), t;
    }, e.prototype.eachTargetAxis = function(t, i) {
      this._targetAxisInfoMap.each(function(a, n) {
        J(a.indexList, function(o) {
          t.call(i, n, o);
        });
      });
    }, e.prototype.getAxisProxy = function(t, i) {
      var a = this.getAxisModel(t, i);
      if (a)
        return a.__dzAxisProxy;
    }, e.prototype.getAxisModel = function(t, i) {
      process.env.NODE_ENV !== "production" && kt(t && i != null);
      var a = this._targetAxisInfoMap.get(t);
      if (a && a.indexMap[i])
        return this.ecModel.getComponent(Fc(t), i);
    }, e.prototype.setRawRange = function(t) {
      var i = this.option, a = this.settledOption;
      J([["start", "startValue"], ["end", "endValue"]], function(n) {
        (t[n[0]] != null || t[n[1]] != null) && (i[n[0]] = a[n[0]] = t[n[0]], i[n[1]] = a[n[1]] = t[n[1]]);
      }, this), this._updateRangeUse(t);
    }, e.prototype.setCalculatedRange = function(t) {
      var i = this.option;
      J(["start", "startValue", "end", "endValue"], function(a) {
        i[a] = t[a];
      });
    }, e.prototype.getPercentRange = function() {
      var t = this.findRepresentativeAxisProxy();
      if (t)
        return t.getDataPercentWindow();
    }, e.prototype.getValueRange = function(t, i) {
      if (t == null && i == null) {
        var a = this.findRepresentativeAxisProxy();
        if (a)
          return a.getDataValueWindow();
      } else
        return this.getAxisProxy(t, i).getDataValueWindow();
    }, e.prototype.findRepresentativeAxisProxy = function(t) {
      if (t)
        return t.__dzAxisProxy;
      for (var i, a = this._targetAxisInfoMap.keys(), n = 0; n < a.length; n++)
        for (var o = a[n], s = this._targetAxisInfoMap.get(o), l = 0; l < s.indexList.length; l++) {
          var u = this.getAxisProxy(o, s.indexList[l]);
          if (u.hostedBy(this))
            return u;
          i || (i = u);
        }
      return i;
    }, e.prototype.getRangePropMode = function() {
      return this._rangePropMode.slice();
    }, e.prototype.getOrient = function() {
      return process.env.NODE_ENV !== "production" && kt(this._orient), this._orient;
    }, e.type = "dataZoom", e.dependencies = ["xAxis", "yAxis", "radiusAxis", "angleAxis", "singleAxis", "series", "toolbox"], e.defaultOption = {
      // zlevel: 0,
      z: 4,
      filterMode: "filter",
      start: 0,
      end: 100
    }, e;
  }(Rr)
);
function pU(r) {
  var e = {};
  return J(["start", "end", "startValue", "endValue", "throttle"], function(t) {
    r.hasOwnProperty(t) && (e[t] = r[t]);
  }), e;
}
const R1 = v6e;
var g6e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.type = "dataZoom.select", e;
  }(R1)
);
const m6e = g6e;
var y6e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i, a, n) {
      this.dataZoomModel = t, this.ecModel = i, this.api = a;
    }, e.type = "dataZoom", e;
  }(Pn)
);
const Gk = y6e;
var _6e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.type = "dataZoom.select", e;
  }(Gk)
);
const b6e = _6e;
var Rp = J, vU = Eo, w6e = (
  /** @class */
  function() {
    function r(e, t, i, a) {
      this._dimName = e, this._axisIndex = t, this.ecModel = a, this._dataZoomModel = i;
    }
    return r.prototype.hostedBy = function(e) {
      return this._dataZoomModel === e;
    }, r.prototype.getDataValueWindow = function() {
      return this._valueWindow.slice();
    }, r.prototype.getDataPercentWindow = function() {
      return this._percentWindow.slice();
    }, r.prototype.getTargetSeriesModels = function() {
      var e = [];
      return this.ecModel.eachSeries(function(t) {
        if (d6e(t)) {
          var i = Fc(this._dimName), a = t.getReferringComponents(i, ri).models[0];
          a && this._axisIndex === a.componentIndex && e.push(t);
        }
      }, this), e;
    }, r.prototype.getAxisModel = function() {
      return this.ecModel.getComponent(this._dimName + "Axis", this._axisIndex);
    }, r.prototype.getMinMaxSpan = function() {
      return Gt(this._minMaxSpan);
    }, r.prototype.calculateDataWindow = function(e) {
      var t = this._dataExtent, i = this.getAxisModel(), a = i.axis.scale, n = this._dataZoomModel.getRangePropMode(), o = [0, 100], s = [], l = [], u;
      Rp(["start", "end"], function(d, p) {
        var v = e[d], y = e[d + "Value"];
        n[p] === "percent" ? (v == null && (v = o[p]), y = a.parse(Qr(v, o, t))) : (u = !0, y = y == null ? t[p] : a.parse(y), v = Qr(y, t, o)), l[p] = y == null || isNaN(y) ? t[p] : y, s[p] = v == null || isNaN(v) ? o[p] : v;
      }), vU(l), vU(s);
      var c = this._minMaxSpan;
      u ? f(l, s, t, o, !1) : f(s, l, o, t, !0);
      function f(d, p, v, y, _) {
        var w = _ ? "Span" : "ValueSpan";
        eh(0, d, v, "all", c["min" + w], c["max" + w]);
        for (var S = 0; S < 2; S++)
          p[S] = Qr(d[S], v, y, !0), _ && (p[S] = a.parse(p[S]));
      }
      return {
        valueWindow: l,
        percentWindow: s
      };
    }, r.prototype.reset = function(e) {
      if (e === this._dataZoomModel) {
        var t = this.getTargetSeriesModels();
        this._dataExtent = S6e(this, this._dimName, t), this._updateMinMaxSpan();
        var i = this.calculateDataWindow(e.settledOption);
        this._valueWindow = i.valueWindow, this._percentWindow = i.percentWindow, this._setAxisModel();
      }
    }, r.prototype.filterData = function(e, t) {
      if (e !== this._dataZoomModel)
        return;
      var i = this._dimName, a = this.getTargetSeriesModels(), n = e.get("filterMode"), o = this._valueWindow;
      if (n === "none")
        return;
      Rp(a, function(l) {
        var u = l.getData(), c = u.mapDimensionsAll(i);
        if (c.length) {
          if (n === "weakFilter") {
            var f = u.getStore(), d = Je(c, function(p) {
              return u.getDimensionIndex(p);
            }, u);
            u.filterSelf(function(p) {
              for (var v, y, _, w = 0; w < c.length; w++) {
                var S = f.get(d[w], p), x = !isNaN(S), E = S < o[0], M = S > o[1];
                if (x && !E && !M)
                  return !0;
                x && (_ = !0), E && (v = !0), M && (y = !0);
              }
              return _ && v && y;
            });
          } else
            Rp(c, function(p) {
              if (n === "empty")
                l.setData(u = u.map(p, function(y) {
                  return s(y) ? y : NaN;
                }));
              else {
                var v = {};
                v[p] = o, u.selectRange(v);
              }
            });
          Rp(c, function(p) {
            u.setApproximateExtent(o, p);
          });
        }
      });
      function s(l) {
        return l >= o[0] && l <= o[1];
      }
    }, r.prototype._updateMinMaxSpan = function() {
      var e = this._minMaxSpan = {}, t = this._dataZoomModel, i = this._dataExtent;
      Rp(["min", "max"], function(a) {
        var n = t.get(a + "Span"), o = t.get(a + "ValueSpan");
        o != null && (o = this.getAxisModel().axis.scale.parse(o)), o != null ? n = Qr(i[0] + o, i, [0, 100], !0) : n != null && (o = Qr(n, [0, 100], i, !0) - i[0]), e[a + "Span"] = n, e[a + "ValueSpan"] = o;
      }, this);
    }, r.prototype._setAxisModel = function() {
      var e = this.getAxisModel(), t = this._percentWindow, i = this._valueWindow;
      if (t) {
        var a = I8(i, [0, 500]);
        a = Math.min(a, 20);
        var n = e.axis.scale.rawExtentInfo;
        t[0] !== 0 && n.setDeterminedMinMax("min", +i[0].toFixed(a)), t[1] !== 100 && n.setDeterminedMinMax("max", +i[1].toFixed(a)), n.freeze();
      }
    }, r;
  }()
);
function S6e(r, e, t) {
  var i = [1 / 0, -1 / 0];
  Rp(t, function(o) {
    Tme(i, o.getData(), e);
  });
  var a = r.getAxisModel(), n = Kq(a.axis.scale, a, i).calculate();
  return [n.min, n.max];
}
const x6e = w6e;
var T6e = {
  // `dataZoomProcessor` will only be performed in needed series. Consider if
  // there is a line series and a pie series, it is better not to update the
  // line series if only pie series is needed to be updated.
  getTargetSeries: function(r) {
    function e(a) {
      r.eachComponent("dataZoom", function(n) {
        n.eachTargetAxis(function(o, s) {
          var l = r.getComponent(Fc(o), s);
          a(o, s, l, n);
        });
      });
    }
    e(function(a, n, o, s) {
      o.__dzAxisProxy = null;
    });
    var t = [];
    e(function(a, n, o, s) {
      o.__dzAxisProxy || (o.__dzAxisProxy = new x6e(a, n, s, r), t.push(o.__dzAxisProxy));
    });
    var i = Pt();
    return J(t, function(a) {
      J(a.getTargetSeriesModels(), function(n) {
        i.set(n.uid, n);
      });
    }), i;
  },
  // Consider appendData, where filter should be performed. Because data process is
  // in block mode currently, it is not need to worry about that the overallProgress
  // execute every frame.
  overallReset: function(r, e) {
    r.eachComponent("dataZoom", function(t) {
      t.eachTargetAxis(function(i, a) {
        t.getAxisProxy(i, a).reset(t);
      }), t.eachTargetAxis(function(i, a) {
        t.getAxisProxy(i, a).filterData(t, e);
      });
    }), r.eachComponent("dataZoom", function(t) {
      var i = t.findRepresentativeAxisProxy();
      if (i) {
        var a = i.getDataPercentWindow(), n = i.getDataValueWindow();
        t.setCalculatedRange({
          start: a[0],
          end: a[1],
          startValue: n[0],
          endValue: n[1]
        });
      }
    });
  }
};
const C6e = T6e;
function A6e(r) {
  r.registerAction("dataZoom", function(e, t) {
    var i = p6e(t, e);
    J(i, function(a) {
      a.setRawRange({
        start: e.start,
        end: e.end,
        startValue: e.startValue,
        endValue: e.endValue
      });
    });
  });
}
var gU = !1;
function zk(r) {
  gU || (gU = !0, r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER, C6e), A6e(r), r.registerSubTypeDefaulter("dataZoom", function() {
    return "slider";
  }));
}
function E6e(r) {
  r.registerComponentModel(m6e), r.registerComponentView(b6e), zk(r);
}
var rs = (
  /** @class */
  function() {
    function r() {
    }
    return r;
  }()
), nJ = {};
function Lp(r, e) {
  nJ[r] = e;
}
function iJ(r) {
  return nJ[r];
}
var D6e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.optionUpdated = function() {
      r.prototype.optionUpdated.apply(this, arguments);
      var t = this.ecModel;
      J(this.option.feature, function(i, a) {
        var n = iJ(a);
        n && (n.getDefaultOption && (n.defaultOption = n.getDefaultOption(t)), gr(i, n.defaultOption));
      });
    }, e.type = "toolbox", e.layoutMode = {
      type: "box",
      ignoreSize: !0
    }, e.defaultOption = {
      show: !0,
      z: 6,
      // zlevel: 0,
      orient: "horizontal",
      left: "right",
      top: "top",
      // right
      // bottom
      backgroundColor: "transparent",
      borderColor: Ve.color.border,
      borderRadius: 0,
      borderWidth: 0,
      padding: Ve.size.m,
      itemSize: 15,
      itemGap: Ve.size.s,
      showTitle: !0,
      iconStyle: {
        borderColor: Ve.color.accent50,
        color: "none"
      },
      emphasis: {
        iconStyle: {
          borderColor: Ve.color.accent50
        }
      },
      // textStyle: {},
      // feature
      tooltip: {
        show: !1,
        position: "bottom"
      }
    }, e;
  }(Rr)
);
const k6e = D6e;
function aJ(r, e) {
  var t = B0(e.get("padding")), i = e.getItemStyle(["color", "opacity"]);
  i.fill = e.get("backgroundColor");
  var a = new Cr({
    shape: {
      x: r.x - t[3],
      y: r.y - t[0],
      width: r.width + t[1] + t[3],
      height: r.height + t[0] + t[2],
      r: e.get("borderRadius")
    },
    style: i,
    silent: !0,
    z2: -1
  });
  return a;
}
var M6e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e.prototype.render = function(t, i, a, n) {
      var o = this.group;
      if (o.removeAll(), !t.get("show"))
        return;
      var s = +t.get("itemSize"), l = t.get("orient") === "vertical", u = t.get("feature") || {}, c = this._features || (this._features = {}), f = [];
      J(u, function(S, x) {
        f.push(x);
      }), new Gu(this._featureNames || [], f).add(d).update(d).remove(fr(d, null)).execute(), this._featureNames = f;
      function d(S, x) {
        var E = f[S], M = f[x], k = u[E], P = new Vr(k, t, t.ecModel), L;
        if (n && n.newTitle != null && n.featureName === E && (k.title = n.newTitle), E && !M) {
          if (I6e(E))
            L = {
              onclick: P.option.onclick,
              featureName: E
            };
          else {
            var F = iJ(E);
            if (!F)
              return;
            L = new F();
          }
          c[E] = L;
        } else if (L = c[M], !L)
          return;
        L.uid = N0("toolbox-feature"), L.model = P, L.ecModel = i, L.api = a;
        var O = L instanceof rs;
        if (!E && M) {
          O && L.dispose && L.dispose(i, a);
          return;
        }
        if (!P.get("show") || O && L.unusable) {
          O && L.remove && L.remove(i, a);
          return;
        }
        p(P, L, E), P.setIconStatus = function(U, V) {
          var G = this.option, Z = this.iconPaths;
          G.iconStatus = G.iconStatus || {}, G.iconStatus[U] = V, Z[U] && (V === "emphasis" ? Vu : Uu)(Z[U]);
        }, L instanceof rs && L.render && L.render(P, i, a, n);
      }
      function p(S, x, E) {
        var M = S.getModel("iconStyle"), k = S.getModel(["emphasis", "iconStyle"]), P = x instanceof rs && x.getIcons ? x.getIcons() : S.get("icon"), L = S.get("title") || {}, F, O;
        vt(P) ? (F = {}, F[E] = P) : F = P, vt(L) ? (O = {}, O[E] = L) : O = L;
        var U = S.iconPaths = {};
        J(F, function(V, G) {
          var Z = O0(V, {}, {
            x: -s / 2,
            y: -s / 2,
            width: s,
            height: s
          });
          Z.setStyle(M.getItemStyle());
          var Q = Z.ensureState("emphasis");
          Q.style = k.getItemStyle();
          var se = new Br({
            style: {
              text: O[G],
              align: k.get("textAlign"),
              borderRadius: k.get("textBorderRadius"),
              padding: k.get("textPadding"),
              fill: null,
              font: Q8({
                fontStyle: k.get("textFontStyle"),
                fontFamily: k.get("textFontFamily"),
                fontSize: k.get("textFontSize"),
                fontWeight: k.get("textFontWeight")
              }, i)
            },
            ignore: !0
          });
          Z.setTextContent(se), nc({
            el: Z,
            componentModel: t,
            itemName: G,
            formatterParamsExtra: {
              title: O[G]
            }
          }), Z.__title = O[G], Z.on("mouseover", function() {
            var de = k.getItemStyle(), le = l ? t.get("right") == null && t.get("left") !== "right" ? "right" : "left" : t.get("bottom") == null && t.get("top") !== "bottom" ? "bottom" : "top";
            se.setStyle({
              fill: k.get("textFill") || de.fill || de.stroke || Ve.color.neutral99,
              backgroundColor: k.get("textBackgroundColor")
            }), Z.setTextConfig({
              position: k.get("textPosition") || le
            }), se.ignore = !t.get("showTitle"), a.enterEmphasis(this);
          }).on("mouseout", function() {
            S.get(["iconStatus", G]) !== "emphasis" && a.leaveEmphasis(this), se.hide();
          }), (S.get(["iconStatus", G]) === "emphasis" ? Vu : Uu)(Z), o.add(Z), Z.on("click", mt(x.onclick, x, i, a, G)), U[G] = Z;
        });
      }
      var v = Wi(t, a).refContainer, y = t.getBoxLayoutParams(), _ = t.get("padding"), w = Bn(y, v, _);
      Hf(t.get("orient"), o, t.get("itemGap"), w.width, w.height), ES(o, y, v, _), o.add(aJ(o.getBoundingRect(), t)), l || o.eachChild(function(S) {
        var x = S.__title, E = S.ensureState("emphasis"), M = E.textConfig || (E.textConfig = {}), k = S.getTextContent(), P = k && k.ensureState("emphasis");
        if (P && !Bt(P) && x) {
          var L = P.style || (P.style = {}), F = hS(x, Br.makeFont(L)), O = S.x + o.x, U = S.y + o.y + s, V = !1;
          U + F.height > a.getHeight() && (M.position = "top", V = !0);
          var G = V ? -5 - F.height : s + 10;
          O + F.width / 2 > a.getWidth() ? (M.position = ["100%", G], L.align = "right") : O - F.width / 2 < 0 && (M.position = [0, G], L.align = "left");
        }
      });
    }, e.prototype.updateView = function(t, i, a, n) {
      J(this._features, function(o) {
        o instanceof rs && o.updateView && o.updateView(o.model, i, a, n);
      });
    }, e.prototype.remove = function(t, i) {
      J(this._features, function(a) {
        a instanceof rs && a.remove && a.remove(t, i);
      }), this.group.removeAll();
    }, e.prototype.dispose = function(t, i) {
      J(this._features, function(a) {
        a instanceof rs && a.dispose && a.dispose(t, i);
      });
    }, e.type = "toolbox", e;
  }(Pn)
);
function I6e(r) {
  return r.indexOf("my") === 0;
}
const P6e = M6e;
var R6e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e.prototype.onclick = function(t, i) {
      var a = this.model, n = a.get("name") || t.get("title.0.text") || "echarts", o = i.getZr().painter.getType() === "svg", s = o ? "svg" : a.get("type", !0) || "png", l = i.getConnectedDataURL({
        type: s,
        backgroundColor: a.get("backgroundColor", !0) || t.get("backgroundColor") || Ve.color.neutral00,
        connectedBackgroundColor: a.get("connectedBackgroundColor"),
        excludeComponents: a.get("excludeComponents"),
        pixelRatio: a.get("pixelRatio")
      }), u = qr.browser;
      if (typeof MouseEvent == "function" && (u.newEdge || !u.ie && !u.edge)) {
        var c = document.createElement("a");
        c.download = n + "." + s, c.target = "_blank", c.href = l;
        var f = new MouseEvent("click", {
          // some micro front-end framework window maybe is a Proxy
          view: document.defaultView,
          bubbles: !0,
          cancelable: !1
        });
        c.dispatchEvent(f);
      } else if (window.navigator.msSaveOrOpenBlob || o) {
        var d = l.split(","), p = d[0].indexOf("base64") > -1, v = o ? decodeURIComponent(d[1]) : d[1];
        p && (v = window.atob(v));
        var y = n + "." + s;
        if (window.navigator.msSaveOrOpenBlob) {
          for (var _ = v.length, w = new Uint8Array(_); _--; )
            w[_] = v.charCodeAt(_);
          var S = new Blob([w]);
          window.navigator.msSaveOrOpenBlob(S, y);
        } else {
          var x = document.createElement("iframe");
          document.body.appendChild(x);
          var E = x.contentWindow, M = E.document;
          M.open("image/svg+xml", "replace"), M.write(v), M.close(), E.focus(), M.execCommand("SaveAs", !0, y), document.body.removeChild(x);
        }
      } else {
        var k = a.get("lang"), P = '<body style="margin:0;"><img src="' + l + '" style="max-width:100%;" title="' + (k && k[0] || "") + '" /></body>', L = window.open();
        L.document.write(P), L.document.title = n;
      }
    }, e.getDefaultOption = function(t) {
      var i = {
        show: !0,
        icon: "M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",
        title: t.getLocaleModel().get(["toolbox", "saveAsImage", "title"]),
        type: "png",
        // Default use option.backgroundColor
        // backgroundColor: '#fff',
        connectedBackgroundColor: Ve.color.neutral00,
        name: "",
        excludeComponents: ["toolbox"],
        // use current pixel ratio of device by default
        // pixelRatio: 1,
        lang: t.getLocaleModel().get(["toolbox", "saveAsImage", "lang"])
      };
      return i;
    }, e;
  }(rs)
);
const L6e = R6e;
var mU = "__ec_magicType_stack__", O6e = [["line", "bar"], ["stack"]], F6e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e.prototype.getIcons = function() {
      var t = this.model, i = t.get("icon"), a = {};
      return J(t.get("type"), function(n) {
        i[n] && (a[n] = i[n]);
      }), a;
    }, e.getDefaultOption = function(t) {
      var i = {
        show: !0,
        type: [],
        // Icon group
        icon: {
          line: "M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",
          bar: "M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",
          // eslint-disable-next-line
          stack: "M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"
          // jshint ignore:line
        },
        // `line`, `bar`, `stack`, `tiled`
        title: t.getLocaleModel().get(["toolbox", "magicType", "title"]),
        option: {},
        seriesIndex: {}
      };
      return i;
    }, e.prototype.onclick = function(t, i, a) {
      var n = this.model, o = n.get(["seriesIndex", a]);
      if (yU[a]) {
        var s = {
          series: []
        }, l = function(f) {
          var d = f.subType, p = f.id, v = yU[a](d, p, f, n);
          v && (Yt(v, f.option), s.series.push(v));
          var y = f.coordinateSystem;
          if (y && y.type === "cartesian2d" && (a === "line" || a === "bar")) {
            var _ = y.getAxesByScale("ordinal")[0];
            if (_) {
              var w = _.dim, S = w + "Axis", x = f.getReferringComponents(S, ri).models[0], E = x.componentIndex;
              s[S] = s[S] || [];
              for (var M = 0; M <= E; M++)
                s[S][E] = s[S][E] || {};
              s[S][E].boundaryGap = a === "bar";
            }
          }
        };
        J(O6e, function(f) {
          dr(f, a) >= 0 && J(f, function(d) {
            n.setIconStatus(d, "normal");
          });
        }), n.setIconStatus(a, "emphasis"), t.eachComponent({
          mainType: "series",
          query: o == null ? null : {
            seriesIndex: o
          }
        }, l);
        var u, c = a;
        a === "stack" && (u = gr({
          stack: n.option.title.tiled,
          tiled: n.option.title.stack
        }, n.option.title), n.get(["iconStatus", a]) !== "emphasis" && (c = "tiled")), i.dispatchAction({
          type: "changeMagicType",
          currentType: c,
          newOption: s,
          newTitle: u,
          featureName: "magicType"
        });
      }
    }, e;
  }(rs)
), yU = {
  line: function(r, e, t, i) {
    if (r === "bar")
      return gr({
        id: e,
        type: "line",
        // Preserve data related option
        data: t.get("data"),
        stack: t.get("stack"),
        markPoint: t.get("markPoint"),
        markLine: t.get("markLine")
      }, i.get(["option", "line"]) || {}, !0);
  },
  bar: function(r, e, t, i) {
    if (r === "line")
      return gr({
        id: e,
        type: "bar",
        // Preserve data related option
        data: t.get("data"),
        stack: t.get("stack"),
        markPoint: t.get("markPoint"),
        markLine: t.get("markLine")
      }, i.get(["option", "bar"]) || {}, !0);
  },
  stack: function(r, e, t, i) {
    var a = t.get("stack") === mU;
    if (r === "line" || r === "bar")
      return i.setIconStatus("stack", a ? "normal" : "emphasis"), gr({
        id: e,
        stack: a ? "" : mU
      }, i.get(["option", "stack"]) || {}, !0);
  }
};
js({
  type: "changeMagicType",
  event: "magicTypeChanged",
  update: "prepareAndUpdate"
}, function(r, e) {
  e.mergeOption(r.newOption);
});
const N6e = F6e;
var $S = new Array(60).join("-"), y0 = "	";
function B6e(r) {
  var e = {}, t = [], i = [];
  return r.eachRawSeries(function(a) {
    var n = a.coordinateSystem;
    if (n && (n.type === "cartesian2d" || n.type === "polar")) {
      var o = n.getBaseAxis();
      if (o.type === "category") {
        var s = o.dim + "_" + o.index;
        e[s] || (e[s] = {
          categoryAxis: o,
          valueAxis: n.getOtherAxis(o),
          series: []
        }, i.push({
          axisDim: o.dim,
          axisIndex: o.index
        })), e[s].series.push(a);
      } else
        t.push(a);
    } else
      t.push(a);
  }), {
    seriesGroupByCategoryAxis: e,
    other: t,
    meta: i
  };
}
function V6e(r) {
  var e = [];
  return J(r, function(t, i) {
    var a = t.categoryAxis, n = t.valueAxis, o = n.dim, s = [" "].concat(Je(t.series, function(p) {
      return p.name;
    })), l = [a.model.getCategories()];
    J(t.series, function(p) {
      var v = p.getRawData();
      l.push(p.getRawData().mapArray(v.mapDimension(o), function(y) {
        return y;
      }));
    });
    for (var u = [s.join(y0)], c = 0; c < l[0].length; c++) {
      for (var f = [], d = 0; d < l.length; d++)
        f.push(l[d][c]);
      u.push(f.join(y0));
    }
    e.push(u.join(`
`));
  }), e.join(`

` + $S + `

`);
}
function U6e(r) {
  return Je(r, function(e) {
    var t = e.getRawData(), i = [e.name], a = [];
    return t.each(t.dimensions, function() {
      for (var n = arguments.length, o = arguments[n - 1], s = t.getName(o), l = 0; l < n - 1; l++)
        a[l] = arguments[l];
      i.push((s ? s + y0 : "") + a.join(y0));
    }), i.join(`
`);
  }).join(`

` + $S + `

`);
}
function G6e(r) {
  var e = B6e(r);
  return {
    value: Xr([V6e(e.seriesGroupByCategoryAxis), U6e(e.other)], function(t) {
      return !!t.replace(/[\n\t\s]/g, "");
    }).join(`

` + $S + `

`),
    meta: e.meta
  };
}
function Vb(r) {
  return r.replace(/^\s\s*/, "").replace(/\s\s*$/, "");
}
function z6e(r) {
  var e = r.slice(0, r.indexOf(`
`));
  if (e.indexOf(y0) >= 0)
    return !0;
}
var cE = new RegExp("[" + y0 + "]+", "g");
function W6e(r) {
  for (var e = r.split(/\n+/g), t = Vb(e.shift()).split(cE), i = [], a = Je(t, function(l) {
    return {
      name: l,
      data: []
    };
  }), n = 0; n < e.length; n++) {
    var o = Vb(e[n]).split(cE);
    i.push(o.shift());
    for (var s = 0; s < o.length; s++)
      a[s] && (a[s].data[n] = o[s]);
  }
  return {
    series: a,
    categories: i
  };
}
function H6e(r) {
  for (var e = r.split(/\n+/g), t = Vb(e.shift()), i = [], a = 0; a < e.length; a++) {
    var n = Vb(e[a]);
    if (n) {
      var o = n.split(cE), s = "", l = void 0, u = !1;
      isNaN(o[0]) ? (u = !0, s = o[0], o = o.slice(1), i[a] = {
        name: s,
        value: []
      }, l = i[a].value) : l = i[a] = [];
      for (var c = 0; c < o.length; c++)
        l.push(+o[c]);
      l.length === 1 && (u ? i[a].value = l[0] : i[a] = l[0]);
    }
  }
  return {
    name: t,
    data: i
  };
}
function $6e(r, e) {
  var t = r.split(new RegExp(`
*` + $S + `
*`, "g")), i = {
    series: []
  };
  return J(t, function(a, n) {
    if (z6e(a)) {
      var o = W6e(a), s = e[n], l = s.axisDim + "Axis";
      s && (i[l] = i[l] || [], i[l][s.axisIndex] = {
        data: o.categories
      }, i.series = i.series.concat(o.series));
    } else {
      var o = H6e(a);
      i.series.push(o);
    }
  }), i;
}
var Y6e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e.prototype.onclick = function(t, i) {
      setTimeout(function() {
        i.dispatchAction({
          type: "hideTip"
        });
      });
      var a = i.getDom(), n = this.model;
      this._dom && a.removeChild(this._dom);
      var o = document.createElement("div");
      o.style.cssText = "position:absolute;top:0;bottom:0;left:0;right:0;padding:5px", o.style.backgroundColor = n.get("backgroundColor") || Ve.color.neutral00;
      var s = document.createElement("h4"), l = n.get("lang") || [];
      s.innerHTML = l[0] || n.get("title"), s.style.cssText = "margin:10px 20px", s.style.color = n.get("textColor");
      var u = document.createElement("div"), c = document.createElement("textarea");
      u.style.cssText = "overflow:auto";
      var f = n.get("optionToContent"), d = n.get("contentToOption"), p = G6e(t);
      if (Bt(f)) {
        var v = f(i.getOption());
        vt(v) ? u.innerHTML = v : qc(v) && u.appendChild(v);
      } else {
        c.readOnly = n.get("readOnly");
        var y = c.style;
        y.cssText = "display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none", y.color = n.get("textColor"), y.borderColor = n.get("textareaBorderColor"), y.backgroundColor = n.get("textareaColor"), c.value = p.value, u.appendChild(c);
      }
      var _ = p.meta, w = document.createElement("div");
      w.style.cssText = "position:absolute;bottom:5px;left:0;right:0";
      var S = "float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px", x = document.createElement("div"), E = document.createElement("div");
      S += ";background-color:" + n.get("buttonColor"), S += ";color:" + n.get("buttonTextColor");
      var M = this;
      function k() {
        a.removeChild(o), M._dom = null;
      }
      wA(x, "click", k), wA(E, "click", function() {
        if (d == null && f != null || d != null && f == null) {
          process.env.NODE_ENV !== "production" && Yn("It seems you have just provided one of `contentToOption` and `optionToContent` functions but missed the other one. Data change is ignored."), k();
          return;
        }
        var P;
        try {
          Bt(d) ? P = d(u, i.getOption()) : P = $6e(c.value, _);
        } catch (L) {
          throw k(), new Error("Data view format error " + L);
        }
        P && i.dispatchAction({
          type: "changeDataView",
          newOption: P
        }), k();
      }), x.innerHTML = l[1], E.innerHTML = l[2], E.style.cssText = x.style.cssText = S, !n.get("readOnly") && w.appendChild(E), w.appendChild(x), o.appendChild(s), o.appendChild(u), o.appendChild(w), u.style.height = a.clientHeight - 80 + "px", a.appendChild(o), this._dom = o;
    }, e.prototype.remove = function(t, i) {
      this._dom && i.getDom().removeChild(this._dom);
    }, e.prototype.dispose = function(t, i) {
      this.remove(t, i);
    }, e.getDefaultOption = function(t) {
      var i = {
        show: !0,
        readOnly: !1,
        optionToContent: null,
        contentToOption: null,
        // eslint-disable-next-line
        icon: "M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",
        title: t.getLocaleModel().get(["toolbox", "dataView", "title"]),
        lang: t.getLocaleModel().get(["toolbox", "dataView", "lang"]),
        backgroundColor: Ve.color.background,
        textColor: Ve.color.primary,
        textareaColor: Ve.color.background,
        textareaBorderColor: Ve.color.border,
        buttonColor: Ve.color.accent50,
        buttonTextColor: Ve.color.neutral00
      };
      return i;
    }, e;
  }(rs)
);
function j6e(r, e) {
  return Je(r, function(t, i) {
    var a = e && e[i];
    if (zt(a) && !Ke(a)) {
      var n = zt(t) && !Ke(t);
      n || (t = {
        value: t
      });
      var o = a.name != null && t.name == null;
      return t = Yt(t, a), o && delete t.name, t;
    } else
      return t;
  });
}
js({
  type: "changeDataView",
  event: "dataViewChanged",
  update: "prepareAndUpdate"
}, function(r, e) {
  var t = [];
  J(r.newOption.series, function(i) {
    var a = e.getSeriesByName(i.name)[0];
    if (!a)
      t.push($e({
        // Default is scatter
        type: "scatter"
      }, i));
    else {
      var n = a.get("data");
      t.push({
        name: i.name,
        data: j6e(i.data, n)
      });
    }
  }), e.mergeOption(Yt({
    series: t
  }, r.newOption));
});
const q6e = Y6e;
var oJ = J, sJ = Ar();
function X6e(r, e) {
  var t = Wk(r);
  oJ(e, function(i, a) {
    for (var n = t.length - 1; n >= 0; n--) {
      var o = t[n];
      if (o[a])
        break;
    }
    if (n < 0) {
      var s = r.queryComponents({
        mainType: "dataZoom",
        subType: "select",
        id: a
      })[0];
      if (s) {
        var l = s.getPercentRange();
        t[0][a] = {
          dataZoomId: a,
          start: l[0],
          end: l[1]
        };
      }
    }
  }), t.push(e);
}
function K6e(r) {
  var e = Wk(r), t = e[e.length - 1];
  e.length > 1 && e.pop();
  var i = {};
  return oJ(t, function(a, n) {
    for (var o = e.length - 1; o >= 0; o--)
      if (a = e[o][n], a) {
        i[n] = a;
        break;
      }
  }), i;
}
function Z6e(r) {
  sJ(r).snapshots = null;
}
function J6e(r) {
  return Wk(r).length;
}
function Wk(r) {
  var e = sJ(r);
  return e.snapshots || (e.snapshots = [{}]), e.snapshots;
}
var Q6e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e.prototype.onclick = function(t, i) {
      Z6e(t), i.dispatchAction({
        type: "restore",
        from: this.uid
      });
    }, e.getDefaultOption = function(t) {
      var i = {
        show: !0,
        // eslint-disable-next-line
        icon: "M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",
        title: t.getLocaleModel().get(["toolbox", "restore", "title"])
      };
      return i;
    }, e;
  }(rs)
);
js({
  type: "restore",
  event: "restore",
  update: "prepareAndUpdate"
}, function(r, e) {
  e.resetOption("recreate");
});
const eEe = Q6e;
var tEe = ["grid", "xAxis", "yAxis", "geo", "graph", "polar", "radiusAxis", "angleAxis", "bmap"], rEe = (
  /** @class */
  function() {
    function r(e, t, i) {
      var a = this;
      this._targetInfoList = [];
      var n = _U(t, e);
      J(nEe, function(o, s) {
        (!i || !i.include || dr(i.include, s) >= 0) && o(n, a._targetInfoList);
      });
    }
    return r.prototype.setOutputRanges = function(e, t) {
      return this.matchOutputRanges(e, t, function(i, a, n) {
        if ((i.coordRanges || (i.coordRanges = [])).push(a), !i.coordRange) {
          i.coordRange = a;
          var o = hT[i.brushType](0, n, a);
          i.__rangeOffset = {
            offset: xU[i.brushType](o.values, i.range, [1, 1]),
            xyMinMax: o.xyMinMax
          };
        }
      }), e;
    }, r.prototype.matchOutputRanges = function(e, t, i) {
      J(e, function(a) {
        var n = this.findTargetInfo(a, t);
        n && n !== !0 && J(n.coordSyses, function(o) {
          var s = hT[a.brushType](1, o, a.range, !0);
          i(a, s.values, o, t);
        });
      }, this);
    }, r.prototype.setInputRanges = function(e, t) {
      J(e, function(i) {
        var a = this.findTargetInfo(i, t);
        if (process.env.NODE_ENV !== "production" && (kt(!a || a === !0 || i.coordRange, "coordRange must be specified when coord index specified."), kt(!a || a !== !0 || i.range, "range must be specified in global brush.")), i.range = i.range || [], a && a !== !0) {
          i.panelId = a.panelId;
          var n = hT[i.brushType](0, a.coordSys, i.coordRange), o = i.__rangeOffset;
          i.range = o ? xU[i.brushType](n.values, o.offset, iEe(n.xyMinMax, o.xyMinMax)) : n.values;
        }
      }, this);
    }, r.prototype.makePanelOpts = function(e, t) {
      return Je(this._targetInfoList, function(i) {
        var a = i.getPanelRect();
        return {
          panelId: i.panelId,
          defaultBrushType: t ? t(i) : null,
          clipPath: cZ(a),
          isTargetByCursor: fZ(a, e, i.coordSysModel),
          getLinearBrushOtherExtent: hZ(a)
        };
      });
    }, r.prototype.controlSeries = function(e, t, i) {
      var a = this.findTargetInfo(e, i);
      return a === !0 || a && dr(a.coordSyses, t.coordinateSystem) >= 0;
    }, r.prototype.findTargetInfo = function(e, t) {
      for (var i = this._targetInfoList, a = _U(t, e), n = 0; n < i.length; n++) {
        var o = i[n], s = e.panelId;
        if (s) {
          if (o.panelId === s)
            return o;
        } else
          for (var l = 0; l < bU.length; l++)
            if (bU[l](a, o))
              return o;
      }
      return !0;
    }, r;
  }()
);
function hE(r) {
  return r[0] > r[1] && r.reverse(), r;
}
function _U(r, e) {
  return jp(r, e, {
    includeMainTypes: tEe
  });
}
var nEe = {
  grid: function(r, e) {
    var t = r.xAxisModels, i = r.yAxisModels, a = r.gridModels, n = Pt(), o = {}, s = {};
    !t && !i && !a || (J(t, function(l) {
      var u = l.axis.grid.model;
      n.set(u.id, u), o[u.id] = !0;
    }), J(i, function(l) {
      var u = l.axis.grid.model;
      n.set(u.id, u), s[u.id] = !0;
    }), J(a, function(l) {
      n.set(l.id, l), o[l.id] = !0, s[l.id] = !0;
    }), n.each(function(l) {
      var u = l.coordinateSystem, c = [];
      J(u.getCartesians(), function(f, d) {
        (dr(t, f.getAxis("x").model) >= 0 || dr(i, f.getAxis("y").model) >= 0) && c.push(f);
      }), e.push({
        panelId: "grid--" + l.id,
        gridModel: l,
        coordSysModel: l,
        // Use the first one as the representitive coordSys.
        coordSys: c[0],
        coordSyses: c,
        getPanelRect: wU.grid,
        xAxisDeclared: o[l.id],
        yAxisDeclared: s[l.id]
      });
    }));
  },
  geo: function(r, e) {
    J(r.geoModels, function(t) {
      var i = t.coordinateSystem;
      e.push({
        panelId: "geo--" + t.id,
        geoModel: t,
        coordSysModel: t,
        coordSys: i,
        coordSyses: [i],
        getPanelRect: wU.geo
      });
    });
  }
}, bU = [
  // grid
  function(r, e) {
    var t = r.xAxisModel, i = r.yAxisModel, a = r.gridModel;
    return !a && t && (a = t.axis.grid.model), !a && i && (a = i.axis.grid.model), a && a === e.gridModel;
  },
  // geo
  function(r, e) {
    var t = r.geoModel;
    return t && t === e.geoModel;
  }
], wU = {
  grid: function() {
    return this.coordSys.master.getRect().clone();
  },
  geo: function() {
    var r = this.coordSys, e = r.getBoundingRect().clone();
    return e.applyTransform(Wc(r)), e;
  }
}, hT = {
  lineX: fr(SU, 0),
  lineY: fr(SU, 1),
  rect: function(r, e, t, i) {
    var a = r ? e.pointToData([t[0][0], t[1][0]], i) : e.dataToPoint([t[0][0], t[1][0]], i), n = r ? e.pointToData([t[0][1], t[1][1]], i) : e.dataToPoint([t[0][1], t[1][1]], i), o = [hE([a[0], n[0]]), hE([a[1], n[1]])];
    return {
      values: o,
      xyMinMax: o
    };
  },
  polygon: function(r, e, t, i) {
    var a = [[1 / 0, -1 / 0], [1 / 0, -1 / 0]], n = Je(t, function(o) {
      var s = r ? e.pointToData(o, i) : e.dataToPoint(o, i);
      return a[0][0] = Math.min(a[0][0], s[0]), a[1][0] = Math.min(a[1][0], s[1]), a[0][1] = Math.max(a[0][1], s[0]), a[1][1] = Math.max(a[1][1], s[1]), s;
    });
    return {
      values: n,
      xyMinMax: a
    };
  }
};
function SU(r, e, t, i) {
  process.env.NODE_ENV !== "production" && kt(t.type === "cartesian2d", "lineX/lineY brush is available only in cartesian2d.");
  var a = t.getAxis(["x", "y"][r]), n = hE(Je([0, 1], function(s) {
    return e ? a.coordToData(a.toLocalCoord(i[s]), !0) : a.toGlobalCoord(a.dataToCoord(i[s]));
  })), o = [];
  return o[r] = n, o[1 - r] = [NaN, NaN], {
    values: n,
    xyMinMax: o
  };
}
var xU = {
  lineX: fr(TU, 0),
  lineY: fr(TU, 1),
  rect: function(r, e, t) {
    return [[r[0][0] - t[0] * e[0][0], r[0][1] - t[0] * e[0][1]], [r[1][0] - t[1] * e[1][0], r[1][1] - t[1] * e[1][1]]];
  },
  polygon: function(r, e, t) {
    return Je(r, function(i, a) {
      return [i[0] - t[0] * e[a][0], i[1] - t[1] * e[a][1]];
    });
  }
};
function TU(r, e, t, i) {
  return [e[0] - i[r] * t[0], e[1] - i[r] * t[1]];
}
function iEe(r, e) {
  var t = CU(r), i = CU(e), a = [t[0] / i[0], t[1] / i[1]];
  return isNaN(a[0]) && (a[0] = 1), isNaN(a[1]) && (a[1] = 1), a;
}
function CU(r) {
  return r ? [r[0][1] - r[0][0], r[1][1] - r[1][0]] : [NaN, NaN];
}
const Hk = rEe;
var fE = J, aEe = zfe("toolbox-dataZoom_"), oEe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e.prototype.render = function(t, i, a, n) {
      this._brushController || (this._brushController = new bk(a.getZr()), this._brushController.on("brush", mt(this._onBrush, this)).mount()), uEe(t, i, this, n, a), lEe(t, i);
    }, e.prototype.onclick = function(t, i, a) {
      sEe[a].call(this);
    }, e.prototype.remove = function(t, i) {
      this._brushController && this._brushController.unmount();
    }, e.prototype.dispose = function(t, i) {
      this._brushController && this._brushController.dispose();
    }, e.prototype._onBrush = function(t) {
      var i = t.areas;
      if (!t.isEnd || !i.length)
        return;
      var a = {}, n = this.ecModel;
      this._brushController.updateCovers([]);
      var o = new Hk($k(this.model), n, {
        include: ["grid"]
      });
      o.matchOutputRanges(i, n, function(u, c, f) {
        if (f.type === "cartesian2d") {
          var d = u.brushType;
          d === "rect" ? (s("x", f, c[0]), s("y", f, c[1])) : s({
            lineX: "x",
            lineY: "y"
          }[d], f, c);
        }
      }), X6e(n, a), this._dispatchZoomAction(a);
      function s(u, c, f) {
        var d = c.getAxis(u), p = d.model, v = l(u, p, n), y = v.findRepresentativeAxisProxy(p).getMinMaxSpan();
        (y.minValueSpan != null || y.maxValueSpan != null) && (f = eh(0, f.slice(), d.scale.getExtent(), 0, y.minValueSpan, y.maxValueSpan)), v && (a[v.id] = {
          dataZoomId: v.id,
          startValue: f[0],
          endValue: f[1]
        });
      }
      function l(u, c, f) {
        var d;
        return f.eachComponent({
          mainType: "dataZoom",
          subType: "select"
        }, function(p) {
          var v = p.getAxisModel(u, c.componentIndex);
          v && (d = p);
        }), d;
      }
    }, e.prototype._dispatchZoomAction = function(t) {
      var i = [];
      fE(t, function(a, n) {
        i.push(Gt(a));
      }), i.length && this.api.dispatchAction({
        type: "dataZoom",
        from: this.uid,
        batch: i
      });
    }, e.getDefaultOption = function(t) {
      var i = {
        show: !0,
        filterMode: "filter",
        // Icon group
        icon: {
          zoom: "M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",
          back: "M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"
        },
        // `zoom`, `back`
        title: t.getLocaleModel().get(["toolbox", "dataZoom", "title"]),
        brushStyle: {
          borderWidth: 0,
          color: Ve.color.backgroundTint
        }
      };
      return i;
    }, e;
  }(rs)
), sEe = {
  zoom: function() {
    var r = !this._isZoomActive;
    this.api.dispatchAction({
      type: "takeGlobalCursor",
      key: "dataZoomSelect",
      dataZoomSelectActive: r
    });
  },
  back: function() {
    this._dispatchZoomAction(K6e(this.ecModel));
  }
};
function $k(r) {
  var e = {
    xAxisIndex: r.get("xAxisIndex", !0),
    yAxisIndex: r.get("yAxisIndex", !0),
    xAxisId: r.get("xAxisId", !0),
    yAxisId: r.get("yAxisId", !0)
  };
  return e.xAxisIndex == null && e.xAxisId == null && (e.xAxisIndex = "all"), e.yAxisIndex == null && e.yAxisId == null && (e.yAxisIndex = "all"), e;
}
function lEe(r, e) {
  r.setIconStatus("back", J6e(e) > 1 ? "emphasis" : "normal");
}
function uEe(r, e, t, i, a) {
  var n = t._isZoomActive;
  i && i.type === "takeGlobalCursor" && (n = i.key === "dataZoomSelect" ? i.dataZoomSelectActive : !1), t._isZoomActive = n, r.setIconStatus("zoom", n ? "emphasis" : "normal");
  var o = new Hk($k(r), e, {
    include: ["grid"]
  }), s = o.makePanelOpts(a, function(l) {
    return l.xAxisDeclared && !l.yAxisDeclared ? "lineX" : !l.xAxisDeclared && l.yAxisDeclared ? "lineY" : "rect";
  });
  t._brushController.setPanels(s).enableBrush(n && s.length ? {
    brushType: "auto",
    brushStyle: r.getModel("brushStyle").getItemStyle()
  } : !1);
}
L0e("dataZoom", function(r) {
  var e = r.getComponent("toolbox", 0), t = ["feature", "dataZoom"];
  if (!e || e.get(t) == null)
    return;
  var i = e.getModel(t), a = [], n = $k(i), o = jp(r, n);
  fE(o.xAxisModels, function(l) {
    return s(l, "xAxis", "xAxisIndex");
  }), fE(o.yAxisModels, function(l) {
    return s(l, "yAxis", "yAxisIndex");
  });
  function s(l, u, c) {
    var f = l.componentIndex, d = {
      type: "select",
      $fromToolbox: !0,
      // Default to be filter
      filterMode: i.get("filterMode", !0) || "filter",
      // Id for merge mapping.
      id: aEe + u + f
    };
    d[c] = f, a.push(d);
  }
  return a;
});
const cEe = oEe;
function hEe(r) {
  r.registerComponentModel(k6e), r.registerComponentView(P6e), Lp("saveAsImage", L6e), Lp("magicType", N6e), Lp("dataView", q6e), Lp("dataZoom", cEe), Lp("restore", eEe), _r(E6e);
}
var fEe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.type = "tooltip", e.dependencies = ["axisPointer"], e.defaultOption = {
      // zlevel: 0,
      z: 60,
      show: !0,
      // tooltip main content
      showContent: !0,
      // 'trigger' only works on coordinate system.
      // 'item' | 'axis' | 'none'
      trigger: "item",
      // 'click' | 'mousemove' | 'none'
      triggerOn: "mousemove|click",
      alwaysShowContent: !1,
      renderMode: "auto",
      // whether restraint content inside viewRect.
      // If renderMode: 'richText', default true.
      // If renderMode: 'html', defaults to `false` (for backward compat).
      confine: null,
      showDelay: 0,
      hideDelay: 100,
      // Animation transition time, unit is second
      transitionDuration: 0.4,
      displayTransition: !0,
      enterable: !1,
      backgroundColor: Ve.color.neutral00,
      // box shadow
      shadowBlur: 10,
      shadowColor: "rgba(0, 0, 0, .2)",
      shadowOffsetX: 1,
      shadowOffsetY: 2,
      // tooltip border radius, unit is px, default is 4
      borderRadius: 4,
      // tooltip border width, unit is px, default is 0 (no border)
      borderWidth: 1,
      defaultBorderColor: Ve.color.border,
      // Tooltip inside padding, default is 5 for all direction
      // Array is allowed to set up, right, bottom, left, same with css
      // The default value: See `tooltip/tooltipMarkup.ts#getPaddingFromTooltipModel`.
      padding: null,
      // Extra css text
      extraCssText: "",
      // axis indicator, trigger by axis
      axisPointer: {
        // default is line
        // legal values: 'line' | 'shadow' | 'cross'
        type: "line",
        // Valid when type is line, appoint tooltip line locate on which line. Optional
        // legal values: 'x' | 'y' | 'angle' | 'radius' | 'auto'
        // default is 'auto', chose the axis which type is category.
        // for multiply y axis, cartesian coord chose x axis, polar chose angle axis
        axis: "auto",
        animation: "auto",
        animationDurationUpdate: 200,
        animationEasingUpdate: "exponentialOut",
        crossStyle: {
          color: Ve.color.borderShade,
          width: 1,
          type: "dashed",
          // TODO formatter
          textStyle: {}
        }
        // lineStyle and shadowStyle should not be specified here,
        // otherwise it will always override those styles on option.axisPointer.
      },
      textStyle: {
        color: Ve.color.tertiary,
        fontSize: 14
      }
    }, e;
  }(Rr)
);
const dEe = fEe;
function lJ(r) {
  var e = r.get("confine");
  return e != null ? !!e : r.get("renderMode") === "richText";
}
function uJ(r) {
  if (qr.domSupported) {
    for (var e = document.documentElement.style, t = 0, i = r.length; t < i; t++)
      if (r[t] in e)
        return r[t];
  }
}
var cJ = uJ(["transform", "webkitTransform", "OTransform", "MozTransform", "msTransform"]), pEe = uJ(["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]);
function hJ(r, e) {
  if (!r)
    return e;
  e = fD(e, !0);
  var t = r.indexOf(e);
  return r = t === -1 ? e : "-" + r.slice(0, t) + "-" + e, r.toLowerCase();
}
function vEe(r, e) {
  var t = r.currentStyle || document.defaultView && document.defaultView.getComputedStyle(r);
  return t ? e ? t[e] : t : null;
}
var gEe = hJ(pEe, "transition"), Yk = hJ(cJ, "transform"), mEe = "position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;" + (qr.transform3dSupported ? "will-change:transform;" : "");
function yEe(r) {
  return r = r === "left" ? "right" : r === "right" ? "left" : r === "top" ? "bottom" : "top", r;
}
function _Ee(r, e, t) {
  if (!vt(t) || t === "inside")
    return "";
  var i = r.get("backgroundColor"), a = r.get("borderWidth");
  e = nd(e);
  var n = yEe(t), o = Math.max(Math.round(a) * 1.5, 6), s = "", l = Yk + ":", u;
  dr(["left", "right"], n) > -1 ? (s += "top:50%", l += "translateY(-50%) rotate(" + (u = n === "left" ? -225 : -45) + "deg)") : (s += "left:50%", l += "translateX(-50%) rotate(" + (u = n === "top" ? 225 : 45) + "deg)");
  var c = u * Math.PI / 180, f = o + a, d = f * Math.abs(Math.cos(c)) + f * Math.abs(Math.sin(c)), p = Math.round(((d - Math.SQRT2 * a) / 2 + Math.SQRT2 * a - (d - f) / 2) * 100) / 100;
  s += ";" + n + ":-" + p + "px";
  var v = e + " solid " + a + "px;", y = ["position:absolute;width:" + o + "px;height:" + o + "px;z-index:-1;", s + ";" + l + ";", "border-bottom:" + v, "border-right:" + v, "background-color:" + i + ";"];
  return '<div style="' + y.join("") + '"></div>';
}
function bEe(r, e, t) {
  var i = "cubic-bezier(0.23,1,0.32,1)", a = "", n = "";
  return t && (a = " " + r / 2 + "s " + i, n = "opacity" + a + ",visibility" + a), e || (a = " " + r + "s " + i, n += (n.length ? "," : "") + (qr.transformSupported ? "" + Yk + a : ",left" + a + ",top" + a)), gEe + ":" + n;
}
function AU(r, e, t) {
  var i = r.toFixed(0) + "px", a = e.toFixed(0) + "px";
  if (!qr.transformSupported)
    return t ? "top:" + a + ";left:" + i + ";" : [["top", a], ["left", i]];
  var n = qr.transform3dSupported, o = "translate" + (n ? "3d" : "") + "(" + i + "," + a + (n ? ",0" : "") + ")";
  return t ? "top:0;left:0;" + Yk + ":" + o + ";" : [["top", 0], ["left", 0], [cJ, o]];
}
function wEe(r) {
  var e = [], t = r.get("fontSize"), i = r.getTextColor();
  i && e.push("color:" + i), e.push("font:" + r.getFont());
  var a = It(r.get("lineHeight"), Math.round(t * 3 / 2));
  t && e.push("line-height:" + a + "px");
  var n = r.get("textShadowColor"), o = r.get("textShadowBlur") || 0, s = r.get("textShadowOffsetX") || 0, l = r.get("textShadowOffsetY") || 0;
  return n && o && e.push("text-shadow:" + s + "px " + l + "px " + o + "px " + n), J(["decoration", "align"], function(u) {
    var c = r.get(u);
    c && e.push("text-" + u + ":" + c);
  }), e.join(";");
}
function SEe(r, e, t, i) {
  var a = [], n = r.get("transitionDuration"), o = r.get("backgroundColor"), s = r.get("shadowBlur"), l = r.get("shadowColor"), u = r.get("shadowOffsetX"), c = r.get("shadowOffsetY"), f = r.getModel("textStyle"), d = $j(r, "html"), p = u + "px " + c + "px " + s + "px " + l;
  return a.push("box-shadow:" + p), e && n > 0 && a.push(bEe(n, t, i)), o && a.push("background-color:" + o), J(["width", "color", "radius"], function(v) {
    var y = "border-" + v, _ = fD(y), w = r.get(_);
    w != null && a.push(y + ":" + w + (v === "color" ? "" : "px"));
  }), a.push(wEe(f)), d != null && a.push("padding:" + B0(d).join("px ") + "px"), a.join(";") + ";";
}
function EU(r, e, t, i, a) {
  var n = e && e.painter;
  if (t) {
    var o = n && n.getViewportRoot();
    o && Qce(r, o, t, i, a);
  } else {
    r[0] = i, r[1] = a;
    var s = n && n.getViewportRootOffset();
    s && (r[0] += s.offsetLeft, r[1] += s.offsetTop);
  }
  r[2] = r[0] / e.getWidth(), r[3] = r[1] / e.getHeight();
}
var xEe = (
  /** @class */
  function() {
    function r(e, t) {
      if (this._show = !1, this._styleCoord = [0, 0, 0, 0], this._enterable = !0, this._alwaysShowContent = !1, this._firstShow = !0, this._longHide = !0, qr.wxa)
        return null;
      var i = document.createElement("div");
      i.domBelongToZr = !0, this.el = i;
      var a = this._zr = e.getZr(), n = t.appendTo, o = n && (vt(n) ? document.querySelector(n) : qc(n) ? n : Bt(n) && n(e.getDom()));
      EU(this._styleCoord, a, o, e.getWidth() / 2, e.getHeight() / 2), (o || e.getDom()).appendChild(i), this._api = e, this._container = o;
      var s = this;
      i.onmouseenter = function() {
        s._enterable && (clearTimeout(s._hideTimeout), s._show = !0), s._inContent = !0;
      }, i.onmousemove = function(l) {
        if (l = l || window.event, !s._enterable) {
          var u = a.handler, c = a.painter.getViewportRoot();
          Zo(c, l, !0), u.dispatch("mousemove", l);
        }
      }, i.onmouseleave = function() {
        s._inContent = !1, s._enterable && s._show && s.hideLater(s._hideDelay);
      };
    }
    return r.prototype.update = function(e) {
      if (!this._container) {
        var t = this._api.getDom(), i = vEe(t, "position"), a = t.style;
        a.position !== "absolute" && i !== "absolute" && (a.position = "relative");
      }
      var n = e.get("alwaysShowContent");
      n && this._moveIfResized(), this._alwaysShowContent = n, this._enableDisplayTransition = e.get("displayTransition") && e.get("transitionDuration") > 0, this.el.className = e.get("className") || "";
    }, r.prototype.show = function(e, t) {
      clearTimeout(this._hideTimeout), clearTimeout(this._longHideTimeout);
      var i = this.el, a = i.style, n = this._styleCoord;
      i.innerHTML ? a.cssText = mEe + SEe(e, !this._firstShow, this._longHide, this._enableDisplayTransition) + AU(n[0], n[1], !0) + ("border-color:" + nd(t) + ";") + (e.get("extraCssText") || "") + (";pointer-events:" + (this._enterable ? "auto" : "none")) : a.display = "none", this._show = !0, this._firstShow = !1, this._longHide = !1;
    }, r.prototype.setContent = function(e, t, i, a, n) {
      var o = this.el;
      if (e == null) {
        o.innerHTML = "";
        return;
      }
      var s = "";
      if (vt(n) && i.get("trigger") === "item" && !lJ(i) && (s = _Ee(i, a, n)), vt(e))
        o.innerHTML = e + s;
      else if (e) {
        o.innerHTML = "", Ke(e) || (e = [e]);
        for (var l = 0; l < e.length; l++)
          qc(e[l]) && e[l].parentNode !== o && o.appendChild(e[l]);
        if (s && o.childNodes.length) {
          var u = document.createElement("div");
          u.innerHTML = s, o.appendChild(u);
        }
      }
    }, r.prototype.setEnterable = function(e) {
      this._enterable = e;
    }, r.prototype.getSize = function() {
      var e = this.el;
      return e ? [e.offsetWidth, e.offsetHeight] : [0, 0];
    }, r.prototype.moveTo = function(e, t) {
      if (this.el) {
        var i = this._styleCoord;
        if (EU(i, this._zr, this._container, e, t), i[0] != null && i[1] != null) {
          var a = this.el.style, n = AU(i[0], i[1]);
          J(n, function(o) {
            a[o[0]] = o[1];
          });
        }
      }
    }, r.prototype._moveIfResized = function() {
      var e = this._styleCoord[2], t = this._styleCoord[3];
      this.moveTo(e * this._zr.getWidth(), t * this._zr.getHeight());
    }, r.prototype.hide = function() {
      var e = this, t = this.el.style;
      this._enableDisplayTransition ? (t.visibility = "hidden", t.opacity = "0") : t.display = "none", qr.transform3dSupported && (t.willChange = ""), this._show = !1, this._longHideTimeout = setTimeout(function() {
        return e._longHide = !0;
      }, 500);
    }, r.prototype.hideLater = function(e) {
      this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent && (e ? (this._hideDelay = e, this._show = !1, this._hideTimeout = setTimeout(mt(this.hide, this), e)) : this.hide());
    }, r.prototype.isShow = function() {
      return this._show;
    }, r.prototype.dispose = function() {
      clearTimeout(this._hideTimeout), clearTimeout(this._longHideTimeout);
      var e = this._zr;
      ehe(e && e.painter && e.painter.getViewportRoot(), this._container);
      var t = this.el;
      if (t) {
        t.onmouseenter = t.onmousemove = t.onmouseleave = null;
        var i = t.parentNode;
        i && i.removeChild(t);
      }
      this.el = this._container = null;
    }, r;
  }()
);
const TEe = xEe;
var CEe = (
  /** @class */
  function() {
    function r(e) {
      this._show = !1, this._styleCoord = [0, 0, 0, 0], this._alwaysShowContent = !1, this._enterable = !0, this._zr = e.getZr(), kU(this._styleCoord, this._zr, e.getWidth() / 2, e.getHeight() / 2);
    }
    return r.prototype.update = function(e) {
      var t = e.get("alwaysShowContent");
      t && this._moveIfResized(), this._alwaysShowContent = t;
    }, r.prototype.show = function() {
      this._hideTimeout && clearTimeout(this._hideTimeout), this.el.show(), this._show = !0;
    }, r.prototype.setContent = function(e, t, i, a, n) {
      var o = this;
      zt(e) && en(process.env.NODE_ENV !== "production" ? "Passing DOM nodes as content is not supported in richText tooltip!" : ""), this.el && this._zr.remove(this.el);
      var s = i.getModel("textStyle");
      this.el = new Br({
        style: {
          rich: t.richTextStyles,
          text: e,
          lineHeight: 22,
          borderWidth: 1,
          borderColor: a,
          textShadowColor: s.get("textShadowColor"),
          fill: i.get(["textStyle", "color"]),
          padding: $j(i, "richText"),
          verticalAlign: "top",
          align: "left"
        },
        z: i.get("z")
      }), J(["backgroundColor", "borderRadius", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"], function(u) {
        o.el.style[u] = i.get(u);
      }), J(["textShadowBlur", "textShadowOffsetX", "textShadowOffsetY"], function(u) {
        o.el.style[u] = s.get(u) || 0;
      }), this._zr.add(this.el);
      var l = this;
      this.el.on("mouseover", function() {
        l._enterable && (clearTimeout(l._hideTimeout), l._show = !0), l._inContent = !0;
      }), this.el.on("mouseout", function() {
        l._enterable && l._show && l.hideLater(l._hideDelay), l._inContent = !1;
      });
    }, r.prototype.setEnterable = function(e) {
      this._enterable = e;
    }, r.prototype.getSize = function() {
      var e = this.el, t = this.el.getBoundingRect(), i = DU(e.style);
      return [t.width + i.left + i.right, t.height + i.top + i.bottom];
    }, r.prototype.moveTo = function(e, t) {
      var i = this.el;
      if (i) {
        var a = this._styleCoord;
        kU(a, this._zr, e, t), e = a[0], t = a[1];
        var n = i.style, o = Ec(n.borderWidth || 0), s = DU(n);
        i.x = e + o + s.left, i.y = t + o + s.top, i.markRedraw();
      }
    }, r.prototype._moveIfResized = function() {
      var e = this._styleCoord[2], t = this._styleCoord[3];
      this.moveTo(e * this._zr.getWidth(), t * this._zr.getHeight());
    }, r.prototype.hide = function() {
      this.el && this.el.hide(), this._show = !1;
    }, r.prototype.hideLater = function(e) {
      this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent && (e ? (this._hideDelay = e, this._show = !1, this._hideTimeout = setTimeout(mt(this.hide, this), e)) : this.hide());
    }, r.prototype.isShow = function() {
      return this._show;
    }, r.prototype.dispose = function() {
      this._zr.remove(this.el);
    }, r;
  }()
);
function Ec(r) {
  return Math.max(0, r);
}
function DU(r) {
  var e = Ec(r.shadowBlur || 0), t = Ec(r.shadowOffsetX || 0), i = Ec(r.shadowOffsetY || 0);
  return {
    left: Ec(e - t),
    right: Ec(e + t),
    top: Ec(e - i),
    bottom: Ec(e + i)
  };
}
function kU(r, e, t, i) {
  r[0] = t, r[1] = i, r[2] = r[0] / e.getWidth(), r[3] = r[1] / e.getHeight();
}
const AEe = CEe;
var EEe = new Cr({
  shape: {
    x: -1,
    y: -1,
    width: 2,
    height: 2
  }
}), DEe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.init = function(t, i) {
      if (!(qr.node || !i.getDom())) {
        var a = t.getComponent("tooltip"), n = this._renderMode = Xfe(a.get("renderMode"));
        this._tooltipContent = n === "richText" ? new AEe(i) : new TEe(i, {
          appendTo: a.get("appendToBody", !0) ? "body" : a.get("appendTo", !0)
        });
      }
    }, e.prototype.render = function(t, i, a) {
      if (!(qr.node || !a.getDom())) {
        this.group.removeAll(), this._tooltipModel = t, this._ecModel = i, this._api = a;
        var n = this._tooltipContent;
        n.update(t), n.setEnterable(t.get("enterable")), this._initGlobalListener(), this._keepShow(), this._renderMode !== "richText" && t.get("transitionDuration") ? G0(this, "_updatePosition", 50, "fixRate") : y1(this, "_updatePosition");
      }
    }, e.prototype._initGlobalListener = function() {
      var t = this._tooltipModel, i = t.get("triggerOn");
      $Z("itemTooltip", this._api, mt(function(a, n, o) {
        i !== "none" && (i.indexOf(a) >= 0 ? this._tryShow(n, o) : a === "leave" && this._hide(o));
      }, this));
    }, e.prototype._keepShow = function() {
      var t = this._tooltipModel, i = this._ecModel, a = this._api, n = t.get("triggerOn");
      if (this._lastX != null && this._lastY != null && n !== "none" && n !== "click") {
        var o = this;
        clearTimeout(this._refreshUpdateTimeout), this._refreshUpdateTimeout = setTimeout(function() {
          !a.isDisposed() && o.manuallyShowTip(t, i, a, {
            x: o._lastX,
            y: o._lastY,
            dataByCoordSys: o._lastDataByCoordSys
          });
        });
      }
    }, e.prototype.manuallyShowTip = function(t, i, a, n) {
      if (!(n.from === this.uid || qr.node || !a.getDom())) {
        var o = MU(n, a);
        this._ticket = "";
        var s = n.dataByCoordSys, l = PEe(n, i, a);
        if (l) {
          var u = l.el.getBoundingRect().clone();
          u.applyTransform(l.el.transform), this._tryShow({
            offsetX: u.x + u.width / 2,
            offsetY: u.y + u.height / 2,
            target: l.el,
            position: n.position,
            // When manully trigger, the mouse is not on the el, so we'd better to
            // position tooltip on the bottom of the el and display arrow is possible.
            positionDefault: "bottom"
          }, o);
        } else if (n.tooltip && n.x != null && n.y != null) {
          var c = EEe;
          c.x = n.x, c.y = n.y, c.update(), er(c).tooltipConfig = {
            name: null,
            option: n.tooltip
          }, this._tryShow({
            offsetX: n.x,
            offsetY: n.y,
            target: c
          }, o);
        } else if (s)
          this._tryShow({
            offsetX: n.x,
            offsetY: n.y,
            position: n.position,
            dataByCoordSys: s,
            tooltipOption: n.tooltipOption
          }, o);
        else if (n.seriesIndex != null) {
          if (this._manuallyAxisShowTip(t, i, a, n))
            return;
          var f = YZ(n, i), d = f.point[0], p = f.point[1];
          d != null && p != null && this._tryShow({
            offsetX: d,
            offsetY: p,
            target: f.el,
            position: n.position,
            // When manully trigger, the mouse is not on the el, so we'd better to
            // position tooltip on the bottom of the el and display arrow is possible.
            positionDefault: "bottom"
          }, o);
        } else
          n.x != null && n.y != null && (a.dispatchAction({
            type: "updateAxisPointer",
            x: n.x,
            y: n.y
          }), this._tryShow({
            offsetX: n.x,
            offsetY: n.y,
            position: n.position,
            target: a.getZr().findHover(n.x, n.y).target
          }, o));
      }
    }, e.prototype.manuallyHideTip = function(t, i, a, n) {
      var o = this._tooltipContent;
      this._tooltipModel && o.hideLater(this._tooltipModel.get("hideDelay")), this._lastX = this._lastY = this._lastDataByCoordSys = null, n.from !== this.uid && this._hide(MU(n, a));
    }, e.prototype._manuallyAxisShowTip = function(t, i, a, n) {
      var o = n.seriesIndex, s = n.dataIndex, l = i.getComponent("axisPointer").coordSysAxesInfo;
      if (!(o == null || s == null || l == null)) {
        var u = i.getSeriesByIndex(o);
        if (u) {
          var c = u.getData(), f = dg([c.getItemModel(s), u, (u.coordinateSystem || {}).model], this._tooltipModel);
          if (f.get("trigger") === "axis")
            return a.dispatchAction({
              type: "updateAxisPointer",
              seriesIndex: o,
              dataIndex: s,
              position: n.position
            }), !0;
        }
      }
    }, e.prototype._tryShow = function(t, i) {
      var a = t.target, n = this._tooltipModel;
      if (n) {
        this._lastX = t.offsetX, this._lastY = t.offsetY;
        var o = t.dataByCoordSys;
        if (o && o.length)
          this._showAxisTooltip(o, t);
        else if (a) {
          var s = er(a);
          if (s.ssrType === "legend")
            return;
          this._lastDataByCoordSys = null;
          var l, u;
          Lf(a, function(c) {
            if (c.tooltipDisabled)
              return l = u = null, !0;
            l || u || (er(c).dataIndex != null ? l = c : er(c).tooltipConfig != null && (u = c));
          }, !0), l ? this._showSeriesItemTooltip(t, l, i) : u ? this._showComponentItemTooltip(t, u, i) : this._hide(i);
        } else
          this._lastDataByCoordSys = null, this._hide(i);
      }
    }, e.prototype._showOrMove = function(t, i) {
      var a = t.get("showDelay");
      i = mt(i, this), clearTimeout(this._showTimout), a > 0 ? this._showTimout = setTimeout(i, a) : i();
    }, e.prototype._showAxisTooltip = function(t, i) {
      var a = this._ecModel, n = this._tooltipModel, o = [i.offsetX, i.offsetY], s = dg([i.tooltipOption], n), l = this._renderMode, u = [], c = Pi("section", {
        blocks: [],
        noHeader: !0
      }), f = [], d = new H3();
      J(t, function(S) {
        J(S.dataByAxis, function(x) {
          var E = a.getComponent(x.axisDim + "Axis", x.axisIndex), M = x.value;
          if (!(!E || M == null)) {
            var k = zZ(M, E.axis, a, x.seriesDataIndices, x.valueLabelOpt), P = Pi("section", {
              header: k,
              noHeader: !Ao(k),
              sortBlocks: !0,
              blocks: []
            });
            c.blocks.push(P), J(x.seriesDataIndices, function(L) {
              var F = a.getSeriesByIndex(L.seriesIndex), O = L.dataIndexInside, U = F.getDataParams(O);
              if (!(U.dataIndex < 0)) {
                U.axisDim = x.axisDim, U.axisIndex = x.axisIndex, U.axisType = x.axisType, U.axisId = x.axisId, U.axisValue = db(E.axis, {
                  value: M
                }), U.axisValueLabel = k, U.marker = d.makeTooltipMarker("item", nd(U.color), l);
                var V = GO(F.formatTooltip(O, !0, null)), G = V.frag;
                if (G) {
                  var Z = dg([F], n).get("valueFormatter");
                  P.blocks.push(Z ? $e({
                    valueFormatter: Z
                  }, G) : G);
                }
                V.text && f.push(V.text), u.push(U);
              }
            });
          }
        });
      }), c.blocks.reverse(), f.reverse();
      var p = i.position, v = s.get("order"), y = jO(c, d, l, v, a.get("useUTC"), s.get("textStyle"));
      y && f.unshift(y);
      var _ = l === "richText" ? `

` : "<br/>", w = f.join(_);
      this._showOrMove(s, function() {
        this._updateContentNotChangedOnAxis(t, u) ? this._updatePosition(s, p, o[0], o[1], this._tooltipContent, u) : this._showTooltipContent(s, w, u, Math.random() + "", o[0], o[1], p, null, d);
      });
    }, e.prototype._showSeriesItemTooltip = function(t, i, a) {
      var n = this._ecModel, o = er(i), s = o.seriesIndex, l = n.getSeriesByIndex(s), u = o.dataModel || l, c = o.dataIndex, f = o.dataType, d = u.getData(f), p = this._renderMode, v = t.positionDefault, y = dg([d.getItemModel(c), u, l && (l.coordinateSystem || {}).model], this._tooltipModel, v ? {
        position: v
      } : null), _ = y.get("trigger");
      if (!(_ != null && _ !== "item")) {
        var w = u.getDataParams(c, f), S = new H3();
        w.marker = S.makeTooltipMarker("item", nd(w.color), p);
        var x = GO(u.formatTooltip(c, !1, f)), E = y.get("order"), M = y.get("valueFormatter"), k = x.frag, P = k ? jO(M ? $e({
          valueFormatter: M
        }, k) : k, S, p, E, n.get("useUTC"), y.get("textStyle")) : x.text, L = "item_" + u.name + "_" + c;
        this._showOrMove(y, function() {
          this._showTooltipContent(y, P, w, L, t.offsetX, t.offsetY, t.position, t.target, S);
        }), a({
          type: "showTip",
          dataIndexInside: c,
          dataIndex: d.getRawIndex(c),
          seriesIndex: s,
          from: this.uid
        });
      }
    }, e.prototype._showComponentItemTooltip = function(t, i, a) {
      var n = this._renderMode === "html", o = er(i), s = o.tooltipConfig, l = s.option || {}, u = l.encodeHTMLContent;
      if (vt(l)) {
        var c = l;
        l = {
          content: c,
          // Fixed formatter
          formatter: c
        }, u = !0;
      }
      u && n && l.content && (l = Gt(l), l.content = ya(l.content));
      var f = [l], d = this._ecModel.getComponent(o.componentMainType, o.componentIndex);
      d && f.push(d), f.push({
        formatter: l.content
      });
      var p = t.positionDefault, v = dg(f, this._tooltipModel, p ? {
        position: p
      } : null), y = v.get("content"), _ = Math.random() + "", w = new H3();
      this._showOrMove(v, function() {
        var S = Gt(v.get("formatterParams") || {});
        this._showTooltipContent(v, y, S, _, t.offsetX, t.offsetY, t.position, i, w);
      }), a({
        type: "showTip",
        from: this.uid
      });
    }, e.prototype._showTooltipContent = function(t, i, a, n, o, s, l, u, c) {
      if (this._ticket = "", !(!t.get("showContent") || !t.get("show"))) {
        var f = this._tooltipContent;
        f.setEnterable(t.get("enterable"));
        var d = t.get("formatter");
        l = l || t.get("position");
        var p = i, v = this._getNearestPoint([o, s], a, t.get("trigger"), t.get("borderColor"), t.get("defaultBorderColor", !0)), y = v.color;
        if (d)
          if (vt(d)) {
            var _ = t.ecModel.get("useUTC"), w = Ke(a) ? a[0] : a, S = w && w.axisType && w.axisType.indexOf("time") >= 0;
            p = d, S && (p = om(w.axisValue, p, _)), p = dD(p, a, !0);
          } else if (Bt(d)) {
            var x = mt(function(E, M) {
              E === this._ticket && (f.setContent(M, c, t, y, l), this._updatePosition(t, l, o, s, f, a, u));
            }, this);
            this._ticket = n, p = d(a, n, x);
          } else
            p = d;
        f.setContent(p, c, t, y, l), f.show(t, y), this._updatePosition(t, l, o, s, f, a, u);
      }
    }, e.prototype._getNearestPoint = function(t, i, a, n, o) {
      if (a === "axis" || Ke(i))
        return {
          color: n || o
        };
      if (!Ke(i))
        return {
          color: n || i.color || i.borderColor
        };
    }, e.prototype._updatePosition = function(t, i, a, n, o, s, l) {
      var u = this._api.getWidth(), c = this._api.getHeight();
      i = i || t.get("position");
      var f = o.getSize(), d = t.get("align"), p = t.get("verticalAlign"), v = l && l.getBoundingRect().clone();
      if (l && v.applyTransform(l.transform), Bt(i) && (i = i([a, n], s, o.el, v, {
        viewSize: [u, c],
        contentSize: f.slice()
      })), Ke(i))
        a = gt(i[0], u), n = gt(i[1], c);
      else if (zt(i)) {
        var y = i;
        y.width = f[0], y.height = f[1];
        var _ = Bn(y, {
          width: u,
          height: c
        });
        a = _.x, n = _.y, d = null, p = null;
      } else if (vt(i) && l) {
        var w = IEe(i, v, f, t.get("borderWidth"));
        a = w[0], n = w[1];
      } else {
        var w = kEe(a, n, o, u, c, d ? null : 20, p ? null : 20);
        a = w[0], n = w[1];
      }
      if (d && (a -= IU(d) ? f[0] / 2 : d === "right" ? f[0] : 0), p && (n -= IU(p) ? f[1] / 2 : p === "bottom" ? f[1] : 0), lJ(t)) {
        var w = MEe(a, n, o, u, c);
        a = w[0], n = w[1];
      }
      o.moveTo(a, n);
    }, e.prototype._updateContentNotChangedOnAxis = function(t, i) {
      var a = this._lastDataByCoordSys, n = this._cbParamsList, o = !!a && a.length === t.length;
      return o && J(a, function(s, l) {
        var u = s.dataByAxis || [], c = t[l] || {}, f = c.dataByAxis || [];
        o = o && u.length === f.length, o && J(u, function(d, p) {
          var v = f[p] || {}, y = d.seriesDataIndices || [], _ = v.seriesDataIndices || [];
          o = o && d.value === v.value && d.axisType === v.axisType && d.axisId === v.axisId && y.length === _.length, o && J(y, function(w, S) {
            var x = _[S];
            o = o && w.seriesIndex === x.seriesIndex && w.dataIndex === x.dataIndex;
          }), n && J(d.seriesDataIndices, function(w) {
            var S = w.seriesIndex, x = i[S], E = n[S];
            x && E && E.data !== x.data && (o = !1);
          });
        });
      }), this._lastDataByCoordSys = t, this._cbParamsList = i, !!o;
    }, e.prototype._hide = function(t) {
      this._lastDataByCoordSys = null, t({
        type: "hideTip",
        from: this.uid
      });
    }, e.prototype.dispose = function(t, i) {
      qr.node || !i.getDom() || (y1(this, "_updatePosition"), this._tooltipContent.dispose(), iE("itemTooltip", i));
    }, e.type = "tooltip", e;
  }(Pn)
);
function dg(r, e, t) {
  var i = e.ecModel, a;
  t ? (a = new Vr(t, i, i), a = new Vr(e.option, a, i)) : a = e;
  for (var n = r.length - 1; n >= 0; n--) {
    var o = r[n];
    o && (o instanceof Vr && (o = o.get("tooltip", !0)), vt(o) && (o = {
      formatter: o
    }), o && (a = new Vr(o, a, i)));
  }
  return a;
}
function MU(r, e) {
  return r.dispatchAction || mt(e.dispatchAction, e);
}
function kEe(r, e, t, i, a, n, o) {
  var s = t.getSize(), l = s[0], u = s[1];
  return n != null && (r + l + n + 2 > i ? r -= l + n : r += n), o != null && (e + u + o > a ? e -= u + o : e += o), [r, e];
}
function MEe(r, e, t, i, a) {
  var n = t.getSize(), o = n[0], s = n[1];
  return r = Math.min(r + o, i) - o, e = Math.min(e + s, a) - s, r = Math.max(r, 0), e = Math.max(e, 0), [r, e];
}
function IEe(r, e, t, i) {
  var a = t[0], n = t[1], o = Math.ceil(Math.SQRT2 * i) + 8, s = 0, l = 0, u = e.width, c = e.height;
  switch (r) {
    case "inside":
      s = e.x + u / 2 - a / 2, l = e.y + c / 2 - n / 2;
      break;
    case "top":
      s = e.x + u / 2 - a / 2, l = e.y - n - o;
      break;
    case "bottom":
      s = e.x + u / 2 - a / 2, l = e.y + c + o;
      break;
    case "left":
      s = e.x - a - o, l = e.y + c / 2 - n / 2;
      break;
    case "right":
      s = e.x + u + o, l = e.y + c / 2 - n / 2;
  }
  return [s, l];
}
function IU(r) {
  return r === "center" || r === "middle";
}
function PEe(r, e, t) {
  var i = O8(r).queryOptionMap, a = i.keys()[0];
  if (!(!a || a === "series")) {
    var n = P0(e, a, i.get(a), {
      useDefault: !1,
      enableAll: !1,
      enableNone: !1
    }), o = n.models[0];
    if (o) {
      var s = t.getViewOfComponentModel(o), l;
      if (s.group.traverse(function(u) {
        var c = er(u).tooltipConfig;
        if (c && c.name === r.name)
          return l = u, !0;
      }), l)
        return {
          componentMainType: a,
          componentIndex: o.componentIndex,
          el: l
        };
    }
  }
}
const REe = DEe;
function LEe(r) {
  _r(vm), r.registerComponentModel(dEe), r.registerComponentView(REe), r.registerAction({
    type: "showTip",
    event: "showTip",
    update: "tooltip:manuallyShowTip"
  }, si), r.registerAction({
    type: "hideTip",
    event: "hideTip",
    update: "tooltip:manuallyHideTip"
  }, si);
}
var OEe = ["rect", "polygon", "keep", "clear"];
function FEe(r, e) {
  var t = xn(r ? r.brush : []);
  if (t.length) {
    var i = [];
    J(t, function(l) {
      var u = l.hasOwnProperty("toolbox") ? l.toolbox : [];
      u instanceof Array && (i = i.concat(u));
    });
    var a = r && r.toolbox;
    Ke(a) && (a = a[0]), a || (a = {
      feature: {}
    }, r.toolbox = [a]);
    var n = a.feature || (a.feature = {}), o = n.brush || (n.brush = {}), s = o.type || (o.type = []);
    s.push.apply(s, i), NEe(s), e && !s.length && s.push.apply(s, OEe);
  }
}
function NEe(r) {
  var e = {};
  J(r, function(t) {
    e[t] = 1;
  }), r.length = 0, J(e, function(t, i) {
    r.push(i);
  });
}
var PU = J;
function RU(r) {
  if (r) {
    for (var e in r)
      if (r.hasOwnProperty(e))
        return !0;
  }
}
function dE(r, e, t) {
  var i = {};
  return PU(e, function(n) {
    var o = i[n] = a();
    PU(r[n], function(s, l) {
      if (_a.isValidType(l)) {
        var u = {
          type: l,
          visual: s
        };
        t && t(u, n), o[l] = new _a(u), l === "opacity" && (u = Gt(u), u.type = "colorAlpha", o.__hidden.__alphaForOpacity = new _a(u));
      }
    });
  }), i;
  function a() {
    var n = function() {
    };
    n.prototype.__hidden = n.prototype;
    var o = new n();
    return o;
  }
}
function fJ(r, e, t) {
  var i;
  J(t, function(a) {
    e.hasOwnProperty(a) && RU(e[a]) && (i = !0);
  }), i && J(t, function(a) {
    e.hasOwnProperty(a) && RU(e[a]) ? r[a] = Gt(e[a]) : delete r[a];
  });
}
function BEe(r, e, t, i, a, n) {
  var o = {};
  J(r, function(f) {
    var d = _a.prepareVisualTypes(e[f]);
    o[f] = d;
  });
  var s;
  function l(f) {
    return xD(t, s, f);
  }
  function u(f, d) {
    tq(t, s, f, d);
  }
  n == null ? t.each(c) : t.each([n], c);
  function c(f, d) {
    s = n == null ? f : d;
    var p = t.getRawDataItem(s);
    if (!(p && p.visualMap === !1))
      for (var v = i.call(a, f), y = e[v], _ = o[v], w = 0, S = _.length; w < S; w++) {
        var x = _[w];
        y[x] && y[x].applyVisual(f, l, u);
      }
  }
}
function VEe(r, e, t, i) {
  var a = {};
  return J(r, function(n) {
    var o = _a.prepareVisualTypes(e[n]);
    a[n] = o;
  }), {
    progress: function(o, s) {
      var l;
      i != null && (l = s.getDimensionIndex(i));
      function u(M) {
        return xD(s, f, M);
      }
      function c(M, k) {
        tq(s, f, M, k);
      }
      for (var f, d = s.getStore(); (f = o.next()) != null; ) {
        var p = s.getRawDataItem(f);
        if (!(p && p.visualMap === !1))
          for (var v = i != null ? d.get(l, f) : f, y = t(v), _ = e[y], w = a[y], S = 0, x = w.length; S < x; S++) {
            var E = w[S];
            _[E] && _[E].applyVisual(v, u, c);
          }
      }
    }
  };
}
function UEe(r) {
  var e = r.brushType, t = {
    point: function(i) {
      return LU[e].point(i, t, r);
    },
    rect: function(i) {
      return LU[e].rect(i, t, r);
    }
  };
  return t;
}
var LU = {
  lineX: OU(0),
  lineY: OU(1),
  rect: {
    point: function(r, e, t) {
      return r && t.boundingRect.contain(r[0], r[1]);
    },
    rect: function(r, e, t) {
      return r && t.boundingRect.intersect(r);
    }
  },
  polygon: {
    point: function(r, e, t) {
      return r && t.boundingRect.contain(r[0], r[1]) && Sf(t.range, r[0], r[1]);
    },
    rect: function(r, e, t) {
      var i = t.range;
      if (!r || i.length <= 1)
        return !1;
      var a = r.x, n = r.y, o = r.width, s = r.height, l = i[0];
      if (Sf(i, a, n) || Sf(i, a + o, n) || Sf(i, a, n + s) || Sf(i, a + o, n + s) || Jt.create(r).contain(l[0], l[1]) || Dg(a, n, a + o, n, i) || Dg(a, n, a, n + s, i) || Dg(a + o, n, a + o, n + s, i) || Dg(a, n + s, a + o, n + s, i))
        return !0;
    }
  }
};
function OU(r) {
  var e = ["x", "y"], t = ["width", "height"];
  return {
    point: function(i, a, n) {
      if (i) {
        var o = n.range, s = i[r];
        return pg(s, o);
      }
    },
    rect: function(i, a, n) {
      if (i) {
        var o = n.range, s = [i[e[r]], i[e[r]] + i[t[r]]];
        return s[1] < s[0] && s.reverse(), pg(s[0], o) || pg(s[1], o) || pg(o[0], s) || pg(o[1], s);
      }
    }
  };
}
function pg(r, e) {
  return e[0] <= r && r <= e[1];
}
var FU = ["inBrush", "outOfBrush"], fT = "__ecBrushSelect", pE = "__ecInBrushSelectEvent";
function dJ(r) {
  r.eachComponent({
    mainType: "brush"
  }, function(e) {
    var t = e.brushTargetManager = new Hk(e.option, r);
    t.setInputRanges(e.areas, r);
  });
}
function GEe(r, e, t) {
  var i = [], a, n;
  r.eachComponent({
    mainType: "brush"
  }, function(o) {
    t && t.type === "takeGlobalCursor" && o.setBrushOption(t.key === "brush" ? t.brushOption : {
      brushType: !1
    });
  }), dJ(r), r.eachComponent({
    mainType: "brush"
  }, function(o, s) {
    var l = {
      brushId: o.id,
      brushIndex: s,
      brushName: o.name,
      areas: Gt(o.areas),
      selected: []
    };
    i.push(l);
    var u = o.option, c = u.brushLink, f = [], d = [], p = [], v = !1;
    s || (a = u.throttleType, n = u.throttleDelay);
    var y = Je(o.areas, function(M) {
      var k = $Ee[M.brushType], P = Yt({
        boundingRect: k ? k(M) : void 0
      }, M);
      return P.selectors = UEe(P), P;
    }), _ = dE(o.option, FU, function(M) {
      M.mappingMethod = "fixed";
    });
    Ke(c) && J(c, function(M) {
      f[M] = 1;
    });
    function w(M) {
      return c === "all" || !!f[M];
    }
    function S(M) {
      return !!M.length;
    }
    r.eachSeries(function(M, k) {
      var P = p[k] = [];
      M.subType === "parallel" ? x(M, k) : E(M, k, P);
    });
    function x(M, k) {
      var P = M.coordinateSystem;
      v = v || P.hasAxisBrushed(), w(k) && P.eachActiveState(M.getData(), function(L, F) {
        L === "active" && (d[F] = 1);
      });
    }
    function E(M, k, P) {
      if (!(!M.brushSelector || HEe(o, k)) && (J(y, function(F) {
        o.brushTargetManager.controlSeries(F, M, r) && P.push(F), v = v || S(P);
      }), w(k) && S(P))) {
        var L = M.getData();
        L.each(function(F) {
          NU(M, P, L, F) && (d[F] = 1);
        });
      }
    }
    r.eachSeries(function(M, k) {
      var P = {
        seriesId: M.id,
        seriesIndex: k,
        seriesName: M.name,
        dataIndex: []
      };
      l.selected.push(P);
      var L = p[k], F = M.getData(), O = w(k) ? function(U) {
        return d[U] ? (P.dataIndex.push(F.getRawIndex(U)), "inBrush") : "outOfBrush";
      } : function(U) {
        return NU(M, L, F, U) ? (P.dataIndex.push(F.getRawIndex(U)), "inBrush") : "outOfBrush";
      };
      (w(k) ? v : S(L)) && BEe(FU, _, F, O);
    });
  }), zEe(e, a, n, i, t);
}
function zEe(r, e, t, i, a) {
  if (a) {
    var n = r.getZr();
    if (!n[pE]) {
      n[fT] || (n[fT] = WEe);
      var o = G0(n, fT, t, e);
      o(r, i);
    }
  }
}
function WEe(r, e) {
  if (!r.isDisposed()) {
    var t = r.getZr();
    t[pE] = !0, r.dispatchAction({
      type: "brushSelect",
      batch: e
    }), t[pE] = !1;
  }
}
function NU(r, e, t, i) {
  for (var a = 0, n = e.length; a < n; a++) {
    var o = e[a];
    if (r.brushSelector(i, t, o.selectors, o))
      return !0;
  }
}
function HEe(r, e) {
  var t = r.option.seriesIndex;
  return t != null && t !== "all" && (Ke(t) ? dr(t, e) < 0 : e !== t);
}
var $Ee = {
  rect: function(r) {
    return BU(r.range);
  },
  polygon: function(r) {
    for (var e, t = r.range, i = 0, a = t.length; i < a; i++) {
      e = e || [[1 / 0, -1 / 0], [1 / 0, -1 / 0]];
      var n = t[i];
      n[0] < e[0][0] && (e[0][0] = n[0]), n[0] > e[0][1] && (e[0][1] = n[0]), n[1] < e[1][0] && (e[1][0] = n[1]), n[1] > e[1][1] && (e[1][1] = n[1]);
    }
    return e && BU(e);
  }
};
function BU(r) {
  return new Jt(r[0][0], r[1][0], r[0][1] - r[0][0], r[1][1] - r[1][0]);
}
var YEe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.init = function(t, i) {
      this.ecModel = t, this.api = i, this.model, (this._brushController = new bk(i.getZr())).on("brush", mt(this._onBrush, this)).mount();
    }, e.prototype.render = function(t, i, a, n) {
      this.model = t, this._updateController(t, i, a, n);
    }, e.prototype.updateTransform = function(t, i, a, n) {
      dJ(i), this._updateController(t, i, a, n);
    }, e.prototype.updateVisual = function(t, i, a, n) {
      this.updateTransform(t, i, a, n);
    }, e.prototype.updateView = function(t, i, a, n) {
      this._updateController(t, i, a, n);
    }, e.prototype._updateController = function(t, i, a, n) {
      (!n || n.$from !== t.id) && this._brushController.setPanels(t.brushTargetManager.makePanelOpts(a)).enableBrush(t.brushOption).updateCovers(t.areas.slice());
    }, e.prototype.dispose = function() {
      this._brushController.dispose();
    }, e.prototype._onBrush = function(t) {
      var i = this.model.id, a = this.model.brushTargetManager.setOutputRanges(t.areas, this.ecModel);
      (!t.isEnd || t.removeOnClick) && this.api.dispatchAction({
        type: "brush",
        brushId: i,
        areas: Gt(a),
        $from: i
      }), t.isEnd && this.api.dispatchAction({
        type: "brushEnd",
        brushId: i,
        areas: Gt(a),
        $from: i
      });
    }, e.type = "brush", e;
  }(Pn)
);
const jEe = YEe;
var qEe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.areas = [], t.brushOption = {}, t;
    }
    return e.prototype.optionUpdated = function(t, i) {
      var a = this.option;
      !i && fJ(a, t, ["inBrush", "outOfBrush"]);
      var n = a.inBrush = a.inBrush || {};
      a.outOfBrush = a.outOfBrush || {
        color: this.option.defaultOutOfBrushColor
      }, n.hasOwnProperty("liftZ") || (n.liftZ = 5);
    }, e.prototype.setAreas = function(t) {
      process.env.NODE_ENV !== "production" && (kt(Ke(t)), J(t, function(i) {
        kt(i.brushType, "Illegal areas");
      })), t && (this.areas = Je(t, function(i) {
        return VU(this.option, i);
      }, this));
    }, e.prototype.setBrushOption = function(t) {
      this.brushOption = VU(this.option, t), this.brushType = this.brushOption.brushType;
    }, e.type = "brush", e.dependencies = ["geo", "grid", "xAxis", "yAxis", "parallel", "series"], e.defaultOption = {
      seriesIndex: "all",
      brushType: "rect",
      brushMode: "single",
      transformable: !0,
      brushStyle: {
        borderWidth: 1,
        color: Ve.color.backgroundTint,
        borderColor: Ve.color.borderTint
      },
      throttleType: "fixRate",
      throttleDelay: 0,
      removeOnClick: !0,
      z: 1e4,
      defaultOutOfBrushColor: Ve.color.disabled
    }, e;
  }(Rr)
);
function VU(r, e) {
  return gr({
    brushType: r.brushType,
    brushMode: r.brushMode,
    transformable: r.transformable,
    brushStyle: new Vr(r.brushStyle).getItemStyle(),
    removeOnClick: r.removeOnClick,
    z: r.z
  }, e, !0);
}
const XEe = qEe;
var KEe = ["rect", "polygon", "lineX", "lineY", "keep", "clear"], ZEe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e.prototype.render = function(t, i, a) {
      var n, o, s;
      i.eachComponent({
        mainType: "brush"
      }, function(l) {
        n = l.brushType, o = l.brushOption.brushMode || "single", s = s || !!l.areas.length;
      }), this._brushType = n, this._brushMode = o, J(t.get("type", !0), function(l) {
        t.setIconStatus(l, (l === "keep" ? o === "multiple" : l === "clear" ? s : l === n) ? "emphasis" : "normal");
      });
    }, e.prototype.updateView = function(t, i, a) {
      this.render(t, i, a);
    }, e.prototype.getIcons = function() {
      var t = this.model, i = t.get("icon", !0), a = {};
      return J(t.get("type", !0), function(n) {
        i[n] && (a[n] = i[n]);
      }), a;
    }, e.prototype.onclick = function(t, i, a) {
      var n = this._brushType, o = this._brushMode;
      a === "clear" ? (i.dispatchAction({
        type: "axisAreaSelect",
        intervals: []
      }), i.dispatchAction({
        type: "brush",
        command: "clear",
        // Clear all areas of all brush components.
        areas: []
      })) : i.dispatchAction({
        type: "takeGlobalCursor",
        key: "brush",
        brushOption: {
          brushType: a === "keep" ? n : n === a ? !1 : a,
          brushMode: a === "keep" ? o === "multiple" ? "single" : "multiple" : o
        }
      });
    }, e.getDefaultOption = function(t) {
      var i = {
        show: !0,
        type: KEe.slice(),
        icon: {
          /* eslint-disable */
          rect: "M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",
          polygon: "M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",
          lineX: "M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",
          lineY: "M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",
          keep: "M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",
          clear: "M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"
          // jshint ignore:line
          /* eslint-enable */
        },
        // `rect`, `polygon`, `lineX`, `lineY`, `keep`, `clear`
        title: t.getLocaleModel().get(["toolbox", "brush", "title"])
      };
      return i;
    }, e;
  }(rs)
);
const JEe = ZEe;
function QEe(r) {
  r.registerComponentView(jEe), r.registerComponentModel(XEe), r.registerPreprocessor(FEe), r.registerVisual(r.PRIORITY.VISUAL.BRUSH, GEe), r.registerAction({
    type: "brush",
    event: "brush",
    update: "updateVisual"
  }, function(e, t) {
    t.eachComponent({
      mainType: "brush",
      query: e
    }, function(i) {
      i.setAreas(e.areas);
    });
  }), r.registerAction({
    type: "brushSelect",
    event: "brushSelected",
    update: "none"
  }, si), r.registerAction({
    type: "brushEnd",
    event: "brushEnd",
    update: "none"
  }, si), Lp("brush", JEe);
}
var e8e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.layoutMode = {
        type: "box",
        ignoreSize: !0
      }, t;
    }
    return e.type = "title", e.defaultOption = {
      // zlevel: 0,
      z: 6,
      show: !0,
      text: "",
      target: "blank",
      subtext: "",
      subtarget: "blank",
      left: "center",
      top: Ve.size.m,
      backgroundColor: Ve.color.transparent,
      borderColor: Ve.color.primary,
      borderWidth: 0,
      padding: 5,
      itemGap: 10,
      textStyle: {
        fontSize: 18,
        fontWeight: "bold",
        color: Ve.color.primary
      },
      subtextStyle: {
        fontSize: 12,
        color: Ve.color.quaternary
      }
    }, e;
  }(Rr)
), t8e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i, a) {
      if (this.group.removeAll(), !!t.get("show")) {
        var n = this.group, o = t.getModel("textStyle"), s = t.getModel("subtextStyle"), l = t.get("textAlign"), u = It(t.get("textBaseline"), t.get("textVerticalAlign")), c = new Br({
          style: Sn(o, {
            text: t.get("text"),
            fill: o.getTextColor()
          }, {
            disableBox: !0
          }),
          z2: 10
        }), f = c.getBoundingRect(), d = t.get("subtext"), p = new Br({
          style: Sn(s, {
            text: d,
            fill: s.getTextColor(),
            y: f.height + t.get("itemGap"),
            verticalAlign: "top"
          }, {
            disableBox: !0
          }),
          z2: 10
        }), v = t.get("link"), y = t.get("sublink"), _ = t.get("triggerEvent", !0);
        c.silent = !v && !_, p.silent = !y && !_, v && c.on("click", function() {
          J_(v, "_" + t.get("target"));
        }), y && p.on("click", function() {
          J_(y, "_" + t.get("subtarget"));
        }), er(c).eventData = er(p).eventData = _ ? {
          componentType: "title",
          componentIndex: t.componentIndex
        } : null, n.add(c), d && n.add(p);
        var w = n.getBoundingRect(), S = t.getBoxLayoutParams();
        S.width = w.width, S.height = w.height;
        var x = Wi(t, a), E = Bn(S, x.refContainer, t.get("padding"));
        l || (l = t.get("left") || t.get("right"), l === "middle" && (l = "center"), l === "right" ? E.x += E.width : l === "center" && (E.x += E.width / 2)), u || (u = t.get("top") || t.get("bottom"), u === "center" && (u = "middle"), u === "bottom" ? E.y += E.height : u === "middle" && (E.y += E.height / 2), u = u || "top"), n.x = E.x, n.y = E.y, n.markRedraw();
        var M = {
          align: l,
          verticalAlign: u
        };
        c.setStyle(M), p.setStyle(M), w = n.getBoundingRect();
        var k = E.margin, P = t.getItemStyle(["color", "opacity"]);
        P.fill = t.get("backgroundColor");
        var L = new Cr({
          shape: {
            x: w.x - k[3],
            y: w.y - k[0],
            width: w.width + k[1] + k[3],
            height: w.height + k[0] + k[2],
            r: t.get("borderRadius")
          },
          style: P,
          subPixelOptimize: !0,
          silent: !0
        });
        n.add(L);
      }
    }, e.type = "title", e;
  }(Pn)
);
function r8e(r) {
  r.registerComponentModel(e8e), r.registerComponentView(t8e);
}
var n8e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.layoutMode = "box", t;
    }
    return e.prototype.init = function(t, i, a) {
      this.mergeDefaultAndTheme(t, a), this._initData();
    }, e.prototype.mergeOption = function(t) {
      r.prototype.mergeOption.apply(this, arguments), this._initData();
    }, e.prototype.setCurrentIndex = function(t) {
      t == null && (t = this.option.currentIndex);
      var i = this._data.count();
      this.option.loop ? t = (t % i + i) % i : (t >= i && (t = i - 1), t < 0 && (t = 0)), this.option.currentIndex = t;
    }, e.prototype.getCurrentIndex = function() {
      return this.option.currentIndex;
    }, e.prototype.isIndexMax = function() {
      return this.getCurrentIndex() >= this._data.count() - 1;
    }, e.prototype.setPlayState = function(t) {
      this.option.autoPlay = !!t;
    }, e.prototype.getPlayState = function() {
      return !!this.option.autoPlay;
    }, e.prototype._initData = function() {
      var t = this.option, i = t.data || [], a = t.axisType, n = this._names = [], o;
      a === "category" ? (o = [], J(i, function(u, c) {
        var f = Vi(I0(u), ""), d;
        zt(u) ? (d = Gt(u), d.value = c) : d = c, o.push(d), n.push(f);
      })) : o = i;
      var s = {
        category: "ordinal",
        time: "time",
        value: "number"
      }[a] || "number", l = this._data = new Ua([{
        name: "value",
        type: s
      }], this);
      l.initData(o, n);
    }, e.prototype.getData = function() {
      return this._data;
    }, e.prototype.getCategories = function() {
      if (this.get("axisType") === "category")
        return this._names.slice();
    }, e.type = "timeline", e.defaultOption = {
      // zlevel: 0,                  // 
      z: 4,
      show: !0,
      axisType: "time",
      realtime: !0,
      left: "20%",
      top: null,
      right: "20%",
      bottom: 0,
      width: null,
      height: 40,
      padding: Ve.size.m,
      controlPosition: "left",
      autoPlay: !1,
      rewind: !1,
      loop: !0,
      playInterval: 2e3,
      currentIndex: 0,
      itemStyle: {},
      label: {
        color: Ve.color.secondary
      },
      data: []
    }, e;
  }(Rr)
);
const UU = n8e;
var pJ = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.type = "timeline.slider", e.defaultOption = dh(UU.defaultOption, {
      backgroundColor: "rgba(0,0,0,0)",
      borderColor: Ve.color.border,
      borderWidth: 0,
      orient: "horizontal",
      inverse: !1,
      tooltip: {
        trigger: "item"
        // data item may also have tootip attr.
      },
      symbol: "circle",
      symbolSize: 12,
      lineStyle: {
        show: !0,
        width: 2,
        color: Ve.color.accent10
      },
      label: {
        position: "auto",
        // When using number, label position is not
        // restricted by viewRect.
        // positive: right/bottom, negative: left/top
        show: !0,
        interval: "auto",
        rotate: 0,
        // formatter: null,
        // TEXTSTYLE
        color: Ve.color.tertiary
      },
      itemStyle: {
        color: Ve.color.accent20,
        borderWidth: 0
      },
      checkpointStyle: {
        symbol: "circle",
        symbolSize: 15,
        color: Ve.color.accent50,
        borderColor: Ve.color.accent50,
        borderWidth: 0,
        shadowBlur: 0,
        shadowOffsetX: 0,
        shadowOffsetY: 0,
        shadowColor: "rgba(0, 0, 0, 0)",
        // borderColor: 'rgba(194,53,49, 0.5)',
        animation: !0,
        animationDuration: 300,
        animationEasing: "quinticInOut"
      },
      controlStyle: {
        show: !0,
        showPlayBtn: !0,
        showPrevBtn: !0,
        showNextBtn: !0,
        itemSize: 24,
        itemGap: 12,
        position: "left",
        playIcon: "path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",
        stopIcon: "path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",
        // eslint-disable-next-line max-len
        nextIcon: "path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",
        // eslint-disable-next-line max-len
        prevIcon: "path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",
        prevBtnSize: 18,
        nextBtnSize: 18,
        color: Ve.color.accent50,
        borderColor: Ve.color.accent50,
        borderWidth: 0
      },
      emphasis: {
        label: {
          show: !0,
          // TEXTSTYLE
          color: Ve.color.accent60
        },
        itemStyle: {
          color: Ve.color.accent60,
          borderColor: Ve.color.accent60
        },
        controlStyle: {
          color: Ve.color.accent70,
          borderColor: Ve.color.accent70
        }
      },
      progress: {
        lineStyle: {
          color: Ve.color.accent30
        },
        itemStyle: {
          color: Ve.color.accent40
        }
      },
      data: []
    }), e;
  }(UU)
);
ci(pJ, kS.prototype);
const i8e = pJ;
var a8e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.type = "timeline", e;
  }(Pn)
);
const o8e = a8e;
var s8e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e(t, i, a, n) {
      var o = r.call(this, t, i, a) || this;
      return o.type = n || "value", o;
    }
    return e.prototype.getLabelModel = function() {
      return this.model.getModel("label");
    }, e.prototype.isHorizontal = function() {
      return this.model.get("orient") === "horizontal";
    }, e;
  }(ps)
);
const l8e = s8e;
var dT = Math.PI, GU = Ar(), u8e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.init = function(t, i) {
      this.api = i;
    }, e.prototype.render = function(t, i, a) {
      if (this.model = t, this.api = a, this.ecModel = i, this.group.removeAll(), t.get("show", !0)) {
        var n = this._layout(t, a), o = this._createGroup("_mainGroup"), s = this._createGroup("_labelGroup"), l = this._axis = this._createAxis(n, t);
        t.formatTooltip = function(u) {
          var c = l.scale.getLabel({
            value: u
          });
          return Pi("nameValue", {
            noName: !0,
            value: c
          });
        }, J(["AxisLine", "AxisTick", "Control", "CurrentPointer"], function(u) {
          this["_render" + u](n, o, l, t);
        }, this), this._renderAxisLabel(n, s, l, t), this._position(n, t);
      }
      this._doPlayStop(), this._updateTicksStatus();
    }, e.prototype.remove = function() {
      this._clearTimer(), this.group.removeAll();
    }, e.prototype.dispose = function() {
      this._clearTimer();
    }, e.prototype._layout = function(t, i) {
      var a = t.get(["label", "position"]), n = t.get("orient"), o = h8e(t, i), s;
      a == null || a === "auto" ? s = n === "horizontal" ? o.y + o.height / 2 < i.getHeight() / 2 ? "-" : "+" : o.x + o.width / 2 < i.getWidth() / 2 ? "+" : "-" : vt(a) ? s = {
        horizontal: {
          top: "-",
          bottom: "+"
        },
        vertical: {
          left: "-",
          right: "+"
        }
      }[n][a] : s = a;
      var l = {
        horizontal: "center",
        vertical: s >= 0 || s === "+" ? "left" : "right"
      }, u = {
        horizontal: s >= 0 || s === "+" ? "top" : "bottom",
        vertical: "middle"
      }, c = {
        horizontal: 0,
        vertical: dT / 2
      }, f = n === "vertical" ? o.height : o.width, d = t.getModel("controlStyle"), p = d.get("show", !0), v = p ? d.get("itemSize") : 0, y = p ? d.get("itemGap") : 0, _ = v + y, w = t.get(["label", "rotate"]) || 0;
      w = w * dT / 180;
      var S, x, E, M = d.get("position", !0), k = p && d.get("showPlayBtn", !0), P = p && d.get("showPrevBtn", !0), L = p && d.get("showNextBtn", !0), F = 0, O = f;
      M === "left" || M === "bottom" ? (k && (S = [0, 0], F += _), P && (x = [F, 0], F += _), L && (E = [O - v, 0], O -= _)) : (k && (S = [O - v, 0], O -= _), P && (x = [0, 0], F += _), L && (E = [O - v, 0], O -= _));
      var U = [F, O];
      return t.get("inverse") && U.reverse(), {
        viewRect: o,
        mainLength: f,
        orient: n,
        rotation: c[n],
        labelRotation: w,
        labelPosOpt: s,
        labelAlign: t.get(["label", "align"]) || l[n],
        labelBaseline: t.get(["label", "verticalAlign"]) || t.get(["label", "baseline"]) || u[n],
        // Based on mainGroup.
        playPosition: S,
        prevBtnPosition: x,
        nextBtnPosition: E,
        axisExtent: U,
        controlSize: v,
        controlGap: y
      };
    }, e.prototype._position = function(t, i) {
      var a = this._mainGroup, n = this._labelGroup, o = t.viewRect;
      if (t.orient === "vertical") {
        var s = Ji(), l = o.x, u = o.y + o.height;
        Bs(s, s, [-l, -u]), ec(s, s, -dT / 2), Bs(s, s, [l, u]), o = o.clone(), o.applyTransform(s);
      }
      var c = S(o), f = S(a.getBoundingRect()), d = S(n.getBoundingRect()), p = [a.x, a.y], v = [n.x, n.y];
      v[0] = p[0] = c[0][0];
      var y = t.labelPosOpt;
      if (y == null || vt(y)) {
        var _ = y === "+" ? 0 : 1;
        x(p, f, c, 1, _), x(v, d, c, 1, 1 - _);
      } else {
        var _ = y >= 0 ? 0 : 1;
        x(p, f, c, 1, _), v[1] = p[1] + y;
      }
      a.setPosition(p), n.setPosition(v), a.rotation = n.rotation = t.rotation, w(a), w(n);
      function w(E) {
        E.originX = c[0][0] - E.x, E.originY = c[1][0] - E.y;
      }
      function S(E) {
        return [[E.x, E.x + E.width], [E.y, E.y + E.height]];
      }
      function x(E, M, k, P, L) {
        E[P] += k[P][L] - M[P][L];
      }
    }, e.prototype._createAxis = function(t, i) {
      var a = i.getData(), n = i.get("axisType"), o = c8e(i, n);
      o.getTicks = function() {
        return a.mapArray(["value"], function(u) {
          return {
            value: u
          };
        });
      };
      var s = a.getDataExtent("value");
      o.setExtent(s[0], s[1]), o.calcNiceTicks();
      var l = new l8e("value", o, t.axisExtent, n);
      return l.model = i, l;
    }, e.prototype._createGroup = function(t) {
      var i = this[t] = new Wt();
      return this.group.add(i), i;
    }, e.prototype._renderAxisLine = function(t, i, a, n) {
      var o = a.getExtent();
      if (n.get(["lineStyle", "show"])) {
        var s = new ki({
          shape: {
            x1: o[0],
            y1: 0,
            x2: o[1],
            y2: 0
          },
          style: $e({
            lineCap: "round"
          }, n.getModel("lineStyle").getLineStyle()),
          silent: !0,
          z2: 1
        });
        i.add(s);
        var l = this._progressLine = new ki({
          shape: {
            x1: o[0],
            x2: this._currentPointer ? this._currentPointer.x : o[0],
            y1: 0,
            y2: 0
          },
          style: Yt({
            lineCap: "round",
            lineWidth: s.style.lineWidth
          }, n.getModel(["progress", "lineStyle"]).getLineStyle()),
          silent: !0,
          z2: 1
        });
        i.add(l);
      }
    }, e.prototype._renderAxisTick = function(t, i, a, n) {
      var o = this, s = n.getData(), l = a.scale.getTicks();
      this._tickSymbols = [], J(l, function(u) {
        var c = a.dataToCoord(u.value), f = s.getItemModel(u.value), d = f.getModel("itemStyle"), p = f.getModel(["emphasis", "itemStyle"]), v = f.getModel(["progress", "itemStyle"]), y = {
          x: c,
          y: 0,
          onclick: mt(o._changeTimeline, o, u.value)
        }, _ = zU(f, d, i, y);
        _.ensureState("emphasis").style = p.getItemStyle(), _.ensureState("progress").style = v.getItemStyle(), zc(_);
        var w = er(_);
        f.get("tooltip") ? (w.dataIndex = u.value, w.dataModel = n) : w.dataIndex = w.dataModel = null, o._tickSymbols.push(_);
      });
    }, e.prototype._renderAxisLabel = function(t, i, a, n) {
      var o = this, s = a.getLabelModel();
      if (s.get("show")) {
        var l = n.getData(), u = a.getViewLabels();
        this._tickLabels = [], J(u, function(c) {
          var f = c.tickValue, d = l.getItemModel(f), p = d.getModel("label"), v = d.getModel(["emphasis", "label"]), y = d.getModel(["progress", "label"]), _ = a.dataToCoord(c.tickValue), w = new Br({
            x: _,
            y: 0,
            rotation: t.labelRotation - t.rotation,
            onclick: mt(o._changeTimeline, o, f),
            silent: !1,
            style: Sn(p, {
              text: c.formattedLabel,
              align: t.labelAlign,
              verticalAlign: t.labelBaseline
            })
          });
          w.ensureState("emphasis").style = Sn(v), w.ensureState("progress").style = Sn(y), i.add(w), zc(w), GU(w).dataIndex = f, o._tickLabels.push(w);
        });
      }
    }, e.prototype._renderControl = function(t, i, a, n) {
      var o = t.controlSize, s = t.rotation, l = n.getModel("controlStyle").getItemStyle(), u = n.getModel(["emphasis", "controlStyle"]).getItemStyle(), c = n.getPlayState(), f = n.get("inverse", !0);
      d(t.nextBtnPosition, "next", mt(this._changeTimeline, this, f ? "-" : "+")), d(t.prevBtnPosition, "prev", mt(this._changeTimeline, this, f ? "+" : "-")), d(t.playPosition, c ? "stop" : "play", mt(this._handlePlayClick, this, !c), !0);
      function d(p, v, y, _) {
        if (p) {
          var w = Vs(It(n.get(["controlStyle", v + "BtnSize"]), o), o), S = [0, -w / 2, w, w], x = f8e(n, v + "Icon", S, {
            x: p[0],
            y: p[1],
            originX: o / 2,
            originY: 0,
            rotation: _ ? -s : 0,
            rectHover: !0,
            style: l,
            onclick: y
          });
          x.ensureState("emphasis").style = u, i.add(x), zc(x);
        }
      }
    }, e.prototype._renderCurrentPointer = function(t, i, a, n) {
      var o = n.getData(), s = n.getCurrentIndex(), l = o.getItemModel(s).getModel("checkpointStyle"), u = this, c = {
        onCreate: function(f) {
          f.draggable = !0, f.drift = mt(u._handlePointerDrag, u), f.ondragend = mt(u._handlePointerDragend, u), WU(f, u._progressLine, s, a, n, !0);
        },
        onUpdate: function(f) {
          WU(f, u._progressLine, s, a, n);
        }
      };
      this._currentPointer = zU(l, l, this._mainGroup, {}, this._currentPointer, c);
    }, e.prototype._handlePlayClick = function(t) {
      this._clearTimer(), this.api.dispatchAction({
        type: "timelinePlayChange",
        playState: t,
        from: this.uid
      });
    }, e.prototype._handlePointerDrag = function(t, i, a) {
      this._clearTimer(), this._pointerChangeTimeline([a.offsetX, a.offsetY]);
    }, e.prototype._handlePointerDragend = function(t) {
      this._pointerChangeTimeline([t.offsetX, t.offsetY], !0);
    }, e.prototype._pointerChangeTimeline = function(t, i) {
      var a = this._toAxisCoord(t)[0], n = this._axis, o = Eo(n.getExtent().slice());
      a > o[1] && (a = o[1]), a < o[0] && (a = o[0]), this._currentPointer.x = a, this._currentPointer.markRedraw();
      var s = this._progressLine;
      s && (s.shape.x2 = a, s.dirty());
      var l = this._findNearestTick(a), u = this.model;
      (i || l !== u.getCurrentIndex() && u.get("realtime")) && this._changeTimeline(l);
    }, e.prototype._doPlayStop = function() {
      var t = this;
      this._clearTimer(), this.model.getPlayState() && (this._timer = setTimeout(function() {
        var i = t.model;
        t._changeTimeline(i.getCurrentIndex() + (i.get("rewind", !0) ? -1 : 1));
      }, this.model.get("playInterval")));
    }, e.prototype._toAxisCoord = function(t) {
      var i = this._mainGroup.getLocalTransform();
      return Fs(t, i, !0);
    }, e.prototype._findNearestTick = function(t) {
      var i = this.model.getData(), a = 1 / 0, n, o = this._axis;
      return i.each(["value"], function(s, l) {
        var u = o.dataToCoord(s), c = Math.abs(u - t);
        c < a && (a = c, n = l);
      }), n;
    }, e.prototype._clearTimer = function() {
      this._timer && (clearTimeout(this._timer), this._timer = null);
    }, e.prototype._changeTimeline = function(t) {
      var i = this.model.getCurrentIndex();
      t === "+" ? t = i + 1 : t === "-" && (t = i - 1), this.api.dispatchAction({
        type: "timelineChange",
        currentIndex: t,
        from: this.uid
      });
    }, e.prototype._updateTicksStatus = function() {
      var t = this.model.getCurrentIndex(), i = this._tickSymbols, a = this._tickLabels;
      if (i)
        for (var n = 0; n < i.length; n++)
          i && i[n] && i[n].toggleState("progress", n < t);
      if (a)
        for (var n = 0; n < a.length; n++)
          a && a[n] && a[n].toggleState("progress", GU(a[n]).dataIndex <= t);
    }, e.type = "timeline.slider", e;
  }(o8e)
);
function c8e(r, e) {
  if (e = e || r.get("type"), e)
    switch (e) {
      case "category":
        return new x1({
          ordinalMeta: r.getCategories(),
          extent: [1 / 0, -1 / 0]
        });
      case "time":
        return new qq({
          locale: r.ecModel.getLocaleModel(),
          useUTC: r.ecModel.get("useUTC")
        });
      default:
        return new Jc();
    }
}
function h8e(r, e) {
  return Bn(r.getBoxLayoutParams(), Wi(r, e).refContainer, r.get("padding"));
}
function f8e(r, e, t, i) {
  var a = i.style, n = O0(r.get(["controlStyle", e]), i || {}, new Jt(t[0], t[1], t[2], t[3]));
  return a && n.setStyle(a), n;
}
function zU(r, e, t, i, a, n) {
  var o = e.get("color");
  if (a)
    a.setColor(o), t.add(a), n && n.onUpdate(a);
  else {
    var s = r.get("symbol");
    a = Si(s, -1, -1, 2, 2, o), a.setStyle("strokeNoScale", !0), t.add(a), n && n.onCreate(a);
  }
  var l = e.getItemStyle(["color"]);
  a.setStyle(l), i = gr({
    rectHover: !0,
    z2: 100
  }, i, !0);
  var u = z0(r.get("symbolSize"));
  i.scaleX = u[0] / 2, i.scaleY = u[1] / 2;
  var c = Ad(r.get("symbolOffset"), u);
  c && (i.x = (i.x || 0) + c[0], i.y = (i.y || 0) + c[1]);
  var f = r.get("symbolRotate");
  return i.rotation = (f || 0) * Math.PI / 180 || 0, a.attr(i), a.updateTransform(), a;
}
function WU(r, e, t, i, a, n) {
  if (!r.dragging) {
    var o = a.getModel("checkpointStyle"), s = i.dataToCoord(a.getData().get("value", t));
    if (n || !o.get("animation", !0))
      r.attr({
        x: s,
        y: 0
      }), e && e.attr({
        shape: {
          x2: s
        }
      });
    else {
      var l = {
        duration: o.get("animationDuration", !0),
        easing: o.get("animationEasing", !0)
      };
      r.stopAnimation(null, !0), r.animateTo({
        x: s,
        y: 0
      }, l), e && e.animateTo({
        shape: {
          x2: s
        }
      }, l);
    }
  }
}
const d8e = u8e;
function p8e(r) {
  r.registerAction({
    type: "timelineChange",
    event: "timelineChanged",
    update: "prepareAndUpdate"
  }, function(e, t, i) {
    var a = t.getComponent("timeline");
    return a && e.currentIndex != null && (a.setCurrentIndex(e.currentIndex), !a.get("loop", !0) && a.isIndexMax() && a.getPlayState() && (a.setPlayState(!1), i.dispatchAction({
      type: "timelinePlayChange",
      playState: !1,
      from: e.from
    }))), t.resetOption("timeline", {
      replaceMerge: a.get("replaceMerge", !0)
    }), Yt({
      currentIndex: a.option.currentIndex
    }, e);
  }), r.registerAction({
    type: "timelinePlayChange",
    event: "timelinePlayChanged",
    update: "update"
  }, function(e, t) {
    var i = t.getComponent("timeline");
    i && e.playState != null && i.setPlayState(e.playState);
  });
}
function v8e(r) {
  var e = r && r.timeline;
  Ke(e) || (e = e ? [e] : []), J(e, function(t) {
    t && g8e(t);
  });
}
function g8e(r) {
  var e = r.type, t = {
    number: "value",
    time: "time"
  };
  if (t[e] && (r.axisType = t[e], delete r.type), HU(r), Cf(r, "controlPosition")) {
    var i = r.controlStyle || (r.controlStyle = {});
    Cf(i, "position") || (i.position = r.controlPosition), i.position === "none" && !Cf(i, "show") && (i.show = !1, delete i.position), delete r.controlPosition;
  }
  J(r.data || [], function(a) {
    zt(a) && !Ke(a) && (!Cf(a, "value") && Cf(a, "name") && (a.value = a.name), HU(a));
  });
}
function HU(r) {
  var e = r.itemStyle || (r.itemStyle = {}), t = e.emphasis || (e.emphasis = {}), i = r.label || r.label || {}, a = i.normal || (i.normal = {}), n = {
    normal: 1,
    emphasis: 1
  };
  J(i, function(o, s) {
    !n[s] && !Cf(a, s) && (a[s] = o);
  }), t.label && !Cf(i, "emphasis") && (i.emphasis = t.label, delete t.label);
}
function Cf(r, e) {
  return r.hasOwnProperty(e);
}
function m8e(r) {
  r.registerComponentModel(i8e), r.registerComponentView(d8e), r.registerSubTypeDefaulter("timeline", function() {
    return "slider";
  }), p8e(r), r.registerPreprocessor(v8e);
}
function jk(r, e) {
  if (!r)
    return !1;
  for (var t = Ke(r) ? r : [r], i = 0; i < t.length; i++)
    if (t[i] && t[i][e])
      return !0;
  return !1;
}
function A2(r) {
  Zf(r, "label", ["show"]);
}
var E2 = Ar(), vJ = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.createdBySelf = !1, t.preventAutoZ = !0, t;
    }
    return e.prototype.init = function(t, i, a) {
      if (process.env.NODE_ENV !== "production" && this.type === "marker")
        throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");
      this.mergeDefaultAndTheme(t, a), this._mergeOption(t, a, !1, !0);
    }, e.prototype.isAnimationEnabled = function() {
      if (qr.node)
        return !1;
      var t = this.__hostSeries;
      return this.getShallow("animation") && t && t.isAnimationEnabled();
    }, e.prototype.mergeOption = function(t, i) {
      this._mergeOption(t, i, !1, !1);
    }, e.prototype._mergeOption = function(t, i, a, n) {
      var o = this.mainType;
      a || i.eachSeries(function(s) {
        var l = s.get(this.mainType, !0), u = E2(s)[o];
        if (!l || !l.data) {
          E2(s)[o] = null;
          return;
        }
        u ? u._mergeOption(l, i, !0) : (n && A2(l), J(l.data, function(c) {
          c instanceof Array ? (A2(c[0]), A2(c[1])) : A2(c);
        }), u = this.createMarkerModelFromSeries(l, this, i), $e(u, {
          mainType: this.mainType,
          // Use the same series index and name
          seriesIndex: s.seriesIndex,
          name: s.name,
          createdBySelf: !0
        }), u.__hostSeries = s), E2(s)[o] = u;
      }, this);
    }, e.prototype.formatTooltip = function(t, i, a) {
      var n = this.getData(), o = this.getRawValue(t), s = n.getName(t);
      return Pi("section", {
        header: this.name,
        blocks: [Pi("nameValue", {
          name: s,
          value: o,
          noName: !s,
          noValue: o == null
        })]
      });
    }, e.prototype.getData = function() {
      return this._data;
    }, e.prototype.setData = function(t) {
      this._data = t;
    }, e.prototype.getDataParams = function(t, i) {
      var a = kS.prototype.getDataParams.call(this, t, i), n = this.__hostSeries;
      return n && (a.seriesId = n.id, a.seriesName = n.name, a.seriesType = n.subType), a;
    }, e.getMarkerModelFromSeries = function(t, i) {
      return E2(t)[i];
    }, e.type = "marker", e.dependencies = ["series", "grid", "polar", "geo"], e;
  }(Rr)
);
ci(vJ, kS.prototype);
const $u = vJ;
var y8e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.createMarkerModelFromSeries = function(t, i, a) {
      return new e(t, i, a);
    }, e.type = "markPoint", e.defaultOption = {
      // zlevel: 0,
      z: 5,
      symbol: "pin",
      symbolSize: 50,
      // symbolRotate: 0,
      // symbolOffset: [0, 0]
      tooltip: {
        trigger: "item"
      },
      label: {
        show: !0,
        position: "inside"
      },
      itemStyle: {
        borderWidth: 2
      },
      emphasis: {
        label: {
          show: !0
        }
      }
    }, e;
  }($u)
);
const _8e = y8e;
function vE(r) {
  return !(isNaN(parseFloat(r.x)) && isNaN(parseFloat(r.y)));
}
function b8e(r) {
  return !isNaN(parseFloat(r.x)) && !isNaN(parseFloat(r.y));
}
function D2(r, e, t, i, a, n, o) {
  var s = [], l = zu(
    e,
    a
    /* , otherDataDim */
  ), u = l ? e.getCalculationInfo("stackResultDimension") : a, c = Ub(e, u, r), f = e.hostModel, d = f.indicesOfNearest(t, u, c)[0];
  s[n] = e.get(i, d), s[o] = e.get(u, d);
  var p = e.get(a, d), v = ks(e.get(a, d));
  return v = Math.min(v, 20), v >= 0 && (s[o] = +s[o].toFixed(v)), [s, p];
}
var k2 = {
  min: fr(D2, "min"),
  max: fr(D2, "max"),
  average: fr(D2, "average"),
  median: fr(D2, "median")
};
function L1(r, e) {
  if (e) {
    var t = r.getData(), i = r.coordinateSystem, a = i && i.dimensions;
    if (!b8e(e) && !Ke(e.coord) && Ke(a)) {
      var n = gJ(e, t, i, r);
      if (e = Gt(e), e.type && k2[e.type] && n.baseAxis && n.valueAxis) {
        var o = dr(a, n.baseAxis.dim), s = dr(a, n.valueAxis.dim), l = k2[e.type](t, n.valueAxis.dim, n.baseDataDim, n.valueDataDim, o, s);
        e.coord = l[0], e.value = l[1];
      } else
        e.coord = [e.xAxis != null ? e.xAxis : e.radiusAxis, e.yAxis != null ? e.yAxis : e.angleAxis];
    }
    if (e.coord == null || !Ke(a)) {
      e.coord = [];
      var u = r.getBaseAxis();
      if (u && e.type && k2[e.type]) {
        var c = i.getOtherAxis(u);
        c && (e.value = Ub(t, t.mapDimension(c.dim), e.type));
      }
    } else
      for (var f = e.coord, d = 0; d < 2; d++)
        k2[f[d]] && (f[d] = Ub(t, t.mapDimension(a[d]), f[d]));
    return e;
  }
}
function gJ(r, e, t, i) {
  var a = {};
  return r.valueIndex != null || r.valueDim != null ? (a.valueDataDim = r.valueIndex != null ? e.getDimension(r.valueIndex) : r.valueDim, a.valueAxis = t.getAxis(w8e(i, a.valueDataDim)), a.baseAxis = t.getOtherAxis(a.valueAxis), a.baseDataDim = e.mapDimension(a.baseAxis.dim)) : (a.baseAxis = i.getBaseAxis(), a.valueAxis = t.getOtherAxis(a.baseAxis), a.baseDataDim = e.mapDimension(a.baseAxis.dim), a.valueDataDim = e.mapDimension(a.valueAxis.dim)), a;
}
function w8e(r, e) {
  var t = r.getData().getDimensionInfo(e);
  return t && t.coordDim;
}
function O1(r, e) {
  return r && r.containData && e.coord && !vE(e) ? r.containData(e.coord) : !0;
}
function S8e(r, e, t) {
  return r && r.containZone && e.coord && t.coord && !vE(e) && !vE(t) ? r.containZone(e.coord, t.coord) : !0;
}
function mJ(r, e) {
  return r ? function(t, i, a, n) {
    var o = n < 2 ? t.coord && t.coord[n] : t.value;
    return Hc(o, e[n]);
  } : function(t, i, a, n) {
    return Hc(t.value, e[n]);
  };
}
function Ub(r, e, t) {
  if (t === "average") {
    var i = 0, a = 0;
    return r.each(e, function(n, o) {
      isNaN(n) || (i += n, a++);
    }), i / a;
  } else
    return t === "median" ? r.getMedian(e) : r.getDataExtent(e)[t === "max" ? 1 : 0];
}
var pT = Ar(), x8e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.init = function() {
      this.markerGroupMap = Pt();
    }, e.prototype.render = function(t, i, a) {
      var n = this, o = this.markerGroupMap;
      o.each(function(s) {
        pT(s).keep = !1;
      }), i.eachSeries(function(s) {
        var l = $u.getMarkerModelFromSeries(s, n.type);
        l && n.renderSeries(s, l, i, a);
      }), o.each(function(s) {
        !pT(s).keep && n.group.remove(s.group);
      }), T8e(i, o, this.type);
    }, e.prototype.markKeep = function(t) {
      pT(t).keep = !0;
    }, e.prototype.toggleBlurSeries = function(t, i) {
      var a = this;
      J(t, function(n) {
        var o = $u.getMarkerModelFromSeries(n, a.type);
        if (o) {
          var s = o.getData();
          s.eachItemGraphicEl(function(l) {
            l && (i ? pY(l) : W8(l));
          });
        }
      });
    }, e.type = "marker", e;
  }(Pn)
);
function T8e(r, e, t) {
  r.eachSeries(function(i) {
    var a = $u.getMarkerModelFromSeries(i, t), n = e.get(i.id);
    if (a && n && n.group) {
      var o = rd(a), s = o.z, l = o.zlevel;
      CS(n.group, s, l);
    }
  });
}
const qk = x8e;
function $U(r, e, t) {
  var i = e.coordinateSystem, a = t.getWidth(), n = t.getHeight(), o = i && i.getArea && i.getArea();
  r.each(function(s) {
    var l = r.getItemModel(s), u = l.get("relativeTo") === "coordinate", c = u ? o ? o.width : 0 : a, f = u ? o ? o.height : 0 : n, d = u && o ? o.x : 0, p = u && o ? o.y : 0, v, y = gt(l.get("x"), c) + d, _ = gt(l.get("y"), f) + p;
    if (!isNaN(y) && !isNaN(_))
      v = [y, _];
    else if (e.getMarkerPosition)
      v = e.getMarkerPosition(r.getValues(r.dimensions, s));
    else if (i) {
      var w = r.get(i.dimensions[0], s), S = r.get(i.dimensions[1], s);
      v = i.dataToPoint([w, S]);
    }
    isNaN(y) || (v[0] = y), isNaN(_) || (v[1] = _), r.setItemLayout(s, v);
  });
}
var C8e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.updateTransform = function(t, i, a) {
      i.eachSeries(function(n) {
        var o = $u.getMarkerModelFromSeries(n, "markPoint");
        o && ($U(o.getData(), n, a), this.markerGroupMap.get(n.id).updateLayout());
      }, this);
    }, e.prototype.renderSeries = function(t, i, a, n) {
      var o = t.coordinateSystem, s = t.id, l = t.getData(), u = this.markerGroupMap, c = u.get(s) || u.set(s, new hm()), f = A8e(o, t, i);
      i.setData(f), $U(i.getData(), t, n), f.each(function(d) {
        var p = f.getItemModel(d), v = p.getShallow("symbol"), y = p.getShallow("symbolSize"), _ = p.getShallow("symbolRotate"), w = p.getShallow("symbolOffset"), S = p.getShallow("symbolKeepAspect");
        if (Bt(v) || Bt(y) || Bt(_) || Bt(w)) {
          var x = i.getRawValue(d), E = i.getDataParams(d);
          Bt(v) && (v = v(x, E)), Bt(y) && (y = y(x, E)), Bt(_) && (_ = _(x, E)), Bt(w) && (w = w(x, E));
        }
        var M = p.getModel("itemStyle").getItemStyle(), k = p.get("z2"), P = lm(l, "color");
        M.fill || (M.fill = P), f.setItemVisual(d, {
          z2: It(k, 0),
          symbol: v,
          symbolSize: y,
          symbolRotate: _,
          symbolOffset: w,
          symbolKeepAspect: S,
          style: M
        });
      }), c.updateData(f), this.group.add(c.group), f.eachItemGraphicEl(function(d) {
        d.traverse(function(p) {
          er(p).dataModel = i;
        });
      }), this.markKeep(c), c.group.silent = i.get("silent") || t.get("silent");
    }, e.type = "markPoint", e;
  }(qk)
);
function A8e(r, e, t) {
  var i;
  r ? i = Je(r && r.dimensions, function(s) {
    var l = e.getData().getDimensionInfo(e.getData().mapDimension(s)) || {};
    return $e($e({}, l), {
      name: s,
      // DON'T use ordinalMeta to parse and collect ordinal.
      ordinalMeta: null
    });
  }) : i = [{
    name: "value",
    type: "float"
  }];
  var a = new Ua(i, t), n = Je(t.get("data"), fr(L1, e));
  r && (n = Xr(n, fr(O1, r)));
  var o = mJ(!!r, i);
  return a.initData(n, null, o), a;
}
const E8e = C8e;
function D8e(r) {
  r.registerComponentModel(_8e), r.registerComponentView(E8e), r.registerPreprocessor(function(e) {
    jk(e.series, "markPoint") && (e.markPoint = e.markPoint || {});
  });
}
var k8e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.createMarkerModelFromSeries = function(t, i, a) {
      return new e(t, i, a);
    }, e.type = "markLine", e.defaultOption = {
      // zlevel: 0,
      z: 5,
      symbol: ["circle", "arrow"],
      symbolSize: [8, 16],
      // symbolRotate: 0,
      symbolOffset: 0,
      precision: 2,
      tooltip: {
        trigger: "item"
      },
      label: {
        show: !0,
        position: "end",
        distance: 5
      },
      lineStyle: {
        type: "dashed"
      },
      emphasis: {
        label: {
          show: !0
        },
        lineStyle: {
          width: 3
        }
      },
      animationEasing: "linear"
    }, e;
  }($u)
);
const M8e = k8e;
var M2 = Ar(), I8e = function(r, e, t, i) {
  var a = r.getData(), n;
  if (Ke(i))
    n = i;
  else {
    var o = i.type;
    if (o === "min" || o === "max" || o === "average" || o === "median" || i.xAxis != null || i.yAxis != null) {
      var s = void 0, l = void 0;
      if (i.yAxis != null || i.xAxis != null)
        s = e.getAxis(i.yAxis != null ? "y" : "x"), l = Di(i.yAxis, i.xAxis);
      else {
        var u = gJ(i, a, e, r);
        s = u.valueAxis;
        var c = FD(a, u.valueDataDim);
        l = Ub(a, c, o);
      }
      var f = s.dim === "x" ? 0 : 1, d = 1 - f, p = Gt(i), v = {
        coord: []
      };
      p.type = null, p.coord = [], p.coord[d] = -1 / 0, v.coord[d] = 1 / 0;
      var y = t.get("precision");
      y >= 0 && Or(l) && (l = +l.toFixed(Math.min(y, 20))), p.coord[f] = v.coord[f] = l, n = [p, v, {
        type: o,
        valueIndex: i.valueIndex,
        // Force to use the value of calculated value.
        value: l
      }];
    } else
      process.env.NODE_ENV !== "production" && as("Invalid markLine data."), n = [];
  }
  var _ = [L1(r, n[0]), L1(r, n[1]), $e({}, n[2])];
  return _[2].type = _[2].type || null, gr(_[2], _[0]), gr(_[2], _[1]), _;
};
function Gb(r) {
  return !isNaN(r) && !isFinite(r);
}
function YU(r, e, t, i) {
  var a = 1 - r, n = i.dimensions[r];
  return Gb(e[a]) && Gb(t[a]) && e[r] === t[r] && i.getAxis(n).containData(e[r]);
}
function P8e(r, e) {
  if (r.type === "cartesian2d") {
    var t = e[0].coord, i = e[1].coord;
    if (t && i && (YU(1, t, i, r) || YU(0, t, i, r)))
      return !0;
  }
  return O1(r, e[0]) && O1(r, e[1]);
}
function vT(r, e, t, i, a) {
  var n = i.coordinateSystem, o = r.getItemModel(e), s, l = gt(o.get("x"), a.getWidth()), u = gt(o.get("y"), a.getHeight());
  if (!isNaN(l) && !isNaN(u))
    s = [l, u];
  else {
    if (i.getMarkerPosition)
      s = i.getMarkerPosition(r.getValues(r.dimensions, e));
    else {
      var c = n.dimensions, f = r.get(c[0], e), d = r.get(c[1], e);
      s = n.dataToPoint([f, d]);
    }
    if (Qc(n, "cartesian2d")) {
      var p = n.getAxis("x"), v = n.getAxis("y"), c = n.dimensions;
      Gb(r.get(c[0], e)) ? s[0] = p.toGlobalCoord(p.getExtent()[t ? 0 : 1]) : Gb(r.get(c[1], e)) && (s[1] = v.toGlobalCoord(v.getExtent()[t ? 0 : 1]));
    }
    isNaN(l) || (s[0] = l), isNaN(u) || (s[1] = u);
  }
  r.setItemLayout(e, s);
}
var R8e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.updateTransform = function(t, i, a) {
      i.eachSeries(function(n) {
        var o = $u.getMarkerModelFromSeries(n, "markLine");
        if (o) {
          var s = o.getData(), l = M2(o).from, u = M2(o).to;
          l.each(function(c) {
            vT(l, c, !0, n, a), vT(u, c, !1, n, a);
          }), s.each(function(c) {
            s.setItemLayout(c, [l.getItemLayout(c), u.getItemLayout(c)]);
          }), this.markerGroupMap.get(n.id).updateLayout();
        }
      }, this);
    }, e.prototype.renderSeries = function(t, i, a, n) {
      var o = t.coordinateSystem, s = t.id, l = t.getData(), u = this.markerGroupMap, c = u.get(s) || u.set(s, new dk());
      this.group.add(c.group);
      var f = L8e(o, t, i), d = f.from, p = f.to, v = f.line;
      M2(i).from = d, M2(i).to = p, i.setData(v);
      var y = i.get("symbol"), _ = i.get("symbolSize"), w = i.get("symbolRotate"), S = i.get("symbolOffset");
      Ke(y) || (y = [y, y]), Ke(_) || (_ = [_, _]), Ke(w) || (w = [w, w]), Ke(S) || (S = [S, S]), f.from.each(function(E) {
        x(d, E, !0), x(p, E, !1);
      }), v.each(function(E) {
        var M = v.getItemModel(E), k = M.getModel("lineStyle").getLineStyle();
        v.setItemLayout(E, [d.getItemLayout(E), p.getItemLayout(E)]);
        var P = M.get("z2");
        k.stroke == null && (k.stroke = d.getItemVisual(E, "style").fill), v.setItemVisual(E, {
          z2: It(P, 0),
          fromSymbolKeepAspect: d.getItemVisual(E, "symbolKeepAspect"),
          fromSymbolOffset: d.getItemVisual(E, "symbolOffset"),
          fromSymbolRotate: d.getItemVisual(E, "symbolRotate"),
          fromSymbolSize: d.getItemVisual(E, "symbolSize"),
          fromSymbol: d.getItemVisual(E, "symbol"),
          toSymbolKeepAspect: p.getItemVisual(E, "symbolKeepAspect"),
          toSymbolOffset: p.getItemVisual(E, "symbolOffset"),
          toSymbolRotate: p.getItemVisual(E, "symbolRotate"),
          toSymbolSize: p.getItemVisual(E, "symbolSize"),
          toSymbol: p.getItemVisual(E, "symbol"),
          style: k
        });
      }), c.updateData(v), f.line.eachItemGraphicEl(function(E) {
        er(E).dataModel = i, E.traverse(function(M) {
          er(M).dataModel = i;
        });
      });
      function x(E, M, k) {
        var P = E.getItemModel(M);
        vT(E, M, k, t, n);
        var L = P.getModel("itemStyle").getItemStyle();
        L.fill == null && (L.fill = lm(l, "color")), E.setItemVisual(M, {
          symbolKeepAspect: P.get("symbolKeepAspect"),
          // `0` should be considered as a valid value, so use `retrieve2` instead of `||`
          symbolOffset: It(P.get("symbolOffset", !0), S[k ? 0 : 1]),
          symbolRotate: It(P.get("symbolRotate", !0), w[k ? 0 : 1]),
          // TODO: when 2d array is supported, it should ignore parent
          symbolSize: It(P.get("symbolSize"), _[k ? 0 : 1]),
          symbol: It(P.get("symbol", !0), y[k ? 0 : 1]),
          style: L
        });
      }
      this.markKeep(c), c.group.silent = i.get("silent") || t.get("silent");
    }, e.type = "markLine", e;
  }(qk)
);
function L8e(r, e, t) {
  var i;
  r ? i = Je(r && r.dimensions, function(u) {
    var c = e.getData().getDimensionInfo(e.getData().mapDimension(u)) || {};
    return $e($e({}, c), {
      name: u,
      // DON'T use ordinalMeta to parse and collect ordinal.
      ordinalMeta: null
    });
  }) : i = [{
    name: "value",
    type: "float"
  }];
  var a = new Ua(i, t), n = new Ua(i, t), o = new Ua([], t), s = Je(t.get("data"), fr(I8e, e, r, t));
  r && (s = Xr(s, fr(P8e, r)));
  var l = mJ(!!r, i);
  return a.initData(Je(s, function(u) {
    return u[0];
  }), null, l), n.initData(Je(s, function(u) {
    return u[1];
  }), null, l), o.initData(Je(s, function(u) {
    return u[2];
  })), o.hasItemOption = !0, {
    from: a,
    to: n,
    line: o
  };
}
const O8e = R8e;
function F8e(r) {
  r.registerComponentModel(M8e), r.registerComponentView(O8e), r.registerPreprocessor(function(e) {
    jk(e.series, "markLine") && (e.markLine = e.markLine || {});
  });
}
var N8e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.createMarkerModelFromSeries = function(t, i, a) {
      return new e(t, i, a);
    }, e.type = "markArea", e.defaultOption = {
      // zlevel: 0,
      // PENDING
      z: 1,
      tooltip: {
        trigger: "item"
      },
      // markArea should fixed on the coordinate system
      animation: !1,
      label: {
        show: !0,
        position: "top"
      },
      itemStyle: {
        // color and borderColor default to use color from series
        // color: 'auto'
        // borderColor: 'auto'
        borderWidth: 0
      },
      emphasis: {
        label: {
          show: !0,
          position: "top"
        }
      }
    }, e;
  }($u)
);
const B8e = N8e;
var I2 = Ar(), V8e = function(r, e, t, i) {
  var a = i[0], n = i[1];
  if (!(!a || !n)) {
    var o = L1(r, a), s = L1(r, n), l = o.coord, u = s.coord;
    l[0] = Di(l[0], -1 / 0), l[1] = Di(l[1], -1 / 0), u[0] = Di(u[0], 1 / 0), u[1] = Di(u[1], 1 / 0);
    var c = oS([{}, o, s]);
    return c.coord = [o.coord, s.coord], c.x0 = o.x, c.y0 = o.y, c.x1 = s.x, c.y1 = s.y, c;
  }
};
function zb(r) {
  return !isNaN(r) && !isFinite(r);
}
function jU(r, e, t, i) {
  var a = 1 - r;
  return zb(e[a]) && zb(t[a]);
}
function U8e(r, e) {
  var t = e.coord[0], i = e.coord[1], a = {
    coord: t,
    x: e.x0,
    y: e.y0
  }, n = {
    coord: i,
    x: e.x1,
    y: e.y1
  };
  return Qc(r, "cartesian2d") ? t && i && (jU(1, t, i) || jU(0, t, i)) ? !0 : S8e(r, a, n) : O1(r, a) || O1(r, n);
}
function qU(r, e, t, i, a) {
  var n = i.coordinateSystem, o = r.getItemModel(e), s, l = gt(o.get(t[0]), a.getWidth()), u = gt(o.get(t[1]), a.getHeight());
  if (!isNaN(l) && !isNaN(u))
    s = [l, u];
  else {
    if (i.getMarkerPosition) {
      var c = r.getValues(["x0", "y0"], e), f = r.getValues(["x1", "y1"], e), d = n.clampData(c), p = n.clampData(f), v = [];
      t[0] === "x0" ? v[0] = d[0] > p[0] ? f[0] : c[0] : v[0] = d[0] > p[0] ? c[0] : f[0], t[1] === "y0" ? v[1] = d[1] > p[1] ? f[1] : c[1] : v[1] = d[1] > p[1] ? c[1] : f[1], s = i.getMarkerPosition(v, t, !0);
    } else {
      var y = r.get(t[0], e), _ = r.get(t[1], e), w = [y, _];
      n.clampData && n.clampData(w, w), s = n.dataToPoint(w, !0);
    }
    if (Qc(n, "cartesian2d")) {
      var S = n.getAxis("x"), x = n.getAxis("y"), y = r.get(t[0], e), _ = r.get(t[1], e);
      zb(y) ? s[0] = S.toGlobalCoord(S.getExtent()[t[0] === "x0" ? 0 : 1]) : zb(_) && (s[1] = x.toGlobalCoord(x.getExtent()[t[1] === "y0" ? 0 : 1]));
    }
    isNaN(l) || (s[0] = l), isNaN(u) || (s[1] = u);
  }
  return s;
}
var XU = [["x0", "y0"], ["x1", "y0"], ["x1", "y1"], ["x0", "y1"]], G8e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.updateTransform = function(t, i, a) {
      i.eachSeries(function(n) {
        var o = $u.getMarkerModelFromSeries(n, "markArea");
        if (o) {
          var s = o.getData();
          s.each(function(l) {
            var u = Je(XU, function(f) {
              return qU(s, l, f, n, a);
            });
            s.setItemLayout(l, u);
            var c = s.getItemGraphicEl(l);
            c.setShape("points", u);
          });
        }
      }, this);
    }, e.prototype.renderSeries = function(t, i, a, n) {
      var o = t.coordinateSystem, s = t.id, l = t.getData(), u = this.markerGroupMap, c = u.get(s) || u.set(s, {
        group: new Wt()
      });
      this.group.add(c.group), this.markKeep(c);
      var f = z8e(o, t, i);
      i.setData(f), f.each(function(d) {
        var p = Je(XU, function(O) {
          return qU(f, d, O, t, n);
        }), v = o.getAxis("x").scale, y = o.getAxis("y").scale, _ = v.getExtent(), w = y.getExtent(), S = [v.parse(f.get("x0", d)), v.parse(f.get("x1", d))], x = [y.parse(f.get("y0", d)), y.parse(f.get("y1", d))];
        Eo(S), Eo(x);
        var E = !(_[0] > S[1] || _[1] < S[0] || w[0] > x[1] || w[1] < x[0]), M = !E;
        f.setItemLayout(d, {
          points: p,
          allClipped: M
        });
        var k = f.getItemModel(d), P = k.getModel("itemStyle").getItemStyle(), L = k.get("z2"), F = lm(l, "color");
        P.fill || (P.fill = F, vt(P.fill) && (P.fill = u1(P.fill, 0.4))), P.stroke || (P.stroke = F), f.setItemVisual(d, "style", P), f.setItemVisual(d, "z2", It(L, 0));
      }), f.diff(I2(c).data).add(function(d) {
        var p = f.getItemLayout(d), v = f.getItemVisual(d, "z2");
        if (!p.allClipped) {
          var y = new Ha({
            z2: It(v, 0),
            shape: {
              points: p.points
            }
          });
          f.setItemGraphicEl(d, y), c.group.add(y);
        }
      }).update(function(d, p) {
        var v = I2(c).data.getItemGraphicEl(p), y = f.getItemLayout(d), _ = f.getItemVisual(d, "z2");
        y.allClipped ? v && c.group.remove(v) : (v ? Wr(v, {
          z2: It(_, 0),
          shape: {
            points: y.points
          }
        }, i, d) : v = new Ha({
          shape: {
            points: y.points
          }
        }), f.setItemGraphicEl(d, v), c.group.add(v));
      }).remove(function(d) {
        var p = I2(c).data.getItemGraphicEl(d);
        c.group.remove(p);
      }).execute(), f.eachItemGraphicEl(function(d, p) {
        var v = f.getItemModel(p), y = f.getItemVisual(p, "style");
        d.useStyle(f.getItemVisual(p, "style")), ea(d, zi(v), {
          labelFetcher: i,
          labelDataIndex: p,
          defaultText: f.getName(p) || "",
          inheritColor: vt(y.fill) ? u1(y.fill, 1) : Ve.color.neutral99
        }), Gi(d, v), Wn(d, null, null, v.get(["emphasis", "disabled"])), er(d).dataModel = i;
      }), I2(c).data = f, c.group.silent = i.get("silent") || t.get("silent");
    }, e.type = "markArea", e;
  }(qk)
);
function z8e(r, e, t) {
  var i, a, n = ["x0", "y0", "x1", "y1"];
  if (r) {
    var o = Je(r && r.dimensions, function(u) {
      var c = e.getData(), f = c.getDimensionInfo(c.mapDimension(u)) || {};
      return $e($e({}, f), {
        name: u,
        // DON'T use ordinalMeta to parse and collect ordinal.
        ordinalMeta: null
      });
    });
    a = Je(n, function(u, c) {
      return {
        name: u,
        type: o[c % 2].type
      };
    }), i = new Ua(a, t);
  } else
    a = [{
      name: "value",
      type: "float"
    }], i = new Ua(a, t);
  var s = Je(t.get("data"), fr(V8e, e, r, t));
  r && (s = Xr(s, fr(U8e, r)));
  var l = r ? function(u, c, f, d) {
    var p = u.coord[Math.floor(d / 2)][d % 2];
    return Hc(p, a[d]);
  } : function(u, c, f, d) {
    return Hc(u.value, a[d]);
  };
  return i.initData(s, null, l), i.hasItemOption = !0, i;
}
const W8e = G8e;
function H8e(r) {
  r.registerComponentModel(B8e), r.registerComponentView(W8e), r.registerPreprocessor(function(e) {
    jk(e.series, "markArea") && (e.markArea = e.markArea || {});
  });
}
var $8e = function(r, e) {
  if (e === "all")
    return {
      type: "all",
      title: r.getLocaleModel().get(["legend", "selector", "all"])
    };
  if (e === "inverse")
    return {
      type: "inverse",
      title: r.getLocaleModel().get(["legend", "selector", "inverse"])
    };
}, Y8e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.layoutMode = {
        type: "box",
        // legend.width/height are maxWidth/maxHeight actually,
        // whereas real width/height is calculated by its content.
        // (Setting {left: 10, right: 10} does not make sense).
        // So consider the case:
        // `setOption({legend: {left: 10});`
        // then `setOption({legend: {right: 10});`
        // The previous `left` should be cleared by setting `ignoreSize`.
        ignoreSize: !0
      }, t;
    }
    return e.prototype.init = function(t, i, a) {
      this.mergeDefaultAndTheme(t, a), t.selected = t.selected || {}, this._updateSelector(t);
    }, e.prototype.mergeOption = function(t, i) {
      r.prototype.mergeOption.call(this, t, i), this._updateSelector(t);
    }, e.prototype._updateSelector = function(t) {
      var i = t.selector, a = this.ecModel;
      i === !0 && (i = t.selector = ["all", "inverse"]), Ke(i) && J(i, function(n, o) {
        vt(n) && (n = {
          type: n
        }), i[o] = gr(n, $8e(a, n.type));
      });
    }, e.prototype.optionUpdated = function() {
      this._updateData(this.ecModel);
      var t = this._data;
      if (t[0] && this.get("selectedMode") === "single") {
        for (var i = !1, a = 0; a < t.length; a++) {
          var n = t[a].get("name");
          if (this.isSelected(n)) {
            this.select(n), i = !0;
            break;
          }
        }
        !i && this.select(t[0].get("name"));
      }
    }, e.prototype._updateData = function(t) {
      var i = [], a = [];
      t.eachRawSeries(function(l) {
        var u = l.name;
        a.push(u);
        var c;
        if (l.legendVisualProvider) {
          var f = l.legendVisualProvider, d = f.getAllNames();
          t.isSeriesFiltered(l) || (a = a.concat(d)), d.length ? i = i.concat(d) : c = !0;
        } else
          c = !0;
        c && L8(l) && i.push(l.name);
      }), this._availableNames = a;
      var n = this.get("data") || i, o = Pt(), s = Je(n, function(l) {
        return (vt(l) || Or(l)) && (l = {
          name: l
        }), o.get(l.name) ? null : (o.set(l.name, !0), new Vr(l, this, this.ecModel));
      }, this);
      this._data = Xr(s, function(l) {
        return !!l;
      });
    }, e.prototype.getData = function() {
      return this._data;
    }, e.prototype.select = function(t) {
      var i = this.option.selected, a = this.get("selectedMode");
      if (a === "single") {
        var n = this._data;
        J(n, function(o) {
          i[o.get("name")] = !1;
        });
      }
      i[t] = !0;
    }, e.prototype.unSelect = function(t) {
      this.get("selectedMode") !== "single" && (this.option.selected[t] = !1);
    }, e.prototype.toggleSelected = function(t) {
      var i = this.option.selected;
      i.hasOwnProperty(t) || (i[t] = !0), this[i[t] ? "unSelect" : "select"](t);
    }, e.prototype.allSelect = function() {
      var t = this._data, i = this.option.selected;
      J(t, function(a) {
        i[a.get("name", !0)] = !0;
      });
    }, e.prototype.inverseSelect = function() {
      var t = this._data, i = this.option.selected;
      J(t, function(a) {
        var n = a.get("name", !0);
        i.hasOwnProperty(n) || (i[n] = !0), i[n] = !i[n];
      });
    }, e.prototype.isSelected = function(t) {
      var i = this.option.selected;
      return !(i.hasOwnProperty(t) && !i[t]) && dr(this._availableNames, t) >= 0;
    }, e.prototype.getOrient = function() {
      return this.get("orient") === "vertical" ? {
        index: 1,
        name: "vertical"
      } : {
        index: 0,
        name: "horizontal"
      };
    }, e.type = "legend.plain", e.dependencies = ["series"], e.defaultOption = {
      // zlevel: 0,
      z: 4,
      show: !0,
      orient: "horizontal",
      left: "center",
      // right: 'center',
      // top: 0,
      bottom: Ve.size.m,
      align: "auto",
      backgroundColor: Ve.color.transparent,
      borderColor: Ve.color.border,
      borderRadius: 0,
      borderWidth: 0,
      padding: 5,
      itemGap: 8,
      itemWidth: 25,
      itemHeight: 14,
      symbolRotate: "inherit",
      symbolKeepAspect: !0,
      inactiveColor: Ve.color.disabled,
      inactiveBorderColor: Ve.color.disabled,
      inactiveBorderWidth: "auto",
      itemStyle: {
        color: "inherit",
        opacity: "inherit",
        borderColor: "inherit",
        borderWidth: "auto",
        borderCap: "inherit",
        borderJoin: "inherit",
        borderDashOffset: "inherit",
        borderMiterLimit: "inherit"
      },
      lineStyle: {
        width: "auto",
        color: "inherit",
        inactiveColor: Ve.color.disabled,
        inactiveWidth: 2,
        opacity: "inherit",
        type: "inherit",
        cap: "inherit",
        join: "inherit",
        dashOffset: "inherit",
        miterLimit: "inherit"
      },
      textStyle: {
        color: Ve.color.secondary
      },
      selectedMode: !0,
      selector: !1,
      selectorLabel: {
        show: !0,
        borderRadius: 10,
        padding: [3, 5, 3, 5],
        fontSize: 12,
        fontFamily: "sans-serif",
        color: Ve.color.tertiary,
        borderWidth: 1,
        borderColor: Ve.color.border
      },
      emphasis: {
        selectorLabel: {
          show: !0,
          color: Ve.color.quaternary
        }
      },
      selectorPosition: "auto",
      selectorItemGap: 7,
      selectorButtonGap: 10,
      tooltip: {
        show: !1
      },
      triggerEvent: !1
    }, e;
  }(Rr)
);
const gE = Y8e;
var Tp = fr, mE = J, P2 = Wt, j8e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.newlineDisabled = !1, t;
    }
    return e.prototype.init = function() {
      this.group.add(this._contentGroup = new P2()), this.group.add(this._selectorGroup = new P2()), this._isFirstRender = !0;
    }, e.prototype.getContentGroup = function() {
      return this._contentGroup;
    }, e.prototype.getSelectorGroup = function() {
      return this._selectorGroup;
    }, e.prototype.render = function(t, i, a) {
      var n = this._isFirstRender;
      if (this._isFirstRender = !1, this.resetInner(), !!t.get("show", !0)) {
        var o = t.get("align"), s = t.get("orient");
        (!o || o === "auto") && (o = t.get("left") === "right" && s === "vertical" ? "right" : "left");
        var l = t.get("selector", !0), u = t.get("selectorPosition", !0);
        l && (!u || u === "auto") && (u = s === "horizontal" ? "end" : "start"), this.renderInner(o, t, i, a, l, s, u);
        var c = Wi(t, a).refContainer, f = t.getBoxLayoutParams(), d = t.get("padding"), p = Bn(f, c, d), v = this.layoutInner(t, o, p, n, l, u), y = Bn(Yt({
          width: v.width,
          height: v.height
        }, f), c, d);
        this.group.x = y.x - v.x, this.group.y = y.y - v.y, this.group.markRedraw(), this.group.add(this._backgroundEl = aJ(
          v,
          // FXIME: most itemStyle options does not work in background because inherit is not handled yet.
          t
        ));
      }
    }, e.prototype.resetInner = function() {
      this.getContentGroup().removeAll(), this._backgroundEl && this.group.remove(this._backgroundEl), this.getSelectorGroup().removeAll();
    }, e.prototype.renderInner = function(t, i, a, n, o, s, l) {
      var u = this.getContentGroup(), c = Pt(), f = i.get("selectedMode"), d = i.get("triggerEvent"), p = [];
      a.eachRawSeries(function(v) {
        !v.get("legendHoverLink") && p.push(v.id);
      }), mE(i.getData(), function(v, y) {
        var _ = this, w = v.get("name");
        if (!this.newlineDisabled && (w === "" || w === `
`)) {
          var S = new P2();
          S.newline = !0, u.add(S);
          return;
        }
        var x = a.getSeriesByName(w)[0];
        if (!c.get(w)) {
          if (x) {
            var E = x.getData(), M = E.getVisual("legendLineStyle") || {}, k = E.getVisual("legendIcon"), P = E.getVisual("style"), L = this._createItem(x, w, y, v, i, t, M, P, k, f, n);
            L.on("click", Tp(KU, w, null, n, p)).on("mouseover", Tp(yE, x.name, null, n, p)).on("mouseout", Tp(_E, x.name, null, n, p)), a.ssr && L.eachChild(function(F) {
              var O = er(F);
              O.seriesIndex = x.seriesIndex, O.dataIndex = y, O.ssrType = "legend";
            }), d && L.eachChild(function(F) {
              _.packEventData(F, i, x, y, w);
            }), c.set(w, !0);
          } else
            a.eachRawSeries(function(F) {
              var O = this;
              if (!c.get(w) && F.legendVisualProvider) {
                var U = F.legendVisualProvider;
                if (!U.containName(w))
                  return;
                var V = U.indexOfName(w), G = U.getItemVisual(V, "style"), Z = U.getItemVisual(V, "legendIcon"), Q = Va(G.fill);
                Q && Q[3] === 0 && (Q[3] = 0.2, G = $e($e({}, G), {
                  fill: os(Q, "rgba")
                }));
                var se = this._createItem(F, w, y, v, i, t, {}, G, Z, f, n);
                se.on("click", Tp(KU, null, w, n, p)).on("mouseover", Tp(yE, null, w, n, p)).on("mouseout", Tp(_E, null, w, n, p)), a.ssr && se.eachChild(function(de) {
                  var le = er(de);
                  le.seriesIndex = F.seriesIndex, le.dataIndex = y, le.ssrType = "legend";
                }), d && se.eachChild(function(de) {
                  O.packEventData(de, i, F, y, w);
                }), c.set(w, !0);
              }
            }, this);
          process.env.NODE_ENV !== "production" && (c.get(w) || console.warn(w + " series not exists. Legend data should be same with series name or data name."));
        }
      }, this), o && this._createSelector(o, i, n, s, l);
    }, e.prototype.packEventData = function(t, i, a, n, o) {
      var s = {
        componentType: "legend",
        componentIndex: i.componentIndex,
        dataIndex: n,
        value: o,
        seriesIndex: a.seriesIndex
      };
      er(t).eventData = s;
    }, e.prototype._createSelector = function(t, i, a, n, o) {
      var s = this.getSelectorGroup();
      mE(t, function(u) {
        var c = u.type, f = new Br({
          style: {
            x: 0,
            y: 0,
            align: "center",
            verticalAlign: "middle"
          },
          onclick: function() {
            a.dispatchAction({
              type: c === "all" ? "legendAllSelect" : "legendInverseSelect",
              legendId: i.id
            });
          }
        });
        s.add(f);
        var d = i.getModel("selectorLabel"), p = i.getModel(["emphasis", "selectorLabel"]);
        ea(f, {
          normal: d,
          emphasis: p
        }, {
          defaultText: u.title
        }), zc(f);
      });
    }, e.prototype._createItem = function(t, i, a, n, o, s, l, u, c, f, d) {
      var p = t.visualDrawType, v = o.get("itemWidth"), y = o.get("itemHeight"), _ = o.isSelected(i), w = n.get("symbolRotate"), S = n.get("symbolKeepAspect"), x = n.get("icon");
      c = x || c || "roundRect";
      var E = q8e(c, n, l, u, p, _, d), M = new P2(), k = n.getModel("textStyle");
      if (Bt(t.getLegendIcon) && (!x || x === "inherit"))
        M.add(t.getLegendIcon({
          itemWidth: v,
          itemHeight: y,
          icon: c,
          iconRotate: w,
          itemStyle: E.itemStyle,
          lineStyle: E.lineStyle,
          symbolKeepAspect: S
        }));
      else {
        var P = x === "inherit" && t.getData().getVisual("symbol") ? w === "inherit" ? t.getData().getVisual("symbolRotate") : w : 0;
        M.add(X8e({
          itemWidth: v,
          itemHeight: y,
          icon: c,
          iconRotate: P,
          itemStyle: E.itemStyle,
          lineStyle: E.lineStyle,
          symbolKeepAspect: S
        }));
      }
      var L = s === "left" ? v + 5 : -5, F = s, O = o.get("formatter"), U = i;
      vt(O) && O ? U = O.replace("{name}", i ?? "") : Bt(O) && (U = O(i));
      var V = _ ? k.getTextColor() : n.get("inactiveColor");
      M.add(new Br({
        style: Sn(k, {
          text: U,
          x: L,
          y: y / 2,
          fill: V,
          align: F,
          verticalAlign: "middle"
        }, {
          inheritColor: V
        })
      }));
      var G = new Cr({
        shape: M.getBoundingRect(),
        style: {
          // Cannot use 'invisible' because SVG SSR will miss the node
          fill: "transparent"
        }
      }), Z = n.getModel("tooltip");
      return Z.get("show") && nc({
        el: G,
        componentModel: o,
        itemName: i,
        itemTooltipOption: Z.option
      }), M.add(G), M.eachChild(function(Q) {
        Q.silent = !0;
      }), G.silent = !f, this.getContentGroup().add(M), zc(M), M.__legendDataIndex = a, M;
    }, e.prototype.layoutInner = function(t, i, a, n, o, s) {
      var l = this.getContentGroup(), u = this.getSelectorGroup();
      Hf(t.get("orient"), l, t.get("itemGap"), a.width, a.height);
      var c = l.getBoundingRect(), f = [-c.x, -c.y];
      if (u.markRedraw(), l.markRedraw(), o) {
        Hf(
          // Buttons in selectorGroup always layout horizontally
          "horizontal",
          u,
          t.get("selectorItemGap", !0)
        );
        var d = u.getBoundingRect(), p = [-d.x, -d.y], v = t.get("selectorButtonGap", !0), y = t.getOrient().index, _ = y === 0 ? "width" : "height", w = y === 0 ? "height" : "width", S = y === 0 ? "y" : "x";
        s === "end" ? p[y] += c[_] + v : f[y] += d[_] + v, p[1 - y] += c[w] / 2 - d[w] / 2, u.x = p[0], u.y = p[1], l.x = f[0], l.y = f[1];
        var x = {
          x: 0,
          y: 0
        };
        return x[_] = c[_] + v + d[_], x[w] = Math.max(c[w], d[w]), x[S] = Math.min(0, d[S] + p[1 - y]), x;
      } else
        return l.x = f[0], l.y = f[1], this.group.getBoundingRect();
    }, e.prototype.remove = function() {
      this.getContentGroup().removeAll(), this._isFirstRender = !0;
    }, e.type = "legend.plain", e;
  }(Pn)
);
function q8e(r, e, t, i, a, n, o) {
  function s(_, w) {
    _.lineWidth === "auto" && (_.lineWidth = w.lineWidth > 0 ? 2 : 0), mE(_, function(S, x) {
      _[x] === "inherit" && (_[x] = w[x]);
    });
  }
  var l = e.getModel("itemStyle"), u = l.getItemStyle(), c = r.lastIndexOf("empty", 0) === 0 ? "fill" : "stroke", f = l.getShallow("decal");
  u.decal = !f || f === "inherit" ? i.decal : h0(f, o), u.fill === "inherit" && (u.fill = i[a]), u.stroke === "inherit" && (u.stroke = i[c]), u.opacity === "inherit" && (u.opacity = (a === "fill" ? i : t).opacity), s(u, i);
  var d = e.getModel("lineStyle"), p = d.getLineStyle();
  if (s(p, t), u.fill === "auto" && (u.fill = i.fill), u.stroke === "auto" && (u.stroke = i.fill), p.stroke === "auto" && (p.stroke = i.fill), !n) {
    var v = e.get("inactiveBorderWidth"), y = u[c];
    u.lineWidth = v === "auto" ? i.lineWidth > 0 && y ? 2 : 0 : u.lineWidth, u.fill = e.get("inactiveColor"), u.stroke = e.get("inactiveBorderColor"), p.stroke = d.get("inactiveColor"), p.lineWidth = d.get("inactiveWidth");
  }
  return {
    itemStyle: u,
    lineStyle: p
  };
}
function X8e(r) {
  var e = r.icon || "roundRect", t = Si(e, 0, 0, r.itemWidth, r.itemHeight, r.itemStyle.fill, r.symbolKeepAspect);
  return t.setStyle(r.itemStyle), t.rotation = (r.iconRotate || 0) * Math.PI / 180, t.setOrigin([r.itemWidth / 2, r.itemHeight / 2]), e.indexOf("empty") > -1 && (t.style.stroke = t.style.fill, t.style.fill = Ve.color.neutral00, t.style.lineWidth = 2), t;
}
function KU(r, e, t, i) {
  _E(r, e, t, i), t.dispatchAction({
    type: "legendToggleSelect",
    name: r ?? e
  }), yE(r, e, t, i);
}
function yJ(r) {
  for (var e = r.getZr().storage.getDisplayList(), t, i = 0, a = e.length; i < a && !(t = e[i].states.emphasis); )
    i++;
  return t && t.hoverLayer;
}
function yE(r, e, t, i) {
  yJ(t) || t.dispatchAction({
    type: "highlight",
    seriesName: r,
    name: e,
    excludeSeriesId: i
  });
}
function _E(r, e, t, i) {
  yJ(t) || t.dispatchAction({
    type: "downplay",
    seriesName: r,
    name: e,
    excludeSeriesId: i
  });
}
const _J = j8e;
function K8e(r) {
  var e = r.findComponents({
    mainType: "legend"
  });
  e && e.length && r.filterSeries(function(t) {
    for (var i = 0; i < e.length; i++)
      if (!e[i].isSelected(t.name))
        return !1;
    return !0;
  });
}
function vg(r, e, t) {
  var i = r === "allSelect" || r === "inverseSelect", a = {}, n = [];
  t.eachComponent({
    mainType: "legend",
    query: e
  }, function(s) {
    i ? s[r]() : s[r](e.name), ZU(s, a), n.push(s.componentIndex);
  });
  var o = {};
  return t.eachComponent("legend", function(s) {
    J(a, function(l, u) {
      s[l ? "select" : "unSelect"](u);
    }), ZU(s, o);
  }), i ? {
    selected: o,
    // return legendIndex array to tell the developers which legends are allSelect / inverseSelect
    legendIndex: n
  } : {
    name: e.name,
    selected: o
  };
}
function ZU(r, e) {
  var t = e || {};
  return J(r.getData(), function(i) {
    var a = i.get("name");
    if (!(a === `
` || a === "")) {
      var n = r.isSelected(a);
      xt(t, a) ? t[a] = t[a] && n : t[a] = n;
    }
  }), t;
}
function Z8e(r) {
  r.registerAction("legendToggleSelect", "legendselectchanged", fr(vg, "toggleSelected")), r.registerAction("legendAllSelect", "legendselectall", fr(vg, "allSelect")), r.registerAction("legendInverseSelect", "legendinverseselect", fr(vg, "inverseSelect")), r.registerAction("legendSelect", "legendselected", fr(vg, "select")), r.registerAction("legendUnSelect", "legendunselected", fr(vg, "unSelect"));
}
function bJ(r) {
  r.registerComponentModel(gE), r.registerComponentView(_J), r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER, K8e), r.registerSubTypeDefaulter("legend", function() {
    return "plain";
  }), Z8e(r);
}
var J8e = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.setScrollDataIndex = function(t) {
      this.option.scrollDataIndex = t;
    }, e.prototype.init = function(t, i, a) {
      var n = Td(t);
      r.prototype.init.call(this, t, i, a), JU(this, t, n);
    }, e.prototype.mergeOption = function(t, i) {
      r.prototype.mergeOption.call(this, t, i), JU(this, this.option, t);
    }, e.type = "legend.scroll", e.defaultOption = dh(gE.defaultOption, {
      scrollDataIndex: 0,
      pageButtonItemGap: 5,
      pageButtonGap: null,
      pageButtonPosition: "end",
      pageFormatter: "{current}/{total}",
      pageIcons: {
        horizontal: ["M0,0L12,-10L12,10z", "M0,0L-12,-10L-12,10z"],
        vertical: ["M0,0L20,0L10,-20z", "M0,0L20,0L10,20z"]
      },
      pageIconColor: Ve.color.accent50,
      pageIconInactiveColor: Ve.color.accent10,
      pageIconSize: 15,
      pageTextStyle: {
        color: Ve.color.tertiary
      },
      animationDurationUpdate: 800
    }), e;
  }(gE)
);
function JU(r, e, t) {
  var i = r.getOrient(), a = [1, 1];
  a[i.index] = 0, Pl(e, t, {
    type: "box",
    ignoreSize: !!a
  });
}
const Q8e = J8e;
var QU = Wt, gT = ["width", "height"], mT = ["x", "y"], eDe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.newlineDisabled = !0, t._currentIndex = 0, t;
    }
    return e.prototype.init = function() {
      r.prototype.init.call(this), this.group.add(this._containerGroup = new QU()), this._containerGroup.add(this.getContentGroup()), this.group.add(this._controllerGroup = new QU());
    }, e.prototype.resetInner = function() {
      r.prototype.resetInner.call(this), this._controllerGroup.removeAll(), this._containerGroup.removeClipPath(), this._containerGroup.__rectSize = null;
    }, e.prototype.renderInner = function(t, i, a, n, o, s, l) {
      var u = this;
      r.prototype.renderInner.call(this, t, i, a, n, o, s, l);
      var c = this._controllerGroup, f = i.get("pageIconSize", !0), d = Ke(f) ? f : [f, f];
      v("pagePrev", 0);
      var p = i.getModel("pageTextStyle");
      c.add(new Br({
        name: "pageText",
        style: {
          // Placeholder to calculate a proper layout.
          text: "xx/xx",
          fill: p.getTextColor(),
          font: p.getFont(),
          verticalAlign: "middle",
          align: "center"
        },
        silent: !0
      })), v("pageNext", 1);
      function v(y, _) {
        var w = y + "DataIndex", S = O0(i.get("pageIcons", !0)[i.getOrient().name][_], {
          // Buttons will be created in each render, so we do not need
          // to worry about avoiding using legendModel kept in scope.
          onclick: mt(u._pageGo, u, w, i, n)
        }, {
          x: -d[0] / 2,
          y: -d[1] / 2,
          width: d[0],
          height: d[1]
        });
        S.name = y, c.add(S);
      }
    }, e.prototype.layoutInner = function(t, i, a, n, o, s) {
      var l = this.getSelectorGroup(), u = t.getOrient().index, c = gT[u], f = mT[u], d = gT[1 - u], p = mT[1 - u];
      o && Hf(
        // Buttons in selectorGroup always layout horizontally
        "horizontal",
        l,
        t.get("selectorItemGap", !0)
      );
      var v = t.get("selectorButtonGap", !0), y = l.getBoundingRect(), _ = [-y.x, -y.y], w = Gt(a);
      o && (w[c] = a[c] - y[c] - v);
      var S = this._layoutContentAndController(t, n, w, u, c, d, p, f);
      if (o) {
        if (s === "end")
          _[u] += S[c] + v;
        else {
          var x = y[c] + v;
          _[u] -= x, S[f] -= x;
        }
        S[c] += y[c] + v, _[1 - u] += S[p] + S[d] / 2 - y[d] / 2, S[d] = Math.max(S[d], y[d]), S[p] = Math.min(S[p], y[p] + _[1 - u]), l.x = _[0], l.y = _[1], l.markRedraw();
      }
      return S;
    }, e.prototype._layoutContentAndController = function(t, i, a, n, o, s, l, u) {
      var c = this.getContentGroup(), f = this._containerGroup, d = this._controllerGroup;
      Hf(t.get("orient"), c, t.get("itemGap"), n ? a.width : null, n ? null : a.height), Hf(
        // Buttons in controller are layout always horizontally.
        "horizontal",
        d,
        t.get("pageButtonItemGap", !0)
      );
      var p = c.getBoundingRect(), v = d.getBoundingRect(), y = this._showController = p[o] > a[o], _ = [-p.x, -p.y];
      i || (_[n] = c[u]);
      var w = [0, 0], S = [-v.x, -v.y], x = It(t.get("pageButtonGap", !0), t.get("itemGap", !0));
      if (y) {
        var E = t.get("pageButtonPosition", !0);
        E === "end" ? S[n] += a[o] - v[o] : w[n] += v[o] + x;
      }
      S[1 - n] += p[s] / 2 - v[s] / 2, c.setPosition(_), f.setPosition(w), d.setPosition(S);
      var M = {
        x: 0,
        y: 0
      };
      if (M[o] = y ? a[o] : p[o], M[s] = Math.max(p[s], v[s]), M[l] = Math.min(0, v[l] + S[1 - n]), f.__rectSize = a[o], y) {
        var k = {
          x: 0,
          y: 0
        };
        k[o] = Math.max(a[o] - v[o] - x, 0), k[s] = M[s], f.setClipPath(new Cr({
          shape: k
        })), f.__rectSize = k[o];
      } else
        d.eachChild(function(L) {
          L.attr({
            invisible: !0,
            silent: !0
          });
        });
      var P = this._getPageInfo(t);
      return P.pageIndex != null && Wr(
        c,
        {
          x: P.contentPosition[0],
          y: P.contentPosition[1]
        },
        // When switch from "show controller" to "not show controller", view should be
        // updated immediately without animation, otherwise causes weird effect.
        y ? t : null
      ), this._updatePageInfoView(t, P), M;
    }, e.prototype._pageGo = function(t, i, a) {
      var n = this._getPageInfo(i)[t];
      n != null && a.dispatchAction({
        type: "legendScroll",
        scrollDataIndex: n,
        legendId: i.id
      });
    }, e.prototype._updatePageInfoView = function(t, i) {
      var a = this._controllerGroup;
      J(["pagePrev", "pageNext"], function(c) {
        var f = c + "DataIndex", d = i[f] != null, p = a.childOfName(c);
        p && (p.setStyle("fill", d ? t.get("pageIconColor", !0) : t.get("pageIconInactiveColor", !0)), p.cursor = d ? "pointer" : "default");
      });
      var n = a.childOfName("pageText"), o = t.get("pageFormatter"), s = i.pageIndex, l = s != null ? s + 1 : 0, u = i.pageCount;
      n && o && n.setStyle("text", vt(o) ? o.replace("{current}", l == null ? "" : l + "").replace("{total}", u == null ? "" : u + "") : o({
        current: l,
        total: u
      }));
    }, e.prototype._getPageInfo = function(t) {
      var i = t.get("scrollDataIndex", !0), a = this.getContentGroup(), n = this._containerGroup.__rectSize, o = t.getOrient().index, s = gT[o], l = mT[o], u = this._findTargetItemIndex(i), c = a.children(), f = c[u], d = c.length, p = d ? 1 : 0, v = {
        contentPosition: [a.x, a.y],
        pageCount: p,
        pageIndex: p - 1,
        pagePrevDataIndex: null,
        pageNextDataIndex: null
      };
      if (!f)
        return v;
      var y = E(f);
      v.contentPosition[o] = -y.s;
      for (var _ = u + 1, w = y, S = y, x = null; _ <= d; ++_)
        x = E(c[_]), // Half of the last item is out of the window.
        (!x && S.e > w.s + n || x && !M(x, w.s)) && (S.i > w.i ? w = S : w = x, w && (v.pageNextDataIndex == null && (v.pageNextDataIndex = w.i), ++v.pageCount)), S = x;
      for (var _ = u - 1, w = y, S = y, x = null; _ >= -1; --_)
        x = E(c[_]), // If the the end item does not intersect with the window started
        // from the current item, a page can be settled.
        (!x || !M(S, x.s)) && w.i < S.i && (S = w, v.pagePrevDataIndex == null && (v.pagePrevDataIndex = w.i), ++v.pageCount, ++v.pageIndex), w = x;
      return v;
      function E(k) {
        if (k) {
          var P = k.getBoundingRect(), L = P[l] + k[l];
          return {
            s: L,
            e: L + P[s],
            i: k.__legendDataIndex
          };
        }
      }
      function M(k, P) {
        return k.e >= P && k.s <= P + n;
      }
    }, e.prototype._findTargetItemIndex = function(t) {
      if (!this._showController)
        return 0;
      var i, a = this.getContentGroup(), n;
      return a.eachChild(function(o, s) {
        var l = o.__legendDataIndex;
        n == null && l != null && (n = s), l === t && (i = s);
      }), i ?? n;
    }, e.type = "legend.scroll", e;
  }(_J)
);
const tDe = eDe;
function rDe(r) {
  r.registerAction("legendScroll", "legendscroll", function(e, t) {
    var i = e.scrollDataIndex;
    i != null && t.eachComponent({
      mainType: "legend",
      subType: "scroll",
      query: e
    }, function(a) {
      a.setScrollDataIndex(i);
    });
  });
}
function nDe(r) {
  _r(bJ), r.registerComponentModel(Q8e), r.registerComponentView(tDe), rDe(r);
}
function iDe(r) {
  _r(bJ), _r(nDe);
}
var aDe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.type = "dataZoom.inside", e.defaultOption = dh(R1.defaultOption, {
      disabled: !1,
      zoomLock: !1,
      zoomOnMouseWheel: !0,
      moveOnMouseMove: !0,
      moveOnMouseWheel: !1,
      preventDefaultMouseMove: !0
    }), e;
  }(R1)
);
const oDe = aDe;
var Xk = Ar();
function sDe(r, e, t) {
  Xk(r).coordSysRecordMap.each(function(i) {
    var a = i.dataZoomInfoMap.get(e.uid);
    a && (a.getRange = t);
  });
}
function lDe(r, e) {
  for (var t = Xk(r).coordSysRecordMap, i = t.keys(), a = 0; a < i.length; a++) {
    var n = i[a], o = t.get(n), s = o.dataZoomInfoMap;
    if (s) {
      var l = e.uid, u = s.get(l);
      u && (s.removeKey(l), s.keys().length || wJ(t, o));
    }
  }
}
function wJ(r, e) {
  if (e) {
    r.removeKey(e.model.uid);
    var t = e.controller;
    t && t.dispose();
  }
}
function uDe(r, e) {
  var t = {
    model: e,
    containsPoint: fr(hDe, e),
    dispatchAction: fr(cDe, r),
    dataZoomInfoMap: null,
    controller: null
  }, i = t.controller = new kd(r.getZr());
  return J(["pan", "zoom", "scrollMove"], function(a) {
    i.on(a, function(n) {
      var o = [];
      t.dataZoomInfoMap.each(function(s) {
        if (n.isAvailableBehavior(s.model.option)) {
          var l = (s.getRange || {})[a], u = l && l(s.dzReferCoordSysInfo, t.model.mainType, t.controller, n);
          !s.model.get("disabled", !0) && u && o.push({
            dataZoomId: s.model.id,
            start: u[0],
            end: u[1]
          });
        }
      }), o.length && t.dispatchAction(o);
    });
  }), t;
}
function cDe(r, e) {
  r.isDisposed() || r.dispatchAction({
    type: "dataZoom",
    animation: {
      easing: "cubicOut",
      duration: 100
    },
    batch: e
  });
}
function hDe(r, e, t, i) {
  return r.coordinateSystem.containPoint([t, i]);
}
function fDe(r, e, t) {
  var i, a = "type_", n = {
    type_true: 2,
    type_move: 1,
    type_false: 0,
    type_undefined: -1
  }, o = !0;
  return r.each(function(s) {
    var l = s.model, u = l.get("disabled", !0) ? !1 : l.get("zoomLock", !0) ? "move" : !0;
    n[a + u] > n[a + i] && (i = u), o = o && l.get("preventDefaultMouseMove", !0);
  }), {
    controlType: i,
    opt: {
      // RoamController will enable all of these functionalities,
      // and the final behavior is determined by its event listener
      // provided by each inside zoom.
      zoomOnMouseWheel: !0,
      moveOnMouseMove: !0,
      moveOnMouseWheel: !0,
      preventDefaultMouseMove: !!o,
      api: t,
      zInfo: {
        component: e.model
      },
      triggerInfo: {
        roamTrigger: null,
        isInSelf: e.containsPoint
      }
    }
  };
}
function dDe(r) {
  r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER, function(e, t) {
    var i = Xk(t), a = i.coordSysRecordMap || (i.coordSysRecordMap = Pt());
    a.each(function(n) {
      n.dataZoomInfoMap = null;
    }), e.eachComponent({
      mainType: "dataZoom",
      subType: "inside"
    }, function(n) {
      var o = rJ(n);
      J(o.infoList, function(s) {
        var l = s.model.uid, u = a.get(l) || a.set(l, uDe(t, s.model)), c = u.dataZoomInfoMap || (u.dataZoomInfoMap = Pt());
        c.set(n.uid, {
          dzReferCoordSysInfo: s,
          model: n,
          getRange: null
        });
      });
    }), a.each(function(n) {
      var o = n.controller, s, l = n.dataZoomInfoMap;
      if (l) {
        var u = l.keys()[0];
        u != null && (s = l.get(u));
      }
      if (!s) {
        wJ(a, n);
        return;
      }
      var c = fDe(l, n, t);
      o.enable(c.controlType, c.opt), G0(n, "dispatchAction", s.model.get("throttle", !0), "fixRate");
    });
  });
}
var pDe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = "dataZoom.inside", t;
    }
    return e.prototype.render = function(t, i, a) {
      if (r.prototype.render.apply(this, arguments), t.noTarget()) {
        this._clear();
        return;
      }
      this.range = t.getPercentRange(), sDe(a, t, {
        pan: mt(yT.pan, this),
        zoom: mt(yT.zoom, this),
        scrollMove: mt(yT.scrollMove, this)
      });
    }, e.prototype.dispose = function() {
      this._clear(), r.prototype.dispose.apply(this, arguments);
    }, e.prototype._clear = function() {
      lDe(this.api, this.dataZoomModel), this.range = null;
    }, e.type = "dataZoom.inside", e;
  }(Gk)
), yT = {
  zoom: function(r, e, t, i) {
    var a = this.range, n = a.slice(), o = r.axisModels[0];
    if (o) {
      var s = _T[e](null, [i.originX, i.originY], o, t, r), l = (s.signal > 0 ? s.pixelStart + s.pixelLength - s.pixel : s.pixel - s.pixelStart) / s.pixelLength * (n[1] - n[0]) + n[0], u = Math.max(1 / i.scale, 0);
      n[0] = (n[0] - l) * u + l, n[1] = (n[1] - l) * u + l;
      var c = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();
      if (eh(0, n, [0, 100], 0, c.minSpan, c.maxSpan), this.range = n, a[0] !== n[0] || a[1] !== n[1])
        return n;
    }
  },
  pan: eG(function(r, e, t, i, a, n) {
    var o = _T[i]([n.oldX, n.oldY], [n.newX, n.newY], e, a, t);
    return o.signal * (r[1] - r[0]) * o.pixel / o.pixelLength;
  }),
  scrollMove: eG(function(r, e, t, i, a, n) {
    var o = _T[i]([0, 0], [n.scrollDelta, n.scrollDelta], e, a, t);
    return o.signal * (r[1] - r[0]) * n.scrollDelta;
  })
};
function eG(r) {
  return function(e, t, i, a) {
    var n = this.range, o = n.slice(), s = e.axisModels[0];
    if (s) {
      var l = r(o, s, e, t, i, a);
      if (eh(l, o, [0, 100], "all"), this.range = o, n[0] !== o[0] || n[1] !== o[1])
        return o;
    }
  };
}
var _T = {
  grid: function(r, e, t, i, a) {
    var n = t.axis, o = {}, s = a.model.coordinateSystem.getRect();
    return r = r || [0, 0], n.dim === "x" ? (o.pixel = e[0] - r[0], o.pixelLength = s.width, o.pixelStart = s.x, o.signal = n.inverse ? 1 : -1) : (o.pixel = e[1] - r[1], o.pixelLength = s.height, o.pixelStart = s.y, o.signal = n.inverse ? -1 : 1), o;
  },
  polar: function(r, e, t, i, a) {
    var n = t.axis, o = {}, s = a.model.coordinateSystem, l = s.getRadiusAxis().getExtent(), u = s.getAngleAxis().getExtent();
    return r = r ? s.pointToCoord(r) : [0, 0], e = s.pointToCoord(e), t.mainType === "radiusAxis" ? (o.pixel = e[0] - r[0], o.pixelLength = l[1] - l[0], o.pixelStart = l[0], o.signal = n.inverse ? 1 : -1) : (o.pixel = e[1] - r[1], o.pixelLength = u[1] - u[0], o.pixelStart = u[0], o.signal = n.inverse ? -1 : 1), o;
  },
  singleAxis: function(r, e, t, i, a) {
    var n = t.axis, o = a.model.coordinateSystem.getRect(), s = {};
    return r = r || [0, 0], n.orient === "horizontal" ? (s.pixel = e[0] - r[0], s.pixelLength = o.width, s.pixelStart = o.x, s.signal = n.inverse ? 1 : -1) : (s.pixel = e[1] - r[1], s.pixelLength = o.height, s.pixelStart = o.y, s.signal = n.inverse ? -1 : 1), s;
  }
};
const vDe = pDe;
function SJ(r) {
  zk(r), r.registerComponentModel(oDe), r.registerComponentView(vDe), dDe(r);
}
var gDe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.type = "dataZoom.slider", e.layoutMode = "box", e.defaultOption = dh(R1.defaultOption, {
      show: !0,
      // deault value can only be drived in view stage.
      right: "ph",
      top: "ph",
      width: "ph",
      height: "ph",
      left: null,
      bottom: null,
      borderColor: Ve.color.accent10,
      borderRadius: 0,
      backgroundColor: Ve.color.transparent,
      // dataBackgroundColor: '#ddd',
      dataBackground: {
        lineStyle: {
          color: Ve.color.accent30,
          width: 0.5
        },
        areaStyle: {
          color: Ve.color.accent20,
          opacity: 0.2
        }
      },
      selectedDataBackground: {
        lineStyle: {
          color: Ve.color.accent40,
          width: 0.5
        },
        areaStyle: {
          color: Ve.color.accent20,
          opacity: 0.3
        }
      },
      // Color of selected window.
      fillerColor: "rgba(135,175,274,0.2)",
      handleIcon: "path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",
      // Percent of the slider height
      handleSize: "100%",
      handleStyle: {
        color: Ve.color.neutral00,
        borderColor: Ve.color.accent20
      },
      moveHandleSize: 7,
      moveHandleIcon: "path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",
      moveHandleStyle: {
        color: Ve.color.accent40,
        opacity: 0.5
      },
      showDetail: !0,
      showDataShadow: "auto",
      realtime: !0,
      zoomLock: !1,
      textStyle: {
        color: Ve.color.tertiary
      },
      brushSelect: !0,
      brushStyle: {
        color: Ve.color.accent30,
        opacity: 0.3
      },
      emphasis: {
        handleLabel: {
          show: !0
        },
        handleStyle: {
          borderColor: Ve.color.accent40
        },
        moveHandleStyle: {
          opacity: 0.8
        }
      },
      defaultLocationEdgeGap: 15
    }), e;
  }(R1)
);
const mDe = gDe;
var gg = Cr, yDe = 1, bT = 30, _De = 7, mg = "horizontal", tG = "vertical", bDe = 5, wDe = ["line", "bar", "candlestick", "scatter"], SDe = {
  easing: "cubicOut",
  duration: 100,
  delay: 0
}, xDe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t._displayables = {}, t;
    }
    return e.prototype.init = function(t, i) {
      this.api = i, this._onBrush = mt(this._onBrush, this), this._onBrushEnd = mt(this._onBrushEnd, this);
    }, e.prototype.render = function(t, i, a, n) {
      if (r.prototype.render.apply(this, arguments), G0(this, "_dispatchZoomAction", t.get("throttle"), "fixRate"), this._orient = t.getOrient(), t.get("show") === !1) {
        this.group.removeAll();
        return;
      }
      if (t.noTarget()) {
        this._clear(), this.group.removeAll();
        return;
      }
      (!n || n.type !== "dataZoom" || n.from !== this.uid) && this._buildView(), this._updateView();
    }, e.prototype.dispose = function() {
      this._clear(), r.prototype.dispose.apply(this, arguments);
    }, e.prototype._clear = function() {
      y1(this, "_dispatchZoomAction");
      var t = this.api.getZr();
      t.off("mousemove", this._onBrush), t.off("mouseup", this._onBrushEnd);
    }, e.prototype._buildView = function() {
      var t = this.group;
      t.removeAll(), this._brushing = !1, this._displayables.brushRect = null, this._resetLocation(), this._resetInterval();
      var i = this._displayables.sliderGroup = new Wt();
      this._renderBackground(), this._renderHandle(), this._renderDataShadow(), t.add(i), this._positionGroup();
    }, e.prototype._resetLocation = function() {
      var t = this.dataZoomModel, i = this.api, a = t.get("brushSelect"), n = a ? _De : 0, o = Wi(t, i).refContainer, s = this._findCoordRect(), l = t.get("defaultLocationEdgeGap", !0) || 0, u = this._orient === mg ? {
        // Why using 'right', because right should be used in vertical,
        // and it is better to be consistent for dealing with position param merge.
        right: o.width - s.x - s.width,
        top: o.height - bT - l - n,
        width: s.width,
        height: bT
      } : {
        right: l,
        top: s.y,
        width: bT,
        height: s.height
      }, c = Td(t.option);
      J(["right", "top", "width", "height"], function(d) {
        c[d] === "ph" && (c[d] = u[d]);
      });
      var f = Bn(c, o);
      this._location = {
        x: f.x,
        y: f.y
      }, this._size = [f.width, f.height], this._orient === tG && this._size.reverse();
    }, e.prototype._positionGroup = function() {
      var t = this.group, i = this._location, a = this._orient, n = this.dataZoomModel.getFirstTargetAxisModel(), o = n && n.get("inverse"), s = this._displayables.sliderGroup, l = (this._dataShadowInfo || {}).otherAxisInverse;
      s.attr(a === mg && !o ? {
        scaleY: l ? 1 : -1,
        scaleX: 1
      } : a === mg && o ? {
        scaleY: l ? 1 : -1,
        scaleX: -1
      } : a === tG && !o ? {
        scaleY: l ? -1 : 1,
        scaleX: 1,
        rotation: Math.PI / 2
      } : {
        scaleY: l ? -1 : 1,
        scaleX: -1,
        rotation: Math.PI / 2
      });
      var u = t.getBoundingRect([s]);
      t.x = i.x - u.x, t.y = i.y - u.y, t.markRedraw();
    }, e.prototype._getViewExtent = function() {
      return [0, this._size[0]];
    }, e.prototype._renderBackground = function() {
      var t = this.dataZoomModel, i = this._size, a = this._displayables.sliderGroup, n = t.get("brushSelect");
      a.add(new gg({
        silent: !0,
        shape: {
          x: 0,
          y: 0,
          width: i[0],
          height: i[1]
        },
        style: {
          fill: t.get("backgroundColor")
        },
        z2: -40
      }));
      var o = new gg({
        shape: {
          x: 0,
          y: 0,
          width: i[0],
          height: i[1]
        },
        style: {
          fill: "transparent"
        },
        z2: 0,
        onclick: mt(this._onClickPanel, this)
      }), s = this.api.getZr();
      n ? (o.on("mousedown", this._onBrushStart, this), o.cursor = "crosshair", s.on("mousemove", this._onBrush), s.on("mouseup", this._onBrushEnd)) : (s.off("mousemove", this._onBrush), s.off("mouseup", this._onBrushEnd)), a.add(o);
    }, e.prototype._renderDataShadow = function() {
      var t = this._dataShadowInfo = this._prepareDataShadowInfo();
      if (this._displayables.dataShadowSegs = [], !t)
        return;
      var i = this._size, a = this._shadowSize || [], n = t.series, o = n.getRawData(), s = n.getShadowDim && n.getShadowDim(), l = s && o.getDimensionInfo(s) ? n.getShadowDim() : t.otherDim;
      if (l == null)
        return;
      var u = this._shadowPolygonPts, c = this._shadowPolylinePts;
      if (o !== this._shadowData || l !== this._shadowDim || i[0] !== a[0] || i[1] !== a[1]) {
        var f = o.getDataExtent(t.thisDim), d = o.getDataExtent(l), p = (d[1] - d[0]) * 0.3;
        d = [d[0] - p, d[1] + p];
        var v = [0, i[1]], y = [0, i[0]], _ = [[i[0], 0], [0, 0]], w = [], S = y[1] / Math.max(1, o.count() - 1), x = i[0] / (f[1] - f[0]), E = t.thisAxis.type === "time", M = -S, k = Math.round(o.count() / i[0]), P;
        o.each([t.thisDim, l], function(V, G, Z) {
          if (k > 0 && Z % k) {
            E || (M += S);
            return;
          }
          M = E ? (+V - f[0]) * x : M + S;
          var Q = G == null || isNaN(G) || G === "", se = Q ? 0 : Qr(G, d, v, !0);
          Q && !P && Z ? (_.push([_[_.length - 1][0], 0]), w.push([w[w.length - 1][0], 0])) : !Q && P && (_.push([M, 0]), w.push([M, 0])), Q || (_.push([M, se]), w.push([M, se])), P = Q;
        }), u = this._shadowPolygonPts = _, c = this._shadowPolylinePts = w;
      }
      this._shadowData = o, this._shadowDim = l, this._shadowSize = [i[0], i[1]];
      var L = this.dataZoomModel;
      function F(V) {
        var G = L.getModel(V ? "selectedDataBackground" : "dataBackground"), Z = new Wt(), Q = new Ha({
          shape: {
            points: u
          },
          segmentIgnoreThreshold: 1,
          style: G.getModel("areaStyle").getAreaStyle(),
          silent: !0,
          z2: -20
        }), se = new wa({
          shape: {
            points: c
          },
          segmentIgnoreThreshold: 1,
          style: G.getModel("lineStyle").getLineStyle(),
          silent: !0,
          z2: -19
        });
        return Z.add(Q), Z.add(se), Z;
      }
      for (var O = 0; O < 3; O++) {
        var U = F(O === 1);
        this._displayables.sliderGroup.add(U), this._displayables.dataShadowSegs.push(U);
      }
    }, e.prototype._prepareDataShadowInfo = function() {
      var t = this.dataZoomModel, i = t.get("showDataShadow");
      if (i !== !1) {
        var a, n = this.ecModel;
        return t.eachTargetAxis(function(o, s) {
          var l = t.getAxisProxy(o, s).getTargetSeriesModels();
          J(l, function(u) {
            if (!a && !(i !== !0 && dr(wDe, u.get("type")) < 0)) {
              var c = n.getComponent(Fc(o), s).axis, f = TDe(o), d, p = u.coordinateSystem;
              f != null && p.getOtherAxis && (d = p.getOtherAxis(c).inverse), f = u.getData().mapDimension(f);
              var v = u.getData().mapDimension(o);
              a = {
                thisAxis: c,
                series: u,
                thisDim: v,
                otherDim: f,
                otherAxisInverse: d
              };
            }
          }, this);
        }, this), a;
      }
    }, e.prototype._renderHandle = function() {
      var t = this.group, i = this._displayables, a = i.handles = [null, null], n = i.handleLabels = [null, null], o = this._displayables.sliderGroup, s = this._size, l = this.dataZoomModel, u = this.api, c = l.get("borderRadius") || 0, f = l.get("brushSelect"), d = i.filler = new gg({
        silent: f,
        style: {
          fill: l.get("fillerColor")
        },
        textConfig: {
          position: "inside"
        }
      });
      o.add(d), o.add(new gg({
        silent: !0,
        subPixelOptimize: !0,
        shape: {
          x: 0,
          y: 0,
          width: s[0],
          height: s[1],
          r: c
        },
        style: {
          // deprecated option
          stroke: l.get("dataBackgroundColor") || l.get("borderColor"),
          lineWidth: yDe,
          fill: Ve.color.transparent
        }
      })), J([0, 1], function(x) {
        var E = l.get("handleIcon");
        !nb[E] && E.indexOf("path://") < 0 && E.indexOf("image://") < 0 && (E = "path://" + E, process.env.NODE_ENV !== "production" && Us("handleIcon now needs 'path://' prefix when using a path string"));
        var M = Si(E, -1, 0, 2, 2, null, !0);
        M.attr({
          cursor: CDe(this._orient),
          draggable: !0,
          drift: mt(this._onDragMove, this, x),
          ondragend: mt(this._onDragEnd, this),
          onmouseover: mt(this._showDataInfo, this, !0),
          onmouseout: mt(this._showDataInfo, this, !1),
          z2: 5
        });
        var k = M.getBoundingRect(), P = l.get("handleSize");
        this._handleHeight = gt(P, this._size[1]), this._handleWidth = k.width / k.height * this._handleHeight, M.setStyle(l.getModel("handleStyle").getItemStyle()), M.style.strokeNoScale = !0, M.rectHover = !0, M.ensureState("emphasis").style = l.getModel(["emphasis", "handleStyle"]).getItemStyle(), zc(M);
        var L = l.get("handleColor");
        L != null && (M.style.fill = L), o.add(a[x] = M);
        var F = l.getModel("textStyle"), O = l.get("handleLabel") || {}, U = O.show || !1;
        t.add(n[x] = new Br({
          silent: !0,
          invisible: !U,
          style: Sn(F, {
            x: 0,
            y: 0,
            text: "",
            verticalAlign: "middle",
            align: "center",
            fill: F.getTextColor(),
            font: F.getFont()
          }),
          z2: 10
        }));
      }, this);
      var p = d;
      if (f) {
        var v = gt(l.get("moveHandleSize"), s[1]), y = i.moveHandle = new Cr({
          style: l.getModel("moveHandleStyle").getItemStyle(),
          silent: !0,
          shape: {
            r: [0, 0, 2, 2],
            y: s[1] - 0.5,
            height: v
          }
        }), _ = v * 0.8, w = i.moveHandleIcon = Si(l.get("moveHandleIcon"), -_ / 2, -_ / 2, _, _, Ve.color.neutral00, !0);
        w.silent = !0, w.y = s[1] + v / 2 - 0.5, y.ensureState("emphasis").style = l.getModel(["emphasis", "moveHandleStyle"]).getItemStyle();
        var S = Math.min(s[1] / 2, Math.max(v, 10));
        p = i.moveZone = new Cr({
          invisible: !0,
          shape: {
            y: s[1] - S,
            height: v + S
          }
        }), p.on("mouseover", function() {
          u.enterEmphasis(y);
        }).on("mouseout", function() {
          u.leaveEmphasis(y);
        }), o.add(y), o.add(w), o.add(p);
      }
      p.attr({
        draggable: !0,
        cursor: "default",
        drift: mt(this._onDragMove, this, "all"),
        ondragstart: mt(this._showDataInfo, this, !0),
        ondragend: mt(this._onDragEnd, this),
        onmouseover: mt(this._showDataInfo, this, !0),
        onmouseout: mt(this._showDataInfo, this, !1)
      });
    }, e.prototype._resetInterval = function() {
      var t = this._range = this.dataZoomModel.getPercentRange(), i = this._getViewExtent();
      this._handleEnds = [Qr(t[0], [0, 100], i, !0), Qr(t[1], [0, 100], i, !0)];
    }, e.prototype._updateInterval = function(t, i) {
      var a = this.dataZoomModel, n = this._handleEnds, o = this._getViewExtent(), s = a.findRepresentativeAxisProxy().getMinMaxSpan(), l = [0, 100];
      eh(i, n, o, a.get("zoomLock") ? "all" : t, s.minSpan != null ? Qr(s.minSpan, l, o, !0) : null, s.maxSpan != null ? Qr(s.maxSpan, l, o, !0) : null);
      var u = this._range, c = this._range = Eo([Qr(n[0], o, l, !0), Qr(n[1], o, l, !0)]);
      return !u || u[0] !== c[0] || u[1] !== c[1];
    }, e.prototype._updateView = function(t) {
      var i = this._displayables, a = this._handleEnds, n = Eo(a.slice()), o = this._size;
      J([0, 1], function(p) {
        var v = i.handles[p], y = this._handleHeight;
        v.attr({
          scaleX: y / 2,
          scaleY: y / 2,
          // This is a trick, by adding an extra tiny offset to let the default handle's end point align to the drag window.
          // NOTE: It may affect some custom shapes a bit. But we prefer to have better result by default.
          x: a[p] + (p ? -1 : 1),
          y: o[1] / 2 - y / 2
        });
      }, this), i.filler.setShape({
        x: n[0],
        y: 0,
        width: n[1] - n[0],
        height: o[1]
      });
      var s = {
        x: n[0],
        width: n[1] - n[0]
      };
      i.moveHandle && (i.moveHandle.setShape(s), i.moveZone.setShape(s), i.moveZone.getBoundingRect(), i.moveHandleIcon && i.moveHandleIcon.attr("x", s.x + s.width / 2));
      for (var l = i.dataShadowSegs, u = [0, n[0], n[1], o[0]], c = 0; c < l.length; c++) {
        var f = l[c], d = f.getClipPath();
        d || (d = new Cr(), f.setClipPath(d)), d.setShape({
          x: u[c],
          y: 0,
          width: u[c + 1] - u[c],
          height: o[1]
        });
      }
      this._updateDataInfo(t);
    }, e.prototype._updateDataInfo = function(t) {
      var i = this.dataZoomModel, a = this._displayables, n = a.handleLabels, o = this._orient, s = ["", ""];
      if (i.get("showDetail")) {
        var l = i.findRepresentativeAxisProxy();
        if (l) {
          var u = l.getAxisModel().axis, c = this._range, f = t ? l.calculateDataWindow({
            start: c[0],
            end: c[1]
          }).valueWindow : l.getDataValueWindow();
          s = [this._formatLabel(f[0], u), this._formatLabel(f[1], u)];
        }
      }
      var d = Eo(this._handleEnds.slice());
      p.call(this, 0), p.call(this, 1);
      function p(v) {
        var y = Wc(a.handles[v].parent, this.group), _ = TS(v === 0 ? "right" : "left", y), w = this._handleWidth / 2 + bDe, S = Fs([d[v] + (v === 0 ? -w : w), this._size[1] / 2], y);
        n[v].setStyle({
          x: S[0],
          y: S[1],
          verticalAlign: o === mg ? "middle" : _,
          align: o === mg ? _ : "center",
          text: s[v]
        });
      }
    }, e.prototype._formatLabel = function(t, i) {
      var a = this.dataZoomModel, n = a.get("labelFormatter"), o = a.get("labelPrecision");
      (o == null || o === "auto") && (o = i.getPixelPrecision());
      var s = t == null || isNaN(t) ? "" : i.type === "category" || i.type === "time" ? i.scale.getLabel({
        value: Math.round(t)
      }) : t.toFixed(Math.min(o, 20));
      return Bt(n) ? n(t, s) : vt(n) ? n.replace("{value}", s) : s;
    }, e.prototype._showDataInfo = function(t) {
      var i = this.dataZoomModel.get("handleLabel") || {}, a = i.show || !1, n = this.dataZoomModel.getModel(["emphasis", "handleLabel"]), o = n.get("show") || !1, s = t || this._dragging ? o : a, l = this._displayables, u = l.handleLabels;
      u[0].attr("invisible", !s), u[1].attr("invisible", !s), l.moveHandle && this.api[s ? "enterEmphasis" : "leaveEmphasis"](l.moveHandle, 1);
    }, e.prototype._onDragMove = function(t, i, a, n) {
      this._dragging = !0, Bu(n.event);
      var o = this._displayables.sliderGroup.getLocalTransform(), s = Fs([i, a], o, !0), l = this._updateInterval(t, s[0]), u = this.dataZoomModel.get("realtime");
      this._updateView(!u), l && u && this._dispatchZoomAction(!0);
    }, e.prototype._onDragEnd = function() {
      this._dragging = !1, this._showDataInfo(!1);
      var t = this.dataZoomModel.get("realtime");
      !t && this._dispatchZoomAction(!1);
    }, e.prototype._onClickPanel = function(t) {
      var i = this._size, a = this._displayables.sliderGroup.transformCoordToLocal(t.offsetX, t.offsetY);
      if (!(a[0] < 0 || a[0] > i[0] || a[1] < 0 || a[1] > i[1])) {
        var n = this._handleEnds, o = (n[0] + n[1]) / 2, s = this._updateInterval("all", a[0] - o);
        this._updateView(), s && this._dispatchZoomAction(!1);
      }
    }, e.prototype._onBrushStart = function(t) {
      var i = t.offsetX, a = t.offsetY;
      this._brushStart = new Xt(i, a), this._brushing = !0, this._brushStartTime = +/* @__PURE__ */ new Date();
    }, e.prototype._onBrushEnd = function(t) {
      if (this._brushing) {
        var i = this._displayables.brushRect;
        if (this._brushing = !1, !!i) {
          i.attr("ignore", !0);
          var a = i.shape, n = +/* @__PURE__ */ new Date();
          if (!(n - this._brushStartTime < 200 && Math.abs(a.width) < 5)) {
            var o = this._getViewExtent(), s = [0, 100], l = this._handleEnds = [a.x, a.x + a.width], u = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();
            eh(0, l, o, 0, u.minSpan != null ? Qr(u.minSpan, s, o, !0) : null, u.maxSpan != null ? Qr(u.maxSpan, s, o, !0) : null), this._range = Eo([Qr(l[0], o, s, !0), Qr(l[1], o, s, !0)]), this._updateView(), this._dispatchZoomAction(!1);
          }
        }
      }
    }, e.prototype._onBrush = function(t) {
      this._brushing && (Bu(t.event), this._updateBrushRect(t.offsetX, t.offsetY));
    }, e.prototype._updateBrushRect = function(t, i) {
      var a = this._displayables, n = this.dataZoomModel, o = a.brushRect;
      o || (o = a.brushRect = new gg({
        silent: !0,
        style: n.getModel("brushStyle").getItemStyle()
      }), a.sliderGroup.add(o)), o.attr("ignore", !1);
      var s = this._brushStart, l = this._displayables.sliderGroup, u = l.transformCoordToLocal(t, i), c = l.transformCoordToLocal(s.x, s.y), f = this._size;
      u[0] = Math.max(Math.min(f[0], u[0]), 0), o.setShape({
        x: c[0],
        y: 0,
        width: u[0] - c[0],
        height: f[1]
      });
    }, e.prototype._dispatchZoomAction = function(t) {
      var i = this._range;
      this.api.dispatchAction({
        type: "dataZoom",
        from: this.uid,
        dataZoomId: this.dataZoomModel.id,
        animation: t ? SDe : null,
        start: i[0],
        end: i[1]
      });
    }, e.prototype._findCoordRect = function() {
      var t, i = rJ(this.dataZoomModel).infoList;
      if (!t && i.length) {
        var a = i[0].model.coordinateSystem;
        t = a.getRect && a.getRect();
      }
      if (!t) {
        var n = this.api.getWidth(), o = this.api.getHeight();
        t = {
          x: n * 0.2,
          y: o * 0.2,
          width: n * 0.6,
          height: o * 0.6
        };
      }
      return t;
    }, e.type = "dataZoom.slider", e;
  }(Gk)
);
function TDe(r) {
  var e = {
    x: "y",
    y: "x",
    radius: "angle",
    angle: "radius"
  };
  return e[r];
}
function CDe(r) {
  return r === "vertical" ? "ns-resize" : "ew-resize";
}
const ADe = xDe;
function xJ(r) {
  r.registerComponentModel(mDe), r.registerComponentView(ADe), zk(r);
}
function EDe(r) {
  _r(SJ), _r(xJ);
}
var DDe = {
  /**
   * @public
   */
  get: function(r, e, t) {
    var i = Gt((kDe[r] || {})[e]);
    return t && Ke(i) ? i[i.length - 1] : i;
  }
}, kDe = {
  color: {
    active: ["#006edd", "#e0ffff"],
    inactive: [Ve.color.transparent]
  },
  colorHue: {
    active: [0, 360],
    inactive: [0, 0]
  },
  colorSaturation: {
    active: [0.3, 1],
    inactive: [0, 0]
  },
  colorLightness: {
    active: [0.9, 0.5],
    inactive: [0, 0]
  },
  colorAlpha: {
    active: [0.3, 1],
    inactive: [0, 0]
  },
  opacity: {
    active: [0.3, 1],
    inactive: [0, 0]
  },
  symbol: {
    active: ["circle", "roundRect", "diamond"],
    inactive: ["none"]
  },
  symbolSize: {
    active: [10, 50],
    inactive: [0, 0]
  }
};
const TJ = DDe;
var rG = _a.mapVisual, MDe = _a.eachVisual, IDe = Ke, nG = J, PDe = Eo, RDe = Qr, LDe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.stateList = ["inRange", "outOfRange"], t.replacableOptionKeys = ["inRange", "outOfRange", "target", "controller", "color"], t.layoutMode = {
        type: "box",
        ignoreSize: !0
      }, t.dataBound = [-1 / 0, 1 / 0], t.targetVisuals = {}, t.controllerVisuals = {}, t;
    }
    return e.prototype.init = function(t, i, a) {
      this.mergeDefaultAndTheme(t, a);
    }, e.prototype.optionUpdated = function(t, i) {
      var a = this.option;
      !i && fJ(a, t, this.replacableOptionKeys), this.textStyleModel = this.getModel("textStyle"), this.resetItemSize(), this.completeVisualOption();
    }, e.prototype.resetVisual = function(t) {
      var i = this.stateList;
      t = mt(t, this), this.controllerVisuals = dE(this.option.controller, i, t), this.targetVisuals = dE(this.option.target, i, t);
    }, e.prototype.getItemSymbol = function() {
      return null;
    }, e.prototype.getTargetSeriesIndices = function() {
      var t = this.option.seriesId, i = this.option.seriesIndex;
      i == null && t == null && (i = "all");
      var a = P0(this.ecModel, "series", {
        index: i,
        id: t
      }, {
        useDefault: !1,
        enableAll: !0,
        enableNone: !1
      }).models;
      return Je(a, function(n) {
        return n.componentIndex;
      });
    }, e.prototype.eachTargetSeries = function(t, i) {
      J(this.getTargetSeriesIndices(), function(a) {
        var n = this.ecModel.getSeriesByIndex(a);
        n && t.call(i, n);
      }, this);
    }, e.prototype.isTargetSeries = function(t) {
      var i = !1;
      return this.eachTargetSeries(function(a) {
        a === t && (i = !0);
      }), i;
    }, e.prototype.formatValueText = function(t, i, a) {
      var n = this.option, o = n.precision, s = this.dataBound, l = n.formatter, u;
      a = a || ["<", ">"], Ke(t) && (t = t.slice(), u = !0);
      var c = i ? t : u ? [f(t[0]), f(t[1])] : f(t);
      if (vt(l))
        return l.replace("{value}", u ? c[0] : c).replace("{value2}", u ? c[1] : c);
      if (Bt(l))
        return u ? l(t[0], t[1]) : l(t);
      if (u)
        return t[0] === s[0] ? a[0] + " " + c[1] : t[1] === s[1] ? a[1] + " " + c[0] : c[0] + " - " + c[1];
      return c;
      function f(d) {
        return d === s[0] ? "min" : d === s[1] ? "max" : (+d).toFixed(Math.min(o, 20));
      }
    }, e.prototype.resetExtent = function() {
      var t = this.option, i = PDe([t.min, t.max]);
      this._dataExtent = i;
    }, e.prototype.getDataDimensionIndex = function(t) {
      var i = this.option.dimension;
      if (i != null)
        return t.getDimensionIndex(i);
      for (var a = t.dimensions, n = a.length - 1; n >= 0; n--) {
        var o = a[n], s = t.getDimensionInfo(o);
        if (!s.isCalculationCoord)
          return s.storeDimIndex;
      }
    }, e.prototype.getExtent = function() {
      return this._dataExtent.slice();
    }, e.prototype.completeVisualOption = function() {
      var t = this.ecModel, i = this.option, a = {
        inRange: i.inRange,
        outOfRange: i.outOfRange
      }, n = i.target || (i.target = {}), o = i.controller || (i.controller = {});
      gr(n, a), gr(o, a);
      var s = this.isCategory();
      l.call(this, n), l.call(this, o), u.call(this, n, "inRange", "outOfRange"), c.call(this, o);
      function l(f) {
        IDe(i.color) && !f.inRange && (f.inRange = {
          color: i.color.slice().reverse()
        }), f.inRange = f.inRange || {
          color: t.get("gradientColor")
        };
      }
      function u(f, d, p) {
        var v = f[d], y = f[p];
        v && !y && (y = f[p] = {}, nG(v, function(_, w) {
          if (_a.isValidType(w)) {
            var S = TJ.get(w, "inactive", s);
            S != null && (y[w] = S, w === "color" && !y.hasOwnProperty("opacity") && !y.hasOwnProperty("colorAlpha") && (y.opacity = [0, 0]));
          }
        }));
      }
      function c(f) {
        var d = (f.inRange || {}).symbol || (f.outOfRange || {}).symbol, p = (f.inRange || {}).symbolSize || (f.outOfRange || {}).symbolSize, v = this.get("inactiveColor"), y = this.getItemSymbol(), _ = y || "roundRect";
        nG(this.stateList, function(w) {
          var S = this.itemSize, x = f[w];
          x || (x = f[w] = {
            color: s ? v : [v]
          }), x.symbol == null && (x.symbol = d && Gt(d) || (s ? _ : [_])), x.symbolSize == null && (x.symbolSize = p && Gt(p) || (s ? S[0] : [S[0], S[0]])), x.symbol = rG(x.symbol, function(k) {
            return k === "none" ? _ : k;
          });
          var E = x.symbolSize;
          if (E != null) {
            var M = -1 / 0;
            MDe(E, function(k) {
              k > M && (M = k);
            }), x.symbolSize = rG(E, function(k) {
              return RDe(k, [0, M], [0, S[0]], !0);
            });
          }
        }, this);
      }
    }, e.prototype.resetItemSize = function() {
      this.itemSize = [parseFloat(this.get("itemWidth")), parseFloat(this.get("itemHeight"))];
    }, e.prototype.isCategory = function() {
      return !!this.option.categories;
    }, e.prototype.setSelected = function(t) {
    }, e.prototype.getSelected = function() {
      return null;
    }, e.prototype.getValueState = function(t) {
      return null;
    }, e.prototype.getVisualMeta = function(t) {
      return null;
    }, e.type = "visualMap", e.dependencies = ["series"], e.defaultOption = {
      show: !0,
      // zlevel: 0,
      z: 4,
      // seriesIndex: 'all',
      min: 0,
      max: 200,
      left: 0,
      right: null,
      top: null,
      bottom: 0,
      itemWidth: null,
      itemHeight: null,
      inverse: !1,
      orient: "vertical",
      backgroundColor: Ve.color.transparent,
      borderColor: Ve.color.borderTint,
      contentColor: Ve.color.theme[0],
      inactiveColor: Ve.color.disabled,
      borderWidth: 0,
      padding: Ve.size.m,
      // css
      textGap: 10,
      precision: 0,
      textStyle: {
        color: Ve.color.secondary
        // 
      }
    }, e;
  }(Rr)
);
const Wb = LDe;
var iG = [20, 140], ODe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.optionUpdated = function(t, i) {
      r.prototype.optionUpdated.apply(this, arguments), this.resetExtent(), this.resetVisual(function(a) {
        a.mappingMethod = "linear", a.dataExtent = this.getExtent();
      }), this._resetRange();
    }, e.prototype.resetItemSize = function() {
      r.prototype.resetItemSize.apply(this, arguments);
      var t = this.itemSize;
      (t[0] == null || isNaN(t[0])) && (t[0] = iG[0]), (t[1] == null || isNaN(t[1])) && (t[1] = iG[1]);
    }, e.prototype._resetRange = function() {
      var t = this.getExtent(), i = this.option.range;
      !i || i.auto ? (t.auto = 1, this.option.range = t) : Ke(i) && (i[0] > i[1] && i.reverse(), i[0] = Math.max(i[0], t[0]), i[1] = Math.min(i[1], t[1]));
    }, e.prototype.completeVisualOption = function() {
      r.prototype.completeVisualOption.apply(this, arguments), J(this.stateList, function(t) {
        var i = this.option.controller[t].symbolSize;
        i && i[0] !== i[1] && (i[0] = i[1] / 3);
      }, this);
    }, e.prototype.setSelected = function(t) {
      this.option.range = t.slice(), this._resetRange();
    }, e.prototype.getSelected = function() {
      var t = this.getExtent(), i = Eo((this.get("range") || []).slice());
      return i[0] > t[1] && (i[0] = t[1]), i[1] > t[1] && (i[1] = t[1]), i[0] < t[0] && (i[0] = t[0]), i[1] < t[0] && (i[1] = t[0]), i;
    }, e.prototype.getValueState = function(t) {
      var i = this.option.range, a = this.getExtent(), n = It(this.option.unboundedRange, !0);
      return (n && i[0] <= a[0] || i[0] <= t) && (n && i[1] >= a[1] || t <= i[1]) ? "inRange" : "outOfRange";
    }, e.prototype.findTargetDataIndices = function(t) {
      var i = [];
      return this.eachTargetSeries(function(a) {
        var n = [], o = a.getData();
        o.each(this.getDataDimensionIndex(o), function(s, l) {
          t[0] <= s && s <= t[1] && n.push(l);
        }, this), i.push({
          seriesId: a.id,
          dataIndex: n
        });
      }, this), i;
    }, e.prototype.getVisualMeta = function(t) {
      var i = aG(this, "outOfRange", this.getExtent()), a = aG(this, "inRange", this.option.range.slice()), n = [];
      function o(p, v) {
        n.push({
          value: p,
          color: t(p, v)
        });
      }
      for (var s = 0, l = 0, u = a.length, c = i.length; l < c && (!a.length || i[l] <= a[0]); l++)
        i[l] < a[s] && o(i[l], "outOfRange");
      for (var f = 1; s < u; s++, f = 0)
        f && n.length && o(a[s], "outOfRange"), o(a[s], "inRange");
      for (var f = 1; l < c; l++)
        (!a.length || a[a.length - 1] < i[l]) && (f && (n.length && o(n[n.length - 1].value, "outOfRange"), f = 0), o(i[l], "outOfRange"));
      var d = n.length;
      return {
        stops: n,
        outerColors: [d ? n[0].color : "transparent", d ? n[d - 1].color : "transparent"]
      };
    }, e.type = "visualMap.continuous", e.defaultOption = dh(Wb.defaultOption, {
      align: "auto",
      calculable: !1,
      hoverLink: !0,
      realtime: !0,
      handleIcon: "path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",
      handleSize: "120%",
      handleStyle: {
        borderColor: Ve.color.neutral00,
        borderWidth: 1
      },
      indicatorIcon: "circle",
      indicatorSize: "50%",
      indicatorStyle: {
        borderColor: Ve.color.neutral00,
        borderWidth: 2,
        shadowBlur: 2,
        shadowOffsetX: 1,
        shadowOffsetY: 1,
        shadowColor: Ve.color.shadow
      }
      // emphasis: {
      //     handleStyle: {
      //         shadowBlur: 3,
      //         shadowOffsetX: 1,
      //         shadowOffsetY: 1,
      //         shadowColor: tokens.color.shadow
      //     }
      // }
    }), e;
  }(Wb)
);
function aG(r, e, t) {
  if (t[0] === t[1])
    return t.slice();
  for (var i = 200, a = (t[1] - t[0]) / i, n = t[0], o = [], s = 0; s <= i && n < t[1]; s++)
    o.push(n), n += a;
  return o.push(t[1]), o;
}
const FDe = ODe;
var NDe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.autoPositionValues = {
        left: 1,
        right: 1,
        top: 1,
        bottom: 1
      }, t;
    }
    return e.prototype.init = function(t, i) {
      this.ecModel = t, this.api = i;
    }, e.prototype.render = function(t, i, a, n) {
      if (this.visualMapModel = t, t.get("show") === !1) {
        this.group.removeAll();
        return;
      }
      this.doRender(t, i, a, n);
    }, e.prototype.renderBackground = function(t) {
      var i = this.visualMapModel, a = B0(i.get("padding") || 0), n = t.getBoundingRect();
      t.add(new Cr({
        z2: -1,
        silent: !0,
        shape: {
          x: n.x - a[3],
          y: n.y - a[0],
          width: n.width + a[3] + a[1],
          height: n.height + a[0] + a[2]
        },
        style: {
          fill: i.get("backgroundColor"),
          stroke: i.get("borderColor"),
          lineWidth: i.get("borderWidth")
        }
      }));
    }, e.prototype.getControllerVisual = function(t, i, a) {
      a = a || {};
      var n = a.forceState, o = this.visualMapModel, s = {};
      if (i === "color") {
        var l = o.get("contentColor");
        s.color = l;
      }
      function u(p) {
        return s[p];
      }
      function c(p, v) {
        s[p] = v;
      }
      var f = o.controllerVisuals[n || o.getValueState(t)], d = _a.prepareVisualTypes(f);
      return J(d, function(p) {
        var v = f[p];
        a.convertOpacityToAlpha && p === "opacity" && (p = "colorAlpha", v = f.__alphaForOpacity), _a.dependsOn(p, i) && v && v.applyVisual(t, u, c);
      }), s[i];
    }, e.prototype.positionGroup = function(t) {
      var i = this.visualMapModel, a = this.api, n = Wi(i, a).refContainer;
      ES(t, i.getBoxLayoutParams(), n);
    }, e.prototype.doRender = function(t, i, a, n) {
    }, e.type = "visualMap", e;
  }(Pn)
);
const CJ = NDe;
var oG = [["left", "right", "width"], ["top", "bottom", "height"]];
function AJ(r, e, t) {
  var i = r.option, a = i.align;
  if (a != null && a !== "auto")
    return a;
  for (var n = {
    width: e.getWidth(),
    height: e.getHeight()
  }, o = i.orient === "horizontal" ? 1 : 0, s = oG[o], l = [0, null, 10], u = {}, c = 0; c < 3; c++)
    u[oG[1 - o][c]] = l[c], u[s[c]] = c === 2 ? t[0] : i[s[c]];
  var f = [["x", "width", 3], ["y", "height", 0]][o], d = Bn(u, n, i.padding);
  return s[(d.margin[f[2]] || 0) + d[f[0]] + d[f[1]] * 0.5 < n[f[1]] * 0.5 ? 0 : 1];
}
function d_(r, e) {
  return J(r || [], function(t) {
    t.dataIndex != null && (t.dataIndexInside = t.dataIndex, t.dataIndex = null), t.highlightKey = "visualMap" + (e ? e.componentIndex : "");
  }), r;
}
var dl = Qr, BDe = J, sG = Math.min, wT = Math.max, VDe = 12, UDe = 6, GDe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t._shapes = {}, t._dataInterval = [], t._handleEnds = [], t._hoverLinkDataIndices = [], t;
    }
    return e.prototype.init = function(t, i) {
      r.prototype.init.call(this, t, i), this._hoverLinkFromSeriesMouseOver = mt(this._hoverLinkFromSeriesMouseOver, this), this._hideIndicator = mt(this._hideIndicator, this);
    }, e.prototype.doRender = function(t, i, a, n) {
      (!n || n.type !== "selectDataRange" || n.from !== this.uid) && this._buildView();
    }, e.prototype._buildView = function() {
      this.group.removeAll();
      var t = this.visualMapModel, i = this.group;
      this._orient = t.get("orient"), this._useHandle = t.get("calculable"), this._resetInterval(), this._renderBar(i);
      var a = t.get("text");
      this._renderEndsText(i, a, 0), this._renderEndsText(i, a, 1), this._updateView(!0), this.renderBackground(i), this._updateView(), this._enableHoverLinkToSeries(), this._enableHoverLinkFromSeries(), this.positionGroup(i);
    }, e.prototype._renderEndsText = function(t, i, a) {
      if (i) {
        var n = i[1 - a];
        n = n != null ? n + "" : "";
        var o = this.visualMapModel, s = o.get("textGap"), l = o.itemSize, u = this._shapes.mainGroup, c = this._applyTransform([l[0] / 2, a === 0 ? -s : l[1] + s], u), f = this._applyTransform(a === 0 ? "bottom" : "top", u), d = this._orient, p = this.visualMapModel.textStyleModel;
        this.group.add(new Br({
          style: Sn(p, {
            x: c[0],
            y: c[1],
            verticalAlign: p.get("verticalAlign") || (d === "horizontal" ? "middle" : f),
            align: p.get("align") || (d === "horizontal" ? f : "center"),
            text: n
          })
        }));
      }
    }, e.prototype._renderBar = function(t) {
      var i = this.visualMapModel, a = this._shapes, n = i.itemSize, o = this._orient, s = this._useHandle, l = AJ(i, this.api, n), u = a.mainGroup = this._createBarGroup(l), c = new Wt();
      u.add(c), c.add(a.outOfRange = lG()), c.add(a.inRange = lG(null, s ? cG(this._orient) : null, mt(this._dragHandle, this, "all", !1), mt(this._dragHandle, this, "all", !0))), c.setClipPath(new Cr({
        shape: {
          x: 0,
          y: 0,
          width: n[0],
          height: n[1],
          r: 3
        }
      }));
      var f = i.textStyleModel.getTextRect(""), d = wT(f.width, f.height);
      s && (a.handleThumbs = [], a.handleLabels = [], a.handleLabelPoints = [], this._createHandle(i, u, 0, n, d, o), this._createHandle(i, u, 1, n, d, o)), this._createIndicator(i, u, n, d, o), t.add(u);
    }, e.prototype._createHandle = function(t, i, a, n, o, s) {
      var l = mt(this._dragHandle, this, a, !1), u = mt(this._dragHandle, this, a, !0), c = Vs(t.get("handleSize"), n[0]), f = Si(t.get("handleIcon"), -c / 2, -c / 2, c, c, null, !0), d = cG(this._orient);
      f.attr({
        cursor: d,
        draggable: !0,
        drift: l,
        ondragend: u,
        onmousemove: function(w) {
          Bu(w.event);
        }
      }), f.x = n[0] / 2, f.useStyle(t.getModel("handleStyle").getItemStyle()), f.setStyle({
        strokeNoScale: !0,
        strokeFirst: !0
      }), f.style.lineWidth *= 2, f.ensureState("emphasis").style = t.getModel(["emphasis", "handleStyle"]).getItemStyle(), If(f, !0), i.add(f);
      var p = this.visualMapModel.textStyleModel, v = new Br({
        cursor: d,
        draggable: !0,
        drift: l,
        onmousemove: function(w) {
          Bu(w.event);
        },
        ondragend: u,
        style: Sn(p, {
          x: 0,
          y: 0,
          text: ""
        })
      });
      v.ensureState("blur").style = {
        opacity: 0.1
      }, v.stateTransition = {
        duration: 200
      }, this.group.add(v);
      var y = [c, 0], _ = this._shapes;
      _.handleThumbs[a] = f, _.handleLabelPoints[a] = y, _.handleLabels[a] = v;
    }, e.prototype._createIndicator = function(t, i, a, n, o) {
      var s = Vs(t.get("indicatorSize"), a[0]), l = Si(t.get("indicatorIcon"), -s / 2, -s / 2, s, s, null, !0);
      l.attr({
        cursor: "move",
        invisible: !0,
        silent: !0,
        x: a[0] / 2
      });
      var u = t.getModel("indicatorStyle").getItemStyle();
      if (l instanceof ha) {
        var c = l.style;
        l.useStyle($e({
          // TODO other properties like x, y ?
          image: c.image,
          x: c.x,
          y: c.y,
          width: c.width,
          height: c.height
        }, u));
      } else
        l.useStyle(u);
      i.add(l);
      var f = this.visualMapModel.textStyleModel, d = new Br({
        silent: !0,
        invisible: !0,
        style: Sn(f, {
          x: 0,
          y: 0,
          text: ""
        })
      });
      this.group.add(d);
      var p = [(o === "horizontal" ? n / 2 : UDe) + a[0] / 2, 0], v = this._shapes;
      v.indicator = l, v.indicatorLabel = d, v.indicatorLabelPoint = p, this._firstShowIndicator = !0;
    }, e.prototype._dragHandle = function(t, i, a, n) {
      if (this._useHandle) {
        if (this._dragging = !i, !i) {
          var o = this._applyTransform([a, n], this._shapes.mainGroup, !0);
          this._updateInterval(t, o[1]), this._hideIndicator(), this._updateView();
        }
        i === !this.visualMapModel.get("realtime") && this.api.dispatchAction({
          type: "selectDataRange",
          from: this.uid,
          visualMapId: this.visualMapModel.id,
          selected: this._dataInterval.slice()
        }), i ? !this._hovering && this._clearHoverLinkToSeries() : uG(this.visualMapModel) && this._doHoverLinkToSeries(this._handleEnds[t], !1);
      }
    }, e.prototype._resetInterval = function() {
      var t = this.visualMapModel, i = this._dataInterval = t.getSelected(), a = t.getExtent(), n = [0, t.itemSize[1]];
      this._handleEnds = [dl(i[0], a, n, !0), dl(i[1], a, n, !0)];
    }, e.prototype._updateInterval = function(t, i) {
      i = i || 0;
      var a = this.visualMapModel, n = this._handleEnds, o = [0, a.itemSize[1]];
      eh(
        i,
        n,
        o,
        t,
        // cross is forbidden
        0
      );
      var s = a.getExtent();
      this._dataInterval = [dl(n[0], o, s, !0), dl(n[1], o, s, !0)];
    }, e.prototype._updateView = function(t) {
      var i = this.visualMapModel, a = i.getExtent(), n = this._shapes, o = [0, i.itemSize[1]], s = t ? o : this._handleEnds, l = this._createBarVisual(this._dataInterval, a, s, "inRange"), u = this._createBarVisual(a, a, o, "outOfRange");
      n.inRange.setStyle({
        fill: l.barColor
        // opacity: visualInRange.opacity
      }).setShape("points", l.barPoints), n.outOfRange.setStyle({
        fill: u.barColor
        // opacity: visualOutOfRange.opacity
      }).setShape("points", u.barPoints), this._updateHandle(s, l);
    }, e.prototype._createBarVisual = function(t, i, a, n) {
      var o = {
        forceState: n,
        convertOpacityToAlpha: !0
      }, s = this._makeColorGradient(t, o), l = [this.getControllerVisual(t[0], "symbolSize", o), this.getControllerVisual(t[1], "symbolSize", o)], u = this._createBarPoints(a, l);
      return {
        barColor: new bd(0, 0, 0, 1, s),
        barPoints: u,
        handlesColor: [s[0].color, s[s.length - 1].color]
      };
    }, e.prototype._makeColorGradient = function(t, i) {
      var a = 100, n = [], o = (t[1] - t[0]) / a;
      n.push({
        color: this.getControllerVisual(t[0], "color", i),
        offset: 0
      });
      for (var s = 1; s < a; s++) {
        var l = t[0] + o * s;
        if (l > t[1])
          break;
        n.push({
          color: this.getControllerVisual(l, "color", i),
          offset: s / a
        });
      }
      return n.push({
        color: this.getControllerVisual(t[1], "color", i),
        offset: 1
      }), n;
    }, e.prototype._createBarPoints = function(t, i) {
      var a = this.visualMapModel.itemSize;
      return [[a[0] - i[0], t[0]], [a[0], t[0]], [a[0], t[1]], [a[0] - i[1], t[1]]];
    }, e.prototype._createBarGroup = function(t) {
      var i = this._orient, a = this.visualMapModel.get("inverse");
      return new Wt(i === "horizontal" && !a ? {
        scaleX: t === "bottom" ? 1 : -1,
        rotation: Math.PI / 2
      } : i === "horizontal" && a ? {
        scaleX: t === "bottom" ? -1 : 1,
        rotation: -Math.PI / 2
      } : i === "vertical" && !a ? {
        scaleX: t === "left" ? 1 : -1,
        scaleY: -1
      } : {
        scaleX: t === "left" ? 1 : -1
      });
    }, e.prototype._updateHandle = function(t, i) {
      if (this._useHandle) {
        var a = this._shapes, n = this.visualMapModel, o = a.handleThumbs, s = a.handleLabels, l = n.itemSize, u = n.getExtent(), c = this._applyTransform("left", a.mainGroup);
        BDe([0, 1], function(f) {
          var d = o[f];
          d.setStyle("fill", i.handlesColor[f]), d.y = t[f];
          var p = dl(t[f], [0, l[1]], u, !0), v = this.getControllerVisual(p, "symbolSize");
          d.scaleX = d.scaleY = v / l[0], d.x = l[0] - v / 2;
          var y = Fs(a.handleLabelPoints[f], Wc(d, this.group));
          if (this._orient === "horizontal") {
            var _ = c === "left" || c === "top" ? (l[0] - v) / 2 : (l[0] - v) / -2;
            y[1] += _;
          }
          s[f].setStyle({
            x: y[0],
            y: y[1],
            text: n.formatValueText(this._dataInterval[f]),
            verticalAlign: "middle",
            align: this._orient === "vertical" ? this._applyTransform("left", a.mainGroup) : "center"
          });
        }, this);
      }
    }, e.prototype._showIndicator = function(t, i, a, n) {
      var o = this.visualMapModel, s = o.getExtent(), l = o.itemSize, u = [0, l[1]], c = this._shapes, f = c.indicator;
      if (f) {
        f.attr("invisible", !1);
        var d = {
          convertOpacityToAlpha: !0
        }, p = this.getControllerVisual(t, "color", d), v = this.getControllerVisual(t, "symbolSize"), y = dl(t, s, u, !0), _ = l[0] - v / 2, w = {
          x: f.x,
          y: f.y
        };
        f.y = y, f.x = _;
        var S = Fs(c.indicatorLabelPoint, Wc(f, this.group)), x = c.indicatorLabel;
        x.attr("invisible", !1);
        var E = this._applyTransform("left", c.mainGroup), M = this._orient, k = M === "horizontal";
        x.setStyle({
          text: (a || "") + o.formatValueText(i),
          verticalAlign: k ? E : "middle",
          align: k ? "center" : E
        });
        var P = {
          x: _,
          y,
          style: {
            fill: p
          }
        }, L = {
          style: {
            x: S[0],
            y: S[1]
          }
        };
        if (o.ecModel.isAnimationEnabled() && !this._firstShowIndicator) {
          var F = {
            duration: 100,
            easing: "cubicInOut",
            additive: !0
          };
          f.x = w.x, f.y = w.y, f.animateTo(P, F), x.animateTo(L, F);
        } else
          f.attr(P), x.attr(L);
        this._firstShowIndicator = !1;
        var O = this._shapes.handleLabels;
        if (O)
          for (var U = 0; U < O.length; U++)
            this.api.enterBlur(O[U]);
      }
    }, e.prototype._enableHoverLinkToSeries = function() {
      var t = this;
      this._shapes.mainGroup.on("mousemove", function(i) {
        if (t._hovering = !0, !t._dragging) {
          var a = t.visualMapModel.itemSize, n = t._applyTransform([i.offsetX, i.offsetY], t._shapes.mainGroup, !0, !0);
          n[1] = sG(wT(0, n[1]), a[1]), t._doHoverLinkToSeries(n[1], 0 <= n[0] && n[0] <= a[0]);
        }
      }).on("mouseout", function() {
        t._hovering = !1, !t._dragging && t._clearHoverLinkToSeries();
      });
    }, e.prototype._enableHoverLinkFromSeries = function() {
      var t = this.api.getZr();
      this.visualMapModel.option.hoverLink ? (t.on("mouseover", this._hoverLinkFromSeriesMouseOver, this), t.on("mouseout", this._hideIndicator, this)) : this._clearHoverLinkFromSeries();
    }, e.prototype._doHoverLinkToSeries = function(t, i) {
      var a = this.visualMapModel, n = a.itemSize;
      if (a.option.hoverLink) {
        var o = [0, n[1]], s = a.getExtent();
        t = sG(wT(o[0], t), o[1]);
        var l = zDe(a, s, o), u = [t - l, t + l], c = dl(t, o, s, !0), f = [dl(u[0], o, s, !0), dl(u[1], o, s, !0)];
        u[0] < o[0] && (f[0] = -1 / 0), u[1] > o[1] && (f[1] = 1 / 0), i && (f[0] === -1 / 0 ? this._showIndicator(c, f[1], "< ", l) : f[1] === 1 / 0 ? this._showIndicator(c, f[0], "> ", l) : this._showIndicator(c, c, " ", l));
        var d = this._hoverLinkDataIndices, p = [];
        (i || uG(a)) && (p = this._hoverLinkDataIndices = a.findTargetDataIndices(f));
        var v = $fe(d, p);
        this._dispatchHighDown("downplay", d_(v[0], a)), this._dispatchHighDown("highlight", d_(v[1], a));
      }
    }, e.prototype._hoverLinkFromSeriesMouseOver = function(t) {
      var i;
      if (Lf(t.target, function(l) {
        var u = er(l);
        if (u.dataIndex != null)
          return i = u, !0;
      }, !0), !!i) {
        var a = this.ecModel.getSeriesByIndex(i.seriesIndex), n = this.visualMapModel;
        if (n.isTargetSeries(a)) {
          var o = a.getData(i.dataType), s = o.getStore().get(n.getDataDimensionIndex(o), i.dataIndex);
          isNaN(s) || this._showIndicator(s, s);
        }
      }
    }, e.prototype._hideIndicator = function() {
      var t = this._shapes;
      t.indicator && t.indicator.attr("invisible", !0), t.indicatorLabel && t.indicatorLabel.attr("invisible", !0);
      var i = this._shapes.handleLabels;
      if (i)
        for (var a = 0; a < i.length; a++)
          this.api.leaveBlur(i[a]);
    }, e.prototype._clearHoverLinkToSeries = function() {
      this._hideIndicator();
      var t = this._hoverLinkDataIndices;
      this._dispatchHighDown("downplay", d_(t, this.visualMapModel)), t.length = 0;
    }, e.prototype._clearHoverLinkFromSeries = function() {
      this._hideIndicator();
      var t = this.api.getZr();
      t.off("mouseover", this._hoverLinkFromSeriesMouseOver), t.off("mouseout", this._hideIndicator);
    }, e.prototype._applyTransform = function(t, i, a, n) {
      var o = Wc(i, n ? null : this.group);
      return Ke(t) ? Fs(t, o, a) : TS(t, o, a);
    }, e.prototype._dispatchHighDown = function(t, i) {
      i && i.length && this.api.dispatchAction({
        type: t,
        batch: i
      });
    }, e.prototype.dispose = function() {
      this._clearHoverLinkFromSeries(), this._clearHoverLinkToSeries();
    }, e.type = "visualMap.continuous", e;
  }(CJ)
);
function lG(r, e, t, i) {
  return new Ha({
    shape: {
      points: r
    },
    draggable: !!t,
    cursor: e,
    drift: t,
    onmousemove: function(a) {
      Bu(a.event);
    },
    ondragend: i
  });
}
function zDe(r, e, t) {
  var i = VDe / 2, a = r.get("hoverLinkDataSize");
  return a && (i = dl(a, e, t, !0) / 2), i;
}
function uG(r) {
  var e = r.get("hoverLinkOnHandle");
  return !!(e ?? r.get("realtime"));
}
function cG(r) {
  return r === "vertical" ? "ns-resize" : "ew-resize";
}
const WDe = GDe;
var HDe = {
  type: "selectDataRange",
  event: "dataRangeSelected",
  // FIXME use updateView appears wrong
  update: "update"
}, $De = function(r, e) {
  e.eachComponent({
    mainType: "visualMap",
    query: r
  }, function(t) {
    t.setSelected(r.selected);
  });
}, YDe = [
  {
    createOnAllSeries: !0,
    reset: function(r, e) {
      var t = [];
      return e.eachComponent("visualMap", function(i) {
        var a = r.pipelineContext;
        !i.isTargetSeries(r) || a && a.large || t.push(VEe(i.stateList, i.targetVisuals, mt(i.getValueState, i), i.getDataDimensionIndex(r.getData())));
      }), t;
    }
  },
  // Only support color.
  {
    createOnAllSeries: !0,
    reset: function(r, e) {
      var t = r.getData(), i = [];
      e.eachComponent("visualMap", function(a) {
        if (a.isTargetSeries(r)) {
          var n = a.getVisualMeta(mt(jDe, null, r, a)) || {
            stops: [],
            outerColors: []
          }, o = a.getDataDimensionIndex(t);
          o >= 0 && (n.dimension = o, i.push(n));
        }
      }), r.getData().setVisual("visualMeta", i);
    }
  }
];
function jDe(r, e, t, i) {
  for (var a = e.targetVisuals[i], n = _a.prepareVisualTypes(a), o = {
    color: lm(r.getData(), "color")
    // default color.
  }, s = 0, l = n.length; s < l; s++) {
    var u = n[s], c = a[u === "opacity" ? "__alphaForOpacity" : u];
    c && c.applyVisual(t, f, d);
  }
  return o.color;
  function f(p) {
    return o[p];
  }
  function d(p, v) {
    o[p] = v;
  }
}
var hG = J;
function qDe(r) {
  var e = r && r.visualMap;
  Ke(e) || (e = e ? [e] : []), hG(e, function(t) {
    if (t) {
      Cp(t, "splitList") && !Cp(t, "pieces") && (t.pieces = t.splitList, delete t.splitList);
      var i = t.pieces;
      i && Ke(i) && hG(i, function(a) {
        zt(a) && (Cp(a, "start") && !Cp(a, "min") && (a.min = a.start), Cp(a, "end") && !Cp(a, "max") && (a.max = a.end));
      });
    }
  });
}
function Cp(r, e) {
  return r && r.hasOwnProperty && r.hasOwnProperty(e);
}
var fG = !1;
function EJ(r) {
  fG || (fG = !0, r.registerSubTypeDefaulter("visualMap", function(e) {
    return !e.categories && (!(e.pieces ? e.pieces.length > 0 : e.splitNumber > 0) || e.calculable) ? "continuous" : "piecewise";
  }), r.registerAction(HDe, $De), J(YDe, function(e) {
    r.registerVisual(r.PRIORITY.VISUAL.COMPONENT, e);
  }), r.registerPreprocessor(qDe));
}
function DJ(r) {
  r.registerComponentModel(FDe), r.registerComponentView(WDe), EJ(r);
}
var XDe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t._pieceList = [], t;
    }
    return e.prototype.optionUpdated = function(t, i) {
      r.prototype.optionUpdated.apply(this, arguments), this.resetExtent();
      var a = this._mode = this._determineMode();
      this._pieceList = [], KDe[this._mode].call(this, this._pieceList), this._resetSelected(t, i);
      var n = this.option.categories;
      this.resetVisual(function(o, s) {
        a === "categories" ? (o.mappingMethod = "category", o.categories = Gt(n)) : (o.dataExtent = this.getExtent(), o.mappingMethod = "piecewise", o.pieceList = Je(this._pieceList, function(l) {
          return l = Gt(l), s !== "inRange" && (l.visual = null), l;
        }));
      });
    }, e.prototype.completeVisualOption = function() {
      var t = this.option, i = {}, a = _a.listVisualTypes(), n = this.isCategory();
      J(t.pieces, function(s) {
        J(a, function(l) {
          s.hasOwnProperty(l) && (i[l] = 1);
        });
      }), J(i, function(s, l) {
        var u = !1;
        J(this.stateList, function(c) {
          u = u || o(t, c, l) || o(t.target, c, l);
        }, this), !u && J(this.stateList, function(c) {
          (t[c] || (t[c] = {}))[l] = TJ.get(l, c === "inRange" ? "active" : "inactive", n);
        });
      }, this);
      function o(s, l, u) {
        return s && s[l] && s[l].hasOwnProperty(u);
      }
      r.prototype.completeVisualOption.apply(this, arguments);
    }, e.prototype._resetSelected = function(t, i) {
      var a = this.option, n = this._pieceList, o = (i ? a : t).selected || {};
      if (a.selected = o, J(n, function(l, u) {
        var c = this.getSelectedMapKey(l);
        o.hasOwnProperty(c) || (o[c] = !0);
      }, this), a.selectedMode === "single") {
        var s = !1;
        J(n, function(l, u) {
          var c = this.getSelectedMapKey(l);
          o[c] && (s ? o[c] = !1 : s = !0);
        }, this);
      }
    }, e.prototype.getItemSymbol = function() {
      return this.get("itemSymbol");
    }, e.prototype.getSelectedMapKey = function(t) {
      return this._mode === "categories" ? t.value + "" : t.index + "";
    }, e.prototype.getPieceList = function() {
      return this._pieceList;
    }, e.prototype._determineMode = function() {
      var t = this.option;
      return t.pieces && t.pieces.length > 0 ? "pieces" : this.option.categories ? "categories" : "splitNumber";
    }, e.prototype.setSelected = function(t) {
      this.option.selected = Gt(t);
    }, e.prototype.getValueState = function(t) {
      var i = _a.findPieceIndex(t, this._pieceList);
      return i != null && this.option.selected[this.getSelectedMapKey(this._pieceList[i])] ? "inRange" : "outOfRange";
    }, e.prototype.findTargetDataIndices = function(t) {
      var i = [], a = this._pieceList;
      return this.eachTargetSeries(function(n) {
        var o = [], s = n.getData();
        s.each(this.getDataDimensionIndex(s), function(l, u) {
          var c = _a.findPieceIndex(l, a);
          c === t && o.push(u);
        }, this), i.push({
          seriesId: n.id,
          dataIndex: o
        });
      }, this), i;
    }, e.prototype.getRepresentValue = function(t) {
      var i;
      if (this.isCategory())
        i = t.value;
      else if (t.value != null)
        i = t.value;
      else {
        var a = t.interval || [];
        i = a[0] === -1 / 0 && a[1] === 1 / 0 ? 0 : (a[0] + a[1]) / 2;
      }
      return i;
    }, e.prototype.getVisualMeta = function(t) {
      if (this.isCategory())
        return;
      var i = [], a = ["", ""], n = this;
      function o(c, f) {
        var d = n.getRepresentValue({
          interval: c
        });
        f || (f = n.getValueState(d));
        var p = t(d, f);
        c[0] === -1 / 0 ? a[0] = p : c[1] === 1 / 0 ? a[1] = p : i.push({
          value: c[0],
          color: p
        }, {
          value: c[1],
          color: p
        });
      }
      var s = this._pieceList.slice();
      if (!s.length)
        s.push({
          interval: [-1 / 0, 1 / 0]
        });
      else {
        var l = s[0].interval[0];
        l !== -1 / 0 && s.unshift({
          interval: [-1 / 0, l]
        }), l = s[s.length - 1].interval[1], l !== 1 / 0 && s.push({
          interval: [l, 1 / 0]
        });
      }
      var u = -1 / 0;
      return J(s, function(c) {
        var f = c.interval;
        f && (f[0] > u && o([u, f[0]], "outOfRange"), o(f.slice()), u = f[1]);
      }, this), {
        stops: i,
        outerColors: a
      };
    }, e.type = "visualMap.piecewise", e.defaultOption = dh(Wb.defaultOption, {
      selected: null,
      minOpen: !1,
      maxOpen: !1,
      align: "auto",
      itemWidth: 20,
      itemHeight: 14,
      itemSymbol: "roundRect",
      pieces: null,
      categories: null,
      splitNumber: 5,
      selectedMode: "multiple",
      itemGap: 10,
      hoverLink: !0
      // Enable hover highlight.
    }), e;
  }(Wb)
), KDe = {
  splitNumber: function(r) {
    var e = this.option, t = Math.min(e.precision, 20), i = this.getExtent(), a = e.splitNumber;
    a = Math.max(parseInt(a, 10), 1), e.splitNumber = a;
    for (var n = (i[1] - i[0]) / a; +n.toFixed(t) !== n && t < 5; )
      t++;
    e.precision = t, n = +n.toFixed(t), e.minOpen && r.push({
      interval: [-1 / 0, i[0]],
      close: [0, 0]
    });
    for (var o = 0, s = i[0]; o < a; s += n, o++) {
      var l = o === a - 1 ? i[1] : s + n;
      r.push({
        interval: [s, l],
        close: [1, 1]
      });
    }
    e.maxOpen && r.push({
      interval: [i[1], 1 / 0],
      close: [0, 0]
    }), UA(r), J(r, function(u, c) {
      u.index = c, u.text = this.formatValueText(u.interval);
    }, this);
  },
  categories: function(r) {
    var e = this.option;
    J(e.categories, function(t) {
      r.push({
        text: this.formatValueText(t, !0),
        value: t
      });
    }, this), dG(e, r);
  },
  pieces: function(r) {
    var e = this.option;
    J(e.pieces, function(t, i) {
      zt(t) || (t = {
        value: t
      });
      var a = {
        text: "",
        index: i
      };
      if (t.label != null && (a.text = t.label), t.hasOwnProperty("value")) {
        var n = a.value = t.value;
        a.interval = [n, n], a.close = [1, 1];
      } else {
        for (var o = a.interval = [], s = a.close = [0, 0], l = [1, 0, 1], u = [-1 / 0, 1 / 0], c = [], f = 0; f < 2; f++) {
          for (var d = [["gte", "gt", "min"], ["lte", "lt", "max"]][f], p = 0; p < 3 && o[f] == null; p++)
            o[f] = t[d[p]], s[f] = l[p], c[f] = p === 2;
          o[f] == null && (o[f] = u[f]);
        }
        c[0] && o[1] === 1 / 0 && (s[0] = 0), c[1] && o[0] === -1 / 0 && (s[1] = 0), process.env.NODE_ENV !== "production" && o[0] > o[1] && console.warn("Piece " + i + "is illegal: " + o + " lower bound should not greater then uppper bound."), o[0] === o[1] && s[0] && s[1] && (a.value = o[0]);
      }
      a.visual = _a.retrieveVisuals(t), r.push(a);
    }, this), dG(e, r), UA(r), J(r, function(t) {
      var i = t.close, a = [["<", ""][i[1]], [">", ""][i[0]]];
      t.text = t.text || this.formatValueText(t.value != null ? t.value : t.interval, !1, a);
    }, this);
  }
};
function dG(r, e) {
  var t = r.inverse;
  (r.orient === "vertical" ? !t : t) && e.reverse();
}
const ZDe = XDe;
var JDe = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.doRender = function() {
      var t = this.group;
      t.removeAll();
      var i = this.visualMapModel, a = i.get("textGap"), n = i.textStyleModel, o = this._getItemAlign(), s = i.itemSize, l = this._getViewData(), u = l.endsText, c = Di(i.get("showLabel", !0), !u), f = !i.get("selectedMode");
      u && this._renderEndsText(t, u[0], s, c, o), J(l.viewPieceList, function(d) {
        var p = d.piece, v = new Wt();
        v.onclick = mt(this._onItemClick, this, p), this._enableHoverLink(v, d.indexInModelPieceList);
        var y = i.getRepresentValue(p);
        if (this._createItemSymbol(v, y, [0, 0, s[0], s[1]], f), c) {
          var _ = this.visualMapModel.getValueState(y), w = n.get("align") || o;
          v.add(new Br({
            style: Sn(n, {
              x: w === "right" ? -a : s[0] + a,
              y: s[1] / 2,
              text: p.text,
              verticalAlign: n.get("verticalAlign") || "middle",
              align: w,
              opacity: It(n.get("opacity"), _ === "outOfRange" ? 0.5 : 1)
            }),
            silent: f
          }));
        }
        t.add(v);
      }, this), u && this._renderEndsText(t, u[1], s, c, o), Hf(i.get("orient"), t, i.get("itemGap")), this.renderBackground(t), this.positionGroup(t);
    }, e.prototype._enableHoverLink = function(t, i) {
      var a = this;
      t.on("mouseover", function() {
        return n("highlight");
      }).on("mouseout", function() {
        return n("downplay");
      });
      var n = function(o) {
        var s = a.visualMapModel;
        s.option.hoverLink && a.api.dispatchAction({
          type: o,
          batch: d_(s.findTargetDataIndices(i), s)
        });
      };
    }, e.prototype._getItemAlign = function() {
      var t = this.visualMapModel, i = t.option;
      if (i.orient === "vertical")
        return AJ(t, this.api, t.itemSize);
      var a = i.align;
      return (!a || a === "auto") && (a = "left"), a;
    }, e.prototype._renderEndsText = function(t, i, a, n, o) {
      if (i) {
        var s = new Wt(), l = this.visualMapModel.textStyleModel;
        s.add(new Br({
          style: Sn(l, {
            x: n ? o === "right" ? a[0] : 0 : a[0] / 2,
            y: a[1] / 2,
            verticalAlign: "middle",
            align: n ? o : "center",
            text: i
          })
        })), t.add(s);
      }
    }, e.prototype._getViewData = function() {
      var t = this.visualMapModel, i = Je(t.getPieceList(), function(s, l) {
        return {
          piece: s,
          indexInModelPieceList: l
        };
      }), a = t.get("text"), n = t.get("orient"), o = t.get("inverse");
      return (n === "horizontal" ? o : !o) ? i.reverse() : a && (a = a.slice().reverse()), {
        viewPieceList: i,
        endsText: a
      };
    }, e.prototype._createItemSymbol = function(t, i, a, n) {
      var o = Si(
        // symbol will be string
        this.getControllerVisual(i, "symbol"),
        a[0],
        a[1],
        a[2],
        a[3],
        // color will be string
        this.getControllerVisual(i, "color")
      );
      o.silent = n, t.add(o);
    }, e.prototype._onItemClick = function(t) {
      var i = this.visualMapModel, a = i.option, n = a.selectedMode;
      if (n) {
        var o = Gt(a.selected), s = i.getSelectedMapKey(t);
        n === "single" || n === !0 ? (o[s] = !0, J(o, function(l, u) {
          o[u] = u === s;
        })) : o[s] = !o[s], this.api.dispatchAction({
          type: "selectDataRange",
          from: this.uid,
          visualMapId: this.visualMapModel.id,
          selected: o
        });
      }
    }, e.type = "visualMap.piecewise", e;
  }(CJ)
);
const QDe = JDe;
function kJ(r) {
  r.registerComponentModel(ZDe), r.registerComponentView(QDe), EJ(r);
}
function eke(r) {
  _r(DJ), _r(kJ);
}
var tke = (
  /** @class */
  function() {
    function r(e) {
      this._thumbnailModel = e;
    }
    return r.prototype.reset = function(e) {
      this._renderVersion = e.getMainProcessVersion();
    }, r.prototype.renderContent = function(e) {
      var t = e.api.getViewOfComponentModel(this._thumbnailModel);
      t && (e.group.silent = !0, t.renderContent({
        group: e.group,
        targetTrans: e.targetTrans,
        z2Range: HY(e.group),
        roamType: e.roamType,
        viewportRect: e.viewportRect,
        renderVersion: this._renderVersion
      }));
    }, r.prototype.updateWindow = function(e, t) {
      var i = t.getViewOfComponentModel(this._thumbnailModel);
      i && i.updateWindow({
        targetTrans: e,
        renderVersion: this._renderVersion
      });
    }, r;
  }()
), rke = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t.preventAutoZ = !0, t;
    }
    return e.prototype.optionUpdated = function(t, i) {
      this._updateBridge();
    }, e.prototype._updateBridge = function() {
      var t = this._birdge = this._birdge || new tke(this);
      if (this._target = null, this.ecModel.eachSeries(function(a) {
        RB(a, null);
      }), this.shouldShow()) {
        var i = this.getTarget();
        RB(i.baseMapProvider, t);
      }
    }, e.prototype.shouldShow = function() {
      return this.getShallow("show", !0);
    }, e.prototype.getBridge = function() {
      return this._birdge;
    }, e.prototype.getTarget = function() {
      if (this._target)
        return this._target;
      var t = this.getReferringComponents("series", {
        useDefault: !1,
        enableAll: !1,
        enableNone: !1
      }).models[0];
      return t ? t.subType !== "graph" && (t = null, process.env.NODE_ENV !== "production" && Nr("series." + t.subType + " is not supported in thumbnail.", !0)) : t = this.ecModel.queryComponents({
        mainType: "series",
        subType: "graph"
      })[0], this._target = {
        baseMapProvider: t
      }, this._target;
    }, e.type = "thumbnail", e.layoutMode = "box", e.dependencies = ["series", "geo"], e.defaultOption = {
      show: !0,
      right: 1,
      bottom: 1,
      height: "25%",
      width: "25%",
      itemStyle: {
        // Use echarts option.backgorundColor by default.
        borderColor: Ve.color.border,
        borderWidth: 2
      },
      windowStyle: {
        borderWidth: 1,
        color: Ve.color.neutral30,
        borderColor: Ve.color.neutral40,
        opacity: 0.3
      },
      z: 10
    }, e;
  }(Rr)
), nke = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = e.type, t;
    }
    return e.prototype.render = function(t, i, a) {
      if (this._api = a, this._model = t, this._coordSys || (this._coordSys = new Md()), !this._isEnabled()) {
        this._clear();
        return;
      }
      this._renderVersion = a.getMainProcessVersion();
      var n = this.group;
      n.removeAll();
      var o = t.getModel("itemStyle"), s = o.getItemStyle();
      s.fill == null && (s.fill = i.get("backgroundColor") || Ve.color.neutral00);
      var l = Wi(t, a).refContainer, u = Bn(uj(t, !0), l), c = s.lineWidth || 0, f = this._contentRect = td(u.clone(), c / 2, !0, !0), d = new Wt();
      n.add(d), d.setClipPath(new Cr({
        shape: f.plain()
      }));
      var p = this._targetGroup = new Wt();
      d.add(p);
      var v = u.plain();
      v.r = o.getShallow("borderRadius", !0), n.add(this._bgRect = new Cr({
        style: s,
        shape: v,
        silent: !1,
        cursor: "grab"
      }));
      var y = t.getModel("windowStyle"), _ = y.getShallow("borderRadius", !0);
      d.add(this._windowRect = new Cr({
        shape: {
          x: 0,
          y: 0,
          width: 0,
          height: 0,
          r: _
        },
        style: y.getItemStyle(),
        silent: !1,
        cursor: "grab"
      })), this._dealRenderContent(), this._dealUpdateWindow(), vG(t, this);
    }, e.prototype.renderContent = function(t) {
      this._bridgeRendered = t, this._isEnabled() && (this._dealRenderContent(), this._dealUpdateWindow(), vG(this._model, this));
    }, e.prototype._dealRenderContent = function() {
      var t = this._bridgeRendered;
      if (!(!t || t.renderVersion !== this._renderVersion)) {
        var i = this._targetGroup, a = this._coordSys, n = this._contentRect;
        if (i.removeAll(), !!t) {
          var o = t.group, s = o.getBoundingRect();
          i.add(o), this._bgRect.z2 = t.z2Range.min - 10, a.setBoundingRect(s.x, s.y, s.width, s.height);
          var l = Bn({
            left: "center",
            top: "center",
            aspect: s.width / s.height
          }, n);
          a.setViewRect(l.x, l.y, l.width, l.height), o.attr(a.getTransformInfo().raw), this._windowRect.z2 = t.z2Range.max + 10, this._resetRoamController(t.roamType);
        }
      }
    }, e.prototype.updateWindow = function(t) {
      var i = this._bridgeRendered;
      i && i.renderVersion === t.renderVersion && (i.targetTrans = t.targetTrans), this._isEnabled() && this._dealUpdateWindow();
    }, e.prototype._dealUpdateWindow = function() {
      var t = this._bridgeRendered;
      if (!(!t || t.renderVersion !== this._renderVersion)) {
        var i = us([], t.targetTrans), a = Ls([], this._coordSys.transform, i);
        this._transThisToTarget = us([], a);
        var n = t.viewportRect;
        n ? n = n.clone() : n = new Jt(0, 0, this._api.getWidth(), this._api.getHeight()), n.applyTransform(a);
        var o = this._windowRect, s = o.shape.r;
        o.setShape(Yt({
          r: s
        }, n));
      }
    }, e.prototype._resetRoamController = function(t) {
      var i = this, a = this._api, n = this._roamController;
      if (n || (n = this._roamController = new kd(a.getZr())), !t || !this._isEnabled()) {
        n.disable();
        return;
      }
      n.enable(t, {
        api: a,
        zInfo: {
          component: this._model
        },
        triggerInfo: {
          roamTrigger: null,
          isInSelf: function(o, s, l) {
            return i._contentRect.contain(s, l);
          }
        }
      }), n.off("pan").off("zoom").on("pan", mt(this._onPan, this)).on("zoom", mt(this._onZoom, this));
    }, e.prototype._onPan = function(t) {
      var i = this._transThisToTarget;
      if (!(!this._isEnabled() || !i)) {
        var a = li([], [t.oldX, t.oldY], i), n = li([], [t.oldX - t.dx, t.oldY - t.dy], i);
        this._api.dispatchAction(pG(this._model.getTarget().baseMapProvider, {
          dx: n[0] - a[0],
          dy: n[1] - a[1]
        }));
      }
    }, e.prototype._onZoom = function(t) {
      var i = this._transThisToTarget;
      if (!(!this._isEnabled() || !i)) {
        var a = li([], [t.originX, t.originY], i);
        this._api.dispatchAction(pG(this._model.getTarget().baseMapProvider, {
          zoom: 1 / t.scale,
          originX: a[0],
          originY: a[1]
        }));
      }
    }, e.prototype._isEnabled = function() {
      var t = this._model;
      if (!t || !t.shouldShow())
        return !1;
      var i = t.getTarget().baseMapProvider;
      return !!i;
    }, e.prototype._clear = function() {
      this.group.removeAll(), this._bridgeRendered = null, this._roamController && this._roamController.disable();
    }, e.prototype.remove = function() {
      this._clear();
    }, e.prototype.dispose = function() {
      this._clear();
    }, e.type = "thumbnail", e;
  }(Pn)
);
function pG(r, e) {
  var t = r.mainType === "series" ? r.subType + "Roam" : r.mainType + "Roam", i = {
    type: t
  };
  return i[r.mainType + "Id"] = r.id, $e(i, e), i;
}
function vG(r, e) {
  var t = rd(r);
  CS(e.group, t.z, t.zlevel);
}
function ike(r) {
  r.registerComponentModel(rke), r.registerComponentView(nke);
}
var ake = {
  label: {
    enabled: !0
  },
  decal: {
    show: !1
  }
}, gG = Ar(), oke = {};
function ske(r, e) {
  var t = r.getModel("aria");
  if (!t.get("enabled"))
    return;
  var i = Gt(ake);
  gr(i.label, r.getLocaleModel().get("aria"), !1), gr(t.option, i, !1), a(), n();
  function a() {
    var u = t.getModel("decal"), c = u.get("show");
    if (c) {
      var f = Pt();
      r.eachSeries(function(d) {
        if (!d.isColorBySeries()) {
          var p = f.get(d.type);
          p || (p = {}, f.set(d.type, p)), gG(d).scope = p;
        }
      }), r.eachRawSeries(function(d) {
        if (r.isSeriesFiltered(d))
          return;
        if (Bt(d.enableAriaDecal)) {
          d.enableAriaDecal();
          return;
        }
        var p = d.getData();
        if (d.isColorBySeries()) {
          var S = u6(d.ecModel, d.name, oke, r.getSeriesCount()), x = p.getVisual("decal");
          p.setVisual("decal", E(x, S));
        } else {
          var v = d.getRawData(), y = {}, _ = gG(d).scope;
          p.each(function(M) {
            var k = p.getRawIndex(M);
            y[k] = M;
          });
          var w = v.count();
          v.each(function(M) {
            var k = y[M], P = v.getName(M) || M + "", L = u6(d.ecModel, P, _, w), F = p.getItemVisual(k, "decal");
            p.setItemVisual(k, "decal", E(F, L));
          });
        }
        function E(M, k) {
          var P = M ? $e($e({}, k), M) : k;
          return P.dirty = !0, P;
        }
      });
    }
  }
  function n() {
    var u = e.getZr().dom;
    if (u) {
      var c = r.getLocaleModel().get("aria"), f = t.getModel("label");
      if (f.option = Yt(f.option, c), !!f.get("enabled")) {
        if (u.setAttribute("role", "img"), f.get("description")) {
          u.setAttribute("aria-label", f.get("description"));
          return;
        }
        var d = r.getSeriesCount(), p = f.get(["data", "maxCount"]) || 10, v = f.get(["series", "maxCount"]) || 10, y = Math.min(d, v), _;
        if (!(d < 1)) {
          var w = s();
          if (w) {
            var S = f.get(["general", "withTitle"]);
            _ = o(S, {
              title: w
            });
          } else
            _ = f.get(["general", "withoutTitle"]);
          var x = [], E = d > 1 ? f.get(["series", "multiple", "prefix"]) : f.get(["series", "single", "prefix"]);
          _ += o(E, {
            seriesCount: d
          }), r.eachSeries(function(L, F) {
            if (F < y) {
              var O = void 0, U = L.get("name"), V = U ? "withName" : "withoutName";
              O = d > 1 ? f.get(["series", "multiple", V]) : f.get(["series", "single", V]), O = o(O, {
                seriesId: L.seriesIndex,
                seriesName: L.get("name"),
                seriesType: l(L.subType)
              });
              var G = L.getData();
              if (G.count() > p) {
                var Z = f.get(["data", "partialData"]);
                O += o(Z, {
                  displayCnt: p
                });
              } else
                O += f.get(["data", "allData"]);
              for (var Q = f.get(["data", "separator", "middle"]), se = f.get(["data", "separator", "end"]), de = f.get(["data", "excludeDimensionId"]), le = [], Se = 0; Se < G.count(); Se++)
                if (Se < p) {
                  var he = G.getName(Se), fe = de ? Xr(G.getValues(Se), function(we, ve) {
                    return dr(de, ve) === -1;
                  }) : G.getValues(Se), K = f.get(["data", he ? "withName" : "withoutName"]);
                  le.push(o(K, {
                    name: he,
                    value: fe.join(Q)
                  }));
                }
              O += le.join(Q) + se, x.push(O);
            }
          });
          var M = f.getModel(["series", "multiple", "separator"]), k = M.get("middle"), P = M.get("end");
          _ += x.join(k) + P, u.setAttribute("aria-label", _);
        }
      }
    }
  }
  function o(u, c) {
    if (!vt(u))
      return u;
    var f = u;
    return J(c, function(d, p) {
      f = f.replace(new RegExp("\\{\\s*" + p + "\\s*\\}", "g"), d);
    }), f;
  }
  function s() {
    var u = r.get("title");
    return u && u.length && (u = u[0]), u && u.text;
  }
  function l(u) {
    var c = r.getLocaleModel().get(["series", "typeNames"]);
    return c[u] || c.chart;
  }
}
function lke(r) {
  if (!(!r || !r.aria)) {
    var e = r.aria;
    e.show != null && (e.enabled = e.show), e.label = e.label || {}, J(["description", "general", "series", "data"], function(t) {
      e[t] != null && (e.label[t] = e[t]);
    });
  }
}
function uke(r) {
  r.registerPreprocessor(lke), r.registerVisual(r.PRIORITY.VISUAL.ARIA, ske);
}
var mG = {
  value: "eq",
  // PENDING: not good for literal semantic?
  "<": "lt",
  "<=": "lte",
  ">": "gt",
  ">=": "gte",
  "=": "eq",
  "!=": "ne",
  "<>": "ne"
  // Might be misleading for sake of the difference between '==' and '===',
  // so don't support them.
  // '==': 'eq',
  // '===': 'seq',
  // '!==': 'sne'
  // PENDING: Whether support some common alias "ge", "le", "neq"?
  // ge: 'gte',
  // le: 'lte',
  // neq: 'ne',
}, cke = (
  /** @class */
  function() {
    function r(e) {
      var t = this._condVal = vt(e) ? new RegExp(e) : w8(e) ? e : null;
      if (t == null) {
        var i = "";
        process.env.NODE_ENV !== "production" && (i = to("Illegal regexp", e, "in")), en(i);
      }
    }
    return r.prototype.evaluate = function(e) {
      var t = typeof e;
      return vt(t) ? this._condVal.test(e) : Or(t) ? this._condVal.test(e + "") : !1;
    }, r;
  }()
), hke = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.evaluate = function() {
      return this.value;
    }, r;
  }()
), fke = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.evaluate = function() {
      for (var e = this.children, t = 0; t < e.length; t++)
        if (!e[t].evaluate())
          return !1;
      return !0;
    }, r;
  }()
), dke = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.evaluate = function() {
      for (var e = this.children, t = 0; t < e.length; t++)
        if (e[t].evaluate())
          return !0;
      return !1;
    }, r;
  }()
), pke = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.evaluate = function() {
      return !this.child.evaluate();
    }, r;
  }()
), vke = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.evaluate = function() {
      for (var e = !!this.valueParser, t = this.getValue, i = t(this.valueGetterParam), a = e ? this.valueParser(i) : null, n = 0; n < this.subCondList.length; n++)
        if (!this.subCondList[n].evaluate(e ? a : i))
          return !1;
      return !0;
    }, r;
  }()
);
function Kk(r, e) {
  if (r === !0 || r === !1) {
    var t = new hke();
    return t.value = r, t;
  }
  var i = "";
  return MJ(r) || (process.env.NODE_ENV !== "production" && (i = to("Illegal config. Expect a plain object but actually", r)), en(i)), r.and ? yG("and", r, e) : r.or ? yG("or", r, e) : r.not ? gke(r, e) : mke(r, e);
}
function yG(r, e, t) {
  var i = e[r], a = "";
  process.env.NODE_ENV !== "production" && (a = to('"and"/"or" condition should only be `' + r + ": [...]` and must not be empty array.", "Illegal condition:", e)), Ke(i) || en(a), i.length || en(a);
  var n = r === "and" ? new fke() : new dke();
  return n.children = Je(i, function(o) {
    return Kk(o, t);
  }), n.children.length || en(a), n;
}
function gke(r, e) {
  var t = r.not, i = "";
  process.env.NODE_ENV !== "production" && (i = to('"not" condition should only be `not: {}`.', "Illegal condition:", r)), MJ(t) || en(i);
  var a = new pke();
  return a.child = Kk(t, e), a.child || en(i), a;
}
function mke(r, e) {
  for (var t = "", i = e.prepareGetValue(r), a = [], n = Ir(r), o = r.parser, s = o ? Pj(o) : null, l = 0; l < n.length; l++) {
    var u = n[l];
    if (!(u === "parser" || e.valueGetterAttrMap.get(u))) {
      var c = xt(mG, u) ? mG[u] : u, f = r[u], d = s ? s(f) : f, p = bve(c, d) || c === "reg" && new cke(d);
      p || (process.env.NODE_ENV !== "production" && (t = to('Illegal relational operation: "' + u + '" in condition:', r)), en(t)), a.push(p);
    }
  }
  a.length || (process.env.NODE_ENV !== "production" && (t = to("Relational condition must have at least one operator.", "Illegal condition:", r)), en(t));
  var v = new vke();
  return v.valueGetterParam = i, v.valueParser = s, v.getValue = e.getValue, v.subCondList = a, v;
}
function MJ(r) {
  return zt(r) && !ba(r);
}
var yke = (
  /** @class */
  function() {
    function r(e, t) {
      this._cond = Kk(e, t);
    }
    return r.prototype.evaluate = function() {
      return this._cond.evaluate();
    }, r;
  }()
);
function _ke(r, e) {
  return new yke(r, e);
}
var bke = {
  type: "echarts:filter",
  // PENDING: enhance to filter by index rather than create new data
  transform: function(r) {
    for (var e = r.upstream, t, i = _ke(r.config, {
      valueGetterAttrMap: Pt({
        dimension: !0
      }),
      prepareGetValue: function(s) {
        var l = "", u = s.dimension;
        xt(s, "dimension") || (process.env.NODE_ENV !== "production" && (l = to('Relation condition must has prop "dimension" specified.', "Illegal condition:", s)), en(l));
        var c = e.getDimensionInfo(u);
        return c || (process.env.NODE_ENV !== "production" && (l = to("Can not find dimension info via: " + u + `.
`, "Existing dimensions: ", e.cloneAllDimensionInfo(), `.
`, "Illegal condition:", s, `.
`)), en(l)), {
          dimIdx: c.index
        };
      },
      getValue: function(s) {
        return e.retrieveValueFromItem(t, s.dimIdx);
      }
    }), a = [], n = 0, o = e.count(); n < o; n++)
      t = e.getRawDataItem(n), i.evaluate() && a.push(t);
    return {
      data: a
    };
  }
}, bE = "";
process.env.NODE_ENV !== "production" && (bE = ["Valid config is like:", '{ dimension: "age", order: "asc" }', 'or [{ dimension: "age", order: "asc"], { dimension: "date", order: "desc" }]'].join(" "));
var wke = {
  type: "echarts:sort",
  transform: function(r) {
    var e = r.upstream, t = r.config, i = "", a = xn(t);
    a.length || (process.env.NODE_ENV !== "production" && (i = "Empty `config` in sort transform."), en(i));
    var n = [];
    J(a, function(c) {
      var f = c.dimension, d = c.order, p = c.parser, v = c.incomparable;
      if (f == null && (process.env.NODE_ENV !== "production" && (i = 'Sort transform config must has "dimension" specified.' + bE), en(i)), d !== "asc" && d !== "desc" && (process.env.NODE_ENV !== "production" && (i = 'Sort transform config must has "order" specified.' + bE), en(i)), v && v !== "min" && v !== "max") {
        var y = "";
        process.env.NODE_ENV !== "production" && (y = 'incomparable must be "min" or "max" rather than "' + v + '".'), en(y);
      }
      if (d !== "asc" && d !== "desc") {
        var _ = "";
        process.env.NODE_ENV !== "production" && (_ = 'order must be "asc" or "desc" rather than "' + d + '".'), en(_);
      }
      var w = e.getDimensionInfo(f);
      w || (process.env.NODE_ENV !== "production" && (i = to("Can not find dimension info via: " + f + `.
`, "Existing dimensions: ", e.cloneAllDimensionInfo(), `.
`, "Illegal config:", c, `.
`)), en(i));
      var S = p ? Pj(p) : null;
      p && !S && (process.env.NODE_ENV !== "production" && (i = to("Invalid parser name " + p + `.
`, "Illegal config:", c, `.
`)), en(i)), n.push({
        dimIdx: w.index,
        parser: S,
        comparator: new Lj(d, v)
      });
    });
    var o = e.sourceFormat;
    o !== ca && o !== Ro && (process.env.NODE_ENV !== "production" && (i = 'sourceFormat "' + o + '" is not supported yet'), en(i));
    for (var s = [], l = 0, u = e.count(); l < u; l++)
      s.push(e.getRawDataItem(l));
    return s.sort(function(c, f) {
      for (var d = 0; d < n.length; d++) {
        var p = n[d], v = e.retrieveValueFromItem(c, p.dimIdx), y = e.retrieveValueFromItem(f, p.dimIdx);
        p.parser && (v = p.parser(v), y = p.parser(y));
        var _ = p.comparator.evaluate(v, y);
        if (_ !== 0)
          return _;
      }
      return 0;
    }), {
      data: s
    };
  }
};
function Ske(r) {
  r.registerTransform(bke), r.registerTransform(wke);
}
var xke = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = "dataset", t;
    }
    return e.prototype.init = function(t, i, a) {
      r.prototype.init.call(this, t, i, a), this._sourceManager = new Bj(this), $O(this);
    }, e.prototype.mergeOption = function(t, i) {
      r.prototype.mergeOption.call(this, t, i), $O(this);
    }, e.prototype.optionUpdated = function() {
      this._sourceManager.dirty();
    }, e.prototype.getSourceManager = function() {
      return this._sourceManager;
    }, e.type = "dataset", e.defaultOption = {
      seriesLayoutBy: Ns
    }, e;
  }(Rr)
), Tke = (
  /** @class */
  function(r) {
    Ge(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.type = "dataset", t;
    }
    return e.type = "dataset", e;
  }(Pn)
);
function Cke(r) {
  r.registerComponentModel(xke), r.registerComponentView(Tke);
}
var cl = Il.CMD;
function Wp(r, e) {
  return Math.abs(r - e) < 1e-5;
}
function wE(r) {
  var e = r.data, t = r.len(), i = [], a, n = 0, o = 0, s = 0, l = 0;
  function u(G, Z) {
    a && a.length > 2 && i.push(a), a = [G, Z];
  }
  function c(G, Z, Q, se) {
    Wp(G, Q) && Wp(Z, se) || a.push(G, Z, Q, se, Q, se);
  }
  function f(G, Z, Q, se, de, le) {
    var Se = Math.abs(Z - G), he = Math.tan(Se / 4) * 4 / 3, fe = Z < G ? -1 : 1, K = Math.cos(G), we = Math.sin(G), ve = Math.cos(Z), De = Math.sin(Z), Ie = K * de + Q, q = we * le + se, re = ve * de + Q, be = De * le + se, te = de * he * fe, ne = le * he * fe;
    a.push(Ie - te * we, q + ne * K, re + te * De, be - ne * ve, re, be);
  }
  for (var d, p, v, y, _ = 0; _ < t; ) {
    var w = e[_++], S = _ === 1;
    switch (S && (n = e[_], o = e[_ + 1], s = n, l = o, (w === cl.L || w === cl.C || w === cl.Q) && (a = [s, l])), w) {
      case cl.M:
        n = s = e[_++], o = l = e[_++], u(s, l);
        break;
      case cl.L:
        d = e[_++], p = e[_++], c(n, o, d, p), n = d, o = p;
        break;
      case cl.C:
        a.push(e[_++], e[_++], e[_++], e[_++], n = e[_++], o = e[_++]);
        break;
      case cl.Q:
        d = e[_++], p = e[_++], v = e[_++], y = e[_++], a.push(n + 2 / 3 * (d - n), o + 2 / 3 * (p - o), v + 2 / 3 * (d - v), y + 2 / 3 * (p - y), v, y), n = v, o = y;
        break;
      case cl.A:
        var x = e[_++], E = e[_++], M = e[_++], k = e[_++], P = e[_++], L = e[_++] + P;
        _ += 1;
        var F = !e[_++];
        d = Math.cos(P) * M + x, p = Math.sin(P) * k + E, S ? (s = d, l = p, u(s, l)) : c(n, o, d, p), n = Math.cos(L) * M + x, o = Math.sin(L) * k + E;
        for (var O = (F ? -1 : 1) * Math.PI / 2, U = P; F ? U > L : U < L; U += O) {
          var V = F ? Math.max(U + O, L) : Math.min(U + O, L);
          f(U, V, x, E, M, k);
        }
        break;
      case cl.R:
        s = n = e[_++], l = o = e[_++], d = s + e[_++], p = l + e[_++], u(d, l), c(d, l, d, p), c(d, p, s, p), c(s, p, s, l), c(s, l, d, l);
        break;
      case cl.Z:
        a && c(n, o, s, l), n = s, o = l;
        break;
    }
  }
  return a && a.length > 2 && i.push(a), i;
}
function SE(r, e, t, i, a, n, o, s, l, u) {
  if (Wp(r, t) && Wp(e, i) && Wp(a, o) && Wp(n, s)) {
    l.push(o, s);
    return;
  }
  var c = 2 / u, f = c * c, d = o - r, p = s - e, v = Math.sqrt(d * d + p * p);
  d /= v, p /= v;
  var y = t - r, _ = i - e, w = a - o, S = n - s, x = y * y + _ * _, E = w * w + S * S;
  if (x < f && E < f) {
    l.push(o, s);
    return;
  }
  var M = d * y + p * _, k = -d * w - p * S, P = x - M * M, L = E - k * k;
  if (P < f && M >= 0 && L < f && k >= 0) {
    l.push(o, s);
    return;
  }
  var F = [], O = [];
  Xc(r, t, a, o, 0.5, F), Xc(e, i, n, s, 0.5, O), SE(F[0], O[0], F[1], O[1], F[2], O[2], F[3], O[3], l, u), SE(F[4], O[4], F[5], O[5], F[6], O[6], F[7], O[7], l, u);
}
function Ake(r, e) {
  var t = wE(r), i = [];
  e = e || 1;
  for (var a = 0; a < t.length; a++) {
    var n = t[a], o = [], s = n[0], l = n[1];
    o.push(s, l);
    for (var u = 2; u < n.length; ) {
      var c = n[u++], f = n[u++], d = n[u++], p = n[u++], v = n[u++], y = n[u++];
      SE(s, l, c, f, d, p, v, y, o, e), s = v, l = y;
    }
    i.push(o);
  }
  return i;
}
function IJ(r, e, t) {
  var i = r[e], a = r[1 - e], n = Math.abs(i / a), o = Math.ceil(Math.sqrt(n * t)), s = Math.floor(t / o);
  s === 0 && (s = 1, o = t);
  for (var l = [], u = 0; u < o; u++)
    l.push(s);
  var c = o * s, f = t - c;
  if (f > 0)
    for (var u = 0; u < f; u++)
      l[u % o] += 1;
  return l;
}
function _G(r, e, t) {
  for (var i = r.r0, a = r.r, n = r.startAngle, o = r.endAngle, s = Math.abs(o - n), l = s * a, u = a - i, c = l > Math.abs(u), f = IJ([l, u], c ? 0 : 1, e), d = (c ? s : u) / f.length, p = 0; p < f.length; p++)
    for (var v = (c ? u : s) / f[p], y = 0; y < f[p]; y++) {
      var _ = {};
      c ? (_.startAngle = n + d * p, _.endAngle = n + d * (p + 1), _.r0 = i + v * y, _.r = i + v * (y + 1)) : (_.startAngle = n + v * y, _.endAngle = n + v * (y + 1), _.r0 = i + d * p, _.r = i + d * (p + 1)), _.clockwise = r.clockwise, _.cx = r.cx, _.cy = r.cy, t.push(_);
    }
}
function Eke(r, e, t) {
  for (var i = r.width, a = r.height, n = i > a, o = IJ([i, a], n ? 0 : 1, e), s = n ? "width" : "height", l = n ? "height" : "width", u = n ? "x" : "y", c = n ? "y" : "x", f = r[s] / o.length, d = 0; d < o.length; d++)
    for (var p = r[l] / o[d], v = 0; v < o[d]; v++) {
      var y = {};
      y[u] = d * f, y[c] = v * p, y[s] = f, y[l] = p, y.x += r.x, y.y += r.y, t.push(y);
    }
}
function bG(r, e, t, i) {
  return r * i - t * e;
}
function Dke(r, e, t, i, a, n, o, s) {
  var l = t - r, u = i - e, c = o - a, f = s - n, d = bG(c, f, l, u);
  if (Math.abs(d) < 1e-6)
    return null;
  var p = r - a, v = e - n, y = bG(p, v, c, f) / d;
  return y < 0 || y > 1 ? null : new Xt(y * l + r, y * u + e);
}
function kke(r, e, t) {
  var i = new Xt();
  Xt.sub(i, t, e), i.normalize();
  var a = new Xt();
  Xt.sub(a, r, e);
  var n = a.dot(i);
  return n;
}
function Ap(r, e) {
  var t = r[r.length - 1];
  t && t[0] === e[0] && t[1] === e[1] || r.push(e);
}
function Mke(r, e, t) {
  for (var i = r.length, a = [], n = 0; n < i; n++) {
    var o = r[n], s = r[(n + 1) % i], l = Dke(o[0], o[1], s[0], s[1], e.x, e.y, t.x, t.y);
    l && a.push({
      projPt: kke(l, e, t),
      pt: l,
      idx: n
    });
  }
  if (a.length < 2)
    return [{ points: r }, { points: r }];
  a.sort(function(_, w) {
    return _.projPt - w.projPt;
  });
  var u = a[0], c = a[a.length - 1];
  if (c.idx < u.idx) {
    var f = u;
    u = c, c = f;
  }
  for (var d = [u.pt.x, u.pt.y], p = [c.pt.x, c.pt.y], v = [d], y = [p], n = u.idx + 1; n <= c.idx; n++)
    Ap(v, r[n].slice());
  Ap(v, p), Ap(v, d);
  for (var n = c.idx + 1; n <= u.idx + i; n++)
    Ap(y, r[n % i].slice());
  return Ap(y, d), Ap(y, p), [{
    points: v
  }, {
    points: y
  }];
}
function wG(r) {
  var e = r.points, t = [], i = [];
  mS(e, t, i);
  var a = new Jt(t[0], t[1], i[0] - t[0], i[1] - t[1]), n = a.width, o = a.height, s = a.x, l = a.y, u = new Xt(), c = new Xt();
  return n > o ? (u.x = c.x = s + n / 2, u.y = l, c.y = l + o) : (u.y = c.y = l + o / 2, u.x = s, c.x = s + n), Mke(e, u, c);
}
function Hb(r, e, t, i) {
  if (t === 1)
    i.push(e);
  else {
    var a = Math.floor(t / 2), n = r(e);
    Hb(r, n[0], a, i), Hb(r, n[1], t - a, i);
  }
  return i;
}
function Ike(r, e) {
  for (var t = [], i = 0; i < e; i++)
    t.push($8(r));
  return t;
}
function Pke(r, e) {
  e.setStyle(r.style), e.z = r.z, e.z2 = r.z2, e.zlevel = r.zlevel;
}
function Rke(r) {
  for (var e = [], t = 0; t < r.length; )
    e.push([r[t++], r[t++]]);
  return e;
}
function Lke(r, e) {
  var t = [], i = r.shape, a;
  switch (r.type) {
    case "rect":
      Eke(i, e, t), a = Cr;
      break;
    case "sector":
      _G(i, e, t), a = Wa;
      break;
    case "circle":
      _G({
        r0: 0,
        r: i.r,
        startAngle: 0,
        endAngle: Math.PI * 2,
        cx: i.cx,
        cy: i.cy
      }, e, t), a = Wa;
      break;
    default:
      var n = r.getComputedTransform(), o = n ? Math.sqrt(Math.max(n[0] * n[0] + n[1] * n[1], n[2] * n[2] + n[3] * n[3])) : 1, s = Je(Ake(r.getUpdatedPathProxy(), o), function(w) {
        return Rke(w);
      }), l = s.length;
      if (l === 0)
        Hb(wG, {
          points: s[0]
        }, e, t);
      else if (l === e)
        for (var u = 0; u < l; u++)
          t.push({
            points: s[u]
          });
      else {
        var c = 0, f = Je(s, function(w) {
          var S = [], x = [];
          mS(w, S, x);
          var E = (x[1] - S[1]) * (x[0] - S[0]);
          return c += E, { poly: w, area: E };
        });
        f.sort(function(w, S) {
          return S.area - w.area;
        });
        for (var d = e, u = 0; u < l; u++) {
          var p = f[u];
          if (d <= 0)
            break;
          var v = u === l - 1 ? d : Math.ceil(p.area / c * e);
          v < 0 || (Hb(wG, {
            points: p.poly
          }, v, t), d -= v);
        }
      }
      a = Ha;
      break;
  }
  if (!a)
    return Ike(r, e);
  for (var y = [], u = 0; u < t.length; u++) {
    var _ = new a();
    _.setShape(t[u]), Pke(r, _), y.push(_);
  }
  return y;
}
function Oke(r, e) {
  var t = r.length, i = e.length;
  if (t === i)
    return [r, e];
  for (var a = [], n = [], o = t < i ? r : e, s = Math.min(t, i), l = Math.abs(i - t) / 6, u = (s - 2) / 6, c = Math.ceil(l / u) + 1, f = [o[0], o[1]], d = l, p = 2; p < s; ) {
    var v = o[p - 2], y = o[p - 1], _ = o[p++], w = o[p++], S = o[p++], x = o[p++], E = o[p++], M = o[p++];
    if (d <= 0) {
      f.push(_, w, S, x, E, M);
      continue;
    }
    for (var k = Math.min(d, c - 1) + 1, P = 1; P <= k; P++) {
      var L = P / k;
      Xc(v, _, S, E, L, a), Xc(y, w, x, M, L, n), v = a[3], y = n[3], f.push(a[1], n[1], a[2], n[2], v, y), _ = a[5], w = n[5], S = a[6], x = n[6];
    }
    d -= k - 1;
  }
  return o === r ? [f, e] : [r, f];
}
function SG(r, e) {
  for (var t = r.length, i = r[t - 2], a = r[t - 1], n = [], o = 0; o < e.length; )
    n[o++] = i, n[o++] = a;
  return n;
}
function Fke(r, e) {
  for (var t, i, a, n = [], o = [], s = 0; s < Math.max(r.length, e.length); s++) {
    var l = r[s], u = e[s], c = void 0, f = void 0;
    l ? u ? (t = Oke(l, u), c = t[0], f = t[1], i = c, a = f) : (f = SG(a || l, l), c = l) : (c = SG(i || u, u), f = u), n.push(c), o.push(f);
  }
  return [n, o];
}
function xG(r) {
  for (var e = 0, t = 0, i = 0, a = r.length, n = 0, o = a - 2; n < a; o = n, n += 2) {
    var s = r[o], l = r[o + 1], u = r[n], c = r[n + 1], f = s * c - u * l;
    e += f, t += (s + u) * f, i += (l + c) * f;
  }
  return e === 0 ? [r[0] || 0, r[1] || 0] : [t / e / 3, i / e / 3, e];
}
function Nke(r, e, t, i) {
  for (var a = (r.length - 2) / 6, n = 1 / 0, o = 0, s = r.length, l = s - 2, u = 0; u < a; u++) {
    for (var c = u * 6, f = 0, d = 0; d < s; d += 2) {
      var p = d === 0 ? c : (c + d - 2) % l + 2, v = r[p] - t[0], y = r[p + 1] - t[1], _ = e[d] - i[0], w = e[d + 1] - i[1], S = _ - v, x = w - y;
      f += S * S + x * x;
    }
    f < n && (n = f, o = u);
  }
  return o;
}
function Bke(r) {
  for (var e = [], t = r.length, i = 0; i < t; i += 2)
    e[i] = r[t - i - 2], e[i + 1] = r[t - i - 1];
  return e;
}
function Vke(r, e, t, i) {
  for (var a = [], n, o = 0; o < r.length; o++) {
    var s = r[o], l = e[o], u = xG(s), c = xG(l);
    n == null && (n = u[2] < 0 != c[2] < 0);
    var f = [], d = [], p = 0, v = 1 / 0, y = [], _ = s.length;
    n && (s = Bke(s));
    for (var w = Nke(s, l, u, c) * 6, S = _ - 2, x = 0; x < S; x += 2) {
      var E = (w + x) % S + 2;
      f[x + 2] = s[E] - u[0], f[x + 3] = s[E + 1] - u[1];
    }
    if (f[0] = s[w] - u[0], f[1] = s[w + 1] - u[1], t > 0)
      for (var M = i / t, k = -i / 2; k <= i / 2; k += M) {
        for (var P = Math.sin(k), L = Math.cos(k), F = 0, x = 0; x < s.length; x += 2) {
          var O = f[x], U = f[x + 1], V = l[x] - c[0], G = l[x + 1] - c[1], Z = V * L - G * P, Q = V * P + G * L;
          y[x] = Z, y[x + 1] = Q;
          var se = Z - O, de = Q - U;
          F += se * se + de * de;
        }
        if (F < v) {
          v = F, p = k;
          for (var le = 0; le < y.length; le++)
            d[le] = y[le];
        }
      }
    else
      for (var Se = 0; Se < _; Se += 2)
        d[Se] = l[Se] - c[0], d[Se + 1] = l[Se + 1] - c[1];
    a.push({
      from: f,
      to: d,
      fromCp: u,
      toCp: c,
      rotation: -p
    });
  }
  return a;
}
function $b(r) {
  return r.__isCombineMorphing;
}
var PJ = "__mOriginal_";
function Yb(r, e, t) {
  var i = PJ + e, a = r[i] || r[e];
  r[i] || (r[i] = r[e]);
  var n = t.replace, o = t.after, s = t.before;
  r[e] = function() {
    var l = arguments, u;
    return s && s.apply(this, l), n ? u = n.apply(this, l) : u = a.apply(this, l), o && o.apply(this, l), u;
  };
}
function Qg(r, e) {
  var t = PJ + e;
  r[t] && (r[e] = r[t], r[t] = null);
}
function TG(r, e) {
  for (var t = 0; t < r.length; t++)
    for (var i = r[t], a = 0; a < i.length; ) {
      var n = i[a], o = i[a + 1];
      i[a++] = e[0] * n + e[2] * o + e[4], i[a++] = e[1] * n + e[3] * o + e[5];
    }
}
function RJ(r, e) {
  var t = r.getUpdatedPathProxy(), i = e.getUpdatedPathProxy(), a = Fke(wE(t), wE(i)), n = a[0], o = a[1], s = r.getComputedTransform(), l = e.getComputedTransform();
  function u() {
    this.transform = null;
  }
  s && TG(n, s), l && TG(o, l), Yb(e, "updateTransform", { replace: u }), e.transform = null;
  var c = Vke(n, o, 10, Math.PI), f = [];
  Yb(e, "buildPath", { replace: function(d) {
    for (var p = e.__morphT, v = 1 - p, y = [], _ = 0; _ < c.length; _++) {
      var w = c[_], S = w.from, x = w.to, E = w.rotation * p, M = w.fromCp, k = w.toCp, P = Math.sin(E), L = Math.cos(E);
      Gg(y, M, k, p);
      for (var F = 0; F < S.length; F += 2) {
        var O = S[F], U = S[F + 1], V = x[F], G = x[F + 1], Z = O * v + V * p, Q = U * v + G * p;
        f[F] = Z * L - Q * P + y[0], f[F + 1] = Z * P + Q * L + y[1];
      }
      var se = f[0], de = f[1];
      d.moveTo(se, de);
      for (var F = 2; F < S.length; ) {
        var V = f[F++], G = f[F++], le = f[F++], Se = f[F++], he = f[F++], fe = f[F++];
        se === V && de === G && le === he && Se === fe ? d.lineTo(he, fe) : d.bezierCurveTo(V, G, le, Se, he, fe), se = he, de = fe;
      }
    }
  } });
}
function Zk(r, e, t) {
  if (!r || !e)
    return e;
  var i = t.done, a = t.during;
  RJ(r, e), e.__morphT = 0;
  function n() {
    Qg(e, "buildPath"), Qg(e, "updateTransform"), e.__morphT = -1, e.createPathProxy(), e.dirtyShape();
  }
  return e.animateTo({
    __morphT: 1
  }, Yt({
    during: function(o) {
      e.dirtyShape(), a && a(o);
    },
    done: function() {
      n(), i && i();
    }
  }, t)), e;
}
function Uke(r, e, t, i, a, n) {
  var o = 16;
  r = a === t ? 0 : Math.round(32767 * (r - t) / (a - t)), e = n === i ? 0 : Math.round(32767 * (e - i) / (n - i));
  for (var s = 0, l, u = (1 << o) / 2; u > 0; u /= 2) {
    var c = 0, f = 0;
    (r & u) > 0 && (c = 1), (e & u) > 0 && (f = 1), s += u * u * (3 * c ^ f), f === 0 && (c === 1 && (r = u - 1 - r, e = u - 1 - e), l = r, r = e, e = l);
  }
  return s;
}
function jb(r) {
  var e = 1 / 0, t = 1 / 0, i = -1 / 0, a = -1 / 0, n = Je(r, function(s) {
    var l = s.getBoundingRect(), u = s.getComputedTransform(), c = l.x + l.width / 2 + (u ? u[4] : 0), f = l.y + l.height / 2 + (u ? u[5] : 0);
    return e = Math.min(c, e), t = Math.min(f, t), i = Math.max(c, i), a = Math.max(f, a), [c, f];
  }), o = Je(n, function(s, l) {
    return {
      cp: s,
      z: Uke(s[0], s[1], e, t, i, a),
      path: r[l]
    };
  });
  return o.sort(function(s, l) {
    return s.z - l.z;
  }).map(function(s) {
    return s.path;
  });
}
function LJ(r) {
  return Lke(r.path, r.count);
}
function xE() {
  return {
    fromIndividuals: [],
    toIndividuals: [],
    count: 0
  };
}
function Gke(r, e, t) {
  var i = [];
  function a(M) {
    for (var k = 0; k < M.length; k++) {
      var P = M[k];
      $b(P) ? a(P.childrenRef()) : P instanceof Er && i.push(P);
    }
  }
  a(r);
  var n = i.length;
  if (!n)
    return xE();
  var o = t.dividePath || LJ, s = o({
    path: e,
    count: n
  });
  if (s.length !== n)
    return console.error("Invalid morphing: unmatched splitted path"), xE();
  i = jb(i), s = jb(s);
  for (var l = t.done, u = t.during, c = t.individualDelay, f = new _u(), d = 0; d < n; d++) {
    var p = i[d], v = s[d];
    v.parent = e, v.copyTransform(f), c || RJ(p, v);
  }
  e.__isCombineMorphing = !0, e.childrenRef = function() {
    return s;
  };
  function y(M) {
    for (var k = 0; k < s.length; k++)
      s[k].addSelfToZr(M);
  }
  Yb(e, "addSelfToZr", {
    after: function(M) {
      y(M);
    }
  }), Yb(e, "removeSelfFromZr", {
    after: function(M) {
      for (var k = 0; k < s.length; k++)
        s[k].removeSelfFromZr(M);
    }
  });
  function _() {
    e.__isCombineMorphing = !1, e.__morphT = -1, e.childrenRef = null, Qg(e, "addSelfToZr"), Qg(e, "removeSelfFromZr");
  }
  var w = s.length;
  if (c)
    for (var S = w, x = function() {
      S--, S === 0 && (_(), l && l());
    }, d = 0; d < w; d++) {
      var E = c ? Yt({
        delay: (t.delay || 0) + c(d, w, i[d], s[d]),
        done: x
      }, t) : t;
      Zk(i[d], s[d], E);
    }
  else
    e.__morphT = 0, e.animateTo({
      __morphT: 1
    }, Yt({
      during: function(M) {
        for (var k = 0; k < w; k++) {
          var P = s[k];
          P.__morphT = e.__morphT, P.dirtyShape();
        }
        u && u(M);
      },
      done: function() {
        _();
        for (var M = 0; M < r.length; M++)
          Qg(r[M], "updateTransform");
        l && l();
      }
    }, t));
  return e.__zr && y(e.__zr), {
    fromIndividuals: i,
    toIndividuals: s,
    count: w
  };
}
function zke(r, e, t) {
  var i = e.length, a = [], n = t.dividePath || LJ;
  function o(p) {
    for (var v = 0; v < p.length; v++) {
      var y = p[v];
      $b(y) ? o(y.childrenRef()) : y instanceof Er && a.push(y);
    }
  }
  if ($b(r)) {
    o(r.childrenRef());
    var s = a.length;
    if (s < i)
      for (var l = 0, u = s; u < i; u++)
        a.push($8(a[l++ % s]));
    a.length = i;
  } else {
    a = n({ path: r, count: i });
    for (var c = r.getComputedTransform(), u = 0; u < a.length; u++)
      a[u].setLocalTransform(c);
    if (a.length !== i)
      return console.error("Invalid morphing: unmatched splitted path"), xE();
  }
  a = jb(a), e = jb(e);
  for (var f = t.individualDelay, u = 0; u < i; u++) {
    var d = f ? Yt({
      delay: (t.delay || 0) + f(u, i, a[u], e[u])
    }, t) : t;
    Zk(a[u], e[u], d);
  }
  return {
    fromIndividuals: a,
    toIndividuals: e,
    count: e.length
  };
}
function CG(r) {
  return Ke(r[0]);
}
function AG(r, e) {
  for (var t = [], i = r.length, a = 0; a < i; a++)
    t.push({
      one: r[a],
      many: []
    });
  for (var a = 0; a < e.length; a++) {
    var n = e[a].length, o = void 0;
    for (o = 0; o < n; o++)
      t[o % i].many.push(e[a][o]);
  }
  for (var s = 0, a = i - 1; a >= 0; a--)
    if (!t[a].many.length) {
      var l = t[s].many;
      if (l.length <= 1)
        if (s)
          s = 0;
        else
          return t;
      var n = l.length, u = Math.ceil(n / 2);
      t[a].many = l.slice(u, n), t[s].many = l.slice(0, u), s++;
    }
  return t;
}
var Wke = {
  clone: function(r) {
    for (var e = [], t = 1 - Math.pow(1 - r.path.style.opacity, 1 / r.count), i = 0; i < r.count; i++) {
      var a = $8(r.path);
      a.setStyle("opacity", t), e.push(a);
    }
    return e;
  },
  // Use the default divider
  split: null
};
function ST(r, e, t, i, a, n) {
  if (!r.length || !e.length)
    return;
  var o = L0("update", i, a);
  if (!(o && o.duration > 0))
    return;
  var s = i.getModel("universalTransition").get("delay"), l = Object.assign({
    // Need to setToFinal so the further calculation based on the style can be correct.
    // Like emphasis color.
    setToFinal: !0
  }, o), u, c;
  CG(r) && (u = r, c = e), CG(e) && (u = e, c = r);
  function f(w, S, x, E, M) {
    var k = w.many, P = w.one;
    if (k.length === 1 && !M) {
      var L = S ? k[0] : P, F = S ? P : k[0];
      if ($b(L))
        f({
          many: [L],
          one: F
        }, !0, x, E, !0);
      else {
        var O = s ? Yt({
          delay: s(x, E)
        }, l) : l;
        Zk(L, F, O), n(L, F, L, F, O);
      }
    } else
      for (var U = Yt({
        dividePath: Wke[t],
        individualDelay: s && function(de, le, Se, he) {
          return s(de + x, E);
        }
      }, l), V = S ? Gke(k, P, U) : zke(P, k, U), G = V.fromIndividuals, Z = V.toIndividuals, Q = G.length, se = 0; se < Q; se++) {
        var O = s ? Yt({
          delay: s(se, Q)
        }, l) : l;
        n(G[se], Z[se], S ? k[se] : w.one, S ? w.one : k[se], O);
      }
  }
  for (var d = u ? u === r : r.length > e.length, p = u ? AG(c, u) : AG(d ? e : r, [d ? r : e]), v = 0, y = 0; y < p.length; y++)
    v += p[y].many.length;
  for (var _ = 0, y = 0; y < p.length; y++)
    f(p[y], d, _, v), _ += p[y].many.length;
}
function bf(r) {
  if (!r)
    return [];
  if (Ke(r)) {
    for (var e = [], t = 0; t < r.length; t++)
      e.push(bf(r[t]));
    return e;
  }
  var i = [];
  return r.traverse(function(a) {
    a instanceof Er && !a.disableMorphing && !a.invisible && !a.ignore && i.push(a);
  }), i;
}
var OJ = 1e4, Hke = 0, EG = 1, DG = 2, $ke = Ar();
function Yke(r, e) {
  for (var t = r.dimensions, i = 0; i < t.length; i++) {
    var a = r.getDimensionInfo(t[i]);
    if (a && a.otherDims[e] === 0)
      return t[i];
  }
}
function jke(r, e, t) {
  var i = r.getDimensionInfo(t), a = i && i.ordinalMeta;
  if (i) {
    var n = r.get(i.name, e);
    return a && a.categories[n] || n + "";
  }
}
function kG(r, e, t, i) {
  var a = i ? "itemChildGroupId" : "itemGroupId", n = Yke(r, a);
  if (n) {
    var o = jke(r, e, n);
    return o;
  }
  var s = r.getRawDataItem(e), l = i ? "childGroupId" : "groupId";
  if (s && s[l])
    return s[l] + "";
  if (!i)
    return t || r.getId(e);
}
function MG(r) {
  var e = [];
  return J(r, function(t) {
    var i = t.data, a = t.dataGroupId;
    if (i.count() > OJ) {
      process.env.NODE_ENV !== "production" && Yn("Universal transition is disabled on large data > 10k.");
      return;
    }
    for (var n = i.getIndices(), o = 0; o < n.length; o++)
      e.push({
        data: i,
        groupId: kG(i, o, a, !1),
        childGroupId: kG(i, o, a, !0),
        divide: t.divide,
        dataIndex: o
      });
  }), e;
}
function xT(r, e, t) {
  r.traverse(function(i) {
    i instanceof Er && In(i, {
      style: {
        opacity: 0
      }
    }, e, {
      dataIndex: t,
      isFrom: !0
    });
  });
}
function TT(r) {
  if (r.parent) {
    var e = r.getComputedTransform();
    r.setLocalTransform(e), r.parent.remove(r);
  }
}
function Ep(r) {
  r.stopAnimation(), r.isGroup && r.traverse(function(e) {
    e.stopAnimation();
  });
}
function qke(r, e, t) {
  var i = L0("update", t, e);
  i && r.traverse(function(a) {
    if (a instanceof cs) {
      var n = Gpe(a);
      n && a.animateFrom({
        style: n
      }, i);
    }
  });
}
function Xke(r, e) {
  var t = r.length;
  if (t !== e.length)
    return !1;
  for (var i = 0; i < t; i++) {
    var a = r[i], n = e[i];
    if (a.data.getId(a.dataIndex) !== n.data.getId(n.dataIndex))
      return !1;
  }
  return !0;
}
function FJ(r, e, t) {
  var i = MG(r), a = MG(e);
  function n(x, E, M, k, P) {
    (M || x) && E.animateFrom({
      style: M && M !== x ? $e($e({}, M.style), x.style) : x.style
    }, P);
  }
  var o = !1, s = Hke, l = Pt(), u = Pt();
  i.forEach(function(x) {
    x.groupId && l.set(x.groupId, !0), x.childGroupId && u.set(x.childGroupId, !0);
  });
  for (var c = 0; c < a.length; c++) {
    var f = a[c].groupId;
    if (u.get(f)) {
      s = EG;
      break;
    }
    var d = a[c].childGroupId;
    if (d && l.get(d)) {
      s = DG;
      break;
    }
  }
  function p(x, E) {
    return function(M) {
      var k = M.data, P = M.dataIndex;
      return E ? k.getId(P) : x ? s === EG ? M.childGroupId : M.groupId : s === DG ? M.childGroupId : M.groupId;
    };
  }
  var v = Xke(i, a), y = {};
  if (!v)
    for (var c = 0; c < a.length; c++) {
      var _ = a[c], w = _.data.getItemGraphicEl(_.dataIndex);
      w && (y[w.id] = !0);
    }
  function S(x, E) {
    var M = i[E], k = a[x], P = k.data.hostModel, L = M.data.getItemGraphicEl(M.dataIndex), F = k.data.getItemGraphicEl(k.dataIndex);
    if (L === F) {
      F && qke(F, k.dataIndex, P);
      return;
    }
    // We can't use the elements that already being morphed
    L && y[L.id] || F && (Ep(F), L ? (Ep(L), TT(L), o = !0, ST(bf(L), bf(F), k.divide, P, x, n)) : xT(F, P, x));
  }
  new Gu(i, a, p(!0, v), p(!1, v), null, "multiple").update(S).updateManyToOne(function(x, E) {
    var M = a[x], k = M.data, P = k.hostModel, L = k.getItemGraphicEl(M.dataIndex), F = Xr(Je(E, function(O) {
      return i[O].data.getItemGraphicEl(i[O].dataIndex);
    }), function(O) {
      return O && O !== L && !y[O.id];
    });
    L && (Ep(L), F.length ? (J(F, function(O) {
      Ep(O), TT(O);
    }), o = !0, ST(bf(F), bf(L), M.divide, P, x, n)) : xT(L, P, M.dataIndex));
  }).updateOneToMany(function(x, E) {
    var M = i[E], k = M.data.getItemGraphicEl(M.dataIndex);
    if (!(k && y[k.id])) {
      var P = Xr(Je(x, function(F) {
        return a[F].data.getItemGraphicEl(a[F].dataIndex);
      }), function(F) {
        return F && F !== k;
      }), L = a[x[0]].data.hostModel;
      P.length && (J(P, function(F) {
        return Ep(F);
      }), k ? (Ep(k), TT(k), o = !0, ST(
        bf(k),
        bf(P),
        M.divide,
        // Use divide on old.
        L,
        x[0],
        n
      )) : J(P, function(F) {
        return xT(F, L, x[0]);
      }));
    }
  }).updateManyToMany(function(x, E) {
    new Gu(E, x, function(M) {
      return i[M].data.getId(i[M].dataIndex);
    }, function(M) {
      return a[M].data.getId(a[M].dataIndex);
    }).update(function(M, k) {
      S(x[M], E[k]);
    }).execute();
  }).execute(), o && J(e, function(x) {
    var E = x.data, M = E.hostModel, k = M && t.getViewOfSeriesModel(M), P = L0("update", M, 0);
    k && M.isAnimationEnabled() && P && P.duration > 0 && k.group.traverse(function(L) {
      L instanceof Er && !L.animators.length && L.animateFrom({
        style: {
          opacity: 0
        }
      }, P);
    });
  });
}
function IG(r) {
  var e = r.getModel("universalTransition").get("seriesKey");
  return e || r.id;
}
function PG(r) {
  return Ke(r) ? r.sort().join(",") : r;
}
function kc(r) {
  if (r.hostModel)
    return r.hostModel.getModel("universalTransition").get("divideShape");
}
function Kke(r, e) {
  var t = Pt(), i = Pt(), a = Pt();
  J(r.oldSeries, function(o, s) {
    var l = r.oldDataGroupIds[s], u = r.oldData[s], c = IG(o), f = PG(c);
    i.set(f, {
      dataGroupId: l,
      data: u
    }), Ke(c) && J(c, function(d) {
      a.set(d, {
        key: f,
        dataGroupId: l,
        data: u
      });
    });
  });
  function n(o) {
    t.get(o) && Yn("Duplicated seriesKey in universalTransition " + o);
  }
  return J(e.updatedSeries, function(o) {
    if (o.isUniversalTransitionEnabled() && o.isAnimationEnabled()) {
      var s = o.get("dataGroupId"), l = o.getData(), u = IG(o), c = PG(u), f = i.get(c);
      if (f)
        process.env.NODE_ENV !== "production" && n(c), t.set(c, {
          oldSeries: [{
            dataGroupId: f.dataGroupId,
            divide: kc(f.data),
            data: f.data
          }],
          newSeries: [{
            dataGroupId: s,
            divide: kc(l),
            data: l
          }]
        });
      else if (Ke(u)) {
        process.env.NODE_ENV !== "production" && n(c);
        var d = [];
        J(u, function(y) {
          var _ = i.get(y);
          _.data && d.push({
            dataGroupId: _.dataGroupId,
            divide: kc(_.data),
            data: _.data
          });
        }), d.length && t.set(c, {
          oldSeries: d,
          newSeries: [{
            dataGroupId: s,
            data: l,
            divide: kc(l)
          }]
        });
      } else {
        var p = a.get(u);
        if (p) {
          var v = t.get(p.key);
          v || (v = {
            oldSeries: [{
              dataGroupId: p.dataGroupId,
              data: p.data,
              divide: kc(p.data)
            }],
            newSeries: []
          }, t.set(p.key, v)), v.newSeries.push({
            dataGroupId: s,
            data: l,
            divide: kc(l)
          });
        }
      }
    }
  }), t;
}
function RG(r, e) {
  for (var t = 0; t < r.length; t++) {
    var i = e.seriesIndex != null && e.seriesIndex === r[t].seriesIndex || e.seriesId != null && e.seriesId === r[t].id;
    if (i)
      return t;
  }
}
function Zke(r, e, t, i) {
  var a = [], n = [];
  J(xn(r.from), function(o) {
    var s = RG(e.oldSeries, o);
    s >= 0 && a.push({
      dataGroupId: e.oldDataGroupIds[s],
      data: e.oldData[s],
      // TODO can specify divideShape in transition.
      divide: kc(e.oldData[s]),
      groupIdDim: o.dimension
    });
  }), J(xn(r.to), function(o) {
    var s = RG(t.updatedSeries, o);
    if (s >= 0) {
      var l = t.updatedSeries[s].getData();
      n.push({
        dataGroupId: e.oldDataGroupIds[s],
        data: l,
        divide: kc(l),
        groupIdDim: o.dimension
      });
    }
  }), a.length > 0 && n.length > 0 && FJ(a, n, i);
}
function Jke(r) {
  r.registerUpdateLifecycle("series:beforeupdate", function(e, t, i) {
    J(xn(i.seriesTransition), function(a) {
      J(xn(a.to), function(n) {
        for (var o = i.updatedSeries, s = 0; s < o.length; s++)
          (n.seriesIndex != null && n.seriesIndex === o[s].seriesIndex || n.seriesId != null && n.seriesId === o[s].id) && (o[s][s_] = !0);
      });
    });
  }), r.registerUpdateLifecycle("series:transition", function(e, t, i) {
    var a = $ke(t);
    if (a.oldSeries && i.updatedSeries && i.optionChanged) {
      var n = i.seriesTransition;
      if (n)
        J(xn(n), function(p) {
          Zke(p, a, i, t);
        });
      else {
        var o = Kke(a, i);
        J(o.keys(), function(p) {
          var v = o.get(p);
          FJ(v.oldSeries, v.newSeries, t);
        });
      }
      J(i.updatedSeries, function(p) {
        p[s_] && (p[s_] = !1);
      });
    }
    for (var s = e.getSeries(), l = a.oldSeries = [], u = a.oldDataGroupIds = [], c = a.oldData = [], f = 0; f < s.length; f++) {
      var d = s[f].getData();
      d.count() < OJ && (l.push(s[f]), u.push(s[f].get("dataGroupId")), c.push(d));
    }
  });
}
var Qke = (
  /** @class */
  function() {
    function r() {
      this.breaks = [], this._elapsedExtent = [1 / 0, -1 / 0];
    }
    return r.prototype.setBreaks = function(e) {
      this.breaks = e.breaks;
    }, r.prototype.update = function(e) {
      tMe(this, e);
      var t = this._elapsedExtent;
      t[0] = this.elapse(e[0]), t[1] = this.elapse(e[1]);
    }, r.prototype.hasBreaks = function() {
      return !!this.breaks.length;
    }, r.prototype.calcNiceTickMultiple = function(e, t) {
      for (var i = 0; i < this.breaks.length; i++) {
        var a = this.breaks[i];
        if (a.vmin < e && e < a.vmax) {
          var n = t(e, a.vmax);
          return process.env.NODE_ENV !== "production" && kt(n >= 0 && Math.round(n) === n), n;
        }
      }
      return 0;
    }, r.prototype.getExtentSpan = function() {
      return this._elapsedExtent[1] - this._elapsedExtent[0];
    }, r.prototype.normalize = function(e) {
      var t = this._elapsedExtent[1] - this._elapsedExtent[0];
      return t === 0 ? 0.5 : (this.elapse(e) - this._elapsedExtent[0]) / t;
    }, r.prototype.scale = function(e) {
      return this.unelapse(e * (this._elapsedExtent[1] - this._elapsedExtent[0]) + this._elapsedExtent[0]);
    }, r.prototype.elapse = function(e) {
      for (var t = LG, i = OG, a = !0, n = 0; n < this.breaks.length; n++) {
        var o = this.breaks[n];
        if (e <= o.vmax) {
          e > o.vmin ? t += o.vmin - i + (e - o.vmin) / (o.vmax - o.vmin) * o.gapReal : t += e - i, i = o.vmax, a = !1;
          break;
        }
        t += o.vmin - i + o.gapReal, i = o.vmax;
      }
      return a && (t += e - i), t;
    }, r.prototype.unelapse = function(e) {
      for (var t = LG, i = OG, a = !0, n = 0, o = 0; o < this.breaks.length; o++) {
        var s = this.breaks[o], l = t + s.vmin - i, u = l + s.gapReal;
        if (e <= u) {
          e > l ? n = s.vmin + (e - l) / (u - l) * (s.vmax - s.vmin) : n = i + e - t, i = s.vmax, a = !1;
          break;
        }
        t = u, i = s.vmax;
      }
      return a && (n = i + e - t), n;
    }, r;
  }()
);
function eMe() {
  return new Qke();
}
var LG = 0, OG = 0;
function tMe(r, e) {
  var t = 0, i = {
    tpAbs: {
      span: 0,
      val: 0
    },
    tpPrct: {
      span: 0,
      val: 0
    }
  }, a = function() {
    return {
      has: !1,
      span: NaN,
      inExtFrac: NaN,
      val: NaN
    };
  }, n = {
    S: {
      tpAbs: a(),
      tpPrct: a()
    },
    E: {
      tpAbs: a(),
      tpPrct: a()
    }
  };
  J(r.breaks, function(s) {
    var l = s.gapParsed;
    l.type === "tpPrct" && (t += l.val);
    var u = Jk(s, e);
    if (u) {
      var c = u.vmin !== s.vmin, f = u.vmax !== s.vmax, d = u.vmax - u.vmin;
      if (!(c && f))
        if (c || f) {
          var p = c ? "S" : "E";
          n[p][l.type].has = !0, n[p][l.type].span = d, n[p][l.type].inExtFrac = d / (s.vmax - s.vmin), n[p][l.type].val = l.val;
        } else
          i[l.type].span += d, i[l.type].val += l.val;
    }
  });
  var o = t * (0 + (e[1] - e[0]) + (i.tpAbs.val - i.tpAbs.span) + (n.S.tpAbs.has ? (n.S.tpAbs.val - n.S.tpAbs.span) * n.S.tpAbs.inExtFrac : 0) + (n.E.tpAbs.has ? (n.E.tpAbs.val - n.E.tpAbs.span) * n.E.tpAbs.inExtFrac : 0) - i.tpPrct.span - (n.S.tpPrct.has ? n.S.tpPrct.span * n.S.tpPrct.inExtFrac : 0) - (n.E.tpPrct.has ? n.E.tpPrct.span * n.E.tpPrct.inExtFrac : 0)) / (1 - i.tpPrct.val - (n.S.tpPrct.has ? n.S.tpPrct.val * n.S.tpPrct.inExtFrac : 0) - (n.E.tpPrct.has ? n.E.tpPrct.val * n.E.tpPrct.inExtFrac : 0));
  J(r.breaks, function(s) {
    var l = s.gapParsed;
    l.type === "tpPrct" && (s.gapReal = t !== 0 ? Math.max(o, 0) * l.val / t : 0), l.type === "tpAbs" && (s.gapReal = l.val), s.gapReal == null && (s.gapReal = 0);
  });
}
function rMe(r, e, t, i, a, n) {
  r !== "no" && J(t, function(o) {
    var s = Jk(o, n);
    if (s)
      for (var l = e.length - 1; l >= 0; l--) {
        var u = e[l], c = i(u), f = a * 3 / 4;
        c > s.vmin - f && c < s.vmax + f && (r !== "preserve_extent_bound" || c !== n[0] && c !== n[1]) && e.splice(l, 1);
      }
  });
}
function nMe(r, e, t, i) {
  J(e, function(a) {
    var n = Jk(a, t);
    n && (r.push({
      value: n.vmin,
      break: {
        type: "vmin",
        parsedBreak: n
      },
      time: i ? i(n) : void 0
    }), r.push({
      value: n.vmax,
      break: {
        type: "vmax",
        parsedBreak: n
      },
      time: i ? i(n) : void 0
    }));
  }), e.length && r.sort(function(a, n) {
    return a.value - n.value;
  });
}
function Jk(r, e) {
  var t = Math.max(r.vmin, e[0]), i = Math.min(r.vmax, e[1]);
  return t < i || t === i && t > e[0] && t < e[1] ? {
    vmin: t,
    vmax: i,
    breakOption: r.breakOption,
    gapParsed: r.gapParsed,
    gapReal: r.gapReal
  } : null;
}
function TE(r, e, t) {
  var i = [];
  if (!r)
    return {
      breaks: i
    };
  function a(o, s) {
    return o >= 0 && o < 1 - 1e-5 ? !0 : (process.env.NODE_ENV !== "production" && Nr(s + " must be >= 0 and < 1, rather than " + o + " ."), !1);
  }
  J(r, function(o) {
    if (!o || o.start == null || o.end == null) {
      process.env.NODE_ENV !== "production" && Nr("The input axis breaks start/end should not be empty.");
      return;
    }
    if (!o.isExpanded) {
      var s = {
        breakOption: Gt(o),
        vmin: e(o.start),
        vmax: e(o.end),
        gapParsed: {
          type: "tpAbs",
          val: 0
        },
        gapReal: null
      };
      if (o.gap != null) {
        var l = !1;
        if (vt(o.gap)) {
          var u = Ao(o.gap);
          if (u.match(/%$/)) {
            var c = parseFloat(u) / 100;
            a(c, "Percent gap") || (c = 0), s.gapParsed.type = "tpPrct", s.gapParsed.val = c, l = !0;
          }
        }
        if (!l) {
          var f = e(o.gap);
          (!isFinite(f) || f < 0) && (process.env.NODE_ENV !== "production" && Nr("Axis breaks gap must positive finite rather than (" + o.gap + ")."), f = 0), s.gapParsed.type = "tpAbs", s.gapParsed.val = f;
        }
      }
      if (s.vmin === s.vmax && (s.gapParsed.type = "tpAbs", s.gapParsed.val = 0), t && t.noNegative && J(["vmin", "vmax"], function(p) {
        s[p] < 0 && (process.env.NODE_ENV !== "production" && Nr("Axis break." + p + " must not be negative."), s[p] = 0);
      }), s.vmin > s.vmax) {
        var d = s.vmax;
        s.vmax = s.vmin, s.vmin = d;
      }
      i.push(s);
    }
  }), i.sort(function(o, s) {
    return o.vmin - s.vmin;
  });
  var n = -1 / 0;
  return J(i, function(o, s) {
    n > o.vmin && (process.env.NODE_ENV !== "production" && Nr("Axis breaks must not overlap."), i[s] = null), n = o.vmax;
  }), {
    breaks: i.filter(function(o) {
      return !!o;
    })
  };
}
function Qk(r, e) {
  return CE(e) === CE(r);
}
function CE(r) {
  return r.start + "_\0_" + r.end;
}
function iMe(r, e, t) {
  var i = [];
  J(r, function(n, o) {
    var s = e(n);
    s && s.type === "vmin" && i.push([o]);
  }), J(r, function(n, o) {
    var s = e(n);
    if (s && s.type === "vmax") {
      var l = ch(
        i,
        // parsedBreak may be changed, can only use breakOption to match them.
        function(u) {
          return Qk(e(r[u[0]]).parsedBreak.breakOption, s.parsedBreak.breakOption);
        }
      );
      l && l.push(o);
    }
  });
  var a = [];
  return J(i, function(n) {
    n.length === 2 && a.push(t ? n : [r[n[0]], r[n[1]]]);
  }), a;
}
function aMe(r, e, t, i) {
  var a, n;
  if (r.break) {
    var o = r.break.parsedBreak, s = ch(t, function(f) {
      return Qk(f.breakOption, r.break.parsedBreak.breakOption);
    }), l = i(Math.pow(e, o.vmin), s.vmin), u = i(Math.pow(e, o.vmax), s.vmax), c = {
      type: o.gapParsed.type,
      val: o.gapParsed.type === "tpAbs" ? wi(Math.pow(e, o.vmin + o.gapParsed.val)) - l : o.gapParsed.val
    };
    a = {
      type: r.break.type,
      parsedBreak: {
        breakOption: o.breakOption,
        vmin: l,
        vmax: u,
        gapParsed: c,
        gapReal: o.gapReal
      }
    }, n = s[r.break.type];
  }
  return {
    brkRoundingCriterion: n,
    vBreak: a
  };
}
function oMe(r, e, t) {
  var i = {
    noNegative: !0
  }, a = TE(r, t, i), n = TE(r, t, i), o = Math.log(e);
  return n.breaks = Je(n.breaks, function(s) {
    var l = Math.log(s.vmin) / o, u = Math.log(s.vmax) / o, c = {
      type: s.gapParsed.type,
      val: s.gapParsed.type === "tpAbs" ? Math.log(s.vmin + s.gapParsed.val) / o - l : s.gapParsed.val
    };
    return {
      vmin: l,
      vmax: u,
      gapParsed: c,
      gapReal: s.gapReal,
      breakOption: s.breakOption
    };
  }), {
    parsedOriginal: a,
    parsedLogged: n
  };
}
var sMe = {
  vmin: "start",
  vmax: "end"
};
function lMe(r, e) {
  return e && (r = r || {}, r.break = {
    type: sMe[e.type],
    start: e.parsedBreak.vmin,
    end: e.parsedBreak.vmax
  }), r;
}
function uMe() {
  l0e({
    createScaleBreakContext: eMe,
    pruneTicksByBreak: rMe,
    addBreaksToTicks: nMe,
    parseAxisBreakOption: TE,
    identifyAxisBreak: Qk,
    serializeAxisBreakIdentifier: CE,
    retrieveAxisBreakPairs: iMe,
    getTicksLogTransformBreak: aMe,
    logarithmicParseBreaksFromOption: oMe,
    makeAxisLabelFormatterParamBreak: lMe
  });
}
var FG = Ar();
function cMe(r, e) {
  var t = ch(r, function(i) {
    return Mi().identifyAxisBreak(i.parsedBreak.breakOption, e.breakOption);
  });
  return t || r.push(t = {
    zigzagRandomList: [],
    parsedBreak: e,
    shouldRemove: !1
  }), t;
}
function hMe(r) {
  J(r, function(e) {
    return e.shouldRemove = !0;
  });
}
function fMe(r) {
  for (var e = r.length - 1; e >= 0; e--)
    r[e].shouldRemove && r.splice(e, 1);
}
function dMe(r, e, t, i, a) {
  var n = t.axis;
  if (n.scale.isBlank() || !Mi())
    return;
  var o = Mi().retrieveAxisBreakPairs(n.scale.getTicks({
    breakTicks: "only_break"
  }), function(F) {
    return F.break;
  }, !1);
  if (!o.length)
    return;
  var s = t.getModel("breakArea"), l = s.get("zigzagAmplitude"), u = s.get("zigzagMinSpan"), c = s.get("zigzagMaxSpan");
  u = Math.max(2, u || 0), c = Math.max(u, c || 0);
  var f = s.get("expandOnClick"), d = s.get("zigzagZ"), p = s.getModel("itemStyle"), v = p.getItemStyle(), y = v.stroke, _ = v.lineWidth, w = v.lineDash, S = v.fill, x = new Wt({
    ignoreModelZ: !0
  }), E = n.isHorizontal(), M = FG(e).visualList || (FG(e).visualList = []);
  hMe(M);
  for (var k = function(F) {
    var O = o[F][0].break.parsedBreak, U = [];
    U[0] = n.toGlobalCoord(n.dataToCoord(O.vmin, !0)), U[1] = n.toGlobalCoord(n.dataToCoord(O.vmax, !0)), U[1] < U[0] && U.reverse();
    var V = cMe(M, O);
    V.shouldRemove = !1;
    var G = new Wt();
    L(V.zigzagRandomList, G, U[0], U[1], E, O), f && G.on("click", function() {
      var Z = {
        type: NS,
        breaks: [{
          start: O.breakOption.start,
          end: O.breakOption.end
        }]
      };
      Z[n.dim + "AxisIndex"] = t.componentIndex, a.dispatchAction(Z);
    }), G.silent = !f, x.add(G);
  }, P = 0; P < o.length; P++)
    k(P);
  r.add(x), fMe(M);
  function L(F, O, U, V, G, Z) {
    var Q = {
      stroke: y,
      lineWidth: _,
      lineDash: w,
      fill: "none"
    }, se = G ? 0 : 1, de = 1 - se, le = i[cr[de]] + i[Ii[de]];
    function Se(xe) {
      var ge = [], ae = [];
      ge[se] = ae[se] = xe, ge[de] = i[cr[de]], ae[de] = le;
      var pe = {
        x1: ge[0],
        y1: ge[1],
        x2: ae[0],
        y2: ae[1]
      };
      return _S(pe, pe, {
        lineWidth: 1
      }), ge[0] = pe.x1, ge[1] = pe.y1, ge[se];
    }
    U = Se(U), V = Se(V);
    for (var he = [], fe = [], K = !0, we = i[cr[de]], ve = 0; ; ve++) {
      var De = we === i[cr[de]], Ie = we >= le;
      Ie && (we = le);
      var q = [], re = [];
      q[se] = U, re[se] = V, !De && !Ie && (q[se] += K ? -l : l, re[se] -= K ? l : -l), q[de] = we, re[de] = we, he.push(q), fe.push(re);
      var be = void 0;
      if (ve < F.length ? be = F[ve] : (be = Math.random(), F.push(be)), we += be * (c - u) + u, K = !K, Ie)
        break;
    }
    var te = Mi().serializeAxisBreakIdentifier(Z.breakOption);
    if (O.add(new wa({
      anid: "break_a_" + te,
      shape: {
        points: he
      },
      style: Q,
      z: d
    })), Z.gapReal !== 0) {
      O.add(new wa({
        anid: "break_b_" + te,
        shape: {
          // Not reverse to keep the dash stable when dragging resizing.
          points: fe
        },
        style: Q,
        z: d
      }));
      var ne = fe.slice();
      ne.reverse();
      var ie = he.concat(ne);
      O.add(new Ha({
        anid: "break_c_" + te,
        shape: {
          points: ie
        },
        style: {
          fill: S,
          opacity: v.opacity
        },
        z: d
      }));
    }
  }
}
function pMe(r, e, t, i) {
  var a = r.axis, n = t.transform;
  kt(i.style);
  var o = a.getExtent();
  a.inverse && (o = o.slice(), o.reverse());
  var s = Mi().retrieveAxisBreakPairs(a.scale.getTicks({
    breakTicks: "only_break"
  }), function(_) {
    return _.break;
  }, !1), l = Je(s, function(_) {
    var w = _[0].break.parsedBreak, S = [a.dataToCoord(w.vmin, !0), a.dataToCoord(w.vmax, !0)];
    return S[0] > S[1] && S.reverse(), {
      coordPair: S,
      brkId: Mi().serializeAxisBreakIdentifier(w.breakOption)
    };
  });
  l.sort(function(_, w) {
    return _.coordPair[0] - w.coordPair[0];
  });
  for (var u = o[0], c = null, f = 0; f < l.length; f++) {
    var d = l[f], p = Math.max(d.coordPair[0], o[0]), v = Math.min(d.coordPair[1], o[1]);
    u <= p && y(u, p, c, d), u = v, c = d;
  }
  u <= o[1] && y(u, o[1], c, null);
  function y(_, w, S, x) {
    function E(U, V) {
      n && (li(U, U, n), li(V, V, n));
    }
    function M(U, V) {
      var G = {
        x1: U[0],
        y1: U[1],
        x2: V[0],
        y2: V[1]
      };
      _S(G, G, i.style), U[0] = G.x1, U[1] = G.y1, V[0] = G.x2, V[1] = G.y2;
    }
    var k = [_, 0], P = [w, 0], L = [_, 5], F = [w, 5];
    E(k, L), M(k, L), E(P, F), M(P, F), M(k, P);
    var O = new ki($e({
      shape: {
        x1: k[0],
        y1: k[1],
        x2: P[0],
        y2: P[1]
      }
    }, i));
    e.add(O), O.anid = "breakLine_" + (S ? S.brkId : "\0") + "_\0_" + (x ? x.brkId : "\0");
  }
}
function vMe(r, e, t) {
  if (ch(t, function(S) {
    return !S;
  }))
    return;
  var i = new Xt();
  if (!OS(t[0], t[1], i, {
    // Assert `labelPair` is `[break_min, break_max]`.
    // `axis.inverse: true` means a smaller scale value corresponds to a bigger value in axis.extent.
    // The axisRotation indicates mtv direction of OBB intersecting.
    direction: -(r ? e + Math.PI : e),
    touchThreshold: 0,
    // If need to resovle intersection align axis by moving labels according to MTV,
    // the direction must not be opposite, otherwise cause misleading.
    bidirectional: !1
  }))
    return;
  var a = Ji();
  ec(a, a, -e);
  var n = Je(t, function(S) {
    return S.transform ? Ls(Ji(), a, S.transform) : a;
  });
  function o(S) {
    var x = t[0].localRect, E = new Xt(x[Ii[S]] * n[0][0], x[Ii[S]] * n[0][1]);
    return Math.abs(E.y) < 1e-5;
  }
  var s = 0.5;
  if (o(0) || o(1)) {
    var l = Je(t, function(S, x) {
      var E = S.localRect.clone();
      return E.applyTransform(n[x]), E;
    }), u = new Xt();
    u.copy(t[0].label).add(t[1].label).scale(0.5), u.transform(a);
    var c = i.clone().transform(a), f = l[0].x + l[1].x + (c.x >= 0 ? l[0].width : l[1].width), d = (f + c.x) / 2 - u.x, p = Math.min(d, d - c.x), v = Math.max(d, d - c.x), y = v < 0 ? v : p > 0 ? p : 0;
    s = (d - y) / c.x;
  }
  var _ = new Xt(), w = new Xt();
  Xt.scale(_, i, -s), Xt.scale(w, i, 1 - s), D6(t[0], _), D6(t[1], w);
}
function gMe(r, e) {
  var t = {
    breaks: []
  };
  return J(e.breaks, function(i) {
    if (i) {
      var a = ch(r.get("breaks", !0), function(s) {
        return Mi().identifyAxisBreak(s, i);
      });
      if (!a) {
        process.env.NODE_ENV !== "production" && Yn("Can not find axis break by start: " + i.start + ", end: " + i.end);
        return;
      }
      var n = e.type, o = {
        isExpanded: !!a.isExpanded
      };
      a.isExpanded = n === NS ? !0 : n === JX ? !1 : n === QX ? !a.isExpanded : a.isExpanded, t.breaks.push({
        start: a.start,
        end: a.end,
        isExpanded: !!a.isExpanded,
        old: o
      });
    }
  }), t;
}
function mMe() {
  A_e({
    adjustBreakLabelPair: vMe,
    buildAxisBreakLine: pMe,
    rectCoordBuildBreakAxis: dMe,
    updateModelAxisBreak: gMe
  });
}
function yMe(r) {
  L_e(r), uMe(), mMe();
}
function _Me() {
  tbe(bMe);
}
function bMe(r, e) {
  J(r, function(t) {
    if (!t.model.get(["axisLabel", "inside"])) {
      var i = wMe(t);
      if (i) {
        var a = t.isHorizontal() ? "height" : "width", n = t.model.get(["axisLabel", "margin"]);
        e[a] -= i[a] + n, t.position === "top" ? e.y += i.height + n : t.position === "left" && (e.x += i.width + n);
      }
    }
  });
}
function wMe(r) {
  var e = r.model, t = r.scale;
  if (!e.get(["axisLabel", "show"]) || t.isBlank())
    return;
  var i, a, n = t.getExtent();
  t instanceof x1 ? a = t.count() : (i = t.getTicks(), a = i.length);
  var o = r.getLabelModel(), s = H0(r), l, u = 1;
  a > 40 && (u = Math.ceil(a / 40));
  for (var c = 0; c < a; c += u) {
    var f = i ? i[c] : {
      value: n[0] + c
    }, d = s(f, c), p = o.getTextRect(d), v = y(p, o.get("rotate") || 0);
    l ? l.union(v) : l = v;
  }
  return l;
  function y(_, w) {
    var S = w * Math.PI / 180, x = _.width, E = _.height, M = x * Math.abs(Math.cos(S)) + Math.abs(E * Math.sin(S)), k = x * Math.abs(Math.sin(S)) + Math.abs(E * Math.cos(S)), P = new Jt(_.x, _.y, M, k);
    return P;
  }
}
_r([c2e]);
_r([n2e]);
_r([L2e, J2e, h_e, Sbe, Vbe, Fwe, fSe, JSe, Cxe, Oxe, Hxe, e4e, n3e, k3e, z3e, l5e, v5e, R5e, W5e, rTe, cTe, xTe, lCe]);
_r(ICe);
_r(cAe);
_r(AK);
_r(AAe);
_r(dZ);
_r(RAe);
_r(r6e);
_r(h6e);
_r(hEe);
_r(LEe);
_r(vm);
_r(QEe);
_r(r8e);
_r(m8e);
_r(D8e);
_r(F8e);
_r(H8e);
_r(iDe);
_r(EDe);
_r(SJ);
_r(xJ);
_r(eke);
_r(DJ);
_r(kJ);
_r(ike);
_r(uke);
_r(Ske);
_r(Cke);
_r(Jke);
_r(wye);
_r(yMe);
_r(_Me);
_r(xbe);
const SMe = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  Axis: ps,
  ChartView: gn,
  ComponentModel: Rr,
  ComponentView: Pn,
  List: Ua,
  Model: Vr,
  PRIORITY: pq,
  SeriesModel: En,
  color: Ghe,
  connect: g1e,
  dataTool: T1e,
  dependencies: Jge,
  disConnect: m1e,
  disconnect: Sq,
  dispose: y1e,
  env: qr,
  extendChartView: aye,
  extendComponentModel: rye,
  extendComponentView: nye,
  extendSeriesModel: iye,
  format: Ume,
  getCoordinateSystemDimensions: b1e,
  getInstanceByDom: kD,
  getInstanceById: _1e,
  getMap: x1e,
  graphic: Vme,
  helper: Ime,
  init: v1e,
  innerDrawElementOnCanvas: CD,
  matrix: hhe,
  number: Nme,
  parseGeoJSON: A6,
  parseGeoJson: A6,
  registerAction: js,
  registerCoordinateSystem: Cq,
  registerCustomSeries: w1e,
  registerLayout: Aq,
  registerLoading: LD,
  registerLocale: rD,
  registerMap: Eq,
  registerPostInit: xq,
  registerPostUpdate: Tq,
  registerPreprocessor: ID,
  registerProcessor: PD,
  registerTheme: MD,
  registerTransform: Dq,
  registerUpdateLifecycle: LS,
  registerVisual: ph,
  setCanvasCreator: S1e,
  setPlatformAPI: XH,
  throttle: PS,
  time: Bme,
  use: _r,
  util: Gme,
  vector: qce,
  version: Zge,
  zrUtil: Gce,
  zrender: Efe
}, Symbol.toStringTag, { value: "Module" })), va = [];
for (let r = 0; r < 256; ++r)
  va.push((r + 256).toString(16).slice(1));
function xMe(r, e = 0) {
  return (va[r[e + 0]] + va[r[e + 1]] + va[r[e + 2]] + va[r[e + 3]] + "-" + va[r[e + 4]] + va[r[e + 5]] + "-" + va[r[e + 6]] + va[r[e + 7]] + "-" + va[r[e + 8]] + va[r[e + 9]] + "-" + va[r[e + 10]] + va[r[e + 11]] + va[r[e + 12]] + va[r[e + 13]] + va[r[e + 14]] + va[r[e + 15]]).toLowerCase();
}
let CT;
const TMe = new Uint8Array(16);
function CMe() {
  if (!CT) {
    if (typeof crypto > "u" || !crypto.getRandomValues)
      throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
    CT = crypto.getRandomValues.bind(crypto);
  }
  return CT(TMe);
}
const AMe = typeof crypto < "u" && crypto.randomUUID && crypto.randomUUID.bind(crypto), NG = { randomUUID: AMe };
function EMe(r, e, t) {
  if (NG.randomUUID && !e && !r)
    return NG.randomUUID();
  r = r || {};
  const i = r.random ?? r.rng?.() ?? CMe();
  if (i.length < 16)
    throw new Error("Random bytes length must be >= 16");
  if (i[6] = i[6] & 15 | 64, i[8] = i[8] & 63 | 128, e) {
    if (t = t || 0, t < 0 || t + 16 > e.length)
      throw new RangeError(`UUID byte range ${t}:${t + 15} is out of buffer bounds`);
    for (let a = 0; a < 16; ++a)
      e[t + a] = i[a];
    return e;
  }
  return xMe(i);
}
function DMe(r) {
  const e = ly(), t = ly(!1), i = ly("add"), a = ly({}), n = () => {
    i.value = "add", t.value = !0;
  }, o = (c, f) => {
    i.value = "edit", a.value = c, f && Object.assign(a.value, f), r.forEach((d) => {
      d.value = c[d.code];
    }), console.log("", c, r), t.value = !0;
  }, s = (c, f, d, p) => {
    O2.confirm(", ?", "", {
      confirmButtonText: "",
      cancelButtonText: "",
      type: "warning"
    }).then(async () => {
      const v = p ? await c(f, ...p) : await c(f);
      console.log("deleteData", v), d && d(), e.value?.refresh(), v.code !== -1 && du({
        type: "success",
        message: "!"
      });
    });
  }, l = {
    string: "",
    number: "",
    boolean: !0
  };
  return {
    mytable: e,
    dialogVisible: t,
    operate: i,
    rowValue: a,
    create: n,
    edit: o,
    resetForm: () => {
      r.forEach((c) => {
        c.value = l[typeof c.value];
      });
    },
    deleteData: s
  };
}
//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var NJ;
function Nt() {
  return NJ.apply(null, arguments);
}
function kMe(r) {
  NJ = r;
}
function zs(r) {
  return r instanceof Array || Object.prototype.toString.call(r) === "[object Array]";
}
function Xf(r) {
  return r != null && Object.prototype.toString.call(r) === "[object Object]";
}
function yn(r, e) {
  return Object.prototype.hasOwnProperty.call(r, e);
}
function eM(r) {
  if (Object.getOwnPropertyNames)
    return Object.getOwnPropertyNames(r).length === 0;
  var e;
  for (e in r)
    if (yn(r, e))
      return !1;
  return !0;
}
function co(r) {
  return r === void 0;
}
function Yu(r) {
  return typeof r == "number" || Object.prototype.toString.call(r) === "[object Number]";
}
function gm(r) {
  return r instanceof Date || Object.prototype.toString.call(r) === "[object Date]";
}
function BJ(r, e) {
  var t = [], i, a = r.length;
  for (i = 0; i < a; ++i)
    t.push(e(r[i], i));
  return t;
}
function Nc(r, e) {
  for (var t in e)
    yn(e, t) && (r[t] = e[t]);
  return yn(e, "toString") && (r.toString = e.toString), yn(e, "valueOf") && (r.valueOf = e.valueOf), r;
}
function Vl(r, e, t, i) {
  return sQ(r, e, t, i, !0).utc();
}
function MMe() {
  return {
    empty: !1,
    unusedTokens: [],
    unusedInput: [],
    overflow: -2,
    charsLeftOver: 0,
    nullInput: !1,
    invalidEra: null,
    invalidMonth: null,
    invalidFormat: !1,
    userInvalidated: !1,
    iso: !1,
    parsedDateParts: [],
    era: null,
    meridiem: null,
    rfc2822: !1,
    weekdayMismatch: !1
  };
}
function jr(r) {
  return r._pf == null && (r._pf = MMe()), r._pf;
}
var AE;
Array.prototype.some ? AE = Array.prototype.some : AE = function(r) {
  var e = Object(this), t = e.length >>> 0, i;
  for (i = 0; i < t; i++)
    if (i in e && r.call(this, e[i], i, e))
      return !0;
  return !1;
};
function tM(r) {
  var e = null, t = !1, i = r._d && !isNaN(r._d.getTime());
  if (i && (e = jr(r), t = AE.call(e.parsedDateParts, function(a) {
    return a != null;
  }), i = e.overflow < 0 && !e.empty && !e.invalidEra && !e.invalidMonth && !e.invalidWeekday && !e.weekdayMismatch && !e.nullInput && !e.invalidFormat && !e.userInvalidated && (!e.meridiem || e.meridiem && t), r._strict && (i = i && e.charsLeftOver === 0 && e.unusedTokens.length === 0 && e.bigHour === void 0)), Object.isFrozen == null || !Object.isFrozen(r))
    r._isValid = i;
  else
    return i;
  return r._isValid;
}
function YS(r) {
  var e = Vl(NaN);
  return r != null ? Nc(jr(e), r) : jr(e).userInvalidated = !0, e;
}
var BG = Nt.momentProperties = [], AT = !1;
function rM(r, e) {
  var t, i, a, n = BG.length;
  if (co(e._isAMomentObject) || (r._isAMomentObject = e._isAMomentObject), co(e._i) || (r._i = e._i), co(e._f) || (r._f = e._f), co(e._l) || (r._l = e._l), co(e._strict) || (r._strict = e._strict), co(e._tzm) || (r._tzm = e._tzm), co(e._isUTC) || (r._isUTC = e._isUTC), co(e._offset) || (r._offset = e._offset), co(e._pf) || (r._pf = jr(e)), co(e._locale) || (r._locale = e._locale), n > 0)
    for (t = 0; t < n; t++)
      i = BG[t], a = e[i], co(a) || (r[i] = a);
  return r;
}
function mm(r) {
  rM(this, r), this._d = new Date(r._d != null ? r._d.getTime() : NaN), this.isValid() || (this._d = /* @__PURE__ */ new Date(NaN)), AT === !1 && (AT = !0, Nt.updateOffset(this), AT = !1);
}
function Ws(r) {
  return r instanceof mm || r != null && r._isAMomentObject != null;
}
function VJ(r) {
  Nt.suppressDeprecationWarnings === !1 && typeof console < "u" && console.warn && console.warn("Deprecation warning: " + r);
}
function vs(r, e) {
  var t = !0;
  return Nc(function() {
    if (Nt.deprecationHandler != null && Nt.deprecationHandler(null, r), t) {
      var i = [], a, n, o, s = arguments.length;
      for (n = 0; n < s; n++) {
        if (a = "", typeof arguments[n] == "object") {
          a += `
[` + n + "] ";
          for (o in arguments[0])
            yn(arguments[0], o) && (a += o + ": " + arguments[0][o] + ", ");
          a = a.slice(0, -2);
        } else
          a = arguments[n];
        i.push(a);
      }
      VJ(
        r + `
Arguments: ` + Array.prototype.slice.call(i).join("") + `
` + new Error().stack
      ), t = !1;
    }
    return e.apply(this, arguments);
  }, e);
}
var VG = {};
function UJ(r, e) {
  Nt.deprecationHandler != null && Nt.deprecationHandler(r, e), VG[r] || (VJ(e), VG[r] = !0);
}
Nt.suppressDeprecationWarnings = !1;
Nt.deprecationHandler = null;
function Ul(r) {
  return typeof Function < "u" && r instanceof Function || Object.prototype.toString.call(r) === "[object Function]";
}
function IMe(r) {
  var e, t;
  for (t in r)
    yn(r, t) && (e = r[t], Ul(e) ? this[t] = e : this["_" + t] = e);
  this._config = r, this._dayOfMonthOrdinalParseLenient = new RegExp(
    (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\d{1,2}/.source
  );
}
function EE(r, e) {
  var t = Nc({}, r), i;
  for (i in e)
    yn(e, i) && (Xf(r[i]) && Xf(e[i]) ? (t[i] = {}, Nc(t[i], r[i]), Nc(t[i], e[i])) : e[i] != null ? t[i] = e[i] : delete t[i]);
  for (i in r)
    yn(r, i) && !yn(e, i) && Xf(r[i]) && (t[i] = Nc({}, t[i]));
  return t;
}
function nM(r) {
  r != null && this.set(r);
}
var DE;
Object.keys ? DE = Object.keys : DE = function(r) {
  var e, t = [];
  for (e in r)
    yn(r, e) && t.push(e);
  return t;
};
var PMe = {
  sameDay: "[Today at] LT",
  nextDay: "[Tomorrow at] LT",
  nextWeek: "dddd [at] LT",
  lastDay: "[Yesterday at] LT",
  lastWeek: "[Last] dddd [at] LT",
  sameElse: "L"
};
function RMe(r, e, t) {
  var i = this._calendar[r] || this._calendar.sameElse;
  return Ul(i) ? i.call(e, t) : i;
}
function Ll(r, e, t) {
  var i = "" + Math.abs(r), a = e - i.length, n = r >= 0;
  return (n ? t ? "+" : "" : "-") + Math.pow(10, Math.max(0, a)).toString().substr(1) + i;
}
var iM = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, R2 = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, ET = {}, Zp = {};
function br(r, e, t, i) {
  var a = i;
  typeof i == "string" && (a = function() {
    return this[i]();
  }), r && (Zp[r] = a), e && (Zp[e[0]] = function() {
    return Ll(a.apply(this, arguments), e[1], e[2]);
  }), t && (Zp[t] = function() {
    return this.localeData().ordinal(
      a.apply(this, arguments),
      r
    );
  });
}
function LMe(r) {
  return r.match(/\[[\s\S]/) ? r.replace(/^\[|\]$/g, "") : r.replace(/\\/g, "");
}
function OMe(r) {
  var e = r.match(iM), t, i;
  for (t = 0, i = e.length; t < i; t++)
    Zp[e[t]] ? e[t] = Zp[e[t]] : e[t] = LMe(e[t]);
  return function(a) {
    var n = "", o;
    for (o = 0; o < i; o++)
      n += Ul(e[o]) ? e[o].call(a, r) : e[o];
    return n;
  };
}
function p_(r, e) {
  return r.isValid() ? (e = GJ(e, r.localeData()), ET[e] = ET[e] || OMe(e), ET[e](r)) : r.localeData().invalidDate();
}
function GJ(r, e) {
  var t = 5;
  function i(a) {
    return e.longDateFormat(a) || a;
  }
  for (R2.lastIndex = 0; t >= 0 && R2.test(r); )
    r = r.replace(
      R2,
      i
    ), R2.lastIndex = 0, t -= 1;
  return r;
}
var FMe = {
  LTS: "h:mm:ss A",
  LT: "h:mm A",
  L: "MM/DD/YYYY",
  LL: "MMMM D, YYYY",
  LLL: "MMMM D, YYYY h:mm A",
  LLLL: "dddd, MMMM D, YYYY h:mm A"
};
function NMe(r) {
  var e = this._longDateFormat[r], t = this._longDateFormat[r.toUpperCase()];
  return e || !t ? e : (this._longDateFormat[r] = t.match(iM).map(function(i) {
    return i === "MMMM" || i === "MM" || i === "DD" || i === "dddd" ? i.slice(1) : i;
  }).join(""), this._longDateFormat[r]);
}
var BMe = "Invalid date";
function VMe() {
  return this._invalidDate;
}
var UMe = "%d", GMe = /\d{1,2}/;
function zMe(r) {
  return this._ordinal.replace("%d", r);
}
var WMe = {
  future: "in %s",
  past: "%s ago",
  s: "a few seconds",
  ss: "%d seconds",
  m: "a minute",
  mm: "%d minutes",
  h: "an hour",
  hh: "%d hours",
  d: "a day",
  dd: "%d days",
  w: "a week",
  ww: "%d weeks",
  M: "a month",
  MM: "%d months",
  y: "a year",
  yy: "%d years"
};
function HMe(r, e, t, i) {
  var a = this._relativeTime[t];
  return Ul(a) ? a(r, e, t, i) : a.replace(/%d/i, r);
}
function $Me(r, e) {
  var t = this._relativeTime[r > 0 ? "future" : "past"];
  return Ul(t) ? t(e) : t.replace(/%s/i, e);
}
var UG = {
  D: "date",
  dates: "date",
  date: "date",
  d: "day",
  days: "day",
  day: "day",
  e: "weekday",
  weekdays: "weekday",
  weekday: "weekday",
  E: "isoWeekday",
  isoweekdays: "isoWeekday",
  isoweekday: "isoWeekday",
  DDD: "dayOfYear",
  dayofyears: "dayOfYear",
  dayofyear: "dayOfYear",
  h: "hour",
  hours: "hour",
  hour: "hour",
  ms: "millisecond",
  milliseconds: "millisecond",
  millisecond: "millisecond",
  m: "minute",
  minutes: "minute",
  minute: "minute",
  M: "month",
  months: "month",
  month: "month",
  Q: "quarter",
  quarters: "quarter",
  quarter: "quarter",
  s: "second",
  seconds: "second",
  second: "second",
  gg: "weekYear",
  weekyears: "weekYear",
  weekyear: "weekYear",
  GG: "isoWeekYear",
  isoweekyears: "isoWeekYear",
  isoweekyear: "isoWeekYear",
  w: "week",
  weeks: "week",
  week: "week",
  W: "isoWeek",
  isoweeks: "isoWeek",
  isoweek: "isoWeek",
  y: "year",
  years: "year",
  year: "year"
};
function gs(r) {
  return typeof r == "string" ? UG[r] || UG[r.toLowerCase()] : void 0;
}
function aM(r) {
  var e = {}, t, i;
  for (i in r)
    yn(r, i) && (t = gs(i), t && (e[t] = r[i]));
  return e;
}
var YMe = {
  date: 9,
  day: 11,
  weekday: 11,
  isoWeekday: 11,
  dayOfYear: 4,
  hour: 13,
  millisecond: 16,
  minute: 14,
  month: 8,
  quarter: 7,
  second: 15,
  weekYear: 1,
  isoWeekYear: 1,
  week: 5,
  isoWeek: 5,
  year: 1
};
function jMe(r) {
  var e = [], t;
  for (t in r)
    yn(r, t) && e.push({ unit: t, priority: YMe[t] });
  return e.sort(function(i, a) {
    return i.priority - a.priority;
  }), e;
}
var zJ = /\d/, Lo = /\d\d/, WJ = /\d{3}/, oM = /\d{4}/, jS = /[+-]?\d{6}/, Zn = /\d\d?/, HJ = /\d\d\d\d?/, $J = /\d\d\d\d\d\d?/, qS = /\d{1,3}/, sM = /\d{1,4}/, XS = /[+-]?\d{1,6}/, X0 = /\d+/, KS = /[+-]?\d+/, qMe = /Z|[+-]\d\d:?\d\d/gi, ZS = /Z|[+-]\d\d(?::?\d\d)?/gi, XMe = /[+-]?\d+(\.\d{1,3})?/, ym = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i, K0 = /^[1-9]\d?/, lM = /^([1-9]\d|\d)/, qb;
qb = {};
function ir(r, e, t) {
  qb[r] = Ul(e) ? e : function(i, a) {
    return i && t ? t : e;
  };
}
function KMe(r, e) {
  return yn(qb, r) ? qb[r](e._strict, e._locale) : new RegExp(ZMe(r));
}
function ZMe(r) {
  return Iu(
    r.replace("\\", "").replace(
      /\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,
      function(e, t, i, a, n) {
        return t || i || a || n;
      }
    )
  );
}
function Iu(r) {
  return r.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
}
function ns(r) {
  return r < 0 ? Math.ceil(r) || 0 : Math.floor(r);
}
function ln(r) {
  var e = +r, t = 0;
  return e !== 0 && isFinite(e) && (t = ns(e)), t;
}
var kE = {};
function Vn(r, e) {
  var t, i = e, a;
  for (typeof r == "string" && (r = [r]), Yu(e) && (i = function(n, o) {
    o[e] = ln(n);
  }), a = r.length, t = 0; t < a; t++)
    kE[r[t]] = i;
}
function _m(r, e) {
  Vn(r, function(t, i, a, n) {
    a._w = a._w || {}, e(t, a._w, a, n);
  });
}
function JMe(r, e, t) {
  e != null && yn(kE, r) && kE[r](e, t._a, t, r);
}
function JS(r) {
  return r % 4 === 0 && r % 100 !== 0 || r % 400 === 0;
}
var Ga = 0, wu = 1, yl = 2, Ki = 3, Is = 4, Su = 5, Nf = 6, QMe = 7, eIe = 8;
br("Y", 0, 0, function() {
  var r = this.year();
  return r <= 9999 ? Ll(r, 4) : "+" + r;
});
br(0, ["YY", 2], 0, function() {
  return this.year() % 100;
});
br(0, ["YYYY", 4], 0, "year");
br(0, ["YYYYY", 5], 0, "year");
br(0, ["YYYYYY", 6, !0], 0, "year");
ir("Y", KS);
ir("YY", Zn, Lo);
ir("YYYY", sM, oM);
ir("YYYYY", XS, jS);
ir("YYYYYY", XS, jS);
Vn(["YYYYY", "YYYYYY"], Ga);
Vn("YYYY", function(r, e) {
  e[Ga] = r.length === 2 ? Nt.parseTwoDigitYear(r) : ln(r);
});
Vn("YY", function(r, e) {
  e[Ga] = Nt.parseTwoDigitYear(r);
});
Vn("Y", function(r, e) {
  e[Ga] = parseInt(r, 10);
});
function e1(r) {
  return JS(r) ? 366 : 365;
}
Nt.parseTwoDigitYear = function(r) {
  return ln(r) + (ln(r) > 68 ? 1900 : 2e3);
};
var YJ = Z0("FullYear", !0);
function tIe() {
  return JS(this.year());
}
function Z0(r, e) {
  return function(t) {
    return t != null ? (jJ(this, r, t), Nt.updateOffset(this, e), this) : F1(this, r);
  };
}
function F1(r, e) {
  if (!r.isValid())
    return NaN;
  var t = r._d, i = r._isUTC;
  switch (e) {
    case "Milliseconds":
      return i ? t.getUTCMilliseconds() : t.getMilliseconds();
    case "Seconds":
      return i ? t.getUTCSeconds() : t.getSeconds();
    case "Minutes":
      return i ? t.getUTCMinutes() : t.getMinutes();
    case "Hours":
      return i ? t.getUTCHours() : t.getHours();
    case "Date":
      return i ? t.getUTCDate() : t.getDate();
    case "Day":
      return i ? t.getUTCDay() : t.getDay();
    case "Month":
      return i ? t.getUTCMonth() : t.getMonth();
    case "FullYear":
      return i ? t.getUTCFullYear() : t.getFullYear();
    default:
      return NaN;
  }
}
function jJ(r, e, t) {
  var i, a, n, o, s;
  if (!(!r.isValid() || isNaN(t))) {
    switch (i = r._d, a = r._isUTC, e) {
      case "Milliseconds":
        return void (a ? i.setUTCMilliseconds(t) : i.setMilliseconds(t));
      case "Seconds":
        return void (a ? i.setUTCSeconds(t) : i.setSeconds(t));
      case "Minutes":
        return void (a ? i.setUTCMinutes(t) : i.setMinutes(t));
      case "Hours":
        return void (a ? i.setUTCHours(t) : i.setHours(t));
      case "Date":
        return void (a ? i.setUTCDate(t) : i.setDate(t));
      case "FullYear":
        break;
      default:
        return;
    }
    n = t, o = r.month(), s = r.date(), s = s === 29 && o === 1 && !JS(n) ? 28 : s, a ? i.setUTCFullYear(n, o, s) : i.setFullYear(n, o, s);
  }
}
function rIe(r) {
  return r = gs(r), Ul(this[r]) ? this[r]() : this;
}
function nIe(r, e) {
  if (typeof r == "object") {
    r = aM(r);
    var t = jMe(r), i, a = t.length;
    for (i = 0; i < a; i++)
      this[t[i].unit](r[t[i].unit]);
  } else if (r = gs(r), Ul(this[r]))
    return this[r](e);
  return this;
}
function iIe(r, e) {
  return (r % e + e) % e;
}
var Ai;
Array.prototype.indexOf ? Ai = Array.prototype.indexOf : Ai = function(r) {
  var e;
  for (e = 0; e < this.length; ++e)
    if (this[e] === r)
      return e;
  return -1;
};
function uM(r, e) {
  if (isNaN(r) || isNaN(e))
    return NaN;
  var t = iIe(e, 12);
  return r += (e - t) / 12, t === 1 ? JS(r) ? 29 : 28 : 31 - t % 7 % 2;
}
br("M", ["MM", 2], "Mo", function() {
  return this.month() + 1;
});
br("MMM", 0, 0, function(r) {
  return this.localeData().monthsShort(this, r);
});
br("MMMM", 0, 0, function(r) {
  return this.localeData().months(this, r);
});
ir("M", Zn, K0);
ir("MM", Zn, Lo);
ir("MMM", function(r, e) {
  return e.monthsShortRegex(r);
});
ir("MMMM", function(r, e) {
  return e.monthsRegex(r);
});
Vn(["M", "MM"], function(r, e) {
  e[wu] = ln(r) - 1;
});
Vn(["MMM", "MMMM"], function(r, e, t, i) {
  var a = t._locale.monthsParse(r, i, t._strict);
  a != null ? e[wu] = a : jr(t).invalidMonth = r;
});
var aIe = "January_February_March_April_May_June_July_August_September_October_November_December".split(
  "_"
), qJ = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), XJ = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/, oIe = ym, sIe = ym;
function lIe(r, e) {
  return r ? zs(this._months) ? this._months[r.month()] : this._months[(this._months.isFormat || XJ).test(e) ? "format" : "standalone"][r.month()] : zs(this._months) ? this._months : this._months.standalone;
}
function uIe(r, e) {
  return r ? zs(this._monthsShort) ? this._monthsShort[r.month()] : this._monthsShort[XJ.test(e) ? "format" : "standalone"][r.month()] : zs(this._monthsShort) ? this._monthsShort : this._monthsShort.standalone;
}
function cIe(r, e, t) {
  var i, a, n, o = r.toLocaleLowerCase();
  if (!this._monthsParse)
    for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], i = 0; i < 12; ++i)
      n = Vl([2e3, i]), this._shortMonthsParse[i] = this.monthsShort(
        n,
        ""
      ).toLocaleLowerCase(), this._longMonthsParse[i] = this.months(n, "").toLocaleLowerCase();
  return t ? e === "MMM" ? (a = Ai.call(this._shortMonthsParse, o), a !== -1 ? a : null) : (a = Ai.call(this._longMonthsParse, o), a !== -1 ? a : null) : e === "MMM" ? (a = Ai.call(this._shortMonthsParse, o), a !== -1 ? a : (a = Ai.call(this._longMonthsParse, o), a !== -1 ? a : null)) : (a = Ai.call(this._longMonthsParse, o), a !== -1 ? a : (a = Ai.call(this._shortMonthsParse, o), a !== -1 ? a : null));
}
function hIe(r, e, t) {
  var i, a, n;
  if (this._monthsParseExact)
    return cIe.call(this, r, e, t);
  for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), i = 0; i < 12; i++) {
    if (a = Vl([2e3, i]), t && !this._longMonthsParse[i] && (this._longMonthsParse[i] = new RegExp(
      "^" + this.months(a, "").replace(".", "") + "$",
      "i"
    ), this._shortMonthsParse[i] = new RegExp(
      "^" + this.monthsShort(a, "").replace(".", "") + "$",
      "i"
    )), !t && !this._monthsParse[i] && (n = "^" + this.months(a, "") + "|^" + this.monthsShort(a, ""), this._monthsParse[i] = new RegExp(n.replace(".", ""), "i")), t && e === "MMMM" && this._longMonthsParse[i].test(r))
      return i;
    if (t && e === "MMM" && this._shortMonthsParse[i].test(r))
      return i;
    if (!t && this._monthsParse[i].test(r))
      return i;
  }
}
function KJ(r, e) {
  if (!r.isValid())
    return r;
  if (typeof e == "string") {
    if (/^\d+$/.test(e))
      e = ln(e);
    else if (e = r.localeData().monthsParse(e), !Yu(e))
      return r;
  }
  var t = e, i = r.date();
  return i = i < 29 ? i : Math.min(i, uM(r.year(), t)), r._isUTC ? r._d.setUTCMonth(t, i) : r._d.setMonth(t, i), r;
}
function ZJ(r) {
  return r != null ? (KJ(this, r), Nt.updateOffset(this, !0), this) : F1(this, "Month");
}
function fIe() {
  return uM(this.year(), this.month());
}
function dIe(r) {
  return this._monthsParseExact ? (yn(this, "_monthsRegex") || JJ.call(this), r ? this._monthsShortStrictRegex : this._monthsShortRegex) : (yn(this, "_monthsShortRegex") || (this._monthsShortRegex = oIe), this._monthsShortStrictRegex && r ? this._monthsShortStrictRegex : this._monthsShortRegex);
}
function pIe(r) {
  return this._monthsParseExact ? (yn(this, "_monthsRegex") || JJ.call(this), r ? this._monthsStrictRegex : this._monthsRegex) : (yn(this, "_monthsRegex") || (this._monthsRegex = sIe), this._monthsStrictRegex && r ? this._monthsStrictRegex : this._monthsRegex);
}
function JJ() {
  function r(l, u) {
    return u.length - l.length;
  }
  var e = [], t = [], i = [], a, n, o, s;
  for (a = 0; a < 12; a++)
    n = Vl([2e3, a]), o = Iu(this.monthsShort(n, "")), s = Iu(this.months(n, "")), e.push(o), t.push(s), i.push(s), i.push(o);
  e.sort(r), t.sort(r), i.sort(r), this._monthsRegex = new RegExp("^(" + i.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp(
    "^(" + t.join("|") + ")",
    "i"
  ), this._monthsShortStrictRegex = new RegExp(
    "^(" + e.join("|") + ")",
    "i"
  );
}
function vIe(r, e, t, i, a, n, o) {
  var s;
  return r < 100 && r >= 0 ? (s = new Date(r + 400, e, t, i, a, n, o), isFinite(s.getFullYear()) && s.setFullYear(r)) : s = new Date(r, e, t, i, a, n, o), s;
}
function N1(r) {
  var e, t;
  return r < 100 && r >= 0 ? (t = Array.prototype.slice.call(arguments), t[0] = r + 400, e = new Date(Date.UTC.apply(null, t)), isFinite(e.getUTCFullYear()) && e.setUTCFullYear(r)) : e = new Date(Date.UTC.apply(null, arguments)), e;
}
function Xb(r, e, t) {
  var i = 7 + e - t, a = (7 + N1(r, 0, i).getUTCDay() - e) % 7;
  return -a + i - 1;
}
function QJ(r, e, t, i, a) {
  var n = (7 + t - i) % 7, o = Xb(r, i, a), s = 1 + 7 * (e - 1) + n + o, l, u;
  return s <= 0 ? (l = r - 1, u = e1(l) + s) : s > e1(r) ? (l = r + 1, u = s - e1(r)) : (l = r, u = s), {
    year: l,
    dayOfYear: u
  };
}
function B1(r, e, t) {
  var i = Xb(r.year(), e, t), a = Math.floor((r.dayOfYear() - i - 1) / 7) + 1, n, o;
  return a < 1 ? (o = r.year() - 1, n = a + Pu(o, e, t)) : a > Pu(r.year(), e, t) ? (n = a - Pu(r.year(), e, t), o = r.year() + 1) : (o = r.year(), n = a), {
    week: n,
    year: o
  };
}
function Pu(r, e, t) {
  var i = Xb(r, e, t), a = Xb(r + 1, e, t);
  return (e1(r) - i + a) / 7;
}
br("w", ["ww", 2], "wo", "week");
br("W", ["WW", 2], "Wo", "isoWeek");
ir("w", Zn, K0);
ir("ww", Zn, Lo);
ir("W", Zn, K0);
ir("WW", Zn, Lo);
_m(
  ["w", "ww", "W", "WW"],
  function(r, e, t, i) {
    e[i.substr(0, 1)] = ln(r);
  }
);
function gIe(r) {
  return B1(r, this._week.dow, this._week.doy).week;
}
var mIe = {
  dow: 0,
  // Sunday is the first day of the week.
  doy: 6
  // The week that contains Jan 6th is the first week of the year.
};
function yIe() {
  return this._week.dow;
}
function _Ie() {
  return this._week.doy;
}
function bIe(r) {
  var e = this.localeData().week(this);
  return r == null ? e : this.add((r - e) * 7, "d");
}
function wIe(r) {
  var e = B1(this, 1, 4).week;
  return r == null ? e : this.add((r - e) * 7, "d");
}
br("d", 0, "do", "day");
br("dd", 0, 0, function(r) {
  return this.localeData().weekdaysMin(this, r);
});
br("ddd", 0, 0, function(r) {
  return this.localeData().weekdaysShort(this, r);
});
br("dddd", 0, 0, function(r) {
  return this.localeData().weekdays(this, r);
});
br("e", 0, 0, "weekday");
br("E", 0, 0, "isoWeekday");
ir("d", Zn);
ir("e", Zn);
ir("E", Zn);
ir("dd", function(r, e) {
  return e.weekdaysMinRegex(r);
});
ir("ddd", function(r, e) {
  return e.weekdaysShortRegex(r);
});
ir("dddd", function(r, e) {
  return e.weekdaysRegex(r);
});
_m(["dd", "ddd", "dddd"], function(r, e, t, i) {
  var a = t._locale.weekdaysParse(r, i, t._strict);
  a != null ? e.d = a : jr(t).invalidWeekday = r;
});
_m(["d", "e", "E"], function(r, e, t, i) {
  e[i] = ln(r);
});
function SIe(r, e) {
  return typeof r != "string" ? r : isNaN(r) ? (r = e.weekdaysParse(r), typeof r == "number" ? r : null) : parseInt(r, 10);
}
function xIe(r, e) {
  return typeof r == "string" ? e.weekdaysParse(r) % 7 || 7 : isNaN(r) ? null : r;
}
function cM(r, e) {
  return r.slice(e, 7).concat(r.slice(0, e));
}
var TIe = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), eQ = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), CIe = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"), AIe = ym, EIe = ym, DIe = ym;
function kIe(r, e) {
  var t = zs(this._weekdays) ? this._weekdays : this._weekdays[r && r !== !0 && this._weekdays.isFormat.test(e) ? "format" : "standalone"];
  return r === !0 ? cM(t, this._week.dow) : r ? t[r.day()] : t;
}
function MIe(r) {
  return r === !0 ? cM(this._weekdaysShort, this._week.dow) : r ? this._weekdaysShort[r.day()] : this._weekdaysShort;
}
function IIe(r) {
  return r === !0 ? cM(this._weekdaysMin, this._week.dow) : r ? this._weekdaysMin[r.day()] : this._weekdaysMin;
}
function PIe(r, e, t) {
  var i, a, n, o = r.toLocaleLowerCase();
  if (!this._weekdaysParse)
    for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], i = 0; i < 7; ++i)
      n = Vl([2e3, 1]).day(i), this._minWeekdaysParse[i] = this.weekdaysMin(
        n,
        ""
      ).toLocaleLowerCase(), this._shortWeekdaysParse[i] = this.weekdaysShort(
        n,
        ""
      ).toLocaleLowerCase(), this._weekdaysParse[i] = this.weekdays(n, "").toLocaleLowerCase();
  return t ? e === "dddd" ? (a = Ai.call(this._weekdaysParse, o), a !== -1 ? a : null) : e === "ddd" ? (a = Ai.call(this._shortWeekdaysParse, o), a !== -1 ? a : null) : (a = Ai.call(this._minWeekdaysParse, o), a !== -1 ? a : null) : e === "dddd" ? (a = Ai.call(this._weekdaysParse, o), a !== -1 || (a = Ai.call(this._shortWeekdaysParse, o), a !== -1) ? a : (a = Ai.call(this._minWeekdaysParse, o), a !== -1 ? a : null)) : e === "ddd" ? (a = Ai.call(this._shortWeekdaysParse, o), a !== -1 || (a = Ai.call(this._weekdaysParse, o), a !== -1) ? a : (a = Ai.call(this._minWeekdaysParse, o), a !== -1 ? a : null)) : (a = Ai.call(this._minWeekdaysParse, o), a !== -1 || (a = Ai.call(this._weekdaysParse, o), a !== -1) ? a : (a = Ai.call(this._shortWeekdaysParse, o), a !== -1 ? a : null));
}
function RIe(r, e, t) {
  var i, a, n;
  if (this._weekdaysParseExact)
    return PIe.call(this, r, e, t);
  for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), i = 0; i < 7; i++) {
    if (a = Vl([2e3, 1]).day(i), t && !this._fullWeekdaysParse[i] && (this._fullWeekdaysParse[i] = new RegExp(
      "^" + this.weekdays(a, "").replace(".", "\\.?") + "$",
      "i"
    ), this._shortWeekdaysParse[i] = new RegExp(
      "^" + this.weekdaysShort(a, "").replace(".", "\\.?") + "$",
      "i"
    ), this._minWeekdaysParse[i] = new RegExp(
      "^" + this.weekdaysMin(a, "").replace(".", "\\.?") + "$",
      "i"
    )), this._weekdaysParse[i] || (n = "^" + this.weekdays(a, "") + "|^" + this.weekdaysShort(a, "") + "|^" + this.weekdaysMin(a, ""), this._weekdaysParse[i] = new RegExp(n.replace(".", ""), "i")), t && e === "dddd" && this._fullWeekdaysParse[i].test(r))
      return i;
    if (t && e === "ddd" && this._shortWeekdaysParse[i].test(r))
      return i;
    if (t && e === "dd" && this._minWeekdaysParse[i].test(r))
      return i;
    if (!t && this._weekdaysParse[i].test(r))
      return i;
  }
}
function LIe(r) {
  if (!this.isValid())
    return r != null ? this : NaN;
  var e = F1(this, "Day");
  return r != null ? (r = SIe(r, this.localeData()), this.add(r - e, "d")) : e;
}
function OIe(r) {
  if (!this.isValid())
    return r != null ? this : NaN;
  var e = (this.day() + 7 - this.localeData()._week.dow) % 7;
  return r == null ? e : this.add(r - e, "d");
}
function FIe(r) {
  if (!this.isValid())
    return r != null ? this : NaN;
  if (r != null) {
    var e = xIe(r, this.localeData());
    return this.day(this.day() % 7 ? e : e - 7);
  } else
    return this.day() || 7;
}
function NIe(r) {
  return this._weekdaysParseExact ? (yn(this, "_weekdaysRegex") || hM.call(this), r ? this._weekdaysStrictRegex : this._weekdaysRegex) : (yn(this, "_weekdaysRegex") || (this._weekdaysRegex = AIe), this._weekdaysStrictRegex && r ? this._weekdaysStrictRegex : this._weekdaysRegex);
}
function BIe(r) {
  return this._weekdaysParseExact ? (yn(this, "_weekdaysRegex") || hM.call(this), r ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (yn(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = EIe), this._weekdaysShortStrictRegex && r ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex);
}
function VIe(r) {
  return this._weekdaysParseExact ? (yn(this, "_weekdaysRegex") || hM.call(this), r ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (yn(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = DIe), this._weekdaysMinStrictRegex && r ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex);
}
function hM() {
  function r(c, f) {
    return f.length - c.length;
  }
  var e = [], t = [], i = [], a = [], n, o, s, l, u;
  for (n = 0; n < 7; n++)
    o = Vl([2e3, 1]).day(n), s = Iu(this.weekdaysMin(o, "")), l = Iu(this.weekdaysShort(o, "")), u = Iu(this.weekdays(o, "")), e.push(s), t.push(l), i.push(u), a.push(s), a.push(l), a.push(u);
  e.sort(r), t.sort(r), i.sort(r), a.sort(r), this._weekdaysRegex = new RegExp("^(" + a.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp(
    "^(" + i.join("|") + ")",
    "i"
  ), this._weekdaysShortStrictRegex = new RegExp(
    "^(" + t.join("|") + ")",
    "i"
  ), this._weekdaysMinStrictRegex = new RegExp(
    "^(" + e.join("|") + ")",
    "i"
  );
}
function fM() {
  return this.hours() % 12 || 12;
}
function UIe() {
  return this.hours() || 24;
}
br("H", ["HH", 2], 0, "hour");
br("h", ["hh", 2], 0, fM);
br("k", ["kk", 2], 0, UIe);
br("hmm", 0, 0, function() {
  return "" + fM.apply(this) + Ll(this.minutes(), 2);
});
br("hmmss", 0, 0, function() {
  return "" + fM.apply(this) + Ll(this.minutes(), 2) + Ll(this.seconds(), 2);
});
br("Hmm", 0, 0, function() {
  return "" + this.hours() + Ll(this.minutes(), 2);
});
br("Hmmss", 0, 0, function() {
  return "" + this.hours() + Ll(this.minutes(), 2) + Ll(this.seconds(), 2);
});
function tQ(r, e) {
  br(r, 0, 0, function() {
    return this.localeData().meridiem(
      this.hours(),
      this.minutes(),
      e
    );
  });
}
tQ("a", !0);
tQ("A", !1);
function rQ(r, e) {
  return e._meridiemParse;
}
ir("a", rQ);
ir("A", rQ);
ir("H", Zn, lM);
ir("h", Zn, K0);
ir("k", Zn, K0);
ir("HH", Zn, Lo);
ir("hh", Zn, Lo);
ir("kk", Zn, Lo);
ir("hmm", HJ);
ir("hmmss", $J);
ir("Hmm", HJ);
ir("Hmmss", $J);
Vn(["H", "HH"], Ki);
Vn(["k", "kk"], function(r, e, t) {
  var i = ln(r);
  e[Ki] = i === 24 ? 0 : i;
});
Vn(["a", "A"], function(r, e, t) {
  t._isPm = t._locale.isPM(r), t._meridiem = r;
});
Vn(["h", "hh"], function(r, e, t) {
  e[Ki] = ln(r), jr(t).bigHour = !0;
});
Vn("hmm", function(r, e, t) {
  var i = r.length - 2;
  e[Ki] = ln(r.substr(0, i)), e[Is] = ln(r.substr(i)), jr(t).bigHour = !0;
});
Vn("hmmss", function(r, e, t) {
  var i = r.length - 4, a = r.length - 2;
  e[Ki] = ln(r.substr(0, i)), e[Is] = ln(r.substr(i, 2)), e[Su] = ln(r.substr(a)), jr(t).bigHour = !0;
});
Vn("Hmm", function(r, e, t) {
  var i = r.length - 2;
  e[Ki] = ln(r.substr(0, i)), e[Is] = ln(r.substr(i));
});
Vn("Hmmss", function(r, e, t) {
  var i = r.length - 4, a = r.length - 2;
  e[Ki] = ln(r.substr(0, i)), e[Is] = ln(r.substr(i, 2)), e[Su] = ln(r.substr(a));
});
function GIe(r) {
  return (r + "").toLowerCase().charAt(0) === "p";
}
var zIe = /[ap]\.?m?\.?/i, WIe = Z0("Hours", !0);
function HIe(r, e, t) {
  return r > 11 ? t ? "pm" : "PM" : t ? "am" : "AM";
}
var nQ = {
  calendar: PMe,
  longDateFormat: FMe,
  invalidDate: BMe,
  ordinal: UMe,
  dayOfMonthOrdinalParse: GMe,
  relativeTime: WMe,
  months: aIe,
  monthsShort: qJ,
  week: mIe,
  weekdays: TIe,
  weekdaysMin: CIe,
  weekdaysShort: eQ,
  meridiemParse: zIe
}, ei = {}, yg = {}, V1;
function $Ie(r, e) {
  var t, i = Math.min(r.length, e.length);
  for (t = 0; t < i; t += 1)
    if (r[t] !== e[t])
      return t;
  return i;
}
function GG(r) {
  return r && r.toLowerCase().replace("_", "-");
}
function YIe(r) {
  for (var e = 0, t, i, a, n; e < r.length; ) {
    for (n = GG(r[e]).split("-"), t = n.length, i = GG(r[e + 1]), i = i ? i.split("-") : null; t > 0; ) {
      if (a = QS(n.slice(0, t).join("-")), a)
        return a;
      if (i && i.length >= t && $Ie(n, i) >= t - 1)
        break;
      t--;
    }
    e++;
  }
  return V1;
}
function jIe(r) {
  return !!(r && r.match("^[^/\\\\]*$"));
}
function QS(r) {
  var e = null, t;
  if (ei[r] === void 0 && typeof module < "u" && module && module.exports && jIe(r))
    try {
      e = V1._abbr, t = require, t("./locale/" + r), Yc(e);
    } catch {
      ei[r] = null;
    }
  return ei[r];
}
function Yc(r, e) {
  var t;
  return r && (co(e) ? t = ic(r) : t = dM(r, e), t ? V1 = t : typeof console < "u" && console.warn && console.warn(
    "Locale " + r + " not found. Did you forget to load it?"
  )), V1._abbr;
}
function dM(r, e) {
  if (e !== null) {
    var t, i = nQ;
    if (e.abbr = r, ei[r] != null)
      UJ(
        "defineLocaleOverride",
        "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."
      ), i = ei[r]._config;
    else if (e.parentLocale != null)
      if (ei[e.parentLocale] != null)
        i = ei[e.parentLocale]._config;
      else if (t = QS(e.parentLocale), t != null)
        i = t._config;
      else
        return yg[e.parentLocale] || (yg[e.parentLocale] = []), yg[e.parentLocale].push({
          name: r,
          config: e
        }), null;
    return ei[r] = new nM(EE(i, e)), yg[r] && yg[r].forEach(function(a) {
      dM(a.name, a.config);
    }), Yc(r), ei[r];
  } else
    return delete ei[r], null;
}
function qIe(r, e) {
  if (e != null) {
    var t, i, a = nQ;
    ei[r] != null && ei[r].parentLocale != null ? ei[r].set(EE(ei[r]._config, e)) : (i = QS(r), i != null && (a = i._config), e = EE(a, e), i == null && (e.abbr = r), t = new nM(e), t.parentLocale = ei[r], ei[r] = t), Yc(r);
  } else
    ei[r] != null && (ei[r].parentLocale != null ? (ei[r] = ei[r].parentLocale, r === Yc() && Yc(r)) : ei[r] != null && delete ei[r]);
  return ei[r];
}
function ic(r) {
  var e;
  if (r && r._locale && r._locale._abbr && (r = r._locale._abbr), !r)
    return V1;
  if (!zs(r)) {
    if (e = QS(r), e)
      return e;
    r = [r];
  }
  return YIe(r);
}
function XIe() {
  return DE(ei);
}
function pM(r) {
  var e, t = r._a;
  return t && jr(r).overflow === -2 && (e = t[wu] < 0 || t[wu] > 11 ? wu : t[yl] < 1 || t[yl] > uM(t[Ga], t[wu]) ? yl : t[Ki] < 0 || t[Ki] > 24 || t[Ki] === 24 && (t[Is] !== 0 || t[Su] !== 0 || t[Nf] !== 0) ? Ki : t[Is] < 0 || t[Is] > 59 ? Is : t[Su] < 0 || t[Su] > 59 ? Su : t[Nf] < 0 || t[Nf] > 999 ? Nf : -1, jr(r)._overflowDayOfYear && (e < Ga || e > yl) && (e = yl), jr(r)._overflowWeeks && e === -1 && (e = QMe), jr(r)._overflowWeekday && e === -1 && (e = eIe), jr(r).overflow = e), r;
}
var KIe = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/, ZIe = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/, JIe = /Z|[+-]\d\d(?::?\d\d)?/, L2 = [
  ["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/],
  ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/],
  ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/],
  ["GGGG-[W]WW", /\d{4}-W\d\d/, !1],
  ["YYYY-DDD", /\d{4}-\d{3}/],
  ["YYYY-MM", /\d{4}-\d\d/, !1],
  ["YYYYYYMMDD", /[+-]\d{10}/],
  ["YYYYMMDD", /\d{8}/],
  ["GGGG[W]WWE", /\d{4}W\d{3}/],
  ["GGGG[W]WW", /\d{4}W\d{2}/, !1],
  ["YYYYDDD", /\d{7}/],
  ["YYYYMM", /\d{6}/, !1],
  ["YYYY", /\d{4}/, !1]
], DT = [
  ["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/],
  ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/],
  ["HH:mm:ss", /\d\d:\d\d:\d\d/],
  ["HH:mm", /\d\d:\d\d/],
  ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/],
  ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/],
  ["HHmmss", /\d\d\d\d\d\d/],
  ["HHmm", /\d\d\d\d/],
  ["HH", /\d\d/]
], QIe = /^\/?Date\((-?\d+)/i, e7e = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/, t7e = {
  UT: 0,
  GMT: 0,
  EDT: -4 * 60,
  EST: -5 * 60,
  CDT: -5 * 60,
  CST: -6 * 60,
  MDT: -6 * 60,
  MST: -7 * 60,
  PDT: -7 * 60,
  PST: -8 * 60
};
function iQ(r) {
  var e, t, i = r._i, a = KIe.exec(i) || ZIe.exec(i), n, o, s, l, u = L2.length, c = DT.length;
  if (a) {
    for (jr(r).iso = !0, e = 0, t = u; e < t; e++)
      if (L2[e][1].exec(a[1])) {
        o = L2[e][0], n = L2[e][2] !== !1;
        break;
      }
    if (o == null) {
      r._isValid = !1;
      return;
    }
    if (a[3]) {
      for (e = 0, t = c; e < t; e++)
        if (DT[e][1].exec(a[3])) {
          s = (a[2] || " ") + DT[e][0];
          break;
        }
      if (s == null) {
        r._isValid = !1;
        return;
      }
    }
    if (!n && s != null) {
      r._isValid = !1;
      return;
    }
    if (a[4])
      if (JIe.exec(a[4]))
        l = "Z";
      else {
        r._isValid = !1;
        return;
      }
    r._f = o + (s || "") + (l || ""), gM(r);
  } else
    r._isValid = !1;
}
function r7e(r, e, t, i, a, n) {
  var o = [
    n7e(r),
    qJ.indexOf(e),
    parseInt(t, 10),
    parseInt(i, 10),
    parseInt(a, 10)
  ];
  return n && o.push(parseInt(n, 10)), o;
}
function n7e(r) {
  var e = parseInt(r, 10);
  return e <= 49 ? 2e3 + e : e <= 999 ? 1900 + e : e;
}
function i7e(r) {
  return r.replace(/\([^()]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "");
}
function a7e(r, e, t) {
  if (r) {
    var i = eQ.indexOf(r), a = new Date(
      e[0],
      e[1],
      e[2]
    ).getDay();
    if (i !== a)
      return jr(t).weekdayMismatch = !0, t._isValid = !1, !1;
  }
  return !0;
}
function o7e(r, e, t) {
  if (r)
    return t7e[r];
  if (e)
    return 0;
  var i = parseInt(t, 10), a = i % 100, n = (i - a) / 100;
  return n * 60 + a;
}
function aQ(r) {
  var e = e7e.exec(i7e(r._i)), t;
  if (e) {
    if (t = r7e(
      e[4],
      e[3],
      e[2],
      e[5],
      e[6],
      e[7]
    ), !a7e(e[1], t, r))
      return;
    r._a = t, r._tzm = o7e(e[8], e[9], e[10]), r._d = N1.apply(null, r._a), r._d.setUTCMinutes(r._d.getUTCMinutes() - r._tzm), jr(r).rfc2822 = !0;
  } else
    r._isValid = !1;
}
function s7e(r) {
  var e = QIe.exec(r._i);
  if (e !== null) {
    r._d = /* @__PURE__ */ new Date(+e[1]);
    return;
  }
  if (iQ(r), r._isValid === !1)
    delete r._isValid;
  else
    return;
  if (aQ(r), r._isValid === !1)
    delete r._isValid;
  else
    return;
  r._strict ? r._isValid = !1 : Nt.createFromInputFallback(r);
}
Nt.createFromInputFallback = vs(
  "value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",
  function(r) {
    r._d = /* @__PURE__ */ new Date(r._i + (r._useUTC ? " UTC" : ""));
  }
);
function Op(r, e, t) {
  return r ?? e ?? t;
}
function l7e(r) {
  var e = new Date(Nt.now());
  return r._useUTC ? [
    e.getUTCFullYear(),
    e.getUTCMonth(),
    e.getUTCDate()
  ] : [e.getFullYear(), e.getMonth(), e.getDate()];
}
function vM(r) {
  var e, t, i = [], a, n, o;
  if (!r._d) {
    for (a = l7e(r), r._w && r._a[yl] == null && r._a[wu] == null && u7e(r), r._dayOfYear != null && (o = Op(r._a[Ga], a[Ga]), (r._dayOfYear > e1(o) || r._dayOfYear === 0) && (jr(r)._overflowDayOfYear = !0), t = N1(o, 0, r._dayOfYear), r._a[wu] = t.getUTCMonth(), r._a[yl] = t.getUTCDate()), e = 0; e < 3 && r._a[e] == null; ++e)
      r._a[e] = i[e] = a[e];
    for (; e < 7; e++)
      r._a[e] = i[e] = r._a[e] == null ? e === 2 ? 1 : 0 : r._a[e];
    r._a[Ki] === 24 && r._a[Is] === 0 && r._a[Su] === 0 && r._a[Nf] === 0 && (r._nextDay = !0, r._a[Ki] = 0), r._d = (r._useUTC ? N1 : vIe).apply(
      null,
      i
    ), n = r._useUTC ? r._d.getUTCDay() : r._d.getDay(), r._tzm != null && r._d.setUTCMinutes(r._d.getUTCMinutes() - r._tzm), r._nextDay && (r._a[Ki] = 24), r._w && typeof r._w.d < "u" && r._w.d !== n && (jr(r).weekdayMismatch = !0);
  }
}
function u7e(r) {
  var e, t, i, a, n, o, s, l, u;
  e = r._w, e.GG != null || e.W != null || e.E != null ? (n = 1, o = 4, t = Op(
    e.GG,
    r._a[Ga],
    B1(Kn(), 1, 4).year
  ), i = Op(e.W, 1), a = Op(e.E, 1), (a < 1 || a > 7) && (l = !0)) : (n = r._locale._week.dow, o = r._locale._week.doy, u = B1(Kn(), n, o), t = Op(e.gg, r._a[Ga], u.year), i = Op(e.w, u.week), e.d != null ? (a = e.d, (a < 0 || a > 6) && (l = !0)) : e.e != null ? (a = e.e + n, (e.e < 0 || e.e > 6) && (l = !0)) : a = n), i < 1 || i > Pu(t, n, o) ? jr(r)._overflowWeeks = !0 : l != null ? jr(r)._overflowWeekday = !0 : (s = QJ(t, i, a, n, o), r._a[Ga] = s.year, r._dayOfYear = s.dayOfYear);
}
Nt.ISO_8601 = function() {
};
Nt.RFC_2822 = function() {
};
function gM(r) {
  if (r._f === Nt.ISO_8601) {
    iQ(r);
    return;
  }
  if (r._f === Nt.RFC_2822) {
    aQ(r);
    return;
  }
  r._a = [], jr(r).empty = !0;
  var e = "" + r._i, t, i, a, n, o, s = e.length, l = 0, u, c;
  for (a = GJ(r._f, r._locale).match(iM) || [], c = a.length, t = 0; t < c; t++)
    n = a[t], i = (e.match(KMe(n, r)) || [])[0], i && (o = e.substr(0, e.indexOf(i)), o.length > 0 && jr(r).unusedInput.push(o), e = e.slice(
      e.indexOf(i) + i.length
    ), l += i.length), Zp[n] ? (i ? jr(r).empty = !1 : jr(r).unusedTokens.push(n), JMe(n, i, r)) : r._strict && !i && jr(r).unusedTokens.push(n);
  jr(r).charsLeftOver = s - l, e.length > 0 && jr(r).unusedInput.push(e), r._a[Ki] <= 12 && jr(r).bigHour === !0 && r._a[Ki] > 0 && (jr(r).bigHour = void 0), jr(r).parsedDateParts = r._a.slice(0), jr(r).meridiem = r._meridiem, r._a[Ki] = c7e(
    r._locale,
    r._a[Ki],
    r._meridiem
  ), u = jr(r).era, u !== null && (r._a[Ga] = r._locale.erasConvertYear(u, r._a[Ga])), vM(r), pM(r);
}
function c7e(r, e, t) {
  var i;
  return t == null ? e : r.meridiemHour != null ? r.meridiemHour(e, t) : (r.isPM != null && (i = r.isPM(t), i && e < 12 && (e += 12), !i && e === 12 && (e = 0)), e);
}
function h7e(r) {
  var e, t, i, a, n, o, s = !1, l = r._f.length;
  if (l === 0) {
    jr(r).invalidFormat = !0, r._d = /* @__PURE__ */ new Date(NaN);
    return;
  }
  for (a = 0; a < l; a++)
    n = 0, o = !1, e = rM({}, r), r._useUTC != null && (e._useUTC = r._useUTC), e._f = r._f[a], gM(e), tM(e) && (o = !0), n += jr(e).charsLeftOver, n += jr(e).unusedTokens.length * 10, jr(e).score = n, s ? n < i && (i = n, t = e) : (i == null || n < i || o) && (i = n, t = e, o && (s = !0));
  Nc(r, t || e);
}
function f7e(r) {
  if (!r._d) {
    var e = aM(r._i), t = e.day === void 0 ? e.date : e.day;
    r._a = BJ(
      [e.year, e.month, t, e.hour, e.minute, e.second, e.millisecond],
      function(i) {
        return i && parseInt(i, 10);
      }
    ), vM(r);
  }
}
function d7e(r) {
  var e = new mm(pM(oQ(r)));
  return e._nextDay && (e.add(1, "d"), e._nextDay = void 0), e;
}
function oQ(r) {
  var e = r._i, t = r._f;
  return r._locale = r._locale || ic(r._l), e === null || t === void 0 && e === "" ? YS({ nullInput: !0 }) : (typeof e == "string" && (r._i = e = r._locale.preparse(e)), Ws(e) ? new mm(pM(e)) : (gm(e) ? r._d = e : zs(t) ? h7e(r) : t ? gM(r) : p7e(r), tM(r) || (r._d = null), r));
}
function p7e(r) {
  var e = r._i;
  co(e) ? r._d = new Date(Nt.now()) : gm(e) ? r._d = new Date(e.valueOf()) : typeof e == "string" ? s7e(r) : zs(e) ? (r._a = BJ(e.slice(0), function(t) {
    return parseInt(t, 10);
  }), vM(r)) : Xf(e) ? f7e(r) : Yu(e) ? r._d = new Date(e) : Nt.createFromInputFallback(r);
}
function sQ(r, e, t, i, a) {
  var n = {};
  return (e === !0 || e === !1) && (i = e, e = void 0), (t === !0 || t === !1) && (i = t, t = void 0), (Xf(r) && eM(r) || zs(r) && r.length === 0) && (r = void 0), n._isAMomentObject = !0, n._useUTC = n._isUTC = a, n._l = t, n._i = r, n._f = e, n._strict = i, d7e(n);
}
function Kn(r, e, t, i) {
  return sQ(r, e, t, i, !1);
}
var v7e = vs(
  "moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",
  function() {
    var r = Kn.apply(null, arguments);
    return this.isValid() && r.isValid() ? r < this ? this : r : YS();
  }
), g7e = vs(
  "moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",
  function() {
    var r = Kn.apply(null, arguments);
    return this.isValid() && r.isValid() ? r > this ? this : r : YS();
  }
);
function lQ(r, e) {
  var t, i;
  if (e.length === 1 && zs(e[0]) && (e = e[0]), !e.length)
    return Kn();
  for (t = e[0], i = 1; i < e.length; ++i)
    (!e[i].isValid() || e[i][r](t)) && (t = e[i]);
  return t;
}
function m7e() {
  var r = [].slice.call(arguments, 0);
  return lQ("isBefore", r);
}
function y7e() {
  var r = [].slice.call(arguments, 0);
  return lQ("isAfter", r);
}
var _7e = function() {
  return Date.now ? Date.now() : +/* @__PURE__ */ new Date();
}, _g = [
  "year",
  "quarter",
  "month",
  "week",
  "day",
  "hour",
  "minute",
  "second",
  "millisecond"
];
function b7e(r) {
  var e, t = !1, i, a = _g.length;
  for (e in r)
    if (yn(r, e) && !(Ai.call(_g, e) !== -1 && (r[e] == null || !isNaN(r[e]))))
      return !1;
  for (i = 0; i < a; ++i)
    if (r[_g[i]]) {
      if (t)
        return !1;
      parseFloat(r[_g[i]]) !== ln(r[_g[i]]) && (t = !0);
    }
  return !0;
}
function w7e() {
  return this._isValid;
}
function S7e() {
  return qs(NaN);
}
function ex(r) {
  var e = aM(r), t = e.year || 0, i = e.quarter || 0, a = e.month || 0, n = e.week || e.isoWeek || 0, o = e.day || 0, s = e.hour || 0, l = e.minute || 0, u = e.second || 0, c = e.millisecond || 0;
  this._isValid = b7e(e), this._milliseconds = +c + u * 1e3 + // 1000
  l * 6e4 + // 1000 * 60
  s * 1e3 * 60 * 60, this._days = +o + n * 7, this._months = +a + i * 3 + t * 12, this._data = {}, this._locale = ic(), this._bubble();
}
function v_(r) {
  return r instanceof ex;
}
function ME(r) {
  return r < 0 ? Math.round(-1 * r) * -1 : Math.round(r);
}
function x7e(r, e, t) {
  var i = Math.min(r.length, e.length), a = Math.abs(r.length - e.length), n = 0, o;
  for (o = 0; o < i; o++)
    (t && r[o] !== e[o] || !t && ln(r[o]) !== ln(e[o])) && n++;
  return n + a;
}
function uQ(r, e) {
  br(r, 0, 0, function() {
    var t = this.utcOffset(), i = "+";
    return t < 0 && (t = -t, i = "-"), i + Ll(~~(t / 60), 2) + e + Ll(~~t % 60, 2);
  });
}
uQ("Z", ":");
uQ("ZZ", "");
ir("Z", ZS);
ir("ZZ", ZS);
Vn(["Z", "ZZ"], function(r, e, t) {
  t._useUTC = !0, t._tzm = mM(ZS, r);
});
var T7e = /([\+\-]|\d\d)/gi;
function mM(r, e) {
  var t = (e || "").match(r), i, a, n;
  return t === null ? null : (i = t[t.length - 1] || [], a = (i + "").match(T7e) || ["-", 0, 0], n = +(a[1] * 60) + ln(a[2]), n === 0 ? 0 : a[0] === "+" ? n : -n);
}
function yM(r, e) {
  var t, i;
  return e._isUTC ? (t = e.clone(), i = (Ws(r) || gm(r) ? r.valueOf() : Kn(r).valueOf()) - t.valueOf(), t._d.setTime(t._d.valueOf() + i), Nt.updateOffset(t, !1), t) : Kn(r).local();
}
function IE(r) {
  return -Math.round(r._d.getTimezoneOffset());
}
Nt.updateOffset = function() {
};
function C7e(r, e, t) {
  var i = this._offset || 0, a;
  if (!this.isValid())
    return r != null ? this : NaN;
  if (r != null) {
    if (typeof r == "string") {
      if (r = mM(ZS, r), r === null)
        return this;
    } else
      Math.abs(r) < 16 && !t && (r = r * 60);
    return !this._isUTC && e && (a = IE(this)), this._offset = r, this._isUTC = !0, a != null && this.add(a, "m"), i !== r && (!e || this._changeInProgress ? fQ(
      this,
      qs(r - i, "m"),
      1,
      !1
    ) : this._changeInProgress || (this._changeInProgress = !0, Nt.updateOffset(this, !0), this._changeInProgress = null)), this;
  } else
    return this._isUTC ? i : IE(this);
}
function A7e(r, e) {
  return r != null ? (typeof r != "string" && (r = -r), this.utcOffset(r, e), this) : -this.utcOffset();
}
function E7e(r) {
  return this.utcOffset(0, r);
}
function D7e(r) {
  return this._isUTC && (this.utcOffset(0, r), this._isUTC = !1, r && this.subtract(IE(this), "m")), this;
}
function k7e() {
  if (this._tzm != null)
    this.utcOffset(this._tzm, !1, !0);
  else if (typeof this._i == "string") {
    var r = mM(qMe, this._i);
    r != null ? this.utcOffset(r) : this.utcOffset(0, !0);
  }
  return this;
}
function M7e(r) {
  return this.isValid() ? (r = r ? Kn(r).utcOffset() : 0, (this.utcOffset() - r) % 60 === 0) : !1;
}
function I7e() {
  return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset();
}
function P7e() {
  if (!co(this._isDSTShifted))
    return this._isDSTShifted;
  var r = {}, e;
  return rM(r, this), r = oQ(r), r._a ? (e = r._isUTC ? Vl(r._a) : Kn(r._a), this._isDSTShifted = this.isValid() && x7e(r._a, e.toArray()) > 0) : this._isDSTShifted = !1, this._isDSTShifted;
}
function R7e() {
  return this.isValid() ? !this._isUTC : !1;
}
function L7e() {
  return this.isValid() ? this._isUTC : !1;
}
function cQ() {
  return this.isValid() ? this._isUTC && this._offset === 0 : !1;
}
var O7e = /^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/, F7e = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;
function qs(r, e) {
  var t = r, i = null, a, n, o;
  return v_(r) ? t = {
    ms: r._milliseconds,
    d: r._days,
    M: r._months
  } : Yu(r) || !isNaN(+r) ? (t = {}, e ? t[e] = +r : t.milliseconds = +r) : (i = O7e.exec(r)) ? (a = i[1] === "-" ? -1 : 1, t = {
    y: 0,
    d: ln(i[yl]) * a,
    h: ln(i[Ki]) * a,
    m: ln(i[Is]) * a,
    s: ln(i[Su]) * a,
    ms: ln(ME(i[Nf] * 1e3)) * a
    // the millisecond decimal point is included in the match
  }) : (i = F7e.exec(r)) ? (a = i[1] === "-" ? -1 : 1, t = {
    y: ff(i[2], a),
    M: ff(i[3], a),
    w: ff(i[4], a),
    d: ff(i[5], a),
    h: ff(i[6], a),
    m: ff(i[7], a),
    s: ff(i[8], a)
  }) : t == null ? t = {} : typeof t == "object" && ("from" in t || "to" in t) && (o = N7e(
    Kn(t.from),
    Kn(t.to)
  ), t = {}, t.ms = o.milliseconds, t.M = o.months), n = new ex(t), v_(r) && yn(r, "_locale") && (n._locale = r._locale), v_(r) && yn(r, "_isValid") && (n._isValid = r._isValid), n;
}
qs.fn = ex.prototype;
qs.invalid = S7e;
function ff(r, e) {
  var t = r && parseFloat(r.replace(",", "."));
  return (isNaN(t) ? 0 : t) * e;
}
function zG(r, e) {
  var t = {};
  return t.months = e.month() - r.month() + (e.year() - r.year()) * 12, r.clone().add(t.months, "M").isAfter(e) && --t.months, t.milliseconds = +e - +r.clone().add(t.months, "M"), t;
}
function N7e(r, e) {
  var t;
  return r.isValid() && e.isValid() ? (e = yM(e, r), r.isBefore(e) ? t = zG(r, e) : (t = zG(e, r), t.milliseconds = -t.milliseconds, t.months = -t.months), t) : { milliseconds: 0, months: 0 };
}
function hQ(r, e) {
  return function(t, i) {
    var a, n;
    return i !== null && !isNaN(+i) && (UJ(
      e,
      "moment()." + e + "(period, number) is deprecated. Please use moment()." + e + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."
    ), n = t, t = i, i = n), a = qs(t, i), fQ(this, a, r), this;
  };
}
function fQ(r, e, t, i) {
  var a = e._milliseconds, n = ME(e._days), o = ME(e._months);
  r.isValid() && (i = i ?? !0, o && KJ(r, F1(r, "Month") + o * t), n && jJ(r, "Date", F1(r, "Date") + n * t), a && r._d.setTime(r._d.valueOf() + a * t), i && Nt.updateOffset(r, n || o));
}
var B7e = hQ(1, "add"), V7e = hQ(-1, "subtract");
function dQ(r) {
  return typeof r == "string" || r instanceof String;
}
function U7e(r) {
  return Ws(r) || gm(r) || dQ(r) || Yu(r) || z7e(r) || G7e(r) || r === null || r === void 0;
}
function G7e(r) {
  var e = Xf(r) && !eM(r), t = !1, i = [
    "years",
    "year",
    "y",
    "months",
    "month",
    "M",
    "days",
    "day",
    "d",
    "dates",
    "date",
    "D",
    "hours",
    "hour",
    "h",
    "minutes",
    "minute",
    "m",
    "seconds",
    "second",
    "s",
    "milliseconds",
    "millisecond",
    "ms"
  ], a, n, o = i.length;
  for (a = 0; a < o; a += 1)
    n = i[a], t = t || yn(r, n);
  return e && t;
}
function z7e(r) {
  var e = zs(r), t = !1;
  return e && (t = r.filter(function(i) {
    return !Yu(i) && dQ(r);
  }).length === 0), e && t;
}
function W7e(r) {
  var e = Xf(r) && !eM(r), t = !1, i = [
    "sameDay",
    "nextDay",
    "lastDay",
    "nextWeek",
    "lastWeek",
    "sameElse"
  ], a, n;
  for (a = 0; a < i.length; a += 1)
    n = i[a], t = t || yn(r, n);
  return e && t;
}
function H7e(r, e) {
  var t = r.diff(e, "days", !0);
  return t < -6 ? "sameElse" : t < -1 ? "lastWeek" : t < 0 ? "lastDay" : t < 1 ? "sameDay" : t < 2 ? "nextDay" : t < 7 ? "nextWeek" : "sameElse";
}
function $7e(r, e) {
  arguments.length === 1 && (arguments[0] ? U7e(arguments[0]) ? (r = arguments[0], e = void 0) : W7e(arguments[0]) && (e = arguments[0], r = void 0) : (r = void 0, e = void 0));
  var t = r || Kn(), i = yM(t, this).startOf("day"), a = Nt.calendarFormat(this, i) || "sameElse", n = e && (Ul(e[a]) ? e[a].call(this, t) : e[a]);
  return this.format(
    n || this.localeData().calendar(a, this, Kn(t))
  );
}
function Y7e() {
  return new mm(this);
}
function j7e(r, e) {
  var t = Ws(r) ? r : Kn(r);
  return this.isValid() && t.isValid() ? (e = gs(e) || "millisecond", e === "millisecond" ? this.valueOf() > t.valueOf() : t.valueOf() < this.clone().startOf(e).valueOf()) : !1;
}
function q7e(r, e) {
  var t = Ws(r) ? r : Kn(r);
  return this.isValid() && t.isValid() ? (e = gs(e) || "millisecond", e === "millisecond" ? this.valueOf() < t.valueOf() : this.clone().endOf(e).valueOf() < t.valueOf()) : !1;
}
function X7e(r, e, t, i) {
  var a = Ws(r) ? r : Kn(r), n = Ws(e) ? e : Kn(e);
  return this.isValid() && a.isValid() && n.isValid() ? (i = i || "()", (i[0] === "(" ? this.isAfter(a, t) : !this.isBefore(a, t)) && (i[1] === ")" ? this.isBefore(n, t) : !this.isAfter(n, t))) : !1;
}
function K7e(r, e) {
  var t = Ws(r) ? r : Kn(r), i;
  return this.isValid() && t.isValid() ? (e = gs(e) || "millisecond", e === "millisecond" ? this.valueOf() === t.valueOf() : (i = t.valueOf(), this.clone().startOf(e).valueOf() <= i && i <= this.clone().endOf(e).valueOf())) : !1;
}
function Z7e(r, e) {
  return this.isSame(r, e) || this.isAfter(r, e);
}
function J7e(r, e) {
  return this.isSame(r, e) || this.isBefore(r, e);
}
function Q7e(r, e, t) {
  var i, a, n;
  if (!this.isValid())
    return NaN;
  if (i = yM(r, this), !i.isValid())
    return NaN;
  switch (a = (i.utcOffset() - this.utcOffset()) * 6e4, e = gs(e), e) {
    case "year":
      n = g_(this, i) / 12;
      break;
    case "month":
      n = g_(this, i);
      break;
    case "quarter":
      n = g_(this, i) / 3;
      break;
    case "second":
      n = (this - i) / 1e3;
      break;
    case "minute":
      n = (this - i) / 6e4;
      break;
    case "hour":
      n = (this - i) / 36e5;
      break;
    case "day":
      n = (this - i - a) / 864e5;
      break;
    case "week":
      n = (this - i - a) / 6048e5;
      break;
    default:
      n = this - i;
  }
  return t ? n : ns(n);
}
function g_(r, e) {
  if (r.date() < e.date())
    return -g_(e, r);
  var t = (e.year() - r.year()) * 12 + (e.month() - r.month()), i = r.clone().add(t, "months"), a, n;
  return e - i < 0 ? (a = r.clone().add(t - 1, "months"), n = (e - i) / (i - a)) : (a = r.clone().add(t + 1, "months"), n = (e - i) / (a - i)), -(t + n) || 0;
}
Nt.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ";
Nt.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]";
function e9e() {
  return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
}
function t9e(r) {
  if (!this.isValid())
    return null;
  var e = r !== !0, t = e ? this.clone().utc() : this;
  return t.year() < 0 || t.year() > 9999 ? p_(
    t,
    e ? "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"
  ) : Ul(Date.prototype.toISOString) ? e ? this.toDate().toISOString() : new Date(this.valueOf() + this.utcOffset() * 60 * 1e3).toISOString().replace("Z", p_(t, "Z")) : p_(
    t,
    e ? "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYY-MM-DD[T]HH:mm:ss.SSSZ"
  );
}
function r9e() {
  if (!this.isValid())
    return "moment.invalid(/* " + this._i + " */)";
  var r = "moment", e = "", t, i, a, n;
  return this.isLocal() || (r = this.utcOffset() === 0 ? "moment.utc" : "moment.parseZone", e = "Z"), t = "[" + r + '("]', i = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY", a = "-MM-DD[T]HH:mm:ss.SSS", n = e + '[")]', this.format(t + i + a + n);
}
function n9e(r) {
  r || (r = this.isUtc() ? Nt.defaultFormatUtc : Nt.defaultFormat);
  var e = p_(this, r);
  return this.localeData().postformat(e);
}
function i9e(r, e) {
  return this.isValid() && (Ws(r) && r.isValid() || Kn(r).isValid()) ? qs({ to: this, from: r }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate();
}
function a9e(r) {
  return this.from(Kn(), r);
}
function o9e(r, e) {
  return this.isValid() && (Ws(r) && r.isValid() || Kn(r).isValid()) ? qs({ from: this, to: r }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate();
}
function s9e(r) {
  return this.to(Kn(), r);
}
function pQ(r) {
  var e;
  return r === void 0 ? this._locale._abbr : (e = ic(r), e != null && (this._locale = e), this);
}
var vQ = vs(
  "moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",
  function(r) {
    return r === void 0 ? this.localeData() : this.locale(r);
  }
);
function gQ() {
  return this._locale;
}
var Kb = 1e3, Jp = 60 * Kb, Zb = 60 * Jp, mQ = (365 * 400 + 97) * 24 * Zb;
function Qp(r, e) {
  return (r % e + e) % e;
}
function yQ(r, e, t) {
  return r < 100 && r >= 0 ? new Date(r + 400, e, t) - mQ : new Date(r, e, t).valueOf();
}
function _Q(r, e, t) {
  return r < 100 && r >= 0 ? Date.UTC(r + 400, e, t) - mQ : Date.UTC(r, e, t);
}
function l9e(r) {
  var e, t;
  if (r = gs(r), r === void 0 || r === "millisecond" || !this.isValid())
    return this;
  switch (t = this._isUTC ? _Q : yQ, r) {
    case "year":
      e = t(this.year(), 0, 1);
      break;
    case "quarter":
      e = t(
        this.year(),
        this.month() - this.month() % 3,
        1
      );
      break;
    case "month":
      e = t(this.year(), this.month(), 1);
      break;
    case "week":
      e = t(
        this.year(),
        this.month(),
        this.date() - this.weekday()
      );
      break;
    case "isoWeek":
      e = t(
        this.year(),
        this.month(),
        this.date() - (this.isoWeekday() - 1)
      );
      break;
    case "day":
    case "date":
      e = t(this.year(), this.month(), this.date());
      break;
    case "hour":
      e = this._d.valueOf(), e -= Qp(
        e + (this._isUTC ? 0 : this.utcOffset() * Jp),
        Zb
      );
      break;
    case "minute":
      e = this._d.valueOf(), e -= Qp(e, Jp);
      break;
    case "second":
      e = this._d.valueOf(), e -= Qp(e, Kb);
      break;
  }
  return this._d.setTime(e), Nt.updateOffset(this, !0), this;
}
function u9e(r) {
  var e, t;
  if (r = gs(r), r === void 0 || r === "millisecond" || !this.isValid())
    return this;
  switch (t = this._isUTC ? _Q : yQ, r) {
    case "year":
      e = t(this.year() + 1, 0, 1) - 1;
      break;
    case "quarter":
      e = t(
        this.year(),
        this.month() - this.month() % 3 + 3,
        1
      ) - 1;
      break;
    case "month":
      e = t(this.year(), this.month() + 1, 1) - 1;
      break;
    case "week":
      e = t(
        this.year(),
        this.month(),
        this.date() - this.weekday() + 7
      ) - 1;
      break;
    case "isoWeek":
      e = t(
        this.year(),
        this.month(),
        this.date() - (this.isoWeekday() - 1) + 7
      ) - 1;
      break;
    case "day":
    case "date":
      e = t(this.year(), this.month(), this.date() + 1) - 1;
      break;
    case "hour":
      e = this._d.valueOf(), e += Zb - Qp(
        e + (this._isUTC ? 0 : this.utcOffset() * Jp),
        Zb
      ) - 1;
      break;
    case "minute":
      e = this._d.valueOf(), e += Jp - Qp(e, Jp) - 1;
      break;
    case "second":
      e = this._d.valueOf(), e += Kb - Qp(e, Kb) - 1;
      break;
  }
  return this._d.setTime(e), Nt.updateOffset(this, !0), this;
}
function c9e() {
  return this._d.valueOf() - (this._offset || 0) * 6e4;
}
function h9e() {
  return Math.floor(this.valueOf() / 1e3);
}
function f9e() {
  return new Date(this.valueOf());
}
function d9e() {
  var r = this;
  return [
    r.year(),
    r.month(),
    r.date(),
    r.hour(),
    r.minute(),
    r.second(),
    r.millisecond()
  ];
}
function p9e() {
  var r = this;
  return {
    years: r.year(),
    months: r.month(),
    date: r.date(),
    hours: r.hours(),
    minutes: r.minutes(),
    seconds: r.seconds(),
    milliseconds: r.milliseconds()
  };
}
function v9e() {
  return this.isValid() ? this.toISOString() : null;
}
function g9e() {
  return tM(this);
}
function m9e() {
  return Nc({}, jr(this));
}
function y9e() {
  return jr(this).overflow;
}
function _9e() {
  return {
    input: this._i,
    format: this._f,
    locale: this._locale,
    isUTC: this._isUTC,
    strict: this._strict
  };
}
br("N", 0, 0, "eraAbbr");
br("NN", 0, 0, "eraAbbr");
br("NNN", 0, 0, "eraAbbr");
br("NNNN", 0, 0, "eraName");
br("NNNNN", 0, 0, "eraNarrow");
br("y", ["y", 1], "yo", "eraYear");
br("y", ["yy", 2], 0, "eraYear");
br("y", ["yyy", 3], 0, "eraYear");
br("y", ["yyyy", 4], 0, "eraYear");
ir("N", _M);
ir("NN", _M);
ir("NNN", _M);
ir("NNNN", M9e);
ir("NNNNN", I9e);
Vn(
  ["N", "NN", "NNN", "NNNN", "NNNNN"],
  function(r, e, t, i) {
    var a = t._locale.erasParse(r, i, t._strict);
    a ? jr(t).era = a : jr(t).invalidEra = r;
  }
);
ir("y", X0);
ir("yy", X0);
ir("yyy", X0);
ir("yyyy", X0);
ir("yo", P9e);
Vn(["y", "yy", "yyy", "yyyy"], Ga);
Vn(["yo"], function(r, e, t, i) {
  var a;
  t._locale._eraYearOrdinalRegex && (a = r.match(t._locale._eraYearOrdinalRegex)), t._locale.eraYearOrdinalParse ? e[Ga] = t._locale.eraYearOrdinalParse(r, a) : e[Ga] = parseInt(r, 10);
});
function b9e(r, e) {
  var t, i, a, n = this._eras || ic("en")._eras;
  for (t = 0, i = n.length; t < i; ++t) {
    switch (typeof n[t].since) {
      case "string":
        a = Nt(n[t].since).startOf("day"), n[t].since = a.valueOf();
        break;
    }
    switch (typeof n[t].until) {
      case "undefined":
        n[t].until = 1 / 0;
        break;
      case "string":
        a = Nt(n[t].until).startOf("day").valueOf(), n[t].until = a.valueOf();
        break;
    }
  }
  return n;
}
function w9e(r, e, t) {
  var i, a, n = this.eras(), o, s, l;
  for (r = r.toUpperCase(), i = 0, a = n.length; i < a; ++i)
    if (o = n[i].name.toUpperCase(), s = n[i].abbr.toUpperCase(), l = n[i].narrow.toUpperCase(), t)
      switch (e) {
        case "N":
        case "NN":
        case "NNN":
          if (s === r)
            return n[i];
          break;
        case "NNNN":
          if (o === r)
            return n[i];
          break;
        case "NNNNN":
          if (l === r)
            return n[i];
          break;
      }
    else if ([o, s, l].indexOf(r) >= 0)
      return n[i];
}
function S9e(r, e) {
  var t = r.since <= r.until ? 1 : -1;
  return e === void 0 ? Nt(r.since).year() : Nt(r.since).year() + (e - r.offset) * t;
}
function x9e() {
  var r, e, t, i = this.localeData().eras();
  for (r = 0, e = i.length; r < e; ++r)
    if (t = this.clone().startOf("day").valueOf(), i[r].since <= t && t <= i[r].until || i[r].until <= t && t <= i[r].since)
      return i[r].name;
  return "";
}
function T9e() {
  var r, e, t, i = this.localeData().eras();
  for (r = 0, e = i.length; r < e; ++r)
    if (t = this.clone().startOf("day").valueOf(), i[r].since <= t && t <= i[r].until || i[r].until <= t && t <= i[r].since)
      return i[r].narrow;
  return "";
}
function C9e() {
  var r, e, t, i = this.localeData().eras();
  for (r = 0, e = i.length; r < e; ++r)
    if (t = this.clone().startOf("day").valueOf(), i[r].since <= t && t <= i[r].until || i[r].until <= t && t <= i[r].since)
      return i[r].abbr;
  return "";
}
function A9e() {
  var r, e, t, i, a = this.localeData().eras();
  for (r = 0, e = a.length; r < e; ++r)
    if (t = a[r].since <= a[r].until ? 1 : -1, i = this.clone().startOf("day").valueOf(), a[r].since <= i && i <= a[r].until || a[r].until <= i && i <= a[r].since)
      return (this.year() - Nt(a[r].since).year()) * t + a[r].offset;
  return this.year();
}
function E9e(r) {
  return yn(this, "_erasNameRegex") || bM.call(this), r ? this._erasNameRegex : this._erasRegex;
}
function D9e(r) {
  return yn(this, "_erasAbbrRegex") || bM.call(this), r ? this._erasAbbrRegex : this._erasRegex;
}
function k9e(r) {
  return yn(this, "_erasNarrowRegex") || bM.call(this), r ? this._erasNarrowRegex : this._erasRegex;
}
function _M(r, e) {
  return e.erasAbbrRegex(r);
}
function M9e(r, e) {
  return e.erasNameRegex(r);
}
function I9e(r, e) {
  return e.erasNarrowRegex(r);
}
function P9e(r, e) {
  return e._eraYearOrdinalRegex || X0;
}
function bM() {
  var r = [], e = [], t = [], i = [], a, n, o, s, l, u = this.eras();
  for (a = 0, n = u.length; a < n; ++a)
    o = Iu(u[a].name), s = Iu(u[a].abbr), l = Iu(u[a].narrow), e.push(o), r.push(s), t.push(l), i.push(o), i.push(s), i.push(l);
  this._erasRegex = new RegExp("^(" + i.join("|") + ")", "i"), this._erasNameRegex = new RegExp("^(" + e.join("|") + ")", "i"), this._erasAbbrRegex = new RegExp("^(" + r.join("|") + ")", "i"), this._erasNarrowRegex = new RegExp(
    "^(" + t.join("|") + ")",
    "i"
  );
}
br(0, ["gg", 2], 0, function() {
  return this.weekYear() % 100;
});
br(0, ["GG", 2], 0, function() {
  return this.isoWeekYear() % 100;
});
function tx(r, e) {
  br(0, [r, r.length], 0, e);
}
tx("gggg", "weekYear");
tx("ggggg", "weekYear");
tx("GGGG", "isoWeekYear");
tx("GGGGG", "isoWeekYear");
ir("G", KS);
ir("g", KS);
ir("GG", Zn, Lo);
ir("gg", Zn, Lo);
ir("GGGG", sM, oM);
ir("gggg", sM, oM);
ir("GGGGG", XS, jS);
ir("ggggg", XS, jS);
_m(
  ["gggg", "ggggg", "GGGG", "GGGGG"],
  function(r, e, t, i) {
    e[i.substr(0, 2)] = ln(r);
  }
);
_m(["gg", "GG"], function(r, e, t, i) {
  e[i] = Nt.parseTwoDigitYear(r);
});
function R9e(r) {
  return bQ.call(
    this,
    r,
    this.week(),
    this.weekday() + this.localeData()._week.dow,
    this.localeData()._week.dow,
    this.localeData()._week.doy
  );
}
function L9e(r) {
  return bQ.call(
    this,
    r,
    this.isoWeek(),
    this.isoWeekday(),
    1,
    4
  );
}
function O9e() {
  return Pu(this.year(), 1, 4);
}
function F9e() {
  return Pu(this.isoWeekYear(), 1, 4);
}
function N9e() {
  var r = this.localeData()._week;
  return Pu(this.year(), r.dow, r.doy);
}
function B9e() {
  var r = this.localeData()._week;
  return Pu(this.weekYear(), r.dow, r.doy);
}
function bQ(r, e, t, i, a) {
  var n;
  return r == null ? B1(this, i, a).year : (n = Pu(r, i, a), e > n && (e = n), V9e.call(this, r, e, t, i, a));
}
function V9e(r, e, t, i, a) {
  var n = QJ(r, e, t, i, a), o = N1(n.year, 0, n.dayOfYear);
  return this.year(o.getUTCFullYear()), this.month(o.getUTCMonth()), this.date(o.getUTCDate()), this;
}
br("Q", 0, "Qo", "quarter");
ir("Q", zJ);
Vn("Q", function(r, e) {
  e[wu] = (ln(r) - 1) * 3;
});
function U9e(r) {
  return r == null ? Math.ceil((this.month() + 1) / 3) : this.month((r - 1) * 3 + this.month() % 3);
}
br("D", ["DD", 2], "Do", "date");
ir("D", Zn, K0);
ir("DD", Zn, Lo);
ir("Do", function(r, e) {
  return r ? e._dayOfMonthOrdinalParse || e._ordinalParse : e._dayOfMonthOrdinalParseLenient;
});
Vn(["D", "DD"], yl);
Vn("Do", function(r, e) {
  e[yl] = ln(r.match(Zn)[0]);
});
var wQ = Z0("Date", !0);
br("DDD", ["DDDD", 3], "DDDo", "dayOfYear");
ir("DDD", qS);
ir("DDDD", WJ);
Vn(["DDD", "DDDD"], function(r, e, t) {
  t._dayOfYear = ln(r);
});
function G9e(r) {
  var e = Math.round(
    (this.clone().startOf("day") - this.clone().startOf("year")) / 864e5
  ) + 1;
  return r == null ? e : this.add(r - e, "d");
}
br("m", ["mm", 2], 0, "minute");
ir("m", Zn, lM);
ir("mm", Zn, Lo);
Vn(["m", "mm"], Is);
var z9e = Z0("Minutes", !1);
br("s", ["ss", 2], 0, "second");
ir("s", Zn, lM);
ir("ss", Zn, Lo);
Vn(["s", "ss"], Su);
var W9e = Z0("Seconds", !1);
br("S", 0, 0, function() {
  return ~~(this.millisecond() / 100);
});
br(0, ["SS", 2], 0, function() {
  return ~~(this.millisecond() / 10);
});
br(0, ["SSS", 3], 0, "millisecond");
br(0, ["SSSS", 4], 0, function() {
  return this.millisecond() * 10;
});
br(0, ["SSSSS", 5], 0, function() {
  return this.millisecond() * 100;
});
br(0, ["SSSSSS", 6], 0, function() {
  return this.millisecond() * 1e3;
});
br(0, ["SSSSSSS", 7], 0, function() {
  return this.millisecond() * 1e4;
});
br(0, ["SSSSSSSS", 8], 0, function() {
  return this.millisecond() * 1e5;
});
br(0, ["SSSSSSSSS", 9], 0, function() {
  return this.millisecond() * 1e6;
});
ir("S", qS, zJ);
ir("SS", qS, Lo);
ir("SSS", qS, WJ);
var Bc, SQ;
for (Bc = "SSSS"; Bc.length <= 9; Bc += "S")
  ir(Bc, X0);
function H9e(r, e) {
  e[Nf] = ln(("0." + r) * 1e3);
}
for (Bc = "S"; Bc.length <= 9; Bc += "S")
  Vn(Bc, H9e);
SQ = Z0("Milliseconds", !1);
br("z", 0, 0, "zoneAbbr");
br("zz", 0, 0, "zoneName");
function $9e() {
  return this._isUTC ? "UTC" : "";
}
function Y9e() {
  return this._isUTC ? "Coordinated Universal Time" : "";
}
var Ct = mm.prototype;
Ct.add = B7e;
Ct.calendar = $7e;
Ct.clone = Y7e;
Ct.diff = Q7e;
Ct.endOf = u9e;
Ct.format = n9e;
Ct.from = i9e;
Ct.fromNow = a9e;
Ct.to = o9e;
Ct.toNow = s9e;
Ct.get = rIe;
Ct.invalidAt = y9e;
Ct.isAfter = j7e;
Ct.isBefore = q7e;
Ct.isBetween = X7e;
Ct.isSame = K7e;
Ct.isSameOrAfter = Z7e;
Ct.isSameOrBefore = J7e;
Ct.isValid = g9e;
Ct.lang = vQ;
Ct.locale = pQ;
Ct.localeData = gQ;
Ct.max = g7e;
Ct.min = v7e;
Ct.parsingFlags = m9e;
Ct.set = nIe;
Ct.startOf = l9e;
Ct.subtract = V7e;
Ct.toArray = d9e;
Ct.toObject = p9e;
Ct.toDate = f9e;
Ct.toISOString = t9e;
Ct.inspect = r9e;
typeof Symbol < "u" && Symbol.for != null && (Ct[Symbol.for("nodejs.util.inspect.custom")] = function() {
  return "Moment<" + this.format() + ">";
});
Ct.toJSON = v9e;
Ct.toString = e9e;
Ct.unix = h9e;
Ct.valueOf = c9e;
Ct.creationData = _9e;
Ct.eraName = x9e;
Ct.eraNarrow = T9e;
Ct.eraAbbr = C9e;
Ct.eraYear = A9e;
Ct.year = YJ;
Ct.isLeapYear = tIe;
Ct.weekYear = R9e;
Ct.isoWeekYear = L9e;
Ct.quarter = Ct.quarters = U9e;
Ct.month = ZJ;
Ct.daysInMonth = fIe;
Ct.week = Ct.weeks = bIe;
Ct.isoWeek = Ct.isoWeeks = wIe;
Ct.weeksInYear = N9e;
Ct.weeksInWeekYear = B9e;
Ct.isoWeeksInYear = O9e;
Ct.isoWeeksInISOWeekYear = F9e;
Ct.date = wQ;
Ct.day = Ct.days = LIe;
Ct.weekday = OIe;
Ct.isoWeekday = FIe;
Ct.dayOfYear = G9e;
Ct.hour = Ct.hours = WIe;
Ct.minute = Ct.minutes = z9e;
Ct.second = Ct.seconds = W9e;
Ct.millisecond = Ct.milliseconds = SQ;
Ct.utcOffset = C7e;
Ct.utc = E7e;
Ct.local = D7e;
Ct.parseZone = k7e;
Ct.hasAlignedHourOffset = M7e;
Ct.isDST = I7e;
Ct.isLocal = R7e;
Ct.isUtcOffset = L7e;
Ct.isUtc = cQ;
Ct.isUTC = cQ;
Ct.zoneAbbr = $9e;
Ct.zoneName = Y9e;
Ct.dates = vs(
  "dates accessor is deprecated. Use date instead.",
  wQ
);
Ct.months = vs(
  "months accessor is deprecated. Use month instead",
  ZJ
);
Ct.years = vs(
  "years accessor is deprecated. Use year instead",
  YJ
);
Ct.zone = vs(
  "moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",
  A7e
);
Ct.isDSTShifted = vs(
  "isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",
  P7e
);
function j9e(r) {
  return Kn(r * 1e3);
}
function q9e() {
  return Kn.apply(null, arguments).parseZone();
}
function xQ(r) {
  return r;
}
var _n = nM.prototype;
_n.calendar = RMe;
_n.longDateFormat = NMe;
_n.invalidDate = VMe;
_n.ordinal = zMe;
_n.preparse = xQ;
_n.postformat = xQ;
_n.relativeTime = HMe;
_n.pastFuture = $Me;
_n.set = IMe;
_n.eras = b9e;
_n.erasParse = w9e;
_n.erasConvertYear = S9e;
_n.erasAbbrRegex = D9e;
_n.erasNameRegex = E9e;
_n.erasNarrowRegex = k9e;
_n.months = lIe;
_n.monthsShort = uIe;
_n.monthsParse = hIe;
_n.monthsRegex = pIe;
_n.monthsShortRegex = dIe;
_n.week = gIe;
_n.firstDayOfYear = _Ie;
_n.firstDayOfWeek = yIe;
_n.weekdays = kIe;
_n.weekdaysMin = IIe;
_n.weekdaysShort = MIe;
_n.weekdaysParse = RIe;
_n.weekdaysRegex = NIe;
_n.weekdaysShortRegex = BIe;
_n.weekdaysMinRegex = VIe;
_n.isPM = GIe;
_n.meridiem = HIe;
function Jb(r, e, t, i) {
  var a = ic(), n = Vl().set(i, e);
  return a[t](n, r);
}
function TQ(r, e, t) {
  if (Yu(r) && (e = r, r = void 0), r = r || "", e != null)
    return Jb(r, e, t, "month");
  var i, a = [];
  for (i = 0; i < 12; i++)
    a[i] = Jb(r, i, t, "month");
  return a;
}
function wM(r, e, t, i) {
  typeof r == "boolean" ? (Yu(e) && (t = e, e = void 0), e = e || "") : (e = r, t = e, r = !1, Yu(e) && (t = e, e = void 0), e = e || "");
  var a = ic(), n = r ? a._week.dow : 0, o, s = [];
  if (t != null)
    return Jb(e, (t + n) % 7, i, "day");
  for (o = 0; o < 7; o++)
    s[o] = Jb(e, (o + n) % 7, i, "day");
  return s;
}
function X9e(r, e) {
  return TQ(r, e, "months");
}
function K9e(r, e) {
  return TQ(r, e, "monthsShort");
}
function Z9e(r, e, t) {
  return wM(r, e, t, "weekdays");
}
function J9e(r, e, t) {
  return wM(r, e, t, "weekdaysShort");
}
function Q9e(r, e, t) {
  return wM(r, e, t, "weekdaysMin");
}
Yc("en", {
  eras: [
    {
      since: "0001-01-01",
      until: 1 / 0,
      offset: 1,
      name: "Anno Domini",
      narrow: "AD",
      abbr: "AD"
    },
    {
      since: "0000-12-31",
      until: -1 / 0,
      offset: 1,
      name: "Before Christ",
      narrow: "BC",
      abbr: "BC"
    }
  ],
  dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
  ordinal: function(r) {
    var e = r % 10, t = ln(r % 100 / 10) === 1 ? "th" : e === 1 ? "st" : e === 2 ? "nd" : e === 3 ? "rd" : "th";
    return r + t;
  }
});
Nt.lang = vs(
  "moment.lang is deprecated. Use moment.locale instead.",
  Yc
);
Nt.langData = vs(
  "moment.langData is deprecated. Use moment.localeData instead.",
  ic
);
var ru = Math.abs;
function ePe() {
  var r = this._data;
  return this._milliseconds = ru(this._milliseconds), this._days = ru(this._days), this._months = ru(this._months), r.milliseconds = ru(r.milliseconds), r.seconds = ru(r.seconds), r.minutes = ru(r.minutes), r.hours = ru(r.hours), r.months = ru(r.months), r.years = ru(r.years), this;
}
function CQ(r, e, t, i) {
  var a = qs(e, t);
  return r._milliseconds += i * a._milliseconds, r._days += i * a._days, r._months += i * a._months, r._bubble();
}
function tPe(r, e) {
  return CQ(this, r, e, 1);
}
function rPe(r, e) {
  return CQ(this, r, e, -1);
}
function WG(r) {
  return r < 0 ? Math.floor(r) : Math.ceil(r);
}
function nPe() {
  var r = this._milliseconds, e = this._days, t = this._months, i = this._data, a, n, o, s, l;
  return r >= 0 && e >= 0 && t >= 0 || r <= 0 && e <= 0 && t <= 0 || (r += WG(PE(t) + e) * 864e5, e = 0, t = 0), i.milliseconds = r % 1e3, a = ns(r / 1e3), i.seconds = a % 60, n = ns(a / 60), i.minutes = n % 60, o = ns(n / 60), i.hours = o % 24, e += ns(o / 24), l = ns(AQ(e)), t += l, e -= WG(PE(l)), s = ns(t / 12), t %= 12, i.days = e, i.months = t, i.years = s, this;
}
function AQ(r) {
  return r * 4800 / 146097;
}
function PE(r) {
  return r * 146097 / 4800;
}
function iPe(r) {
  if (!this.isValid())
    return NaN;
  var e, t, i = this._milliseconds;
  if (r = gs(r), r === "month" || r === "quarter" || r === "year")
    switch (e = this._days + i / 864e5, t = this._months + AQ(e), r) {
      case "month":
        return t;
      case "quarter":
        return t / 3;
      case "year":
        return t / 12;
    }
  else
    switch (e = this._days + Math.round(PE(this._months)), r) {
      case "week":
        return e / 7 + i / 6048e5;
      case "day":
        return e + i / 864e5;
      case "hour":
        return e * 24 + i / 36e5;
      case "minute":
        return e * 1440 + i / 6e4;
      case "second":
        return e * 86400 + i / 1e3;
      case "millisecond":
        return Math.floor(e * 864e5) + i;
      default:
        throw new Error("Unknown unit " + r);
    }
}
function ac(r) {
  return function() {
    return this.as(r);
  };
}
var EQ = ac("ms"), aPe = ac("s"), oPe = ac("m"), sPe = ac("h"), lPe = ac("d"), uPe = ac("w"), cPe = ac("M"), hPe = ac("Q"), fPe = ac("y"), dPe = EQ;
function pPe() {
  return qs(this);
}
function vPe(r) {
  return r = gs(r), this.isValid() ? this[r + "s"]() : NaN;
}
function Id(r) {
  return function() {
    return this.isValid() ? this._data[r] : NaN;
  };
}
var gPe = Id("milliseconds"), mPe = Id("seconds"), yPe = Id("minutes"), _Pe = Id("hours"), bPe = Id("days"), wPe = Id("months"), SPe = Id("years");
function xPe() {
  return ns(this.days() / 7);
}
var cu = Math.round, Hp = {
  ss: 44,
  // a few seconds to seconds
  s: 45,
  // seconds to minute
  m: 45,
  // minutes to hour
  h: 22,
  // hours to day
  d: 26,
  // days to month/week
  w: null,
  // weeks to month
  M: 11
  // months to year
};
function TPe(r, e, t, i, a) {
  return a.relativeTime(e || 1, !!t, r, i);
}
function CPe(r, e, t, i) {
  var a = qs(r).abs(), n = cu(a.as("s")), o = cu(a.as("m")), s = cu(a.as("h")), l = cu(a.as("d")), u = cu(a.as("M")), c = cu(a.as("w")), f = cu(a.as("y")), d = n <= t.ss && ["s", n] || n < t.s && ["ss", n] || o <= 1 && ["m"] || o < t.m && ["mm", o] || s <= 1 && ["h"] || s < t.h && ["hh", s] || l <= 1 && ["d"] || l < t.d && ["dd", l];
  return t.w != null && (d = d || c <= 1 && ["w"] || c < t.w && ["ww", c]), d = d || u <= 1 && ["M"] || u < t.M && ["MM", u] || f <= 1 && ["y"] || ["yy", f], d[2] = e, d[3] = +r > 0, d[4] = i, TPe.apply(null, d);
}
function APe(r) {
  return r === void 0 ? cu : typeof r == "function" ? (cu = r, !0) : !1;
}
function EPe(r, e) {
  return Hp[r] === void 0 ? !1 : e === void 0 ? Hp[r] : (Hp[r] = e, r === "s" && (Hp.ss = e - 1), !0);
}
function DPe(r, e) {
  if (!this.isValid())
    return this.localeData().invalidDate();
  var t = !1, i = Hp, a, n;
  return typeof r == "object" && (e = r, r = !1), typeof r == "boolean" && (t = r), typeof e == "object" && (i = Object.assign({}, Hp, e), e.s != null && e.ss == null && (i.ss = e.s - 1)), a = this.localeData(), n = CPe(this, !t, i, a), t && (n = a.pastFuture(+this, n)), a.postformat(n);
}
var kT = Math.abs;
function Dp(r) {
  return (r > 0) - (r < 0) || +r;
}
function rx() {
  if (!this.isValid())
    return this.localeData().invalidDate();
  var r = kT(this._milliseconds) / 1e3, e = kT(this._days), t = kT(this._months), i, a, n, o, s = this.asSeconds(), l, u, c, f;
  return s ? (i = ns(r / 60), a = ns(i / 60), r %= 60, i %= 60, n = ns(t / 12), t %= 12, o = r ? r.toFixed(3).replace(/\.?0+$/, "") : "", l = s < 0 ? "-" : "", u = Dp(this._months) !== Dp(s) ? "-" : "", c = Dp(this._days) !== Dp(s) ? "-" : "", f = Dp(this._milliseconds) !== Dp(s) ? "-" : "", l + "P" + (n ? u + n + "Y" : "") + (t ? u + t + "M" : "") + (e ? c + e + "D" : "") + (a || i || r ? "T" : "") + (a ? f + a + "H" : "") + (i ? f + i + "M" : "") + (r ? f + o + "S" : "")) : "P0D";
}
var hn = ex.prototype;
hn.isValid = w7e;
hn.abs = ePe;
hn.add = tPe;
hn.subtract = rPe;
hn.as = iPe;
hn.asMilliseconds = EQ;
hn.asSeconds = aPe;
hn.asMinutes = oPe;
hn.asHours = sPe;
hn.asDays = lPe;
hn.asWeeks = uPe;
hn.asMonths = cPe;
hn.asQuarters = hPe;
hn.asYears = fPe;
hn.valueOf = dPe;
hn._bubble = nPe;
hn.clone = pPe;
hn.get = vPe;
hn.milliseconds = gPe;
hn.seconds = mPe;
hn.minutes = yPe;
hn.hours = _Pe;
hn.days = bPe;
hn.weeks = xPe;
hn.months = wPe;
hn.years = SPe;
hn.humanize = DPe;
hn.toISOString = rx;
hn.toString = rx;
hn.toJSON = rx;
hn.locale = pQ;
hn.localeData = gQ;
hn.toIsoString = vs(
  "toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",
  rx
);
hn.lang = vQ;
br("X", 0, 0, "unix");
br("x", 0, 0, "valueOf");
ir("x", KS);
ir("X", XMe);
Vn("X", function(r, e, t) {
  t._d = new Date(parseFloat(r) * 1e3);
});
Vn("x", function(r, e, t) {
  t._d = new Date(ln(r));
});
//! moment.js
Nt.version = "2.30.1";
kMe(Kn);
Nt.fn = Ct;
Nt.min = m7e;
Nt.max = y7e;
Nt.now = _7e;
Nt.utc = Vl;
Nt.unix = j9e;
Nt.months = X9e;
Nt.isDate = gm;
Nt.locale = Yc;
Nt.invalid = YS;
Nt.duration = qs;
Nt.isMoment = Ws;
Nt.weekdays = Z9e;
Nt.parseZone = q9e;
Nt.localeData = ic;
Nt.isDuration = v_;
Nt.monthsShort = K9e;
Nt.weekdaysMin = Q9e;
Nt.defineLocale = dM;
Nt.updateLocale = qIe;
Nt.locales = XIe;
Nt.weekdaysShort = J9e;
Nt.normalizeUnits = gs;
Nt.relativeTimeRounding = APe;
Nt.relativeTimeThreshold = EPe;
Nt.calendarFormat = H7e;
Nt.prototype = Ct;
Nt.HTML5_FMT = {
  DATETIME_LOCAL: "YYYY-MM-DDTHH:mm",
  // <input type="datetime-local" />
  DATETIME_LOCAL_SECONDS: "YYYY-MM-DDTHH:mm:ss",
  // <input type="datetime-local" step="1" />
  DATETIME_LOCAL_MS: "YYYY-MM-DDTHH:mm:ss.SSS",
  // <input type="datetime-local" step="0.001" />
  DATE: "YYYY-MM-DD",
  // <input type="date" />
  TIME: "HH:mm",
  // <input type="time" />
  TIME_SECONDS: "HH:mm:ss",
  // <input type="time" step="1" />
  TIME_MS: "HH:mm:ss.SSS",
  // <input type="time" step="0.001" />
  WEEK: "GGGG-[W]WW",
  // <input type="week" />
  MONTH: "YYYY-MM"
  // <input type="month" />
};
function m_(r) {
  throw new Error('Could not dynamically require "' + r + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');
}
var RE = { exports: {} }, MT = { exports: {} };
/*! cpexcel.js (C) 2013-present SheetJS -- http://sheetjs.com */
var HG;
function kPe() {
  return HG || (HG = 1, function(r) {
    var e = { version: "1.15.0" };
    e[437] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[620] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[737] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[850] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[852] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[857] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[861] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[865] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[866] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[874] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[895] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[932] = function() {
      var t = [], i = {}, a = [], n;
      for (a[0] = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""), n = 0; n != a[0].length; ++n)
        a[0][n].charCodeAt(0) !== 65533 && (i[a[0][n]] = 0 + n, t[0 + n] = a[0][n]);
      for (a[129] = "".split(""), n = 0; n != a[129].length; ++n)
        a[129][n].charCodeAt(0) !== 65533 && (i[a[129][n]] = 33024 + n, t[33024 + n] = a[129][n]);
      for (a[130] = "".split(""), n = 0; n != a[130].length; ++n)
        a[130][n].charCodeAt(0) !== 65533 && (i[a[130][n]] = 33280 + n, t[33280 + n] = a[130][n]);
      for (a[131] = "".split(""), n = 0; n != a[131].length; ++n)
        a[131][n].charCodeAt(0) !== 65533 && (i[a[131][n]] = 33536 + n, t[33536 + n] = a[131][n]);
      for (a[132] = "".split(""), n = 0; n != a[132].length; ++n)
        a[132][n].charCodeAt(0) !== 65533 && (i[a[132][n]] = 33792 + n, t[33792 + n] = a[132][n]);
      for (a[135] = "".split(""), n = 0; n != a[135].length; ++n)
        a[135][n].charCodeAt(0) !== 65533 && (i[a[135][n]] = 34560 + n, t[34560 + n] = a[135][n]);
      for (a[136] = "".split(""), n = 0; n != a[136].length; ++n)
        a[136][n].charCodeAt(0) !== 65533 && (i[a[136][n]] = 34816 + n, t[34816 + n] = a[136][n]);
      for (a[137] = "".split(""), n = 0; n != a[137].length; ++n)
        a[137][n].charCodeAt(0) !== 65533 && (i[a[137][n]] = 35072 + n, t[35072 + n] = a[137][n]);
      for (a[138] = "".split(""), n = 0; n != a[138].length; ++n)
        a[138][n].charCodeAt(0) !== 65533 && (i[a[138][n]] = 35328 + n, t[35328 + n] = a[138][n]);
      for (a[139] = "".split(""), n = 0; n != a[139].length; ++n)
        a[139][n].charCodeAt(0) !== 65533 && (i[a[139][n]] = 35584 + n, t[35584 + n] = a[139][n]);
      for (a[140] = "".split(""), n = 0; n != a[140].length; ++n)
        a[140][n].charCodeAt(0) !== 65533 && (i[a[140][n]] = 35840 + n, t[35840 + n] = a[140][n]);
      for (a[141] = "".split(""), n = 0; n != a[141].length; ++n)
        a[141][n].charCodeAt(0) !== 65533 && (i[a[141][n]] = 36096 + n, t[36096 + n] = a[141][n]);
      for (a[142] = "".split(""), n = 0; n != a[142].length; ++n)
        a[142][n].charCodeAt(0) !== 65533 && (i[a[142][n]] = 36352 + n, t[36352 + n] = a[142][n]);
      for (a[143] = "".split(""), n = 0; n != a[143].length; ++n)
        a[143][n].charCodeAt(0) !== 65533 && (i[a[143][n]] = 36608 + n, t[36608 + n] = a[143][n]);
      for (a[144] = "".split(""), n = 0; n != a[144].length; ++n)
        a[144][n].charCodeAt(0) !== 65533 && (i[a[144][n]] = 36864 + n, t[36864 + n] = a[144][n]);
      for (a[145] = "".split(""), n = 0; n != a[145].length; ++n)
        a[145][n].charCodeAt(0) !== 65533 && (i[a[145][n]] = 37120 + n, t[37120 + n] = a[145][n]);
      for (a[146] = "".split(""), n = 0; n != a[146].length; ++n)
        a[146][n].charCodeAt(0) !== 65533 && (i[a[146][n]] = 37376 + n, t[37376 + n] = a[146][n]);
      for (a[147] = "".split(""), n = 0; n != a[147].length; ++n)
        a[147][n].charCodeAt(0) !== 65533 && (i[a[147][n]] = 37632 + n, t[37632 + n] = a[147][n]);
      for (a[148] = "".split(""), n = 0; n != a[148].length; ++n)
        a[148][n].charCodeAt(0) !== 65533 && (i[a[148][n]] = 37888 + n, t[37888 + n] = a[148][n]);
      for (a[149] = "".split(""), n = 0; n != a[149].length; ++n)
        a[149][n].charCodeAt(0) !== 65533 && (i[a[149][n]] = 38144 + n, t[38144 + n] = a[149][n]);
      for (a[150] = "".split(""), n = 0; n != a[150].length; ++n)
        a[150][n].charCodeAt(0) !== 65533 && (i[a[150][n]] = 38400 + n, t[38400 + n] = a[150][n]);
      for (a[151] = "".split(""), n = 0; n != a[151].length; ++n)
        a[151][n].charCodeAt(0) !== 65533 && (i[a[151][n]] = 38656 + n, t[38656 + n] = a[151][n]);
      for (a[152] = "".split(""), n = 0; n != a[152].length; ++n)
        a[152][n].charCodeAt(0) !== 65533 && (i[a[152][n]] = 38912 + n, t[38912 + n] = a[152][n]);
      for (a[153] = "".split(""), n = 0; n != a[153].length; ++n)
        a[153][n].charCodeAt(0) !== 65533 && (i[a[153][n]] = 39168 + n, t[39168 + n] = a[153][n]);
      for (a[154] = "".split(""), n = 0; n != a[154].length; ++n)
        a[154][n].charCodeAt(0) !== 65533 && (i[a[154][n]] = 39424 + n, t[39424 + n] = a[154][n]);
      for (a[155] = "".split(""), n = 0; n != a[155].length; ++n)
        a[155][n].charCodeAt(0) !== 65533 && (i[a[155][n]] = 39680 + n, t[39680 + n] = a[155][n]);
      for (a[156] = "".split(""), n = 0; n != a[156].length; ++n)
        a[156][n].charCodeAt(0) !== 65533 && (i[a[156][n]] = 39936 + n, t[39936 + n] = a[156][n]);
      for (a[157] = "".split(""), n = 0; n != a[157].length; ++n)
        a[157][n].charCodeAt(0) !== 65533 && (i[a[157][n]] = 40192 + n, t[40192 + n] = a[157][n]);
      for (a[158] = "".split(""), n = 0; n != a[158].length; ++n)
        a[158][n].charCodeAt(0) !== 65533 && (i[a[158][n]] = 40448 + n, t[40448 + n] = a[158][n]);
      for (a[159] = "".split(""), n = 0; n != a[159].length; ++n)
        a[159][n].charCodeAt(0) !== 65533 && (i[a[159][n]] = 40704 + n, t[40704 + n] = a[159][n]);
      for (a[224] = "".split(""), n = 0; n != a[224].length; ++n)
        a[224][n].charCodeAt(0) !== 65533 && (i[a[224][n]] = 57344 + n, t[57344 + n] = a[224][n]);
      for (a[225] = "".split(""), n = 0; n != a[225].length; ++n)
        a[225][n].charCodeAt(0) !== 65533 && (i[a[225][n]] = 57600 + n, t[57600 + n] = a[225][n]);
      for (a[226] = "".split(""), n = 0; n != a[226].length; ++n)
        a[226][n].charCodeAt(0) !== 65533 && (i[a[226][n]] = 57856 + n, t[57856 + n] = a[226][n]);
      for (a[227] = "".split(""), n = 0; n != a[227].length; ++n)
        a[227][n].charCodeAt(0) !== 65533 && (i[a[227][n]] = 58112 + n, t[58112 + n] = a[227][n]);
      for (a[228] = "".split(""), n = 0; n != a[228].length; ++n)
        a[228][n].charCodeAt(0) !== 65533 && (i[a[228][n]] = 58368 + n, t[58368 + n] = a[228][n]);
      for (a[229] = "".split(""), n = 0; n != a[229].length; ++n)
        a[229][n].charCodeAt(0) !== 65533 && (i[a[229][n]] = 58624 + n, t[58624 + n] = a[229][n]);
      for (a[230] = "".split(""), n = 0; n != a[230].length; ++n)
        a[230][n].charCodeAt(0) !== 65533 && (i[a[230][n]] = 58880 + n, t[58880 + n] = a[230][n]);
      for (a[231] = "".split(""), n = 0; n != a[231].length; ++n)
        a[231][n].charCodeAt(0) !== 65533 && (i[a[231][n]] = 59136 + n, t[59136 + n] = a[231][n]);
      for (a[232] = "".split(""), n = 0; n != a[232].length; ++n)
        a[232][n].charCodeAt(0) !== 65533 && (i[a[232][n]] = 59392 + n, t[59392 + n] = a[232][n]);
      for (a[233] = "".split(""), n = 0; n != a[233].length; ++n)
        a[233][n].charCodeAt(0) !== 65533 && (i[a[233][n]] = 59648 + n, t[59648 + n] = a[233][n]);
      for (a[234] = "".split(""), n = 0; n != a[234].length; ++n)
        a[234][n].charCodeAt(0) !== 65533 && (i[a[234][n]] = 59904 + n, t[59904 + n] = a[234][n]);
      for (a[237] = "".split(""), n = 0; n != a[237].length; ++n)
        a[237][n].charCodeAt(0) !== 65533 && (i[a[237][n]] = 60672 + n, t[60672 + n] = a[237][n]);
      for (a[238] = "".split(""), n = 0; n != a[238].length; ++n)
        a[238][n].charCodeAt(0) !== 65533 && (i[a[238][n]] = 60928 + n, t[60928 + n] = a[238][n]);
      for (a[250] = "".split(""), n = 0; n != a[250].length; ++n)
        a[250][n].charCodeAt(0) !== 65533 && (i[a[250][n]] = 64e3 + n, t[64e3 + n] = a[250][n]);
      for (a[251] = "".split(""), n = 0; n != a[251].length; ++n)
        a[251][n].charCodeAt(0) !== 65533 && (i[a[251][n]] = 64256 + n, t[64256 + n] = a[251][n]);
      for (a[252] = "".split(""), n = 0; n != a[252].length; ++n)
        a[252][n].charCodeAt(0) !== 65533 && (i[a[252][n]] = 64512 + n, t[64512 + n] = a[252][n]);
      return { enc: i, dec: t };
    }(), e[936] = function() {
      var t = [], i = {}, a = [], n;
      for (a[0] = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""), n = 0; n != a[0].length; ++n)
        a[0][n].charCodeAt(0) !== 65533 && (i[a[0][n]] = 0 + n, t[0 + n] = a[0][n]);
      for (a[129] = "".split(""), n = 0; n != a[129].length; ++n)
        a[129][n].charCodeAt(0) !== 65533 && (i[a[129][n]] = 33024 + n, t[33024 + n] = a[129][n]);
      for (a[130] = "".split(""), n = 0; n != a[130].length; ++n)
        a[130][n].charCodeAt(0) !== 65533 && (i[a[130][n]] = 33280 + n, t[33280 + n] = a[130][n]);
      for (a[131] = "".split(""), n = 0; n != a[131].length; ++n)
        a[131][n].charCodeAt(0) !== 65533 && (i[a[131][n]] = 33536 + n, t[33536 + n] = a[131][n]);
      for (a[132] = "".split(""), n = 0; n != a[132].length; ++n)
        a[132][n].charCodeAt(0) !== 65533 && (i[a[132][n]] = 33792 + n, t[33792 + n] = a[132][n]);
      for (a[133] = "".split(""), n = 0; n != a[133].length; ++n)
        a[133][n].charCodeAt(0) !== 65533 && (i[a[133][n]] = 34048 + n, t[34048 + n] = a[133][n]);
      for (a[134] = "".split(""), n = 0; n != a[134].length; ++n)
        a[134][n].charCodeAt(0) !== 65533 && (i[a[134][n]] = 34304 + n, t[34304 + n] = a[134][n]);
      for (a[135] = "".split(""), n = 0; n != a[135].length; ++n)
        a[135][n].charCodeAt(0) !== 65533 && (i[a[135][n]] = 34560 + n, t[34560 + n] = a[135][n]);
      for (a[136] = "".split(""), n = 0; n != a[136].length; ++n)
        a[136][n].charCodeAt(0) !== 65533 && (i[a[136][n]] = 34816 + n, t[34816 + n] = a[136][n]);
      for (a[137] = "".split(""), n = 0; n != a[137].length; ++n)
        a[137][n].charCodeAt(0) !== 65533 && (i[a[137][n]] = 35072 + n, t[35072 + n] = a[137][n]);
      for (a[138] = "".split(""), n = 0; n != a[138].length; ++n)
        a[138][n].charCodeAt(0) !== 65533 && (i[a[138][n]] = 35328 + n, t[35328 + n] = a[138][n]);
      for (a[139] = "".split(""), n = 0; n != a[139].length; ++n)
        a[139][n].charCodeAt(0) !== 65533 && (i[a[139][n]] = 35584 + n, t[35584 + n] = a[139][n]);
      for (a[140] = "".split(""), n = 0; n != a[140].length; ++n)
        a[140][n].charCodeAt(0) !== 65533 && (i[a[140][n]] = 35840 + n, t[35840 + n] = a[140][n]);
      for (a[141] = "".split(""), n = 0; n != a[141].length; ++n)
        a[141][n].charCodeAt(0) !== 65533 && (i[a[141][n]] = 36096 + n, t[36096 + n] = a[141][n]);
      for (a[142] = "".split(""), n = 0; n != a[142].length; ++n)
        a[142][n].charCodeAt(0) !== 65533 && (i[a[142][n]] = 36352 + n, t[36352 + n] = a[142][n]);
      for (a[143] = "".split(""), n = 0; n != a[143].length; ++n)
        a[143][n].charCodeAt(0) !== 65533 && (i[a[143][n]] = 36608 + n, t[36608 + n] = a[143][n]);
      for (a[144] = "".split(""), n = 0; n != a[144].length; ++n)
        a[144][n].charCodeAt(0) !== 65533 && (i[a[144][n]] = 36864 + n, t[36864 + n] = a[144][n]);
      for (a[145] = "".split(""), n = 0; n != a[145].length; ++n)
        a[145][n].charCodeAt(0) !== 65533 && (i[a[145][n]] = 37120 + n, t[37120 + n] = a[145][n]);
      for (a[146] = "".split(""), n = 0; n != a[146].length; ++n)
        a[146][n].charCodeAt(0) !== 65533 && (i[a[146][n]] = 37376 + n, t[37376 + n] = a[146][n]);
      for (a[147] = "".split(""), n = 0; n != a[147].length; ++n)
        a[147][n].charCodeAt(0) !== 65533 && (i[a[147][n]] = 37632 + n, t[37632 + n] = a[147][n]);
      for (a[148] = "".split(""), n = 0; n != a[148].length; ++n)
        a[148][n].charCodeAt(0) !== 65533 && (i[a[148][n]] = 37888 + n, t[37888 + n] = a[148][n]);
      for (a[149] = "".split(""), n = 0; n != a[149].length; ++n)
        a[149][n].charCodeAt(0) !== 65533 && (i[a[149][n]] = 38144 + n, t[38144 + n] = a[149][n]);
      for (a[150] = "".split(""), n = 0; n != a[150].length; ++n)
        a[150][n].charCodeAt(0) !== 65533 && (i[a[150][n]] = 38400 + n, t[38400 + n] = a[150][n]);
      for (a[151] = "".split(""), n = 0; n != a[151].length; ++n)
        a[151][n].charCodeAt(0) !== 65533 && (i[a[151][n]] = 38656 + n, t[38656 + n] = a[151][n]);
      for (a[152] = "".split(""), n = 0; n != a[152].length; ++n)
        a[152][n].charCodeAt(0) !== 65533 && (i[a[152][n]] = 38912 + n, t[38912 + n] = a[152][n]);
      for (a[153] = "".split(""), n = 0; n != a[153].length; ++n)
        a[153][n].charCodeAt(0) !== 65533 && (i[a[153][n]] = 39168 + n, t[39168 + n] = a[153][n]);
      for (a[154] = "".split(""), n = 0; n != a[154].length; ++n)
        a[154][n].charCodeAt(0) !== 65533 && (i[a[154][n]] = 39424 + n, t[39424 + n] = a[154][n]);
      for (a[155] = "".split(""), n = 0; n != a[155].length; ++n)
        a[155][n].charCodeAt(0) !== 65533 && (i[a[155][n]] = 39680 + n, t[39680 + n] = a[155][n]);
      for (a[156] = "".split(""), n = 0; n != a[156].length; ++n)
        a[156][n].charCodeAt(0) !== 65533 && (i[a[156][n]] = 39936 + n, t[39936 + n] = a[156][n]);
      for (a[157] = "".split(""), n = 0; n != a[157].length; ++n)
        a[157][n].charCodeAt(0) !== 65533 && (i[a[157][n]] = 40192 + n, t[40192 + n] = a[157][n]);
      for (a[158] = "".split(""), n = 0; n != a[158].length; ++n)
        a[158][n].charCodeAt(0) !== 65533 && (i[a[158][n]] = 40448 + n, t[40448 + n] = a[158][n]);
      for (a[159] = "".split(""), n = 0; n != a[159].length; ++n)
        a[159][n].charCodeAt(0) !== 65533 && (i[a[159][n]] = 40704 + n, t[40704 + n] = a[159][n]);
      for (a[160] = "".split(""), n = 0; n != a[160].length; ++n)
        a[160][n].charCodeAt(0) !== 65533 && (i[a[160][n]] = 40960 + n, t[40960 + n] = a[160][n]);
      for (a[161] = "".split(""), n = 0; n != a[161].length; ++n)
        a[161][n].charCodeAt(0) !== 65533 && (i[a[161][n]] = 41216 + n, t[41216 + n] = a[161][n]);
      for (a[162] = "".split(""), n = 0; n != a[162].length; ++n)
        a[162][n].charCodeAt(0) !== 65533 && (i[a[162][n]] = 41472 + n, t[41472 + n] = a[162][n]);
      for (a[163] = "".split(""), n = 0; n != a[163].length; ++n)
        a[163][n].charCodeAt(0) !== 65533 && (i[a[163][n]] = 41728 + n, t[41728 + n] = a[163][n]);
      for (a[164] = "".split(""), n = 0; n != a[164].length; ++n)
        a[164][n].charCodeAt(0) !== 65533 && (i[a[164][n]] = 41984 + n, t[41984 + n] = a[164][n]);
      for (a[165] = "".split(""), n = 0; n != a[165].length; ++n)
        a[165][n].charCodeAt(0) !== 65533 && (i[a[165][n]] = 42240 + n, t[42240 + n] = a[165][n]);
      for (a[166] = "".split(""), n = 0; n != a[166].length; ++n)
        a[166][n].charCodeAt(0) !== 65533 && (i[a[166][n]] = 42496 + n, t[42496 + n] = a[166][n]);
      for (a[167] = "".split(""), n = 0; n != a[167].length; ++n)
        a[167][n].charCodeAt(0) !== 65533 && (i[a[167][n]] = 42752 + n, t[42752 + n] = a[167][n]);
      for (a[168] = "".split(""), n = 0; n != a[168].length; ++n)
        a[168][n].charCodeAt(0) !== 65533 && (i[a[168][n]] = 43008 + n, t[43008 + n] = a[168][n]);
      for (a[169] = "".split(""), n = 0; n != a[169].length; ++n)
        a[169][n].charCodeAt(0) !== 65533 && (i[a[169][n]] = 43264 + n, t[43264 + n] = a[169][n]);
      for (a[170] = "".split(""), n = 0; n != a[170].length; ++n)
        a[170][n].charCodeAt(0) !== 65533 && (i[a[170][n]] = 43520 + n, t[43520 + n] = a[170][n]);
      for (a[171] = "".split(""), n = 0; n != a[171].length; ++n)
        a[171][n].charCodeAt(0) !== 65533 && (i[a[171][n]] = 43776 + n, t[43776 + n] = a[171][n]);
      for (a[172] = "".split(""), n = 0; n != a[172].length; ++n)
        a[172][n].charCodeAt(0) !== 65533 && (i[a[172][n]] = 44032 + n, t[44032 + n] = a[172][n]);
      for (a[173] = "".split(""), n = 0; n != a[173].length; ++n)
        a[173][n].charCodeAt(0) !== 65533 && (i[a[173][n]] = 44288 + n, t[44288 + n] = a[173][n]);
      for (a[174] = "".split(""), n = 0; n != a[174].length; ++n)
        a[174][n].charCodeAt(0) !== 65533 && (i[a[174][n]] = 44544 + n, t[44544 + n] = a[174][n]);
      for (a[175] = "".split(""), n = 0; n != a[175].length; ++n)
        a[175][n].charCodeAt(0) !== 65533 && (i[a[175][n]] = 44800 + n, t[44800 + n] = a[175][n]);
      for (a[176] = "".split(""), n = 0; n != a[176].length; ++n)
        a[176][n].charCodeAt(0) !== 65533 && (i[a[176][n]] = 45056 + n, t[45056 + n] = a[176][n]);
      for (a[177] = "".split(""), n = 0; n != a[177].length; ++n)
        a[177][n].charCodeAt(0) !== 65533 && (i[a[177][n]] = 45312 + n, t[45312 + n] = a[177][n]);
      for (a[178] = "".split(""), n = 0; n != a[178].length; ++n)
        a[178][n].charCodeAt(0) !== 65533 && (i[a[178][n]] = 45568 + n, t[45568 + n] = a[178][n]);
      for (a[179] = "".split(""), n = 0; n != a[179].length; ++n)
        a[179][n].charCodeAt(0) !== 65533 && (i[a[179][n]] = 45824 + n, t[45824 + n] = a[179][n]);
      for (a[180] = "".split(""), n = 0; n != a[180].length; ++n)
        a[180][n].charCodeAt(0) !== 65533 && (i[a[180][n]] = 46080 + n, t[46080 + n] = a[180][n]);
      for (a[181] = "".split(""), n = 0; n != a[181].length; ++n)
        a[181][n].charCodeAt(0) !== 65533 && (i[a[181][n]] = 46336 + n, t[46336 + n] = a[181][n]);
      for (a[182] = "".split(""), n = 0; n != a[182].length; ++n)
        a[182][n].charCodeAt(0) !== 65533 && (i[a[182][n]] = 46592 + n, t[46592 + n] = a[182][n]);
      for (a[183] = "".split(""), n = 0; n != a[183].length; ++n)
        a[183][n].charCodeAt(0) !== 65533 && (i[a[183][n]] = 46848 + n, t[46848 + n] = a[183][n]);
      for (a[184] = "".split(""), n = 0; n != a[184].length; ++n)
        a[184][n].charCodeAt(0) !== 65533 && (i[a[184][n]] = 47104 + n, t[47104 + n] = a[184][n]);
      for (a[185] = "".split(""), n = 0; n != a[185].length; ++n)
        a[185][n].charCodeAt(0) !== 65533 && (i[a[185][n]] = 47360 + n, t[47360 + n] = a[185][n]);
      for (a[186] = "".split(""), n = 0; n != a[186].length; ++n)
        a[186][n].charCodeAt(0) !== 65533 && (i[a[186][n]] = 47616 + n, t[47616 + n] = a[186][n]);
      for (a[187] = "".split(""), n = 0; n != a[187].length; ++n)
        a[187][n].charCodeAt(0) !== 65533 && (i[a[187][n]] = 47872 + n, t[47872 + n] = a[187][n]);
      for (a[188] = "".split(""), n = 0; n != a[188].length; ++n)
        a[188][n].charCodeAt(0) !== 65533 && (i[a[188][n]] = 48128 + n, t[48128 + n] = a[188][n]);
      for (a[189] = "".split(""), n = 0; n != a[189].length; ++n)
        a[189][n].charCodeAt(0) !== 65533 && (i[a[189][n]] = 48384 + n, t[48384 + n] = a[189][n]);
      for (a[190] = "".split(""), n = 0; n != a[190].length; ++n)
        a[190][n].charCodeAt(0) !== 65533 && (i[a[190][n]] = 48640 + n, t[48640 + n] = a[190][n]);
      for (a[191] = "".split(""), n = 0; n != a[191].length; ++n)
        a[191][n].charCodeAt(0) !== 65533 && (i[a[191][n]] = 48896 + n, t[48896 + n] = a[191][n]);
      for (a[192] = "".split(""), n = 0; n != a[192].length; ++n)
        a[192][n].charCodeAt(0) !== 65533 && (i[a[192][n]] = 49152 + n, t[49152 + n] = a[192][n]);
      for (a[193] = "".split(""), n = 0; n != a[193].length; ++n)
        a[193][n].charCodeAt(0) !== 65533 && (i[a[193][n]] = 49408 + n, t[49408 + n] = a[193][n]);
      for (a[194] = "".split(""), n = 0; n != a[194].length; ++n)
        a[194][n].charCodeAt(0) !== 65533 && (i[a[194][n]] = 49664 + n, t[49664 + n] = a[194][n]);
      for (a[195] = "".split(""), n = 0; n != a[195].length; ++n)
        a[195][n].charCodeAt(0) !== 65533 && (i[a[195][n]] = 49920 + n, t[49920 + n] = a[195][n]);
      for (a[196] = "".split(""), n = 0; n != a[196].length; ++n)
        a[196][n].charCodeAt(0) !== 65533 && (i[a[196][n]] = 50176 + n, t[50176 + n] = a[196][n]);
      for (a[197] = "".split(""), n = 0; n != a[197].length; ++n)
        a[197][n].charCodeAt(0) !== 65533 && (i[a[197][n]] = 50432 + n, t[50432 + n] = a[197][n]);
      for (a[198] = "".split(""), n = 0; n != a[198].length; ++n)
        a[198][n].charCodeAt(0) !== 65533 && (i[a[198][n]] = 50688 + n, t[50688 + n] = a[198][n]);
      for (a[199] = "".split(""), n = 0; n != a[199].length; ++n)
        a[199][n].charCodeAt(0) !== 65533 && (i[a[199][n]] = 50944 + n, t[50944 + n] = a[199][n]);
      for (a[200] = "".split(""), n = 0; n != a[200].length; ++n)
        a[200][n].charCodeAt(0) !== 65533 && (i[a[200][n]] = 51200 + n, t[51200 + n] = a[200][n]);
      for (a[201] = "".split(""), n = 0; n != a[201].length; ++n)
        a[201][n].charCodeAt(0) !== 65533 && (i[a[201][n]] = 51456 + n, t[51456 + n] = a[201][n]);
      for (a[202] = "".split(""), n = 0; n != a[202].length; ++n)
        a[202][n].charCodeAt(0) !== 65533 && (i[a[202][n]] = 51712 + n, t[51712 + n] = a[202][n]);
      for (a[203] = "".split(""), n = 0; n != a[203].length; ++n)
        a[203][n].charCodeAt(0) !== 65533 && (i[a[203][n]] = 51968 + n, t[51968 + n] = a[203][n]);
      for (a[204] = "".split(""), n = 0; n != a[204].length; ++n)
        a[204][n].charCodeAt(0) !== 65533 && (i[a[204][n]] = 52224 + n, t[52224 + n] = a[204][n]);
      for (a[205] = "".split(""), n = 0; n != a[205].length; ++n)
        a[205][n].charCodeAt(0) !== 65533 && (i[a[205][n]] = 52480 + n, t[52480 + n] = a[205][n]);
      for (a[206] = "".split(""), n = 0; n != a[206].length; ++n)
        a[206][n].charCodeAt(0) !== 65533 && (i[a[206][n]] = 52736 + n, t[52736 + n] = a[206][n]);
      for (a[207] = "".split(""), n = 0; n != a[207].length; ++n)
        a[207][n].charCodeAt(0) !== 65533 && (i[a[207][n]] = 52992 + n, t[52992 + n] = a[207][n]);
      for (a[208] = "".split(""), n = 0; n != a[208].length; ++n)
        a[208][n].charCodeAt(0) !== 65533 && (i[a[208][n]] = 53248 + n, t[53248 + n] = a[208][n]);
      for (a[209] = "".split(""), n = 0; n != a[209].length; ++n)
        a[209][n].charCodeAt(0) !== 65533 && (i[a[209][n]] = 53504 + n, t[53504 + n] = a[209][n]);
      for (a[210] = "".split(""), n = 0; n != a[210].length; ++n)
        a[210][n].charCodeAt(0) !== 65533 && (i[a[210][n]] = 53760 + n, t[53760 + n] = a[210][n]);
      for (a[211] = "".split(""), n = 0; n != a[211].length; ++n)
        a[211][n].charCodeAt(0) !== 65533 && (i[a[211][n]] = 54016 + n, t[54016 + n] = a[211][n]);
      for (a[212] = "".split(""), n = 0; n != a[212].length; ++n)
        a[212][n].charCodeAt(0) !== 65533 && (i[a[212][n]] = 54272 + n, t[54272 + n] = a[212][n]);
      for (a[213] = "".split(""), n = 0; n != a[213].length; ++n)
        a[213][n].charCodeAt(0) !== 65533 && (i[a[213][n]] = 54528 + n, t[54528 + n] = a[213][n]);
      for (a[214] = "".split(""), n = 0; n != a[214].length; ++n)
        a[214][n].charCodeAt(0) !== 65533 && (i[a[214][n]] = 54784 + n, t[54784 + n] = a[214][n]);
      for (a[215] = "".split(""), n = 0; n != a[215].length; ++n)
        a[215][n].charCodeAt(0) !== 65533 && (i[a[215][n]] = 55040 + n, t[55040 + n] = a[215][n]);
      for (a[216] = "".split(""), n = 0; n != a[216].length; ++n)
        a[216][n].charCodeAt(0) !== 65533 && (i[a[216][n]] = 55296 + n, t[55296 + n] = a[216][n]);
      for (a[217] = "".split(""), n = 0; n != a[217].length; ++n)
        a[217][n].charCodeAt(0) !== 65533 && (i[a[217][n]] = 55552 + n, t[55552 + n] = a[217][n]);
      for (a[218] = "".split(""), n = 0; n != a[218].length; ++n)
        a[218][n].charCodeAt(0) !== 65533 && (i[a[218][n]] = 55808 + n, t[55808 + n] = a[218][n]);
      for (a[219] = "".split(""), n = 0; n != a[219].length; ++n)
        a[219][n].charCodeAt(0) !== 65533 && (i[a[219][n]] = 56064 + n, t[56064 + n] = a[219][n]);
      for (a[220] = "".split(""), n = 0; n != a[220].length; ++n)
        a[220][n].charCodeAt(0) !== 65533 && (i[a[220][n]] = 56320 + n, t[56320 + n] = a[220][n]);
      for (a[221] = "".split(""), n = 0; n != a[221].length; ++n)
        a[221][n].charCodeAt(0) !== 65533 && (i[a[221][n]] = 56576 + n, t[56576 + n] = a[221][n]);
      for (a[222] = "".split(""), n = 0; n != a[222].length; ++n)
        a[222][n].charCodeAt(0) !== 65533 && (i[a[222][n]] = 56832 + n, t[56832 + n] = a[222][n]);
      for (a[223] = "".split(""), n = 0; n != a[223].length; ++n)
        a[223][n].charCodeAt(0) !== 65533 && (i[a[223][n]] = 57088 + n, t[57088 + n] = a[223][n]);
      for (a[224] = "".split(""), n = 0; n != a[224].length; ++n)
        a[224][n].charCodeAt(0) !== 65533 && (i[a[224][n]] = 57344 + n, t[57344 + n] = a[224][n]);
      for (a[225] = "".split(""), n = 0; n != a[225].length; ++n)
        a[225][n].charCodeAt(0) !== 65533 && (i[a[225][n]] = 57600 + n, t[57600 + n] = a[225][n]);
      for (a[226] = "".split(""), n = 0; n != a[226].length; ++n)
        a[226][n].charCodeAt(0) !== 65533 && (i[a[226][n]] = 57856 + n, t[57856 + n] = a[226][n]);
      for (a[227] = "".split(""), n = 0; n != a[227].length; ++n)
        a[227][n].charCodeAt(0) !== 65533 && (i[a[227][n]] = 58112 + n, t[58112 + n] = a[227][n]);
      for (a[228] = "".split(""), n = 0; n != a[228].length; ++n)
        a[228][n].charCodeAt(0) !== 65533 && (i[a[228][n]] = 58368 + n, t[58368 + n] = a[228][n]);
      for (a[229] = "".split(""), n = 0; n != a[229].length; ++n)
        a[229][n].charCodeAt(0) !== 65533 && (i[a[229][n]] = 58624 + n, t[58624 + n] = a[229][n]);
      for (a[230] = "".split(""), n = 0; n != a[230].length; ++n)
        a[230][n].charCodeAt(0) !== 65533 && (i[a[230][n]] = 58880 + n, t[58880 + n] = a[230][n]);
      for (a[231] = "".split(""), n = 0; n != a[231].length; ++n)
        a[231][n].charCodeAt(0) !== 65533 && (i[a[231][n]] = 59136 + n, t[59136 + n] = a[231][n]);
      for (a[232] = "".split(""), n = 0; n != a[232].length; ++n)
        a[232][n].charCodeAt(0) !== 65533 && (i[a[232][n]] = 59392 + n, t[59392 + n] = a[232][n]);
      for (a[233] = "".split(""), n = 0; n != a[233].length; ++n)
        a[233][n].charCodeAt(0) !== 65533 && (i[a[233][n]] = 59648 + n, t[59648 + n] = a[233][n]);
      for (a[234] = "".split(""), n = 0; n != a[234].length; ++n)
        a[234][n].charCodeAt(0) !== 65533 && (i[a[234][n]] = 59904 + n, t[59904 + n] = a[234][n]);
      for (a[235] = "".split(""), n = 0; n != a[235].length; ++n)
        a[235][n].charCodeAt(0) !== 65533 && (i[a[235][n]] = 60160 + n, t[60160 + n] = a[235][n]);
      for (a[236] = "".split(""), n = 0; n != a[236].length; ++n)
        a[236][n].charCodeAt(0) !== 65533 && (i[a[236][n]] = 60416 + n, t[60416 + n] = a[236][n]);
      for (a[237] = "".split(""), n = 0; n != a[237].length; ++n)
        a[237][n].charCodeAt(0) !== 65533 && (i[a[237][n]] = 60672 + n, t[60672 + n] = a[237][n]);
      for (a[238] = "".split(""), n = 0; n != a[238].length; ++n)
        a[238][n].charCodeAt(0) !== 65533 && (i[a[238][n]] = 60928 + n, t[60928 + n] = a[238][n]);
      for (a[239] = "".split(""), n = 0; n != a[239].length; ++n)
        a[239][n].charCodeAt(0) !== 65533 && (i[a[239][n]] = 61184 + n, t[61184 + n] = a[239][n]);
      for (a[240] = "".split(""), n = 0; n != a[240].length; ++n)
        a[240][n].charCodeAt(0) !== 65533 && (i[a[240][n]] = 61440 + n, t[61440 + n] = a[240][n]);
      for (a[241] = "".split(""), n = 0; n != a[241].length; ++n)
        a[241][n].charCodeAt(0) !== 65533 && (i[a[241][n]] = 61696 + n, t[61696 + n] = a[241][n]);
      for (a[242] = "".split(""), n = 0; n != a[242].length; ++n)
        a[242][n].charCodeAt(0) !== 65533 && (i[a[242][n]] = 61952 + n, t[61952 + n] = a[242][n]);
      for (a[243] = "".split(""), n = 0; n != a[243].length; ++n)
        a[243][n].charCodeAt(0) !== 65533 && (i[a[243][n]] = 62208 + n, t[62208 + n] = a[243][n]);
      for (a[244] = "".split(""), n = 0; n != a[244].length; ++n)
        a[244][n].charCodeAt(0) !== 65533 && (i[a[244][n]] = 62464 + n, t[62464 + n] = a[244][n]);
      for (a[245] = "".split(""), n = 0; n != a[245].length; ++n)
        a[245][n].charCodeAt(0) !== 65533 && (i[a[245][n]] = 62720 + n, t[62720 + n] = a[245][n]);
      for (a[246] = "".split(""), n = 0; n != a[246].length; ++n)
        a[246][n].charCodeAt(0) !== 65533 && (i[a[246][n]] = 62976 + n, t[62976 + n] = a[246][n]);
      for (a[247] = "".split(""), n = 0; n != a[247].length; ++n)
        a[247][n].charCodeAt(0) !== 65533 && (i[a[247][n]] = 63232 + n, t[63232 + n] = a[247][n]);
      for (a[248] = "".split(""), n = 0; n != a[248].length; ++n)
        a[248][n].charCodeAt(0) !== 65533 && (i[a[248][n]] = 63488 + n, t[63488 + n] = a[248][n]);
      for (a[249] = "".split(""), n = 0; n != a[249].length; ++n)
        a[249][n].charCodeAt(0) !== 65533 && (i[a[249][n]] = 63744 + n, t[63744 + n] = a[249][n]);
      for (a[250] = "".split(""), n = 0; n != a[250].length; ++n)
        a[250][n].charCodeAt(0) !== 65533 && (i[a[250][n]] = 64e3 + n, t[64e3 + n] = a[250][n]);
      for (a[251] = "".split(""), n = 0; n != a[251].length; ++n)
        a[251][n].charCodeAt(0) !== 65533 && (i[a[251][n]] = 64256 + n, t[64256 + n] = a[251][n]);
      for (a[252] = "".split(""), n = 0; n != a[252].length; ++n)
        a[252][n].charCodeAt(0) !== 65533 && (i[a[252][n]] = 64512 + n, t[64512 + n] = a[252][n]);
      for (a[253] = "".split(""), n = 0; n != a[253].length; ++n)
        a[253][n].charCodeAt(0) !== 65533 && (i[a[253][n]] = 64768 + n, t[64768 + n] = a[253][n]);
      for (a[254] = "".split(""), n = 0; n != a[254].length; ++n)
        a[254][n].charCodeAt(0) !== 65533 && (i[a[254][n]] = 65024 + n, t[65024 + n] = a[254][n]);
      return { enc: i, dec: t };
    }(), e[949] = function() {
      var t = [], i = {}, a = [], n;
      for (a[0] = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""), n = 0; n != a[0].length; ++n)
        a[0][n].charCodeAt(0) !== 65533 && (i[a[0][n]] = 0 + n, t[0 + n] = a[0][n]);
      for (a[129] = "".split(""), n = 0; n != a[129].length; ++n)
        a[129][n].charCodeAt(0) !== 65533 && (i[a[129][n]] = 33024 + n, t[33024 + n] = a[129][n]);
      for (a[130] = "".split(""), n = 0; n != a[130].length; ++n)
        a[130][n].charCodeAt(0) !== 65533 && (i[a[130][n]] = 33280 + n, t[33280 + n] = a[130][n]);
      for (a[131] = "".split(""), n = 0; n != a[131].length; ++n)
        a[131][n].charCodeAt(0) !== 65533 && (i[a[131][n]] = 33536 + n, t[33536 + n] = a[131][n]);
      for (a[132] = "".split(""), n = 0; n != a[132].length; ++n)
        a[132][n].charCodeAt(0) !== 65533 && (i[a[132][n]] = 33792 + n, t[33792 + n] = a[132][n]);
      for (a[133] = "".split(""), n = 0; n != a[133].length; ++n)
        a[133][n].charCodeAt(0) !== 65533 && (i[a[133][n]] = 34048 + n, t[34048 + n] = a[133][n]);
      for (a[134] = "".split(""), n = 0; n != a[134].length; ++n)
        a[134][n].charCodeAt(0) !== 65533 && (i[a[134][n]] = 34304 + n, t[34304 + n] = a[134][n]);
      for (a[135] = "".split(""), n = 0; n != a[135].length; ++n)
        a[135][n].charCodeAt(0) !== 65533 && (i[a[135][n]] = 34560 + n, t[34560 + n] = a[135][n]);
      for (a[136] = "".split(""), n = 0; n != a[136].length; ++n)
        a[136][n].charCodeAt(0) !== 65533 && (i[a[136][n]] = 34816 + n, t[34816 + n] = a[136][n]);
      for (a[137] = "".split(""), n = 0; n != a[137].length; ++n)
        a[137][n].charCodeAt(0) !== 65533 && (i[a[137][n]] = 35072 + n, t[35072 + n] = a[137][n]);
      for (a[138] = "".split(""), n = 0; n != a[138].length; ++n)
        a[138][n].charCodeAt(0) !== 65533 && (i[a[138][n]] = 35328 + n, t[35328 + n] = a[138][n]);
      for (a[139] = "".split(""), n = 0; n != a[139].length; ++n)
        a[139][n].charCodeAt(0) !== 65533 && (i[a[139][n]] = 35584 + n, t[35584 + n] = a[139][n]);
      for (a[140] = "".split(""), n = 0; n != a[140].length; ++n)
        a[140][n].charCodeAt(0) !== 65533 && (i[a[140][n]] = 35840 + n, t[35840 + n] = a[140][n]);
      for (a[141] = "".split(""), n = 0; n != a[141].length; ++n)
        a[141][n].charCodeAt(0) !== 65533 && (i[a[141][n]] = 36096 + n, t[36096 + n] = a[141][n]);
      for (a[142] = "".split(""), n = 0; n != a[142].length; ++n)
        a[142][n].charCodeAt(0) !== 65533 && (i[a[142][n]] = 36352 + n, t[36352 + n] = a[142][n]);
      for (a[143] = "".split(""), n = 0; n != a[143].length; ++n)
        a[143][n].charCodeAt(0) !== 65533 && (i[a[143][n]] = 36608 + n, t[36608 + n] = a[143][n]);
      for (a[144] = "".split(""), n = 0; n != a[144].length; ++n)
        a[144][n].charCodeAt(0) !== 65533 && (i[a[144][n]] = 36864 + n, t[36864 + n] = a[144][n]);
      for (a[145] = "".split(""), n = 0; n != a[145].length; ++n)
        a[145][n].charCodeAt(0) !== 65533 && (i[a[145][n]] = 37120 + n, t[37120 + n] = a[145][n]);
      for (a[146] = "".split(""), n = 0; n != a[146].length; ++n)
        a[146][n].charCodeAt(0) !== 65533 && (i[a[146][n]] = 37376 + n, t[37376 + n] = a[146][n]);
      for (a[147] = "".split(""), n = 0; n != a[147].length; ++n)
        a[147][n].charCodeAt(0) !== 65533 && (i[a[147][n]] = 37632 + n, t[37632 + n] = a[147][n]);
      for (a[148] = "".split(""), n = 0; n != a[148].length; ++n)
        a[148][n].charCodeAt(0) !== 65533 && (i[a[148][n]] = 37888 + n, t[37888 + n] = a[148][n]);
      for (a[149] = "".split(""), n = 0; n != a[149].length; ++n)
        a[149][n].charCodeAt(0) !== 65533 && (i[a[149][n]] = 38144 + n, t[38144 + n] = a[149][n]);
      for (a[150] = "".split(""), n = 0; n != a[150].length; ++n)
        a[150][n].charCodeAt(0) !== 65533 && (i[a[150][n]] = 38400 + n, t[38400 + n] = a[150][n]);
      for (a[151] = "".split(""), n = 0; n != a[151].length; ++n)
        a[151][n].charCodeAt(0) !== 65533 && (i[a[151][n]] = 38656 + n, t[38656 + n] = a[151][n]);
      for (a[152] = "".split(""), n = 0; n != a[152].length; ++n)
        a[152][n].charCodeAt(0) !== 65533 && (i[a[152][n]] = 38912 + n, t[38912 + n] = a[152][n]);
      for (a[153] = "".split(""), n = 0; n != a[153].length; ++n)
        a[153][n].charCodeAt(0) !== 65533 && (i[a[153][n]] = 39168 + n, t[39168 + n] = a[153][n]);
      for (a[154] = "".split(""), n = 0; n != a[154].length; ++n)
        a[154][n].charCodeAt(0) !== 65533 && (i[a[154][n]] = 39424 + n, t[39424 + n] = a[154][n]);
      for (a[155] = "".split(""), n = 0; n != a[155].length; ++n)
        a[155][n].charCodeAt(0) !== 65533 && (i[a[155][n]] = 39680 + n, t[39680 + n] = a[155][n]);
      for (a[156] = "".split(""), n = 0; n != a[156].length; ++n)
        a[156][n].charCodeAt(0) !== 65533 && (i[a[156][n]] = 39936 + n, t[39936 + n] = a[156][n]);
      for (a[157] = "".split(""), n = 0; n != a[157].length; ++n)
        a[157][n].charCodeAt(0) !== 65533 && (i[a[157][n]] = 40192 + n, t[40192 + n] = a[157][n]);
      for (a[158] = "".split(""), n = 0; n != a[158].length; ++n)
        a[158][n].charCodeAt(0) !== 65533 && (i[a[158][n]] = 40448 + n, t[40448 + n] = a[158][n]);
      for (a[159] = "".split(""), n = 0; n != a[159].length; ++n)
        a[159][n].charCodeAt(0) !== 65533 && (i[a[159][n]] = 40704 + n, t[40704 + n] = a[159][n]);
      for (a[160] = "".split(""), n = 0; n != a[160].length; ++n)
        a[160][n].charCodeAt(0) !== 65533 && (i[a[160][n]] = 40960 + n, t[40960 + n] = a[160][n]);
      for (a[161] = "".split(""), n = 0; n != a[161].length; ++n)
        a[161][n].charCodeAt(0) !== 65533 && (i[a[161][n]] = 41216 + n, t[41216 + n] = a[161][n]);
      for (a[162] = "".split(""), n = 0; n != a[162].length; ++n)
        a[162][n].charCodeAt(0) !== 65533 && (i[a[162][n]] = 41472 + n, t[41472 + n] = a[162][n]);
      for (a[163] = "".split(""), n = 0; n != a[163].length; ++n)
        a[163][n].charCodeAt(0) !== 65533 && (i[a[163][n]] = 41728 + n, t[41728 + n] = a[163][n]);
      for (a[164] = "".split(""), n = 0; n != a[164].length; ++n)
        a[164][n].charCodeAt(0) !== 65533 && (i[a[164][n]] = 41984 + n, t[41984 + n] = a[164][n]);
      for (a[165] = "".split(""), n = 0; n != a[165].length; ++n)
        a[165][n].charCodeAt(0) !== 65533 && (i[a[165][n]] = 42240 + n, t[42240 + n] = a[165][n]);
      for (a[166] = "".split(""), n = 0; n != a[166].length; ++n)
        a[166][n].charCodeAt(0) !== 65533 && (i[a[166][n]] = 42496 + n, t[42496 + n] = a[166][n]);
      for (a[167] = "".split(""), n = 0; n != a[167].length; ++n)
        a[167][n].charCodeAt(0) !== 65533 && (i[a[167][n]] = 42752 + n, t[42752 + n] = a[167][n]);
      for (a[168] = "".split(""), n = 0; n != a[168].length; ++n)
        a[168][n].charCodeAt(0) !== 65533 && (i[a[168][n]] = 43008 + n, t[43008 + n] = a[168][n]);
      for (a[169] = "".split(""), n = 0; n != a[169].length; ++n)
        a[169][n].charCodeAt(0) !== 65533 && (i[a[169][n]] = 43264 + n, t[43264 + n] = a[169][n]);
      for (a[170] = "".split(""), n = 0; n != a[170].length; ++n)
        a[170][n].charCodeAt(0) !== 65533 && (i[a[170][n]] = 43520 + n, t[43520 + n] = a[170][n]);
      for (a[171] = "".split(""), n = 0; n != a[171].length; ++n)
        a[171][n].charCodeAt(0) !== 65533 && (i[a[171][n]] = 43776 + n, t[43776 + n] = a[171][n]);
      for (a[172] = "".split(""), n = 0; n != a[172].length; ++n)
        a[172][n].charCodeAt(0) !== 65533 && (i[a[172][n]] = 44032 + n, t[44032 + n] = a[172][n]);
      for (a[173] = "".split(""), n = 0; n != a[173].length; ++n)
        a[173][n].charCodeAt(0) !== 65533 && (i[a[173][n]] = 44288 + n, t[44288 + n] = a[173][n]);
      for (a[174] = "".split(""), n = 0; n != a[174].length; ++n)
        a[174][n].charCodeAt(0) !== 65533 && (i[a[174][n]] = 44544 + n, t[44544 + n] = a[174][n]);
      for (a[175] = "".split(""), n = 0; n != a[175].length; ++n)
        a[175][n].charCodeAt(0) !== 65533 && (i[a[175][n]] = 44800 + n, t[44800 + n] = a[175][n]);
      for (a[176] = "".split(""), n = 0; n != a[176].length; ++n)
        a[176][n].charCodeAt(0) !== 65533 && (i[a[176][n]] = 45056 + n, t[45056 + n] = a[176][n]);
      for (a[177] = "".split(""), n = 0; n != a[177].length; ++n)
        a[177][n].charCodeAt(0) !== 65533 && (i[a[177][n]] = 45312 + n, t[45312 + n] = a[177][n]);
      for (a[178] = "".split(""), n = 0; n != a[178].length; ++n)
        a[178][n].charCodeAt(0) !== 65533 && (i[a[178][n]] = 45568 + n, t[45568 + n] = a[178][n]);
      for (a[179] = "".split(""), n = 0; n != a[179].length; ++n)
        a[179][n].charCodeAt(0) !== 65533 && (i[a[179][n]] = 45824 + n, t[45824 + n] = a[179][n]);
      for (a[180] = "".split(""), n = 0; n != a[180].length; ++n)
        a[180][n].charCodeAt(0) !== 65533 && (i[a[180][n]] = 46080 + n, t[46080 + n] = a[180][n]);
      for (a[181] = "".split(""), n = 0; n != a[181].length; ++n)
        a[181][n].charCodeAt(0) !== 65533 && (i[a[181][n]] = 46336 + n, t[46336 + n] = a[181][n]);
      for (a[182] = "".split(""), n = 0; n != a[182].length; ++n)
        a[182][n].charCodeAt(0) !== 65533 && (i[a[182][n]] = 46592 + n, t[46592 + n] = a[182][n]);
      for (a[183] = "".split(""), n = 0; n != a[183].length; ++n)
        a[183][n].charCodeAt(0) !== 65533 && (i[a[183][n]] = 46848 + n, t[46848 + n] = a[183][n]);
      for (a[184] = "".split(""), n = 0; n != a[184].length; ++n)
        a[184][n].charCodeAt(0) !== 65533 && (i[a[184][n]] = 47104 + n, t[47104 + n] = a[184][n]);
      for (a[185] = "".split(""), n = 0; n != a[185].length; ++n)
        a[185][n].charCodeAt(0) !== 65533 && (i[a[185][n]] = 47360 + n, t[47360 + n] = a[185][n]);
      for (a[186] = "".split(""), n = 0; n != a[186].length; ++n)
        a[186][n].charCodeAt(0) !== 65533 && (i[a[186][n]] = 47616 + n, t[47616 + n] = a[186][n]);
      for (a[187] = "".split(""), n = 0; n != a[187].length; ++n)
        a[187][n].charCodeAt(0) !== 65533 && (i[a[187][n]] = 47872 + n, t[47872 + n] = a[187][n]);
      for (a[188] = "".split(""), n = 0; n != a[188].length; ++n)
        a[188][n].charCodeAt(0) !== 65533 && (i[a[188][n]] = 48128 + n, t[48128 + n] = a[188][n]);
      for (a[189] = "".split(""), n = 0; n != a[189].length; ++n)
        a[189][n].charCodeAt(0) !== 65533 && (i[a[189][n]] = 48384 + n, t[48384 + n] = a[189][n]);
      for (a[190] = "".split(""), n = 0; n != a[190].length; ++n)
        a[190][n].charCodeAt(0) !== 65533 && (i[a[190][n]] = 48640 + n, t[48640 + n] = a[190][n]);
      for (a[191] = "".split(""), n = 0; n != a[191].length; ++n)
        a[191][n].charCodeAt(0) !== 65533 && (i[a[191][n]] = 48896 + n, t[48896 + n] = a[191][n]);
      for (a[192] = "".split(""), n = 0; n != a[192].length; ++n)
        a[192][n].charCodeAt(0) !== 65533 && (i[a[192][n]] = 49152 + n, t[49152 + n] = a[192][n]);
      for (a[193] = "".split(""), n = 0; n != a[193].length; ++n)
        a[193][n].charCodeAt(0) !== 65533 && (i[a[193][n]] = 49408 + n, t[49408 + n] = a[193][n]);
      for (a[194] = "".split(""), n = 0; n != a[194].length; ++n)
        a[194][n].charCodeAt(0) !== 65533 && (i[a[194][n]] = 49664 + n, t[49664 + n] = a[194][n]);
      for (a[195] = "".split(""), n = 0; n != a[195].length; ++n)
        a[195][n].charCodeAt(0) !== 65533 && (i[a[195][n]] = 49920 + n, t[49920 + n] = a[195][n]);
      for (a[196] = "".split(""), n = 0; n != a[196].length; ++n)
        a[196][n].charCodeAt(0) !== 65533 && (i[a[196][n]] = 50176 + n, t[50176 + n] = a[196][n]);
      for (a[197] = "".split(""), n = 0; n != a[197].length; ++n)
        a[197][n].charCodeAt(0) !== 65533 && (i[a[197][n]] = 50432 + n, t[50432 + n] = a[197][n]);
      for (a[198] = "".split(""), n = 0; n != a[198].length; ++n)
        a[198][n].charCodeAt(0) !== 65533 && (i[a[198][n]] = 50688 + n, t[50688 + n] = a[198][n]);
      for (a[199] = "".split(""), n = 0; n != a[199].length; ++n)
        a[199][n].charCodeAt(0) !== 65533 && (i[a[199][n]] = 50944 + n, t[50944 + n] = a[199][n]);
      for (a[200] = "".split(""), n = 0; n != a[200].length; ++n)
        a[200][n].charCodeAt(0) !== 65533 && (i[a[200][n]] = 51200 + n, t[51200 + n] = a[200][n]);
      for (a[202] = "".split(""), n = 0; n != a[202].length; ++n)
        a[202][n].charCodeAt(0) !== 65533 && (i[a[202][n]] = 51712 + n, t[51712 + n] = a[202][n]);
      for (a[203] = "".split(""), n = 0; n != a[203].length; ++n)
        a[203][n].charCodeAt(0) !== 65533 && (i[a[203][n]] = 51968 + n, t[51968 + n] = a[203][n]);
      for (a[204] = "".split(""), n = 0; n != a[204].length; ++n)
        a[204][n].charCodeAt(0) !== 65533 && (i[a[204][n]] = 52224 + n, t[52224 + n] = a[204][n]);
      for (a[205] = "".split(""), n = 0; n != a[205].length; ++n)
        a[205][n].charCodeAt(0) !== 65533 && (i[a[205][n]] = 52480 + n, t[52480 + n] = a[205][n]);
      for (a[206] = "".split(""), n = 0; n != a[206].length; ++n)
        a[206][n].charCodeAt(0) !== 65533 && (i[a[206][n]] = 52736 + n, t[52736 + n] = a[206][n]);
      for (a[207] = "".split(""), n = 0; n != a[207].length; ++n)
        a[207][n].charCodeAt(0) !== 65533 && (i[a[207][n]] = 52992 + n, t[52992 + n] = a[207][n]);
      for (a[208] = "".split(""), n = 0; n != a[208].length; ++n)
        a[208][n].charCodeAt(0) !== 65533 && (i[a[208][n]] = 53248 + n, t[53248 + n] = a[208][n]);
      for (a[209] = "".split(""), n = 0; n != a[209].length; ++n)
        a[209][n].charCodeAt(0) !== 65533 && (i[a[209][n]] = 53504 + n, t[53504 + n] = a[209][n]);
      for (a[210] = "".split(""), n = 0; n != a[210].length; ++n)
        a[210][n].charCodeAt(0) !== 65533 && (i[a[210][n]] = 53760 + n, t[53760 + n] = a[210][n]);
      for (a[211] = "".split(""), n = 0; n != a[211].length; ++n)
        a[211][n].charCodeAt(0) !== 65533 && (i[a[211][n]] = 54016 + n, t[54016 + n] = a[211][n]);
      for (a[212] = "".split(""), n = 0; n != a[212].length; ++n)
        a[212][n].charCodeAt(0) !== 65533 && (i[a[212][n]] = 54272 + n, t[54272 + n] = a[212][n]);
      for (a[213] = "".split(""), n = 0; n != a[213].length; ++n)
        a[213][n].charCodeAt(0) !== 65533 && (i[a[213][n]] = 54528 + n, t[54528 + n] = a[213][n]);
      for (a[214] = "".split(""), n = 0; n != a[214].length; ++n)
        a[214][n].charCodeAt(0) !== 65533 && (i[a[214][n]] = 54784 + n, t[54784 + n] = a[214][n]);
      for (a[215] = "".split(""), n = 0; n != a[215].length; ++n)
        a[215][n].charCodeAt(0) !== 65533 && (i[a[215][n]] = 55040 + n, t[55040 + n] = a[215][n]);
      for (a[216] = "".split(""), n = 0; n != a[216].length; ++n)
        a[216][n].charCodeAt(0) !== 65533 && (i[a[216][n]] = 55296 + n, t[55296 + n] = a[216][n]);
      for (a[217] = "".split(""), n = 0; n != a[217].length; ++n)
        a[217][n].charCodeAt(0) !== 65533 && (i[a[217][n]] = 55552 + n, t[55552 + n] = a[217][n]);
      for (a[218] = "".split(""), n = 0; n != a[218].length; ++n)
        a[218][n].charCodeAt(0) !== 65533 && (i[a[218][n]] = 55808 + n, t[55808 + n] = a[218][n]);
      for (a[219] = "".split(""), n = 0; n != a[219].length; ++n)
        a[219][n].charCodeAt(0) !== 65533 && (i[a[219][n]] = 56064 + n, t[56064 + n] = a[219][n]);
      for (a[220] = "".split(""), n = 0; n != a[220].length; ++n)
        a[220][n].charCodeAt(0) !== 65533 && (i[a[220][n]] = 56320 + n, t[56320 + n] = a[220][n]);
      for (a[221] = "".split(""), n = 0; n != a[221].length; ++n)
        a[221][n].charCodeAt(0) !== 65533 && (i[a[221][n]] = 56576 + n, t[56576 + n] = a[221][n]);
      for (a[222] = "".split(""), n = 0; n != a[222].length; ++n)
        a[222][n].charCodeAt(0) !== 65533 && (i[a[222][n]] = 56832 + n, t[56832 + n] = a[222][n]);
      for (a[223] = "".split(""), n = 0; n != a[223].length; ++n)
        a[223][n].charCodeAt(0) !== 65533 && (i[a[223][n]] = 57088 + n, t[57088 + n] = a[223][n]);
      for (a[224] = "".split(""), n = 0; n != a[224].length; ++n)
        a[224][n].charCodeAt(0) !== 65533 && (i[a[224][n]] = 57344 + n, t[57344 + n] = a[224][n]);
      for (a[225] = "".split(""), n = 0; n != a[225].length; ++n)
        a[225][n].charCodeAt(0) !== 65533 && (i[a[225][n]] = 57600 + n, t[57600 + n] = a[225][n]);
      for (a[226] = "".split(""), n = 0; n != a[226].length; ++n)
        a[226][n].charCodeAt(0) !== 65533 && (i[a[226][n]] = 57856 + n, t[57856 + n] = a[226][n]);
      for (a[227] = "".split(""), n = 0; n != a[227].length; ++n)
        a[227][n].charCodeAt(0) !== 65533 && (i[a[227][n]] = 58112 + n, t[58112 + n] = a[227][n]);
      for (a[228] = "".split(""), n = 0; n != a[228].length; ++n)
        a[228][n].charCodeAt(0) !== 65533 && (i[a[228][n]] = 58368 + n, t[58368 + n] = a[228][n]);
      for (a[229] = "".split(""), n = 0; n != a[229].length; ++n)
        a[229][n].charCodeAt(0) !== 65533 && (i[a[229][n]] = 58624 + n, t[58624 + n] = a[229][n]);
      for (a[230] = "".split(""), n = 0; n != a[230].length; ++n)
        a[230][n].charCodeAt(0) !== 65533 && (i[a[230][n]] = 58880 + n, t[58880 + n] = a[230][n]);
      for (a[231] = "".split(""), n = 0; n != a[231].length; ++n)
        a[231][n].charCodeAt(0) !== 65533 && (i[a[231][n]] = 59136 + n, t[59136 + n] = a[231][n]);
      for (a[232] = "".split(""), n = 0; n != a[232].length; ++n)
        a[232][n].charCodeAt(0) !== 65533 && (i[a[232][n]] = 59392 + n, t[59392 + n] = a[232][n]);
      for (a[233] = "".split(""), n = 0; n != a[233].length; ++n)
        a[233][n].charCodeAt(0) !== 65533 && (i[a[233][n]] = 59648 + n, t[59648 + n] = a[233][n]);
      for (a[234] = "".split(""), n = 0; n != a[234].length; ++n)
        a[234][n].charCodeAt(0) !== 65533 && (i[a[234][n]] = 59904 + n, t[59904 + n] = a[234][n]);
      for (a[235] = "".split(""), n = 0; n != a[235].length; ++n)
        a[235][n].charCodeAt(0) !== 65533 && (i[a[235][n]] = 60160 + n, t[60160 + n] = a[235][n]);
      for (a[236] = "".split(""), n = 0; n != a[236].length; ++n)
        a[236][n].charCodeAt(0) !== 65533 && (i[a[236][n]] = 60416 + n, t[60416 + n] = a[236][n]);
      for (a[237] = "".split(""), n = 0; n != a[237].length; ++n)
        a[237][n].charCodeAt(0) !== 65533 && (i[a[237][n]] = 60672 + n, t[60672 + n] = a[237][n]);
      for (a[238] = "".split(""), n = 0; n != a[238].length; ++n)
        a[238][n].charCodeAt(0) !== 65533 && (i[a[238][n]] = 60928 + n, t[60928 + n] = a[238][n]);
      for (a[239] = "".split(""), n = 0; n != a[239].length; ++n)
        a[239][n].charCodeAt(0) !== 65533 && (i[a[239][n]] = 61184 + n, t[61184 + n] = a[239][n]);
      for (a[240] = "".split(""), n = 0; n != a[240].length; ++n)
        a[240][n].charCodeAt(0) !== 65533 && (i[a[240][n]] = 61440 + n, t[61440 + n] = a[240][n]);
      for (a[241] = "".split(""), n = 0; n != a[241].length; ++n)
        a[241][n].charCodeAt(0) !== 65533 && (i[a[241][n]] = 61696 + n, t[61696 + n] = a[241][n]);
      for (a[242] = "".split(""), n = 0; n != a[242].length; ++n)
        a[242][n].charCodeAt(0) !== 65533 && (i[a[242][n]] = 61952 + n, t[61952 + n] = a[242][n]);
      for (a[243] = "".split(""), n = 0; n != a[243].length; ++n)
        a[243][n].charCodeAt(0) !== 65533 && (i[a[243][n]] = 62208 + n, t[62208 + n] = a[243][n]);
      for (a[244] = "".split(""), n = 0; n != a[244].length; ++n)
        a[244][n].charCodeAt(0) !== 65533 && (i[a[244][n]] = 62464 + n, t[62464 + n] = a[244][n]);
      for (a[245] = "".split(""), n = 0; n != a[245].length; ++n)
        a[245][n].charCodeAt(0) !== 65533 && (i[a[245][n]] = 62720 + n, t[62720 + n] = a[245][n]);
      for (a[246] = "".split(""), n = 0; n != a[246].length; ++n)
        a[246][n].charCodeAt(0) !== 65533 && (i[a[246][n]] = 62976 + n, t[62976 + n] = a[246][n]);
      for (a[247] = "".split(""), n = 0; n != a[247].length; ++n)
        a[247][n].charCodeAt(0) !== 65533 && (i[a[247][n]] = 63232 + n, t[63232 + n] = a[247][n]);
      for (a[248] = "".split(""), n = 0; n != a[248].length; ++n)
        a[248][n].charCodeAt(0) !== 65533 && (i[a[248][n]] = 63488 + n, t[63488 + n] = a[248][n]);
      for (a[249] = "".split(""), n = 0; n != a[249].length; ++n)
        a[249][n].charCodeAt(0) !== 65533 && (i[a[249][n]] = 63744 + n, t[63744 + n] = a[249][n]);
      for (a[250] = "".split(""), n = 0; n != a[250].length; ++n)
        a[250][n].charCodeAt(0) !== 65533 && (i[a[250][n]] = 64e3 + n, t[64e3 + n] = a[250][n]);
      for (a[251] = "".split(""), n = 0; n != a[251].length; ++n)
        a[251][n].charCodeAt(0) !== 65533 && (i[a[251][n]] = 64256 + n, t[64256 + n] = a[251][n]);
      for (a[252] = "".split(""), n = 0; n != a[252].length; ++n)
        a[252][n].charCodeAt(0) !== 65533 && (i[a[252][n]] = 64512 + n, t[64512 + n] = a[252][n]);
      for (a[253] = "".split(""), n = 0; n != a[253].length; ++n)
        a[253][n].charCodeAt(0) !== 65533 && (i[a[253][n]] = 64768 + n, t[64768 + n] = a[253][n]);
      return { enc: i, dec: t };
    }(), e[950] = function() {
      var t = [], i = {}, a = [], n;
      for (a[0] = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""), n = 0; n != a[0].length; ++n)
        a[0][n].charCodeAt(0) !== 65533 && (i[a[0][n]] = 0 + n, t[0 + n] = a[0][n]);
      for (a[161] = "".split(""), n = 0; n != a[161].length; ++n)
        a[161][n].charCodeAt(0) !== 65533 && (i[a[161][n]] = 41216 + n, t[41216 + n] = a[161][n]);
      for (a[162] = "".split(""), n = 0; n != a[162].length; ++n)
        a[162][n].charCodeAt(0) !== 65533 && (i[a[162][n]] = 41472 + n, t[41472 + n] = a[162][n]);
      for (a[163] = "".split(""), n = 0; n != a[163].length; ++n)
        a[163][n].charCodeAt(0) !== 65533 && (i[a[163][n]] = 41728 + n, t[41728 + n] = a[163][n]);
      for (a[164] = "".split(""), n = 0; n != a[164].length; ++n)
        a[164][n].charCodeAt(0) !== 65533 && (i[a[164][n]] = 41984 + n, t[41984 + n] = a[164][n]);
      for (a[165] = "".split(""), n = 0; n != a[165].length; ++n)
        a[165][n].charCodeAt(0) !== 65533 && (i[a[165][n]] = 42240 + n, t[42240 + n] = a[165][n]);
      for (a[166] = "".split(""), n = 0; n != a[166].length; ++n)
        a[166][n].charCodeAt(0) !== 65533 && (i[a[166][n]] = 42496 + n, t[42496 + n] = a[166][n]);
      for (a[167] = "".split(""), n = 0; n != a[167].length; ++n)
        a[167][n].charCodeAt(0) !== 65533 && (i[a[167][n]] = 42752 + n, t[42752 + n] = a[167][n]);
      for (a[168] = "".split(""), n = 0; n != a[168].length; ++n)
        a[168][n].charCodeAt(0) !== 65533 && (i[a[168][n]] = 43008 + n, t[43008 + n] = a[168][n]);
      for (a[169] = "".split(""), n = 0; n != a[169].length; ++n)
        a[169][n].charCodeAt(0) !== 65533 && (i[a[169][n]] = 43264 + n, t[43264 + n] = a[169][n]);
      for (a[170] = "".split(""), n = 0; n != a[170].length; ++n)
        a[170][n].charCodeAt(0) !== 65533 && (i[a[170][n]] = 43520 + n, t[43520 + n] = a[170][n]);
      for (a[171] = "".split(""), n = 0; n != a[171].length; ++n)
        a[171][n].charCodeAt(0) !== 65533 && (i[a[171][n]] = 43776 + n, t[43776 + n] = a[171][n]);
      for (a[172] = "".split(""), n = 0; n != a[172].length; ++n)
        a[172][n].charCodeAt(0) !== 65533 && (i[a[172][n]] = 44032 + n, t[44032 + n] = a[172][n]);
      for (a[173] = "".split(""), n = 0; n != a[173].length; ++n)
        a[173][n].charCodeAt(0) !== 65533 && (i[a[173][n]] = 44288 + n, t[44288 + n] = a[173][n]);
      for (a[174] = "".split(""), n = 0; n != a[174].length; ++n)
        a[174][n].charCodeAt(0) !== 65533 && (i[a[174][n]] = 44544 + n, t[44544 + n] = a[174][n]);
      for (a[175] = "".split(""), n = 0; n != a[175].length; ++n)
        a[175][n].charCodeAt(0) !== 65533 && (i[a[175][n]] = 44800 + n, t[44800 + n] = a[175][n]);
      for (a[176] = "".split(""), n = 0; n != a[176].length; ++n)
        a[176][n].charCodeAt(0) !== 65533 && (i[a[176][n]] = 45056 + n, t[45056 + n] = a[176][n]);
      for (a[177] = "".split(""), n = 0; n != a[177].length; ++n)
        a[177][n].charCodeAt(0) !== 65533 && (i[a[177][n]] = 45312 + n, t[45312 + n] = a[177][n]);
      for (a[178] = "".split(""), n = 0; n != a[178].length; ++n)
        a[178][n].charCodeAt(0) !== 65533 && (i[a[178][n]] = 45568 + n, t[45568 + n] = a[178][n]);
      for (a[179] = "".split(""), n = 0; n != a[179].length; ++n)
        a[179][n].charCodeAt(0) !== 65533 && (i[a[179][n]] = 45824 + n, t[45824 + n] = a[179][n]);
      for (a[180] = "".split(""), n = 0; n != a[180].length; ++n)
        a[180][n].charCodeAt(0) !== 65533 && (i[a[180][n]] = 46080 + n, t[46080 + n] = a[180][n]);
      for (a[181] = "".split(""), n = 0; n != a[181].length; ++n)
        a[181][n].charCodeAt(0) !== 65533 && (i[a[181][n]] = 46336 + n, t[46336 + n] = a[181][n]);
      for (a[182] = "".split(""), n = 0; n != a[182].length; ++n)
        a[182][n].charCodeAt(0) !== 65533 && (i[a[182][n]] = 46592 + n, t[46592 + n] = a[182][n]);
      for (a[183] = "".split(""), n = 0; n != a[183].length; ++n)
        a[183][n].charCodeAt(0) !== 65533 && (i[a[183][n]] = 46848 + n, t[46848 + n] = a[183][n]);
      for (a[184] = "".split(""), n = 0; n != a[184].length; ++n)
        a[184][n].charCodeAt(0) !== 65533 && (i[a[184][n]] = 47104 + n, t[47104 + n] = a[184][n]);
      for (a[185] = "".split(""), n = 0; n != a[185].length; ++n)
        a[185][n].charCodeAt(0) !== 65533 && (i[a[185][n]] = 47360 + n, t[47360 + n] = a[185][n]);
      for (a[186] = "".split(""), n = 0; n != a[186].length; ++n)
        a[186][n].charCodeAt(0) !== 65533 && (i[a[186][n]] = 47616 + n, t[47616 + n] = a[186][n]);
      for (a[187] = "".split(""), n = 0; n != a[187].length; ++n)
        a[187][n].charCodeAt(0) !== 65533 && (i[a[187][n]] = 47872 + n, t[47872 + n] = a[187][n]);
      for (a[188] = "".split(""), n = 0; n != a[188].length; ++n)
        a[188][n].charCodeAt(0) !== 65533 && (i[a[188][n]] = 48128 + n, t[48128 + n] = a[188][n]);
      for (a[189] = "".split(""), n = 0; n != a[189].length; ++n)
        a[189][n].charCodeAt(0) !== 65533 && (i[a[189][n]] = 48384 + n, t[48384 + n] = a[189][n]);
      for (a[190] = "".split(""), n = 0; n != a[190].length; ++n)
        a[190][n].charCodeAt(0) !== 65533 && (i[a[190][n]] = 48640 + n, t[48640 + n] = a[190][n]);
      for (a[191] = "".split(""), n = 0; n != a[191].length; ++n)
        a[191][n].charCodeAt(0) !== 65533 && (i[a[191][n]] = 48896 + n, t[48896 + n] = a[191][n]);
      for (a[192] = "".split(""), n = 0; n != a[192].length; ++n)
        a[192][n].charCodeAt(0) !== 65533 && (i[a[192][n]] = 49152 + n, t[49152 + n] = a[192][n]);
      for (a[193] = "".split(""), n = 0; n != a[193].length; ++n)
        a[193][n].charCodeAt(0) !== 65533 && (i[a[193][n]] = 49408 + n, t[49408 + n] = a[193][n]);
      for (a[194] = "".split(""), n = 0; n != a[194].length; ++n)
        a[194][n].charCodeAt(0) !== 65533 && (i[a[194][n]] = 49664 + n, t[49664 + n] = a[194][n]);
      for (a[195] = "".split(""), n = 0; n != a[195].length; ++n)
        a[195][n].charCodeAt(0) !== 65533 && (i[a[195][n]] = 49920 + n, t[49920 + n] = a[195][n]);
      for (a[196] = "".split(""), n = 0; n != a[196].length; ++n)
        a[196][n].charCodeAt(0) !== 65533 && (i[a[196][n]] = 50176 + n, t[50176 + n] = a[196][n]);
      for (a[197] = "".split(""), n = 0; n != a[197].length; ++n)
        a[197][n].charCodeAt(0) !== 65533 && (i[a[197][n]] = 50432 + n, t[50432 + n] = a[197][n]);
      for (a[198] = "".split(""), n = 0; n != a[198].length; ++n)
        a[198][n].charCodeAt(0) !== 65533 && (i[a[198][n]] = 50688 + n, t[50688 + n] = a[198][n]);
      for (a[201] = "".split(""), n = 0; n != a[201].length; ++n)
        a[201][n].charCodeAt(0) !== 65533 && (i[a[201][n]] = 51456 + n, t[51456 + n] = a[201][n]);
      for (a[202] = "".split(""), n = 0; n != a[202].length; ++n)
        a[202][n].charCodeAt(0) !== 65533 && (i[a[202][n]] = 51712 + n, t[51712 + n] = a[202][n]);
      for (a[203] = "".split(""), n = 0; n != a[203].length; ++n)
        a[203][n].charCodeAt(0) !== 65533 && (i[a[203][n]] = 51968 + n, t[51968 + n] = a[203][n]);
      for (a[204] = "".split(""), n = 0; n != a[204].length; ++n)
        a[204][n].charCodeAt(0) !== 65533 && (i[a[204][n]] = 52224 + n, t[52224 + n] = a[204][n]);
      for (a[205] = "".split(""), n = 0; n != a[205].length; ++n)
        a[205][n].charCodeAt(0) !== 65533 && (i[a[205][n]] = 52480 + n, t[52480 + n] = a[205][n]);
      for (a[206] = "".split(""), n = 0; n != a[206].length; ++n)
        a[206][n].charCodeAt(0) !== 65533 && (i[a[206][n]] = 52736 + n, t[52736 + n] = a[206][n]);
      for (a[207] = "".split(""), n = 0; n != a[207].length; ++n)
        a[207][n].charCodeAt(0) !== 65533 && (i[a[207][n]] = 52992 + n, t[52992 + n] = a[207][n]);
      for (a[208] = "".split(""), n = 0; n != a[208].length; ++n)
        a[208][n].charCodeAt(0) !== 65533 && (i[a[208][n]] = 53248 + n, t[53248 + n] = a[208][n]);
      for (a[209] = "".split(""), n = 0; n != a[209].length; ++n)
        a[209][n].charCodeAt(0) !== 65533 && (i[a[209][n]] = 53504 + n, t[53504 + n] = a[209][n]);
      for (a[210] = "".split(""), n = 0; n != a[210].length; ++n)
        a[210][n].charCodeAt(0) !== 65533 && (i[a[210][n]] = 53760 + n, t[53760 + n] = a[210][n]);
      for (a[211] = "".split(""), n = 0; n != a[211].length; ++n)
        a[211][n].charCodeAt(0) !== 65533 && (i[a[211][n]] = 54016 + n, t[54016 + n] = a[211][n]);
      for (a[212] = "".split(""), n = 0; n != a[212].length; ++n)
        a[212][n].charCodeAt(0) !== 65533 && (i[a[212][n]] = 54272 + n, t[54272 + n] = a[212][n]);
      for (a[213] = "".split(""), n = 0; n != a[213].length; ++n)
        a[213][n].charCodeAt(0) !== 65533 && (i[a[213][n]] = 54528 + n, t[54528 + n] = a[213][n]);
      for (a[214] = "".split(""), n = 0; n != a[214].length; ++n)
        a[214][n].charCodeAt(0) !== 65533 && (i[a[214][n]] = 54784 + n, t[54784 + n] = a[214][n]);
      for (a[215] = "".split(""), n = 0; n != a[215].length; ++n)
        a[215][n].charCodeAt(0) !== 65533 && (i[a[215][n]] = 55040 + n, t[55040 + n] = a[215][n]);
      for (a[216] = "".split(""), n = 0; n != a[216].length; ++n)
        a[216][n].charCodeAt(0) !== 65533 && (i[a[216][n]] = 55296 + n, t[55296 + n] = a[216][n]);
      for (a[217] = "".split(""), n = 0; n != a[217].length; ++n)
        a[217][n].charCodeAt(0) !== 65533 && (i[a[217][n]] = 55552 + n, t[55552 + n] = a[217][n]);
      for (a[218] = "".split(""), n = 0; n != a[218].length; ++n)
        a[218][n].charCodeAt(0) !== 65533 && (i[a[218][n]] = 55808 + n, t[55808 + n] = a[218][n]);
      for (a[219] = "".split(""), n = 0; n != a[219].length; ++n)
        a[219][n].charCodeAt(0) !== 65533 && (i[a[219][n]] = 56064 + n, t[56064 + n] = a[219][n]);
      for (a[220] = "".split(""), n = 0; n != a[220].length; ++n)
        a[220][n].charCodeAt(0) !== 65533 && (i[a[220][n]] = 56320 + n, t[56320 + n] = a[220][n]);
      for (a[221] = "".split(""), n = 0; n != a[221].length; ++n)
        a[221][n].charCodeAt(0) !== 65533 && (i[a[221][n]] = 56576 + n, t[56576 + n] = a[221][n]);
      for (a[222] = "".split(""), n = 0; n != a[222].length; ++n)
        a[222][n].charCodeAt(0) !== 65533 && (i[a[222][n]] = 56832 + n, t[56832 + n] = a[222][n]);
      for (a[223] = "".split(""), n = 0; n != a[223].length; ++n)
        a[223][n].charCodeAt(0) !== 65533 && (i[a[223][n]] = 57088 + n, t[57088 + n] = a[223][n]);
      for (a[224] = "".split(""), n = 0; n != a[224].length; ++n)
        a[224][n].charCodeAt(0) !== 65533 && (i[a[224][n]] = 57344 + n, t[57344 + n] = a[224][n]);
      for (a[225] = "".split(""), n = 0; n != a[225].length; ++n)
        a[225][n].charCodeAt(0) !== 65533 && (i[a[225][n]] = 57600 + n, t[57600 + n] = a[225][n]);
      for (a[226] = "".split(""), n = 0; n != a[226].length; ++n)
        a[226][n].charCodeAt(0) !== 65533 && (i[a[226][n]] = 57856 + n, t[57856 + n] = a[226][n]);
      for (a[227] = "".split(""), n = 0; n != a[227].length; ++n)
        a[227][n].charCodeAt(0) !== 65533 && (i[a[227][n]] = 58112 + n, t[58112 + n] = a[227][n]);
      for (a[228] = "".split(""), n = 0; n != a[228].length; ++n)
        a[228][n].charCodeAt(0) !== 65533 && (i[a[228][n]] = 58368 + n, t[58368 + n] = a[228][n]);
      for (a[229] = "".split(""), n = 0; n != a[229].length; ++n)
        a[229][n].charCodeAt(0) !== 65533 && (i[a[229][n]] = 58624 + n, t[58624 + n] = a[229][n]);
      for (a[230] = "".split(""), n = 0; n != a[230].length; ++n)
        a[230][n].charCodeAt(0) !== 65533 && (i[a[230][n]] = 58880 + n, t[58880 + n] = a[230][n]);
      for (a[231] = "".split(""), n = 0; n != a[231].length; ++n)
        a[231][n].charCodeAt(0) !== 65533 && (i[a[231][n]] = 59136 + n, t[59136 + n] = a[231][n]);
      for (a[232] = "".split(""), n = 0; n != a[232].length; ++n)
        a[232][n].charCodeAt(0) !== 65533 && (i[a[232][n]] = 59392 + n, t[59392 + n] = a[232][n]);
      for (a[233] = "".split(""), n = 0; n != a[233].length; ++n)
        a[233][n].charCodeAt(0) !== 65533 && (i[a[233][n]] = 59648 + n, t[59648 + n] = a[233][n]);
      for (a[234] = "".split(""), n = 0; n != a[234].length; ++n)
        a[234][n].charCodeAt(0) !== 65533 && (i[a[234][n]] = 59904 + n, t[59904 + n] = a[234][n]);
      for (a[235] = "".split(""), n = 0; n != a[235].length; ++n)
        a[235][n].charCodeAt(0) !== 65533 && (i[a[235][n]] = 60160 + n, t[60160 + n] = a[235][n]);
      for (a[236] = "".split(""), n = 0; n != a[236].length; ++n)
        a[236][n].charCodeAt(0) !== 65533 && (i[a[236][n]] = 60416 + n, t[60416 + n] = a[236][n]);
      for (a[237] = "".split(""), n = 0; n != a[237].length; ++n)
        a[237][n].charCodeAt(0) !== 65533 && (i[a[237][n]] = 60672 + n, t[60672 + n] = a[237][n]);
      for (a[238] = "".split(""), n = 0; n != a[238].length; ++n)
        a[238][n].charCodeAt(0) !== 65533 && (i[a[238][n]] = 60928 + n, t[60928 + n] = a[238][n]);
      for (a[239] = "".split(""), n = 0; n != a[239].length; ++n)
        a[239][n].charCodeAt(0) !== 65533 && (i[a[239][n]] = 61184 + n, t[61184 + n] = a[239][n]);
      for (a[240] = "".split(""), n = 0; n != a[240].length; ++n)
        a[240][n].charCodeAt(0) !== 65533 && (i[a[240][n]] = 61440 + n, t[61440 + n] = a[240][n]);
      for (a[241] = "".split(""), n = 0; n != a[241].length; ++n)
        a[241][n].charCodeAt(0) !== 65533 && (i[a[241][n]] = 61696 + n, t[61696 + n] = a[241][n]);
      for (a[242] = "".split(""), n = 0; n != a[242].length; ++n)
        a[242][n].charCodeAt(0) !== 65533 && (i[a[242][n]] = 61952 + n, t[61952 + n] = a[242][n]);
      for (a[243] = "".split(""), n = 0; n != a[243].length; ++n)
        a[243][n].charCodeAt(0) !== 65533 && (i[a[243][n]] = 62208 + n, t[62208 + n] = a[243][n]);
      for (a[244] = "".split(""), n = 0; n != a[244].length; ++n)
        a[244][n].charCodeAt(0) !== 65533 && (i[a[244][n]] = 62464 + n, t[62464 + n] = a[244][n]);
      for (a[245] = "".split(""), n = 0; n != a[245].length; ++n)
        a[245][n].charCodeAt(0) !== 65533 && (i[a[245][n]] = 62720 + n, t[62720 + n] = a[245][n]);
      for (a[246] = "".split(""), n = 0; n != a[246].length; ++n)
        a[246][n].charCodeAt(0) !== 65533 && (i[a[246][n]] = 62976 + n, t[62976 + n] = a[246][n]);
      for (a[247] = "".split(""), n = 0; n != a[247].length; ++n)
        a[247][n].charCodeAt(0) !== 65533 && (i[a[247][n]] = 63232 + n, t[63232 + n] = a[247][n]);
      for (a[248] = "".split(""), n = 0; n != a[248].length; ++n)
        a[248][n].charCodeAt(0) !== 65533 && (i[a[248][n]] = 63488 + n, t[63488 + n] = a[248][n]);
      for (a[249] = "".split(""), n = 0; n != a[249].length; ++n)
        a[249][n].charCodeAt(0) !== 65533 && (i[a[249][n]] = 63744 + n, t[63744 + n] = a[249][n]);
      return { enc: i, dec: t };
    }(), e[1250] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[1251] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[1252] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[1253] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[1254] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[1255] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[1256] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[1257] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[1258] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[1e4] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[10006] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[10007] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[10008] = function() {
      var t = [], i = {}, a = [], n;
      for (a[0] = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""), n = 0; n != a[0].length; ++n)
        a[0][n].charCodeAt(0) !== 65533 && (i[a[0][n]] = 0 + n, t[0 + n] = a[0][n]);
      for (a[161] = "".split(""), n = 0; n != a[161].length; ++n)
        a[161][n].charCodeAt(0) !== 65533 && (i[a[161][n]] = 41216 + n, t[41216 + n] = a[161][n]);
      for (a[162] = "".split(""), n = 0; n != a[162].length; ++n)
        a[162][n].charCodeAt(0) !== 65533 && (i[a[162][n]] = 41472 + n, t[41472 + n] = a[162][n]);
      for (a[163] = "".split(""), n = 0; n != a[163].length; ++n)
        a[163][n].charCodeAt(0) !== 65533 && (i[a[163][n]] = 41728 + n, t[41728 + n] = a[163][n]);
      for (a[164] = "".split(""), n = 0; n != a[164].length; ++n)
        a[164][n].charCodeAt(0) !== 65533 && (i[a[164][n]] = 41984 + n, t[41984 + n] = a[164][n]);
      for (a[165] = "".split(""), n = 0; n != a[165].length; ++n)
        a[165][n].charCodeAt(0) !== 65533 && (i[a[165][n]] = 42240 + n, t[42240 + n] = a[165][n]);
      for (a[166] = "".split(""), n = 0; n != a[166].length; ++n)
        a[166][n].charCodeAt(0) !== 65533 && (i[a[166][n]] = 42496 + n, t[42496 + n] = a[166][n]);
      for (a[167] = "".split(""), n = 0; n != a[167].length; ++n)
        a[167][n].charCodeAt(0) !== 65533 && (i[a[167][n]] = 42752 + n, t[42752 + n] = a[167][n]);
      for (a[168] = "".split(""), n = 0; n != a[168].length; ++n)
        a[168][n].charCodeAt(0) !== 65533 && (i[a[168][n]] = 43008 + n, t[43008 + n] = a[168][n]);
      for (a[169] = "".split(""), n = 0; n != a[169].length; ++n)
        a[169][n].charCodeAt(0) !== 65533 && (i[a[169][n]] = 43264 + n, t[43264 + n] = a[169][n]);
      for (a[176] = "".split(""), n = 0; n != a[176].length; ++n)
        a[176][n].charCodeAt(0) !== 65533 && (i[a[176][n]] = 45056 + n, t[45056 + n] = a[176][n]);
      for (a[177] = "".split(""), n = 0; n != a[177].length; ++n)
        a[177][n].charCodeAt(0) !== 65533 && (i[a[177][n]] = 45312 + n, t[45312 + n] = a[177][n]);
      for (a[178] = "".split(""), n = 0; n != a[178].length; ++n)
        a[178][n].charCodeAt(0) !== 65533 && (i[a[178][n]] = 45568 + n, t[45568 + n] = a[178][n]);
      for (a[179] = "".split(""), n = 0; n != a[179].length; ++n)
        a[179][n].charCodeAt(0) !== 65533 && (i[a[179][n]] = 45824 + n, t[45824 + n] = a[179][n]);
      for (a[180] = "".split(""), n = 0; n != a[180].length; ++n)
        a[180][n].charCodeAt(0) !== 65533 && (i[a[180][n]] = 46080 + n, t[46080 + n] = a[180][n]);
      for (a[181] = "".split(""), n = 0; n != a[181].length; ++n)
        a[181][n].charCodeAt(0) !== 65533 && (i[a[181][n]] = 46336 + n, t[46336 + n] = a[181][n]);
      for (a[182] = "".split(""), n = 0; n != a[182].length; ++n)
        a[182][n].charCodeAt(0) !== 65533 && (i[a[182][n]] = 46592 + n, t[46592 + n] = a[182][n]);
      for (a[183] = "".split(""), n = 0; n != a[183].length; ++n)
        a[183][n].charCodeAt(0) !== 65533 && (i[a[183][n]] = 46848 + n, t[46848 + n] = a[183][n]);
      for (a[184] = "".split(""), n = 0; n != a[184].length; ++n)
        a[184][n].charCodeAt(0) !== 65533 && (i[a[184][n]] = 47104 + n, t[47104 + n] = a[184][n]);
      for (a[185] = "".split(""), n = 0; n != a[185].length; ++n)
        a[185][n].charCodeAt(0) !== 65533 && (i[a[185][n]] = 47360 + n, t[47360 + n] = a[185][n]);
      for (a[186] = "".split(""), n = 0; n != a[186].length; ++n)
        a[186][n].charCodeAt(0) !== 65533 && (i[a[186][n]] = 47616 + n, t[47616 + n] = a[186][n]);
      for (a[187] = "".split(""), n = 0; n != a[187].length; ++n)
        a[187][n].charCodeAt(0) !== 65533 && (i[a[187][n]] = 47872 + n, t[47872 + n] = a[187][n]);
      for (a[188] = "".split(""), n = 0; n != a[188].length; ++n)
        a[188][n].charCodeAt(0) !== 65533 && (i[a[188][n]] = 48128 + n, t[48128 + n] = a[188][n]);
      for (a[189] = "".split(""), n = 0; n != a[189].length; ++n)
        a[189][n].charCodeAt(0) !== 65533 && (i[a[189][n]] = 48384 + n, t[48384 + n] = a[189][n]);
      for (a[190] = "".split(""), n = 0; n != a[190].length; ++n)
        a[190][n].charCodeAt(0) !== 65533 && (i[a[190][n]] = 48640 + n, t[48640 + n] = a[190][n]);
      for (a[191] = "".split(""), n = 0; n != a[191].length; ++n)
        a[191][n].charCodeAt(0) !== 65533 && (i[a[191][n]] = 48896 + n, t[48896 + n] = a[191][n]);
      for (a[192] = "".split(""), n = 0; n != a[192].length; ++n)
        a[192][n].charCodeAt(0) !== 65533 && (i[a[192][n]] = 49152 + n, t[49152 + n] = a[192][n]);
      for (a[193] = "".split(""), n = 0; n != a[193].length; ++n)
        a[193][n].charCodeAt(0) !== 65533 && (i[a[193][n]] = 49408 + n, t[49408 + n] = a[193][n]);
      for (a[194] = "".split(""), n = 0; n != a[194].length; ++n)
        a[194][n].charCodeAt(0) !== 65533 && (i[a[194][n]] = 49664 + n, t[49664 + n] = a[194][n]);
      for (a[195] = "".split(""), n = 0; n != a[195].length; ++n)
        a[195][n].charCodeAt(0) !== 65533 && (i[a[195][n]] = 49920 + n, t[49920 + n] = a[195][n]);
      for (a[196] = "".split(""), n = 0; n != a[196].length; ++n)
        a[196][n].charCodeAt(0) !== 65533 && (i[a[196][n]] = 50176 + n, t[50176 + n] = a[196][n]);
      for (a[197] = "".split(""), n = 0; n != a[197].length; ++n)
        a[197][n].charCodeAt(0) !== 65533 && (i[a[197][n]] = 50432 + n, t[50432 + n] = a[197][n]);
      for (a[198] = "".split(""), n = 0; n != a[198].length; ++n)
        a[198][n].charCodeAt(0) !== 65533 && (i[a[198][n]] = 50688 + n, t[50688 + n] = a[198][n]);
      for (a[199] = "".split(""), n = 0; n != a[199].length; ++n)
        a[199][n].charCodeAt(0) !== 65533 && (i[a[199][n]] = 50944 + n, t[50944 + n] = a[199][n]);
      for (a[200] = "".split(""), n = 0; n != a[200].length; ++n)
        a[200][n].charCodeAt(0) !== 65533 && (i[a[200][n]] = 51200 + n, t[51200 + n] = a[200][n]);
      for (a[201] = "".split(""), n = 0; n != a[201].length; ++n)
        a[201][n].charCodeAt(0) !== 65533 && (i[a[201][n]] = 51456 + n, t[51456 + n] = a[201][n]);
      for (a[202] = "".split(""), n = 0; n != a[202].length; ++n)
        a[202][n].charCodeAt(0) !== 65533 && (i[a[202][n]] = 51712 + n, t[51712 + n] = a[202][n]);
      for (a[203] = "".split(""), n = 0; n != a[203].length; ++n)
        a[203][n].charCodeAt(0) !== 65533 && (i[a[203][n]] = 51968 + n, t[51968 + n] = a[203][n]);
      for (a[204] = "".split(""), n = 0; n != a[204].length; ++n)
        a[204][n].charCodeAt(0) !== 65533 && (i[a[204][n]] = 52224 + n, t[52224 + n] = a[204][n]);
      for (a[205] = "".split(""), n = 0; n != a[205].length; ++n)
        a[205][n].charCodeAt(0) !== 65533 && (i[a[205][n]] = 52480 + n, t[52480 + n] = a[205][n]);
      for (a[206] = "".split(""), n = 0; n != a[206].length; ++n)
        a[206][n].charCodeAt(0) !== 65533 && (i[a[206][n]] = 52736 + n, t[52736 + n] = a[206][n]);
      for (a[207] = "".split(""), n = 0; n != a[207].length; ++n)
        a[207][n].charCodeAt(0) !== 65533 && (i[a[207][n]] = 52992 + n, t[52992 + n] = a[207][n]);
      for (a[208] = "".split(""), n = 0; n != a[208].length; ++n)
        a[208][n].charCodeAt(0) !== 65533 && (i[a[208][n]] = 53248 + n, t[53248 + n] = a[208][n]);
      for (a[209] = "".split(""), n = 0; n != a[209].length; ++n)
        a[209][n].charCodeAt(0) !== 65533 && (i[a[209][n]] = 53504 + n, t[53504 + n] = a[209][n]);
      for (a[210] = "".split(""), n = 0; n != a[210].length; ++n)
        a[210][n].charCodeAt(0) !== 65533 && (i[a[210][n]] = 53760 + n, t[53760 + n] = a[210][n]);
      for (a[211] = "".split(""), n = 0; n != a[211].length; ++n)
        a[211][n].charCodeAt(0) !== 65533 && (i[a[211][n]] = 54016 + n, t[54016 + n] = a[211][n]);
      for (a[212] = "".split(""), n = 0; n != a[212].length; ++n)
        a[212][n].charCodeAt(0) !== 65533 && (i[a[212][n]] = 54272 + n, t[54272 + n] = a[212][n]);
      for (a[213] = "".split(""), n = 0; n != a[213].length; ++n)
        a[213][n].charCodeAt(0) !== 65533 && (i[a[213][n]] = 54528 + n, t[54528 + n] = a[213][n]);
      for (a[214] = "".split(""), n = 0; n != a[214].length; ++n)
        a[214][n].charCodeAt(0) !== 65533 && (i[a[214][n]] = 54784 + n, t[54784 + n] = a[214][n]);
      for (a[215] = "".split(""), n = 0; n != a[215].length; ++n)
        a[215][n].charCodeAt(0) !== 65533 && (i[a[215][n]] = 55040 + n, t[55040 + n] = a[215][n]);
      for (a[216] = "".split(""), n = 0; n != a[216].length; ++n)
        a[216][n].charCodeAt(0) !== 65533 && (i[a[216][n]] = 55296 + n, t[55296 + n] = a[216][n]);
      for (a[217] = "".split(""), n = 0; n != a[217].length; ++n)
        a[217][n].charCodeAt(0) !== 65533 && (i[a[217][n]] = 55552 + n, t[55552 + n] = a[217][n]);
      for (a[218] = "".split(""), n = 0; n != a[218].length; ++n)
        a[218][n].charCodeAt(0) !== 65533 && (i[a[218][n]] = 55808 + n, t[55808 + n] = a[218][n]);
      for (a[219] = "".split(""), n = 0; n != a[219].length; ++n)
        a[219][n].charCodeAt(0) !== 65533 && (i[a[219][n]] = 56064 + n, t[56064 + n] = a[219][n]);
      for (a[220] = "".split(""), n = 0; n != a[220].length; ++n)
        a[220][n].charCodeAt(0) !== 65533 && (i[a[220][n]] = 56320 + n, t[56320 + n] = a[220][n]);
      for (a[221] = "".split(""), n = 0; n != a[221].length; ++n)
        a[221][n].charCodeAt(0) !== 65533 && (i[a[221][n]] = 56576 + n, t[56576 + n] = a[221][n]);
      for (a[222] = "".split(""), n = 0; n != a[222].length; ++n)
        a[222][n].charCodeAt(0) !== 65533 && (i[a[222][n]] = 56832 + n, t[56832 + n] = a[222][n]);
      for (a[223] = "".split(""), n = 0; n != a[223].length; ++n)
        a[223][n].charCodeAt(0) !== 65533 && (i[a[223][n]] = 57088 + n, t[57088 + n] = a[223][n]);
      for (a[224] = "".split(""), n = 0; n != a[224].length; ++n)
        a[224][n].charCodeAt(0) !== 65533 && (i[a[224][n]] = 57344 + n, t[57344 + n] = a[224][n]);
      for (a[225] = "".split(""), n = 0; n != a[225].length; ++n)
        a[225][n].charCodeAt(0) !== 65533 && (i[a[225][n]] = 57600 + n, t[57600 + n] = a[225][n]);
      for (a[226] = "".split(""), n = 0; n != a[226].length; ++n)
        a[226][n].charCodeAt(0) !== 65533 && (i[a[226][n]] = 57856 + n, t[57856 + n] = a[226][n]);
      for (a[227] = "".split(""), n = 0; n != a[227].length; ++n)
        a[227][n].charCodeAt(0) !== 65533 && (i[a[227][n]] = 58112 + n, t[58112 + n] = a[227][n]);
      for (a[228] = "".split(""), n = 0; n != a[228].length; ++n)
        a[228][n].charCodeAt(0) !== 65533 && (i[a[228][n]] = 58368 + n, t[58368 + n] = a[228][n]);
      for (a[229] = "".split(""), n = 0; n != a[229].length; ++n)
        a[229][n].charCodeAt(0) !== 65533 && (i[a[229][n]] = 58624 + n, t[58624 + n] = a[229][n]);
      for (a[230] = "".split(""), n = 0; n != a[230].length; ++n)
        a[230][n].charCodeAt(0) !== 65533 && (i[a[230][n]] = 58880 + n, t[58880 + n] = a[230][n]);
      for (a[231] = "".split(""), n = 0; n != a[231].length; ++n)
        a[231][n].charCodeAt(0) !== 65533 && (i[a[231][n]] = 59136 + n, t[59136 + n] = a[231][n]);
      for (a[232] = "".split(""), n = 0; n != a[232].length; ++n)
        a[232][n].charCodeAt(0) !== 65533 && (i[a[232][n]] = 59392 + n, t[59392 + n] = a[232][n]);
      for (a[233] = "".split(""), n = 0; n != a[233].length; ++n)
        a[233][n].charCodeAt(0) !== 65533 && (i[a[233][n]] = 59648 + n, t[59648 + n] = a[233][n]);
      for (a[234] = "".split(""), n = 0; n != a[234].length; ++n)
        a[234][n].charCodeAt(0) !== 65533 && (i[a[234][n]] = 59904 + n, t[59904 + n] = a[234][n]);
      for (a[235] = "".split(""), n = 0; n != a[235].length; ++n)
        a[235][n].charCodeAt(0) !== 65533 && (i[a[235][n]] = 60160 + n, t[60160 + n] = a[235][n]);
      for (a[236] = "".split(""), n = 0; n != a[236].length; ++n)
        a[236][n].charCodeAt(0) !== 65533 && (i[a[236][n]] = 60416 + n, t[60416 + n] = a[236][n]);
      for (a[237] = "".split(""), n = 0; n != a[237].length; ++n)
        a[237][n].charCodeAt(0) !== 65533 && (i[a[237][n]] = 60672 + n, t[60672 + n] = a[237][n]);
      for (a[238] = "".split(""), n = 0; n != a[238].length; ++n)
        a[238][n].charCodeAt(0) !== 65533 && (i[a[238][n]] = 60928 + n, t[60928 + n] = a[238][n]);
      for (a[239] = "".split(""), n = 0; n != a[239].length; ++n)
        a[239][n].charCodeAt(0) !== 65533 && (i[a[239][n]] = 61184 + n, t[61184 + n] = a[239][n]);
      for (a[240] = "".split(""), n = 0; n != a[240].length; ++n)
        a[240][n].charCodeAt(0) !== 65533 && (i[a[240][n]] = 61440 + n, t[61440 + n] = a[240][n]);
      for (a[241] = "".split(""), n = 0; n != a[241].length; ++n)
        a[241][n].charCodeAt(0) !== 65533 && (i[a[241][n]] = 61696 + n, t[61696 + n] = a[241][n]);
      for (a[242] = "".split(""), n = 0; n != a[242].length; ++n)
        a[242][n].charCodeAt(0) !== 65533 && (i[a[242][n]] = 61952 + n, t[61952 + n] = a[242][n]);
      for (a[243] = "".split(""), n = 0; n != a[243].length; ++n)
        a[243][n].charCodeAt(0) !== 65533 && (i[a[243][n]] = 62208 + n, t[62208 + n] = a[243][n]);
      for (a[244] = "".split(""), n = 0; n != a[244].length; ++n)
        a[244][n].charCodeAt(0) !== 65533 && (i[a[244][n]] = 62464 + n, t[62464 + n] = a[244][n]);
      for (a[245] = "".split(""), n = 0; n != a[245].length; ++n)
        a[245][n].charCodeAt(0) !== 65533 && (i[a[245][n]] = 62720 + n, t[62720 + n] = a[245][n]);
      for (a[246] = "".split(""), n = 0; n != a[246].length; ++n)
        a[246][n].charCodeAt(0) !== 65533 && (i[a[246][n]] = 62976 + n, t[62976 + n] = a[246][n]);
      for (a[247] = "".split(""), n = 0; n != a[247].length; ++n)
        a[247][n].charCodeAt(0) !== 65533 && (i[a[247][n]] = 63232 + n, t[63232 + n] = a[247][n]);
      return { enc: i, dec: t };
    }(), e[10029] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[10079] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[10081] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), e[28591] = function() {
      for (var t = `\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`, i = [], a = {}, n = 0; n != t.length; ++n)
        t.charCodeAt(n) !== 65533 && (a[t.charAt(n)] = n), i[n] = t.charAt(n);
      return { enc: a, dec: i };
    }(), r.exports && typeof DO_NOT_EXPORT_CODEPAGE > "u" && (r.exports = e);
    /*! cputils.js (C) 2013-present SheetJS -- http://sheetjs.com */
    (function(t, i) {
      if (typeof e > "u")
        if (typeof m_ < "u") {
          var a = e;
          r.exports && typeof DO_NOT_EXPORT_CODEPAGE > "u" ? r.exports = i(a) : t.cptable = i(a);
        } else
          throw new Error("cptable not found");
      else
        e = i(e);
    })(w_, function(t) {
      var i = {
        1200: "utf16le",
        1201: "utf16be",
        12e3: "utf32le",
        12001: "utf32be",
        16969: "utf64le",
        20127: "ascii",
        65e3: "utf7",
        65001: "utf8"
      }, a = [874, 1250, 1251, 1252, 1253, 1254, 1255, 1256, 1e4], n = [932, 936, 949, 950], o = [65001], s = {}, l = {}, u = {}, c = {}, f = function(he) {
        return String.fromCharCode(he);
      }, d = function(he) {
        return he.charCodeAt(0);
      }, p = typeof Buffer < "u", v = function() {
      };
      if (p) {
        var y = !Buffer.from;
        if (!y)
          try {
            Buffer.from("foo", "utf8");
          } catch {
            y = !0;
          }
        v = y ? function(Se, he) {
          return he ? new Buffer(Se, he) : new Buffer(Se);
        } : Buffer.from.bind(Buffer), Buffer.allocUnsafe || (Buffer.allocUnsafe = function(Se) {
          return new Buffer(Se);
        });
        var _ = 1024, w = Buffer.allocUnsafe(_), S = function(he) {
          for (var fe = Buffer.allocUnsafe(65536), K = 0; K < 65536; ++K)
            fe[K] = 0;
          for (var we = Object.keys(he), ve = we.length, De = 0, Ie = we[De]; De < ve; ++De)
            (Ie = we[De]) && (fe[Ie.charCodeAt(0)] = he[Ie]);
          return fe;
        }, x = function(he) {
          var fe = S(t[he].enc);
          return function(we, ve) {
            var De = we.length, Ie, q = 0, re = 0, be = 0, te = 0;
            if (typeof we == "string")
              for (Ie = Buffer.allocUnsafe(De), q = 0; q < De; ++q)
                Ie[q] = fe[we.charCodeAt(q)];
            else if (Buffer.isBuffer(we)) {
              for (Ie = Buffer.allocUnsafe(2 * De), re = 0, q = 0; q < De; ++q)
                be = we[q], be < 128 ? Ie[re++] = fe[be] : be < 224 ? (Ie[re++] = fe[((be & 31) << 6) + (we[q + 1] & 63)], ++q) : be < 240 ? (Ie[re++] = fe[((be & 15) << 12) + ((we[q + 1] & 63) << 6) + (we[q + 2] & 63)], q += 2) : (te = ((be & 7) << 18) + ((we[q + 1] & 63) << 12) + ((we[q + 2] & 63) << 6) + (we[q + 3] & 63), q += 3, te < 65536 ? Ie[re++] = fe[te] : (te -= 65536, Ie[re++] = fe[55296 + (te >> 10 & 1023)], Ie[re++] = fe[56320 + (te & 1023)]));
              Ie = Ie.slice(0, re);
            } else
              for (Ie = Buffer.allocUnsafe(De), q = 0; q < De; ++q)
                Ie[q] = fe[we[q].charCodeAt(0)];
            return !ve || ve === "buf" ? Ie : ve !== "arr" ? Ie.toString("binary") : [].slice.call(Ie);
          };
        }, E = function(he) {
          var fe = t[he].dec, K = Buffer.allocUnsafe(131072), we = 0, ve = "";
          for (we = 0; we < fe.length; ++we)
            if (ve = fe[we]) {
              var De = ve.charCodeAt(0);
              K[2 * we] = De & 255, K[2 * we + 1] = De >> 8;
            }
          return function(q) {
            var re = q.length, be = 0, te = 0;
            if (2 * re > _ && (_ = 2 * re, w = Buffer.allocUnsafe(_)), Buffer.isBuffer(q))
              for (be = 0; be < re; be++)
                te = 2 * q[be], w[2 * be] = K[te], w[2 * be + 1] = K[te + 1];
            else if (typeof q == "string")
              for (be = 0; be < re; be++)
                te = 2 * q.charCodeAt(be), w[2 * be] = K[te], w[2 * be + 1] = K[te + 1];
            else
              for (be = 0; be < re; be++)
                te = 2 * q[be], w[2 * be] = K[te], w[2 * be + 1] = K[te + 1];
            return w.slice(0, 2 * re).toString("ucs2");
          };
        }, M = function(he) {
          for (var fe = t[he].enc, K = Buffer.allocUnsafe(131072), we = 0; we < 131072; ++we)
            K[we] = 0;
          for (var ve = Object.keys(fe), De = 0, Ie = ve[De]; De < ve.length; ++De)
            if (Ie = ve[De]) {
              var q = Ie.charCodeAt(0);
              K[2 * q] = fe[Ie] & 255, K[2 * q + 1] = fe[Ie] >> 8;
            }
          return function(be, te) {
            var ne = be.length, ie = Buffer.allocUnsafe(2 * ne), xe = 0, ge = 0, ae = 0, pe = 0, ce = 0;
            if (typeof be == "string") {
              for (xe = pe = 0; xe < ne; ++xe)
                ge = be.charCodeAt(xe) * 2, ie[pe++] = K[ge + 1] || K[ge], K[ge + 1] > 0 && (ie[pe++] = K[ge]);
              ie = ie.slice(0, pe);
            } else if (Buffer.isBuffer(be)) {
              for (xe = pe = 0; xe < ne; ++xe)
                ce = be[xe], ce < 128 ? ge = ce : ce < 224 ? (ge = ((ce & 31) << 6) + (be[xe + 1] & 63), ++xe) : ce < 240 ? (ge = ((ce & 15) << 12) + ((be[xe + 1] & 63) << 6) + (be[xe + 2] & 63), xe += 2) : (ge = ((ce & 7) << 18) + ((be[xe + 1] & 63) << 12) + ((be[xe + 2] & 63) << 6) + (be[xe + 3] & 63), xe += 3), ge < 65536 ? (ge *= 2, ie[pe++] = K[ge + 1] || K[ge], K[ge + 1] > 0 && (ie[pe++] = K[ge])) : (ae = ge - 65536, ge = 2 * (55296 + (ae >> 10 & 1023)), ie[pe++] = K[ge + 1] || K[ge], K[ge + 1] > 0 && (ie[pe++] = K[ge]), ge = 2 * (56320 + (ae & 1023)), ie[pe++] = K[ge + 1] || K[ge], K[ge + 1] > 0 && (ie[pe++] = K[ge]));
              ie = ie.slice(0, pe);
            } else
              for (xe = pe = 0; xe < ne; xe++)
                ge = be[xe].charCodeAt(0) * 2, ie[pe++] = K[ge + 1] || K[ge], K[ge + 1] > 0 && (ie[pe++] = K[ge]);
            return !te || te === "buf" ? ie : te !== "arr" ? ie.toString("binary") : [].slice.call(ie);
          };
        }, k = function(he) {
          var fe = t[he].dec, K = Buffer.allocUnsafe(131072), we = 0, ve, De = 0, Ie = 0, q = 0;
          for (q = 0; q < 65536; ++q)
            K[2 * q] = 255, K[2 * q + 1] = 253;
          for (we = 0; we < fe.length; ++we)
            (ve = fe[we]) && (De = ve.charCodeAt(0), Ie = 2 * we, K[Ie] = De & 255, K[Ie + 1] = De >> 8);
          return function(be) {
            var te = be.length, ne = Buffer.allocUnsafe(2 * te), ie = 0, xe = 0, ge = 0;
            if (Buffer.isBuffer(be))
              for (ie = 0; ie < te; ie++)
                xe = 2 * be[ie], K[xe] === 255 && K[xe + 1] === 253 && (xe = 2 * ((be[ie] << 8) + be[ie + 1]), ++ie), ne[ge++] = K[xe], ne[ge++] = K[xe + 1];
            else if (typeof be == "string")
              for (ie = 0; ie < te; ie++)
                xe = 2 * be.charCodeAt(ie), K[xe] === 255 && K[xe + 1] === 253 && (xe = 2 * ((be.charCodeAt(ie) << 8) + be.charCodeAt(ie + 1)), ++ie), ne[ge++] = K[xe], ne[ge++] = K[xe + 1];
            else
              for (ie = 0; ie < te; ie++)
                xe = 2 * be[ie], K[xe] === 255 && K[xe + 1] === 253 && (xe = 2 * ((be[ie] << 8) + be[ie + 1]), ++ie), ne[ge++] = K[xe], ne[ge++] = K[xe + 1];
            return ne.slice(0, ge).toString("ucs2");
          };
        };
        s[65001] = function Se(he) {
          if (typeof he == "string")
            return Se(he.split("").map(d));
          var fe = he.length, K = 0, we = 0;
          4 * fe > _ && (_ = 4 * fe, w = Buffer.allocUnsafe(_));
          var ve = 0;
          fe >= 3 && he[0] == 239 && he[1] == 187 && he[2] == 191 && (ve = 3);
          for (var De = 1, Ie = 0, q = 0; ve < fe; ve += De)
            De = 1, q = he[ve], q < 128 ? K = q : q < 224 ? (K = (q & 31) * 64 + (he[ve + 1] & 63), De = 2) : q < 240 ? (K = ((q & 15) << 12) + (he[ve + 1] & 63) * 64 + (he[ve + 2] & 63), De = 3) : (K = (q & 7) * 262144 + ((he[ve + 1] & 63) << 12) + (he[ve + 2] & 63) * 64 + (he[ve + 3] & 63), De = 4), K < 65536 ? (w[Ie++] = K & 255, w[Ie++] = K >> 8) : (K -= 65536, we = 55296 + (K >> 10 & 1023), K = 56320 + (K & 1023), w[Ie++] = we & 255, w[Ie++] = we >>> 8, w[Ie++] = K & 255, w[Ie++] = K >>> 8 & 255);
          return w.slice(0, Ie).toString("ucs2");
        }, l[65001] = function(he, fe) {
          if (p && Buffer.isBuffer(he))
            return !fe || fe === "buf" ? he : fe !== "arr" ? he.toString("binary") : [].slice.call(he);
          var K = he.length, we = 0, ve = 0, De = 0, Ie = typeof he == "string";
          4 * K > _ && (_ = 4 * K, w = Buffer.allocUnsafe(_));
          for (var q = 0; q < K; ++q)
            we = Ie ? he.charCodeAt(q) : he[q].charCodeAt(0), we <= 127 ? w[De++] = we : we <= 2047 ? (w[De++] = 192 + (we >> 6), w[De++] = 128 + (we & 63)) : we >= 55296 && we <= 57343 ? (we -= 55296, ++q, ve = (Ie ? he.charCodeAt(q) : he[q].charCodeAt(0)) - 56320 + (we << 10), w[De++] = 240 + (ve >>> 18 & 7), w[De++] = 144 + (ve >>> 12 & 63), w[De++] = 128 + (ve >>> 6 & 63), w[De++] = 128 + (ve & 63)) : (w[De++] = 224 + (we >> 12), w[De++] = 128 + (we >> 6 & 63), w[De++] = 128 + (we & 63));
          return !fe || fe === "buf" ? w.slice(0, De) : fe !== "arr" ? w.slice(0, De).toString("binary") : [].slice.call(w, 0, De);
        };
      }
      var P = function() {
        if (p) {
          if (u[a[0]])
            return;
          var he = 0, fe = 0;
          for (he = 0; he < a.length; ++he)
            fe = a[he], t[fe] && (u[fe] = E(fe), c[fe] = x(fe));
          for (he = 0; he < n.length; ++he)
            fe = n[he], t[fe] && (u[fe] = k(fe), c[fe] = M(fe));
          for (he = 0; he < o.length; ++he)
            fe = o[he], s[fe] && (u[fe] = s[fe]), l[fe] && (c[fe] = l[fe]);
        }
      }, L = function(Se, he) {
        return "";
      }, F = function(he) {
        delete u[he], delete c[he];
      }, O = function() {
        if (p) {
          if (!u[a[0]])
            return;
          a.forEach(F), n.forEach(F), o.forEach(F);
        }
        Z = L, Q = 0;
      }, U = {
        encache: P,
        decache: O,
        sbcs: a,
        dbcs: n
      };
      P();
      var V = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", G = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'(),-./:?", Z = L, Q = 0, se = function Se(he, fe, K) {
        if (he === Q && Z)
          return Z(fe, K);
        if (c[he])
          return Z = c[Q = he], Z(fe, K);
        p && Buffer.isBuffer(fe) && (fe = fe.toString("utf8"));
        var we = fe.length, ve = p ? Buffer.allocUnsafe(4 * we) : [], De = 0, Ie = 0, q = 0, re = 0, be = t[he], te, ne = "", ie = typeof fe == "string";
        if (be && (te = be.enc))
          for (Ie = 0; Ie < we; ++Ie, ++q)
            De = te[ie ? fe.charAt(Ie) : fe[Ie]], De > 255 ? (ve[q] = De >> 8, ve[++q] = De & 255) : ve[q] = De & 255;
        else if (ne = i[he])
          switch (ne) {
            case "utf8":
              if (p && ie) {
                ve = v(fe, ne), q = ve.length;
                break;
              }
              for (Ie = 0; Ie < we; ++Ie, ++q)
                De = ie ? fe.charCodeAt(Ie) : fe[Ie].charCodeAt(0), De <= 127 ? ve[q] = De : De <= 2047 ? (ve[q] = 192 + (De >> 6), ve[++q] = 128 + (De & 63)) : De >= 55296 && De <= 57343 ? (De -= 55296, re = (ie ? fe.charCodeAt(++Ie) : fe[++Ie].charCodeAt(0)) - 56320 + (De << 10), ve[q] = 240 + (re >>> 18 & 7), ve[++q] = 144 + (re >>> 12 & 63), ve[++q] = 128 + (re >>> 6 & 63), ve[++q] = 128 + (re & 63)) : (ve[q] = 224 + (De >> 12), ve[++q] = 128 + (De >> 6 & 63), ve[++q] = 128 + (De & 63));
              break;
            case "ascii":
              if (p && typeof fe == "string") {
                ve = v(fe, ne), q = ve.length;
                break;
              }
              for (Ie = 0; Ie < we; ++Ie, ++q)
                if (De = ie ? fe.charCodeAt(Ie) : fe[Ie].charCodeAt(0), De <= 127)
                  ve[q] = De;
                else
                  throw new Error("bad ascii " + De);
              break;
            case "utf16le":
              if (p && typeof fe == "string") {
                ve = v(fe, ne), q = ve.length;
                break;
              }
              for (Ie = 0; Ie < we; ++Ie)
                De = ie ? fe.charCodeAt(Ie) : fe[Ie].charCodeAt(0), ve[q++] = De & 255, ve[q++] = De >> 8;
              break;
            case "utf16be":
              for (Ie = 0; Ie < we; ++Ie)
                De = ie ? fe.charCodeAt(Ie) : fe[Ie].charCodeAt(0), ve[q++] = De >> 8, ve[q++] = De & 255;
              break;
            case "utf32le":
              for (Ie = 0; Ie < we; ++Ie)
                De = ie ? fe.charCodeAt(Ie) : fe[Ie].charCodeAt(0), De >= 55296 && De <= 57343 && (De = 65536 + (De - 55296 << 10) + (fe[++Ie].charCodeAt(0) - 56320)), ve[q++] = De & 255, De >>= 8, ve[q++] = De & 255, De >>= 8, ve[q++] = De & 255, De >>= 8, ve[q++] = De & 255;
              break;
            case "utf32be":
              for (Ie = 0; Ie < we; ++Ie)
                De = ie ? fe.charCodeAt(Ie) : fe[Ie].charCodeAt(0), De >= 55296 && De <= 57343 && (De = 65536 + (De - 55296 << 10) + (fe[++Ie].charCodeAt(0) - 56320)), ve[q + 3] = De & 255, De >>= 8, ve[q + 2] = De & 255, De >>= 8, ve[q + 1] = De & 255, De >>= 8, ve[q] = De & 255, q += 4;
              break;
            case "utf7":
              for (Ie = 0; Ie < we; Ie++) {
                var xe = ie ? fe.charAt(Ie) : fe[Ie].charAt(0);
                if (xe === "+") {
                  ve[q++] = 43, ve[q++] = 45;
                  continue;
                }
                if (G.indexOf(xe) > -1) {
                  ve[q++] = xe.charCodeAt(0);
                  continue;
                }
                var ge = Se(1201, xe);
                ve[q++] = 43, ve[q++] = V.charCodeAt(ge[0] >> 2), ve[q++] = V.charCodeAt(((ge[0] & 3) << 4) + ((ge[1] || 0) >> 4)), ve[q++] = V.charCodeAt(((ge[1] & 15) << 2) + ((ge[2] || 0) >> 6)), ve[q++] = 45;
              }
              break;
            default:
              throw new Error("Unsupported magic: " + he + " " + i[he]);
          }
        else
          throw new Error("Unrecognized CP: " + he);
        return ve = ve.slice(0, q), p ? !K || K === "buf" ? ve : K !== "arr" ? ve.toString("binary") : [].slice.call(ve) : K == "str" ? ve.map(f).join("") : ve;
      }, de = function Se(he, fe) {
        var K;
        if (K = u[he])
          return K(fe);
        if (typeof fe == "string")
          return Se(he, fe.split("").map(d));
        var we = fe.length, ve = new Array(we), De = "", Ie = 0, q = 0, re = 1, be = 0, te = 0, ne = t[he], ie, xe = "";
        if (ne && (ie = ne.dec))
          for (q = 0; q < we; q += re) {
            if (re = 2, De = ie[(fe[q] << 8) + fe[q + 1]], De || (re = 1, De = ie[fe[q]]), !De)
              throw new Error("Unrecognized code: " + fe[q] + " " + fe[q + re - 1] + " " + q + " " + re + " " + ie[fe[q]]);
            ve[be++] = De;
          }
        else if (xe = i[he])
          switch (xe) {
            case "utf8":
              for (we >= 3 && fe[0] == 239 && fe[1] == 187 && fe[2] == 191 && (q = 3); q < we; q += re)
                re = 1, fe[q] < 128 ? Ie = fe[q] : fe[q] < 224 ? (Ie = (fe[q] & 31) * 64 + (fe[q + 1] & 63), re = 2) : fe[q] < 240 ? (Ie = ((fe[q] & 15) << 12) + (fe[q + 1] & 63) * 64 + (fe[q + 2] & 63), re = 3) : (Ie = (fe[q] & 7) * 262144 + ((fe[q + 1] & 63) << 12) + (fe[q + 2] & 63) * 64 + (fe[q + 3] & 63), re = 4), Ie < 65536 || (Ie -= 65536, te = 55296 + (Ie >> 10 & 1023), Ie = 56320 + (Ie & 1023), ve[be++] = String.fromCharCode(te)), ve[be++] = String.fromCharCode(Ie);
              break;
            case "ascii":
              if (p && Buffer.isBuffer(fe))
                return fe.toString(xe);
              for (q = 0; q < we; q++)
                ve[q] = String.fromCharCode(fe[q]);
              be = we;
              break;
            case "utf16le":
              if (we >= 2 && fe[0] == 255 && fe[1] == 254 && (q = 2), p && Buffer.isBuffer(fe))
                return fe.toString(xe);
              for (re = 2; q + 1 < we; q += re)
                ve[be++] = String.fromCharCode((fe[q + 1] << 8) + fe[q]);
              break;
            case "utf16be":
              for (we >= 2 && fe[0] == 254 && fe[1] == 255 && (q = 2), re = 2; q + 1 < we; q += re)
                ve[be++] = String.fromCharCode((fe[q] << 8) + fe[q + 1]);
              break;
            case "utf32le":
              for (we >= 4 && fe[0] == 255 && fe[1] == 254 && fe[2] === 0 && fe[3] === 0 && (q = 4), re = 4; q < we; q += re)
                Ie = (fe[q + 3] << 24) + (fe[q + 2] << 16) + (fe[q + 1] << 8) + fe[q], Ie > 65535 ? (Ie -= 65536, ve[be++] = String.fromCharCode(55296 + (Ie >> 10 & 1023)), ve[be++] = String.fromCharCode(56320 + (Ie & 1023))) : ve[be++] = String.fromCharCode(Ie);
              break;
            case "utf32be":
              for (we >= 4 && fe[3] == 255 && fe[2] == 254 && fe[1] === 0 && fe[0] === 0 && (q = 4), re = 4; q < we; q += re)
                Ie = (fe[q] << 24) + (fe[q + 1] << 16) + (fe[q + 2] << 8) + fe[q + 3], Ie > 65535 ? (Ie -= 65536, ve[be++] = String.fromCharCode(55296 + (Ie >> 10 & 1023)), ve[be++] = String.fromCharCode(56320 + (Ie & 1023))) : ve[be++] = String.fromCharCode(Ie);
              break;
            case "utf7":
              for (we >= 4 && fe[0] == 43 && fe[1] == 47 && fe[2] == 118 && (we >= 5 && fe[3] == 56 && fe[4] == 45 ? q = 5 : (fe[3] == 56 || fe[3] == 57 || fe[3] == 43 || fe[3] == 47) && (q = 4)); q < we; q += re) {
                if (fe[q] !== 43) {
                  re = 1, ve[be++] = String.fromCharCode(fe[q]);
                  continue;
                }
                if (re = 1, fe[q + 1] === 45) {
                  re = 2, ve[be++] = "+";
                  continue;
                }
                for (; String.fromCharCode(fe[q + re]).match(/[A-Za-z0-9+\/]/); )
                  re++;
                var ge = 0;
                fe[q + re] === 45 && (++re, ge = 1);
                for (var ae = [], pe = "", ce = 0, Ee = 0, ke = 0, ye = 0, Pe = 0, We = 0, nt = 0, ft = 1; ft < re - ge && (ye = V.indexOf(String.fromCharCode(fe[q + ft++])), Pe = V.indexOf(String.fromCharCode(fe[q + ft++])), ce = ye << 2 | Pe >> 4, ae.push(ce), We = V.indexOf(String.fromCharCode(fe[q + ft++])), !(We === -1 || (Ee = (Pe & 15) << 4 | We >> 2, ae.push(Ee), nt = V.indexOf(String.fromCharCode(fe[q + ft++])), nt === -1))); )
                  ke = (We & 3) << 6 | nt, nt < 64 && ae.push(ke);
                for (pe = Se(1201, ae), ft = 0; ft < pe.length; ++ft)
                  ve[be++] = pe.charAt(ft);
              }
              break;
            default:
              throw new Error("Unsupported magic: " + he + " " + i[he]);
          }
        else
          throw new Error("Unrecognized CP: " + he);
        return ve.slice(0, be).join("");
      }, le = function(he) {
        return !!(t[he] || i[he]);
      };
      return t.utils = { decode: de, encode: se, hascp: le, magic: i, cache: U }, t;
    });
  }(MT)), MT.exports;
}
const MPe = {}, IPe = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: MPe
}, Symbol.toStringTag, { value: "Module" })), IT = /* @__PURE__ */ xie(IPe);
(function(r, e) {
  var t = {};
  function i(a) {
    a.version = "0.18.5", a.style_version = "1.2.0";
    var n, o = 1200, s = 1252;
    typeof cptable < "u" ? n = cptable : typeof m_ < "u" && (n = kPe());
    var l = [874, 932, 936, 949, 950, 1250, 1251, 1252, 1253, 1254, 1255, 1256, 1257, 1258, 1e4], u = { 0: 1252, 1: 65001, 2: 65001, 77: 1e4, 128: 932, 129: 949, 130: 1361, 134: 936, 136: 950, 161: 1253, 162: 1254, 163: 1258, 177: 1255, 178: 1256, 186: 1257, 204: 1251, 222: 874, 238: 1250, 255: 1252, 69: 6969 }, c = function(h) {
      l.indexOf(h) != -1 && (s = u[0] = h);
    }, f = function(h) {
      c(o = h);
    };
    function d() {
      f(1200), c(1252);
    }
    function p(h) {
      for (var g = [], m = 0, b = h.length; m < b; ++m)
        g[m] = h.charCodeAt(m);
      return g;
    }
    function v(h) {
      for (var g = [], m = 0; m < h.length >> 1; ++m)
        g[m] = String.fromCharCode(h.charCodeAt(2 * m + 1) + (h.charCodeAt(2 * m) << 8));
      return g.join("");
    }
    var y = function(h) {
      var g = h.charCodeAt(0), m = h.charCodeAt(1);
      return g == 255 && m == 254 ? function(b) {
        for (var T = [], A = 0; A < b.length >> 1; ++A)
          T[A] = String.fromCharCode(b.charCodeAt(2 * A) + (b.charCodeAt(2 * A + 1) << 8));
        return T.join("");
      }(h.slice(2)) : g == 254 && m == 255 ? v(h.slice(2)) : g == 65279 ? h.slice(1) : h;
    }, _ = function(h) {
      return String.fromCharCode(h);
    }, w = function(h) {
      return String.fromCharCode(h);
    };
    n !== void 0 && (f = function(h) {
      c(o = h);
    }, y = function(h) {
      return h.charCodeAt(0) === 255 && h.charCodeAt(1) === 254 ? n.utils.decode(1200, p(h.slice(2))) : h;
    }, _ = function(h) {
      return o === 1200 ? String.fromCharCode(h) : n.utils.decode(o, [255 & h, h >> 8])[0];
    }, w = function(h) {
      return n.utils.decode(s, [h])[0];
    });
    var S = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
    function x(h) {
      for (var g, m, b, T, A, C = "", D = 0, I = 0, R = 0; R < h.length; )
        T = (g = h.charCodeAt(R++)) >> 2, A = (3 & g) << 4 | (m = h.charCodeAt(R++)) >> 4, D = (15 & m) << 2 | (b = h.charCodeAt(R++)) >> 6, I = 63 & b, isNaN(m) ? D = I = 64 : isNaN(b) && (I = 64), C += S.charAt(T) + S.charAt(A) + S.charAt(D) + S.charAt(I);
      return C;
    }
    function E(h) {
      var g, m, b, T, A, C, D = "";
      h = h.replace(/[^\w\+\/\=]/g, "");
      for (var I = 0; I < h.length; )
        g = S.indexOf(h.charAt(I++)) << 2 | (T = S.indexOf(h.charAt(I++))) >> 4, D += String.fromCharCode(g), m = (15 & T) << 4 | (A = S.indexOf(h.charAt(I++))) >> 2, A !== 64 && (D += String.fromCharCode(m)), b = (3 & A) << 6 | (C = S.indexOf(h.charAt(I++))), C !== 64 && (D += String.fromCharCode(b));
      return D;
    }
    var M = typeof Buffer < "u" && typeof process < "u" && process.versions !== void 0 && !!process.versions.node, k = function() {
      if (typeof Buffer > "u")
        return function() {
        };
      var h = !Buffer.from;
      if (!h)
        try {
          Buffer.from("foo", "utf8");
        } catch {
          h = !0;
        }
      return h ? function(g, m) {
        return m ? new Buffer(g, m) : new Buffer(g);
      } : Buffer.from.bind(Buffer);
    }();
    function P(h) {
      return M ? Buffer.alloc ? Buffer.alloc(h) : new Buffer(h) : new (typeof Uint8Array < "u" ? Uint8Array : Array)(h);
    }
    function L(h) {
      return M ? Buffer.allocUnsafe ? Buffer.allocUnsafe(h) : new Buffer(h) : new (typeof Uint8Array < "u" ? Uint8Array : Array)(h);
    }
    var F = function(h) {
      return M ? k(h, "binary") : h.split("").map(function(g) {
        return 255 & g.charCodeAt(0);
      });
    };
    function O(h) {
      if (typeof ArrayBuffer > "u")
        return F(h);
      for (var g = new ArrayBuffer(h.length), m = new Uint8Array(g), b = 0; b != h.length; ++b)
        m[b] = 255 & h.charCodeAt(b);
      return g;
    }
    function U(h) {
      if (Array.isArray(h))
        return h.map(function(b) {
          return String.fromCharCode(b);
        }).join("");
      for (var g = [], m = 0; m < h.length; ++m)
        g[m] = String.fromCharCode(h[m]);
      return g.join("");
    }
    function V(h) {
      if (typeof ArrayBuffer > "u")
        throw new Error("Unsupported");
      if (h instanceof ArrayBuffer)
        return V(new Uint8Array(h));
      for (var g = new Array(h.length), m = 0; m < h.length; ++m)
        g[m] = h[m];
      return g;
    }
    var G = M ? function(h) {
      return Buffer.concat(h.map(function(g) {
        return Buffer.isBuffer(g) ? g : k(g);
      }));
    } : function(h) {
      if (typeof Uint8Array > "u")
        return [].concat.apply([], h.map(function(A) {
          return Array.isArray(A) ? A : [].slice.call(A);
        }));
      for (var m = 0, g = 0, m = 0; m < h.length; ++m)
        g += h[m].length;
      for (var b, T = new Uint8Array(g), g = m = 0; m < h.length; g += b, ++m)
        if (b = h[m].length, h[m] instanceof Uint8Array)
          T.set(h[m], g);
        else {
          if (typeof h[m] == "string")
            throw "wtf";
          T.set(new Uint8Array(h[m]), g);
        }
      return T;
    }, Z = /\u0000/g, Q = /[\u0001-\u0006]/g;
    function se(h) {
      for (var g = "", m = h.length - 1; 0 <= m; )
        g += h.charAt(m--);
      return g;
    }
    function de(h, g) {
      return h = "" + h, g <= h.length ? h : fi("0", g - h.length) + h;
    }
    function le(h, g) {
      return h = "" + h, g <= h.length ? h : fi(" ", g - h.length) + h;
    }
    function Se(h, g) {
      return h = "" + h, g <= h.length ? h : h + fi(" ", g - h.length);
    }
    var he = Math.pow(2, 32);
    function fe(T, g) {
      if (he < T || T < -he)
        return m = T, b = g, m = "" + Math.round(m), b <= m.length ? m : fi("0", b - m.length) + m;
      var m, b, T = Math.round(T);
      return (g = g) <= (T = "" + (T = T)).length ? T : fi("0", g - T.length) + T;
    }
    function K(h, g) {
      return g = g || 0, h.length >= 7 + g && (32 | h.charCodeAt(g)) == 103 && (32 | h.charCodeAt(g + 1)) == 101 && (32 | h.charCodeAt(g + 2)) == 110 && (32 | h.charCodeAt(g + 3)) == 101 && (32 | h.charCodeAt(g + 4)) == 114 && (32 | h.charCodeAt(g + 5)) == 97 && (32 | h.charCodeAt(g + 6)) == 108;
    }
    var we = [["Sun", "Sunday"], ["Mon", "Monday"], ["Tue", "Tuesday"], ["Wed", "Wednesday"], ["Thu", "Thursday"], ["Fri", "Friday"], ["Sat", "Saturday"]], ve = [["J", "Jan", "January"], ["F", "Feb", "February"], ["M", "Mar", "March"], ["A", "Apr", "April"], ["M", "May", "May"], ["J", "Jun", "June"], ["J", "Jul", "July"], ["A", "Aug", "August"], ["S", "Sep", "September"], ["O", "Oct", "October"], ["N", "Nov", "November"], ["D", "Dec", "December"]], De = { 0: "General", 1: "0", 2: "0.00", 3: "#,##0", 4: "#,##0.00", 9: "0%", 10: "0.00%", 11: "0.00E+00", 12: "# ?/?", 13: "# ??/??", 14: "m/d/yy", 15: "d-mmm-yy", 16: "d-mmm", 17: "mmm-yy", 18: "h:mm AM/PM", 19: "h:mm:ss AM/PM", 20: "h:mm", 21: "h:mm:ss", 22: "m/d/yy h:mm", 37: "#,##0 ;(#,##0)", 38: "#,##0 ;[Red](#,##0)", 39: "#,##0.00;(#,##0.00)", 40: "#,##0.00;[Red](#,##0.00)", 45: "mm:ss", 46: "[h]:mm:ss", 47: "mmss.0", 48: "##0.0E+0", 49: "@", 56: '"/ "hh""mm""ss" "' }, Ie = { 5: 37, 6: 38, 7: 39, 8: 40, 23: 0, 24: 0, 25: 0, 26: 0, 27: 14, 28: 14, 29: 14, 30: 14, 31: 14, 50: 14, 51: 14, 52: 14, 53: 14, 54: 14, 55: 14, 56: 14, 57: 14, 58: 14, 59: 1, 60: 2, 61: 3, 62: 4, 67: 9, 68: 10, 69: 12, 70: 13, 71: 14, 72: 14, 73: 15, 74: 16, 75: 17, 76: 20, 77: 21, 78: 22, 79: 45, 80: 46, 81: 47, 82: 0 }, q = { 5: '"$"#,##0_);\\("$"#,##0\\)', 63: '"$"#,##0_);\\("$"#,##0\\)', 6: '"$"#,##0_);[Red]\\("$"#,##0\\)', 64: '"$"#,##0_);[Red]\\("$"#,##0\\)', 7: '"$"#,##0.00_);\\("$"#,##0.00\\)', 65: '"$"#,##0.00_);\\("$"#,##0.00\\)', 8: '"$"#,##0.00_);[Red]\\("$"#,##0.00\\)', 66: '"$"#,##0.00_);[Red]\\("$"#,##0.00\\)', 41: '_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)', 42: '_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)', 43: '_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)', 44: '_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)' };
    function re(h, g, m) {
      for (var b = h < 0 ? -1 : 1, T = h * b, A = 0, C = 1, D = 0, I = 1, R = 0, N = 0, W = Math.floor(T); R < g && (D = (W = Math.floor(T)) * C + A, N = W * R + I, !(T - W < 5e-8)); )
        T = 1 / (T - W), A = C, C = D, I = R, R = N;
      return g < N && (D = g < R ? (N = I, A) : (N = R, C)), m ? (m = Math.floor(b * D / N), [m, b * D - m * N, N]) : [0, b * D, N];
    }
    function be(D, g, m) {
      if (2958465 < D || D < 0)
        return null;
      var b = 0 | D, T = Math.floor(86400 * (D - b)), A = 0, C = [], D = { D: b, T, u: 86400 * (D - b) - T, y: 0, m: 0, d: 0, H: 0, M: 0, S: 0, q: 0 };
      return Math.abs(D.u) < 1e-6 && (D.u = 0), g && g.date1904 && (b += 1462), 0.9999 < D.u && (D.u = 0, ++T == 86400 && (D.T = T = 0, ++b, ++D.D)), b === 60 ? (C = m ? [1317, 10, 29] : [1900, 2, 29], A = 3) : b === 0 ? (C = m ? [1317, 8, 29] : [1900, 1, 0], A = 6) : (60 < b && --b, (g = new Date(1900, 0, 1)).setDate(g.getDate() + b - 1), C = [g.getFullYear(), g.getMonth() + 1, g.getDate()], A = g.getDay(), b < 60 && (A = (A + 6) % 7), m && (A = function(I, R) {
        return R[0] -= 581, R = I.getDay(), I < 60 && (R = (R + 6) % 7), R;
      }(g, C))), D.y = C[0], D.m = C[1], D.d = C[2], D.S = T % 60, T = Math.floor(T / 60), D.M = T % 60, T = Math.floor(T / 60), D.H = T, D.q = A, D;
    }
    var te = new Date(1899, 11, 31, 0, 0, 0), ne = te.getTime(), ie = new Date(1900, 2, 1, 0, 0, 0);
    function xe(h, g) {
      var m = h.getTime();
      return g ? m -= 1262304e5 : ie <= h && (m += 864e5), (m - (ne + 6e4 * (h.getTimezoneOffset() - te.getTimezoneOffset()))) / 864e5;
    }
    function ge(h) {
      return h.indexOf(".") == -1 ? h : h.replace(/(?:\.0*|(\.\d*[1-9])0+)$/, "$1");
    }
    function ae(h) {
      var g, m, b, T = Math.floor(Math.log(Math.abs(h)) * Math.LOG10E), A = -4 <= T && T <= -1 ? h.toPrecision(10 + T) : Math.abs(T) <= 9 ? (m = (g = h) < 0 ? 12 : 11, (b = ge(g.toFixed(12))).length <= m || (b = g.toPrecision(10)).length <= m ? b : g.toExponential(5)) : T === 10 ? h.toFixed(10).substr(0, 12) : (A = ge((h = h).toFixed(11))).length > (h < 0 ? 12 : 11) || A === "0" || A === "-0" ? h.toPrecision(6) : A;
      return ge((A = A.toUpperCase()).indexOf("E") == -1 ? A : A.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/, "$1E").replace(/(E[+-])(\d)$/, "$10$2"));
    }
    function pe(h, g) {
      switch (typeof h) {
        case "string":
          return h;
        case "boolean":
          return h ? "TRUE" : "FALSE";
        case "number":
          return (0 | h) === h ? h.toString(10) : ae(h);
        case "undefined":
          return "";
        case "object":
          if (h == null)
            return "";
          if (h instanceof Date)
            return wr(14, xe(h, g && g.date1904), g);
      }
      throw new Error("unsupported value in General format: " + h);
    }
    function ce(h) {
      if (h.length <= 3)
        return h;
      for (var g = h.length % 3, m = h.substr(0, g); g != h.length; g += 3)
        m += (0 < m.length ? "," : "") + h.substr(g, 3);
      return m;
    }
    var Ee = /%/g, ke = /# (\?+)( ?)\/( ?)(\d+)/, ye = /^#*0*\.([0#]+)/, Pe = /\).*[0#]/, We = /\(###\) ###\\?-####/;
    function nt(h) {
      for (var g, m = "", b = 0; b != h.length; ++b)
        switch (g = h.charCodeAt(b)) {
          case 35:
            break;
          case 63:
            m += " ";
            break;
          case 48:
            m += "0";
            break;
          default:
            m += String.fromCharCode(g);
        }
      return m;
    }
    function ft(h, g) {
      return g = Math.pow(10, g), "" + Math.round(h * g) / g;
    }
    function mr(b, g) {
      var m = b - Math.floor(b), b = Math.pow(10, g);
      return g < ("" + Math.round(m * b)).length ? 0 : Math.round(m * b);
    }
    function z(h, g, m) {
      if (h.charCodeAt(0) === 40 && !g.match(Pe)) {
        var b = g.replace(/\( */, "").replace(/ \)/, "").replace(/\)/, "");
        return 0 <= m ? z("n", b, m) : "(" + z("n", b, -m) + ")";
      }
      if (g.charCodeAt(g.length - 1) === 44)
        return function(ee, me, Te) {
          for (var Ce = me.length - 1; me.charCodeAt(Ce - 1) === 44; )
            --Ce;
          return Y(ee, me.substr(0, Ce), Te / Math.pow(10, 3 * (me.length - Ce)));
        }(h, g, m);
      if (g.indexOf("%") !== -1)
        return D = h, R = m, I = (N = g).replace(Ee, ""), N = N.length - I.length, Y(D, I, R * Math.pow(10, 2 * N)) + fi("%", N);
      var T;
      if (g.indexOf("E") !== -1)
        return function ee(me, Te) {
          var Ce, Fe = me.indexOf("E") - me.indexOf(".") - 1;
          if (me.match(/^#+0.0E\+0$/)) {
            if (Te == 0)
              return "0.0E+0";
            if (Te < 0)
              return "-" + ee(me, -Te);
            var ze = me.indexOf(".");
            ze === -1 && (ze = me.indexOf("E"));
            var Be = Math.floor(Math.log(Te) * Math.LOG10E) % ze;
            if (Be < 0 && (Be += ze), (Ce = (Te / Math.pow(10, Be)).toPrecision(1 + Fe + (ze + Be) % ze)).indexOf("e") === -1) {
              var Ye = Math.floor(Math.log(Te) * Math.LOG10E);
              for (Ce.indexOf(".") === -1 ? Ce = Ce.charAt(0) + "." + Ce.substr(1) + "E+" + (Ye - Ce.length + Be) : Ce += "E+" + (Ye - Be); Ce.substr(0, 2) === "0."; )
                Ce = (Ce = Ce.charAt(0) + Ce.substr(2, ze) + "." + Ce.substr(2 + ze)).replace(/^0+([1-9])/, "$1").replace(/^0+\./, "0.");
              Ce = Ce.replace(/\+-/, "-");
            }
            Ce = Ce.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/, function(it, at, Xe, _t) {
              return at + Xe + _t.substr(0, (ze + Be) % ze) + "." + _t.substr(Be) + "E";
            });
          } else
            Ce = Te.toExponential(Fe);
          return me.match(/E\+00$/) && Ce.match(/e[+-]\d$/) && (Ce = Ce.substr(0, Ce.length - 1) + "0" + Ce.charAt(Ce.length - 1)), (Ce = me.match(/E\-/) && Ce.match(/e\+/) ? Ce.replace(/e\+/, "e") : Ce).replace("e", "E");
        }(g, m);
      if (g.charCodeAt(0) === 36)
        return "$" + z(h, g.substr(g.charAt(1) == " " ? 2 : 1), m);
      var A, C, D, I, R, N, W, H = Math.abs(m), j = m < 0 ? "-" : "";
      if (g.match(/^00+$/))
        return j + fe(H, g.length);
      if (g.match(/^[#?]+$/))
        return (T = (T = fe(m, 0)) === "0" ? "" : T).length > g.length ? T : nt(g.substr(0, g.length - T.length)) + T;
      if (A = g.match(ke))
        return W = A, D = H, I = j, R = parseInt(W[4], 10), N = Math.round(D * R), D = Math.floor(N / R), I + (D === 0 ? "" : "" + D) + " " + ((N -= D * R) == 0 ? fi(" ", W[1].length + 1 + W[4].length) : le(N, W[1].length) + W[2] + "/" + W[3] + de(R, W[4].length));
      if (g.match(/^#+0+$/))
        return j + fe(H, g.length - g.indexOf("0"));
      if (A = g.match(ye))
        return T = ft(m, A[1].length).replace(/^([^\.]+)$/, "$1." + nt(A[1])).replace(/\.$/, "." + nt(A[1])).replace(/\.(\d*)$/, function(ee, me) {
          return "." + me + fi("0", nt(A[1]).length - me.length);
        }), g.indexOf("0.") !== -1 ? T : T.replace(/^0\./, ".");
      if (g = g.replace(/^#+([0.])/, "$1"), A = g.match(/^(0*)\.(#*)$/))
        return j + ft(H, A[2].length).replace(/\.(\d*[1-9])0*$/, ".$1").replace(/^(-?\d*)$/, "$1.").replace(/^0\./, A[1].length ? "0." : ".");
      if (A = g.match(/^#{1,3},##0(\.?)$/))
        return j + ce(fe(H, 0));
      if (A = g.match(/^#,##0\.([#0]*0)$/))
        return m < 0 ? "-" + z(h, g, -m) : ce("" + (Math.floor(m) + (W = m, (oe = A[1].length) < ("" + Math.round((W - Math.floor(W)) * Math.pow(10, oe))).length ? 1 : 0))) + "." + de(mr(m, A[1].length), A[1].length);
      if (A = g.match(/^#,#*,#0/))
        return z(h, g.replace(/^#,#*,/, ""), m);
      if (A = g.match(/^([0#]+)(\\?-([0#]+))+$/))
        return T = se(z(h, g.replace(/[\\-]/g, ""), m)), C = 0, se(se(g.replace(/\\/g, "")).replace(/[0#]/g, function(ee) {
          return C < T.length ? T.charAt(C++) : ee === "0" ? "0" : "";
        }));
      if (g.match(We))
        return "(" + (T = z(h, "##########", m)).substr(0, 3) + ") " + T.substr(3, 3) + "-" + T.substr(6);
      var oe = "";
      if (A = g.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))
        return C = Math.min(A[4].length, 7), X = re(H, Math.pow(10, C) - 1, !1), T = j, (oe = Y("n", A[1], X[1])).charAt(oe.length - 1) == " " && (oe = oe.substr(0, oe.length - 1) + "0"), T += oe + A[2] + "/" + A[3], (oe = Se(X[2], C)).length < A[4].length && (oe = nt(A[4].substr(A[4].length - oe.length)) + oe), T += oe;
      if (A = g.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))
        return C = Math.min(Math.max(A[1].length, A[4].length), 7), j + ((X = re(H, Math.pow(10, C) - 1, !0))[0] || (X[1] ? "" : "0")) + " " + (X[1] ? le(X[1], C) + A[2] + "/" + A[3] + Se(X[2], C) : fi(" ", 2 * C + 1 + A[2].length + A[3].length));
      if (A = g.match(/^[#0?]+$/))
        return T = fe(m, 0), g.length <= T.length ? T : nt(g.substr(0, g.length - T.length)) + T;
      if (A = g.match(/^([#0?]+)\.([#0]+)$/)) {
        T = "" + m.toFixed(Math.min(A[2].length, 10)).replace(/([^0])0+$/, "$1"), C = T.indexOf(".");
        var X = g.indexOf(".") - C, _e = g.length - T.length - X;
        return nt(g.substr(0, X) + T + g.substr(g.length - _e));
      }
      if (A = g.match(/^00,000\.([#0]*0)$/))
        return C = mr(m, A[1].length), m < 0 ? "-" + z(h, g, -m) : ce((_e = m) < 2147483647 && -2147483648 < _e ? "" + (0 <= _e ? 0 | _e : _e - 1 | 0) : "" + Math.floor(_e)).replace(/^\d,\d{3}$/, "0$&").replace(/^\d*$/, function(ee) {
          return "00," + (ee.length < 3 ? de(0, 3 - ee.length) : "") + ee;
        }) + "." + de(C, A[1].length);
      switch (g) {
        case "###,##0.00":
          return z(h, "#,##0.00", m);
        case "###,###":
        case "##,###":
        case "#,###":
          var ue = ce(fe(H, 0));
          return ue !== "0" ? j + ue : "";
        case "###,###.00":
          return z(h, "###,##0.00", m).replace(/^0\./, ".");
        case "#,###.00":
          return z(h, "#,##0.00", m).replace(/^0\./, ".");
      }
      throw new Error("unsupported format |" + g + "|");
    }
    function B(h, g, m) {
      if (h.charCodeAt(0) === 40 && !g.match(Pe)) {
        var b = g.replace(/\( */, "").replace(/ \)/, "").replace(/\)/, "");
        return 0 <= m ? B("n", b, m) : "(" + B("n", b, -m) + ")";
      }
      if (g.charCodeAt(g.length - 1) === 44)
        return function(X, _e, ue) {
          for (var ee = _e.length - 1; _e.charCodeAt(ee - 1) === 44; )
            --ee;
          return Y(X, _e.substr(0, ee), ue / Math.pow(10, 3 * (_e.length - ee)));
        }(h, g, m);
      if (g.indexOf("%") !== -1)
        return T = h, C = m, b = (A = g).replace(Ee, ""), A = A.length - b.length, Y(T, b, C * Math.pow(10, 2 * A)) + fi("%", A);
      var T, A, C, D;
      if (g.indexOf("E") !== -1)
        return function X(_e, ue) {
          var ee, me = _e.indexOf("E") - _e.indexOf(".") - 1;
          if (_e.match(/^#+0.0E\+0$/)) {
            if (ue == 0)
              return "0.0E+0";
            if (ue < 0)
              return "-" + X(_e, -ue);
            var Te = _e.indexOf(".");
            Te === -1 && (Te = _e.indexOf("E"));
            var Ce, Fe = Math.floor(Math.log(ue) * Math.LOG10E) % Te;
            Fe < 0 && (Fe += Te), (ee = (ue / Math.pow(10, Fe)).toPrecision(1 + me + (Te + Fe) % Te)).match(/[Ee]/) || (Ce = Math.floor(Math.log(ue) * Math.LOG10E), ee.indexOf(".") === -1 ? ee = ee.charAt(0) + "." + ee.substr(1) + "E+" + (Ce - ee.length + Fe) : ee += "E+" + (Ce - Fe), ee = ee.replace(/\+-/, "-")), ee = ee.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/, function(ze, Be, Ye, it) {
              return Be + Ye + it.substr(0, (Te + Fe) % Te) + "." + it.substr(Fe) + "E";
            });
          } else
            ee = ue.toExponential(me);
          return _e.match(/E\+00$/) && ee.match(/e[+-]\d$/) && (ee = ee.substr(0, ee.length - 1) + "0" + ee.charAt(ee.length - 1)), (ee = _e.match(/E\-/) && ee.match(/e\+/) ? ee.replace(/e\+/, "e") : ee).replace("e", "E");
        }(g, m);
      if (g.charCodeAt(0) === 36)
        return "$" + B(h, g.substr(g.charAt(1) == " " ? 2 : 1), m);
      var I, R, N = Math.abs(m), W = m < 0 ? "-" : "";
      if (g.match(/^00+$/))
        return W + de(N, g.length);
      if (g.match(/^[#?]+$/))
        return (D = m === 0 ? "" : "" + m).length > g.length ? D : nt(g.substr(0, g.length - D.length)) + D;
      if (I = g.match(ke))
        return W + ((H = N) === 0 ? "" : "" + H) + fi(" ", (H = I)[1].length + 2 + H[4].length);
      if (g.match(/^#+0+$/))
        return W + de(N, g.length - g.indexOf("0"));
      if (I = g.match(ye))
        return D = (D = ("" + m).replace(/^([^\.]+)$/, "$1." + nt(I[1])).replace(/\.$/, "." + nt(I[1]))).replace(/\.(\d*)$/, function(X, _e) {
          return "." + _e + fi("0", nt(I[1]).length - _e.length);
        }), g.indexOf("0.") !== -1 ? D : D.replace(/^0\./, ".");
      if (g = g.replace(/^#+([0.])/, "$1"), I = g.match(/^(0*)\.(#*)$/))
        return W + ("" + N).replace(/\.(\d*[1-9])0*$/, ".$1").replace(/^(-?\d*)$/, "$1.").replace(/^0\./, I[1].length ? "0." : ".");
      if (I = g.match(/^#{1,3},##0(\.?)$/))
        return W + ce("" + N);
      if (I = g.match(/^#,##0\.([#0]*0)$/))
        return m < 0 ? "-" + B(h, g, -m) : ce("" + m) + "." + fi("0", I[1].length);
      if (I = g.match(/^#,#*,#0/))
        return B(h, g.replace(/^#,#*,/, ""), m);
      if (I = g.match(/^([0#]+)(\\?-([0#]+))+$/))
        return D = se(B(h, g.replace(/[\\-]/g, ""), m)), R = 0, se(se(g.replace(/\\/g, "")).replace(/[0#]/g, function(X) {
          return R < D.length ? D.charAt(R++) : X === "0" ? "0" : "";
        }));
      if (g.match(We))
        return "(" + (D = B(h, "##########", m)).substr(0, 3) + ") " + D.substr(3, 3) + "-" + D.substr(6);
      var H = "";
      if (I = g.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))
        return R = Math.min(I[4].length, 7), j = re(N, Math.pow(10, R) - 1, !1), D = W, (H = Y("n", I[1], j[1])).charAt(H.length - 1) == " " && (H = H.substr(0, H.length - 1) + "0"), D += H + I[2] + "/" + I[3], (H = Se(j[2], R)).length < I[4].length && (H = nt(I[4].substr(I[4].length - H.length)) + H), D += H;
      if (I = g.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))
        return R = Math.min(Math.max(I[1].length, I[4].length), 7), W + ((j = re(N, Math.pow(10, R) - 1, !0))[0] || (j[1] ? "" : "0")) + " " + (j[1] ? le(j[1], R) + I[2] + "/" + I[3] + Se(j[2], R) : fi(" ", 2 * R + 1 + I[2].length + I[3].length));
      if (I = g.match(/^[#0?]+$/))
        return D = "" + m, g.length <= D.length ? D : nt(g.substr(0, g.length - D.length)) + D;
      if (I = g.match(/^([#0]+)\.([#0]+)$/)) {
        D = "" + m.toFixed(Math.min(I[2].length, 10)).replace(/([^0])0+$/, "$1"), R = D.indexOf(".");
        var H = g.indexOf(".") - R, j = g.length - D.length - H;
        return nt(g.substr(0, H) + D + g.substr(g.length - j));
      }
      if (I = g.match(/^00,000\.([#0]*0)$/))
        return m < 0 ? "-" + B(h, g, -m) : ce("" + m).replace(/^\d,\d{3}$/, "0$&").replace(/^\d*$/, function(X) {
          return "00," + (X.length < 3 ? de(0, 3 - X.length) : "") + X;
        }) + "." + de(0, I[1].length);
      switch (g) {
        case "###,###":
        case "##,###":
        case "#,###":
          var oe = ce("" + N);
          return oe !== "0" ? W + oe : "";
        default:
          if (g.match(/\.[0#?]*$/))
            return B(h, g.slice(0, g.lastIndexOf(".")), m) + nt(g.slice(g.lastIndexOf(".")));
      }
      throw new Error("unsupported format |" + g + "|");
    }
    function Y(h, g, m) {
      return ((0 | m) === m ? B : z)(h, g, m);
    }
    var Ae = /\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;
    function Re(h) {
      for (var g = 0, m = "", b = ""; g < h.length; )
        switch (m = h.charAt(g)) {
          case "G":
            K(h, g) && (g += 6), g++;
            break;
          case '"':
            for (; h.charCodeAt(++g) !== 34 && g < h.length; )
              ;
            ++g;
            break;
          case "\\":
          case "_":
            g += 2;
            break;
          case "@":
            ++g;
            break;
          case "B":
          case "b":
            if (h.charAt(g + 1) === "1" || h.charAt(g + 1) === "2")
              return !0;
          case "M":
          case "D":
          case "Y":
          case "H":
          case "S":
          case "E":
          case "m":
          case "d":
          case "y":
          case "h":
          case "s":
          case "e":
          case "g":
            return !0;
          case "A":
          case "a":
          case "":
            if (h.substr(g, 3).toUpperCase() === "A/P" || h.substr(g, 5).toUpperCase() === "AM/PM" || h.substr(g, 5).toUpperCase() === "/")
              return !0;
            ++g;
            break;
          case "[":
            for (b = m; h.charAt(g++) !== "]" && g < h.length; )
              b += h.charAt(g);
            if (b.match(Ae))
              return !0;
            break;
          case ".":
          case "0":
          case "#":
            for (; g < h.length && (-1 < "0#?.,E+-%".indexOf(m = h.charAt(++g)) || m == "\\" && h.charAt(g + 1) == "-" && -1 < "0#".indexOf(h.charAt(g + 2))); )
              ;
            break;
          case "?":
            for (; h.charAt(++g) === m; )
              ;
            break;
          case "*":
            ++g, h.charAt(g) != " " && h.charAt(g) != "*" || ++g;
            break;
          case "(":
          case ")":
            ++g;
            break;
          case "1":
          case "2":
          case "3":
          case "4":
          case "5":
          case "6":
          case "7":
          case "8":
          case "9":
            for (; g < h.length && -1 < "0123456789".indexOf(h.charAt(++g)); )
              ;
            break;
          case " ":
          default:
            ++g;
        }
      return !1;
    }
    function Ue(h, g, m, b) {
      for (var T, A, C, D = [], I = "", R = 0, N = "", W = "t", H = "H"; R < h.length; )
        switch (N = h.charAt(R)) {
          case "G":
            if (!K(h, R))
              throw new Error("unrecognized character " + N + " in " + h);
            D[D.length] = { t: "G", v: "General" }, R += 7;
            break;
          case '"':
            for (I = ""; (C = h.charCodeAt(++R)) !== 34 && R < h.length; )
              I += String.fromCharCode(C);
            D[D.length] = { t: "t", v: I }, ++R;
            break;
          case "\\":
            var j = h.charAt(++R), oe = j === "(" || j === ")" ? j : "t";
            D[D.length] = { t: oe, v: j }, ++R;
            break;
          case "_":
            D[D.length] = { t: "t", v: " " }, R += 2;
            break;
          case "@":
            D[D.length] = { t: "T", v: g }, ++R;
            break;
          case "B":
          case "b":
            if (h.charAt(R + 1) === "1" || h.charAt(R + 1) === "2") {
              if (T == null && (T = be(g, m, h.charAt(R + 1) === "2")) == null)
                return "";
              D[D.length] = { t: "X", v: h.substr(R, 2) }, W = N, R += 2;
              break;
            }
          case "M":
          case "D":
          case "Y":
          case "H":
          case "S":
          case "E":
            N = N.toLowerCase();
          case "m":
          case "d":
          case "y":
          case "h":
          case "s":
          case "e":
          case "g":
            if (g < 0 || T == null && (T = be(g, m)) == null)
              return "";
            for (I = N; ++R < h.length && h.charAt(R).toLowerCase() === N; )
              I += N;
            (N = N === "m" && W.toLowerCase() === "h" ? "M" : N) === "h" && (N = H), D[D.length] = { t: N, v: I }, W = N;
            break;
          case "A":
          case "a":
          case "":
            if (j = { t: N, v: N }, T == null && (T = be(g, m)), h.substr(R, 3).toUpperCase() === "A/P" ? (T != null && (j.v = 12 <= T.H ? "P" : "A"), j.t = "T", H = "h", R += 3) : h.substr(R, 5).toUpperCase() === "AM/PM" ? (T != null && (j.v = 12 <= T.H ? "PM" : "AM"), j.t = "T", R += 5, H = "h") : h.substr(R, 5).toUpperCase() === "/" ? (T != null && (j.v = 12 <= T.H ? "" : ""), j.t = "T", R += 5, H = "h") : (j.t = "t", ++R), T == null && j.t === "T")
              return "";
            D[D.length] = j, W = N;
            break;
          case "[":
            for (I = N; h.charAt(R++) !== "]" && R < h.length; )
              I += h.charAt(R);
            if (I.slice(-1) !== "]")
              throw 'unterminated "[" block: |' + I + "|";
            if (I.match(Ae)) {
              if (T == null && (T = be(g, m)) == null)
                return "";
              D[D.length] = { t: "Z", v: I.toLowerCase() }, W = I.charAt(1);
            } else
              -1 < I.indexOf("$") && (I = (I.match(/\$([^-\[\]]*)/) || [])[1] || "$", Re(h) || (D[D.length] = { t: "t", v: I }));
            break;
          case ".":
            if (T != null) {
              for (I = N; ++R < h.length && (N = h.charAt(R)) === "0"; )
                I += N;
              D[D.length] = { t: "s", v: I };
              break;
            }
          case "0":
          case "#":
            for (I = N; ++R < h.length && -1 < "0#?.,E+-%".indexOf(N = h.charAt(R)); )
              I += N;
            D[D.length] = { t: "n", v: I };
            break;
          case "?":
            for (I = N; h.charAt(++R) === N; )
              I += N;
            D[D.length] = { t: N, v: I }, W = N;
            break;
          case "*":
            ++R, h.charAt(R) != " " && h.charAt(R) != "*" || ++R;
            break;
          case "(":
          case ")":
            D[D.length] = { t: b === 1 ? "t" : N, v: N }, ++R;
            break;
          case "1":
          case "2":
          case "3":
          case "4":
          case "5":
          case "6":
          case "7":
          case "8":
          case "9":
            for (I = N; R < h.length && -1 < "0123456789".indexOf(h.charAt(++R)); )
              I += h.charAt(R);
            D[D.length] = { t: "D", v: I };
            break;
          case " ":
            D[D.length] = { t: N, v: N }, ++R;
            break;
          case "$":
            D[D.length] = { t: "t", v: "$" }, ++R;
            break;
          default:
            if (",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(N) === -1)
              throw new Error("unrecognized character " + N + " in " + h);
            D[D.length] = { t: "t", v: N }, ++R;
        }
      var X, _e = 0, ue = 0;
      for (R = D.length - 1, W = "t"; 0 <= R; --R)
        switch (D[R].t) {
          case "h":
          case "H":
            D[R].t = H, W = "h", _e < 1 && (_e = 1);
            break;
          case "s":
            (X = D[R].v.match(/\.0+$/)) && (ue = Math.max(ue, X[0].length - 1)), _e < 3 && (_e = 3);
          case "d":
          case "y":
          case "M":
          case "e":
            W = D[R].t;
            break;
          case "m":
            W === "s" && (D[R].t = "M", _e < 2 && (_e = 2));
            break;
          case "X":
            break;
          case "Z":
            (_e = (_e = _e < 1 && D[R].v.match(/[Hh]/) ? 1 : _e) < 2 && D[R].v.match(/[Mm]/) ? 2 : _e) < 3 && D[R].v.match(/[Ss]/) && (_e = 3);
        }
      switch (_e) {
        case 0:
          break;
        case 1:
          0.5 <= T.u && (T.u = 0, ++T.S), 60 <= T.S && (T.S = 0, ++T.M), 60 <= T.M && (T.M = 0, ++T.H);
          break;
        case 2:
          0.5 <= T.u && (T.u = 0, ++T.S), 60 <= T.S && (T.S = 0, ++T.M);
      }
      var ee, me = "";
      for (R = 0; R < D.length; ++R)
        switch (D[R].t) {
          case "t":
          case "T":
          case " ":
          case "D":
            break;
          case "X":
            D[R].v = "", D[R].t = ";";
            break;
          case "d":
          case "m":
          case "y":
          case "h":
          case "H":
          case "M":
          case "s":
          case "e":
          case "b":
          case "Z":
            D[R].v = function(it, at, Xe, _t) {
              var Vt, Ot = "", At = 0, Dt = 0, Tt = Xe.y, ct = 0;
              switch (it) {
                case 98:
                  Tt = Xe.y + 543;
                case 121:
                  switch (at.length) {
                    case 1:
                    case 2:
                      Vt = Tt % 100, ct = 2;
                      break;
                    default:
                      Vt = Tt % 1e4, ct = 4;
                  }
                  break;
                case 109:
                  switch (at.length) {
                    case 1:
                    case 2:
                      Vt = Xe.m, ct = at.length;
                      break;
                    case 3:
                      return ve[Xe.m - 1][1];
                    case 5:
                      return ve[Xe.m - 1][0];
                    default:
                      return ve[Xe.m - 1][2];
                  }
                  break;
                case 100:
                  switch (at.length) {
                    case 1:
                    case 2:
                      Vt = Xe.d, ct = at.length;
                      break;
                    case 3:
                      return we[Xe.q][0];
                    default:
                      return we[Xe.q][1];
                  }
                  break;
                case 104:
                  switch (at.length) {
                    case 1:
                    case 2:
                      Vt = 1 + (Xe.H + 11) % 12, ct = at.length;
                      break;
                    default:
                      throw "bad hour format: " + at;
                  }
                  break;
                case 72:
                  switch (at.length) {
                    case 1:
                    case 2:
                      Vt = Xe.H, ct = at.length;
                      break;
                    default:
                      throw "bad hour format: " + at;
                  }
                  break;
                case 77:
                  switch (at.length) {
                    case 1:
                    case 2:
                      Vt = Xe.M, ct = at.length;
                      break;
                    default:
                      throw "bad minute format: " + at;
                  }
                  break;
                case 115:
                  if (at != "s" && at != "ss" && at != ".0" && at != ".00" && at != ".000")
                    throw "bad second format: " + at;
                  return Xe.u !== 0 || at != "s" && at != "ss" ? (60 * (Dt = 2 <= _t ? _t === 3 ? 1e3 : 100 : _t === 1 ? 10 : 1) <= (At = Math.round(Dt * (Xe.S + Xe.u))) && (At = 0), at === "s" ? At === 0 ? "0" : "" + At / Dt : (Ot = de(At, 2 + _t), at === "ss" ? Ot.substr(0, 2) : "." + Ot.substr(2, at.length - 1))) : de(Xe.S, at.length);
                case 90:
                  switch (at) {
                    case "[h]":
                    case "[hh]":
                      Vt = 24 * Xe.D + Xe.H;
                      break;
                    case "[m]":
                    case "[mm]":
                      Vt = 60 * (24 * Xe.D + Xe.H) + Xe.M;
                      break;
                    case "[s]":
                    case "[ss]":
                      Vt = 60 * (60 * (24 * Xe.D + Xe.H) + Xe.M) + Math.round(Xe.S + Xe.u);
                      break;
                    default:
                      throw "bad abstime format: " + at;
                  }
                  ct = at.length === 3 ? 1 : 2;
                  break;
                case 101:
                  Vt = Tt, ct = 1;
              }
              return 0 < ct ? de(Vt, ct) : "";
            }(D[R].t.charCodeAt(0), D[R].v, T, ue), D[R].t = "t";
            break;
          case "n":
          case "?":
            for (ee = R + 1; D[ee] != null && ((N = D[ee].t) === "?" || N === "D" || (N === " " || N === "t") && D[ee + 1] != null && (D[ee + 1].t === "?" || D[ee + 1].t === "t" && D[ee + 1].v === "/") || D[R].t === "(" && (N === " " || N === "n" || N === ")") || N === "t" && (D[ee].v === "/" || D[ee].v === " " && D[ee + 1] != null && D[ee + 1].t == "?")); )
              D[R].v += D[ee].v, D[ee] = { v: "", t: ";" }, ++ee;
            me += D[R].v, R = ee - 1;
            break;
          case "G":
            D[R].t = "t", D[R].v = pe(g, m);
        }
      var Te, Ce, Fe = "";
      if (0 < me.length) {
        me.charCodeAt(0) == 40 ? (Te = g < 0 && me.charCodeAt(0) === 45 ? -g : g, Ce = Y("n", me, Te)) : (Ce = Y("n", me, Te = g < 0 && 1 < b ? -g : g), Te < 0 && D[0] && D[0].t == "t" && (Ce = Ce.substr(1), D[0].v = "-" + D[0].v)), ee = Ce.length - 1;
        for (var ze = D.length, R = 0; R < D.length; ++R)
          if (D[R] != null && D[R].t != "t" && -1 < D[R].v.indexOf(".")) {
            ze = R;
            break;
          }
        var Be = D.length;
        if (ze === D.length && Ce.indexOf("E") === -1) {
          for (R = D.length - 1; 0 <= R; --R)
            D[R] != null && "n?".indexOf(D[R].t) !== -1 && (ee >= D[R].v.length - 1 ? (ee -= D[R].v.length, D[R].v = Ce.substr(ee + 1, D[R].v.length)) : ee < 0 ? D[R].v = "" : (D[R].v = Ce.substr(0, ee + 1), ee = -1), D[R].t = "t", Be = R);
          0 <= ee && Be < D.length && (D[Be].v = Ce.substr(0, ee + 1) + D[Be].v);
        } else if (ze !== D.length && Ce.indexOf("E") === -1) {
          for (ee = Ce.indexOf(".") - 1, R = ze; 0 <= R; --R)
            if (D[R] != null && "n?".indexOf(D[R].t) !== -1) {
              for (A = -1 < D[R].v.indexOf(".") && R === ze ? D[R].v.indexOf(".") - 1 : D[R].v.length - 1, Fe = D[R].v.substr(A + 1); 0 <= A; --A)
                0 <= ee && (D[R].v.charAt(A) === "0" || D[R].v.charAt(A) === "#") && (Fe = Ce.charAt(ee--) + Fe);
              D[R].v = Fe, D[R].t = "t", Be = R;
            }
          for (0 <= ee && Be < D.length && (D[Be].v = Ce.substr(0, ee + 1) + D[Be].v), ee = Ce.indexOf(".") + 1, R = ze; R < D.length; ++R)
            if (D[R] != null && ("n?(".indexOf(D[R].t) !== -1 || R === ze)) {
              for (A = -1 < D[R].v.indexOf(".") && R === ze ? D[R].v.indexOf(".") + 1 : 0, Fe = D[R].v.substr(0, A); A < D[R].v.length; ++A)
                ee < Ce.length && (Fe += Ce.charAt(ee++));
              D[R].v = Fe, D[R].t = "t", Be = R;
            }
        }
      }
      for (R = 0; R < D.length; ++R)
        D[R] != null && -1 < "n?".indexOf(D[R].t) && (Te = 1 < b && g < 0 && 0 < R && D[R - 1].v === "-" ? -g : g, D[R].v = Y(D[R].t, D[R].v, Te), D[R].t = "t");
      var Ye = "";
      for (R = 0; R !== D.length; ++R)
        D[R] != null && (Ye += D[R].v);
      return Ye;
    }
    var ut = /\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;
    function Sr(h, g) {
      if (g != null) {
        var m = parseFloat(g[2]);
        switch (g[1]) {
          case "=":
            if (h == m)
              return 1;
            break;
          case ">":
            if (m < h)
              return 1;
            break;
          case "<":
            if (h < m)
              return 1;
            break;
          case "<>":
            if (h != m)
              return 1;
            break;
          case ">=":
            if (m <= h)
              return 1;
            break;
          case "<=":
            if (h <= m)
              return 1;
        }
      }
    }
    function fn(h, g) {
      var m = function(C) {
        for (var D = [], I = !1, R = 0, N = 0; R < C.length; ++R)
          switch (C.charCodeAt(R)) {
            case 34:
              I = !I;
              break;
            case 95:
            case 42:
            case 92:
              ++R;
              break;
            case 59:
              D[D.length] = C.substr(N, R - N), N = R + 1;
          }
        if (D[D.length] = C.substr(N), I === !0)
          throw new Error("Format |" + C + "| unterminated string ");
        return D;
      }(h), b = m.length, T = m[b - 1].indexOf("@");
      if (b < 4 && -1 < T && --b, 4 < m.length)
        throw new Error("cannot find right format for |" + m.join("|") + "|");
      if (typeof g != "number")
        return [4, m.length === 4 || -1 < T ? m[m.length - 1] : "@"];
      switch (m.length) {
        case 1:
          m = -1 < T ? ["General", "General", "General", m[0]] : [m[0], m[0], m[0], "@"];
          break;
        case 2:
          m = -1 < T ? [m[0], m[0], m[0], m[1]] : [m[0], m[1], m[0], "@"];
          break;
        case 3:
          m = -1 < T ? [m[0], m[1], m[0], m[2]] : [m[0], m[1], m[2], "@"];
      }
      var A = 0 < g ? m[0] : g < 0 ? m[1] : m[2];
      return m[0].indexOf("[") === -1 && m[1].indexOf("[") === -1 ? [b, A] : m[0].match(/\[[=<>]/) == null && m[1].match(/\[[=<>]/) == null ? [b, A] : (h = m[0].match(ut), A = m[1].match(ut), Sr(g, h) ? [b, m[0]] : Sr(g, A) ? [b, m[1]] : [b, m[h != null && A != null ? 2 : 1]]);
    }
    function wr(h, g, m) {
      m == null && (m = {});
      var b = "";
      switch (typeof h) {
        case "string":
          b = h == "m/d/yy" && m.dateNF ? m.dateNF : h;
          break;
        case "number":
          (b = (b = h == 14 && m.dateNF ? m.dateNF : (m.table != null ? m.table : De)[h]) == null ? m.table && m.table[Ie[h]] || De[Ie[h]] : b) == null && (b = q[h] || "General");
      }
      if (K(b, 0))
        return pe(g, m);
      var T = fn(b, g = g instanceof Date ? xe(g, m.date1904) : g);
      if (K(T[1]))
        return pe(g, m);
      if (g === !0)
        g = "TRUE";
      else if (g === !1)
        g = "FALSE";
      else if (g === "" || g == null)
        return "";
      return Ue(T[1], g, m, T[0]);
    }
    function yr(h, g) {
      if (typeof g != "number") {
        g = +g || -1;
        for (var m = 0; m < 392; ++m)
          if (De[m] != null) {
            if (De[m] == h) {
              g = m;
              break;
            }
          } else
            g < 0 && (g = m);
        g < 0 && (g = 391);
      }
      return De[g] = h, g;
    }
    function xr(h) {
      for (var g = 0; g != 392; ++g)
        h[g] !== void 0 && yr(h[g], g);
    }
    function Gl() {
      var h;
      (h = h || {})[0] = "General", h[1] = "0", h[2] = "0.00", h[3] = "#,##0", h[4] = "#,##0.00", h[9] = "0%", h[10] = "0.00%", h[11] = "0.00E+00", h[12] = "# ?/?", h[13] = "# ??/??", h[14] = "m/d/yy", h[15] = "d-mmm-yy", h[16] = "d-mmm", h[17] = "mmm-yy", h[18] = "h:mm AM/PM", h[19] = "h:mm:ss AM/PM", h[20] = "h:mm", h[21] = "h:mm:ss", h[22] = "m/d/yy h:mm", h[37] = "#,##0 ;(#,##0)", h[38] = "#,##0 ;[Red](#,##0)", h[39] = "#,##0.00;(#,##0.00)", h[40] = "#,##0.00;[Red](#,##0.00)", h[45] = "mm:ss", h[46] = "[h]:mm:ss", h[47] = "mmss.0", h[48] = "##0.0E+0", h[49] = "@", h[56] = '"/ "hh""mm""ss" "', De = h;
    }
    var Pd = { format: wr, load: yr, _table: De, load_table: xr, parse_date_code: be, is_date: Re, get_table: function() {
      return Pd._table = De;
    } }, J0 = { 5: '"$"#,##0_);\\("$"#,##0\\)', 6: '"$"#,##0_);[Red]\\("$"#,##0\\)', 7: '"$"#,##0.00_);\\("$"#,##0.00\\)', 8: '"$"#,##0.00_);[Red]\\("$"#,##0.00\\)', 23: "General", 24: "General", 25: "General", 26: "General", 27: "m/d/yy", 28: "m/d/yy", 29: "m/d/yy", 30: "m/d/yy", 31: "m/d/yy", 32: "h:mm:ss", 33: "h:mm:ss", 34: "h:mm:ss", 35: "h:mm:ss", 36: "m/d/yy", 41: '_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)', 42: '_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)', 43: '_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)', 44: '_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)', 50: "m/d/yy", 51: "m/d/yy", 52: "m/d/yy", 53: "m/d/yy", 54: "m/d/yy", 55: "m/d/yy", 56: "m/d/yy", 57: "m/d/yy", 58: "m/d/yy", 59: "0", 60: "0.00", 61: "#,##0", 62: "#,##0.00", 63: '"$"#,##0_);\\("$"#,##0\\)', 64: '"$"#,##0_);[Red]\\("$"#,##0\\)', 65: '"$"#,##0.00_);\\("$"#,##0.00\\)', 66: '"$"#,##0.00_);[Red]\\("$"#,##0.00\\)', 67: "0%", 68: "0.00%", 69: "# ?/?", 70: "# ??/??", 71: "m/d/yy", 72: "m/d/yy", 73: "d-mmm-yy", 74: "d-mmm", 75: "mmm-yy", 76: "h:mm", 77: "h:mm:ss", 78: "m/d/yy h:mm", 79: "mm:ss", 80: "[h]:mm:ss", 81: "mmss.0" }, Rd = /[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g, no, zl = function() {
      var h = {};
      h.version = "1.2.0";
      var g = function() {
        for (var ee = 0, me = new Array(256), Te = 0; Te != 256; ++Te)
          ee = 1 & (ee = 1 & (ee = 1 & (ee = 1 & (ee = 1 & (ee = 1 & (ee = 1 & (ee = 1 & (ee = Te) ? -306674912 ^ ee >>> 1 : ee >>> 1) ? -306674912 ^ ee >>> 1 : ee >>> 1) ? -306674912 ^ ee >>> 1 : ee >>> 1) ? -306674912 ^ ee >>> 1 : ee >>> 1) ? -306674912 ^ ee >>> 1 : ee >>> 1) ? -306674912 ^ ee >>> 1 : ee >>> 1) ? -306674912 ^ ee >>> 1 : ee >>> 1) ? -306674912 ^ ee >>> 1 : ee >>> 1, me[Te] = ee;
        return typeof Int32Array < "u" ? new Int32Array(me) : me;
      }(), m = function(ee) {
        for (var me = 0, Te = 0, Fe = 0, Ce = new (typeof Int32Array < "u" ? Int32Array : Array)(4096), Fe = 0; Fe != 256; ++Fe)
          Ce[Fe] = ee[Fe];
        for (Fe = 0; Fe != 256; ++Fe)
          for (Te = ee[Fe], me = 256 + Fe; me < 4096; me += 256)
            Te = Ce[me] = Te >>> 8 ^ ee[255 & Te];
        var ze = [];
        for (Fe = 1; Fe != 16; ++Fe)
          ze[Fe - 1] = typeof Int32Array < "u" ? Ce.subarray(256 * Fe, 256 * Fe + 256) : Ce.slice(256 * Fe, 256 * Fe + 256);
        return ze;
      }(g), b = m[0], T = m[1], A = m[2], C = m[3], D = m[4], I = m[5], R = m[6], N = m[7], W = m[8], H = m[9], j = m[10], oe = m[11], X = m[12], _e = m[13], ue = m[14];
      return h.table = g, h.bstr = function(ee, me) {
        for (var Te = -1 ^ me, Ce = 0, Fe = ee.length; Ce < Fe; )
          Te = Te >>> 8 ^ g[255 & (Te ^ ee.charCodeAt(Ce++))];
        return ~Te;
      }, h.buf = function(ee, me) {
        for (var Te = -1 ^ me, Ce = ee.length - 15, Fe = 0; Fe < Ce; )
          Te = ue[ee[Fe++] ^ 255 & Te] ^ _e[ee[Fe++] ^ Te >> 8 & 255] ^ X[ee[Fe++] ^ Te >> 16 & 255] ^ oe[ee[Fe++] ^ Te >>> 24] ^ j[ee[Fe++]] ^ H[ee[Fe++]] ^ W[ee[Fe++]] ^ N[ee[Fe++]] ^ R[ee[Fe++]] ^ I[ee[Fe++]] ^ D[ee[Fe++]] ^ C[ee[Fe++]] ^ A[ee[Fe++]] ^ T[ee[Fe++]] ^ b[ee[Fe++]] ^ g[ee[Fe++]];
        for (Ce += 15; Fe < Ce; )
          Te = Te >>> 8 ^ g[255 & (Te ^ ee[Fe++])];
        return ~Te;
      }, h.str = function(ee, me) {
        for (var Te, Ce = -1 ^ me, Fe = 0, ze = ee.length, Be = 0; Fe < ze; )
          Ce = (Be = ee.charCodeAt(Fe++)) < 128 ? Ce >>> 8 ^ g[255 & (Ce ^ Be)] : Be < 2048 ? (Ce = Ce >>> 8 ^ g[255 & (Ce ^ (192 | Be >> 6 & 31))]) >>> 8 ^ g[255 & (Ce ^ (128 | 63 & Be))] : 55296 <= Be && Be < 57344 ? (Be = 64 + (1023 & Be), Te = 1023 & ee.charCodeAt(Fe++), (Ce = (Ce = (Ce = Ce >>> 8 ^ g[255 & (Ce ^ (240 | Be >> 8 & 7))]) >>> 8 ^ g[255 & (Ce ^ (128 | Be >> 2 & 63))]) >>> 8 ^ g[255 & (Ce ^ (128 | Te >> 6 & 15 | (3 & Be) << 4))]) >>> 8 ^ g[255 & (Ce ^ (128 | 63 & Te))]) : (Ce = (Ce = Ce >>> 8 ^ g[255 & (Ce ^ (224 | Be >> 12 & 15))]) >>> 8 ^ g[255 & (Ce ^ (128 | Be >> 6 & 63))]) >>> 8 ^ g[255 & (Ce ^ (128 | 63 & Be))];
        return ~Ce;
      }, h;
    }(), tr = function() {
      var h, g = {};
      function m(Me) {
        if (Me.charAt(Me.length - 1) == "/")
          return Me.slice(0, -1).indexOf("/") === -1 ? Me : m(Me.slice(0, -1));
        var Ze = Me.lastIndexOf("/");
        return Ze === -1 ? Me : Me.slice(0, Ze + 1);
      }
      function b(Me) {
        if (Me.charAt(Me.length - 1) == "/")
          return b(Me.slice(0, -1));
        var Ze = Me.lastIndexOf("/");
        return Ze === -1 ? Me : Me.slice(Ze + 1);
      }
      function T(Me) {
        da(Me, 0);
        for (var Ze, Oe = {}; Me.l <= Me.length - 4; ) {
          var je = Me.read_shift(2), Le = Me.read_shift(2), dt = Me.l + Le, qe = {};
          je === 21589 && (1 & (Ze = Me.read_shift(1)) && (qe.mtime = Me.read_shift(4)), 5 < Le && (2 & Ze && (qe.atime = Me.read_shift(4)), 4 & Ze && (qe.ctime = Me.read_shift(4))), qe.mtime && (qe.mt = new Date(1e3 * qe.mtime))), Me.l = dt, Oe[je] = qe;
        }
        return Oe;
      }
      function A() {
        return h = h || IT;
      }
      function C(Me, Ze) {
        if (Me[0] == 80 && Me[1] == 75)
          return mn(Me, Ze);
        if ((32 | Me[0]) == 109 && (32 | Me[1]) == 105)
          return function(St, ur) {
            if (ee(St.slice(0, 13)).toLowerCase() != "mime-version:")
              throw new Error("Unsupported MAD header");
            var $t = ur && ur.root || "", Et = (M && Buffer.isBuffer(St) ? St.toString("binary") : ee(St)).split(`\r
`), pr = 0, vr = "";
            for (pr = 0; pr < Et.length; ++pr)
              if (vr = Et[pr], /^Content-Location:/i.test(vr) && (vr = vr.slice(vr.indexOf("file")), $t = $t || vr.slice(0, vr.lastIndexOf("/") + 1), vr.slice(0, $t.length) != $t))
                for (; 0 < $t.length && ($t = ($t = $t.slice(0, $t.length - 1)).slice(0, $t.lastIndexOf("/") + 1), vr.slice(0, $t.length) != $t); )
                  ;
            if (St = (Et[1] || "").match(/boundary="(.*?)"/), !St)
              throw new Error("MAD cannot find boundary");
            var Gn = "--" + (St[1] || ""), Tr = { FileIndex: [], FullPaths: [] };
            I(Tr);
            var Fr, or = 0;
            for (pr = 0; pr < Et.length; ++pr) {
              var Jr = Et[pr];
              Jr !== Gn && Jr !== Gn + "--" || (or++ && function(rn, Ut, nr) {
                for (var Zt, Yr = "", vn = "", ji = "", aa = 0; aa < 10; ++aa) {
                  var Ni = Ut[aa];
                  if (!Ni || Ni.match(/^\s*$/))
                    break;
                  var Ia = Ni.match(/^(.*?):\s*([^\s].*)$/);
                  if (Ia)
                    switch (Ia[1].toLowerCase()) {
                      case "content-location":
                        Yr = Ia[2].trim();
                        break;
                      case "content-type":
                        ji = Ia[2].trim();
                        break;
                      case "content-transfer-encoding":
                        vn = Ia[2].trim();
                    }
                }
                switch (++aa, vn.toLowerCase()) {
                  case "base64":
                    Zt = F(E(Ut.slice(aa).join("")));
                    break;
                  case "quoted-printable":
                    Zt = function(Pa) {
                      for (var Mh = [], Xa = 0; Xa < Pa.length; ++Xa) {
                        for (var ql = Pa[Xa]; Xa <= Pa.length && ql.charAt(ql.length - 1) == "="; )
                          ql = ql.slice(0, ql.length - 1) + Pa[++Xa];
                        Mh.push(ql);
                      }
                      for (var Ih = 0; Ih < Mh.length; ++Ih)
                        Mh[Ih] = Mh[Ih].replace(/[=][0-9A-Fa-f]{2}/g, function(Wre) {
                          return String.fromCharCode(parseInt(Wre.slice(1), 16));
                        });
                      return F(Mh.join(`\r
`));
                    }(Ut.slice(aa));
                    break;
                  default:
                    throw new Error("Unsupported Content-Transfer-Encoding " + vn);
                }
                nr = zo(rn, Yr.slice(nr.length), Zt, { unsafe: !0 }), ji && (nr.ctype = ji);
              }(Tr, Et.slice(Fr, pr), $t), Fr = pr);
            }
            return Tr;
          }(Me, Ze);
        if (Me.length < 512)
          throw new Error("CFB file size " + Me.length + " < 512");
        var Oe, je, Le, dt = 3, qe = 512, Mt = 0, Qe = [], He = Me.slice(0, 512);
        da(He, 0);
        var rt = function(St) {
          if (St[St.l] == 80 && St[St.l + 1] == 75)
            return [0, 0];
          St.chk(oe, "Header Signature: "), St.l += 16;
          var ur = St.read_shift(2, "u");
          return [St.read_shift(2, "u"), ur];
        }(He);
        switch (dt = rt[0]) {
          case 3:
            qe = 512;
            break;
          case 4:
            qe = 4096;
            break;
          case 0:
            if (rt[1] == 0)
              return mn(Me, Ze);
          default:
            throw new Error("Major Version: Expected 3 or 4 saw " + dt);
        }
        qe !== 512 && da(He = Me.slice(0, qe), 28);
        var wt = Me.slice(0, qe);
        (function(St, ur) {
          var $t = 9;
          switch (St.l += 2, $t = St.read_shift(2)) {
            case 9:
              if (ur != 3)
                throw new Error("Sector Shift: Expected 9 saw " + $t);
              break;
            case 12:
              if (ur != 4)
                throw new Error("Sector Shift: Expected 12 saw " + $t);
              break;
            default:
              throw new Error("Sector Shift: Expected 9 or 12 saw " + $t);
          }
          St.chk("0600", "Mini Sector Shift: "), St.chk("000000000000", "Reserved: ");
        })(He, dt);
        var sr = He.read_shift(4, "i");
        if (dt === 3 && sr !== 0)
          throw new Error("# Directory Sectors: Expected 0 saw " + sr);
        He.l += 4, je = He.read_shift(4, "i"), He.l += 4, He.chk("00100000", "Mini Stream Cutoff Size: "), Le = He.read_shift(4, "i"), Oe = He.read_shift(4, "i"), lr = He.read_shift(4, "i"), Mt = He.read_shift(4, "i");
        for (var ar, jt = 0; jt < 109 && !((ar = He.read_shift(4, "i")) < 0); ++jt)
          Qe[jt] = ar;
        var Ft = function(St, ur) {
          for (var $t = Math.ceil(St.length / ur) - 1, Et = [], pr = 1; pr < $t; ++pr)
            Et[pr - 1] = St.slice(pr * ur, (pr + 1) * ur);
          return Et[$t - 1] = St.slice($t * ur), Et;
        }(Me, qe);
        (function St(ur, $t, Et, pr, vr) {
          var Gn = j;
          if (ur === j) {
            if ($t !== 0)
              throw new Error("DIFAT chain shorter than expected");
          } else if (ur !== -1) {
            var Tr = Et[ur], Fr = (pr >>> 2) - 1;
            if (Tr) {
              for (var or = 0; or < Fr && (Gn = mh(Tr, 4 * or)) !== j; ++or)
                vr.push(Gn);
              St(mh(Tr, pr - 4), $t - 1, Et, pr, vr);
            }
          }
        })(lr, Mt, Ft, qe, Qe);
        var rr = function(St, ur, $t, Et) {
          var pr = St.length, vr = [], Gn = [], Tr = [], Fr = [], or = Et - 1, Jr = 0, rn = 0, Ut = 0, nr = 0;
          for (Jr = 0; Jr < pr; ++Jr)
            if (Tr = [], pr <= (Ut = Jr + ur) && (Ut -= pr), !Gn[Ut]) {
              Fr = [];
              var Zt = [];
              for (rn = Ut; 0 <= rn; ) {
                Zt[rn] = !0, Gn[rn] = !0, Tr[Tr.length] = rn, Fr.push(St[rn]);
                var Yr = $t[Math.floor(4 * rn / Et)];
                if (Et < 4 + (nr = 4 * rn & or))
                  throw new Error("FAT boundary crossed: " + rn + " 4 " + Et);
                if (!St[Yr] || (rn = mh(St[Yr], nr), Zt[rn]))
                  break;
              }
              vr[Ut] = { nodes: Tr, data: JM([Fr]) };
            }
          return vr;
        }(Ft, je, Qe, qe);
        rr[je].name = "!Directory", 0 < Oe && Le !== j && (rr[Le].name = "!MiniFAT"), rr[Qe[0]].name = "!FAT", rr.fat_addrs = Qe, rr.ssz = qe;
        var sr = [], lr = [], Mt = [];
        return function(St, ur, $t, Et, pr, vr, Gn) {
          for (var Tr, Fr = 0, or = $t.length ? 2 : 0, Jr = St[je].data, rn = 0, Ut = 0; rn < Jr.length; rn += 128) {
            var nr = Jr.slice(rn, rn + 128);
            da(nr, 64), Ut = nr.read_shift(2), Tr = Dm(nr, 0, Ut - or), $t.push(Tr);
            var Zt = { name: Tr, type: nr.read_shift(1), color: nr.read_shift(1), L: nr.read_shift(4, "i"), R: nr.read_shift(4, "i"), C: nr.read_shift(4, "i"), clsid: nr.read_shift(16), state: nr.read_shift(4, "i"), start: 0, size: 0 };
            nr.read_shift(2) + nr.read_shift(2) + nr.read_shift(2) + nr.read_shift(2) !== 0 && (Zt.ct = D(nr, nr.l - 8)), nr.read_shift(2) + nr.read_shift(2) + nr.read_shift(2) + nr.read_shift(2) !== 0 && (Zt.mt = D(nr, nr.l - 8)), Zt.start = nr.read_shift(4, "i"), Zt.size = nr.read_shift(4, "i"), Zt.size < 0 && Zt.start < 0 && (Zt.size = Zt.type = 0, Zt.start = j, Zt.name = ""), Zt.type === 5 ? (Fr = Zt.start, 0 < Et && Fr !== j && (St[Fr].name = "!StreamData")) : 4096 <= Zt.size ? (Zt.storage = "fat", St[Zt.start] === void 0 && (St[Zt.start] = function(Yr, vn, ji, aa, Ni) {
              var Ia = [], Pa = [];
              Ni = Ni || [];
              var Mh = aa - 1, Xa = 0, ql = 0;
              for (Xa = vn; 0 <= Xa; ) {
                Ni[Xa] = !0, Ia[Ia.length] = Xa, Pa.push(Yr[Xa]);
                var Ih = ji[Math.floor(4 * Xa / aa)];
                if (aa < 4 + (ql = 4 * Xa & Mh))
                  throw new Error("FAT boundary crossed: " + Xa + " 4 " + aa);
                if (!Yr[Ih])
                  break;
                Xa = mh(Yr[Ih], ql);
              }
              return { nodes: Ia, data: JM([Pa]) };
            }(ur, Zt.start, St.fat_addrs, St.ssz)), St[Zt.start].name = Zt.name, Zt.content = St[Zt.start].data.slice(0, Zt.size)) : (Zt.storage = "minifat", Zt.size < 0 ? Zt.size = 0 : Fr !== j && Zt.start !== j && St[Fr] && (Zt.content = function(Yr, vn, ji) {
              for (var aa = Yr.start, Ni = Yr.size, Ia = [], Pa = aa; ji && 0 < Ni && 0 <= Pa; )
                Ia.push(vn.slice(Pa * H, Pa * H + H)), Ni -= H, Pa = mh(ji, 4 * Pa);
              return Ia.length === 0 ? tt(0) : G(Ia).slice(0, Yr.size);
            }(Zt, St[Fr].data, (St[Gn] || {}).data))), Zt.content && da(Zt.content, 0), pr[Tr] = Zt, vr.push(Zt);
          }
        }(rr, Ft, sr, Oe, {}, lr, Le), function(St, ur, $t) {
          for (var Et = 0, pr = 0, vr = 0, Gn = 0, Tr = 0, Fr = $t.length, or = [], Jr = []; Et < Fr; ++Et)
            or[Et] = Jr[Et] = Et, ur[Et] = $t[Et];
          for (; Tr < Jr.length; ++Tr)
            Et = Jr[Tr], pr = St[Et].L, vr = St[Et].R, Gn = St[Et].C, or[Et] === Et && (pr !== -1 && or[pr] !== pr && (or[Et] = or[pr]), vr !== -1 && or[vr] !== vr && (or[Et] = or[vr])), Gn !== -1 && (or[Gn] = Et), pr !== -1 && Et != or[Et] && (or[pr] = or[Et], Jr.lastIndexOf(pr) < Tr && Jr.push(pr)), vr !== -1 && Et != or[Et] && (or[vr] = or[Et], Jr.lastIndexOf(vr) < Tr && Jr.push(vr));
          for (Et = 1; Et < Fr; ++Et)
            or[Et] === Et && (vr !== -1 && or[vr] !== vr ? or[Et] = or[vr] : pr !== -1 && or[pr] !== pr && (or[Et] = or[pr]));
          for (Et = 1; Et < Fr; ++Et)
            if (St[Et].type !== 0) {
              if ((Tr = Et) != or[Tr])
                for (; Tr = or[Tr], ur[Et] = ur[Tr] + "/" + ur[Et], Tr !== 0 && or[Tr] !== -1 && Tr != or[Tr]; )
                  ;
              or[Et] = -1;
            }
          for (ur[0] += "/", Et = 1; Et < Fr; ++Et)
            St[Et].type !== 2 && (ur[Et] += "/");
        }(lr, Mt, sr), sr.shift(), Mt = { FileIndex: lr, FullPaths: Mt }, Ze && Ze.raw && (Mt.raw = { header: wt, sectors: Ft }), Mt;
      }
      function D(Me, Ze) {
        return new Date(1e3 * (na(Me, Ze + 4) / 1e7 * Math.pow(2, 32) + na(Me, Ze) / 1e7 - 11644473600));
      }
      function I(Me, je) {
        var Oe = je || {}, je = Oe.root || "Root Entry";
        if (Me.FullPaths || (Me.FullPaths = []), Me.FileIndex || (Me.FileIndex = []), Me.FullPaths.length !== Me.FileIndex.length)
          throw new Error("inconsistent CFB structure");
        Me.FullPaths.length === 0 && (Me.FullPaths[0] = je + "/", Me.FileIndex[0] = { name: je, type: 5 }), Oe.CLSID && (Me.FileIndex[0].clsid = Oe.CLSID), je = Me, Oe = "Sh33tJ5", tr.find(je, "/" + Oe) || ((Me = tt(4))[0] = 55, Me[1] = Me[3] = 50, Me[2] = 54, je.FileIndex.push({ name: Oe, type: 2, content: Me, size: 4, L: 69, R: 69, C: 69 }), je.FullPaths.push(je.FullPaths[0] + Oe), R(je));
      }
      function R(Me, Ze) {
        I(Me);
        for (var Oe = !1, je = !1, Le = Me.FullPaths.length - 1; 0 <= Le; --Le) {
          var dt = Me.FileIndex[Le];
          switch (dt.type) {
            case 0:
              je ? Oe = !0 : (Me.FileIndex.pop(), Me.FullPaths.pop());
              break;
            case 1:
            case 2:
            case 5:
              je = !0, isNaN(dt.R * dt.L * dt.C) && (Oe = !0), -1 < dt.R && -1 < dt.L && dt.R == dt.L && (Oe = !0);
              break;
            default:
              Oe = !0;
          }
        }
        if (Oe || Ze) {
          for (var qe = new Date(1987, 1, 19), Qe = 0, He = Object.create ? /* @__PURE__ */ Object.create(null) : {}, rt = [], Le = 0; Le < Me.FullPaths.length; ++Le)
            He[Me.FullPaths[Le]] = !0, Me.FileIndex[Le].type !== 0 && rt.push([Me.FullPaths[Le], Me.FileIndex[Le]]);
          for (Le = 0; Le < rt.length; ++Le) {
            var wt = m(rt[Le][0]);
            (je = He[wt]) || (rt.push([wt, { name: b(wt).replace("/", ""), type: 1, clsid: _e, ct: qe, mt: qe, content: null }]), He[wt] = !0);
          }
          for (rt.sort(function(Ft, rr) {
            return function(sr, lr) {
              for (var Mt, St = sr.split("/"), ur = lr.split("/"), $t = 0, Et = Math.min(St.length, ur.length); $t < Et; ++$t) {
                if (Mt = St[$t].length - ur[$t].length)
                  return Mt;
                if (St[$t] != ur[$t])
                  return St[$t] < ur[$t] ? -1 : 1;
              }
              return St.length - ur.length;
            }(Ft[0], rr[0]);
          }), Me.FullPaths = [], Me.FileIndex = [], Le = 0; Le < rt.length; ++Le)
            Me.FullPaths[Le] = rt[Le][0], Me.FileIndex[Le] = rt[Le][1];
          for (Le = 0; Le < rt.length; ++Le) {
            var ar = Me.FileIndex[Le], jt = Me.FullPaths[Le];
            if (ar.name = b(jt).replace("/", ""), ar.L = ar.R = ar.C = -(ar.color = 1), ar.size = ar.content ? ar.content.length : 0, ar.start = 0, ar.clsid = ar.clsid || _e, Le === 0)
              ar.C = 1 < rt.length ? 1 : -1, ar.size = 0, ar.type = 5;
            else if (jt.slice(-1) == "/") {
              for (Qe = Le + 1; Qe < rt.length && m(Me.FullPaths[Qe]) != jt; ++Qe)
                ;
              for (ar.C = Qe >= rt.length ? -1 : Qe, Qe = Le + 1; Qe < rt.length && m(Me.FullPaths[Qe]) != m(jt); ++Qe)
                ;
              ar.R = Qe >= rt.length ? -1 : Qe, ar.type = 1;
            } else
              m(Me.FullPaths[Le + 1] || "") == m(jt) && (ar.R = Le + 1), ar.type = 2;
          }
        }
      }
      function N(Me, Ze) {
        var Oe = Ze || {};
        if (Oe.fileType == "mad")
          return function(jt, Ft) {
            for (var rr = Ft || {}, sr = rr.boundary || "SheetJS", lr = ["MIME-Version: 1.0", 'Content-Type: multipart/related; boundary="' + (sr = "------=" + sr).slice(2) + '"', "", "", ""], Mt = jt.FullPaths[0], St = Mt, ur = jt.FileIndex[0], $t = 1; $t < jt.FullPaths.length; ++$t)
              if (St = jt.FullPaths[$t].slice(Mt.length), (ur = jt.FileIndex[$t]).size && ur.content && St != "Sh33tJ5") {
                St = St.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g, function(or) {
                  return "_x" + or.charCodeAt(0).toString(16) + "_";
                }).replace(/[\u0080-\uFFFF]/g, function(or) {
                  return "_u" + or.charCodeAt(0).toString(16) + "_";
                });
                for (var Et = ur.content, pr = M && Buffer.isBuffer(Et) ? Et.toString("binary") : ee(Et), vr = 0, Gn = Math.min(1024, pr.length), Tr = 0, Fr = 0; Fr <= Gn; ++Fr)
                  32 <= (Tr = pr.charCodeAt(Fr)) && Tr < 128 && ++vr;
                Et = 4 * Gn / 5 <= vr, lr.push(sr), lr.push("Content-Location: " + (rr.root || "file:///C:/SheetJS/") + St), lr.push("Content-Transfer-Encoding: " + (Et ? "quoted-printable" : "base64")), lr.push("Content-Type: " + function(Ut, Jr) {
                  if (Ut.ctype)
                    return Ut.ctype;
                  var rn = Ut.name || "", Ut = rn.match(/\.([^\.]+)$/);
                  return Ut && Yi[Ut[1]] || Jr && (Ut = (rn = Jr).match(/[\.\\]([^\.\\])+$/)) && Yi[Ut[1]] ? Yi[Ut[1]] : "application/octet-stream";
                }(ur, St)), lr.push(""), lr.push((Et ? function(or) {
                  or = or.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g, function(ji) {
                    return ji = ji.charCodeAt(0).toString(16).toUpperCase(), "=" + (ji.length == 1 ? "0" + ji : ji);
                  }), (or = or.replace(/ $/gm, "=20").replace(/\t$/gm, "=09")).charAt(0) == `
` && (or = "=0D" + or.slice(1)), or = or.replace(/\r(?!\n)/gm, "=0D").replace(/\n\n/gm, `
=0A`).replace(/([^\r\n])\n/gm, "$1=0A");
                  for (var Jr = [], rn = or.split(`\r
`), Ut = 0; Ut < rn.length; ++Ut) {
                    var nr = rn[Ut];
                    if (nr.length != 0)
                      for (var Zt = 0; Zt < nr.length; ) {
                        var Yr = 76, vn = nr.slice(Zt, Zt + Yr);
                        vn.charAt(Yr - 1) == "=" ? Yr-- : vn.charAt(Yr - 2) == "=" ? Yr -= 2 : vn.charAt(Yr - 3) == "=" && (Yr -= 3), vn = nr.slice(Zt, Zt + Yr), (Zt += Yr) < nr.length && (vn += "="), Jr.push(vn);
                      }
                    else
                      Jr.push("");
                  }
                  return Jr.join(`\r
`);
                } : function(or) {
                  for (var Jr = x(or), rn = [], Ut = 0; Ut < Jr.length; Ut += 76)
                    rn.push(Jr.slice(Ut, Ut + 76));
                  return rn.join(`\r
`) + `\r
`;
                })(pr));
              }
            return lr.push(sr + `--\r
`), lr.join(`\r
`);
          }(Me, Oe);
        if (R(Me), Oe.fileType === "zip")
          return function(jt, rr) {
            var rr = rr || {}, sr = [], lr = [], Mt = tt(1), St = rr.compression ? 8 : 0, ur = 0, $t = 0, Et = 0, pr = 0, vr = 0, Gn = jt.FullPaths[0], Tr = Gn, Fr = jt.FileIndex[0], or = [], Jr = 0;
            for ($t = 1; $t < jt.FullPaths.length; ++$t)
              if (Tr = jt.FullPaths[$t].slice(Gn.length), (Fr = jt.FileIndex[$t]).size && Fr.content && Tr != "Sh33tJ5") {
                var rn = pr, Ut = tt(Tr.length);
                for (Et = 0; Et < Tr.length; ++Et)
                  Ut.write_shift(1, 127 & Tr.charCodeAt(Et));
                Ut = Ut.slice(0, Ut.l), or[vr] = zl.buf(Fr.content, 0);
                var nr = Fr.content;
                St == 8 && (nr = function(Zt) {
                  return W ? W.deflateRawSync(Zt) : Ht(Zt);
                }(nr)), (Mt = tt(30)).write_shift(4, 67324752), Mt.write_shift(2, 20), Mt.write_shift(2, ur), Mt.write_shift(2, St), Fr.mt ? function(Zt, Yr) {
                  var vn = (Yr = typeof Yr == "string" ? new Date(Yr) : Yr).getHours();
                  vn = (vn = vn << 6 | Yr.getMinutes()) << 5 | Yr.getSeconds() >>> 1, Zt.write_shift(2, vn), vn = (vn = (vn = Yr.getFullYear() - 1980) << 4 | Yr.getMonth() + 1) << 5 | Yr.getDate(), Zt.write_shift(2, vn);
                }(Mt, Fr.mt) : Mt.write_shift(4, 0), Mt.write_shift(-4, or[vr]), Mt.write_shift(4, nr.length), Mt.write_shift(4, Fr.content.length), Mt.write_shift(2, Ut.length), Mt.write_shift(2, 0), pr += Mt.length, sr.push(Mt), pr += Ut.length, sr.push(Ut), pr += nr.length, sr.push(nr), (Mt = tt(46)).write_shift(4, 33639248), Mt.write_shift(2, 0), Mt.write_shift(2, 20), Mt.write_shift(2, ur), Mt.write_shift(2, St), Mt.write_shift(4, 0), Mt.write_shift(-4, or[vr]), Mt.write_shift(4, nr.length), Mt.write_shift(4, Fr.content.length), Mt.write_shift(2, Ut.length), Mt.write_shift(2, 0), Mt.write_shift(2, 0), Mt.write_shift(2, 0), Mt.write_shift(2, 0), Mt.write_shift(4, 0), Mt.write_shift(4, rn), Jr += Mt.l, lr.push(Mt), Jr += Ut.length, lr.push(Ut), ++vr;
              }
            return (Mt = tt(22)).write_shift(4, 101010256), Mt.write_shift(2, 0), Mt.write_shift(2, 0), Mt.write_shift(2, vr), Mt.write_shift(2, vr), Mt.write_shift(4, Jr), Mt.write_shift(4, pr), Mt.write_shift(2, 0), G([G(sr), G(lr), Mt]);
          }(Me, Oe);
        for (var je = function(jt) {
          for (var Ft = 0, rr = 0, sr = 0; sr < jt.FileIndex.length; ++sr) {
            var lr = jt.FileIndex[sr];
            lr.content && 0 < (lr = lr.content.length) && (lr < 4096 ? Ft += lr + 63 >> 6 : rr += lr + 511 >> 9);
          }
          for (var Mt = jt.FullPaths.length + 3 >> 2, St = Ft + 127 >> 7, ur = (Ft + 7 >> 3) + rr + Mt + St, $t = ur + 127 >> 7, Et = $t <= 109 ? 0 : Math.ceil(($t - 109) / 127); $t < ur + $t + Et + 127 >> 7; )
            Et = ++$t <= 109 ? 0 : Math.ceil(($t - 109) / 127);
          return Mt = [1, Et, $t, St, Mt, rr, Ft, 0], jt.FileIndex[0].size = Ft << 6, Mt[7] = (jt.FileIndex[0].start = Mt[0] + Mt[1] + Mt[2] + Mt[3] + Mt[4] + Mt[5]) + (Mt[6] + 7 >> 3), Mt;
        }(Me), Le = tt(je[7] << 9), qe = 0, dt = 0, qe = 0; qe < 8; ++qe)
          Le.write_shift(1, X[qe]);
        for (qe = 0; qe < 8; ++qe)
          Le.write_shift(2, 0);
        for (Le.write_shift(2, 62), Le.write_shift(2, 3), Le.write_shift(2, 65534), Le.write_shift(2, 9), Le.write_shift(2, 6), qe = 0; qe < 3; ++qe)
          Le.write_shift(2, 0);
        for (Le.write_shift(4, 0), Le.write_shift(4, je[2]), Le.write_shift(4, je[0] + je[1] + je[2] + je[3] - 1), Le.write_shift(4, 0), Le.write_shift(4, 4096), Le.write_shift(4, je[3] ? je[0] + je[1] + je[2] - 1 : j), Le.write_shift(4, je[3]), Le.write_shift(-4, je[1] ? je[0] - 1 : j), Le.write_shift(4, je[1]), qe = 0; qe < 109; ++qe)
          Le.write_shift(-4, qe < je[2] ? je[1] + qe : -1);
        if (je[1])
          for (dt = 0; dt < je[1]; ++dt) {
            for (; qe < 236 + 127 * dt; ++qe)
              Le.write_shift(-4, qe < je[2] ? je[1] + qe : -1);
            Le.write_shift(-4, dt === je[1] - 1 ? j : dt + 1);
          }
        function Qe(jt) {
          for (dt += jt; qe < dt - 1; ++qe)
            Le.write_shift(-4, qe + 1);
          jt && (++qe, Le.write_shift(-4, j));
        }
        for (dt = qe = 0, dt += je[1]; qe < dt; ++qe)
          Le.write_shift(-4, ue.DIFSECT);
        for (dt += je[2]; qe < dt; ++qe)
          Le.write_shift(-4, ue.FATSECT);
        Qe(je[3]), Qe(je[4]);
        for (var He = 0, rt = 0, wt = Me.FileIndex[0]; He < Me.FileIndex.length; ++He)
          (wt = Me.FileIndex[He]).content && ((rt = wt.content.length) < 4096 || (wt.start = dt, Qe(rt + 511 >> 9)));
        for (Qe(je[6] + 7 >> 3); 511 & Le.l; )
          Le.write_shift(-4, ue.ENDOFCHAIN);
        for (He = dt = qe = 0; He < Me.FileIndex.length; ++He)
          (wt = Me.FileIndex[He]).content && (!(rt = wt.content.length) || 4096 <= rt || (wt.start = dt, Qe(rt + 63 >> 6)));
        for (; 511 & Le.l; )
          Le.write_shift(-4, ue.ENDOFCHAIN);
        for (qe = 0; qe < je[4] << 2; ++qe) {
          var ar = Me.FullPaths[qe];
          if (ar && ar.length !== 0) {
            if (wt = Me.FileIndex[qe], qe === 0 && (wt.start = wt.size ? wt.start - 1 : j), ar = qe === 0 && Oe.root || wt.name, rt = 2 * (ar.length + 1), Le.write_shift(64, ar, "utf16le"), Le.write_shift(2, rt), Le.write_shift(1, wt.type), Le.write_shift(1, wt.color), Le.write_shift(-4, wt.L), Le.write_shift(-4, wt.R), Le.write_shift(-4, wt.C), wt.clsid)
              Le.write_shift(16, wt.clsid, "hex");
            else
              for (He = 0; He < 4; ++He)
                Le.write_shift(4, 0);
            Le.write_shift(4, wt.state || 0), Le.write_shift(4, 0), Le.write_shift(4, 0), Le.write_shift(4, 0), Le.write_shift(4, 0), Le.write_shift(4, wt.start), Le.write_shift(4, wt.size), Le.write_shift(4, 0);
          } else {
            for (He = 0; He < 17; ++He)
              Le.write_shift(4, 0);
            for (He = 0; He < 3; ++He)
              Le.write_shift(4, -1);
            for (He = 0; He < 12; ++He)
              Le.write_shift(4, 0);
          }
        }
        for (qe = 1; qe < Me.FileIndex.length; ++qe)
          if (4096 <= (wt = Me.FileIndex[qe]).size)
            if (Le.l = wt.start + 1 << 9, M && Buffer.isBuffer(wt.content))
              wt.content.copy(Le, Le.l, 0, wt.size), Le.l += wt.size + 511 & -512;
            else {
              for (He = 0; He < wt.size; ++He)
                Le.write_shift(1, wt.content[He]);
              for (; 511 & He; ++He)
                Le.write_shift(1, 0);
            }
        for (qe = 1; qe < Me.FileIndex.length; ++qe)
          if (0 < (wt = Me.FileIndex[qe]).size && wt.size < 4096)
            if (M && Buffer.isBuffer(wt.content))
              wt.content.copy(Le, Le.l, 0, wt.size), Le.l += wt.size + 63 & -64;
            else {
              for (He = 0; He < wt.size; ++He)
                Le.write_shift(1, wt.content[He]);
              for (; 63 & He; ++He)
                Le.write_shift(1, 0);
            }
        if (M)
          Le.l = Le.length;
        else
          for (; Le.l < Le.length; )
            Le.write_shift(1, 0);
        return Le;
      }
      g.version = "1.2.1";
      var W, H = 64, j = -2, oe = "d0cf11e0a1b11ae1", X = [208, 207, 17, 224, 161, 177, 26, 225], _e = "00000000000000000000000000000000", ue = { MAXREGSECT: -6, DIFSECT: -4, FATSECT: -3, ENDOFCHAIN: j, FREESECT: -1, HEADER_SIGNATURE: oe, HEADER_MINOR_VERSION: "3e00", MAXREGSID: -6, NOSTREAM: -1, HEADER_CLSID: _e, EntryTypes: ["unknown", "storage", "stream", "lockbytes", "property", "root"] };
      function ee(Me) {
        for (var Ze = new Array(Me.length), Oe = 0; Oe < Me.length; ++Oe)
          Ze[Oe] = String.fromCharCode(Me[Oe]);
        return Ze.join("");
      }
      for (var me = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15], Te = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258], Ce = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577], Fe, ze = typeof Uint8Array < "u", Be = ze ? new Uint8Array(256) : [], Ye = 0; Ye < 256; ++Ye)
        Be[Ye] = 255 & ((Fe = 139536 & ((Fe = Ye) << 1 | Fe << 11) | 558144 & (Fe << 5 | Fe << 15)) >> 16 | Fe >> 8 | Fe);
      function it(Me, je) {
        var Oe = 7 & je, je = je >>> 3;
        return (Me[je] | (Oe <= 5 ? 0 : Me[1 + je] << 8)) >>> Oe & 7;
      }
      function at(Me, je) {
        var Oe = 7 & je, je = je >>> 3;
        return (Me[je] | (Oe <= 3 ? 0 : Me[1 + je] << 8)) >>> Oe & 31;
      }
      function Xe(Me, je) {
        var Oe = 7 & je, je = je >>> 3;
        return (Me[je] | (Oe <= 1 ? 0 : Me[1 + je] << 8)) >>> Oe & 127;
      }
      function _t(Me, qe, Oe) {
        var je = 7 & qe, Le = qe >>> 3, dt = (1 << Oe) - 1, qe = Me[Le] >>> je;
        return Oe < 8 - je ? qe & dt : (qe |= Me[1 + Le] << 8 - je, Oe < 16 - je ? qe & dt : (qe |= Me[2 + Le] << 16 - je, Oe < 24 - je ? qe & dt : (qe |= Me[3 + Le] << 24 - je) & dt));
      }
      function Vt(Me, Ze, Oe) {
        var je = 7 & Ze, Le = Ze >>> 3;
        return je <= 5 ? Me[Le] |= (7 & Oe) << je : (Me[Le] |= Oe << je & 255, Me[1 + Le] = (7 & Oe) >> 8 - je), Ze + 3;
      }
      function Ot(Me, Ze, Oe) {
        var je = Ze >>> 3;
        return Oe <<= 7 & Ze, Me[je] |= 255 & Oe, Oe >>>= 8, Me[1 + je] = Oe, Ze + 8;
      }
      function At(Me, Ze, Oe) {
        var je = Ze >>> 3;
        return Oe <<= 7 & Ze, Me[je] |= 255 & Oe, Oe >>>= 8, Me[1 + je] = 255 & Oe, Me[2 + je] = Oe >>> 8, Ze + 16;
      }
      function Dt(Me, Ze) {
        var Oe = Me.length, je = Ze < 2 * Oe ? 2 * Oe : Ze + 5, Le = 0;
        if (Ze <= Oe)
          return Me;
        if (M) {
          var dt = L(je);
          if (Me.copy)
            Me.copy(dt);
          else
            for (; Le < Me.length; ++Le)
              dt[Le] = Me[Le];
          return dt;
        }
        if (ze) {
          var qe = new Uint8Array(je);
          if (qe.set)
            qe.set(Me);
          else
            for (; Le < Oe; ++Le)
              qe[Le] = Me[Le];
          return qe;
        }
        return Me.length = je, Me;
      }
      function Tt(Me) {
        for (var Ze = new Array(Me), Oe = 0; Oe < Me; ++Oe)
          Ze[Oe] = 0;
        return Ze;
      }
      function ct(Me, Ze, Oe) {
        for (var je, Le = 1, rt = 0, dt = 0, qe = 0, Qe = Me.length, He = ze ? new Uint16Array(32) : Tt(32), rt = 0; rt < 32; ++rt)
          He[rt] = 0;
        for (rt = Qe; rt < Oe; ++rt)
          Me[rt] = 0;
        Qe = Me.length;
        var wt = ze ? new Uint16Array(Qe) : Tt(Qe);
        for (rt = 0; rt < Qe; ++rt)
          He[je = Me[rt]]++, Le < je && (Le = je), wt[rt] = 0;
        for (He[0] = 0, rt = 1; rt <= Le; ++rt)
          He[rt + 16] = qe = qe + He[rt - 1] << 1;
        for (rt = 0; rt < Qe; ++rt)
          (qe = Me[rt]) != 0 && (wt[rt] = He[qe + 16]++);
        var ar, jt, Ft, rr;
        for (rt = 0; rt < Qe; ++rt)
          if ((ar = Me[rt]) != 0)
            for (jt = wt[rt], Ft = Le, rr = void 0, rr = Be[255 & jt], qe = (Ft <= 8 ? rr >>> 8 - Ft : (rr = rr << 8 | Be[jt >> 8 & 255], Ft <= 16 ? rr >>> 16 - Ft : (rr = rr << 8 | Be[jt >> 16 & 255]) >>> 24 - Ft)) >> Le - ar, dt = (1 << Le + 4 - ar) - 1; 0 <= dt; --dt)
              Ze[qe | dt << ar] = 15 & ar | rt << 4;
        return Le;
      }
      var Kt = ze ? new Uint16Array(512) : Tt(512), Qt = ze ? new Uint16Array(32) : Tt(32);
      if (!ze) {
        for (var hr = 0; hr < 512; ++hr)
          Kt[hr] = 0;
        for (hr = 0; hr < 32; ++hr)
          Qt[hr] = 0;
      }
      (function() {
        for (var Me = [], Ze = 0; Ze < 32; Ze++)
          Me.push(5);
        ct(Me, Qt, 32);
        for (var Oe = [], Ze = 0; Ze <= 143; Ze++)
          Oe.push(8);
        for (; Ze <= 255; Ze++)
          Oe.push(9);
        for (; Ze <= 279; Ze++)
          Oe.push(7);
        for (; Ze <= 287; Ze++)
          Oe.push(8);
        ct(Oe, Kt, 288);
      })();
      var Gr = function() {
        for (var Me = ze ? new Uint8Array(32768) : [], Ze = 0, Oe = 0; Ze < Ce.length - 1; ++Ze)
          for (; Oe < Ce[Ze + 1]; ++Oe)
            Me[Oe] = Ze;
        for (; Oe < 32768; ++Oe)
          Me[Oe] = 29;
        for (var je = ze ? new Uint8Array(259) : [], Ze = 0, Oe = 0; Ze < Te.length - 1; ++Ze)
          for (; Oe < Te[Ze + 1]; ++Oe)
            je[Oe] = Ze;
        return function(Le, dt) {
          return (Le.length < 8 ? function(qe, Qe) {
            for (var He = 0; He < qe.length; ) {
              var rt = Math.min(65535, qe.length - He), wt = He + rt == qe.length;
              for (Qe.write_shift(1, +wt), Qe.write_shift(2, rt), Qe.write_shift(2, 65535 & ~rt); 0 < rt--; )
                Qe[Qe.l++] = qe[He++];
            }
            return Qe.l;
          } : function(qe, Qe) {
            for (var He = 0, rt = 0, wt = ze ? new Uint16Array(32768) : []; rt < qe.length; ) {
              var ar = Math.min(65535, qe.length - rt);
              if (ar < 10) {
                for (7 & (He = Vt(Qe, He, +(rt + ar == qe.length))) && (He += 8 - (7 & He)), Qe.l = He / 8 | 0, Qe.write_shift(2, ar), Qe.write_shift(2, 65535 & ~ar); 0 < ar--; )
                  Qe[Qe.l++] = qe[rt++];
                He = 8 * Qe.l;
              } else {
                He = Vt(Qe, He, +(rt + ar == qe.length) + 2);
                for (var jt = 0; 0 < ar--; ) {
                  var Ft = qe[rt], jt = 32767 & (jt << 5 ^ Ft), rr = -1, sr = 0;
                  if ((rr = wt[jt]) && (rt < (rr |= -32768 & rt) && (rr -= 32768), rr < rt))
                    for (; qe[rr + sr] == qe[rt + sr] && sr < 250; )
                      ++sr;
                  if (2 < sr) {
                    (Ft = je[sr]) <= 22 ? He = Ot(Qe, He, Be[Ft + 1] >> 1) - 1 : (Ot(Qe, He, 3), Ot(Qe, He += 5, Be[Ft - 23] >> 5), He += 3);
                    var lr = Ft < 8 ? 0 : Ft - 4 >> 2;
                    0 < lr && (At(Qe, He, sr - Te[Ft]), He += lr), Ft = Me[rt - rr], He = Ot(Qe, He, Be[Ft] >> 3), He -= 3;
                    var Mt = Ft < 4 ? 0 : Ft - 2 >> 1;
                    0 < Mt && (At(Qe, He, rt - rr - Ce[Ft]), He += Mt);
                    for (var St = 0; St < sr; ++St)
                      wt[jt] = 32767 & rt, jt = 32767 & (jt << 5 ^ qe[rt]), ++rt;
                    ar -= sr - 1;
                  } else
                    Ft <= 143 ? Ft += 48 : (lr = ((lr = 1) & lr) << (7 & (Mt = He)), Qe[Mt >>> 3] |= lr, He = Mt + 1), He = Ot(Qe, He, Be[Ft]), wt[jt] = 32767 & rt, ++rt;
                }
                He = Ot(Qe, He, 0) - 1;
              }
            }
            return Qe.l = (He + 7) / 8 | 0, Qe.l;
          })(Le, dt);
        };
      }();
      function Ht(Oe) {
        var Ze = tt(50 + Math.floor(1.1 * Oe.length)), Oe = Gr(Oe, Ze);
        return Ze.slice(0, Oe);
      }
      var yt = ze ? new Uint16Array(32768) : Tt(32768), Mr = ze ? new Uint16Array(32768) : Tt(32768), on = ze ? new Uint16Array(128) : Tt(128), Zr = 1, bn = 1;
      function pi(Me, Ze) {
        if (Me[0] == 3 && !(3 & Me[1]))
          return [P(Ze), 2];
        for (var Oe = 0, je = 0, Le = L(Ze || 1 << 18), dt = 0, qe = Le.length >>> 0, Qe = 0, He = 0; !(1 & je); )
          if (je = it(Me, Oe), Oe += 3, je >>> 1 != 0)
            for (He = je >> 1 == 1 ? (Qe = 9, 5) : (Oe = function(sr, lr) {
              var Mt, St, ur, $t = at(sr, lr) + 257, Et = at(sr, lr += 5) + 1, pr = (ur = 7 & (St = lr += 5), 4 + (((Mt = sr)[St = St >>> 3] | (ur <= 4 ? 0 : Mt[1 + St] << 8)) >>> ur & 15));
              lr += 4;
              for (var vr = 0, Gn = ze ? new Uint8Array(19) : Tt(19), Tr = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], Fr = 1, or = ze ? new Uint8Array(8) : Tt(8), Jr = ze ? new Uint8Array(8) : Tt(8), rn = Gn.length, Ut = 0; Ut < pr; ++Ut)
                Gn[me[Ut]] = vr = it(sr, lr), Fr < vr && (Fr = vr), or[vr]++, lr += 3;
              var nr = 0;
              for (or[0] = 0, Ut = 1; Ut <= Fr; ++Ut)
                Jr[Ut] = nr = nr + or[Ut - 1] << 1;
              for (Ut = 0; Ut < rn; ++Ut)
                (nr = Gn[Ut]) != 0 && (Tr[Ut] = Jr[nr]++);
              for (var Zt, Ut = 0; Ut < rn; ++Ut)
                if ((Zt = Gn[Ut]) != 0) {
                  nr = Be[Tr[Ut]] >> 8 - Zt;
                  for (var Yr = (1 << 7 - Zt) - 1; 0 <= Yr; --Yr)
                    on[nr | Yr << Zt] = 7 & Zt | Ut << 3;
                }
              for (var vn, ji, aa, Ni = [], Fr = 1; Ni.length < $t + Et; )
                switch (lr += 7 & (nr = on[Xe(sr, lr)]), nr >>>= 3) {
                  case 16:
                    for (vr = 3 + (aa = void 0, aa = 7 & (ji = lr), ((vn = sr)[ji = ji >>> 3] | (aa <= 6 ? 0 : vn[1 + ji] << 8)) >>> aa & 3), lr += 2, nr = Ni[Ni.length - 1]; 0 < vr--; )
                      Ni.push(nr);
                    break;
                  case 17:
                    for (vr = 3 + it(sr, lr), lr += 3; 0 < vr--; )
                      Ni.push(0);
                    break;
                  case 18:
                    for (vr = 11 + Xe(sr, lr), lr += 7; 0 < vr--; )
                      Ni.push(0);
                    break;
                  default:
                    Ni.push(nr), Fr < nr && (Fr = nr);
                }
              var Ia = Ni.slice(0, $t), Pa = Ni.slice($t);
              for (Ut = $t; Ut < 286; ++Ut)
                Ia[Ut] = 0;
              for (Ut = Et; Ut < 30; ++Ut)
                Pa[Ut] = 0;
              return Zr = ct(Ia, yt, 286), bn = ct(Pa, Mr, 30), lr;
            }(Me, Oe), Qe = Zr, bn); ; ) {
              !Ze && qe < dt + 32767 && (qe = (Le = Dt(Le, dt + 32767)).length);
              var rt = _t(Me, Oe, Qe), wt = (je >>> 1 == 1 ? Kt : yt)[rt];
              if (Oe += 15 & wt, ((wt >>>= 4) >>> 8 & 255) == 0)
                Le[dt++] = wt;
              else {
                if (wt == 256)
                  break;
                var ar = (wt -= 257) < 8 ? 0 : wt - 4 >> 2;
                5 < ar && (ar = 0);
                var jt = dt + Te[wt];
                0 < ar && (jt += _t(Me, Oe, ar), Oe += ar), rt = _t(Me, Oe, He), Oe += 15 & (wt = (je >>> 1 == 1 ? Qt : Mr)[rt]);
                var rt = (wt >>>= 4) < 4 ? 0 : wt - 2 >> 1, Ft = Ce[wt];
                for (0 < rt && (Ft += _t(Me, Oe, rt), Oe += rt), !Ze && qe < jt && (qe = (Le = Dt(Le, jt + 100)).length); dt < jt; )
                  Le[dt] = Le[dt - Ft], ++dt;
              }
            }
          else {
            7 & Oe && (Oe += 8 - (7 & Oe));
            var rr = Me[Oe >>> 3] | Me[1 + (Oe >>> 3)] << 8;
            if (Oe += 32, 0 < rr)
              for (!Ze && qe < dt + rr && (qe = (Le = Dt(Le, dt + rr)).length); 0 < rr--; )
                Le[dt++] = Me[Oe >>> 3], Oe += 8;
          }
        return Ze ? [Le, Oe + 7 >>> 3] : [Le.slice(0, dt), Oe + 7 >>> 3];
      }
      function Ne(Me, Ze) {
        return Ze = pi(Me.slice(Me.l || 0), Ze), Me.l += Ze[1], Ze[0];
      }
      function wn(Me, Ze) {
        if (!Me)
          throw new Error(Ze);
        typeof console < "u" && console.error(Ze);
      }
      function mn(Me, Ze) {
        var Oe = Me;
        da(Oe, 0);
        var je = { FileIndex: [], FullPaths: [] };
        I(je, { root: Ze.root });
        for (var Le = Oe.length - 4; (Oe[Le] != 80 || Oe[Le + 1] != 75 || Oe[Le + 2] != 5 || Oe[Le + 3] != 6) && 0 <= Le; )
          --Le;
        Oe.l = Le + 4, Oe.l += 4;
        var dt = Oe.read_shift(2);
        for (Oe.l += 6, Ze = Oe.read_shift(4), Oe.l = Ze, Le = 0; Le < dt; ++Le) {
          Oe.l += 20;
          var qe = Oe.read_shift(4), Qe = Oe.read_shift(4), He = Oe.read_shift(2), rt = Oe.read_shift(2), wt = Oe.read_shift(2);
          Oe.l += 8;
          var ar = Oe.read_shift(4), jt = T(Oe.slice(Oe.l + He, Oe.l + He + rt));
          Oe.l += He + rt + wt, wt = Oe.l, Oe.l = ar + 4, function(Ft, rr, sr, lr, Mt) {
            Ft.l += 2;
            var St = Ft.read_shift(2), ur = Ft.read_shift(2), $t = function(vn) {
              var Ut = 65535 & vn.read_shift(2), nr = 65535 & vn.read_shift(2), Zt = /* @__PURE__ */ new Date(), Yr = 31 & nr, vn = 15 & (nr >>>= 5);
              return nr >>>= 4, Zt.setMilliseconds(0), Zt.setFullYear(1980 + nr), Zt.setMonth(vn - 1), Zt.setDate(Yr), vn = 31 & Ut, Yr = 63 & (Ut >>>= 5), Ut >>>= 6, Zt.setHours(Ut), Zt.setMinutes(Yr), Zt.setSeconds(vn << 1), Zt;
            }(Ft);
            if (8257 & St)
              throw new Error("Unsupported ZIP encryption");
            Ft.read_shift(4);
            for (var Et, pr = Ft.read_shift(4), vr = Ft.read_shift(4), Gn = Ft.read_shift(2), Tr = Ft.read_shift(2), Fr = "", or = 0; or < Gn; ++or)
              Fr += String.fromCharCode(Ft[Ft.l++]);
            Tr && (((Et = T(Ft.slice(Ft.l, Ft.l + Tr)))[21589] || {}).mt && ($t = Et[21589].mt), ((Mt || {})[21589] || {}).mt && ($t = Mt[21589].mt)), Ft.l += Tr;
            var Jr = Ft.slice(Ft.l, Ft.l + pr);
            switch (ur) {
              case 8:
                Jr = function(rn, Zt) {
                  if (!W)
                    return Ne(rn, Zt);
                  var nr = new W.InflateRaw(), Zt = nr._processChunk(rn.slice(rn.l), nr._finishFlushFlag);
                  return rn.l += nr.bytesRead, Zt;
                }(Ft, vr);
                break;
              case 0:
                break;
              default:
                throw new Error("Unsupported ZIP Compression method " + ur);
            }
            Tr = !1, 8 & St && (Ft.read_shift(4) == 134695760 && (Ft.read_shift(4), Tr = !0), pr = Ft.read_shift(4), vr = Ft.read_shift(4)), pr != rr && wn(Tr, "Bad compressed size: " + rr + " != " + pr), vr != sr && wn(Tr, "Bad uncompressed size: " + sr + " != " + vr), zo(lr, Fr, Jr, { unsafe: !0, mt: $t });
          }(Oe, qe, Qe, je, jt), Oe.l = wt;
        }
        return je;
      }
      var Yi = { htm: "text/html", xml: "text/xml", gif: "image/gif", jpg: "image/jpeg", png: "image/png", mso: "application/x-mso", thmx: "application/vnd.ms-officetheme", sh33tj5: "application/octet-stream" };
      function zo(Me, Ze, Oe, je) {
        var Le = je && je.unsafe;
        Le || I(Me);
        var dt, qe = !Le && tr.find(Me, Ze);
        return qe || (dt = Me.FullPaths[0], dt = Ze.slice(0, dt.length) == dt ? Ze : (dt.slice(-1) != "/" && (dt += "/"), (dt + Ze).replace("//", "/")), qe = { name: b(Ze), type: 2 }, Me.FileIndex.push(qe), Me.FullPaths.push(dt), Le || tr.utils.cfb_gc(Me)), qe.content = Oe, qe.size = Oe ? Oe.length : 0, je && (je.CLSID && (qe.clsid = je.CLSID), je.mt && (qe.mt = je.mt), je.ct && (qe.ct = je.ct)), qe;
      }
      return g.find = function(Me, Ze) {
        var Oe = Me.FullPaths.map(function(He) {
          return He.toUpperCase();
        }), je = Oe.map(function(He) {
          var rt = He.split("/");
          return rt[rt.length - (He.slice(-1) == "/" ? 2 : 1)];
        }), Le = !1;
        Ze.charCodeAt(0) === 47 ? (Le = !0, Ze = Oe[0].slice(0, -1) + Ze) : Le = Ze.indexOf("/") !== -1;
        var Qe = Ze.toUpperCase(), dt = (Le === !0 ? Oe : je).indexOf(Qe);
        if (dt !== -1)
          return Me.FileIndex[dt];
        var qe = !Qe.match(Q), Qe = Qe.replace(Z, "");
        for (qe && (Qe = Qe.replace(Q, "!")), dt = 0; dt < Oe.length; ++dt)
          if ((qe ? Oe[dt].replace(Q, "!") : Oe[dt]).replace(Z, "") == Qe || (qe ? je[dt].replace(Q, "!") : je[dt]).replace(Z, "") == Qe)
            return Me.FileIndex[dt];
        return null;
      }, g.read = function(Me, Ze) {
        var Oe, je, Le = Ze && Ze.type;
        switch (Le || M && Buffer.isBuffer(Me) && (Le = "buffer"), Le || "base64") {
          case "file":
            return Oe = Me, je = Ze, A(), C(h.readFileSync(Oe), je);
          case "base64":
            return C(F(E(Me)), Ze);
          case "binary":
            return C(F(Me), Ze);
        }
        return C(Me, Ze);
      }, g.parse = C, g.write = function(Me, Ze) {
        var Oe = N(Me, Ze);
        switch (Ze && Ze.type || "buffer") {
          case "file":
            return A(), h.writeFileSync(Ze.filename, Oe), Oe;
          case "binary":
            return typeof Oe == "string" ? Oe : ee(Oe);
          case "base64":
            return x(typeof Oe == "string" ? Oe : ee(Oe));
          case "buffer":
            if (M)
              return Buffer.isBuffer(Oe) ? Oe : k(Oe);
          case "array":
            return typeof Oe == "string" ? F(Oe) : Oe;
        }
        return Oe;
      }, g.writeFile = function(Me, Ze, Oe) {
        A(), Oe = N(Me, Oe), h.writeFileSync(Ze, Oe);
      }, g.utils = { cfb_new: function(Me) {
        var Ze = {};
        return I(Ze, Me), Ze;
      }, cfb_add: zo, cfb_del: function(Me, Ze) {
        I(Me);
        var Oe = tr.find(Me, Ze);
        if (Oe) {
          for (var je = 0; je < Me.FileIndex.length; ++je)
            if (Me.FileIndex[je] == Oe)
              return Me.FileIndex.splice(je, 1), Me.FullPaths.splice(je, 1), !0;
        }
        return !1;
      }, cfb_mov: function(Me, Ze, Oe) {
        I(Me);
        var je = tr.find(Me, Ze);
        if (je) {
          for (var Le = 0; Le < Me.FileIndex.length; ++Le)
            if (Me.FileIndex[Le] == je)
              return Me.FileIndex[Le].name = b(Oe), Me.FullPaths[Le] = Oe, !0;
        }
        return !1;
      }, cfb_gc: function(Me) {
        R(Me, !0);
      }, ReadShift: iv, CheckField: eI, prep_blob: da, bconcat: G, use_zlib: function(Me) {
        try {
          var Ze = new Me.InflateRaw();
          if (Ze._processChunk(new Uint8Array([3, 0]), Ze._finishFlushFlag), !Ze.bytesRead)
            throw new Error("zlib does not expose bytesRead");
          W = Me;
        } catch (Oe) {
          console.error("cannot use native zlib: " + (Oe.message || Oe));
        }
      }, _deflateRaw: Ht, _inflateRaw: Ne, consts: ue }, g;
    }();
    if (typeof m_ < "u")
      try {
        no = IT;
      } catch {
      }
    function MQ(h) {
      return typeof h == "string" ? O(h) : Array.isArray(h) ? function(g) {
        if (typeof Uint8Array > "u")
          throw new Error("Unsupported");
        return new Uint8Array(g);
      }(h) : h;
    }
    function Q0(h, g, m) {
      if (no !== void 0 && no.writeFileSync)
        return m ? no.writeFileSync(h, g, m) : no.writeFileSync(h, g);
      if (typeof Deno < "u") {
        if (m && typeof g == "string")
          switch (m) {
            case "utf8":
              g = new TextEncoder(m).encode(g);
              break;
            case "binary":
              g = O(g);
              break;
            default:
              throw new Error("Unsupported encoding " + m);
          }
        return Deno.writeFileSync(h, g);
      }
      var b = m == "utf8" ? Ks(g) : g;
      if (typeof IE_SaveFile < "u")
        return IE_SaveFile(b, h);
      if (typeof Blob < "u") {
        if (b = new Blob([MQ(b)], { type: "application/octet-stream" }), typeof navigator < "u" && navigator.msSaveBlob)
          return navigator.msSaveBlob(b, h);
        if (typeof saveAs < "u")
          return saveAs(b, h);
        if (typeof URL < "u" && typeof document < "u" && document.createElement && URL.createObjectURL) {
          var T = URL.createObjectURL(b);
          if (typeof chrome == "object" && typeof (chrome.downloads || {}).download == "function")
            return URL.revokeObjectURL && typeof setTimeout < "u" && setTimeout(function() {
              URL.revokeObjectURL(T);
            }, 6e4), chrome.downloads.download({ url: T, filename: h, saveAs: !0 });
          if (b = document.createElement("a"), b.download != null)
            return b.download = h, b.href = T, document.body.appendChild(b), b.click(), document.body.removeChild(b), URL.revokeObjectURL && typeof setTimeout < "u" && setTimeout(function() {
              URL.revokeObjectURL(T);
            }, 6e4), T;
        }
      }
      if (typeof $ < "u" && typeof File < "u" && typeof Folder < "u")
        try {
          var A = File(h);
          return A.open("w"), A.encoding = "binary", Array.isArray(g) && (g = U(g)), A.write(g), A.close(), g;
        } catch (C) {
          if (!C.message || !C.message.match(/onstruct/))
            throw C;
        }
      throw new Error("cannot save file " + h);
    }
    function hi(h) {
      for (var g = Object.keys(h), m = [], b = 0; b < g.length; ++b)
        Object.prototype.hasOwnProperty.call(h, g[b]) && m.push(g[b]);
      return m;
    }
    function SM(h, g) {
      for (var m = [], b = hi(h), T = 0; T !== b.length; ++T)
        m[h[b[T]][g]] == null && (m[h[b[T]][g]] = b[T]);
      return m;
    }
    function bm(h) {
      for (var g = [], m = hi(h), b = 0; b !== m.length; ++b)
        g[h[m[b]]] = m[b];
      return g;
    }
    function wm(h) {
      for (var g = [], m = hi(h), b = 0; b !== m.length; ++b)
        g[h[m[b]]] = parseInt(m[b], 10);
      return g;
    }
    var Sm = new Date(1899, 11, 30, 0, 0, 0);
    function Hi(h, g) {
      var m = h.getTime();
      return g && (m -= 1263168e5), (m - (Sm.getTime() + 6e4 * (h.getTimezoneOffset() - Sm.getTimezoneOffset()))) / 864e5;
    }
    var xm = /* @__PURE__ */ new Date(), IQ = Sm.getTime() + 6e4 * (xm.getTimezoneOffset() - Sm.getTimezoneOffset()), xM = xm.getTimezoneOffset();
    function Tm(h) {
      var g = /* @__PURE__ */ new Date();
      return g.setTime(24 * h * 60 * 60 * 1e3 + IQ), g.getTimezoneOffset() !== xM && g.setTime(g.getTime() + 6e4 * (g.getTimezoneOffset() - xM)), g;
    }
    var Cm = /* @__PURE__ */ new Date("2017-02-19T19:06:09.000Z"), TM = isNaN(Cm.getFullYear()) ? /* @__PURE__ */ new Date("2/19/17") : Cm, PQ = TM.getFullYear() == 2017;
    function jn(h, g) {
      var m = new Date(h);
      return PQ ? (0 < g ? m.setTime(m.getTime() + 60 * m.getTimezoneOffset() * 1e3) : g < 0 && m.setTime(m.getTime() - 60 * m.getTimezoneOffset() * 1e3), m) : h instanceof Date ? h : TM.getFullYear() == 1917 && !isNaN(m.getFullYear()) ? (g = m.getFullYear(), -1 < h.indexOf("" + g) || m.setFullYear(m.getFullYear() + 100), m) : (m = h.match(/\d+/g) || ["2017", "2", "19", "0", "0", "0"], m = new Date(+m[0], +m[1] - 1, +m[2], +m[3] || 0, +m[4] || 0, +m[5] || 0), m = -1 < h.indexOf("Z") ? new Date(m.getTime() - 60 * m.getTimezoneOffset() * 1e3) : m);
    }
    function vh(h, g) {
      if (M && Buffer.isBuffer(h)) {
        if (g) {
          if (h[0] == 255 && h[1] == 254)
            return Ks(h.slice(2).toString("utf16le"));
          if (h[1] == 254 && h[2] == 255)
            return Ks(v(h.slice(2).toString("binary")));
        }
        return h.toString("binary");
      }
      if (typeof TextDecoder < "u")
        try {
          if (g) {
            if (h[0] == 255 && h[1] == 254)
              return Ks(new TextDecoder("utf-16le").decode(h.slice(2)));
            if (h[0] == 254 && h[1] == 255)
              return Ks(new TextDecoder("utf-16be").decode(h.slice(2)));
          }
          var m = { "": "", "": "", : "", "": "", "": "", "": "", "": "", "": "", "": "", : "", "": "", : "", : "", "": "", "": "", "": "", "": "", "": "", "": "", "": "", "": "", "": "", : "", "": "", : "", : "", : "" };
          return Array.isArray(h) && (h = new Uint8Array(h)), new TextDecoder("latin1").decode(h).replace(/[]/g, function(A) {
            return m[A] || A;
          });
        } catch {
        }
      for (var b = [], T = 0; T != h.length; ++T)
        b.push(String.fromCharCode(h[T]));
      return b.join("");
    }
    function Un(h) {
      if (typeof JSON < "u" && !Array.isArray(h))
        return JSON.parse(JSON.stringify(h));
      if (typeof h != "object" || h == null)
        return h;
      if (h instanceof Date)
        return new Date(h.getTime());
      var g, m = {};
      for (g in h)
        Object.prototype.hasOwnProperty.call(h, g) && (m[g] = Un(h[g]));
      return m;
    }
    function fi(h, g) {
      for (var m = ""; m.length < g; )
        m += h;
      return m;
    }
    function ms(b) {
      var g = Number(b);
      if (!isNaN(g))
        return isFinite(g) ? g : NaN;
      if (!/\d/.test(b))
        return g;
      var m = 1, b = b.replace(/([\d]),([\d])/g, "$1$2").replace(/[$]/g, "").replace(/[%]/g, function() {
        return m *= 100, "";
      });
      return isNaN(g = Number(b)) ? (b = b.replace(/[(](.*)[)]/, function(T, A) {
        return m = -m, A;
      }), isNaN(g = Number(b)) ? g : g / m) : g / m;
    }
    var RQ = ["january", "february", "march", "april", "may", "june", "july", "august", "september", "october", "november", "december"];
    function Ld(h) {
      var g = new Date(h), m = /* @__PURE__ */ new Date(NaN), b = g.getYear(), T = g.getMonth(), A = g.getDate();
      if (isNaN(A))
        return m;
      var C = h.toLowerCase();
      if (C.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)) {
        if (3 < (C = C.replace(/[^a-z]/g, "").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/, "")).length && RQ.indexOf(C) == -1)
          return m;
      } else if (C.match(/[a-z]/))
        return m;
      return b < 0 || 8099 < b || (!(0 < T || 1 < A) || b == 101) && h.match(/[^-0-9:,\/\\]/) ? m : g;
    }
    var CM, LQ = (CM = "abacaba".split(/(:?b)/i).length == 5, function(h, g, m) {
      if (CM || typeof g == "string")
        return h.split(g);
      for (var b = h.split(g), T = [b[0]], A = 1; A < b.length; ++A)
        T.push(m), T.push(b[A]);
      return T;
    });
    function AM(h) {
      return h ? h.content && h.type ? vh(h.content, !0) : h.data ? y(h.data) : h.asNodeBuffer && M ? y(h.asNodeBuffer().toString("binary")) : h.asBinary ? y(h.asBinary()) : h._data && h._data.getContent ? y(vh(Array.prototype.slice.call(h._data.getContent(), 0))) : null : null;
    }
    function EM(h) {
      if (!h)
        return null;
      if (h.data)
        return p(h.data);
      if (h.asNodeBuffer && M)
        return h.asNodeBuffer();
      if (h._data && h._data.getContent) {
        var g = h._data.getContent();
        return typeof g == "string" ? p(g) : Array.prototype.slice.call(g);
      }
      return h.content && h.type ? h.content : null;
    }
    function Oo(h, g) {
      for (var m = h.FullPaths || hi(h.files), b = g.toLowerCase().replace(/[\/]/g, "\\"), T = b.replace(/\\/g, "/"), A = 0; A < m.length; ++A) {
        var C = m[A].replace(/^Root Entry[\/]/, "").toLowerCase();
        if (b == C || T == C)
          return h.files ? h.files[m[A]] : h.FileIndex[A];
      }
      return null;
    }
    function nx(h, g) {
      if (h = Oo(h, g), h == null)
        throw new Error("Cannot find file " + g + " in zip");
      return h;
    }
    function Li(h, g, m) {
      if (!m)
        return ((m = nx(h, g)) && m.name.slice(-4) === ".bin" ? EM : AM)(m);
      if (!g)
        return null;
      try {
        return Li(h, g);
      } catch {
        return null;
      }
    }
    function mo(h, g, m) {
      if (!m)
        return AM(nx(h, g));
      if (!g)
        return null;
      try {
        return mo(h, g);
      } catch {
        return null;
      }
    }
    function DM(h) {
      for (var g = h.FullPaths || hi(h.files), m = [], b = 0; b < g.length; ++b)
        g[b].slice(-1) != "/" && m.push(g[b].replace(/^Root Entry[\/]/, ""));
      return m.sort();
    }
    function Hr(h, g, m) {
      if (h.FullPaths) {
        if (typeof m == "string") {
          var b = (M ? k : function(T) {
            for (var A = [], C = 0, D = T.length + 250, I = P(T.length + 255), R = 0; R < T.length; ++R) {
              var N, W = T.charCodeAt(R);
              W < 128 ? I[C++] = W : W < 2048 ? (I[C++] = 192 | W >> 6 & 31, I[C++] = 128 | 63 & W) : 55296 <= W && W < 57344 ? (W = 64 + (1023 & W), N = 1023 & T.charCodeAt(++R), I[C++] = 240 | W >> 8 & 7, I[C++] = 128 | W >> 2 & 63, I[C++] = 128 | N >> 6 & 15 | (3 & W) << 4, I[C++] = 128 | 63 & N) : (I[C++] = 224 | W >> 12 & 15, I[C++] = 128 | W >> 6 & 63, I[C++] = 128 | 63 & W), D < C && (A.push(I.slice(0, C)), C = 0, I = P(65535), D = 65530);
            }
            return A.push(I.slice(0, C)), G(A);
          })(m);
          return tr.utils.cfb_add(h, g, b);
        }
        tr.utils.cfb_add(h, g, m);
      } else
        h.file(g, m);
    }
    function ix() {
      return tr.utils.cfb_new();
    }
    function kM(h, g) {
      switch (g.type) {
        case "base64":
          return tr.read(h, { type: "base64" });
        case "binary":
          return tr.read(h, { type: "binary" });
        case "buffer":
        case "array":
          return tr.read(h, { type: "buffer" });
      }
      throw new Error("Unrecognized type " + g.type);
    }
    function ev(h, g) {
      if (h.charAt(0) == "/")
        return h.slice(1);
      var m = g.split("/");
      g.slice(-1) != "/" && m.pop();
      for (var b = h.split("/"); b.length !== 0; ) {
        var T = b.shift();
        T === ".." ? m.pop() : T !== "." && m.push(T);
      }
      return m.join("/");
    }
    var Ti = `<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`, OQ = /([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g, Qm = /<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm, Ca = Ti.match(Qm) ? Qm : /<[^>]*>/g, FQ = /<\w*:/, NQ = /<(\/?)\w+:/;
    function Dr(h, g, m) {
      for (var b = {}, T = 0, A = 0; T !== h.length && (A = h.charCodeAt(T)) !== 32 && A !== 10 && A !== 13; ++T)
        ;
      if (g || (b[0] = h.slice(0, T)), T === h.length)
        return b;
      var C, D, I, R = h.match(OQ), N = 0, W = 0, H = "", j = "";
      if (R)
        for (W = 0; W != R.length; ++W) {
          for (j = R[W], A = 0; A != j.length && j.charCodeAt(A) !== 61; ++A)
            ;
          for (H = j.slice(0, A).trim(); j.charCodeAt(A + 1) == 32; )
            ++A;
          for (D = (T = j.charCodeAt(A + 1)) == 34 || T == 39 ? 1 : 0, C = j.slice(A + 1 + D, j.length - D), N = 0; N != H.length && H.charCodeAt(N) !== 58; ++N)
            ;
          N === H.length ? (b[H = 0 < H.indexOf("_") ? H.slice(0, H.indexOf("_")) : H] = C, m || (b[H.toLowerCase()] = C)) : b[I = (N === 5 && H.slice(0, 5) === "xmlns" ? "xmlns" : "") + H.slice(N + 1)] && H.slice(N - 3, N) == "ext" || (b[I] = C, m || (b[I.toLowerCase()] = C));
        }
      return b;
    }
    function Xs(h) {
      return h.replace(NQ, "<$1");
    }
    var MM, IM, PM = { "&quot;": '"', "&apos;": "'", "&gt;": ">", "&lt;": "<", "&amp;": "&" }, ax = bm(PM), dn = (MM = /&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi, IM = /_x([\da-fA-F]{4})_/gi, function h(g) {
      var m = g + "", b = m.indexOf("<![CDATA[");
      return b == -1 ? m.replace(MM, function(T, A) {
        return PM[T] || String.fromCharCode(parseInt(A, -1 < T.indexOf("x") ? 16 : 10)) || T;
      }).replace(IM, function(T, A) {
        return String.fromCharCode(parseInt(A, 16));
      }) : (g = m.indexOf("]]>"), h(m.slice(0, b)) + m.slice(b + 9, g) + h(m.slice(g + 3)));
    }), ox = /[&<>'"]/g, BQ = /[\u0000-\u0008\u000b-\u001f]/g;
    function Dn(h) {
      return (h + "").replace(ox, function(g) {
        return ax[g];
      }).replace(BQ, function(g) {
        return "_x" + ("000" + g.charCodeAt(0).toString(16)).slice(-4) + "_";
      });
    }
    function RM(h) {
      return Dn(h).replace(/ /g, "_x0020_");
    }
    var LM = /[\u0000-\u001f]/g;
    function sx(h) {
      return (h + "").replace(ox, function(g) {
        return ax[g];
      }).replace(/\n/g, "<br/>").replace(LM, function(g) {
        return "&#x" + ("000" + g.charCodeAt(0).toString(16)).slice(-4) + ";";
      });
    }
    var OM, FM = (OM = /&#(\d+);/g, function(h) {
      return h.replace(OM, VQ);
    });
    function VQ(h, g) {
      return String.fromCharCode(parseInt(g, 10));
    }
    function qn(h) {
      switch (h) {
        case 1:
        case !0:
        case "1":
        case "true":
        case "TRUE":
          return !0;
        default:
          return !1;
      }
    }
    function lx(h) {
      for (var g, m, b, T, A = "", C = 0, D = 0; C < h.length; )
        (g = h.charCodeAt(C++)) < 128 ? A += String.fromCharCode(g) : (m = h.charCodeAt(C++), 191 < g && g < 224 ? (D = (31 & g) << 6, D |= 63 & m, A += String.fromCharCode(D)) : (b = h.charCodeAt(C++), g < 240 ? A += String.fromCharCode((15 & g) << 12 | (63 & m) << 6 | 63 & b) : (T = ((7 & g) << 18 | (63 & m) << 12 | (63 & b) << 6 | 63 & (D = h.charCodeAt(C++))) - 65536, A += String.fromCharCode(55296 + (T >>> 10 & 1023)), A += String.fromCharCode(56320 + (1023 & T)))));
      return A;
    }
    function NM(h) {
      for (var g, m, b = P(2 * h.length), T = 1, A = 0, C = 0, D = 0; D < h.length; D += T)
        T = 1, (m = h.charCodeAt(D)) < 128 ? g = m : m < 224 ? (g = 64 * (31 & m) + (63 & h.charCodeAt(D + 1)), T = 2) : m < 240 ? (g = 4096 * (15 & m) + 64 * (63 & h.charCodeAt(D + 1)) + (63 & h.charCodeAt(D + 2)), T = 3) : (T = 4, g = 262144 * (7 & m) + 4096 * (63 & h.charCodeAt(D + 1)) + 64 * (63 & h.charCodeAt(D + 2)) + (63 & h.charCodeAt(D + 3)), C = 55296 + ((g -= 65536) >>> 10 & 1023), g = 56320 + (1023 & g)), C !== 0 && (b[A++] = 255 & C, b[A++] = C >>> 8, C = 0), b[A++] = g % 256, b[A++] = g >>> 8;
      return b.slice(0, A).toString("ucs2");
    }
    function BM(h) {
      return k(h, "binary").toString("utf8");
    }
    var ux, Am, Em, qd = "foo bar baz", Rn = M && (BM(qd) == lx(qd) ? BM : NM(qd) == lx(qd) && NM) || lx, Ks = M ? function(h) {
      return k(h, "utf8").toString("binary");
    } : function(h) {
      for (var g, m = [], b = 0, T = 0; b < h.length; )
        switch (!0) {
          case (T = h.charCodeAt(b++)) < 128:
            m.push(String.fromCharCode(T));
            break;
          case T < 2048:
            m.push(String.fromCharCode(192 + (T >> 6))), m.push(String.fromCharCode(128 + (63 & T)));
            break;
          case (55296 <= T && T < 57344):
            T -= 55296, g = h.charCodeAt(b++) - 56320 + (T << 10), m.push(String.fromCharCode(240 + (g >> 18 & 7))), m.push(String.fromCharCode(144 + (g >> 12 & 63))), m.push(String.fromCharCode(128 + (g >> 6 & 63))), m.push(String.fromCharCode(128 + (63 & g)));
            break;
          default:
            m.push(String.fromCharCode(224 + (T >> 12))), m.push(String.fromCharCode(128 + (T >> 6 & 63))), m.push(String.fromCharCode(128 + (63 & T)));
        }
      return m.join("");
    }, tv = (ux = {}, function(h, g) {
      var m = h + "|" + (g || "");
      return ux[m] || (ux[m] = new RegExp("<(?:\\w+:)?" + h + '(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?' + h + ">", g || ""));
    }), VM = (Am = [["nbsp", " "], ["middot", ""], ["quot", '"'], ["apos", "'"], ["gt", ">"], ["lt", "<"], ["amp", "&"]].map(function(h) {
      return [new RegExp("&" + h[0] + ";", "ig"), h[1]];
    }), function(h) {
      for (var g = h.replace(/^[\t\n\r ]+/, "").replace(/[\t\n\r ]+$/, "").replace(/>\s+/g, ">").replace(/\s+</g, "<").replace(/[\t\n\r ]+/g, " ").replace(/<\s*[bB][rR]\s*\/?>/g, `
`).replace(/<[^>]*>/g, ""), m = 0; m < Am.length; ++m)
        g = g.replace(Am[m][0], Am[m][1]);
      return g;
    }), UQ = (Em = {}, function(h) {
      return Em[h] !== void 0 ? Em[h] : Em[h] = new RegExp("<(?:vt:)?" + h + ">([\\s\\S]*?)</(?:vt:)?" + h + ">", "g");
    }), GQ = /<\/?(?:vt:)?variant>/g, zQ = /<(?:vt:)([^>]*)>([\s\S]*)</;
    function UM(b, g) {
      var m = Dr(b), b = b.match(UQ(m.baseType)) || [], T = [];
      if (b.length == m.size)
        return b.forEach(function(A) {
          A = A.replace(GQ, "").match(zQ), A && T.push({ v: Rn(A[2]), t: A[1] });
        }), T;
      if (g.WTF)
        throw new Error("unexpected vector length " + b.length + " != " + m.size);
      return T;
    }
    var GM = /(^\s|\s$|\n)/;
    function fa(h, g) {
      return "<" + h + (g.match(GM) ? ' xml:space="preserve"' : "") + ">" + g + "</" + h + ">";
    }
    function rv(h) {
      return hi(h).map(function(g) {
        return " " + g + '="' + h[g] + '"';
      }).join("");
    }
    function Rt(h, g, m) {
      return "<" + h + (m != null ? rv(m) : "") + (g != null ? (g.match(GM) ? ' xml:space="preserve"' : "") + ">" + g + "</" + h : "/") + ">";
    }
    function cx(h, g) {
      try {
        return h.toISOString().replace(/\.\d*/, "");
      } catch (m) {
        if (g)
          throw m;
      }
      return "";
    }
    function hx(h) {
      if (M && Buffer.isBuffer(h))
        return h.toString("utf8");
      if (typeof h == "string")
        return h;
      if (typeof Uint8Array < "u" && h instanceof Uint8Array)
        return Rn(U(V(h)));
      throw new Error("Bad input format: expected Buffer or string");
    }
    var nv = /<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm, $i = { CORE_PROPS: "http://schemas.openxmlformats.org/package/2006/metadata/core-properties", CUST_PROPS: "http://schemas.openxmlformats.org/officeDocument/2006/custom-properties", EXT_PROPS: "http://schemas.openxmlformats.org/officeDocument/2006/extended-properties", CT: "http://schemas.openxmlformats.org/package/2006/content-types", RELS: "http://schemas.openxmlformats.org/package/2006/relationships", TCMNT: "http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments", dc: "http://purl.org/dc/elements/1.1/", dcterms: "http://purl.org/dc/terms/", dcmitype: "http://purl.org/dc/dcmitype/", mx: "http://schemas.microsoft.com/office/mac/excel/2008/main", r: "http://schemas.openxmlformats.org/officeDocument/2006/relationships", sjs: "http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties", vt: "http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes", xsi: "http://www.w3.org/2001/XMLSchema-instance", xsd: "http://www.w3.org/2001/XMLSchema" }, gh = ["http://schemas.openxmlformats.org/spreadsheetml/2006/main", "http://purl.oclc.org/ooxml/spreadsheetml/main", "http://schemas.microsoft.com/office/excel/2006/main", "http://schemas.microsoft.com/office/excel/2006/2"], yo = { o: "urn:schemas-microsoft-com:office:office", x: "urn:schemas-microsoft-com:office:excel", ss: "urn:schemas-microsoft-com:office:spreadsheet", dt: "uuid:C2F41010-65B3-11d1-A29F-00AA00C14882", mv: "http://macVmlSchemaUri", v: "urn:schemas-microsoft-com:vml", html: "http://www.w3.org/TR/REC-html40" };
    function zM(h) {
      for (var g = [], m = 0; m < h[0].length; ++m)
        if (h[0][m])
          for (var b = 0, T = h[0][m].length; b < T; b += 10240)
            g.push.apply(g, h[0][m].slice(b, b + 10240));
      return g;
    }
    function WM(h, g, m) {
      for (var b = [], T = g; T < m; T += 2)
        b.push(String.fromCharCode(Wl(h, T)));
      return b.join("").replace(Z, "");
    }
    function HM(h, g, m) {
      for (var b = [], T = g; T < g + m; ++T)
        b.push(("0" + h[T].toString(16)).slice(-2));
      return b.join("");
    }
    function $M(h, g, m) {
      for (var b = [], T = g; T < m; T++)
        b.push(String.fromCharCode(Fd(h, T)));
      return b.join("");
    }
    function YM(h, g) {
      var m = na(h, g);
      return 0 < m ? Od(h, g + 4, g + 4 + m - 1) : "";
    }
    function jM(h, g) {
      var m = na(h, g);
      return 0 < m ? Od(h, g + 4, g + 4 + m - 1) : "";
    }
    function qM(h, g) {
      var m = 2 * na(h, g);
      return 0 < m ? Od(h, g + 4, g + 4 + m - 1) : "";
    }
    function XM(h, g) {
      var m = na(h, g);
      return 0 < m ? Dm(h, g + 4, g + 4 + m) : "";
    }
    function KM(h, g) {
      var m = na(h, g);
      return 0 < m ? Od(h, g + 4, g + 4 + m) : "";
    }
    function ZM(h, g) {
      for (var m = 1 - 2 * (h[g + 7] >>> 7), b = ((127 & h[g + 7]) << 4) + (h[g + 6] >>> 4 & 15), T = 15 & h[g + 6], A = 5; 0 <= A; --A)
        T = 256 * T + h[g + A];
      return b == 2047 ? T == 0 ? 1 / 0 * m : NaN : (b == 0 ? b = -1022 : (b -= 1023, T += Math.pow(2, 52)), m * Math.pow(2, b - 52) * T);
    }
    var JM = M ? function(h) {
      return 0 < h[0].length && Buffer.isBuffer(h[0][0]) ? Buffer.concat(h[0].map(function(g) {
        return Buffer.isBuffer(g) ? g : k(g);
      })) : zM(h);
    } : zM, Dm = M ? function(h, g, m) {
      return Buffer.isBuffer(h) ? h.toString("utf16le", g, m).replace(Z, "") : WM(h, g, m);
    } : WM, QM = M ? function(h, g, m) {
      return Buffer.isBuffer(h) ? h.toString("hex", g, g + m) : HM(h, g, m);
    } : HM, Od = M ? function(h, g, m) {
      return Buffer.isBuffer(h) ? h.toString("utf8", g, m) : $M(h, g, m);
    } : $M, fx = YM, dx = jM, px = qM, vx = XM, gx = KM, km = ZM, mx = function(h) {
      return Array.isArray(h) || typeof Uint8Array < "u" && h instanceof Uint8Array;
    };
    M && (fx = function(h, g) {
      if (!Buffer.isBuffer(h))
        return YM(h, g);
      var m = h.readUInt32LE(g);
      return 0 < m ? h.toString("utf8", g + 4, g + 4 + m - 1) : "";
    }, dx = function(h, g) {
      if (!Buffer.isBuffer(h))
        return jM(h, g);
      var m = h.readUInt32LE(g);
      return 0 < m ? h.toString("utf8", g + 4, g + 4 + m - 1) : "";
    }, px = function(h, g) {
      if (!Buffer.isBuffer(h))
        return qM(h, g);
      var m = 2 * h.readUInt32LE(g);
      return h.toString("utf16le", g + 4, g + 4 + m - 1);
    }, vx = function(h, g) {
      if (!Buffer.isBuffer(h))
        return XM(h, g);
      var m = h.readUInt32LE(g);
      return h.toString("utf16le", g + 4, g + 4 + m);
    }, gx = function(h, g) {
      if (!Buffer.isBuffer(h))
        return KM(h, g);
      var m = h.readUInt32LE(g);
      return h.toString("utf8", g + 4, g + 4 + m);
    }, km = function(h, g) {
      return Buffer.isBuffer(h) ? h.readDoubleLE(g) : ZM(h, g);
    }, mx = function(h) {
      return Buffer.isBuffer(h) || Array.isArray(h) || typeof Uint8Array < "u" && h instanceof Uint8Array;
    }), n !== void 0 && (Dm = function(h, g, m) {
      return n.utils.decode(1200, h.slice(g, m)).replace(Z, "");
    }, Od = function(h, g, m) {
      return n.utils.decode(65001, h.slice(g, m));
    }, fx = function(h, g) {
      var m = na(h, g);
      return 0 < m ? n.utils.decode(s, h.slice(g + 4, g + 4 + m - 1)) : "";
    }, dx = function(h, g) {
      var m = na(h, g);
      return 0 < m ? n.utils.decode(o, h.slice(g + 4, g + 4 + m - 1)) : "";
    }, px = function(h, g) {
      var m = 2 * na(h, g);
      return 0 < m ? n.utils.decode(1200, h.slice(g + 4, g + 4 + m - 1)) : "";
    }, vx = function(h, g) {
      var m = na(h, g);
      return 0 < m ? n.utils.decode(1200, h.slice(g + 4, g + 4 + m)) : "";
    }, gx = function(h, g) {
      var m = na(h, g);
      return 0 < m ? n.utils.decode(65001, h.slice(g + 4, g + 4 + m)) : "";
    });
    var Fd = function(h, g) {
      return h[g];
    }, Wl = function(h, g) {
      return 256 * h[g + 1] + h[g];
    }, WQ = function(h, g) {
      return g = 256 * h[g + 1] + h[g], g < 32768 ? g : -1 * (65535 - g + 1);
    }, na = function(h, g) {
      return h[g + 3] * (1 << 24) + (h[g + 2] << 16) + (h[g + 1] << 8) + h[g];
    }, mh = function(h, g) {
      return h[g + 3] << 24 | h[g + 2] << 16 | h[g + 1] << 8 | h[g];
    }, HQ = function(h, g) {
      return h[g] << 24 | h[g + 1] << 16 | h[g + 2] << 8 | h[g + 3];
    };
    function iv(h, g) {
      var m, b, T, A, C, D, I = "", R = [];
      switch (g) {
        case "dbcs":
          if (D = this.l, M && Buffer.isBuffer(this))
            I = this.slice(this.l, this.l + 2 * h).toString("utf16le");
          else
            for (C = 0; C < h; ++C)
              I += String.fromCharCode(Wl(this, D)), D += 2;
          h *= 2;
          break;
        case "utf8":
          I = Od(this, this.l, this.l + h);
          break;
        case "utf16le":
          h *= 2, I = Dm(this, this.l, this.l + h);
          break;
        case "wstr":
          if (n === void 0)
            return iv.call(this, h, "dbcs");
          I = n.utils.decode(o, this.slice(this.l, this.l + 2 * h)), h *= 2;
          break;
        case "lpstr-ansi":
          I = fx(this, this.l), h = 4 + na(this, this.l);
          break;
        case "lpstr-cp":
          I = dx(this, this.l), h = 4 + na(this, this.l);
          break;
        case "lpwstr":
          I = px(this, this.l), h = 4 + 2 * na(this, this.l);
          break;
        case "lpp4":
          h = 4 + na(this, this.l), I = vx(this, this.l), 2 & h && (h += 2);
          break;
        case "8lpp4":
          h = 4 + na(this, this.l), I = gx(this, this.l), 3 & h && (h += 4 - (3 & h));
          break;
        case "cstr":
          for (h = 0, I = ""; (T = Fd(this, this.l + h++)) !== 0; )
            R.push(_(T));
          I = R.join("");
          break;
        case "_wstr":
          for (h = 0, I = ""; (T = Wl(this, this.l + h)) !== 0; )
            R.push(_(T)), h += 2;
          h += 2, I = R.join("");
          break;
        case "dbcs-cont":
          for (I = "", D = this.l, C = 0; C < h; ++C) {
            if (this.lens && this.lens.indexOf(D) !== -1)
              return T = Fd(this, D), this.l = D + 1, A = iv.call(this, h - C, T ? "dbcs-cont" : "sbcs-cont"), R.join("") + A;
            R.push(_(Wl(this, D))), D += 2;
          }
          I = R.join(""), h *= 2;
          break;
        case "cpstr":
          if (n !== void 0) {
            I = n.utils.decode(o, this.slice(this.l, this.l + h));
            break;
          }
        case "sbcs-cont":
          for (I = "", D = this.l, C = 0; C != h; ++C) {
            if (this.lens && this.lens.indexOf(D) !== -1)
              return T = Fd(this, D), this.l = D + 1, A = iv.call(this, h - C, T ? "dbcs-cont" : "sbcs-cont"), R.join("") + A;
            R.push(_(Fd(this, D))), D += 1;
          }
          I = R.join("");
          break;
        default:
          switch (h) {
            case 1:
              return m = Fd(this, this.l), this.l++, m;
            case 2:
              return m = (g === "i" ? WQ : Wl)(this, this.l), this.l += 2, m;
            case 4:
            case -4:
              return g === "i" || !(128 & this[this.l + 3]) ? (m = (0 < h ? mh : HQ)(this, this.l), this.l += 4, m) : (b = na(this, this.l), this.l += 4, b);
            case 8:
            case -8:
              if (g === "f")
                return b = h == 8 ? km(this, this.l) : km([this[this.l + 7], this[this.l + 6], this[this.l + 5], this[this.l + 4], this[this.l + 3], this[this.l + 2], this[this.l + 1], this[this.l + 0]], 0), this.l += 8, b;
              h = 8;
            case 16:
              I = QM(this, this.l, h);
          }
      }
      return this.l += h, I;
    }
    var $Q = function(h, g, m) {
      h[m] = 255 & g, h[m + 1] = g >>> 8 & 255, h[m + 2] = g >>> 16 & 255, h[m + 3] = g >>> 24 & 255;
    }, YQ = function(h, g, m) {
      h[m] = 255 & g, h[m + 1] = g >> 8 & 255, h[m + 2] = g >> 16 & 255, h[m + 3] = g >> 24 & 255;
    }, jQ = function(h, g, m) {
      h[m] = 255 & g, h[m + 1] = g >>> 8 & 255;
    };
    function qQ(h, g, m) {
      var b = 0, T = 0;
      if (m === "dbcs") {
        for (T = 0; T != g.length; ++T)
          jQ(this, g.charCodeAt(T), this.l + 2 * T);
        b = 2 * g.length;
      } else if (m === "sbcs") {
        if (n !== void 0 && s == 874)
          for (T = 0; T != g.length; ++T) {
            var A = n.utils.encode(s, g.charAt(T));
            this[this.l + T] = A[0];
          }
        else
          for (g = g.replace(/[^\x00-\x7F]/g, "_"), T = 0; T != g.length; ++T)
            this[this.l + T] = 255 & g.charCodeAt(T);
        b = g.length;
      } else {
        if (m === "hex") {
          for (; T < h; ++T)
            this[this.l++] = parseInt(g.slice(2 * T, 2 * T + 2), 16) || 0;
          return this;
        }
        if (m === "utf16le") {
          for (var C = Math.min(this.l + h, this.length), T = 0; T < Math.min(g.length, h); ++T) {
            var D = g.charCodeAt(T);
            this[this.l++] = 255 & D, this[this.l++] = D >> 8;
          }
          for (; this.l < C; )
            this[this.l++] = 0;
          return this;
        }
        switch (h) {
          case 1:
            b = 1, this[this.l] = 255 & g;
            break;
          case 2:
            b = 2, this[this.l] = 255 & g, g >>>= 8, this[this.l + 1] = 255 & g;
            break;
          case 3:
            b = 3, this[this.l] = 255 & g, g >>>= 8, this[this.l + 1] = 255 & g, g >>>= 8, this[this.l + 2] = 255 & g;
            break;
          case 4:
            b = 4, $Q(this, g, this.l);
            break;
          case 8:
            if (b = 8, m === "f") {
              (function(I, R, N) {
                var W = (R < 0 || 1 / R == -1 / 0 ? 1 : 0) << 7, H = 0, j = 0, oe = W ? -R : R;
                isFinite(oe) ? oe == 0 ? H = j = 0 : (H = Math.floor(Math.log(oe) / Math.LN2), j = oe * Math.pow(2, 52 - H), H <= -1023 && (!isFinite(j) || j < Math.pow(2, 52)) ? H = -1022 : (j -= Math.pow(2, 52), H += 1023)) : (H = 2047, j = isNaN(R) ? 26985 : 0);
                for (var X = 0; X <= 5; ++X, j /= 256)
                  I[N + X] = 255 & j;
                I[N + 6] = (15 & H) << 4 | 15 & j, I[N + 7] = H >> 4 | W;
              })(this, g, this.l);
              break;
            }
          case 16:
            break;
          case -4:
            b = 4, YQ(this, g, this.l);
        }
      }
      return this.l += b, this;
    }
    function eI(h, g) {
      var m = QM(this, this.l, h.length >> 1);
      if (m !== h)
        throw new Error(g + "Expected " + h + " saw " + m);
      this.l += h.length >> 1;
    }
    function da(h, g) {
      h.l = g, h.read_shift = iv, h.chk = eI, h.write_shift = qQ;
    }
    function Aa(h, g) {
      h.l += g;
    }
    function tt(h) {
      return h = P(h), da(h, 0), h;
    }
    function Hl(h, g, m) {
      if (h) {
        da(h, h.l || 0);
        for (var b, T = h.length, A = 0; h.l < T; ) {
          128 & (A = h.read_shift(1)) && (A = (127 & A) + ((127 & h.read_shift(1)) << 7));
          for (var C, D = Av[A] || Av[65535], I = 127 & (C = h.read_shift(1)), R = 1; R < 4 && 128 & C; ++R)
            I += (127 & (C = h.read_shift(1))) << 7 * R;
          b = h.l + I;
          var N = D.f && D.f(h, I, m);
          if (h.l = b, g(N, D, A))
            return;
        }
      }
    }
    function io() {
      function h(C) {
        return da(C = tt(C), 0), C;
      }
      function g() {
        A && (A.length > A.l && ((A = A.slice(0, A.l)).l = A.length), 0 < A.length && b.push(A), A = null);
      }
      function m(C) {
        return A && C < A.length - A.l ? A : (g(), A = h(Math.max(C + 1, T)));
      }
      var b = [], T = M ? 256 : 2048, A = h(T);
      return { next: m, push: function(C) {
        g(), (A = C).l == null && (A.l = A.length), m(T);
      }, end: function() {
        return g(), G(b);
      }, _bufs: b };
    }
    function ht(h, g, m, b) {
      var T = +g;
      if (!isNaN(T)) {
        g = 1 + (128 <= T ? 1 : 0) + 1, 128 <= (b = b || Av[T].p || (m || []).length || 0) && ++g, 16384 <= b && ++g, 2097152 <= b && ++g;
        var A = h.next(g);
        T <= 127 ? A.write_shift(1, T) : (A.write_shift(1, 128 + (127 & T)), A.write_shift(1, T >> 7));
        for (var C = 0; C != 4; ++C) {
          if (!(128 <= b)) {
            A.write_shift(1, b);
            break;
          }
          A.write_shift(1, 128 + (127 & b)), b >>= 7;
        }
        0 < b && mx(m) && h.push(m);
      }
    }
    function av(h, g, m) {
      var b = Un(h);
      if (g.s ? (b.cRel && (b.c += g.s.c), b.rRel && (b.r += g.s.r)) : (b.cRel && (b.c += g.c), b.rRel && (b.r += g.r)), !m || m.biff < 12) {
        for (; 256 <= b.c; )
          b.c -= 256;
        for (; 65536 <= b.r; )
          b.r -= 65536;
      }
      return b;
    }
    function tI(h, g, m) {
      return h = Un(h), h.s = av(h.s, g.s, m), h.e = av(h.e, g.s, m), h;
    }
    function ov(h, g) {
      if (h.cRel && h.c < 0)
        for (h = Un(h); h.c < 0; )
          h.c += 8 < g ? 16384 : 256;
      if (h.rRel && h.r < 0)
        for (h = Un(h); h.r < 0; )
          h.r += 8 < g ? 1048576 : 5 < g ? 65536 : 16384;
      var m = kr(h);
      return h.cRel || h.cRel == null || (m = m.replace(/^([A-Z])/, "$$$1")), m = !h.rRel && h.rRel != null ? m.replace(/([A-Z]|^)(\d+)$/, "$1$$$2") : m;
    }
    function yx(h, g) {
      return h.s.r != 0 || h.s.rRel || h.e.r != (12 <= g.biff ? 1048575 : 8 <= g.biff ? 65536 : 16384) || h.e.rRel ? h.s.c != 0 || h.s.cRel || h.e.c != (12 <= g.biff ? 16383 : 255) || h.e.cRel ? ov(h.s, g.biff) + ":" + ov(h.e, g.biff) : (h.s.rRel ? "" : "$") + di(h.s.r) + ":" + (h.e.rRel ? "" : "$") + di(h.e.r) : (h.s.cRel ? "" : "$") + Xn(h.s.c) + ":" + (h.e.cRel ? "" : "$") + Xn(h.e.c);
    }
    function _x(h) {
      return parseInt(h.replace(/\$(\d+)$/, "$1"), 10) - 1;
    }
    function di(h) {
      return "" + (h + 1);
    }
    function bx(h) {
      for (var g = h.replace(/^\$([A-Z])/, "$1"), m = 0, b = 0; b !== g.length; ++b)
        m = 26 * m + g.charCodeAt(b) - 64;
      return m - 1;
    }
    function Xn(h) {
      if (h < 0)
        throw new Error("invalid column " + h);
      var g = "";
      for (++h; h; h = Math.floor((h - 1) / 26))
        g = String.fromCharCode((h - 1) % 26 + 65) + g;
      return g;
    }
    function ii(h) {
      for (var g = 0, m = 0, b = 0; b < h.length; ++b) {
        var T = h.charCodeAt(b);
        48 <= T && T <= 57 ? g = 10 * g + (T - 48) : 65 <= T && T <= 90 && (m = 26 * m + (T - 64));
      }
      return { c: m - 1, r: g - 1 };
    }
    function kr(h) {
      for (var g = h.c + 1, m = ""; g; g = (g - 1) / 26 | 0)
        m = String.fromCharCode((g - 1) % 26 + 65) + m;
      return m + (h.r + 1);
    }
    function Ya(h) {
      var g = h.indexOf(":");
      return g == -1 ? { s: ii(h), e: ii(h) } : { s: ii(h.slice(0, g)), e: ii(h.slice(g + 1)) };
    }
    function Ur(h, g) {
      return g === void 0 || typeof g == "number" ? Ur(h.s, h.e) : (h = typeof h != "string" ? kr(h) : h) == (g = typeof g != "string" ? kr(g) : g) ? h : h + ":" + g;
    }
    function nn(h) {
      for (var g = { s: { c: 0, r: 0 }, e: { c: 0, r: 0 } }, A = 0, m = 0, b = 0, T = h.length, A = 0; m < T && !((b = h.charCodeAt(m) - 64) < 1 || 26 < b); ++m)
        A = 26 * A + b;
      for (g.s.c = --A, A = 0; m < T && !((b = h.charCodeAt(m) - 48) < 0 || 9 < b); ++m)
        A = 10 * A + b;
      if (g.s.r = --A, m === T || b != 10)
        return g.e.c = g.s.c, g.e.r = g.s.r, g;
      for (++m, A = 0; m != T && !((b = h.charCodeAt(m) - 64) < 1 || 26 < b); ++m)
        A = 26 * A + b;
      for (g.e.c = --A, A = 0; m != T && !((b = h.charCodeAt(m) - 48) < 0 || 9 < b); ++m)
        A = 10 * A + b;
      return g.e.r = --A, g;
    }
    function XQ(h, g) {
      var m = h.t == "d" && g instanceof Date;
      if (h.z != null)
        try {
          return h.w = wr(h.z, m ? Hi(g) : g);
        } catch {
        }
      try {
        return h.w = wr((h.XF || {}).numFmtId || (m ? 14 : 0), m ? Hi(g) : g);
      } catch {
        return "" + g;
      }
    }
    function Zs(h, g, m) {
      return h == null || h.t == null || h.t == "z" ? "" : h.w !== void 0 ? h.w : (h.t == "d" && !h.z && m && m.dateNF && (h.z = m.dateNF), h.t == "e" ? $l[h.v] || h.v : XQ(h, g ?? h.v));
    }
    function oc(h, b) {
      var m = b && b.sheet ? b.sheet : "Sheet1", b = {};
      return b[m] = h, { SheetNames: [m], Sheets: b };
    }
    function rI(h, g, m) {
      var b = m || {}, T = h ? Array.isArray(h) : b.dense, A = h || (T ? [] : {}), C = 0, D = 0;
      A && b.origin != null && (typeof b.origin == "number" ? C = b.origin : (C = (I = typeof b.origin == "string" ? ii(b.origin) : b.origin).r, D = I.c), A["!ref"] || (A["!ref"] = "A1:A1"));
      var I, R = { s: { c: 1e7, r: 1e7 }, e: { c: 0, r: 0 } };
      A["!ref"] && (I = nn(A["!ref"]), R.s.c = I.s.c, R.s.r = I.s.r, R.e.c = Math.max(R.e.c, I.e.c), R.e.r = Math.max(R.e.r, I.e.r), C == -1 && (R.e.r = C = I.e.r + 1));
      for (var N = 0; N != g.length; ++N)
        if (g[N]) {
          if (!Array.isArray(g[N]))
            throw new Error("aoa_to_sheet expects an array of arrays");
          for (var W = 0; W != g[N].length; ++W)
            if (g[N][W] !== void 0) {
              var H = { v: g[N][W] }, j = C + N, oe = D + W;
              if (R.s.r > j && (R.s.r = j), R.s.c > oe && (R.s.c = oe), R.e.r < j && (R.e.r = j), R.e.c < oe && (R.e.c = oe), !g[N][W] || typeof g[N][W] != "object" || Array.isArray(g[N][W]) || g[N][W] instanceof Date)
                if (Array.isArray(H.v) && (H.f = g[N][W][1], H.v = H.v[0]), H.v === null)
                  if (H.f)
                    H.t = "n";
                  else if (b.nullError)
                    H.t = "e", H.v = 0;
                  else {
                    if (!b.sheetStubs)
                      continue;
                    H.t = "z";
                  }
                else
                  typeof H.v == "number" ? H.t = "n" : typeof H.v == "boolean" ? H.t = "b" : H.v instanceof Date ? (H.z = b.dateNF || De[14], b.cellDates ? (H.t = "d", H.w = wr(H.z, Hi(H.v))) : (H.t = "n", H.v = Hi(H.v), H.w = wr(H.z, H.v))) : H.t = "s";
              else
                H = g[N][W];
              T ? (A[j] || (A[j] = []), A[j][oe] && A[j][oe].z && (H.z = A[j][oe].z), A[j][oe] = H) : (A[j = kr({ c: oe, r: j })] && A[j].z && (H.z = A[j].z), A[j] = H);
            }
        }
      return R.s.c < 1e7 && (A["!ref"] = Ur(R)), A;
    }
    function Nd(h, g) {
      return rI(null, h, g);
    }
    function ys(h, g) {
      return (g = g || tt(4)).write_shift(4, h), g;
    }
    function Ea(h) {
      var g = h.read_shift(4);
      return g === 0 ? "" : h.read_shift(g, "dbcs");
    }
    function ia(h, g) {
      var m = !1;
      return g == null && (m = !0, g = tt(4 + 2 * h.length)), g.write_shift(4, h.length), 0 < h.length && g.write_shift(0, h, "dbcs"), m ? g.slice(0, g.l) : g;
    }
    function Sx(h, g) {
      var m, b = h.l, T = h.read_shift(1), C = Ea(h), A = [], C = { t: C, h: C };
      if (1 & T) {
        for (var D = h.read_shift(4), I = 0; I != D; ++I)
          A.push({ ich: (m = h).read_shift(2), ifnt: m.read_shift(2) });
        C.r = A;
      } else
        C.r = [{ ich: 0, ifnt: 0 }];
      return h.l = b + g, C;
    }
    var KQ = Sx;
    function ZQ(h, g) {
      var m, b = !1;
      return g == null && (b = !0, g = tt(23 + 4 * h.t.length)), g.write_shift(1, 1), ia(h.t, g), g.write_shift(4, 1), m = { ich: 0, ifnt: 0 }, (h = (h = g) || tt(4)).write_shift(2, m.ich || 0), h.write_shift(2, m.ifnt || 0), b ? g.slice(0, g.l) : g;
    }
    function Fo(h) {
      var g = h.read_shift(4), m = h.read_shift(2);
      return m += h.read_shift(1) << 16, h.l++, { c: g, iStyleRef: m };
    }
    function yh(h, g) {
      return (g = g ?? tt(8)).write_shift(-4, h.c), g.write_shift(3, h.iStyleRef || h.s), g.write_shift(1, 0), g;
    }
    function _h(h) {
      var g = h.read_shift(2);
      return g += h.read_shift(1) << 16, h.l++, { c: -1, iStyleRef: g };
    }
    function bh(h, g) {
      return (g = g ?? tt(4)).write_shift(3, h.iStyleRef || h.s), g.write_shift(1, 0), g;
    }
    var JQ = Ea, nI = ia;
    function xx(h) {
      var g = h.read_shift(4);
      return g === 0 || g === 4294967295 ? "" : h.read_shift(g, "dbcs");
    }
    function Mm(h, g) {
      var m = !1;
      return g == null && (m = !0, g = tt(127)), g.write_shift(4, 0 < h.length ? h.length : 4294967295), 0 < h.length && g.write_shift(0, h, "dbcs"), m ? g.slice(0, g.l) : g;
    }
    var QQ = Ea, Tx = xx, Cx = Mm;
    function Ax(h) {
      var g = h.slice(h.l, h.l + 4), m = 1 & g[0], b = 2 & g[0];
      return h.l += 4, g = b == 0 ? km([0, 0, 0, 0, 252 & g[0], g[1], g[2], g[3]], 0) : mh(g, 0) >> 2, m ? g / 100 : g;
    }
    function iI(h, g) {
      g == null && (g = tt(4));
      var m = 0, b = 0, T = 100 * h;
      if (h == (0 | h) && -(1 << 29) <= h && h < 1 << 29 ? b = 1 : T == (0 | T) && -(1 << 29) <= T && T < 1 << 29 && (m = b = 1), !b)
        throw new Error("unsupported RkNumber " + h);
      g.write_shift(-4, ((m ? T : h) << 2) + (m + 2));
    }
    function aI(h) {
      var g = { s: {}, e: {} };
      return g.s.r = h.read_shift(4), g.e.r = h.read_shift(4), g.s.c = h.read_shift(4), g.e.c = h.read_shift(4), g;
    }
    var wh = aI, Bd = function(h, g) {
      return (g = g || tt(16)).write_shift(4, h.s.r), g.write_shift(4, h.e.r), g.write_shift(4, h.s.c), g.write_shift(4, h.e.c), g;
    };
    function Da(h) {
      if (h.length - h.l < 8)
        throw "XLS Xnum Buffer underflow";
      return h.read_shift(8, "f");
    }
    function Vd(h, g) {
      return (g || tt(8)).write_shift(8, h, "f");
    }
    function Im(h, g) {
      if (g = g || tt(8), !h || h.auto)
        return g.write_shift(4, 0), g.write_shift(4, 0), g;
      h.index != null ? (g.write_shift(1, 2), g.write_shift(1, h.index)) : h.theme != null ? (g.write_shift(1, 6), g.write_shift(1, h.theme)) : (g.write_shift(1, 5), g.write_shift(1, 0));
      var m = h.tint || 0;
      return 0 < m ? m *= 32767 : m < 0 && (m *= 32768), g.write_shift(2, m), h.rgb && h.theme == null ? (typeof (h = h.rgb || "FFFFFF") == "number" && (h = ("000000" + h.toString(16)).slice(-6)), g.write_shift(1, parseInt(h.slice(0, 2), 16)), g.write_shift(1, parseInt(h.slice(2, 4), 16)), g.write_shift(1, parseInt(h.slice(4, 6), 16)), g.write_shift(1, 255)) : (g.write_shift(2, 0), g.write_shift(1, 0), g.write_shift(1, 0)), g;
    }
    function oI(h, g) {
      var m = h.read_shift(4);
      switch (m) {
        case 0:
          return "";
        case 4294967295:
        case 4294967294:
          return { 2: "BITMAP", 3: "METAFILEPICT", 8: "DIB", 14: "ENHMETAFILE" }[h.read_shift(4)] || "";
      }
      if (400 < m)
        throw new Error("Unsupported Clipboard: " + m.toString(16));
      return h.l -= 4, h.read_shift(0, g == 1 ? "lpstr" : "lpwstr");
    }
    var Ex = 2, ao = 3, sI = 12, lI = 81, eee = [80, lI], Dx = { 1: { n: "CodePage", t: Ex }, 2: { n: "Category", t: 80 }, 3: { n: "PresentationFormat", t: 80 }, 4: { n: "ByteCount", t: ao }, 5: { n: "LineCount", t: ao }, 6: { n: "ParagraphCount", t: ao }, 7: { n: "SlideCount", t: ao }, 8: { n: "NoteCount", t: ao }, 9: { n: "HiddenCount", t: ao }, 10: { n: "MultimediaClipCount", t: ao }, 11: { n: "ScaleCrop", t: 11 }, 12: { n: "HeadingPairs", t: 4108 }, 13: { n: "TitlesOfParts", t: 4126 }, 14: { n: "Manager", t: 80 }, 15: { n: "Company", t: 80 }, 16: { n: "LinksUpToDate", t: 11 }, 17: { n: "CharacterCount", t: ao }, 19: { n: "SharedDoc", t: 11 }, 22: { n: "HyperlinksChanged", t: 11 }, 23: { n: "AppVersion", t: ao, p: "version" }, 24: { n: "DigSig", t: 65 }, 26: { n: "ContentType", t: 80 }, 27: { n: "ContentStatus", t: 80 }, 28: { n: "Language", t: 80 }, 29: { n: "Version", t: 80 }, 255: {}, 2147483648: { n: "Locale", t: 19 }, 2147483651: { n: "Behavior", t: 19 }, 1919054434: {} }, kx = { 1: { n: "CodePage", t: Ex }, 2: { n: "Title", t: 80 }, 3: { n: "Subject", t: 80 }, 4: { n: "Author", t: 80 }, 5: { n: "Keywords", t: 80 }, 6: { n: "Comments", t: 80 }, 7: { n: "Template", t: 80 }, 8: { n: "LastAuthor", t: 80 }, 9: { n: "RevNumber", t: 80 }, 10: { n: "EditTime", t: 64 }, 11: { n: "LastPrinted", t: 64 }, 12: { n: "CreatedDate", t: 64 }, 13: { n: "ModifiedDate", t: 64 }, 14: { n: "PageCount", t: ao }, 15: { n: "WordCount", t: ao }, 16: { n: "CharCount", t: ao }, 17: { n: "Thumbnail", t: 71 }, 18: { n: "Application", t: 80 }, 19: { n: "DocSecurity", t: ao }, 255: {}, 2147483648: { n: "Locale", t: 19 }, 2147483651: { n: "Behavior", t: 19 }, 1919054434: {} }, uI = { 1: "US", 2: "CA", 3: "", 7: "RU", 20: "EG", 30: "GR", 31: "NL", 32: "BE", 33: "FR", 34: "ES", 36: "HU", 39: "IT", 41: "CH", 43: "AT", 44: "GB", 45: "DK", 46: "SE", 47: "NO", 48: "PL", 49: "DE", 52: "MX", 55: "BR", 61: "AU", 64: "NZ", 66: "TH", 81: "JP", 82: "KR", 84: "VN", 86: "CN", 90: "TR", 105: "JS", 213: "DZ", 216: "MA", 218: "LY", 351: "PT", 354: "IS", 358: "FI", 420: "CZ", 886: "TW", 961: "LB", 962: "JO", 963: "SY", 964: "IQ", 965: "KW", 966: "SA", 971: "AE", 972: "IL", 974: "QA", 981: "IR", 65535: "US" }, tee = [null, "solid", "mediumGray", "darkGray", "lightGray", "darkHorizontal", "darkVertical", "darkDown", "darkUp", "darkGrid", "darkTrellis", "lightHorizontal", "lightVertical", "lightDown", "lightUp", "lightGrid", "lightTrellis", "gray125", "gray0625"], sv = Un([0, 16777215, 16711680, 65280, 255, 16776960, 16711935, 65535, 0, 16777215, 16711680, 65280, 255, 16776960, 16711935, 65535, 8388608, 32768, 128, 8421376, 8388736, 32896, 12632256, 8421504, 10066431, 10040166, 16777164, 13434879, 6684774, 16744576, 26316, 13421823, 128, 16711935, 16776960, 65535, 8388736, 8388608, 32896, 255, 52479, 13434879, 13434828, 16777113, 10079487, 16751052, 13408767, 16764057, 3368703, 3394764, 10079232, 16763904, 16750848, 16737792, 6710937, 9868950, 13158, 3381606, 13056, 3355392, 10040064, 10040166, 3355545, 3355443, 16777215, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0].map(function(h) {
      return [h >> 16 & 255, h >> 8 & 255, 255 & h];
    })), $l = { 0: "#NULL!", 7: "#DIV/0!", 15: "#VALUE!", 23: "#REF!", 29: "#NAME?", 36: "#NUM!", 42: "#N/A", 43: "#GETTING_DATA", 255: "#WTF?" }, cI = { "#NULL!": 0, "#DIV/0!": 7, "#VALUE!": 15, "#REF!": 23, "#NAME?": 29, "#NUM!": 36, "#N/A": 42, "#GETTING_DATA": 43, "#WTF?": 255 }, Mx = { "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml": "workbooks", "application/vnd.ms-excel.sheet.macroEnabled.main+xml": "workbooks", "application/vnd.ms-excel.sheet.binary.macroEnabled.main": "workbooks", "application/vnd.ms-excel.addin.macroEnabled.main+xml": "workbooks", "application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml": "workbooks", "application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml": "sheets", "application/vnd.ms-excel.worksheet": "sheets", "application/vnd.ms-excel.binIndexWs": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml": "charts", "application/vnd.ms-excel.chartsheet": "charts", "application/vnd.ms-excel.macrosheet+xml": "macros", "application/vnd.ms-excel.macrosheet": "macros", "application/vnd.ms-excel.intlmacrosheet": "TODO", "application/vnd.ms-excel.binIndexMs": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml": "dialogs", "application/vnd.ms-excel.dialogsheet": "dialogs", "application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml": "strs", "application/vnd.ms-excel.sharedStrings": "strs", "application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml": "styles", "application/vnd.ms-excel.styles": "styles", "application/vnd.openxmlformats-package.core-properties+xml": "coreprops", "application/vnd.openxmlformats-officedocument.custom-properties+xml": "custprops", "application/vnd.openxmlformats-officedocument.extended-properties+xml": "extprops", "application/vnd.openxmlformats-officedocument.customXmlProperties+xml": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml": "comments", "application/vnd.ms-excel.comments": "comments", "application/vnd.ms-excel.threadedcomments+xml": "threadedcomments", "application/vnd.ms-excel.person+xml": "people", "application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml": "metadata", "application/vnd.ms-excel.sheetMetadata": "metadata", "application/vnd.ms-excel.pivotTable": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml": "TODO", "application/vnd.openxmlformats-officedocument.drawingml.chart+xml": "TODO", "application/vnd.ms-office.chartcolorstyle+xml": "TODO", "application/vnd.ms-office.chartstyle+xml": "TODO", "application/vnd.ms-office.chartex+xml": "TODO", "application/vnd.ms-excel.calcChain": "calcchains", "application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml": "calcchains", "application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings": "TODO", "application/vnd.ms-office.activeX": "TODO", "application/vnd.ms-office.activeX+xml": "TODO", "application/vnd.ms-excel.attachedToolbars": "TODO", "application/vnd.ms-excel.connections": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml": "TODO", "application/vnd.ms-excel.externalLink": "links", "application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml": "links", "application/vnd.ms-excel.pivotCacheDefinition": "TODO", "application/vnd.ms-excel.pivotCacheRecords": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml": "TODO", "application/vnd.ms-excel.queryTable": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml": "TODO", "application/vnd.ms-excel.userNames": "TODO", "application/vnd.ms-excel.revisionHeaders": "TODO", "application/vnd.ms-excel.revisionLog": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml": "TODO", "application/vnd.ms-excel.tableSingleCells": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml": "TODO", "application/vnd.ms-excel.slicer": "TODO", "application/vnd.ms-excel.slicerCache": "TODO", "application/vnd.ms-excel.slicer+xml": "TODO", "application/vnd.ms-excel.slicerCache+xml": "TODO", "application/vnd.ms-excel.wsSortMap": "TODO", "application/vnd.ms-excel.table": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml": "TODO", "application/vnd.openxmlformats-officedocument.theme+xml": "themes", "application/vnd.openxmlformats-officedocument.themeOverride+xml": "TODO", "application/vnd.ms-excel.Timeline+xml": "TODO", "application/vnd.ms-excel.TimelineCache+xml": "TODO", "application/vnd.ms-office.vbaProject": "vba", "application/vnd.ms-office.vbaProjectSignature": "TODO", "application/vnd.ms-office.volatileDependencies": "TODO", "application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml": "TODO", "application/vnd.ms-excel.controlproperties+xml": "TODO", "application/vnd.openxmlformats-officedocument.model+data": "TODO", "application/vnd.ms-excel.Survey+xml": "TODO", "application/vnd.openxmlformats-officedocument.drawing+xml": "drawings", "application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml": "TODO", "application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml": "TODO", "application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml": "TODO", "application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml": "TODO", "application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml": "TODO", "application/vnd.openxmlformats-officedocument.vmlDrawing": "TODO", "application/vnd.openxmlformats-package.relationships+xml": "rels", "application/vnd.openxmlformats-officedocument.oleObject": "TODO", "image/png": "TODO", sheet: "js" }, Pm = { workbooks: { xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml", xlsm: "application/vnd.ms-excel.sheet.macroEnabled.main+xml", xlsb: "application/vnd.ms-excel.sheet.binary.macroEnabled.main", xlam: "application/vnd.ms-excel.addin.macroEnabled.main+xml", xltx: "application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml" }, strs: { xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml", xlsb: "application/vnd.ms-excel.sharedStrings" }, comments: { xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml", xlsb: "application/vnd.ms-excel.comments" }, sheets: { xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml", xlsb: "application/vnd.ms-excel.worksheet" }, charts: { xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml", xlsb: "application/vnd.ms-excel.chartsheet" }, dialogs: { xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml", xlsb: "application/vnd.ms-excel.dialogsheet" }, macros: { xlsx: "application/vnd.ms-excel.macrosheet+xml", xlsb: "application/vnd.ms-excel.macrosheet" }, metadata: { xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml", xlsb: "application/vnd.ms-excel.sheetMetadata" }, styles: { xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml", xlsb: "application/vnd.ms-excel.styles" } };
    function Ix() {
      return { workbooks: [], sheets: [], charts: [], dialogs: [], macros: [], rels: [], strs: [], comments: [], threadedcomments: [], links: [], coreprops: [], extprops: [], custprops: [], themes: [], styles: [], calcchains: [], vba: [], drawings: [], metadata: [], people: [], TODO: [], xmlns: "" };
    }
    function hI(h, g) {
      var m, b = function(I) {
        for (var R = [], N = hi(I), W = 0; W !== N.length; ++W)
          R[I[N[W]]] == null && (R[I[N[W]]] = []), R[I[N[W]]].push(N[W]);
        return R;
      }(Mx), T = [];
      T[T.length] = Ti, T[T.length] = Rt("Types", null, { xmlns: $i.CT, "xmlns:xsd": $i.xsd, "xmlns:xsi": $i.xsi }), T = T.concat([["xml", "application/xml"], ["bin", "application/vnd.ms-excel.sheet.binary.macroEnabled.main"], ["vml", "application/vnd.openxmlformats-officedocument.vmlDrawing"], ["data", "application/vnd.openxmlformats-officedocument.model+data"], ["bmp", "image/bmp"], ["png", "image/png"], ["gif", "image/gif"], ["emf", "image/x-emf"], ["wmf", "image/x-wmf"], ["jpg", "image/jpeg"], ["jpeg", "image/jpeg"], ["tif", "image/tiff"], ["tiff", "image/tiff"], ["pdf", "application/pdf"], ["rels", "application/vnd.openxmlformats-package.relationships+xml"]].map(function(I) {
        return Rt("Default", null, { Extension: I[0], ContentType: I[1] });
      }));
      function A(I) {
        h[I] && 0 < h[I].length && (m = h[I][0], T[T.length] = Rt("Override", null, { PartName: (m[0] == "/" ? "" : "/") + m, ContentType: Pm[I][g.bookType] || Pm[I].xlsx }));
      }
      function C(I) {
        (h[I] || []).forEach(function(R) {
          T[T.length] = Rt("Override", null, { PartName: (R[0] == "/" ? "" : "/") + R, ContentType: Pm[I][g.bookType] || Pm[I].xlsx });
        });
      }
      function D(I) {
        (h[I] || []).forEach(function(R) {
          T[T.length] = Rt("Override", null, { PartName: (R[0] == "/" ? "" : "/") + R, ContentType: b[I][0] });
        });
      }
      return A("workbooks"), C("sheets"), C("charts"), D("themes"), ["strs", "styles"].forEach(A), ["coreprops", "extprops", "custprops"].forEach(D), D("vba"), D("comments"), D("threadedcomments"), D("drawings"), C("metadata"), D("people"), 2 < T.length && (T[T.length] = "</Types>", T[1] = T[1].replace("/>", ">")), T.join("");
    }
    var $r = { WB: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument", SHEET: "http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument", HLINK: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink", VML: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing", XPATH: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath", XMISS: "http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing", XLINK: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink", CXML: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml", CXMLP: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps", CMNT: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments", CORE_PROPS: "http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties", EXT_PROPS: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties", CUST_PROPS: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties", SST: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings", STY: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles", THEME: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme", CHART: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart", CHARTEX: "http://schemas.microsoft.com/office/2014/relationships/chartEx", CS: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet", WS: ["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet", "http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"], DS: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet", MS: "http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet", IMG: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/image", DRAW: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing", XLMETA: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata", TCMNT: "http://schemas.microsoft.com/office/2017/10/relationships/threadedComment", PEOPLE: "http://schemas.microsoft.com/office/2017/10/relationships/person", VBA: "http://schemas.microsoft.com/office/2006/relationships/vbaProject" };
    function lv(h) {
      var g = h.lastIndexOf("/");
      return h.slice(0, g + 1) + "_rels/" + h.slice(g + 1) + ".rels";
    }
    function uv(h, g) {
      var m = { "!id": {} };
      if (!h)
        return m;
      g.charAt(0) !== "/" && (g = "/" + g);
      var b = {};
      return (h.match(Ca) || []).forEach(function(T) {
        var A, C = Dr(T);
        C[0] === "<Relationship" && ((A = {}).Type = C.Type, A.Target = C.Target, A.Id = C.Id, C.TargetMode && (A.TargetMode = C.TargetMode), T = C.TargetMode === "External" ? C.Target : ev(C.Target, g), m[T] = A, b[C.Id] = A);
      }), m["!id"] = b, m;
    }
    function Ud(h) {
      var g = [Ti, Rt("Relationships", null, { xmlns: $i.RELS })];
      return hi(h["!id"]).forEach(function(m) {
        g[g.length] = Rt("Relationship", null, h["!id"][m]);
      }), 2 < g.length && (g[g.length] = "</Relationships>", g[1] = g[1].replace("/>", ">")), g.join("");
    }
    function kn(h, g, m, b, T, A) {
      if (T = T || {}, h["!id"] || (h["!id"] = {}), h["!idx"] || (h["!idx"] = 1), g < 0)
        for (g = h["!idx"]; h["!id"]["rId" + g]; ++g)
          ;
      if (h["!idx"] = g + 1, T.Id = "rId" + g, T.Type = b, T.Target = m, A ? T.TargetMode = A : -1 < [$r.HLINK, $r.XPATH, $r.XMISS].indexOf(T.Type) && (T.TargetMode = "External"), h["!id"][T.Id])
        throw new Error("Cannot rewrite rId " + g);
      return h["!id"][T.Id] = T, h[("/" + T.Target).replace("//", "/")] = T, g;
    }
    var ree = "application/vnd.oasis.opendocument.spreadsheet";
    function fI(h, g, m) {
      return ['  <rdf:Description rdf:about="' + h + `">
`, '    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/' + (m || "odf") + "#" + g + `"/>
`, `  </rdf:Description>
`].join("");
    }
    function dI() {
      return '<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS ' + a.version + "</meta:generator></office:meta></office:document-meta>";
    }
    var No = [["cp:category", "Category"], ["cp:contentStatus", "ContentStatus"], ["cp:keywords", "Keywords"], ["cp:lastModifiedBy", "LastAuthor"], ["cp:lastPrinted", "LastPrinted"], ["cp:revision", "RevNumber"], ["cp:version", "Version"], ["dc:creator", "Author"], ["dc:description", "Comments"], ["dc:identifier", "Identifier"], ["dc:language", "Language"], ["dc:subject", "Subject"], ["dc:title", "Title"], ["dcterms:created", "CreatedDate", "date"], ["dcterms:modified", "ModifiedDate", "date"]], nee = function() {
      for (var h = new Array(No.length), g = 0; g < No.length; ++g) {
        var m = No[g], m = "(?:" + m[0].slice(0, m[0].indexOf(":")) + ":)" + m[0].slice(m[0].indexOf(":") + 1);
        h[g] = new RegExp("<" + m + "[^>]*>([\\s\\S]*?)</" + m + ">");
      }
      return h;
    }();
    function pI(h) {
      var g = {};
      h = Rn(h);
      for (var m = 0; m < No.length; ++m) {
        var b = No[m], T = h.match(nee[m]);
        T != null && 0 < T.length && (g[b[1]] = dn(T[1])), b[2] === "date" && g[b[1]] && (g[b[1]] = jn(g[b[1]]));
      }
      return g;
    }
    function Px(h, g, m, b, T) {
      T[h] == null && g != null && g !== "" && (g = Dn(T[h] = g), b[b.length] = m ? Rt(h, g, m) : fa(h, g));
    }
    function vI(h, g) {
      var m = g || {}, b = [Ti, Rt("cp:coreProperties", null, { "xmlns:cp": $i.CORE_PROPS, "xmlns:dc": $i.dc, "xmlns:dcterms": $i.dcterms, "xmlns:dcmitype": $i.dcmitype, "xmlns:xsi": $i.xsi })], T = {};
      if (!h && !m.Props)
        return b.join("");
      h && (h.CreatedDate != null && Px("dcterms:created", typeof h.CreatedDate == "string" ? h.CreatedDate : cx(h.CreatedDate, m.WTF), { "xsi:type": "dcterms:W3CDTF" }, b, T), h.ModifiedDate != null && Px("dcterms:modified", typeof h.ModifiedDate == "string" ? h.ModifiedDate : cx(h.ModifiedDate, m.WTF), { "xsi:type": "dcterms:W3CDTF" }, b, T));
      for (var A = 0; A != No.length; ++A) {
        var C = No[A], D = m.Props && m.Props[C[1]] != null ? m.Props[C[1]] : h ? h[C[1]] : null;
        D === !0 ? D = "1" : D === !1 ? D = "0" : typeof D == "number" && (D = String(D)), D != null && Px(C[0], D, null, b, T);
      }
      return 2 < b.length && (b[b.length] = "</cp:coreProperties>", b[1] = b[1].replace("/>", ">")), b.join("");
    }
    var Sh = [["Application", "Application", "string"], ["AppVersion", "AppVersion", "string"], ["Company", "Company", "string"], ["DocSecurity", "DocSecurity", "string"], ["Manager", "Manager", "string"], ["HyperlinksChanged", "HyperlinksChanged", "bool"], ["SharedDoc", "SharedDoc", "bool"], ["LinksUpToDate", "LinksUpToDate", "bool"], ["ScaleCrop", "ScaleCrop", "bool"], ["HeadingPairs", "HeadingPairs", "raw"], ["TitlesOfParts", "TitlesOfParts", "raw"]], gI = ["Worksheets", "SheetNames", "NamedRanges", "DefinedNames", "Chartsheets", "ChartNames"];
    function mI(h, g, m, b) {
      var T = [];
      if (typeof h == "string")
        T = UM(h, b);
      else
        for (var A = 0; A < h.length; ++A)
          T = T.concat(h[A].map(function(N) {
            return { v: N };
          }));
      var C, D = typeof g == "string" ? UM(g, b).map(function(N) {
        return N.v;
      }) : g, I = 0;
      if (0 < D.length)
        for (var R = 0; R !== T.length; R += 2) {
          switch (C = +T[R + 1].v, T[R].v) {
            case "Worksheets":
            case "":
            case "":
            case " ":
            case "":
            case " ":
            case "Arbeitsbltter":
            case "alma Sayfalar":
            case "Feuilles de calcul":
            case "Fogli di lavoro":
            case "Folhas de clculo":
            case "Planilhas":
            case "Regneark":
            case "Hojas de clculo":
            case "Werkbladen":
              m.Worksheets = C, m.SheetNames = D.slice(I, I + C);
              break;
            case "Named Ranges":
            case "Rangos con nombre":
            case "":
            case "Benannte Bereiche":
            case "Navngivne omrder":
              m.NamedRanges = C, m.DefinedNames = D.slice(I, I + C);
              break;
            case "Charts":
            case "Diagramme":
              m.Chartsheets = C, m.ChartNames = D.slice(I, I + C);
          }
          I += C;
        }
    }
    function yI(h) {
      var g = [], m = Rt;
      return (h = h || {}).Application = "SheetJS", g[g.length] = Ti, g[g.length] = Rt("Properties", null, { xmlns: $i.EXT_PROPS, "xmlns:vt": $i.vt }), Sh.forEach(function(b) {
        if (h[b[1]] !== void 0) {
          var T;
          switch (b[2]) {
            case "string":
              T = Dn(String(h[b[1]]));
              break;
            case "bool":
              T = h[b[1]] ? "true" : "false";
          }
          T !== void 0 && (g[g.length] = m(b[0], T));
        }
      }), g[g.length] = m("HeadingPairs", m("vt:vector", m("vt:variant", "<vt:lpstr>Worksheets</vt:lpstr>") + m("vt:variant", m("vt:i4", String(h.Worksheets))), { size: 2, baseType: "variant" })), g[g.length] = m("TitlesOfParts", m("vt:vector", h.SheetNames.map(function(b) {
        return "<vt:lpstr>" + Dn(b) + "</vt:lpstr>";
      }).join(""), { size: h.Worksheets, baseType: "lpstr" })), 2 < g.length && (g[g.length] = "</Properties>", g[1] = g[1].replace("/>", ">")), g.join("");
    }
    var iee = /<[^>]+>[^<]*/g;
    function _I(h) {
      var g = [Ti, Rt("Properties", null, { xmlns: $i.CUST_PROPS, "xmlns:vt": $i.vt })];
      if (!h)
        return g.join("");
      var m = 1;
      return hi(h).forEach(function(b) {
        ++m, g[g.length] = Rt("property", function(T, A) {
          switch (typeof T) {
            case "string":
              var C = Rt("vt:lpwstr", Dn(T));
              return C = A ? C.replace(/&quot;/g, "_x0022_") : C;
            case "number":
              return Rt((0 | T) == T ? "vt:i4" : "vt:r8", Dn(String(T)));
            case "boolean":
              return Rt("vt:bool", T ? "true" : "false");
          }
          if (T instanceof Date)
            return Rt("vt:filetime", cx(T));
          throw new Error("Unable to serialize " + T);
        }(h[b], !0), { fmtid: "{D5CDD505-2E9C-101B-9397-08002B2CF9AE}", pid: m, name: Dn(b) });
      }), 2 < g.length && (g[g.length] = "</Properties>", g[1] = g[1].replace("/>", ">")), g.join("");
    }
    var bI, Rx = { Title: "Title", Subject: "Subject", Author: "Author", Keywords: "Keywords", Comments: "Description", LastAuthor: "LastAuthor", RevNumber: "Revision", Application: "AppName", LastPrinted: "LastPrinted", CreatedDate: "Created", ModifiedDate: "LastSaved", Category: "Category", Manager: "Manager", Company: "Company", AppVersion: "Version", ContentStatus: "ContentStatus", Identifier: "Identifier", Language: "Language" };
    function Lx(m) {
      var g = m.read_shift(4), m = m.read_shift(4);
      return new Date(1e3 * (m / 1e7 * Math.pow(2, 32) + g / 1e7 - 11644473600)).toISOString().replace(/\.000/, "");
    }
    function wI(h, g, m) {
      var b = h.l, T = h.read_shift(0, "lpstr-cp");
      if (m)
        for (; h.l - b & 3; )
          ++h.l;
      return T;
    }
    function SI(h, g, m) {
      var b = h.read_shift(0, "lpwstr");
      return m && (h.l += 4 - (b.length + 1 & 3) & 3), b;
    }
    function xI(h, g, m) {
      return g === 31 ? SI(h) : wI(h, 0, m);
    }
    function TI(h, g, m) {
      return xI(h, g, m === !1 ? 0 : 4);
    }
    function aee(h) {
      for (var g, m, b, T = h.read_shift(4), A = [], C = 0; C < T / 2; ++C)
        A.push((b = m = void 0, m = (g = h).l, b = Rm(g, lI), g[g.l] == 0 && g[g.l + 1] == 0 && g.l - m & 2 && (g.l += 2), [b, Rm(g, ao)]));
      return A;
    }
    function CI(h, g) {
      for (var m = h.read_shift(4), b = {}, T = 0; T != m; ++T) {
        var A = h.read_shift(4), C = h.read_shift(4);
        b[A] = h.read_shift(C, g === 1200 ? "utf16le" : "utf8").replace(Z, "").replace(Q, "!"), g === 1200 && C % 2 && (h.l += 2);
      }
      return 3 & h.l && (h.l = h.l >> 3 << 2), b;
    }
    function AI(h) {
      var g = h.read_shift(4), m = h.slice(h.l, h.l + g);
      return h.l += g, 0 < (3 & g) && (h.l += 4 - (3 & g) & 3), m;
    }
    function Rm(h, g, m) {
      var b, T, A = h.read_shift(2), C = m || {};
      if (h.l += 2, g !== sI && A !== g && eee.indexOf(g) === -1 && ((65534 & g) != 4126 || (65534 & A) != 4126))
        throw new Error("Expected type " + g + " saw " + A);
      switch (g === sI ? A : g) {
        case 2:
          return b = h.read_shift(2, "i"), C.raw || (h.l += 2), b;
        case 3:
          return b = h.read_shift(4, "i");
        case 11:
          return h.read_shift(4) !== 0;
        case 19:
          return b = h.read_shift(4);
        case 30:
          return wI(h, 0, 4).replace(Z, "");
        case 31:
          return SI(h);
        case 64:
          return Lx(h);
        case 65:
          return AI(h);
        case 71:
          return (T = {}).Size = (b = h).read_shift(4), b.l += T.Size + 3 - (T.Size - 1) % 4, T;
        case 80:
          return TI(h, A, !C.raw).replace(Z, "");
        case 81:
          return function(D, I) {
            if (!I)
              throw new Error("VtUnalignedString must have positive length");
            return xI(D, I, 0);
          }(h, A).replace(Z, "");
        case 4108:
          return aee(h);
        case 4126:
        case 4127:
          return (A == 4127 ? function(D) {
            for (var I = D.read_shift(4), R = [], N = 0; N != I; ++N) {
              var W = D.l;
              R[N] = D.read_shift(0, "lpwstr").replace(Z, ""), D.l - W & 2 && (D.l += 2);
            }
            return R;
          } : function(D) {
            for (var I = D.read_shift(4), R = [], N = 0; N != I; ++N)
              R[N] = D.read_shift(0, "lpstr-cp").replace(Z, "");
            return R;
          })(h);
        default:
          throw new Error("TypedPropertyValue unrecognized type " + g + " " + A);
      }
    }
    function EI(h, g) {
      var m, b, T, A = tt(4), C = tt(4);
      switch (A.write_shift(4, h == 80 ? 31 : h), h) {
        case 3:
          C.write_shift(-4, g);
          break;
        case 5:
          (C = tt(8)).write_shift(8, g, "f");
          break;
        case 11:
          C.write_shift(4, g ? 1 : 0);
          break;
        case 64:
          b = (typeof (m = g) == "string" ? new Date(Date.parse(m)) : m).getTime() / 1e3 + 11644473600, T = b % Math.pow(2, 32), m = (b - T) / Math.pow(2, 32), m *= 1e7, 0 < (b = (T *= 1e7) / Math.pow(2, 32) | 0) && (T %= Math.pow(2, 32), m += b), (b = tt(8)).write_shift(4, T), b.write_shift(4, m), C = b;
          break;
        case 31:
        case 80:
          for ((C = tt(4 + 2 * (g.length + 1) + (g.length % 2 ? 0 : 2))).write_shift(4, g.length + 1), C.write_shift(0, g, "dbcs"); C.l != C.length; )
            C.write_shift(1, 0);
          break;
        default:
          throw new Error("TypedPropertyValue unrecognized type " + h + " " + g);
      }
      return G([A, C]);
    }
    function DI(h, g) {
      for (var m = h.l, b = h.read_shift(4), T = h.read_shift(4), A = [], R = 0, C = 0, D = -1, I = {}, R = 0; R != T; ++R) {
        var N = h.read_shift(4), W = h.read_shift(4);
        A[R] = [N, W + m];
      }
      A.sort(function(ue, ee) {
        return ue[1] - ee[1];
      });
      var H = {};
      for (R = 0; R != T; ++R) {
        if (h.l !== A[R][1]) {
          var j = !0;
          if (0 < R && g)
            switch (g[A[R - 1][0]].t) {
              case 2:
                h.l + 2 === A[R][1] && (h.l += 2, j = !1);
                break;
              case 80:
              case 4108:
                h.l <= A[R][1] && (h.l = A[R][1], j = !1);
            }
          if ((!g || R == 0) && h.l <= A[R][1] && (j = !1, h.l = A[R][1]), j)
            throw new Error("Read Error: Expected address " + A[R][1] + " at " + h.l + " :" + R);
        }
        if (g) {
          var oe = g[A[R][0]];
          if (H[oe.n] = Rm(h, oe.t, { raw: !0 }), oe.p === "version" && (H[oe.n] = String(H[oe.n] >> 16) + "." + ("0000" + String(65535 & H[oe.n])).slice(-4)), oe.n == "CodePage")
            switch (H[oe.n]) {
              case 0:
                H[oe.n] = 1252;
              case 874:
              case 932:
              case 936:
              case 949:
              case 950:
              case 1250:
              case 1251:
              case 1253:
              case 1254:
              case 1255:
              case 1256:
              case 1257:
              case 1258:
              case 1e4:
              case 1200:
              case 1201:
              case 1252:
              case 65e3:
              case -536:
              case 65001:
              case -535:
                f(C = H[oe.n] >>> 0 & 65535);
                break;
              default:
                throw new Error("Unsupported CodePage: " + H[oe.n]);
            }
        } else if (A[R][0] === 1)
          C = H.CodePage = Rm(h, Ex), f(C), D !== -1 && (_e = h.l, h.l = A[D][1], I = CI(h, C), h.l = _e);
        else if (A[R][0] === 0)
          C !== 0 ? I = CI(h, C) : (D = R, h.l = A[R + 1][1]);
        else {
          var X, _e = I[A[R][0]];
          switch (h[h.l]) {
            case 65:
              h.l += 4, X = AI(h);
              break;
            case 30:
            case 31:
              h.l += 4, X = TI(h, h[h.l - 4]).replace(/\u0000+$/, "");
              break;
            case 3:
              h.l += 4, X = h.read_shift(4, "i");
              break;
            case 19:
              h.l += 4, X = h.read_shift(4);
              break;
            case 5:
              h.l += 4, X = h.read_shift(8, "f");
              break;
            case 11:
              h.l += 4, X = Ci(h, 4);
              break;
            case 64:
              h.l += 4, X = jn(Lx(h));
              break;
            default:
              throw new Error("unparsed value: " + h[h.l]);
          }
          H[_e] = X;
        }
      }
      return h.l = m + b, H;
    }
    var kI = ["CodePage", "Thumbnail", "_PID_LINKBASE", "_PID_HLINKS", "SystemIdentifier", "FMTID"];
    function MI(h, g, m) {
      var b, T, A, C, D = tt(8), I = [], R = [], N = 8, W = 0, H = tt(8), j = tt(8);
      if (H.write_shift(4, 2), H.write_shift(4, 1200), j.write_shift(4, 1), R.push(H), I.push(j), N += 8 + H.length, !g) {
        (j = tt(8)).write_shift(4, 0), I.unshift(j);
        var oe = [tt(4)];
        for (oe[0].write_shift(4, h.length), W = 0; W < h.length; ++W) {
          var X = h[W][0];
          for ((H = tt(8 + 2 * (X.length + 1) + (X.length % 2 ? 0 : 2))).write_shift(4, W + 2), H.write_shift(4, X.length + 1), H.write_shift(0, X, "dbcs"); H.l != H.length; )
            H.write_shift(1, 0);
          oe.push(H);
        }
        H = G(oe), R.unshift(H), N += 8 + H.length;
      }
      for (W = 0; W < h.length; ++W)
        g && !g[h[W][0]] || -1 < kI.indexOf(h[W][0]) || -1 < gI.indexOf(h[W][0]) || h[W][1] != null && (A = h[W][1], b = 0, H = g ? ((C = m[b = +g[h[W][0]]]).p == "version" && typeof A == "string" && (A = (+(T = A.split("."))[0] << 16) + (+T[1] || 0)), EI(C.t, A)) : ((C = function(ue) {
          switch (typeof ue) {
            case "boolean":
              return 11;
            case "number":
              return (0 | ue) == ue ? 3 : 5;
            case "string":
              return 31;
            case "object":
              if (ue instanceof Date)
                return 64;
          }
          return -1;
        }(A)) == -1 && (C = 31, A = String(A)), EI(C, A)), R.push(H), (j = tt(8)).write_shift(4, g ? b : 2 + W), I.push(j), N += 8 + H.length);
      for (var _e = 8 * (R.length + 1), W = 0; W < R.length; ++W)
        I[W].write_shift(4, _e), _e += R[W].length;
      return D.write_shift(4, N), D.write_shift(4, R.length), G([D].concat(I).concat(R));
    }
    function II(h, g, m) {
      var b = h.content;
      if (!b)
        return {};
      da(b, 0);
      var T, A = 0;
      b.chk("feff", "Byte Order: "), b.read_shift(2);
      var C = b.read_shift(4), D = b.read_shift(16);
      if (D !== tr.utils.consts.HEADER_CLSID && D !== m)
        throw new Error("Bad PropertySet CLSID " + D);
      if ((h = b.read_shift(4)) !== 1 && h !== 2)
        throw new Error("Unrecognized #Sets: " + h);
      if (m = b.read_shift(16), D = b.read_shift(4), h === 1 && D !== b.l)
        throw new Error("Length mismatch: " + D + " !== " + b.l);
      h === 2 && (T = b.read_shift(16), A = b.read_shift(4));
      var I, R, N = DI(b, g), W = { SystemIdentifier: C };
      for (I in N)
        W[I] = N[I];
      if (W.FMTID = m, h === 1)
        return W;
      if (A - b.l == 2 && (b.l += 2), b.l !== A)
        throw new Error("Length mismatch 2: " + b.l + " !== " + A);
      try {
        R = DI(b, null);
      } catch {
      }
      for (I in R)
        W[I] = R[I];
      return W.FMTID = [m, T], W;
    }
    function PI(h, g, m, b, T, A) {
      var C = tt(T ? 68 : 48), D = [C];
      return C.write_shift(2, 65534), C.write_shift(2, 0), C.write_shift(4, 842412599), C.write_shift(16, tr.utils.consts.HEADER_CLSID, "hex"), C.write_shift(4, T ? 2 : 1), C.write_shift(16, g, "hex"), C.write_shift(4, T ? 68 : 48), b = MI(h, m, b), D.push(b), T && (T = MI(T, null, null), C.write_shift(16, A, "hex"), C.write_shift(4, 68 + b.length), D.push(T)), G(D);
    }
    function sc(h, g) {
      return h.read_shift(g), null;
    }
    function Ci(h, g) {
      return h.read_shift(g) === 1;
    }
    function ja(h, g) {
      return (g = g || tt(2)).write_shift(2, +!!h), g;
    }
    function Oi(h) {
      return h.read_shift(2, "u");
    }
    function Bo(h, g) {
      return (g = g || tt(2)).write_shift(2, h), g;
    }
    function RI(h, g) {
      return function(m, b, T) {
        for (var A = [], C = m.l + b; m.l < C; )
          A.push(T(m, C - m.l));
        if (C !== m.l)
          throw new Error("Slurp error");
        return A;
      }(h, g, Oi);
    }
    function LI(h, g, m) {
      return (m = m || tt(2)).write_shift(1, g == "e" ? +h : +!!h), m.write_shift(1, g == "e" ? 1 : 0), m;
    }
    function cv(h, g, m) {
      var b = h.read_shift(m && 12 <= m.biff ? 2 : 1), T = "sbcs-cont", A = o;
      return m && 8 <= m.biff && (o = 1200), m && m.biff != 8 ? m.biff == 12 && (T = "wstr") : h.read_shift(1) && (T = "dbcs-cont"), 2 <= m.biff && m.biff <= 5 && (T = "cpstr"), T = b ? h.read_shift(b, T) : "", o = A, T;
    }
    function xh(h, g, m) {
      if (m) {
        if (2 <= m.biff && m.biff <= 5)
          return h.read_shift(g, "cpstr");
        if (12 <= m.biff)
          return h.read_shift(g, "dbcs-cont");
      }
      return h.read_shift(1) === 0 ? h.read_shift(g, "sbcs-cont") : h.read_shift(g, "dbcs-cont");
    }
    function hv(h, g, m) {
      var b = h.read_shift(m && m.biff == 2 ? 1 : 2);
      return b === 0 ? (h.l++, "") : xh(h, b, m);
    }
    function Th(h, g, m) {
      if (5 < m.biff)
        return hv(h, 0, m);
      var b = h.read_shift(1);
      return b === 0 ? (h.l++, "") : h.read_shift(b, m.biff <= 4 || !h.lens ? "cpstr" : "sbcs-cont");
    }
    function OI(h, g, m) {
      return (m = m || tt(3 + 2 * h.length)).write_shift(2, h.length), m.write_shift(1, 1), m.write_shift(31, h, "utf16le"), m;
    }
    function oee(h) {
      var g, m, b, T, A = h.read_shift(16);
      switch (A) {
        case "e0c9ea79f9bace118c8200aa004ba90b":
          return m = (g = h).read_shift(4), b = g.l, T = !1, 24 < m && (g.l += m - 24, g.read_shift(16) === "795881f43b1d7f48af2c825dc4852763" && (T = !0), g.l = b), m = g.read_shift((T ? m - 24 : m) >> 1, "utf16le").replace(Z, ""), T && (g.l += 24), m;
        case "0303000000000000c000000000000046":
          return function(C) {
            for (var D = C.read_shift(2), I = ""; 0 < D--; )
              I += "../";
            var R = C.read_shift(0, "lpstr-ansi");
            if (C.l += 2, C.read_shift(2) != 57005)
              throw new Error("Bad FileMoniker");
            if (C.read_shift(4) === 0)
              return I + R.replace(/\\/g, "/");
            if (R = C.read_shift(4), C.read_shift(2) != 3)
              throw new Error("Bad FileMoniker");
            return I + C.read_shift(R >> 1, "utf16le").replace(Z, "");
          }(h);
        default:
          throw new Error("Unsupported Moniker " + A);
      }
    }
    function Lm(h) {
      var g = h.read_shift(4);
      return 0 < g ? h.read_shift(g, "utf16le").replace(Z, "") : "";
    }
    function FI(h, g) {
      (g = g || tt(6 + 2 * h.length)).write_shift(4, 1 + h.length);
      for (var m = 0; m < h.length; ++m)
        g.write_shift(2, h.charCodeAt(m));
      return g.write_shift(2, 0), g;
    }
    function NI(h) {
      return [h.read_shift(1), h.read_shift(1), h.read_shift(1), h.read_shift(1)];
    }
    function BI(h) {
      return h = NI(h), h[3] = 0, h;
    }
    function Js(h) {
      return { r: h.read_shift(2), c: h.read_shift(2), ixfe: h.read_shift(2) };
    }
    function Ch(h, g, m, b) {
      return (b = b || tt(6)).write_shift(2, h), b.write_shift(2, g), b.write_shift(2, m || 0), b;
    }
    function VI(h) {
      return [h.read_shift(2), Ax(h)];
    }
    function Om(h) {
      var g = h.read_shift(2), m = h.read_shift(2);
      return { s: { c: h.read_shift(2), r: g }, e: { c: h.read_shift(2), r: m } };
    }
    function UI(h, g) {
      return (g = g || tt(8)).write_shift(2, h.s.r), g.write_shift(2, h.e.r), g.write_shift(2, h.s.c), g.write_shift(2, h.e.c), g;
    }
    function GI(h) {
      var g = h.read_shift(2), m = h.read_shift(2);
      return { s: { c: h.read_shift(1), r: g }, e: { c: h.read_shift(1), r: m } };
    }
    var see = GI;
    function zI(h) {
      h.l += 4;
      var g = h.read_shift(2), m = h.read_shift(2), b = h.read_shift(2);
      return h.l += 12, [m, g, b];
    }
    function ka(h) {
      h.l += 2, h.l += h.read_shift(2);
    }
    var lee = { 0: ka, 4: ka, 5: ka, 6: ka, 7: function(h) {
      return h.l += 4, h.cf = h.read_shift(2), {};
    }, 8: ka, 9: ka, 10: ka, 11: ka, 12: ka, 13: function(h) {
      var g = {};
      return h.l += 4, h.l += 16, g.fSharedNote = h.read_shift(2), h.l += 4, g;
    }, 14: ka, 15: ka, 16: ka, 17: ka, 18: ka, 19: ka, 20: ka, 21: zI };
    function Fm(h, g) {
      var m = { BIFFVer: 0, dt: 0 };
      switch (m.BIFFVer = h.read_shift(2), 2 <= (g -= 2) && (m.dt = h.read_shift(2), h.l -= 2), m.BIFFVer) {
        case 1536:
        case 1280:
        case 1024:
        case 768:
        case 512:
        case 2:
        case 7:
          break;
        default:
          if (6 < g)
            throw new Error("Unexpected BIFF Ver " + m.BIFFVer);
      }
      return h.read_shift(g), m;
    }
    function Ox(h, g, m) {
      var b = 1536, T = 16;
      switch (m.bookType) {
        case "biff8":
          break;
        case "biff5":
          b = 1280, T = 8;
          break;
        case "biff4":
          b = 4, T = 6;
          break;
        case "biff3":
          b = 3, T = 6;
          break;
        case "biff2":
          b = 2, T = 4;
          break;
        case "xla":
          break;
        default:
          throw new Error("unsupported BIFF version");
      }
      return m = tt(T), m.write_shift(2, b), m.write_shift(2, g), 4 < T && m.write_shift(2, 29282), 6 < T && m.write_shift(2, 1997), 8 < T && (m.write_shift(2, 49161), m.write_shift(2, 1), m.write_shift(2, 1798), m.write_shift(2, 0)), m;
    }
    function uee(h) {
      var g = tt(8);
      g.write_shift(4, h.Count), g.write_shift(4, h.Unique);
      for (var m, b, T, A = [], C = 0; C < h.length; ++C)
        A[C] = (m = h[C], T = b = void 0, b = m.t || "", (T = tt(3)).write_shift(2, b.length), T.write_shift(1, 1), (m = tt(2 * b.length)).write_shift(2 * b.length, b, "utf16le"), G([T, m]));
      var D = G([g].concat(A));
      return D.parts = [g.length].concat(A.map(function(I) {
        return I.length;
      })), D;
    }
    function WI(h, g, m) {
      var b = 0;
      return m && m.biff == 2 || (b = h.read_shift(2)), h = h.read_shift(2), m && m.biff == 2 && (b = 1 - (h >> 15), h &= 32767), [{ Unsynced: 1 & b, DyZero: (2 & b) >> 1, ExAsc: (4 & b) >> 2, ExDsc: (8 & b) >> 3 }, h];
    }
    var Xd = Th;
    function HI(h, A, C) {
      var b = h.l + A, D = C.biff != 8 && C.biff ? 2 : 4, T = h.read_shift(D), A = h.read_shift(D), C = h.read_shift(2), D = h.read_shift(2);
      return h.l = b, { s: { r: T, c: C }, e: { r: A, c: D } };
    }
    function $I(h, g, m, b) {
      return m = m && m.biff == 5, (b = b || tt(m ? 16 : 20)).write_shift(2, 0), h.style ? (b.write_shift(2, h.numFmtId || 0), b.write_shift(2, 65524)) : (b.write_shift(2, h.numFmtId || 0), b.write_shift(2, g << 4)), g = 0, 0 < h.numFmtId && m && (g |= 1024), b.write_shift(4, g), b.write_shift(4, 0), m || b.write_shift(4, 0), b.write_shift(2, 0), b;
    }
    function YI(h, g, m) {
      var b = Js(h);
      return m.biff != 2 && g != 9 || ++h.l, h = (g = h).read_shift(1), h = g.read_shift(1) === 1 ? h : h === 1, b.val = h, b.t = h === !0 || h === !1 ? "b" : "e", b;
    }
    function jI(h, g, m) {
      return g === 0 ? "" : Th(h, 0, m);
    }
    function qI(h, g, m) {
      var b, T = h.read_shift(2), T = { fBuiltIn: 1 & T, fWantAdvise: T >>> 1 & 1, fWantPict: T >>> 2 & 1, fOle: T >>> 3 & 1, fOleLink: T >>> 4 & 1, cf: T >>> 5 & 1023, fIcon: T >>> 15 & 1 };
      return m.sbcch === 14849 && (b = function(A, R, D) {
        A.l += 4, R -= 4;
        var I = A.l + R, R = cv(A, 0, D);
        if ((D = A.read_shift(2)) !== (I -= A.l))
          throw new Error("Malformed AddinUdf: padding = " + I + " != " + D);
        return A.l += D, R;
      }(h, g - 2, m)), T.body = b || h.read_shift(g - 2), typeof b == "string" && (T.Name = b), T;
    }
    var cee = ["_xlnm.Consolidate_Area", "_xlnm.Auto_Open", "_xlnm.Auto_Close", "_xlnm.Extract", "_xlnm.Database", "_xlnm.Criteria", "_xlnm.Print_Area", "_xlnm.Print_Titles", "_xlnm.Recorder", "_xlnm.Data_Form", "_xlnm.Auto_Activate", "_xlnm.Auto_Deactivate", "_xlnm.Sheet_Title", "_xlnm._FilterDatabase"];
    function XI(h, I, m) {
      var b = h.l + I, T = h.read_shift(2), A = h.read_shift(1), C = h.read_shift(1), D = h.read_shift(m && m.biff == 2 ? 1 : 2), I = 0;
      return (!m || 5 <= m.biff) && (m.biff != 5 && (h.l += 2), I = h.read_shift(2), m.biff == 5 && (h.l += 2), h.l += 4), C = xh(h, C, m), 32 & T && (C = cee[C.charCodeAt(0)]), T = b - h.l, m && m.biff == 2 && --T, { chKey: A, Name: C, itab: I, rgce: b != h.l && D !== 0 && 0 < T ? function(R, oe, W, X) {
        var j, oe = R.l + oe, X = wv(R, X, W);
        return oe !== R.l && (j = bv(R, oe - R.l, X, W)), [X, j];
      }(h, T, m, D) : [] };
    }
    function KI(h, g, m) {
      if (m.biff < 8)
        return function(D, I) {
          return D[D.l + 1] == 3 && D[D.l]++, I = cv(D, 0, I), I.charCodeAt(0) == 3 ? I.slice(1) : I;
        }(h, m);
      for (var b, T, A = [], g = h.l + g, C = h.read_shift(8 < m.biff ? 4 : 2); C-- != 0; )
        A.push((b = h, m.biff, T = 8 < (T = m).biff ? 4 : 2, [b.read_shift(T), b.read_shift(T, "i"), b.read_shift(T, "i")]));
      if (h.l != g)
        throw new Error("Bad ExternSheet: " + h.l + " != " + g);
      return A;
    }
    function ZI(h, g, m) {
      var b = see(h);
      switch (m.biff) {
        case 2:
          h.l++, g -= 7;
          break;
        case 3:
        case 4:
          h.l += 2, g -= 8;
          break;
        default:
          h.l += 6, g -= 12;
      }
      return [b, function(T, A, C) {
        var D, I = T.l + A, R = C.biff == 2 ? 1 : 2, N = T.read_shift(R);
        if (N == 65535)
          return [[], Aa(T, A - 2)];
        var W = wv(T, N, C);
        return A !== N + R && (D = bv(T, A - N - R, W, C)), T.l = I, [W, D];
      }(h, g, m)];
    }
    var hee = { 8: function(h, g) {
      var m = h.l + g;
      h.l += 10;
      var b = h.read_shift(2);
      return h.l += 4, h.l += 2, h.l += 2, h.l += 2, h.l += 4, g = h.read_shift(1), h.l += g, h.l = m, { fmt: b };
    } };
    function fee(h) {
      var g = tt(24), m = ii(h[0]);
      g.write_shift(2, m.r), g.write_shift(2, m.r), g.write_shift(2, m.c), g.write_shift(2, m.c);
      for (var b = "d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "), T = 0; T < 16; ++T)
        g.write_shift(1, parseInt(b[T], 16));
      return G([g, function(A) {
        var C = tt(512), D = 0, I = A.Target, R = -1 < (A = (I = I.slice(0, 7) == "file://" ? I.slice(7) : I).indexOf("#")) ? 31 : 23;
        switch (I.charAt(0)) {
          case "#":
            R = 28;
            break;
          case ".":
            R &= -3;
        }
        C.write_shift(4, 2), C.write_shift(4, R);
        for (var N = [8, 6815827, 6619237, 4849780, 83], D = 0; D < N.length; ++D)
          C.write_shift(4, N[D]);
        if (R == 28)
          FI(I = I.slice(1), C);
        else if (2 & R) {
          for (N = "e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "), D = 0; D < N.length; ++D)
            C.write_shift(1, parseInt(N[D], 16));
          var W = -1 < A ? I.slice(0, A) : I;
          for (C.write_shift(4, 2 * (W.length + 1)), D = 0; D < W.length; ++D)
            C.write_shift(2, W.charCodeAt(D));
          C.write_shift(2, 0), 8 & R && FI(-1 < A ? I.slice(A + 1) : "", C);
        } else {
          for (N = "03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "), D = 0; D < N.length; ++D)
            C.write_shift(1, parseInt(N[D], 16));
          for (var H = 0; I.slice(3 * H, 3 * H + 3) == "../" || I.slice(3 * H, 3 * H + 3) == "..\\"; )
            ++H;
          for (C.write_shift(2, H), C.write_shift(4, I.length - 3 * H + 1), D = 0; D < I.length - 3 * H; ++D)
            C.write_shift(1, 255 & I.charCodeAt(D + 3 * H));
          for (C.write_shift(1, 0), C.write_shift(2, 65535), C.write_shift(2, 57005), D = 0; D < 6; ++D)
            C.write_shift(4, 0);
        }
        return C.slice(0, C.l);
      }(h[1])]);
    }
    function JI(h, I, m) {
      if (!m.cellStyles)
        return Aa(h, I);
      var b = m && 12 <= m.biff ? 4 : 2, T = h.read_shift(b), A = h.read_shift(b), C = h.read_shift(b), D = h.read_shift(b), I = h.read_shift(2);
      return b == 2 && (h.l += 2), D = { s: T, e: A, w: C, ixfe: D, flags: I }, (5 <= m.biff || !m.biff) && (D.level = I >> 8 & 7), D;
    }
    var dee = Js, pee = RI, b4 = hv, QI, e7, Nm, vee = [2, 3, 48, 49, 131, 139, 140, 245], Fx = (QI = { 1: 437, 2: 850, 3: 1252, 4: 1e4, 100: 852, 101: 866, 102: 865, 103: 861, 104: 895, 105: 620, 106: 737, 107: 857, 120: 950, 121: 949, 122: 936, 123: 932, 124: 874, 125: 1255, 126: 1256, 150: 10007, 151: 10029, 152: 10006, 200: 1250, 201: 1251, 202: 1254, 203: 1253, 0: 20127, 8: 865, 9: 437, 10: 850, 11: 437, 13: 437, 14: 850, 15: 437, 16: 850, 17: 437, 18: 850, 19: 932, 20: 850, 21: 437, 22: 850, 23: 865, 24: 437, 25: 437, 26: 850, 27: 437, 28: 863, 29: 850, 31: 852, 34: 852, 35: 852, 36: 860, 37: 850, 38: 866, 55: 850, 64: 852, 77: 936, 78: 949, 79: 950, 80: 874, 87: 1252, 88: 1252, 89: 1252, 108: 863, 134: 737, 135: 852, 136: 857, 204: 1257, 255: 16969 }, e7 = bm({ 1: 437, 2: 850, 3: 1252, 4: 1e4, 100: 852, 101: 866, 102: 865, 103: 861, 104: 895, 105: 620, 106: 737, 107: 857, 120: 950, 121: 949, 122: 936, 123: 932, 124: 874, 125: 1255, 126: 1256, 150: 10007, 151: 10029, 152: 10006, 200: 1250, 201: 1251, 202: 1254, 203: 1253, 0: 20127 }), Nm = { B: 8, C: 250, L: 1, D: 8, "?": 0, "": 0 }, { to_workbook: function(h, g) {
      try {
        return oc(t7(h, g), g);
      } catch (m) {
        if (g && g.WTF)
          throw m;
      }
      return { SheetNames: [], Sheets: {} };
    }, to_sheet: t7, from_sheet: function(h, g) {
      if (0 <= +(g = g || {}).codepage && f(+g.codepage), g.type == "string")
        throw new Error("Cannot write DBF to JS string");
      for (var m = io(), b = (g = ay(h, { header: 1, raw: !0, cellDates: !0 }))[0], T = g.slice(1), A = h["!cols"] || [], R = 0, C = 0, D = 0, I = 1, R = 0; R < b.length; ++R)
        if (((A[R] || {}).DBF || {}).name)
          b[R] = A[R].DBF.name, ++D;
        else if (b[R] != null) {
          if (++D, typeof b[R] == "number" && (b[R] = b[R].toString(10)), typeof b[R] != "string")
            throw new Error("DBF Invalid column name " + b[R] + " |" + typeof b[R] + "|");
          if (b.indexOf(b[R]) !== R) {
            for (C = 0; C < 1024; ++C)
              if (b.indexOf(b[R] + "_" + C) == -1) {
                b[R] += "_" + C;
                break;
              }
          }
        }
      var N = nn(h["!ref"]), W = [], H = [], j = [];
      for (R = 0; R <= N.e.c - N.s.c; ++R) {
        for (var oe = "", X = "", _e = 0, ue = [], C = 0; C < T.length; ++C)
          T[C][R] != null && ue.push(T[C][R]);
        if (ue.length != 0 && b[R] != null) {
          for (C = 0; C < ue.length; ++C) {
            switch (typeof ue[C]) {
              case "number":
                X = "B";
                break;
              case "string":
                X = "C";
                break;
              case "boolean":
                X = "L";
                break;
              case "object":
                X = ue[C] instanceof Date ? "D" : "C";
                break;
              default:
                X = "C";
            }
            _e = Math.max(_e, String(ue[C]).length), oe = oe && oe != X ? "C" : X;
          }
          250 < _e && (_e = 250), (X = ((A[R] || {}).DBF || {}).type) == "C" && A[R].DBF.len > _e && (_e = A[R].DBF.len), oe == "B" && X == "N" && (oe = "N", j[R] = A[R].DBF.dec, _e = A[R].DBF.len), H[R] = oe == "C" || X == "N" ? _e : Nm[oe] || 0, I += H[R], W[R] = oe;
        } else
          W[R] = "?";
      }
      var ee, me, Te = m.next(32);
      for (Te.write_shift(4, 318902576), Te.write_shift(4, T.length), Te.write_shift(2, 296 + 32 * D), Te.write_shift(2, I), R = 0; R < 4; ++R)
        Te.write_shift(4, 0);
      for (Te.write_shift(4, 0 | (+e7[s] || 3) << 8), C = R = 0; R < b.length; ++R)
        b[R] != null && (ee = m.next(32), me = (b[R].slice(-10) + "\0\0\0\0\0\0\0\0\0\0\0").slice(0, 11), ee.write_shift(1, me, "sbcs"), ee.write_shift(1, W[R] == "?" ? "C" : W[R], "sbcs"), ee.write_shift(4, C), ee.write_shift(1, H[R] || Nm[W[R]] || 0), ee.write_shift(1, j[R] || 0), ee.write_shift(1, 2), ee.write_shift(4, 0), ee.write_shift(1, 0), ee.write_shift(4, 0), ee.write_shift(4, 0), C += H[R] || Nm[W[R]] || 0);
      var Ce = m.next(264);
      for (Ce.write_shift(4, 13), R = 0; R < 65; ++R)
        Ce.write_shift(4, 0);
      for (R = 0; R < T.length; ++R) {
        var Fe = m.next(I);
        for (Fe.write_shift(1, 0), C = 0; C < b.length; ++C)
          if (b[C] != null)
            switch (W[C]) {
              case "L":
                Fe.write_shift(1, T[R][C] == null ? 63 : T[R][C] ? 84 : 70);
                break;
              case "B":
                Fe.write_shift(8, T[R][C] || 0, "f");
                break;
              case "N":
                var ze = "0";
                for (typeof T[R][C] == "number" && (ze = T[R][C].toFixed(j[C] || 0)), D = 0; D < H[C] - ze.length; ++D)
                  Fe.write_shift(1, 32);
                Fe.write_shift(1, ze, "sbcs");
                break;
              case "D":
                T[R][C] ? (Fe.write_shift(4, ("0000" + T[R][C].getFullYear()).slice(-4), "sbcs"), Fe.write_shift(2, ("00" + (T[R][C].getMonth() + 1)).slice(-2), "sbcs"), Fe.write_shift(2, ("00" + T[R][C].getDate()).slice(-2), "sbcs")) : Fe.write_shift(8, "00000000", "sbcs");
                break;
              case "C":
                var Be = String(T[R][C] != null ? T[R][C] : "").slice(0, H[C]);
                for (Fe.write_shift(1, Be, "sbcs"), D = 0; D < H[C] - Be.length; ++D)
                  Fe.write_shift(1, 32);
            }
      }
      return m.next(1).write_shift(1, 26), m.end();
    } });
    function t7(h, g) {
      return g = g || {}, g.dateNF || (g.dateNF = "yyyymmdd"), h = Nd(function(m, b) {
        var T = [], A = P(1);
        switch (b.type) {
          case "base64":
            A = F(E(m));
            break;
          case "binary":
            A = F(m);
            break;
          case "buffer":
          case "array":
            A = m;
        }
        da(A, 0);
        var C = A.read_shift(1), D = !!(136 & C), I = !1, R = !1;
        switch (C) {
          case 2:
          case 3:
            break;
          case 48:
          case 49:
            D = I = !0;
            break;
          case 131:
          case 139:
            break;
          case 140:
            R = !0;
            break;
          case 245:
            break;
          default:
            throw new Error("DBF Unsupported Version: " + C.toString(16));
        }
        var N = 0, W = 521;
        C == 2 && (N = A.read_shift(2)), A.l += 3, 1048576 < (N = C != 2 ? A.read_shift(4) : N) && (N = 1e6), C != 2 && (W = A.read_shift(2));
        var H = A.read_shift(2), j = b.codepage || 1252;
        C != 2 && (A.l += 16, A.read_shift(1), A[A.l] !== 0 && (j = QI[A[A.l]]), A.l += 1, A.l += 2), R && (A.l += 36);
        for (var oe = [], X = {}, _e = Math.min(A.length, C == 2 ? 521 : W - 10 - (I ? 264 : 0)), ue = R ? 32 : 11; A.l < _e && A[A.l] != 13; )
          switch ((X = {}).name = n.utils.decode(j, A.slice(A.l, A.l + ue)).replace(/[\u0000\r\n].*$/g, ""), A.l += ue, X.type = String.fromCharCode(A.read_shift(1)), C == 2 || R || (X.offset = A.read_shift(4)), X.len = A.read_shift(1), C == 2 && (X.offset = A.read_shift(2)), X.dec = A.read_shift(1), X.name.length && oe.push(X), C != 2 && (A.l += R ? 13 : 14), X.type) {
            case "B":
              I && X.len == 8 || !b.WTF || console.log("Skipping " + X.name + ":" + X.type);
              break;
            case "G":
            case "P":
              b.WTF && console.log("Skipping " + X.name + ":" + X.type);
              break;
            case "+":
            case "0":
            case "@":
            case "C":
            case "D":
            case "F":
            case "I":
            case "L":
            case "M":
            case "N":
            case "O":
            case "T":
            case "Y":
              break;
            default:
              throw new Error("Unknown Field Type: " + X.type);
          }
        if (A[A.l] !== 13 && (A.l = W - 1), A.read_shift(1) !== 13)
          throw new Error("DBF Terminator not found " + A.l + " " + A[A.l]);
        A.l = W;
        var ee = 0, me = 0;
        for (T[0] = [], me = 0; me != oe.length; ++me)
          T[0][me] = oe[me].name;
        for (; 0 < N--; )
          if (A[A.l] !== 42)
            for (++A.l, T[++ee] = [], me = me = 0; me != oe.length; ++me) {
              var Te = A.slice(A.l, A.l + oe[me].len);
              A.l += oe[me].len, da(Te, 0);
              var Ce = n.utils.decode(j, Te);
              switch (oe[me].type) {
                case "C":
                  Ce.trim().length && (T[ee][me] = Ce.replace(/\s+$/, ""));
                  break;
                case "D":
                  Ce.length === 8 ? T[ee][me] = new Date(+Ce.slice(0, 4), +Ce.slice(4, 6) - 1, +Ce.slice(6, 8)) : T[ee][me] = Ce;
                  break;
                case "F":
                  T[ee][me] = parseFloat(Ce.trim());
                  break;
                case "+":
                case "I":
                  T[ee][me] = R ? 2147483648 ^ Te.read_shift(-4, "i") : Te.read_shift(4, "i");
                  break;
                case "L":
                  switch (Ce.trim().toUpperCase()) {
                    case "Y":
                    case "T":
                      T[ee][me] = !0;
                      break;
                    case "N":
                    case "F":
                      T[ee][me] = !1;
                      break;
                    case "":
                    case "?":
                      break;
                    default:
                      throw new Error("DBF Unrecognized L:|" + Ce + "|");
                  }
                  break;
                case "M":
                  if (!D)
                    throw new Error("DBF Unexpected MEMO for type " + C.toString(16));
                  T[ee][me] = "##MEMO##" + (R ? parseInt(Ce.trim(), 10) : Te.read_shift(4));
                  break;
                case "N":
                  (Ce = Ce.replace(/\u0000/g, "").trim()) && Ce != "." && (T[ee][me] = +Ce || 0);
                  break;
                case "@":
                  T[ee][me] = new Date(Te.read_shift(-8, "f") - 621356832e5);
                  break;
                case "T":
                  T[ee][me] = new Date(864e5 * (Te.read_shift(4) - 2440588) + Te.read_shift(4));
                  break;
                case "Y":
                  T[ee][me] = Te.read_shift(4, "i") / 1e4 + Te.read_shift(4, "i") / 1e4 * Math.pow(2, 32);
                  break;
                case "O":
                  T[ee][me] = -Te.read_shift(-8, "f");
                  break;
                case "B":
                  if (I && oe[me].len == 8) {
                    T[ee][me] = Te.read_shift(8, "f");
                    break;
                  }
                case "G":
                case "P":
                  Te.l += oe[me].len;
                  break;
                case "0":
                  if (oe[me].name === "_NullFlags")
                    break;
                default:
                  throw new Error("DBF Unsupported data type " + oe[me].type);
              }
            }
          else
            A.l += H;
        if (C != 2 && A.l < A.length && A[A.l++] != 26)
          throw new Error("DBF EOF Marker missing " + (A.l - 1) + " of " + A.length + " " + A[A.l - 1].toString(16));
        return b && b.sheetRows && (T = T.slice(0, b.sheetRows)), b.DBF = oe, T;
      }(h, g), g), h["!cols"] = g.DBF.map(function(m) {
        return { wch: m.len, DBF: m };
      }), delete g.DBF, h;
    }
    var Bm, r7, n7, i7, a7 = (Bm = { AA: "", BA: "", CA: "", DA: 195, HA: "", JA: 197, AE: "", BE: "", CE: "", HE: "", AI: "", BI: "", CI: "", HI: "", AO: "", BO: "", CO: "", DO: 213, HO: "", AU: "", BU: "", CU: "", HU: "", Aa: "", Ba: "", Ca: "", Da: 227, Ha: "", Ja: 229, Ae: "", Be: "", Ce: "", He: "", Ai: "", Bi: "", Ci: "", Hi: "", Ao: "", Bo: "", Co: "", Do: 245, Ho: "", Au: "", Bu: "", Cu: "", Hu: "", KC: "", Kc: "", q: "", z: "", a: "", j: "", DN: 209, Dn: 241, Hy: 255, S: 169, c: 170, R: 174, "B ": 180, 0: 176, 1: 177, 2: 178, 3: 179, 5: 181, 6: 182, 7: 183, Q: 185, k: 186, b: 208, i: 216, l: 222, s: 240, y: 248, "!": 161, '"': 162, "#": 163, "(": 164, "%": 165, "'": 167, "H ": 168, "+": 171, ";": 187, "<": 188, "=": 189, ">": 190, "?": 191, "{": 223 }, r7 = new RegExp("\x1BN(" + hi(Bm).join("|").replace(/\|\|\|/, "|\\||").replace(/([?()+])/g, "\\$1") + "|\\|)", "gm"), n7 = function(h, g) {
      return g = Bm[g], typeof g == "number" ? w(g) : g;
    }, i7 = function(h, g, m) {
      return m = g.charCodeAt(0) - 32 << 4 | m.charCodeAt(0) - 48, m == 59 ? h : w(m);
    }, Bm["|"] = 254, { to_workbook: function(h, g) {
      return oc(o7(h, g), g);
    }, to_sheet: o7, from_sheet: function(h, g) {
      var m, b, T = ["ID;PWXL;N;E"], A = [], C = nn(h["!ref"]), D = Array.isArray(h), I = `\r
`;
      T.push("P;PGeneral"), T.push("F;P0;DG0G8;M255"), h["!cols"] && (m = T, h["!cols"].forEach(function(H, j) {
        j = "F;W" + (j + 1) + " " + (j + 1) + " ", H.hidden ? j += "0" : (typeof H.width != "number" || H.wpx || (H.wpx = pv(H.width)), typeof H.wpx != "number" || H.wch || (H.wch = vv(H.wpx)), typeof H.wch == "number" && (j += Math.round(H.wch))), j.charAt(j.length - 1) != " " && m.push(j);
      })), h["!rows"] && (b = T, h["!rows"].forEach(function(H, j) {
        var oe = "F;";
        H.hidden ? oe += "M0;" : H.hpt ? oe += "M" + 20 * H.hpt + ";" : H.hpx && (oe += "M" + 20 * gv(H.hpx) + ";"), 2 < oe.length && b.push(oe + "R" + (j + 1));
      })), T.push("B;Y" + (C.e.r - C.s.r + 1) + ";X" + (C.e.c - C.s.c + 1) + ";D" + [C.s.c, C.s.r, C.e.c, C.e.r].join(" "));
      for (var R = C.s.r; R <= C.e.r; ++R)
        for (var N = C.s.c; N <= C.e.c; ++N) {
          var W = kr({ r: R, c: N });
          (W = D ? (h[R] || [])[N] : h[W]) && (W.v != null || W.f && !W.F) && A.push(function(H, j, oe) {
            var X = "C;Y" + (j + 1) + ";X" + (oe + 1) + ";K";
            switch (H.t) {
              case "n":
                X += H.v || 0, H.f && !H.F && (X += ";E" + Zx(H.f, { r: j, c: oe }));
                break;
              case "b":
                X += H.v ? "TRUE" : "FALSE";
                break;
              case "e":
                X += H.w || H.v;
                break;
              case "d":
                X += '"' + (H.w || H.v) + '"';
                break;
              case "s":
                X += '"' + H.v.replace(/"/g, "").replace(/;/g, ";;") + '"';
            }
            return X;
          }(W, R, N));
        }
      return T.join(I) + I + A.join(I) + I + "E" + I;
    } });
    function Vm(H, g) {
      var m, b, T = H.split(/[\n\r]+/), A = -1, C = -1, D = 0, I = 0, R = [], N = [], W = null, H = {}, j = [], oe = [], X = 0;
      for (0 <= +g.codepage && f(+g.codepage); D !== T.length; ++D) {
        X = 0;
        var _e, ue = T[D].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g, i7).replace(r7, n7), ee = ue.replace(/;;/g, "\0").split(";").map(function(_t) {
          return _t.replace(/\u0000/g, ";");
        }), me = ee[0];
        if (0 < ue.length)
          switch (me) {
            case "ID":
            case "E":
            case "B":
            case "O":
            case "W":
              break;
            case "P":
              ee[1].charAt(0) == "P" && N.push(ue.slice(3).replace(/;;/g, ";"));
              break;
            case "C":
              for (var Te = !1, Ce = !1, Fe = !1, ze = !1, Be = -1, Ye = -1, I = 1; I < ee.length; ++I)
                switch (ee[I].charAt(0)) {
                  case "A":
                    break;
                  case "X":
                    C = parseInt(ee[I].slice(1)) - 1, Ce = !0;
                    break;
                  case "Y":
                    for (A = parseInt(ee[I].slice(1)) - 1, Ce || (C = 0), b = R.length; b <= A; ++b)
                      R[b] = [];
                    break;
                  case "K":
                    (_e = ee[I].slice(1)).charAt(0) === '"' ? _e = _e.slice(1, _e.length - 1) : _e === "TRUE" ? _e = !0 : _e === "FALSE" ? _e = !1 : isNaN(ms(_e)) ? isNaN(Ld(_e).getDate()) || (_e = jn(_e)) : (_e = ms(_e), W !== null && Re(W) && (_e = Tm(_e))), n !== void 0 && typeof _e == "string" && (g || {}).type != "string" && (g || {}).codepage && (_e = n.utils.decode(g.codepage, _e)), Te = !0;
                    break;
                  case "E":
                    ze = !0;
                    var it = Yd(ee[I].slice(1), { r: A, c: C });
                    R[A][C] = [R[A][C], it];
                    break;
                  case "S":
                    Fe = !0, R[A][C] = [R[A][C], "S5S"];
                    break;
                  case "G":
                    break;
                  case "R":
                    Be = parseInt(ee[I].slice(1)) - 1;
                    break;
                  case "C":
                    Ye = parseInt(ee[I].slice(1)) - 1;
                    break;
                  default:
                    if (g && g.WTF)
                      throw new Error("SYLK bad record " + ue);
                }
              if (Te && (R[A][C] && R[A][C].length == 2 ? R[A][C][0] = _e : R[A][C] = _e, W = null), Fe) {
                if (ze)
                  throw new Error("SYLK shared formula cannot have own formula");
                var at = -1 < Be && R[Be][Ye];
                if (!at || !at[1])
                  throw new Error("SYLK shared formula cannot find base");
                R[A][C][1] = t9(at[1], { r: A - Be, c: C - Ye });
              }
              break;
            case "F":
              var Xe = 0;
              for (I = 1; I < ee.length; ++I)
                switch (ee[I].charAt(0)) {
                  case "X":
                    C = parseInt(ee[I].slice(1)) - 1, ++Xe;
                    break;
                  case "Y":
                    for (A = parseInt(ee[I].slice(1)) - 1, b = R.length; b <= A; ++b)
                      R[b] = [];
                    break;
                  case "M":
                    X = parseInt(ee[I].slice(1)) / 20;
                    break;
                  case "F":
                  case "G":
                    break;
                  case "P":
                    W = N[parseInt(ee[I].slice(1))];
                    break;
                  case "S":
                  case "D":
                  case "N":
                    break;
                  case "W":
                    for (m = ee[I].slice(1).split(" "), b = parseInt(m[0], 10); b <= parseInt(m[1], 10); ++b)
                      X = parseInt(m[2], 10), oe[b - 1] = X === 0 ? { hidden: !0 } : { wch: X }, lc(oe[b - 1]);
                    break;
                  case "C":
                    oe[C = parseInt(ee[I].slice(1)) - 1] || (oe[C] = {});
                    break;
                  case "R":
                    j[A = parseInt(ee[I].slice(1)) - 1] || (j[A] = {}), 0 < X ? (j[A].hpt = X, j[A].hpx = Hd(X)) : X === 0 && (j[A].hidden = !0);
                    break;
                  default:
                    if (g && g.WTF)
                      throw new Error("SYLK bad record " + ue);
                }
              Xe < 1 && (W = null);
              break;
            default:
              if (g && g.WTF)
                throw new Error("SYLK bad record " + ue);
          }
      }
      return 0 < j.length && (H["!rows"] = j), 0 < oe.length && (H["!cols"] = oe), [R = g && g.sheetRows ? R.slice(0, g.sheetRows) : R, H];
    }
    function o7(b, g) {
      var m = function(C, D) {
        switch (D.type) {
          case "base64":
            return Vm(E(C), D);
          case "binary":
            return Vm(C, D);
          case "buffer":
            return Vm(M && Buffer.isBuffer(C) ? C.toString("binary") : U(C), D);
          case "array":
            return Vm(vh(C), D);
        }
        throw new Error("Unrecognized type " + D.type);
      }(b, g), b = m[0], T = m[1], A = Nd(b, g);
      return hi(T).forEach(function(C) {
        A[C] = T[C];
      }), A;
    }
    var s7 = { to_workbook: function(h, g) {
      return oc(l7(h, g), g);
    }, to_sheet: l7, from_sheet: function(h) {
      var g = [], m = nn(h["!ref"]), b = Array.isArray(h);
      Gm(g, "TABLE", 0, 1, "sheetjs"), Gm(g, "VECTORS", 0, m.e.r - m.s.r + 1, ""), Gm(g, "TUPLES", 0, m.e.c - m.s.c + 1, ""), Gm(g, "DATA", 0, 0, "");
      for (var T = m.s.r; T <= m.e.r; ++T) {
        Qs(g, -1, 0, "BOT");
        for (var A = m.s.c; A <= m.e.c; ++A) {
          var C, D = kr({ r: T, c: A });
          if (C = b ? (h[T] || [])[A] : h[D])
            switch (C.t) {
              case "n":
                var I = C.w;
                (I = !I && C.v != null ? C.v : I) == null ? C.f && !C.F ? Qs(g, 1, 0, "=" + C.f) : Qs(g, 1, 0, "") : Qs(g, 0, I, "V");
                break;
              case "b":
                Qs(g, 0, C.v ? 1 : 0, C.v ? "TRUE" : "FALSE");
                break;
              case "s":
                Qs(g, 1, 0, isNaN(C.v) ? C.v : '="' + C.v + '"');
                break;
              case "d":
                C.w || (C.w = wr(C.z || De[14], Hi(jn(C.v)))), Qs(g, 0, C.w, "V");
                break;
              default:
                Qs(g, 1, 0, "");
            }
          else
            Qs(g, 1, 0, "");
        }
      }
      return Qs(g, -1, 0, "EOD"), g.join(`\r
`);
    } };
    function Um(h, g) {
      for (var m = h.split(`
`), b = -1, T = -1, A = 0, C = []; A !== m.length; ++A)
        if (m[A].trim() !== "BOT") {
          if (!(b < 0)) {
            for (var D = m[A].trim().split(","), I = D[0], R = D[1], N = m[++A] || ""; 1 & (N.match(/["]/g) || []).length && A < m.length - 1; )
              N += `
` + m[++A];
            switch (N = N.trim(), +I) {
              case -1:
                if (N === "BOT") {
                  C[++b] = [], T = 0;
                  continue;
                }
                if (N !== "EOD")
                  throw new Error("Unrecognized DIF special command " + N);
                break;
              case 0:
                N === "TRUE" ? C[b][T] = !0 : N === "FALSE" ? C[b][T] = !1 : isNaN(ms(R)) ? isNaN(Ld(R).getDate()) ? C[b][T] = R : C[b][T] = jn(R) : C[b][T] = ms(R), ++T;
                break;
              case 1:
                N = (N = N.slice(1, N.length - 1)).replace(/""/g, '"'), N && N.match(/^=".*"$/) && (N = N.slice(2, -1)), C[b][T++] = N !== "" ? N : null;
            }
            if (N === "EOD")
              break;
          }
        } else
          C[++b] = [], T = 0;
      return C = g && g.sheetRows ? C.slice(0, g.sheetRows) : C;
    }
    function l7(h, g) {
      return Nd(function(m, b) {
        switch (b.type) {
          case "base64":
            return Um(E(m), b);
          case "binary":
            return Um(m, b);
          case "buffer":
            return Um(M && Buffer.isBuffer(m) ? m.toString("binary") : U(m), b);
          case "array":
            return Um(vh(m), b);
        }
        throw new Error("Unrecognized type " + b.type);
      }(h, g), g);
    }
    function Gm(h, g, m, b, T) {
      h.push(g), h.push(m + "," + b), h.push('"' + T.replace(/"/g, '""') + '"');
    }
    function Qs(h, g, m, b) {
      h.push(g + "," + m), h.push(g == 1 ? '"' + b.replace(/"/g, '""') + '"' : b);
    }
    var u7, Nx, c7, h7, f7 = (u7 = ["socialcalc:version:1.5", "MIME-Version: 1.0", "Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`), Nx = ["--SocialCalcSpreadsheetControlSave", "Content-type: text/plain; charset=UTF-8"].join(`
`) + `
`, c7 = ["# SocialCalc Spreadsheet Control Save", "part:sheet"].join(`
`), h7 = "--SocialCalcSpreadsheetControlSave--", { to_workbook: function(h, g) {
      return oc(d7(h, g), g);
    }, to_sheet: d7, from_sheet: function(h) {
      return [u7, Nx, c7, Nx, function(g) {
        if (!g || !g["!ref"])
          return "";
        for (var m, b, T = [], A = [], C = Ya(g["!ref"]), D = Array.isArray(g), I = C.s.r; I <= C.e.r; ++I)
          for (var R = C.s.c; R <= C.e.c; ++R)
            if (b = kr({ r: I, c: R }), (m = D ? (g[I] || [])[R] : g[b]) && m.v != null && m.t !== "z") {
              switch (A = ["cell", b, "t"], m.t) {
                case "s":
                case "str":
                  A.push(Bx(m.v));
                  break;
                case "n":
                  m.f ? (A[2] = "vtf", A[3] = "n", A[4] = m.v, A[5] = Bx(m.f)) : (A[2] = "v", A[3] = m.v);
                  break;
                case "b":
                  A[2] = "vt" + (m.f ? "f" : "c"), A[3] = "nl", A[4] = m.v ? "1" : "0", A[5] = Bx(m.f || (m.v ? "TRUE" : "FALSE"));
                  break;
                case "d":
                  var N = Hi(jn(m.v));
                  A[2] = "vtc", A[3] = "nd", A[4] = "" + N, A[5] = m.w || wr(m.z || De[14], N);
                  break;
                case "e":
                  continue;
              }
              T.push(A.join(":"));
            }
        return T.push("sheet:c:" + (C.e.c - C.s.c + 1) + ":r:" + (C.e.r - C.s.r + 1) + ":tvf:1"), T.push("valueformat:1:text-wiki"), T.join(`
`);
      }(h), h7].join(`
`);
    } });
    function Bx(h) {
      return h.replace(/\\/g, "\\b").replace(/:/g, "\\c").replace(/\n/g, "\\n");
    }
    function d7(h, g) {
      return Nd(function(m, b) {
        for (var T, A = m.split(`
`), C = -1, D = 0, I = []; D !== A.length; ++D) {
          var R = A[D].trim().split(":");
          if (R[0] === "cell") {
            var N = ii(R[1]);
            if (I.length <= N.r)
              for (C = I.length; C <= N.r; ++C)
                I[C] || (I[C] = []);
            switch (C = N.r, T = N.c, R[2]) {
              case "t":
                I[C][T] = R[3].replace(/\\b/g, "\\").replace(/\\c/g, ":").replace(/\\n/g, `
`);
                break;
              case "v":
                I[C][T] = +R[3];
                break;
              case "vtf":
                var W = R[R.length - 1];
              case "vtc":
                R[3] === "nl" ? I[C][T] = !!+R[4] : I[C][T] = +R[4], R[2] == "vtf" && (I[C][T] = [I[C][T], W]);
            }
          }
        }
        return I = b && b.sheetRows ? I.slice(0, b.sheetRows) : I;
      }(h, g), g);
    }
    var Vx, zm, Gd = (Vx = { 44: ",", 9: "	", 59: ";", 124: "|" }, zm = { 44: 3, 9: 2, 59: 1, 124: 0 }, { to_workbook: function(h, g) {
      return oc(g7(h, g), g);
    }, to_sheet: g7, from_sheet: function(h) {
      for (var g = [], m = nn(h["!ref"]), b = Array.isArray(h), T = m.s.r; T <= m.e.r; ++T) {
        for (var A = [], C = m.s.c; C <= m.e.c; ++C) {
          var D = kr({ r: T, c: C });
          if ((D = b ? (h[T] || [])[C] : h[D]) && D.v != null) {
            for (var I = (D.w || (Zs(D), D.w) || "").slice(0, 10); I.length < 10; )
              I += " ";
            A.push(I + (C === 0 ? " " : ""));
          } else
            A.push("          ");
        }
        g.push(A.join(""));
      }
      return g.join(`
`);
    } });
    function p7(h, g, m, b, T) {
      T.raw ? g[m][b] = h : h === "" || (h === "TRUE" ? g[m][b] = !0 : h === "FALSE" ? g[m][b] = !1 : isNaN(ms(h)) ? isNaN(Ld(h).getDate()) ? g[m][b] = h : g[m][b] = jn(h) : g[m][b] = ms(h));
    }
    function v7(h) {
      for (var g = {}, m = !1, b = 0, T = 0; b < h.length; ++b)
        (T = h.charCodeAt(b)) == 34 ? m = !m : !m && T in Vx && (g[T] = (g[T] || 0) + 1);
      for (b in T = [], g)
        Object.prototype.hasOwnProperty.call(g, b) && T.push([g[b], b]);
      if (!T.length)
        for (b in g = zm)
          Object.prototype.hasOwnProperty.call(g, b) && T.push([g[b], b]);
      return T.sort(function(A, C) {
        return A[0] - C[0] || zm[A[1]] - zm[C[1]];
      }), Vx[T.pop()[1]] || 44;
    }
    function gee(h, b) {
      var m = b || {}, b = "", T = m.dense ? [] : {}, A = { s: { c: 0, r: 0 }, e: { c: 0, r: 0 } };
      h.slice(0, 4) == "sep=" ? h.charCodeAt(5) == 13 && h.charCodeAt(6) == 10 ? (b = h.charAt(4), h = h.slice(7)) : h.charCodeAt(5) == 13 || h.charCodeAt(5) == 10 ? (b = h.charAt(4), h = h.slice(6)) : b = v7(h.slice(0, 1024)) : b = m && m.FS ? m.FS : v7(h.slice(0, 1024));
      var C = 0, D = 0, I = 0, R = 0, N = 0, W = b.charCodeAt(0), H = !1, j = 0, oe = h.charCodeAt(0);
      h = h.replace(/\r\n/gm, `
`);
      var X = m.dateNF != null ? (b = (b = typeof (b = m.dateNF) == "number" ? De[b] : b).replace(Rd, "(\\d+)"), new RegExp("^" + b + "$")) : null;
      function _e() {
        var ue, ee = h.slice(R, N), me = {};
        if ((ee = ee.charAt(0) == '"' && ee.charAt(ee.length - 1) == '"' ? ee.slice(1, -1).replace(/""/g, '"') : ee).length === 0 ? me.t = "z" : m.raw || ee.trim().length === 0 ? (me.t = "s", me.v = ee) : ee.charCodeAt(0) == 61 ? ee.charCodeAt(1) == 34 && ee.charCodeAt(ee.length - 1) == 34 ? (me.t = "s", me.v = ee.slice(2, -1).replace(/""/g, '"')) : ee.length != 1 ? (me.t = "n", me.f = ee.slice(1)) : (me.t = "s", me.v = ee) : ee == "TRUE" ? (me.t = "b", me.v = !0) : ee == "FALSE" ? (me.t = "b", me.v = !1) : isNaN(I = ms(ee)) ? !isNaN(Ld(ee).getDate()) || X && ee.match(X) ? (me.z = m.dateNF || De[14], ue = 0, X && ee.match(X) && (ee = function(Te, Ce) {
          var Fe = -1, ze = -1, Be = -1, Ye = -1, it = -1, at = -1;
          (Te.match(Rd) || []).forEach(function(_t, Vt) {
            var Ot = parseInt(Ce[Vt + 1], 10);
            switch (_t.toLowerCase().charAt(0)) {
              case "y":
                Fe = Ot;
                break;
              case "d":
                Be = Ot;
                break;
              case "h":
                Ye = Ot;
                break;
              case "s":
                at = Ot;
                break;
              case "m":
                0 <= Ye ? it = Ot : ze = Ot;
            }
          }), 0 <= at && it == -1 && 0 <= ze && (it = ze, ze = -1);
          var Xe = ("" + (0 <= Fe ? Fe : (/* @__PURE__ */ new Date()).getFullYear())).slice(-4) + "-" + ("00" + (1 <= ze ? ze : 1)).slice(-2) + "-" + ("00" + (1 <= Be ? Be : 1)).slice(-2);
          return (Xe = Xe.length == 7 ? "0" + Xe : Xe).length == 8 && (Xe = "20" + Xe), Te = ("00" + (0 <= Ye ? Ye : 0)).slice(-2) + ":" + ("00" + (0 <= it ? it : 0)).slice(-2) + ":" + ("00" + (0 <= at ? at : 0)).slice(-2), Ye == -1 && it == -1 && at == -1 ? Xe : Fe == -1 && ze == -1 && Be == -1 ? Te : Xe + "T" + Te;
        }(m.dateNF, ee.match(X) || []), ue = 1), m.cellDates ? (me.t = "d", me.v = jn(ee, ue)) : (me.t = "n", me.v = Hi(jn(ee, ue))), m.cellText !== !1 && (me.w = wr(me.z, me.v instanceof Date ? Hi(me.v) : me.v)), m.cellNF || delete me.z) : (me.t = "s", me.v = ee) : (!(me.t = "n") !== m.cellText && (me.w = ee), me.v = I), me.t == "z" || (m.dense ? (T[C] || (T[C] = []), T[C][D] = me) : T[kr({ c: D, r: C })] = me), R = N + 1, oe = h.charCodeAt(R), A.e.c < D && (A.e.c = D), A.e.r < C && (A.e.r = C), j != W)
          return D = 0, ++C, m.sheetRows && m.sheetRows <= C ? 1 : void 0;
        ++D;
      }
      e:
        for (; N < h.length; ++N)
          switch (j = h.charCodeAt(N)) {
            case 34:
              oe === 34 && (H = !H);
              break;
            case W:
            case 10:
            case 13:
              if (!H && _e())
                break e;
          }
      return 0 < N - R && _e(), T["!ref"] = Ur(A), T;
    }
    function mee(h, g) {
      return !g || !g.PRN || g.FS || h.slice(0, 4) == "sep=" || 0 <= h.indexOf("	") || 0 <= h.indexOf(",") || 0 <= h.indexOf(";") ? gee(h, g) : Nd(function(m, b) {
        var T = b || {}, A = [];
        if (!m || m.length === 0)
          return A;
        for (var C = m.split(/[\r\n]/), D = C.length - 1; 0 <= D && C[D].length === 0; )
          --D;
        for (var I = 10, R = 0, N = 0; N <= D; ++N)
          (R = C[N].indexOf(" ")) == -1 ? R = C[N].length : R++, I = Math.max(I, R);
        for (N = 0; N <= D; ++N) {
          A[N] = [];
          var W = 0;
          for (p7(C[N].slice(0, I).trim(), A, N, W, T), W = 1; W <= (C[N].length - I) / 10 + 1; ++W)
            p7(C[N].slice(I + 10 * (W - 1), I + 10 * W).trim(), A, N, W, T);
        }
        return A = T.sheetRows ? A.slice(0, T.sheetRows) : A;
      }(h, g), g);
    }
    function g7(h, g) {
      var m = "", b = g.type == "string" ? [0, 0, 0, 0] : d4(h, g);
      switch (g.type) {
        case "base64":
          m = E(h);
          break;
        case "binary":
          m = h;
          break;
        case "buffer":
          m = g.codepage == 65001 ? h.toString("utf8") : g.codepage && n !== void 0 ? n.utils.decode(g.codepage, h) : M && Buffer.isBuffer(h) ? h.toString("binary") : U(h);
          break;
        case "array":
          m = vh(h);
          break;
        case "string":
          m = h;
          break;
        default:
          throw new Error("Unrecognized type " + g.type);
      }
      return b[0] == 239 && b[1] == 187 && b[2] == 191 ? m = Rn(m.slice(3)) : g.type != "string" && g.type != "buffer" && g.codepage == 65001 ? m = Rn(m) : g.type == "binary" && n !== void 0 && g.codepage && (m = n.utils.decode(g.codepage, n.utils.encode(28591, m))), m.slice(0, 19) == "socialcalc:version:" ? f7.to_sheet(g.type == "string" ? m : Rn(m), g) : mee(m, g);
    }
    var Wm, Ux, Gx, m7, Ah = (Wm = { 51: ["FALSE", 0], 52: ["TRUE", 0], 70: ["LEN", 1], 80: ["SUM", 69], 81: ["AVERAGEA", 69], 82: ["COUNTA", 69], 83: ["MINA", 69], 84: ["MAXA", 69], 111: ["T", 1] }, Ux = ["", "", "", "", "", "", "", "", "", "+", "-", "*", "/", "^", "=", "<>", "<=", ">=", "<", ">", "", "", "", "", "&", "", "", "", "", "", "", ""], Gx = { 0: { n: "BOF", f: Oi }, 1: { n: "EOF" }, 2: { n: "CALCMODE" }, 3: { n: "CALCORDER" }, 4: { n: "SPLIT" }, 5: { n: "SYNC" }, 6: { n: "RANGE", f: function(h, g, m) {
      var b = { s: { c: 0, r: 0 }, e: { c: 0, r: 0 } };
      return g == 8 && m.qpro ? (b.s.c = h.read_shift(1), h.l++, b.s.r = h.read_shift(2), b.e.c = h.read_shift(1), h.l++, b.e.r = h.read_shift(2)) : (b.s.c = h.read_shift(2), b.s.r = h.read_shift(2), g == 12 && m.qpro && (h.l += 2), b.e.c = h.read_shift(2), b.e.r = h.read_shift(2), g == 12 && m.qpro && (h.l += 2), b.s.c == 65535 && (b.s.c = b.e.c = b.s.r = b.e.r = 0)), b;
    } }, 7: { n: "WINDOW1" }, 8: { n: "COLW1" }, 9: { n: "WINTWO" }, 10: { n: "COLW2" }, 11: { n: "NAME" }, 12: { n: "BLANK" }, 13: { n: "INTEGER", f: function(h, g, m) {
      return (m = Hm(h, 0, m))[1].v = h.read_shift(2, "i"), m;
    } }, 14: { n: "NUMBER", f: function(h, g, m) {
      return (m = Hm(h, 0, m))[1].v = h.read_shift(8, "f"), m;
    } }, 15: { n: "LABEL", f: _7 }, 16: { n: "FORMULA", f: function(h, g, m) {
      var b = h.l + g;
      return (g = Hm(h, 0, m))[1].v = h.read_shift(8, "f"), m.qpro ? h.l = b : (b = h.read_shift(2), function(T, A) {
        da(T, 0);
        for (var C = [], D = 0, I = "", R = "", N = "", W = ""; T.l < T.length; ) {
          var H = T[T.l++];
          switch (H) {
            case 0:
              C.push(T.read_shift(8, "f"));
              break;
            case 1:
              R = zd(A[0].c, T.read_shift(2), !0), I = zd(A[0].r, T.read_shift(2), !1), C.push(R + I);
              break;
            case 2:
              var j = zd(A[0].c, T.read_shift(2), !0), oe = zd(A[0].r, T.read_shift(2), !1);
              R = zd(A[0].c, T.read_shift(2), !0), I = zd(A[0].r, T.read_shift(2), !1), C.push(j + oe + ":" + R + I);
              break;
            case 3:
              if (T.l < T.length)
                return console.error("WK1 premature formula end");
              break;
            case 4:
              C.push("(" + C.pop() + ")");
              break;
            case 5:
              C.push(T.read_shift(2));
              break;
            case 6:
              for (var X = ""; H = T[T.l++]; )
                X += String.fromCharCode(H);
              C.push('"' + X.replace(/"/g, '""') + '"');
              break;
            case 8:
              C.push("-" + C.pop());
              break;
            case 23:
              C.push("+" + C.pop());
              break;
            case 22:
              C.push("NOT(" + C.pop() + ")");
              break;
            case 20:
            case 21:
              W = C.pop(), N = C.pop(), C.push(["AND", "OR"][H - 20] + "(" + N + "," + W + ")");
              break;
            default:
              if (H < 32 && Ux[H])
                W = C.pop(), N = C.pop(), C.push(N + Ux[H] + W);
              else {
                if (!Wm[H])
                  return H <= 7 ? console.error("WK1 invalid opcode " + H.toString(16)) : H <= 24 ? console.error("WK1 unsupported op " + H.toString(16)) : H <= 30 ? console.error("WK1 invalid opcode " + H.toString(16)) : H <= 115 ? console.error("WK1 unsupported function opcode " + H.toString(16)) : console.error("WK1 unrecognized opcode " + H.toString(16));
                if ((D = (D = Wm[H][1]) == 69 ? T[T.l++] : D) > C.length)
                  return console.error("WK1 bad formula parse 0x" + H.toString(16) + ":|" + C.join("|") + "|");
                oe = C.slice(-D), C.length -= D, C.push(Wm[H][0] + "(" + oe.join(",") + ")");
              }
          }
        }
        C.length == 1 ? A[1].f = "" + C[0] : console.error("WK1 bad formula parse |" + C.join("|") + "|");
      }(h.slice(h.l, h.l + b), g), h.l += b), g;
    } }, 24: { n: "TABLE" }, 25: { n: "ORANGE" }, 26: { n: "PRANGE" }, 27: { n: "SRANGE" }, 28: { n: "FRANGE" }, 29: { n: "KRANGE1" }, 32: { n: "HRANGE" }, 35: { n: "KRANGE2" }, 36: { n: "PROTEC" }, 37: { n: "FOOTER" }, 38: { n: "HEADER" }, 39: { n: "SETUP" }, 40: { n: "MARGINS" }, 41: { n: "LABELFMT" }, 42: { n: "TITLES" }, 43: { n: "SHEETJS" }, 45: { n: "GRAPH" }, 46: { n: "NGRAPH" }, 47: { n: "CALCCOUNT" }, 48: { n: "UNFORMATTED" }, 49: { n: "CURSORW12" }, 50: { n: "WINDOW" }, 51: { n: "STRING", f: _7 }, 55: { n: "PASSWORD" }, 56: { n: "LOCKED" }, 60: { n: "QUERY" }, 61: { n: "QUERYNAME" }, 62: { n: "PRINT" }, 63: { n: "PRINTNAME" }, 64: { n: "GRAPH2" }, 65: { n: "GRAPHNAME" }, 66: { n: "ZOOM" }, 67: { n: "SYMSPLIT" }, 68: { n: "NSROWS" }, 69: { n: "NSCOLS" }, 70: { n: "RULER" }, 71: { n: "NNAME" }, 72: { n: "ACOMM" }, 73: { n: "AMACRO" }, 74: { n: "PARSE" }, 102: { n: "PRANGES??" }, 103: { n: "RRANGES??" }, 104: { n: "FNAME??" }, 105: { n: "MRANGES??" }, 204: { n: "SHEETNAMECS", f: S7 }, 222: { n: "SHEETNAMELP", f: function(h, g) {
      var m = h[h.l++];
      g - 1 < m && (m = g - 1);
      for (var b = ""; b.length < m; )
        b += String.fromCharCode(h[h.l++]);
      return b;
    } }, 65535: { n: "" } }, m7 = { 0: { n: "BOF" }, 1: { n: "EOF" }, 2: { n: "PASSWORD" }, 3: { n: "CALCSET" }, 4: { n: "WINDOWSET" }, 5: { n: "SHEETCELLPTR" }, 6: { n: "SHEETLAYOUT" }, 7: { n: "COLUMNWIDTH" }, 8: { n: "HIDDENCOLUMN" }, 9: { n: "USERRANGE" }, 10: { n: "SYSTEMRANGE" }, 11: { n: "ZEROFORCE" }, 12: { n: "SORTKEYDIR" }, 13: { n: "FILESEAL" }, 14: { n: "DATAFILLNUMS" }, 15: { n: "PRINTMAIN" }, 16: { n: "PRINTSTRING" }, 17: { n: "GRAPHMAIN" }, 18: { n: "GRAPHSTRING" }, 19: { n: "??" }, 20: { n: "ERRCELL" }, 21: { n: "NACELL" }, 22: { n: "LABEL16", f: function(h, g) {
      var m = fv(h);
      return m[1].t = "s", m[1].v = h.read_shift(g - 4, "cstr"), m;
    } }, 23: { n: "NUMBER17", f: b7 }, 24: { n: "NUMBER18", f: function(h, g) {
      var m = fv(h);
      m[1].v = h.read_shift(2);
      var b = m[1].v >> 1;
      if (1 & m[1].v)
        switch (7 & b) {
          case 0:
            b = 5e3 * (b >> 3);
            break;
          case 1:
            b = 500 * (b >> 3);
            break;
          case 2:
            b = (b >> 3) / 20;
            break;
          case 3:
            b = (b >> 3) / 200;
            break;
          case 4:
            b = (b >> 3) / 2e3;
            break;
          case 5:
            b = (b >> 3) / 2e4;
            break;
          case 6:
            b = (b >> 3) / 16;
            break;
          case 7:
            b = (b >> 3) / 64;
        }
      return m[1].v = b, m;
    } }, 25: { n: "FORMULA19", f: function(h, g) {
      var m = b7(h);
      return h.l += g - 14, m;
    } }, 26: { n: "FORMULA1A" }, 27: { n: "XFORMAT", f: function(h, g) {
      for (var m = {}, b = h.l + g; h.l < b; ) {
        var T = h.read_shift(2);
        if (T == 14e3) {
          for (m[T] = [0, ""], m[T][0] = h.read_shift(2); h[h.l]; )
            m[T][1] += String.fromCharCode(h[h.l]), h.l++;
          h.l++;
        }
      }
      return m;
    } }, 28: { n: "DTLABELMISC" }, 29: { n: "DTLABELCELL" }, 30: { n: "GRAPHWINDOW" }, 31: { n: "CPA" }, 32: { n: "LPLAUTO" }, 33: { n: "QUERY" }, 34: { n: "HIDDENSHEET" }, 35: { n: "??" }, 37: { n: "NUMBER25", f: function(b, g) {
      var m = fv(b), b = b.read_shift(4);
      return m[1].v = b >> 6, m;
    } }, 38: { n: "??" }, 39: { n: "NUMBER27", f: w7 }, 40: { n: "FORMULA28", f: function(h, g) {
      var m = w7(h);
      return h.l += g - 10, m;
    } }, 142: { n: "??" }, 147: { n: "??" }, 150: { n: "??" }, 151: { n: "??" }, 152: { n: "??" }, 153: { n: "??" }, 154: { n: "??" }, 155: { n: "??" }, 156: { n: "??" }, 163: { n: "??" }, 174: { n: "??" }, 175: { n: "??" }, 176: { n: "??" }, 177: { n: "??" }, 184: { n: "??" }, 185: { n: "??" }, 186: { n: "??" }, 187: { n: "??" }, 188: { n: "??" }, 195: { n: "??" }, 201: { n: "??" }, 204: { n: "SHEETNAMECS", f: S7 }, 205: { n: "??" }, 206: { n: "??" }, 207: { n: "??" }, 208: { n: "??" }, 256: { n: "??" }, 259: { n: "??" }, 260: { n: "??" }, 261: { n: "??" }, 262: { n: "??" }, 263: { n: "??" }, 265: { n: "??" }, 266: { n: "??" }, 267: { n: "??" }, 268: { n: "??" }, 270: { n: "??" }, 271: { n: "??" }, 384: { n: "??" }, 389: { n: "??" }, 390: { n: "??" }, 393: { n: "??" }, 396: { n: "??" }, 512: { n: "??" }, 514: { n: "??" }, 513: { n: "??" }, 516: { n: "??" }, 517: { n: "??" }, 640: { n: "??" }, 641: { n: "??" }, 642: { n: "??" }, 643: { n: "??" }, 644: { n: "??" }, 645: { n: "??" }, 646: { n: "??" }, 647: { n: "??" }, 648: { n: "??" }, 658: { n: "??" }, 659: { n: "??" }, 660: { n: "??" }, 661: { n: "??" }, 662: { n: "??" }, 665: { n: "??" }, 666: { n: "??" }, 768: { n: "??" }, 772: { n: "??" }, 1537: { n: "SHEETINFOQP", f: function(h, g, m) {
      if (m.qpro && !(g < 21))
        return m = h.read_shift(1), h.l += 17, h.l += 1, h.l += 2, [m, h.read_shift(g - 21, "cstr")];
    } }, 1600: { n: "??" }, 1602: { n: "??" }, 1793: { n: "??" }, 1794: { n: "??" }, 1795: { n: "??" }, 1796: { n: "??" }, 1920: { n: "??" }, 2048: { n: "??" }, 2049: { n: "??" }, 2052: { n: "??" }, 2688: { n: "??" }, 10998: { n: "??" }, 12849: { n: "??" }, 28233: { n: "??" }, 28484: { n: "??" }, 65535: { n: "" } }, { sheet_to_wk1: function(h, g) {
      var m = g || {};
      if (0 <= +m.codepage && f(+m.codepage), m.type == "string")
        throw new Error("Cannot write WK1 to JS string");
      var b = io(), T = nn(h["!ref"]), A = Array.isArray(h), C = [];
      Lt(b, 0, (g = 1030, (m = tt(2)).write_shift(2, g), m)), Lt(b, 6, (g = T, (m = tt(8)).write_shift(2, g.s.c), m.write_shift(2, g.s.r), m.write_shift(2, g.e.c), m.write_shift(2, g.e.r), m));
      for (var D, I, R, N, W = Math.min(T.e.r, 8191), H = T.s.r; H <= W; ++H)
        for (var j = di(H), oe = T.s.c; oe <= T.e.c; ++oe) {
          H === T.s.r && (C[oe] = Xn(oe));
          var X = C[oe] + j, X = A ? (h[H] || [])[oe] : h[X];
          X && X.t != "z" && (X.t == "n" ? (0 | X.v) == X.v && -32768 <= X.v && X.v <= 32767 ? Lt(b, 13, (D = H, I = oe, R = X.v, N = void 0, (N = tt(7)).write_shift(1, 255), N.write_shift(2, I), N.write_shift(2, D), N.write_shift(2, R, "i"), N)) : Lt(b, 14, (I = H, D = oe, R = X.v, N = void 0, (N = tt(13)).write_shift(1, 255), N.write_shift(2, D), N.write_shift(2, I), N.write_shift(8, R, "f"), N)) : Lt(b, 15, function(_e, ue, ee) {
            var me = tt(7 + ee.length);
            me.write_shift(1, 255), me.write_shift(2, ue), me.write_shift(2, _e), me.write_shift(1, 39);
            for (var Te = 0; Te < me.length; ++Te) {
              var Ce = ee.charCodeAt(Te);
              me.write_shift(1, 128 <= Ce ? 95 : Ce);
            }
            return me.write_shift(1, 0), me;
          }(H, oe, Zs(X).slice(0, 239))));
        }
      return Lt(b, 1), b.end();
    }, book_to_wk3: function(h, g) {
      if (0 <= +(g = g || {}).codepage && f(+g.codepage), g.type == "string")
        throw new Error("Cannot write WK3 to JS string");
      var m = io();
      Lt(m, 0, function(X) {
        var _e = tt(26);
        _e.write_shift(2, 4096), _e.write_shift(2, 4), _e.write_shift(4, 0);
        for (var ue = 0, ee = 0, me = 0, Te = 0; Te < X.SheetNames.length; ++Te) {
          var Ce = X.SheetNames[Te], Ce = X.Sheets[Ce];
          Ce && Ce["!ref"] && (++me, Ce = Ya(Ce["!ref"]), ue < Ce.e.r && (ue = Ce.e.r), ee < Ce.e.c && (ee = Ce.e.c));
        }
        return 8191 < ue && (ue = 8191), _e.write_shift(2, ue), _e.write_shift(1, me), _e.write_shift(1, ee), _e.write_shift(2, 0), _e.write_shift(2, 0), _e.write_shift(1, 1), _e.write_shift(1, 2), _e.write_shift(4, 0), _e.write_shift(4, 0), _e;
      }(h));
      for (var b = 0, T = 0; b < h.SheetNames.length; ++b)
        (h.Sheets[h.SheetNames[b]] || {})["!ref"] && Lt(m, 27, function(X, _e) {
          var ue = tt(5 + X.length);
          ue.write_shift(2, 14e3), ue.write_shift(2, _e);
          for (var ee = 0; ee < X.length; ++ee) {
            var me = X.charCodeAt(ee);
            ue[ue.l++] = 127 < me ? 95 : me;
          }
          return ue[ue.l++] = 0, ue;
        }(h.SheetNames[b], T++));
      for (var A = 0, b = 0; b < h.SheetNames.length; ++b) {
        var C = h.Sheets[h.SheetNames[b]];
        if (C && C["!ref"]) {
          for (var D = nn(C["!ref"]), I = Array.isArray(C), R = [], N = Math.min(D.e.r, 8191), W = D.s.r; W <= N; ++W)
            for (var H = di(W), j = D.s.c; j <= D.e.c; ++j) {
              W === D.s.r && (R[j] = Xn(j));
              var oe = R[j] + H, oe = I ? (C[W] || [])[j] : C[oe];
              oe && oe.t != "z" && (oe.t == "n" ? Lt(m, 23, function(Fe, Be, ze, me) {
                var Te = tt(14);
                if (Te.write_shift(2, Fe), Te.write_shift(1, ze), Te.write_shift(1, Be), me == 0)
                  return Te.write_shift(4, 0), Te.write_shift(4, 0), Te.write_shift(2, 65535), Te;
                var Ce = 0, Fe = 0, ze = 0, Be = 0;
                return me < 0 && (Ce = 1, me = -me), Fe = 0 | Math.log2(me), me /= Math.pow(2, Fe - 31), !(2147483648 & (Be = me >>> 0)) && (++Fe, Be = (me /= 2) >>> 0), me -= Be, Be |= 2147483648, Be >>>= 0, me *= Math.pow(2, 32), ze = me >>> 0, Te.write_shift(4, ze), Te.write_shift(4, Be), Fe += 16383 + (Ce ? 32768 : 0), Te.write_shift(2, Fe), Te;
              }(W, j, A, oe.v)) : Lt(m, 22, function(_e, ue, ee, me) {
                var Te = tt(6 + me.length);
                Te.write_shift(2, _e), Te.write_shift(1, ee), Te.write_shift(1, ue), Te.write_shift(1, 39);
                for (var Ce = 0; Ce < me.length; ++Ce) {
                  var Fe = me.charCodeAt(Ce);
                  Te.write_shift(1, 128 <= Fe ? 95 : Fe);
                }
                return Te.write_shift(1, 0), Te;
              }(W, j, A, Zs(oe).slice(0, 239))));
            }
          ++A;
        }
      }
      return Lt(m, 1), m.end();
    }, to_workbook: function(h, g) {
      switch (g.type) {
        case "base64":
          return zx(F(E(h)), g);
        case "binary":
          return zx(F(h), g);
        case "buffer":
        case "array":
          return zx(h, g);
      }
      throw "Unsupported type " + g.type;
    } });
    function y7(h, g, m) {
      if (h) {
        da(h, h.l || 0);
        for (var b = m.Enum || Gx; h.l < h.length; ) {
          var T = h.read_shift(2), A = b[T] || b[65535], D = h.read_shift(2), C = h.l + D, D = A.f && A.f(h, D, m);
          if (h.l = C, g(D, A, T))
            return;
        }
      }
    }
    function zx(h, g) {
      if (!h)
        return h;
      var m = g || {}, b = m.dense ? [] : {}, T = "Sheet1", A = "", C = 0, D = {}, I = [], R = [], N = { s: { r: 0, c: 0 }, e: { r: 0, c: 0 } }, W = m.sheetRows || 0;
      if (h[2] == 0 && (h[3] == 8 || h[3] == 9) && 16 <= h.length && h[14] == 5 && h[15] === 108)
        throw new Error("Unsupported Works 3 for Mac file");
      if (h[2] == 2)
        m.Enum = Gx, y7(h, function(X, _e, ue) {
          switch (ue) {
            case 0:
              4096 <= (m.vers = X) && (m.qpro = !0);
              break;
            case 6:
              N = X;
              break;
            case 204:
              X && (A = X);
              break;
            case 222:
              A = X;
              break;
            case 15:
            case 51:
              m.qpro || (X[1].v = X[1].v.slice(1));
            case 13:
            case 14:
            case 16:
              ue == 14 && (112 & X[2]) == 112 && 1 < (15 & X[2]) && (15 & X[2]) < 15 && (X[1].z = m.dateNF || De[14], m.cellDates && (X[1].t = "d", X[1].v = Tm(X[1].v))), m.qpro && X[3] > C && (b["!ref"] = Ur(N), D[T] = b, I.push(T), b = m.dense ? [] : {}, N = { s: { r: 0, c: 0 }, e: { r: 0, c: 0 } }, C = X[3], T = A || "Sheet" + (C + 1), A = "");
              var ee = m.dense ? (b[X[0].r] || [])[X[0].c] : b[kr(X[0])];
              if (ee) {
                ee.t = X[1].t, ee.v = X[1].v, X[1].z != null && (ee.z = X[1].z), X[1].f != null && (ee.f = X[1].f);
                break;
              }
              m.dense ? (b[X[0].r] || (b[X[0].r] = []), b[X[0].r][X[0].c] = X[1]) : b[kr(X[0])] = X[1];
          }
        }, m);
      else {
        if (h[2] != 26 && h[2] != 14)
          throw new Error("Unrecognized LOTUS BOF " + h[2]);
        m.Enum = m7, h[2] == 14 && (m.qpro = !0, h.l = 0), y7(h, function(X, _e, ue) {
          switch (ue) {
            case 204:
              T = X;
              break;
            case 22:
              X[1].v = X[1].v.slice(1);
            case 23:
            case 24:
            case 25:
            case 37:
            case 39:
            case 40:
              if (X[3] > C && (b["!ref"] = Ur(N), D[T] = b, I.push(T), b = m.dense ? [] : {}, N = { s: { r: 0, c: 0 }, e: { r: 0, c: 0 } }, C = X[3], T = "Sheet" + (C + 1)), 0 < W && X[0].r >= W)
                break;
              m.dense ? (b[X[0].r] || (b[X[0].r] = []), b[X[0].r][X[0].c] = X[1]) : b[kr(X[0])] = X[1], N.e.c < X[0].c && (N.e.c = X[0].c), N.e.r < X[0].r && (N.e.r = X[0].r);
              break;
            case 27:
              X[14e3] && (R[X[14e3][0]] = X[14e3][1]);
              break;
            case 1537:
              R[X[0]] = X[1], X[0] == C && (T = X[1]);
          }
        }, m);
      }
      if (b["!ref"] = Ur(N), D[A || T] = b, I.push(A || T), !R.length)
        return { SheetNames: I, Sheets: D };
      for (var H = {}, j = [], oe = 0; oe < R.length; ++oe)
        D[I[oe]] ? (j.push(R[oe] || I[oe]), H[R[oe]] = D[R[oe]] || D[I[oe]]) : (j.push(R[oe]), H[R[oe]] = { "!ref": "A1" });
      return { SheetNames: j, Sheets: H };
    }
    function Hm(h, g, m) {
      var b = [{ c: 0, r: 0 }, { t: "n", v: 0 }, 0, 0];
      return m.qpro && m.vers != 20768 ? (b[0].c = h.read_shift(1), b[3] = h.read_shift(1), b[0].r = h.read_shift(2), h.l += 2) : (b[2] = h.read_shift(1), b[0].c = h.read_shift(2), b[0].r = h.read_shift(2)), b;
    }
    function _7(h, T, m) {
      var b = h.l + T, T = Hm(h, 0, m);
      return T[1].t = "s", m.vers != 20768 ? (m.qpro && h.l++, T[1].v = h.read_shift(b - h.l, "cstr"), T) : (h.l++, b = h.read_shift(1), T[1].v = h.read_shift(b, "utf8"), T);
    }
    function zd(h, g, m) {
      var b = 32768 & g;
      return (b ? "" : "$") + (m ? Xn : di)(g = (b ? h : 0) + (8192 <= (g &= -32769) ? g - 16384 : g));
    }
    function fv(h) {
      var g = [{ c: 0, r: 0 }, { t: "n", v: 0 }, 0];
      return g[0].r = h.read_shift(2), g[3] = h[h.l++], g[0].c = h[h.l++], g;
    }
    function b7(A, g) {
      var m = fv(A), b = A.read_shift(4), T = A.read_shift(4);
      if ((C = A.read_shift(2)) == 65535)
        return b === 0 && T === 3221225472 ? (m[1].t = "e", m[1].v = 15) : b === 0 && T === 3489660928 ? (m[1].t = "e", m[1].v = 42) : m[1].v = 0, m;
      var A = 32768 & C, C = (32767 & C) - 16446;
      return m[1].v = (1 - 2 * A) * (T * Math.pow(2, 32 + C) + b * Math.pow(2, C)), m;
    }
    function w7(b, g) {
      var m = fv(b), b = b.read_shift(8, "f");
      return m[1].v = b, m;
    }
    function S7(h, g) {
      return h[h.l + g - 1] == 0 ? h.read_shift(g, "cstr") : "";
    }
    var x7, T7, C7, A7, yee = (x7 = tv("t"), T7 = tv("rPr"), C7 = /<(?:\w+:)?r>/g, A7 = /<\/(?:\w+:)?r>/, function(h) {
      return h.replace(C7, "").split(A7).map(_ee).filter(function(g) {
        return g.v;
      });
    });
    function _ee(h) {
      var g = h.match(x7);
      return g ? (g = { t: "s", v: dn(g[1]) }, h = h.match(T7), h && (g.s = function(m) {
        var b = {}, T = m.match(Ca), A = 0, C = !1;
        if (T)
          for (; A != T.length; ++A) {
            var D = Dr(T[A]);
            switch (D[0].replace(/\w*:/g, "")) {
              case "<condense":
              case "<extend":
                break;
              case "<shadow":
                if (!D.val)
                  break;
              case "<shadow>":
              case "<shadow/>":
                b.shadow = 1;
                break;
              case "</shadow>":
                break;
              case "<charset":
                if (D.val == "1")
                  break;
                b.cp = u[parseInt(D.val, 10)];
                break;
              case "<outline":
                if (!D.val)
                  break;
              case "<outline>":
              case "<outline/>":
                b.outline = 1;
                break;
              case "</outline>":
                break;
              case "<rFont":
                b.name = D.val;
                break;
              case "<sz":
                b.sz = D.val;
                break;
              case "<strike":
                if (!D.val)
                  break;
              case "<strike>":
              case "<strike/>":
                b.strike = 1;
                break;
              case "</strike>":
                break;
              case "<u":
                if (!D.val)
                  break;
                switch (D.val) {
                  case "double":
                    b.uval = "double";
                    break;
                  case "singleAccounting":
                    b.uval = "single-accounting";
                    break;
                  case "doubleAccounting":
                    b.uval = "double-accounting";
                }
              case "<u>":
              case "<u/>":
                b.u = 1;
                break;
              case "</u>":
                break;
              case "<b":
                if (D.val == "0")
                  break;
              case "<b>":
              case "<b/>":
                b.b = 1;
                break;
              case "</b>":
                break;
              case "<i":
                if (D.val == "0")
                  break;
              case "<i>":
              case "<i/>":
                b.i = 1;
                break;
              case "</i>":
                break;
              case "<color":
                D.rgb && (b.color = D.rgb.slice(2, 8));
                break;
              case "<color>":
              case "<color/>":
              case "</color>":
                break;
              case "<family":
                b.family = D.val;
                break;
              case "<family>":
              case "<family/>":
              case "</family>":
                break;
              case "<vertAlign":
                b.valign = D.val;
                break;
              case "<vertAlign>":
              case "<vertAlign/>":
              case "</vertAlign>":
              case "<scheme":
                break;
              case "<scheme>":
              case "<scheme/>":
              case "</scheme>":
                break;
              case "<extLst":
              case "<extLst>":
              case "</extLst>":
                break;
              case "<ext":
                C = !0;
                break;
              case "</ext>":
                C = !1;
                break;
              default:
                if (D[0].charCodeAt(1) !== 47 && !C)
                  throw new Error("Unrecognized rich format " + D[0]);
            }
          }
        return b;
      }(h[1])), g) : { t: "s", v: "" };
    }
    var E7, bee = (E7 = /(\r\n|\n)/g, function(h) {
      return h.map(wee).join("");
    });
    function wee(h) {
      var g, m, b, T = [[], h.v, []];
      return h.v ? (h.s && (g = h.s, m = T[0], b = T[2], h = [], g.u && h.push("text-decoration: underline;"), g.uval && h.push("text-underline-style:" + g.uval + ";"), g.sz && h.push("font-size:" + g.sz + "pt;"), g.outline && h.push("text-effect: outline;"), g.shadow && h.push("text-shadow: auto;"), m.push('<span style="' + h.join("") + '">'), g.b && (m.push("<b>"), b.push("</b>")), g.i && (m.push("<i>"), b.push("</i>")), g.strike && (m.push("<s>"), b.push("</s>")), (h = g.valign || "") == "superscript" || h == "super" ? h = "sup" : h == "subscript" && (h = "sub"), h != "" && (m.push("<" + h + ">"), b.push("</" + h + ">")), b.push("</span>")), T[0].join("") + T[1].replace(E7, "<br/>") + T[2].join("")) : "";
    }
    var See = /<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g, xee = /<(?:\w+:)?r>/, Tee = /<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;
    function Wx(h, b) {
      var m = !b || b.cellHTML, b = {};
      return h ? (h.match(/^\s*<(?:\w+:)?t[^>]*>/) ? (b.t = dn(Rn(h.slice(h.indexOf(">") + 1).split(/<\/(?:\w+:)?t>/)[0] || "")), b.r = Rn(h), m && (b.h = sx(b.t))) : h.match(xee) && (b.r = Rn(h), b.t = dn(Rn((h.replace(Tee, "").match(See) || []).join("").replace(Ca, ""))), m && (b.h = bee(yee(b.r)))), b) : { t: "" };
    }
    var Cee = /<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/, Aee = /<(?:\w+:)?(?:si|sstItem)>/g, Eee = /<\/(?:\w+:)?(?:si|sstItem)>/, Dee = /^\s|\s$|[\t\n\r]/;
    function D7(h, g) {
      if (!g.bookSST)
        return "";
      var m = [Ti];
      m[m.length] = Rt("sst", null, { xmlns: gh[0], count: h.Count, uniqueCount: h.Unique });
      for (var b, T, A = 0; A != h.length; ++A)
        h[A] != null && (T = "<si>", (b = h[A]).r ? T += b.r : (T += "<t", b.t || (b.t = ""), b.t.match(Dee) && (T += ' xml:space="preserve"'), T += ">" + Dn(b.t) + "</t>"), T += "</si>", m[m.length] = T);
      return 2 < m.length && (m[m.length] = "</sst>", m[1] = m[1].replace("/>", ">")), m.join("");
    }
    var kee = function(h, g) {
      var m = !1;
      return g == null && (m = !0, g = tt(15 + 4 * h.t.length)), g.write_shift(1, 0), ia(h.t, g), m ? g.slice(0, g.l) : g;
    };
    function Mee(h) {
      var g, m, b = io();
      ht(b, 159, (g = h, (m = m || tt(8)).write_shift(4, g.Count), m.write_shift(4, g.Unique), m));
      for (var T = 0; T < h.length; ++T)
        ht(b, 19, kee(h[T]));
      return ht(b, 160), b.end();
    }
    function k7(h) {
      if (n !== void 0)
        return n.utils.encode(s, h);
      for (var g = [], m = h.split(""), b = 0; b < m.length; ++b)
        g[b] = m[b].charCodeAt(0);
      return g;
    }
    function Yl(h, g) {
      var m = {};
      return m.Major = h.read_shift(2), m.Minor = h.read_shift(2), 4 <= g && (h.l += g - 4), m;
    }
    function Iee(h) {
      var g = [];
      h.l += 4;
      for (var m = h.read_shift(4); 0 < m--; )
        g.push(function(b) {
          for (var A = b.read_shift(4), T = b.l + A - 4, A = {}, C = b.read_shift(4), D = []; 0 < C--; )
            D.push({ t: b.read_shift(4), v: b.read_shift(0, "lpp4") });
          if (A.name = b.read_shift(0, "lpp4"), A.comps = D, b.l != T)
            throw new Error("Bad DataSpaceMapEntry: " + b.l + " != " + T);
          return A;
        }(h));
      return g;
    }
    function Pee(h) {
      var g, m, m = (m = {}, (g = h).read_shift(4), g.l += 4, m.id = g.read_shift(0, "lpp4"), m.name = g.read_shift(0, "lpp4"), m.R = Yl(g, 4), m.U = Yl(g, 4), m.W = Yl(g, 4), m);
      if (m.ename = h.read_shift(0, "8lpp4"), m.blksz = h.read_shift(4), m.cmode = h.read_shift(4), h.read_shift(4) != 4)
        throw new Error("Bad !Primary record");
      return m;
    }
    function M7(h, m) {
      var m = h.l + m, b = {};
      b.Flags = 63 & h.read_shift(4), h.l += 4, b.AlgID = h.read_shift(4);
      var T = !1;
      switch (b.AlgID) {
        case 26126:
        case 26127:
        case 26128:
          T = b.Flags == 36;
          break;
        case 26625:
          T = b.Flags == 4;
          break;
        case 0:
          T = b.Flags == 16 || b.Flags == 4 || b.Flags == 36;
          break;
        default:
          throw "Unrecognized encryption algorithm: " + b.AlgID;
      }
      if (!T)
        throw new Error("Encryption Flags/AlgID mismatch");
      return b.AlgIDHash = h.read_shift(4), b.KeySize = h.read_shift(4), b.ProviderType = h.read_shift(4), h.l += 8, b.CSPName = h.read_shift(m - h.l >> 1, "utf16le"), h.l = m, b;
    }
    function I7(h, b) {
      var m = {}, b = h.l + b;
      return h.l += 4, m.Salt = h.slice(h.l, h.l + 16), h.l += 16, m.Verifier = h.slice(h.l, h.l + 16), h.l += 16, h.read_shift(4), m.VerifierHash = h.slice(h.l, b), h.l = b, m;
    }
    function Ree(h) {
      var g = Yl(h);
      switch (g.Minor) {
        case 2:
          return [g.Minor, function(T) {
            if ((63 & T.read_shift(4)) != 36)
              throw new Error("EncryptionInfo mismatch");
            var b = T.read_shift(4), b = M7(T, b), T = I7(T, T.length - T.l);
            return { t: "Std", h: b, v: T };
          }(h)];
        case 3:
          return [g.Minor, function() {
            throw new Error("File is password-protected: ECMA-376 Extensible");
          }()];
        case 4:
          return [g.Minor, function(T) {
            var b = ["saltSize", "blockSize", "keyBits", "hashSize", "cipherAlgorithm", "cipherChaining", "hashAlgorithm", "saltValue"];
            T.l += 4;
            var T = T.read_shift(T.length - T.l, "utf8"), A = {};
            return T.replace(Ca, function(C) {
              var D = Dr(C);
              switch (Xs(D[0])) {
                case "<?xml":
                  break;
                case "<encryption":
                case "</encryption>":
                  break;
                case "<keyData":
                  b.forEach(function(I) {
                    A[I] = D[I];
                  });
                  break;
                case "<dataIntegrity":
                  A.encryptedHmacKey = D.encryptedHmacKey, A.encryptedHmacValue = D.encryptedHmacValue;
                  break;
                case "<keyEncryptors>":
                case "<keyEncryptors":
                  A.encs = [];
                  break;
                case "</keyEncryptors>":
                  break;
                case "<keyEncryptor":
                  A.uri = D.uri;
                  break;
                case "</keyEncryptor>":
                  break;
                case "<encryptedKey":
                  A.encs.push(D);
                  break;
                default:
                  throw D[0];
              }
            }), A;
          }(h)];
      }
      throw new Error("ECMA-376 Encrypted file unrecognized Version: " + g.Minor);
    }
    function Hx(h) {
      var g, m = 0, b = k7(h), T = b.length + 1, A = P(T);
      for (A[0] = b.length, g = 1; g != T; ++g)
        A[g] = b[g - 1];
      for (g = T - 1; 0 <= g; --g)
        m = ((16384 & m ? 1 : 0) | m << 1 & 32767) ^ A[g];
      return 52811 ^ m;
    }
    var $x, P7, R7, L7 = ($x = [187, 255, 255, 186, 255, 255, 185, 128, 0, 190, 15, 0, 191, 15, 0], P7 = [57840, 7439, 52380, 33984, 4364, 3600, 61902, 12606, 6258, 57657, 54287, 34041, 10252, 43370, 20163], R7 = [44796, 19929, 39858, 10053, 20106, 40212, 10761, 31585, 63170, 64933, 60267, 50935, 40399, 11199, 17763, 35526, 1453, 2906, 5812, 11624, 23248, 885, 1770, 3540, 7080, 14160, 28320, 56640, 55369, 41139, 20807, 41614, 21821, 43642, 17621, 28485, 56970, 44341, 19019, 38038, 14605, 29210, 60195, 50791, 40175, 10751, 21502, 43004, 24537, 18387, 36774, 3949, 7898, 15796, 31592, 63184, 47201, 24803, 49606, 37805, 14203, 28406, 56812, 17824, 35648, 1697, 3394, 6788, 13576, 27152, 43601, 17539, 35078, 557, 1114, 2228, 4456, 30388, 60776, 51953, 34243, 7079, 14158, 28316, 14128, 28256, 56512, 43425, 17251, 34502, 7597, 13105, 26210, 52420, 35241, 883, 1766, 3532, 4129, 8258, 16516, 33032, 4657, 9314, 18628], function(h) {
      for (var g, m, b = k7(h), T = function(I) {
        for (var R = P7[I.length - 1], N = 104, W = I.length - 1; 0 <= W; --W)
          for (var H = I[W], j = 0; j != 7; ++j)
            64 & H && (R ^= R7[N]), H *= 2, --N;
        return R;
      }(b), A = b.length, C = P(16), D = 0; D != 16; ++D)
        C[D] = 0;
      for ((1 & A) == 1 && (g = T >> 8, C[A] = Wd($x[0], g), --A, g = 255 & T, h = b[b.length - 1], C[A] = Wd(h, g)); 0 < A; )
        g = T >> 8, C[--A] = Wd(b[A], g), g = 255 & T, C[--A] = Wd(b[A], g);
      for (m = (A = 15) - b.length; 0 < m; )
        g = T >> 8, C[A] = Wd($x[m], g), --m, g = 255 & T, C[--A] = Wd(b[A], g), --A, --m;
      return C;
    });
    function Wd(h, g) {
      return 255 & ((g = h ^ g) / 2 | 128 * g);
    }
    var Lee = function(h) {
      var g = 0, m = L7(h);
      return function(b) {
        return b = function(T, A, C, D, I) {
          var R, N;
          for (I = I || A, D = D || L7(T), R = 0; R != A.length; ++R)
            N = A[R], N = 255 & ((N ^= D[C]) >> 5 | N << 3), I[R] = N, ++C;
          return [I, C, D];
        }("", b, g, m), g = b[1], b[0];
      };
    };
    function Oee(h, g, m) {
      return m = m || {}, m.Info = h.read_shift(2), h.l -= 2, m.Info === 1 ? m.Data = function(b) {
        var T = {}, A = T.EncryptionVersionInfo = Yl(b, 4);
        if (A.Major != 1 || A.Minor != 1)
          throw "unrecognized version code " + A.Major + " : " + A.Minor;
        return T.Salt = b.read_shift(16), T.EncryptedVerifier = b.read_shift(16), T.EncryptedVerifierHash = b.read_shift(16), T;
      }(h) : m.Data = function(b, T) {
        var A = {}, C = A.EncryptionVersionInfo = Yl(b, 4);
        if (T -= 4, C.Minor != 2)
          throw new Error("unrecognized minor version code: " + C.Minor);
        if (4 < C.Major || C.Major < 2)
          throw new Error("unrecognized major version code: " + C.Major);
        return A.Flags = b.read_shift(4), T -= 4, C = b.read_shift(4), T -= 4, A.EncryptionHeader = M7(b, C), T -= C, A.EncryptionVerifier = I7(b, T), A;
      }(h, g), m;
    }
    var O7 = { to_workbook: function(h, g) {
      return oc(F7(h, g), g);
    }, to_sheet: F7, from_sheet: function(h) {
      for (var g = ["{\\rtf1\\ansi"], m = nn(h["!ref"]), b = Array.isArray(h), T = m.s.r; T <= m.e.r; ++T) {
        g.push("\\trowd\\trautofit1");
        for (var A = m.s.c; A <= m.e.c; ++A)
          g.push("\\cellx" + (A + 1));
        for (g.push("\\pard\\intbl"), A = m.s.c; A <= m.e.c; ++A) {
          var C = kr({ r: T, c: A });
          (C = b ? (h[T] || [])[A] : h[C]) && (C.v != null || C.f && !C.F) && (g.push(" " + (C.w || (Zs(C), C.w))), g.push("\\cell"));
        }
        g.push("\\pard\\intbl\\row");
      }
      return g.join("") + "}";
    } };
    function F7(h, g) {
      switch (g.type) {
        case "base64":
          return $m(E(h), g);
        case "binary":
          return $m(h, g);
        case "buffer":
          return $m(M && Buffer.isBuffer(h) ? h.toString("binary") : U(h), g);
        case "array":
          return $m(vh(h), g);
      }
      throw new Error("Unrecognized type " + g.type);
    }
    function $m(b, g) {
      var m = (g || {}).dense ? [] : {}, b = b.match(/\\trowd.*?\\row\b/g);
      if (!b.length)
        throw new Error("RTF missing table");
      var T = { s: { c: 0, r: 0 }, e: { c: 0, r: b.length - 1 } };
      return b.forEach(function(A, C) {
        Array.isArray(m) && (m[C] = []);
        for (var D, I = /\\\w+\b/g, R = 0, N = -1; D = I.exec(A); )
          D[0] === "\\cell" && (++N, (D = (D = A.slice(R, I.lastIndex - D[0].length))[0] == " " ? D.slice(1) : D).length && (D = { v: D, t: "s" }, Array.isArray(m) ? m[C][N] = D : m[kr({ r: C, c: N })] = D)), R = I.lastIndex;
        N > T.e.c && (T.e.c = N);
      }), m["!ref"] = Ur(T), m;
    }
    function dv(h) {
      for (var g = 0, m = 1; g != 3; ++g)
        m = 256 * m + (255 < h[g] ? 255 : h[g] < 0 ? 0 : h[g]);
      return m.toString(16).toUpperCase().slice(1);
    }
    function Ym(h, g) {
      return g === 0 ? h : (h = function(N) {
        var b = N[0] / 255, T = N[1] / 255, A = N[2] / 255, C = Math.max(b, T, A), D = Math.min(b, T, A), I = C - D;
        if (I == 0)
          return [0, 0, b];
        var R = 0, N = 0, N = I / (1 < (D = C + D) ? 2 - D : D);
        switch (C) {
          case b:
            R = ((T - A) / I + 6) % 6;
            break;
          case T:
            R = (A - b) / I + 2;
            break;
          case A:
            R = (b - T) / I + 4;
        }
        return [R / 6, N, D / 2];
      }((h = (h = h).slice(h[0] === "#" ? 1 : 0).slice(0, 6), [parseInt(h.slice(0, 2), 16), parseInt(h.slice(2, 4), 16), parseInt(h.slice(4, 6), 16)])), h[2] = g < 0 ? h[2] * (1 + g) : 1 - (1 - h[2]) * (1 - g), dv(function(C) {
        var b, T = C[0], A = C[1], C = C[2], D = 2 * A * (C < 0.5 ? C : 1 - C), I = [C = C - D / 2, C, C], R = 6 * T;
        if (A !== 0)
          switch (0 | R) {
            case 0:
            case 6:
              b = D * R, I[0] += D, I[1] += b;
              break;
            case 1:
              b = D * (2 - R), I[0] += b, I[1] += D;
              break;
            case 2:
              b = D * (R - 2), I[1] += D, I[2] += b;
              break;
            case 3:
              b = D * (4 - R), I[1] += b, I[2] += D;
              break;
            case 4:
              b = D * (R - 4), I[2] += D, I[0] += b;
              break;
            case 5:
              b = D * (6 - R), I[2] += b, I[0] += D;
          }
        for (var N = 0; N != 3; ++N)
          I[N] = Math.round(255 * I[N]);
        return I;
      }(h)));
    }
    var N7 = 6, Fee = 15, Nee = 1, Ma = N7;
    function pv(h) {
      return Math.floor((h + Math.round(128 / Ma) / 256) * Ma);
    }
    function vv(h) {
      return Math.floor((h - 5) / Ma * 100 + 0.5) / 100;
    }
    function jm(h) {
      return Math.round((h * Ma + 5) / Ma * 256) / 256;
    }
    function Yx(h) {
      return jm(vv(pv(h)));
    }
    function jx(h) {
      var g = Math.abs(h - Yx(h)), m = Ma;
      if (5e-3 < g)
        for (Ma = Nee; Ma < Fee; ++Ma)
          Math.abs(h - Yx(h)) <= g && (g = Math.abs(h - Yx(h)), m = Ma);
      Ma = m;
    }
    function lc(h) {
      h.width ? (h.wpx = pv(h.width), h.wch = vv(h.wpx), h.MDW = Ma) : h.wpx ? (h.wch = vv(h.wpx), h.width = jm(h.wch), h.MDW = Ma) : typeof h.wch == "number" && (h.width = jm(h.wch), h.wpx = pv(h.width), h.MDW = Ma), h.customWidth && delete h.customWidth;
    }
    var B7 = 96;
    function gv(h) {
      return 96 * h / B7;
    }
    function Hd(h) {
      return h * B7 / 96;
    }
    var Bee = { None: "none", Solid: "solid", Gray50: "mediumGray", Gray75: "darkGray", Gray25: "lightGray", HorzStripe: "darkHorizontal", VertStripe: "darkVertical", ReverseDiagStripe: "darkDown", DiagStripe: "darkUp", DiagCross: "darkGrid", ThickDiagCross: "darkTrellis", ThinHorzStripe: "lightHorizontal", ThinVertStripe: "lightVertical", ThinReverseDiagStripe: "lightDown", ThinHorzCross: "lightGrid" }, qm = ["numFmtId", "fillId", "fontId", "borderId", "xfId"], Xm = ["applyAlignment", "applyBorder", "applyFill", "applyFont", "applyNumberFormat", "applyProtection", "pivotButton", "quotePrefix"], V7, U7, G7, z7, W7, mv, Vee = (V7 = /<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/, U7 = /<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/, G7 = /<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/, z7 = /<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/, W7 = /<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/, function(h, g, m) {
      var b, T, A, C, D, I = {};
      return h && ((b = (h = h.replace(/<!--([\s\S]*?)-->/gm, "").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm, "")).match(V7)) && function(R, N, W) {
        N.NumberFmt = [];
        for (var H = hi(De), j = 0; j < H.length; ++j)
          N.NumberFmt[H[j]] = De[H[j]];
        var oe = R[0].match(Ca);
        if (oe)
          for (j = 0; j < oe.length; ++j) {
            var X = Dr(oe[j]);
            switch (Xs(X[0])) {
              case "<numFmts":
              case "</numFmts>":
              case "<numFmts/>":
              case "<numFmts>":
                break;
              case "<numFmt":
                var _e = dn(Rn(X.formatCode)), ue = parseInt(X.numFmtId, 10);
                if (N.NumberFmt[ue] = _e, 0 < ue) {
                  if (392 < ue) {
                    for (ue = 392; 60 < ue && N.NumberFmt[ue] != null; --ue)
                      ;
                    N.NumberFmt[ue] = _e;
                  }
                  yr(_e, ue);
                }
                break;
              case "</numFmt>":
                break;
              default:
                if (W.WTF)
                  throw new Error("unrecognized " + X[0] + " in numFmts");
            }
          }
      }(b, I, m), (b = h.match(z7)) && function(R, N, W, H) {
        N.Fonts = [];
        var j = {}, oe = !1;
        (R[0].match(Ca) || []).forEach(function(X) {
          var _e, ue = Dr(X);
          switch (Xs(ue[0])) {
            case "<fonts":
            case "<fonts>":
            case "</fonts>":
              break;
            case "<font":
            case "<font>":
              break;
            case "</font>":
            case "<font/>":
              N.Fonts.push(j), j = {};
              break;
            case "<name":
              ue.val && (j.name = Rn(ue.val));
              break;
            case "<name/>":
            case "</name>":
              break;
            case "<b":
              j.bold = ue.val ? qn(ue.val) : 1;
              break;
            case "<b/>":
              j.bold = 1;
              break;
            case "<i":
              j.italic = ue.val ? qn(ue.val) : 1;
              break;
            case "<i/>":
              j.italic = 1;
              break;
            case "<u":
              switch (ue.val) {
                case "none":
                  j.underline = 0;
                  break;
                case "single":
                  j.underline = 1;
                  break;
                case "double":
                  j.underline = 2;
                  break;
                case "singleAccounting":
                  j.underline = 33;
                  break;
                case "doubleAccounting":
                  j.underline = 34;
              }
              break;
            case "<u/>":
              j.underline = 1;
              break;
            case "<strike":
              j.strike = ue.val ? qn(ue.val) : 1;
              break;
            case "<strike/>":
              j.strike = 1;
              break;
            case "<outline":
              j.outline = ue.val ? qn(ue.val) : 1;
              break;
            case "<outline/>":
              j.outline = 1;
              break;
            case "<shadow":
              j.shadow = ue.val ? qn(ue.val) : 1;
              break;
            case "<shadow/>":
              j.shadow = 1;
              break;
            case "<condense":
              j.condense = ue.val ? qn(ue.val) : 1;
              break;
            case "<condense/>":
              j.condense = 1;
              break;
            case "<extend":
              j.extend = ue.val ? qn(ue.val) : 1;
              break;
            case "<extend/>":
              j.extend = 1;
              break;
            case "<sz":
              ue.val && (j.sz = +ue.val);
              break;
            case "<sz/>":
            case "</sz>":
              break;
            case "<vertAlign":
              ue.val && (j.vertAlign = ue.val);
              break;
            case "<vertAlign/>":
            case "</vertAlign>":
              break;
            case "<family":
              ue.val && (j.family = parseInt(ue.val, 10));
              break;
            case "<family/>":
            case "</family>":
              break;
            case "<scheme":
              ue.val && (j.scheme = ue.val);
              break;
            case "<scheme/>":
            case "</scheme>":
              break;
            case "<charset":
              if (ue.val == "1")
                break;
              ue.codepage = u[parseInt(ue.val, 10)];
              break;
            case "<color":
              j.color || (j.color = {}), ue.auto && (j.color.auto = qn(ue.auto)), ue.rgb ? j.color.rgb = ue.rgb.slice(-6) : ue.indexed ? (j.color.index = parseInt(ue.indexed, 10), _e = sv[j.color.index], _e = (_e = j.color.index == 81 ? sv[1] : _e) || sv[1], j.color.rgb = _e[0].toString(16) + _e[1].toString(16) + _e[2].toString(16)) : ue.theme && (j.color.theme = parseInt(ue.theme, 10), ue.tint && (j.color.tint = parseFloat(ue.tint)), ue.theme && W.themeElements && W.themeElements.clrScheme && (j.color.rgb = Ym(W.themeElements.clrScheme[j.color.theme].rgb, j.color.tint || 0)));
              break;
            case "<color/>":
            case "</color>":
              break;
            case "<AlternateContent":
              oe = !0;
              break;
            case "</AlternateContent>":
              oe = !1;
              break;
            case "<extLst":
            case "<extLst>":
            case "</extLst>":
              break;
            case "<ext":
              oe = !0;
              break;
            case "</ext>":
              oe = !1;
              break;
            default:
              if (H && H.WTF && !oe)
                throw new Error("unrecognized " + ue[0] + " in fonts");
          }
        });
      }(b, I, g, m), (b = h.match(G7)) && function(R, N, W) {
        N.Fills = [];
        var H = {}, j = !1;
        (R[0].match(Ca) || []).forEach(function(oe) {
          var X = Dr(oe);
          switch (Xs(X[0])) {
            case "<fills":
            case "<fills>":
            case "</fills>":
              break;
            case "<fill>":
            case "<fill":
            case "<fill/>":
              H = {}, N.Fills.push(H);
              break;
            case "</fill>":
            case "<gradientFill>":
              break;
            case "<gradientFill":
            case "</gradientFill>":
              N.Fills.push(H), H = {};
              break;
            case "<patternFill":
            case "<patternFill>":
              X.patternType && (H.patternType = X.patternType);
              break;
            case "<patternFill/>":
            case "</patternFill>":
              break;
            case "<bgColor":
              H.bgColor || (H.bgColor = {}), X.indexed && (H.bgColor.indexed = parseInt(X.indexed, 10)), X.theme && (H.bgColor.theme = parseInt(X.theme, 10)), X.tint && (H.bgColor.tint = parseFloat(X.tint)), X.rgb && (H.bgColor.rgb = X.rgb.slice(-6));
              break;
            case "<bgColor/>":
            case "</bgColor>":
              break;
            case "<fgColor":
              H.fgColor || (H.fgColor = {}), X.theme && (H.fgColor.theme = parseInt(X.theme, 10)), X.tint && (H.fgColor.tint = parseFloat(X.tint)), X.rgb != null && (H.fgColor.rgb = X.rgb.slice(-6));
              break;
            case "<fgColor/>":
            case "</fgColor>":
              break;
            case "<stop":
            case "<stop/>":
            case "</stop>":
              break;
            case "<color":
            case "<color/>":
            case "</color>":
              break;
            case "<extLst":
            case "<extLst>":
            case "</extLst>":
              break;
            case "<ext":
              j = !0;
              break;
            case "</ext>":
              j = !1;
              break;
            default:
              if (W && W.WTF && !j)
                throw new Error("unrecognized " + X[0] + " in fills");
          }
        });
      }(b, I, m), (b = h.match(W7)) && function(R, N, W) {
        N.Borders = [];
        var H = {}, j = !1;
        (R[0].match(Ca) || []).forEach(function(oe) {
          var X = Dr(oe);
          switch (Xs(X[0])) {
            case "<borders":
            case "<borders>":
            case "</borders>":
              break;
            case "<border":
            case "<border>":
            case "<border/>":
              H = {}, X.diagonalUp && (H.diagonalUp = qn(X.diagonalUp)), X.diagonalDown && (H.diagonalDown = qn(X.diagonalDown)), N.Borders.push(H);
              break;
            case "</border>":
            case "<left/>":
              break;
            case "<left":
            case "<left>":
            case "</left>":
            case "<right/>":
              break;
            case "<right":
            case "<right>":
            case "</right>":
            case "<top/>":
              break;
            case "<top":
            case "<top>":
            case "</top>":
            case "<bottom/>":
              break;
            case "<bottom":
            case "<bottom>":
            case "</bottom>":
              break;
            case "<diagonal":
            case "<diagonal>":
            case "<diagonal/>":
            case "</diagonal>":
              break;
            case "<horizontal":
            case "<horizontal>":
            case "<horizontal/>":
            case "</horizontal>":
              break;
            case "<vertical":
            case "<vertical>":
            case "<vertical/>":
            case "</vertical>":
              break;
            case "<start":
            case "<start>":
            case "<start/>":
            case "</start>":
              break;
            case "<end":
            case "<end>":
            case "<end/>":
            case "</end>":
              break;
            case "<color":
            case "<color>":
              break;
            case "<color/>":
            case "</color>":
              break;
            case "<extLst":
            case "<extLst>":
            case "</extLst>":
              break;
            case "<ext":
              j = !0;
              break;
            case "</ext>":
              j = !1;
              break;
            default:
              if (W && W.WTF && !j)
                throw new Error("unrecognized " + X[0] + " in borders");
          }
        });
      }(b, I, m), (b = h.match(U7)) && (b = b, A = m, D = !((T = I).CellXf = []), (b[0].match(Ca) || []).forEach(function(R) {
        var N = Dr(R), W = 0;
        switch (Xs(N[0])) {
          case "<cellXfs":
          case "<cellXfs>":
          case "<cellXfs/>":
          case "</cellXfs>":
            break;
          case "<xf":
          case "<xf/>":
            for (delete (C = N)[0], W = 0; W < qm.length; ++W)
              C[qm[W]] && (C[qm[W]] = parseInt(C[qm[W]], 10));
            for (W = 0; W < Xm.length; ++W)
              C[Xm[W]] && (C[Xm[W]] = qn(C[Xm[W]]));
            if (T.NumberFmt && 392 < C.numFmtId) {
              for (W = 392; 60 < W; --W)
                if (T.NumberFmt[C.numFmtId] == T.NumberFmt[W]) {
                  C.numFmtId = W;
                  break;
                }
            }
            T.CellXf.push(C);
            break;
          case "</xf>":
            break;
          case "<alignment":
          case "<alignment/>":
            var H = {};
            N.vertical && (H.vertical = N.vertical), N.horizontal && (H.horizontal = N.horizontal), N.textRotation != null && (H.textRotation = N.textRotation), N.indent && (H.indent = N.indent), N.wrapText && (H.wrapText = qn(N.wrapText)), C.alignment = H;
            break;
          case "</alignment>":
          case "<protection":
            break;
          case "</protection>":
          case "<protection/>":
            break;
          case "<AlternateContent":
            D = !0;
            break;
          case "</AlternateContent>":
            D = !1;
            break;
          case "<extLst":
          case "<extLst>":
          case "</extLst>":
            break;
          case "<ext":
            D = !0;
            break;
          case "</ext>":
            D = !1;
            break;
          default:
            if (A && A.WTF && !D)
              throw new Error("unrecognized " + N[0] + " in cellXfs");
        }
      }))), I;
    });
    function H7(h, g) {
      if (mv !== void 0)
        return mv.toXml();
      var m, b, T, A, C = [Ti, Rt("styleSheet", null, { xmlns: gh[0], "xmlns:vt": $i.vt })];
      return h.SSF && (b = h.SSF, T = ["<numFmts>"], [[5, 8], [23, 26], [41, 44], [50, 392]].forEach(function(D) {
        for (var I = D[0]; I <= D[1]; ++I)
          b[I] != null && (T[T.length] = Rt("numFmt", null, { numFmtId: I, formatCode: Dn(b[I]) }));
      }), (m = T.length === 1 ? "" : (T[T.length] = "</numFmts>", T[0] = Rt("numFmts", null, { count: T.length - 2 }).replace("/>", ">"), T.join(""))) != null) && (C[C.length] = m), C[C.length] = '<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>', C[C.length] = '<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>', C[C.length] = '<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>', C[C.length] = '<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>', g = g.cellXfs, (A = [])[A.length] = "<cellXfs/>", g.forEach(function(D) {
        A[A.length] = Rt("xf", null, D);
      }), A[A.length] = "</cellXfs>", (m = A.length === 2 ? "" : (A[0] = Rt("cellXfs", null, { count: A.length - 2 }).replace("/>", ">"), A.join(""))) && (C[C.length] = m), C[C.length] = '<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>', C[C.length] = '<dxfs count="0"/>', C[C.length] = '<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>', 2 < C.length && (C[C.length] = "</styleSheet>", C[1] = C[1].replace("/>", ">")), C.join("");
    }
    function Uee(h, g) {
      var m;
      (g = g || tt(153)).write_shift(2, 20 * h.sz), m = h, b = (b = g) || tt(2), m = (m.italic ? 2 : 0) | (m.strike ? 8 : 0) | (m.outline ? 16 : 0) | (m.shadow ? 32 : 0) | (m.condense ? 64 : 0) | (m.extend ? 128 : 0), b.write_shift(1, m), b.write_shift(1, 0), g.write_shift(2, h.bold ? 700 : 400);
      var b = 0;
      return h.vertAlign == "superscript" ? b = 1 : h.vertAlign == "subscript" && (b = 2), g.write_shift(2, b), g.write_shift(1, h.underline || 0), g.write_shift(1, h.family || 0), g.write_shift(1, h.charset || 0), g.write_shift(1, 0), Im(h.color, g), b = 0, h.scheme == "major" && (b = 1), h.scheme == "minor" && (b = 2), g.write_shift(1, b), ia(h.name, g), g.length > g.l ? g.slice(0, g.l) : g;
    }
    var $7, Gee = ["none", "solid", "mediumGray", "darkGray", "lightGray", "darkHorizontal", "darkVertical", "darkDown", "darkUp", "darkGrid", "darkTrellis", "lightHorizontal", "lightVertical", "lightDown", "lightUp", "lightGrid", "lightTrellis", "gray125", "gray0625"], zee = Aa;
    function Y7(h, g) {
      g = g || tt(84), h = ($7 = $7 || bm(Gee))[h.patternType], h == null && (h = 40), g.write_shift(4, h);
      var m = 0;
      if (h != 40)
        for (Im({ auto: 1 }, g), Im({ auto: 1 }, g); m < 12; ++m)
          g.write_shift(4, 0);
      else {
        for (; m < 4; ++m)
          g.write_shift(4, 0);
        for (; m < 12; ++m)
          g.write_shift(4, 0);
      }
      return g.length > g.l ? g.slice(0, g.l) : g;
    }
    function j7(h, g, m) {
      return (m = m || tt(16)).write_shift(2, g || 0), m.write_shift(2, h.numFmtId || 0), m.write_shift(2, 0), m.write_shift(2, 0), m.write_shift(2, 0), m.write_shift(1, 0), m.write_shift(1, 0), m.write_shift(1, 0), m.write_shift(1, 0), m.write_shift(1, 0), m.write_shift(1, 0), m;
    }
    function yv(h, g) {
      return (g = g || tt(10)).write_shift(1, 0), g.write_shift(1, 0), g.write_shift(4, 0), g.write_shift(4, 0), g;
    }
    xm = Aa;
    function Wee(h, g) {
      var m;
      g && (m = 0, [[5, 8], [23, 26], [41, 44], [50, 392]].forEach(function(b) {
        for (var T = b[0]; T <= b[1]; ++T)
          g[T] != null && ++m;
      }), m != 0 && (ht(h, 615, ys(m)), [[5, 8], [23, 26], [41, 44], [50, 392]].forEach(function(b) {
        for (var T, A, C, D = b[0]; D <= b[1]; ++D)
          g[D] != null && ht(h, 44, (T = D, A = g[D], (C = (C = void 0) || tt(6 + 4 * A.length)).write_shift(2, T), ia(A, C), A = C.length > C.l ? C.slice(0, C.l) : C, C.l == null && (C.l = C.length), A));
      }), ht(h, 616)));
    }
    function Hee(h) {
      var g;
      ht(h, 613, ys(1)), ht(h, 46, ((g = g || tt(51)).write_shift(1, 0), yv(0, g), yv(0, g), yv(0, g), yv(0, g), yv(0, g), g.length > g.l ? g.slice(0, g.l) : g)), ht(h, 614);
    }
    function $ee(h) {
      var g, m;
      ht(h, 619, ys(1)), ht(h, 48, (g = { xfId: 0, builtinId: 0, name: "Normal" }, (m = m || tt(52)).write_shift(4, g.xfId), m.write_shift(2, 1), m.write_shift(1, +g.builtinId), m.write_shift(1, 0), Mm(g.name || "", m), m.length > m.l ? m.slice(0, m.l) : m)), ht(h, 620);
    }
    function Yee(h) {
      var g, m, b, T;
      ht(h, 508, (g = 0, m = "TableStyleMedium9", b = "PivotStyleMedium4", (T = tt(2052)).write_shift(4, g), Mm(m, T), Mm(b, T), T.length > T.l ? T.slice(0, T.l) : T)), ht(h, 509);
    }
    function jee(h, g) {
      var m, b = io();
      return ht(b, 278), Wee(b, h.SSF), ht(h = b, 611, ys(1)), ht(h, 43, Uee({ sz: 12, color: { theme: 1 }, name: "Calibri", family: 2, scheme: "minor" })), ht(h, 612), ht(h = b, 603, ys(2)), ht(h, 45, Y7({ patternType: "none" })), ht(h, 45, Y7({ patternType: "gray125" })), ht(h, 604), Hee(b), ht(h = b, 626, ys(1)), ht(h, 47, j7({ numFmtId: 0, fontId: 0, fillId: 0, borderId: 0 }, 65535)), ht(h, 627), m = b, g = g.cellXfs, ht(m, 617, ys(g.length)), g.forEach(function(T) {
        ht(m, 47, j7(T, 0));
      }), ht(m, 618), $ee(b), ht(g = b, 505, ys(0)), ht(g, 506), Yee(b), ht(b, 279), b.end();
    }
    var qee = ["</a:lt1>", "</a:dk1>", "</a:lt2>", "</a:dk2>", "</a:accent1>", "</a:accent2>", "</a:accent3>", "</a:accent4>", "</a:accent5>", "</a:accent6>", "</a:hlink>", "</a:folHlink>"];
    function Xee(h, g, m) {
      g.themeElements.clrScheme = [];
      var b = {};
      (h[0].match(Ca) || []).forEach(function(T) {
        var A = Dr(T);
        switch (A[0]) {
          case "<a:clrScheme":
          case "</a:clrScheme>":
            break;
          case "<a:srgbClr":
            b.rgb = A.val;
            break;
          case "<a:sysClr":
            b.rgb = A.lastClr;
            break;
          case "<a:dk1>":
          case "</a:dk1>":
          case "<a:lt1>":
          case "</a:lt1>":
          case "<a:dk2>":
          case "</a:dk2>":
          case "<a:lt2>":
          case "</a:lt2>":
          case "<a:accent1>":
          case "</a:accent1>":
          case "<a:accent2>":
          case "</a:accent2>":
          case "<a:accent3>":
          case "</a:accent3>":
          case "<a:accent4>":
          case "</a:accent4>":
          case "<a:accent5>":
          case "</a:accent5>":
          case "<a:accent6>":
          case "</a:accent6>":
          case "<a:hlink>":
          case "</a:hlink>":
          case "<a:folHlink>":
          case "</a:folHlink>":
            A[0].charAt(1) === "/" ? (g.themeElements.clrScheme[qee.indexOf(A[0])] = b, b = {}) : b.name = A[0].slice(3, A[0].length - 1);
            break;
          default:
            if (m && m.WTF)
              throw new Error("Unrecognized " + A[0] + " in clrScheme");
        }
      });
    }
    function Kee() {
    }
    function Zee() {
    }
    var Jee = /<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/, Qee = /<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/, ete = /<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/, tte = /<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;
    function q7(h, g) {
      var m, b, T, A, C, D = {};
      if (!(m = (h = !h || h.length === 0 ? qx() : h).match(tte)))
        throw new Error("themeElements not found in theme");
      return b = m[0], A = g, (T = D).themeElements = {}, [["clrScheme", Jee, Xee], ["fontScheme", Qee, Kee], ["fmtScheme", ete, Zee]].forEach(function(I) {
        if (!(C = b.match(I[1])))
          throw new Error(I[0] + " not found in themeElements");
        I[2](C, T, A);
      }), D.raw = h, D;
    }
    function qx(h, g) {
      return g && g.themeXLSX ? g.themeXLSX : h && typeof h.raw == "string" ? h.raw : (h = [Ti], h[h.length] = '<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">', h[h.length] = "<a:themeElements>", h[h.length] = '<a:clrScheme name="Office">', h[h.length] = '<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>', h[h.length] = '<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>', h[h.length] = '<a:dk2><a:srgbClr val="1F497D"/></a:dk2>', h[h.length] = '<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>', h[h.length] = '<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>', h[h.length] = '<a:accent2><a:srgbClr val="C0504D"/></a:accent2>', h[h.length] = '<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>', h[h.length] = '<a:accent4><a:srgbClr val="8064A2"/></a:accent4>', h[h.length] = '<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>', h[h.length] = '<a:accent6><a:srgbClr val="F79646"/></a:accent6>', h[h.length] = '<a:hlink><a:srgbClr val="0000FF"/></a:hlink>', h[h.length] = '<a:folHlink><a:srgbClr val="800080"/></a:folHlink>', h[h.length] = "</a:clrScheme>", h[h.length] = '<a:fontScheme name="Office">', h[h.length] = "<a:majorFont>", h[h.length] = '<a:latin typeface="Cambria"/>', h[h.length] = '<a:ea typeface=""/>', h[h.length] = '<a:cs typeface=""/>', h[h.length] = '<a:font script="Jpan" typeface=" "/>', h[h.length] = '<a:font script="Hang" typeface=" "/>', h[h.length] = '<a:font script="Hans" typeface=""/>', h[h.length] = '<a:font script="Hant" typeface=""/>', h[h.length] = '<a:font script="Arab" typeface="Times New Roman"/>', h[h.length] = '<a:font script="Hebr" typeface="Times New Roman"/>', h[h.length] = '<a:font script="Thai" typeface="Tahoma"/>', h[h.length] = '<a:font script="Ethi" typeface="Nyala"/>', h[h.length] = '<a:font script="Beng" typeface="Vrinda"/>', h[h.length] = '<a:font script="Gujr" typeface="Shruti"/>', h[h.length] = '<a:font script="Khmr" typeface="MoolBoran"/>', h[h.length] = '<a:font script="Knda" typeface="Tunga"/>', h[h.length] = '<a:font script="Guru" typeface="Raavi"/>', h[h.length] = '<a:font script="Cans" typeface="Euphemia"/>', h[h.length] = '<a:font script="Cher" typeface="Plantagenet Cherokee"/>', h[h.length] = '<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>', h[h.length] = '<a:font script="Tibt" typeface="Microsoft Himalaya"/>', h[h.length] = '<a:font script="Thaa" typeface="MV Boli"/>', h[h.length] = '<a:font script="Deva" typeface="Mangal"/>', h[h.length] = '<a:font script="Telu" typeface="Gautami"/>', h[h.length] = '<a:font script="Taml" typeface="Latha"/>', h[h.length] = '<a:font script="Syrc" typeface="Estrangelo Edessa"/>', h[h.length] = '<a:font script="Orya" typeface="Kalinga"/>', h[h.length] = '<a:font script="Mlym" typeface="Kartika"/>', h[h.length] = '<a:font script="Laoo" typeface="DokChampa"/>', h[h.length] = '<a:font script="Sinh" typeface="Iskoola Pota"/>', h[h.length] = '<a:font script="Mong" typeface="Mongolian Baiti"/>', h[h.length] = '<a:font script="Viet" typeface="Times New Roman"/>', h[h.length] = '<a:font script="Uigh" typeface="Microsoft Uighur"/>', h[h.length] = '<a:font script="Geor" typeface="Sylfaen"/>', h[h.length] = "</a:majorFont>", h[h.length] = "<a:minorFont>", h[h.length] = '<a:latin typeface="Calibri"/>', h[h.length] = '<a:ea typeface=""/>', h[h.length] = '<a:cs typeface=""/>', h[h.length] = '<a:font script="Jpan" typeface=" "/>', h[h.length] = '<a:font script="Hang" typeface=" "/>', h[h.length] = '<a:font script="Hans" typeface=""/>', h[h.length] = '<a:font script="Hant" typeface=""/>', h[h.length] = '<a:font script="Arab" typeface="Arial"/>', h[h.length] = '<a:font script="Hebr" typeface="Arial"/>', h[h.length] = '<a:font script="Thai" typeface="Tahoma"/>', h[h.length] = '<a:font script="Ethi" typeface="Nyala"/>', h[h.length] = '<a:font script="Beng" typeface="Vrinda"/>', h[h.length] = '<a:font script="Gujr" typeface="Shruti"/>', h[h.length] = '<a:font script="Khmr" typeface="DaunPenh"/>', h[h.length] = '<a:font script="Knda" typeface="Tunga"/>', h[h.length] = '<a:font script="Guru" typeface="Raavi"/>', h[h.length] = '<a:font script="Cans" typeface="Euphemia"/>', h[h.length] = '<a:font script="Cher" typeface="Plantagenet Cherokee"/>', h[h.length] = '<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>', h[h.length] = '<a:font script="Tibt" typeface="Microsoft Himalaya"/>', h[h.length] = '<a:font script="Thaa" typeface="MV Boli"/>', h[h.length] = '<a:font script="Deva" typeface="Mangal"/>', h[h.length] = '<a:font script="Telu" typeface="Gautami"/>', h[h.length] = '<a:font script="Taml" typeface="Latha"/>', h[h.length] = '<a:font script="Syrc" typeface="Estrangelo Edessa"/>', h[h.length] = '<a:font script="Orya" typeface="Kalinga"/>', h[h.length] = '<a:font script="Mlym" typeface="Kartika"/>', h[h.length] = '<a:font script="Laoo" typeface="DokChampa"/>', h[h.length] = '<a:font script="Sinh" typeface="Iskoola Pota"/>', h[h.length] = '<a:font script="Mong" typeface="Mongolian Baiti"/>', h[h.length] = '<a:font script="Viet" typeface="Arial"/>', h[h.length] = '<a:font script="Uigh" typeface="Microsoft Uighur"/>', h[h.length] = '<a:font script="Geor" typeface="Sylfaen"/>', h[h.length] = "</a:minorFont>", h[h.length] = "</a:fontScheme>", h[h.length] = '<a:fmtScheme name="Office">', h[h.length] = "<a:fillStyleLst>", h[h.length] = '<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>', h[h.length] = '<a:gradFill rotWithShape="1">', h[h.length] = "<a:gsLst>", h[h.length] = '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>', h[h.length] = '<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>', h[h.length] = '<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>', h[h.length] = "</a:gsLst>", h[h.length] = '<a:lin ang="16200000" scaled="1"/>', h[h.length] = "</a:gradFill>", h[h.length] = '<a:gradFill rotWithShape="1">', h[h.length] = "<a:gsLst>", h[h.length] = '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>', h[h.length] = '<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>', h[h.length] = "</a:gsLst>", h[h.length] = '<a:lin ang="16200000" scaled="0"/>', h[h.length] = "</a:gradFill>", h[h.length] = "</a:fillStyleLst>", h[h.length] = "<a:lnStyleLst>", h[h.length] = '<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>', h[h.length] = '<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>', h[h.length] = '<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>', h[h.length] = "</a:lnStyleLst>", h[h.length] = "<a:effectStyleLst>", h[h.length] = "<a:effectStyle>", h[h.length] = "<a:effectLst>", h[h.length] = '<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>', h[h.length] = "</a:effectLst>", h[h.length] = "</a:effectStyle>", h[h.length] = "<a:effectStyle>", h[h.length] = "<a:effectLst>", h[h.length] = '<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>', h[h.length] = "</a:effectLst>", h[h.length] = "</a:effectStyle>", h[h.length] = "<a:effectStyle>", h[h.length] = "<a:effectLst>", h[h.length] = '<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>', h[h.length] = "</a:effectLst>", h[h.length] = '<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>', h[h.length] = '<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>', h[h.length] = "</a:effectStyle>", h[h.length] = "</a:effectStyleLst>", h[h.length] = "<a:bgFillStyleLst>", h[h.length] = '<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>', h[h.length] = '<a:gradFill rotWithShape="1">', h[h.length] = "<a:gsLst>", h[h.length] = '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>', h[h.length] = '<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>', h[h.length] = '<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>', h[h.length] = "</a:gsLst>", h[h.length] = '<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>', h[h.length] = "</a:gradFill>", h[h.length] = '<a:gradFill rotWithShape="1">', h[h.length] = "<a:gsLst>", h[h.length] = '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>', h[h.length] = '<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>', h[h.length] = "</a:gsLst>", h[h.length] = '<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>', h[h.length] = "</a:gradFill>", h[h.length] = "</a:bgFillStyleLst>", h[h.length] = "</a:fmtScheme>", h[h.length] = "</a:themeElements>", h[h.length] = "<a:objectDefaults>", h[h.length] = "<a:spDef>", h[h.length] = '<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>', h[h.length] = "</a:spDef>", h[h.length] = "<a:lnDef>", h[h.length] = '<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>', h[h.length] = "</a:lnDef>", h[h.length] = "</a:objectDefaults>", h[h.length] = "<a:extraClrSchemeLst/>", h[h.length] = "</a:theme>", h.join(""));
    }
    function rte(h) {
      var g = {};
      switch (g.xclrType = h.read_shift(2), g.nTintShade = h.read_shift(2), g.xclrType) {
        case 0:
          h.l += 4;
          break;
        case 1:
          g.xclrValue = Aa(h, 4);
          break;
        case 2:
          g.xclrValue = NI(h);
          break;
        case 3:
          g.xclrValue = h.read_shift(4);
          break;
        case 4:
          h.l += 4;
      }
      return h.l += 8, g;
    }
    function nte(h) {
      var g = h.read_shift(2), m = h.read_shift(2) - 4, b = [g];
      switch (g) {
        case 4:
        case 5:
        case 7:
        case 8:
        case 9:
        case 10:
        case 11:
        case 13:
          b[1] = rte(h);
          break;
        case 6:
          b[1] = Aa(h, m);
          break;
        case 14:
        case 15:
          b[1] = h.read_shift(m == 1 ? 1 : 2);
          break;
        default:
          throw new Error("Unrecognized ExtProp type: " + g + " " + m);
      }
      return b;
    }
    function ite() {
      var h, g, m, b = io();
      return ht(b, 332), ht(b, 334, ys(1)), ht(b, 335, ((m = tt(12 + 2 * (g = { name: "XLDAPR", version: 12e4, flags: 3496657072 }).name.length)).write_shift(4, g.flags), m.write_shift(4, g.version), ia(g.name, m), m.slice(0, m.l))), ht(b, 336), ht(b, 339, (h = 1, (m = tt(8 + 2 * (g = "XLDAPR").length)).write_shift(4, h), ia(g, m), m.slice(0, m.l))), ht(b, 52), ht(b, 35, ys(514)), ht(b, 4096, ys(0)), ht(b, 4097, Bo(1)), ht(b, 36), ht(b, 53), ht(b, 340), ht(b, 337, (h = 1, g = !0, (m = tt(8)).write_shift(4, h), m.write_shift(4, g ? 1 : 0), m)), ht(b, 51, function(T) {
        var A = tt(4 + 8 * T.length);
        A.write_shift(4, T.length);
        for (var C = 0; C < T.length; ++C)
          A.write_shift(4, T[C][0]), A.write_shift(4, T[C][1]);
        return A;
      }([[1, 0]])), ht(b, 338), ht(b, 333), b.end();
    }
    function X7() {
      var h = [Ti];
      return h.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`), h.join("");
    }
    var $d = 1024;
    function K7(h, g) {
      for (var m = [21600, 21600], b = ["m0,0l0", m[1], m[0], m[1], m[0], "0xe"].join(","), T = [Rt("xml", null, { "xmlns:v": yo.v, "xmlns:o": yo.o, "xmlns:x": yo.x, "xmlns:mv": yo.mv }).replace(/\/>/, ">"), Rt("o:shapelayout", Rt("o:idmap", null, { "v:ext": "edit", data: h }), { "v:ext": "edit" }), Rt("v:shapetype", [Rt("v:stroke", null, { joinstyle: "miter" }), Rt("v:path", null, { gradientshapeok: "t", "o:connecttype": "rect" })].join(""), { id: "_x0000_t202", "o:spt": 202, coordsize: m.join(","), path: b })]; $d < 1e3 * h; )
        $d += 1e3;
      return g.forEach(function(A) {
        var C = ii(A[0]), I = { color2: "#BEFF82", type: "gradient" };
        I.type == "gradient" && (I.angle = "-180");
        var D = I.type == "gradient" ? Rt("o:fill", null, { type: "gradientUnscaled", "v:ext": "view" }) : null, I = Rt("v:fill", D, I);
        ++$d, T = T.concat(["<v:shape" + rv({ id: "_x0000_s" + $d, type: "#_x0000_t202", style: "position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10" + (A[1].hidden ? ";visibility:hidden" : ""), fillcolor: "#ECFAD4", strokecolor: "#edeaa1" }) + ">", I, Rt("v:shadow", null, { on: "t", obscured: "t" }), Rt("v:path", null, { "o:connecttype": "none" }), '<v:textbox><div style="text-align:left"></div></v:textbox>', '<x:ClientData ObjectType="Note">', "<x:MoveWithCells/>", "<x:SizeWithCells/>", fa("x:Anchor", [C.c + 1, 0, C.r + 1, 0, C.c + 3, 20, C.r + 5, 20].join(",")), fa("x:AutoFill", "False"), fa("x:Row", String(C.r)), fa("x:Column", String(C.c)), A[1].hidden ? "" : "<x:Visible/>", "</x:ClientData>", "</v:shape>"]);
      }), T.push("</xml>"), T.join("");
    }
    function Z7(h, g, m, b) {
      var T, A = Array.isArray(h);
      g.forEach(function(C) {
        var D, I = ii(C.ref);
        (T = A ? (h[I.r] || (h[I.r] = []), h[I.r][I.c]) : h[C.ref]) || (T = { t: "z" }, A ? h[I.r][I.c] = T : h[C.ref] = T, (D = nn(h["!ref"] || "BDWGO1000001:A1")).s.r > I.r && (D.s.r = I.r), D.e.r < I.r && (D.e.r = I.r), D.s.c > I.c && (D.s.c = I.c), D.e.c < I.c && (D.e.c = I.c), (D = Ur(D)) !== h["!ref"] && (h["!ref"] = D)), T.c || (T.c = []);
        var R = { a: C.author, t: C.t, r: C.r, T: m };
        C.h && (R.h = C.h);
        for (var N = T.c.length - 1; 0 <= N; --N) {
          if (!m && T.c[N].T)
            return;
          m && !T.c[N].T && T.c.splice(N, 1);
        }
        if (m && b) {
          for (N = 0; N < b.length; ++N)
            if (R.a == b[N].id) {
              R.a = b[N].name || R.a;
              break;
            }
        }
        T.c.push(R);
      });
    }
    function J7(h) {
      var g = [Ti, Rt("comments", null, { xmlns: gh[0] })], m = [];
      return g.push("<authors>"), h.forEach(function(b) {
        b[1].forEach(function(T) {
          var A = Dn(T.a);
          m.indexOf(A) == -1 && (m.push(A), g.push("<author>" + A + "</author>")), T.T && T.ID && m.indexOf("tc=" + T.ID) == -1 && (m.push("tc=" + T.ID), g.push("<author>tc=" + T.ID + "</author>"));
        });
      }), m.length == 0 && (m.push("SheetJ5"), g.push("<author>SheetJ5</author>")), g.push("</authors>"), g.push("<commentList>"), h.forEach(function(b) {
        var T = 0, A = [];
        if (b[1][0] && b[1][0].T && b[1][0].ID ? T = m.indexOf("tc=" + b[1][0].ID) : b[1].forEach(function(I) {
          I.a && (T = m.indexOf(Dn(I.a))), A.push(I.t || "");
        }), g.push('<comment ref="' + b[0] + '" authorId="' + T + '"><text>'), A.length <= 1)
          g.push(fa("t", Dn(A[0] || "")));
        else {
          for (var C = `Comment:
    ` + A[0] + `
`, D = 1; D < A.length; ++D)
            C += `Reply:
    ` + A[D] + `
`;
          g.push(fa("t", Dn(C)));
        }
        g.push("</text></comment>");
      }), g.push("</commentList>"), 2 < g.length && (g[g.length] = "</comments>", g[1] = g[1].replace("/>", ">")), g.join("");
    }
    Cm = Ea;
    function ate(h) {
      var g = io(), m = [];
      return ht(g, 628), ht(g, 630), h.forEach(function(b) {
        b[1].forEach(function(T) {
          -1 < m.indexOf(T.a) || (m.push(T.a.slice(0, 54)), ht(g, 632, ia(T.a.slice(0, 54))));
        });
      }), ht(g, 631), ht(g, 633), h.forEach(function(b) {
        b[1].forEach(function(T) {
          T.iauthor = m.indexOf(T.a);
          var A, C = { s: ii(b[0]), e: ii(b[0]) };
          ht(g, 635, (C = [C, T], (A = A ?? tt(36)).write_shift(4, C[1].iauthor), Bd(C[0], A), A.write_shift(4, 0), A.write_shift(4, 0), A.write_shift(4, 0), A.write_shift(4, 0), A)), T.t && 0 < T.t.length && ht(g, 637, ZQ(T)), ht(g, 636), delete T.iauthor;
        });
      }), ht(g, 634), ht(g, 629), g.end();
    }
    var ote = "application/vnd.ms-office.vbaProject", Q7 = ["xlsb", "xlsm", "xlam", "biff8", "xla"], Xx, e9, Yd = (e9 = /(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g, function(h, g) {
      return Xx = g, h.replace(e9, ste);
    });
    function ste(h, g, m, b) {
      var T = !1, A = !1;
      return m.length == 0 ? A = !0 : m.charAt(0) == "[" && (A = !0, m = m.slice(1, -1)), b.length == 0 ? T = !0 : b.charAt(0) == "[" && (T = !0, b = b.slice(1, -1)), m = 0 < m.length ? 0 | parseInt(m, 10) : 0, b = 0 < b.length ? 0 | parseInt(b, 10) : 0, T ? b += Xx.c : --b, A ? m += Xx.r : --m, g + (T ? "" : "$") + Xn(b) + (A ? "" : "$") + di(m);
    }
    var Kx = /(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g, Zx = function(h, g) {
      return h.replace(Kx, function(m, b, T, A, C, D) {
        return A = bx(A) - (T ? 0 : g.c), D = _x(D) - (C ? 0 : g.r), b + "R" + (D == 0 ? "" : C ? 1 + D : "[" + D + "]") + "C" + (A == 0 ? "" : T ? 1 + A : "[" + A + "]");
      });
    };
    function t9(h, g) {
      return h.replace(Kx, function(m, b, T, A, C, D) {
        return b + (T == "$" ? T + A : Xn(bx(A) + g.c)) + (C == "$" ? C + D : di(_x(D) + g.r));
      });
    }
    function r9(h) {
      return h.replace(/_xlfn\./g, "");
    }
    function Fi(h) {
      h.l += 1;
    }
    function uc(h, g) {
      return g = h.read_shift(g == 1 ? 1 : 2), [16383 & g, g >> 14 & 1, g >> 15 & 1];
    }
    function n9(C, g, T) {
      var A = 2;
      if (T) {
        if (2 <= T.biff && T.biff <= 5)
          return i9(C);
        T.biff == 12 && (A = 4);
      }
      var b = C.read_shift(A), T = C.read_shift(A), A = uc(C, 2), C = uc(C, 2);
      return { s: { r: b, c: A[0], cRel: A[1], rRel: A[2] }, e: { r: T, c: C[0], cRel: C[1], rRel: C[2] } };
    }
    function i9(T) {
      var g = uc(T, 2), m = uc(T, 2), b = T.read_shift(1), T = T.read_shift(1);
      return { s: { r: g[0], c: b, cRel: g[1], rRel: g[2] }, e: { r: m[0], c: T, cRel: m[1], rRel: m[2] } };
    }
    function a9(C, g, A) {
      if (A && 2 <= A.biff && A.biff <= 5)
        return T = uc(b = C, 2), b = b.read_shift(1), { r: T[0], c: b, cRel: T[1], rRel: T[2] };
      var b, T, A = C.read_shift(A && A.biff == 12 ? 4 : 2), C = uc(C, 2);
      return { r: A, c: C[0], cRel: C[1], rRel: C[2] };
    }
    function lte(C, g, A) {
      if (A = A && A.biff ? A.biff : 8, 2 <= A && A <= 5)
        return function(W) {
          var I = W.read_shift(2), R = W.read_shift(1), N = (32768 & I) >> 15, W = (16384 & I) >> 14;
          return I &= 16383, N == 1 && 8192 <= I && (I -= 16384), W == 1 && 128 <= R && (R -= 256), { r: I, c: R, cRel: W, rRel: N };
        }(C);
      var b = C.read_shift(12 <= A ? 4 : 2), T = C.read_shift(2), A = (16384 & T) >> 14, C = (32768 & T) >> 15;
      if (T &= 16383, C == 1)
        for (; 524287 < b; )
          b -= 1048576;
      if (A == 1)
        for (; 8191 < T; )
          T -= 16384;
      return { r: b, c: T, cRel: A, rRel: C };
    }
    function o9(h) {
      var g = 1 & h[h.l + 1];
      return h.l += 4, [g, 1];
    }
    function s9(h) {
      return [h.read_shift(1), h.read_shift(1)];
    }
    function ute(h, g, m) {
      var b = 0, T = 0;
      m.biff == 12 ? (b = h.read_shift(4), T = h.read_shift(4)) : (T = 1 + h.read_shift(1), b = 1 + h.read_shift(2)), 2 <= m.biff && m.biff < 8 && (--b, --T == 0 && (T = 256));
      for (var A = 0, C = []; A != b && (C[A] = []); ++A)
        for (var D = 0; D != T; ++D)
          C[A][D] = function(I, R) {
            var N = [I.read_shift(1)];
            if (R == 12)
              switch (N[0]) {
                case 2:
                  N[0] = 4;
                  break;
                case 4:
                  N[0] = 16;
                  break;
                case 0:
                  N[0] = 1;
                  break;
                case 1:
                  N[0] = 2;
              }
            switch (N[0]) {
              case 4:
                N[1] = Ci(I, 1) ? "TRUE" : "FALSE", R != 12 && (I.l += 7);
                break;
              case 37:
              case 16:
                N[1] = $l[I[I.l]], I.l += R == 12 ? 4 : 8;
                break;
              case 0:
                I.l += 8;
                break;
              case 1:
                N[1] = Da(I);
                break;
              case 2:
                N[1] = Th(I, 0, { biff: 0 < R && R < 8 ? 2 : R });
                break;
              default:
                throw new Error("Bad SerAr: " + N[0]);
            }
            return N;
          }(h, m.biff);
      return C;
    }
    function _v(h, g, m) {
      return h.l += 2, [(h = (b = h).read_shift(2), b = b.read_shift(2), { r: h, c: 255 & b, fQuoted: !!(16384 & b), cRel: b >> 15, rRel: b >> 15 })];
      var b;
    }
    function Jx(h) {
      return h.l += 6, [];
    }
    function l9(h) {
      return h.l += 2, [Oi(h), 1 & h.read_shift(2)];
    }
    var cte = ["Data", "All", "Headers", "??", "?Data2", "??", "?DataHeaders", "??", "Totals", "??", "??", "??", "?DataTotals", "??", "??", "??", "?Current"], u9 = { 1: { n: "PtgExp", f: function(h, g, m) {
      return h.l++, m && m.biff == 12 ? [h.read_shift(4, "i"), 0] : [h.read_shift(2), h.read_shift(m && m.biff == 2 ? 1 : 2)];
    } }, 2: { n: "PtgTbl", f: Aa }, 3: { n: "PtgAdd", f: Fi }, 4: { n: "PtgSub", f: Fi }, 5: { n: "PtgMul", f: Fi }, 6: { n: "PtgDiv", f: Fi }, 7: { n: "PtgPower", f: Fi }, 8: { n: "PtgConcat", f: Fi }, 9: { n: "PtgLt", f: Fi }, 10: { n: "PtgLe", f: Fi }, 11: { n: "PtgEq", f: Fi }, 12: { n: "PtgGe", f: Fi }, 13: { n: "PtgGt", f: Fi }, 14: { n: "PtgNe", f: Fi }, 15: { n: "PtgIsect", f: Fi }, 16: { n: "PtgUnion", f: Fi }, 17: { n: "PtgRange", f: Fi }, 18: { n: "PtgUplus", f: Fi }, 19: { n: "PtgUminus", f: Fi }, 20: { n: "PtgPercent", f: Fi }, 21: { n: "PtgParen", f: Fi }, 22: { n: "PtgMissArg", f: Fi }, 23: { n: "PtgStr", f: function(h, g, m) {
      return h.l++, cv(h, 0, m);
    } }, 26: { n: "PtgSheet", f: function(h, g, m) {
      return h.l += 5, h.l += 2, h.l += m.biff == 2 ? 1 : 4, ["PTGSHEET"];
    } }, 27: { n: "PtgEndSheet", f: function(h, g, m) {
      return h.l += m.biff == 2 ? 4 : 5, ["PTGENDSHEET"];
    } }, 28: { n: "PtgErr", f: function(h) {
      return h.l++, $l[h.read_shift(1)];
    } }, 29: { n: "PtgBool", f: function(h) {
      return h.l++, h.read_shift(1) !== 0;
    } }, 30: { n: "PtgInt", f: function(h) {
      return h.l++, h.read_shift(2);
    } }, 31: { n: "PtgNum", f: function(h) {
      return h.l++, Da(h);
    } }, 32: { n: "PtgArray", f: function(h, g, m) {
      var b = (96 & h[h.l++]) >> 5;
      return h.l += m.biff == 2 ? 6 : m.biff == 12 ? 14 : 7, [b];
    } }, 33: { n: "PtgFunc", f: function(h, g, m) {
      var b = (96 & h[h.l]) >> 5;
      return h.l += 1, m = h.read_shift(m && m.biff <= 3 ? 1 : 2), [bte[m], f9[m], b];
    } }, 34: { n: "PtgFuncVar", f: function(h, g, m) {
      var b = h[h.l++], T = h.read_shift(1), A = m && m.biff <= 3 ? [b == 88 ? -1 : 0, h.read_shift(1)] : [(A = h)[A.l + 1] >> 7, 32767 & A.read_shift(2)];
      return [T, (A[0] === 0 ? f9 : _te)[A[1]]];
    } }, 35: { n: "PtgName", f: function(h, g, m) {
      var b = h.read_shift(1) >>> 5 & 3, T = !m || 8 <= m.biff ? 4 : 2, T = h.read_shift(T);
      switch (m.biff) {
        case 2:
          h.l += 5;
          break;
        case 3:
        case 4:
          h.l += 8;
          break;
        case 5:
          h.l += 12;
      }
      return [b, 0, T];
    } }, 36: { n: "PtgRef", f: function(h, g, m) {
      var b = (96 & h[h.l]) >> 5;
      return h.l += 1, [b, a9(h, 0, m)];
    } }, 37: { n: "PtgArea", f: function(h, g, m) {
      return [(96 & h[h.l++]) >> 5, n9(h, 2 <= m.biff && m.biff, m)];
    } }, 38: { n: "PtgMemArea", f: function(h, g, m) {
      var b = h.read_shift(1) >>> 5 & 3;
      return h.l += m && m.biff == 2 ? 3 : 4, [b, h.read_shift(m && m.biff == 2 ? 1 : 2)];
    } }, 39: { n: "PtgMemErr", f: Aa }, 40: { n: "PtgMemNoMem", f: Aa }, 41: { n: "PtgMemFunc", f: function(h, g, m) {
      return [h.read_shift(1) >>> 5 & 3, h.read_shift(m && m.biff == 2 ? 1 : 2)];
    } }, 42: { n: "PtgRefErr", f: function(h, g, m) {
      var b = h.read_shift(1) >>> 5 & 3;
      return h.l += 4, m.biff < 8 && h.l--, m.biff == 12 && (h.l += 2), [b];
    } }, 43: { n: "PtgAreaErr", f: function(h, g, m) {
      var b = (96 & h[h.l++]) >> 5;
      return h.l += m && 8 < m.biff ? 12 : m.biff < 8 ? 6 : 8, [b];
    } }, 44: { n: "PtgRefN", f: function(h, g, m) {
      var b = (96 & h[h.l]) >> 5;
      return h.l += 1, [b, lte(h, 0, m)];
    } }, 45: { n: "PtgAreaN", f: function(h, g, m) {
      return [(96 & h[h.l++]) >> 5, function(I, D) {
        if (D.biff < 8)
          return i9(I);
        var A = I.read_shift(D.biff == 12 ? 4 : 2), C = I.read_shift(D.biff == 12 ? 4 : 2), D = uc(I, 2), I = uc(I, 2);
        return { s: { r: A, c: D[0], cRel: D[1], rRel: D[2] }, e: { r: C, c: I[0], cRel: I[1], rRel: I[2] } };
      }(h, m)];
    } }, 46: { n: "PtgMemAreaN", f: function(h) {
      return [h.read_shift(1) >>> 5 & 3, h.read_shift(2)];
    } }, 47: { n: "PtgMemNoMemN", f: function(h) {
      return [h.read_shift(1) >>> 5 & 3, h.read_shift(2)];
    } }, 57: { n: "PtgNameX", f: function(h, g, m) {
      return m.biff == 5 ? function(b) {
        var T = b.read_shift(1) >>> 5 & 3, A = b.read_shift(2, "i");
        b.l += 8;
        var C = b.read_shift(2);
        return b.l += 12, [T, A, C];
      }(h) : [h.read_shift(1) >>> 5 & 3, h.read_shift(2), h.read_shift(4)];
    } }, 58: { n: "PtgRef3d", f: function(h, g, m) {
      var b = (96 & h[h.l]) >> 5;
      h.l += 1;
      var T = h.read_shift(2);
      return m && m.biff == 5 && (h.l += 12), [b, T, a9(h, 0, m)];
    } }, 59: { n: "PtgArea3d", f: function(h, g, m) {
      var b = (96 & h[h.l++]) >> 5, T = h.read_shift(2, "i");
      if (m)
        switch (m.biff) {
          case 5:
            h.l += 12;
            break;
        }
      return [b, T, n9(h, 0, m)];
    } }, 60: { n: "PtgRefErr3d", f: function(h, g, m) {
      var b = (96 & h[h.l++]) >> 5, T = h.read_shift(2), A = 4;
      if (m)
        switch (m.biff) {
          case 5:
            A = 15;
            break;
          case 12:
            A = 6;
        }
      return h.l += A, [b, T];
    } }, 61: { n: "PtgAreaErr3d", f: function(h, g, m) {
      var b = (96 & h[h.l++]) >> 5, T = h.read_shift(2), A = 8;
      if (m)
        switch (m.biff) {
          case 5:
            h.l += 12, A = 6;
            break;
          case 12:
            A = 12;
        }
      return h.l += A, [b, T];
    } }, 255: {} }, hte = { 64: 32, 96: 32, 65: 33, 97: 33, 66: 34, 98: 34, 67: 35, 99: 35, 68: 36, 100: 36, 69: 37, 101: 37, 70: 38, 102: 38, 71: 39, 103: 39, 72: 40, 104: 40, 73: 41, 105: 41, 74: 42, 106: 42, 75: 43, 107: 43, 76: 44, 108: 44, 77: 45, 109: 45, 78: 46, 110: 46, 79: 47, 111: 47, 88: 34, 120: 34, 89: 57, 121: 57, 90: 58, 122: 58, 91: 59, 123: 59, 92: 60, 124: 60, 93: 61, 125: 61 }, fte = { 1: { n: "PtgElfLel", f: l9 }, 2: { n: "PtgElfRw", f: _v }, 3: { n: "PtgElfCol", f: _v }, 6: { n: "PtgElfRwV", f: _v }, 7: { n: "PtgElfColV", f: _v }, 10: { n: "PtgElfRadical", f: _v }, 11: { n: "PtgElfRadicalS", f: Jx }, 13: { n: "PtgElfColS", f: Jx }, 15: { n: "PtgElfColSV", f: Jx }, 16: { n: "PtgElfRadicalLel", f: l9 }, 25: { n: "PtgList", f: function(A) {
      A.l += 2;
      var g = A.read_shift(2), m = A.read_shift(2), b = A.read_shift(4), T = A.read_shift(2), A = A.read_shift(2);
      return { ixti: g, coltype: 3 & m, rt: cte[m >> 2 & 31], idx: b, c: T, C: A };
    } }, 29: { n: "PtgSxName", f: function(h) {
      return h.l += 2, [h.read_shift(4)];
    } }, 255: {} }, dte = { 0: { n: "PtgAttrNoop", f: function(h) {
      return h.l += 4, [0, 0];
    } }, 1: { n: "PtgAttrSemi", f: function(h, g, m) {
      var b = 255 & h[h.l + 1] ? 1 : 0;
      return h.l += m && m.biff == 2 ? 3 : 4, [b];
    } }, 2: { n: "PtgAttrIf", f: function(h, g, m) {
      var b = 255 & h[h.l + 1] ? 1 : 0;
      return h.l += 2, [b, h.read_shift(m && m.biff == 2 ? 1 : 2)];
    } }, 4: { n: "PtgAttrChoose", f: function(h, g, m) {
      h.l += 2;
      for (var b = h.read_shift(m && m.biff == 2 ? 1 : 2), T = [], A = 0; A <= b; ++A)
        T.push(h.read_shift(m && m.biff == 2 ? 1 : 2));
      return T;
    } }, 8: { n: "PtgAttrGoto", f: function(h, g, m) {
      var b = 255 & h[h.l + 1] ? 1 : 0;
      return h.l += 2, [b, h.read_shift(m && m.biff == 2 ? 1 : 2)];
    } }, 16: { n: "PtgAttrSum", f: function(h, g, m) {
      h.l += m && m.biff == 2 ? 3 : 4;
    } }, 32: { n: "PtgAttrBaxcel", f: o9 }, 33: { n: "PtgAttrBaxcel", f: o9 }, 64: { n: "PtgAttrSpace", f: function(h) {
      return h.read_shift(2), s9(h);
    } }, 65: { n: "PtgAttrSpaceSemi", f: function(h) {
      return h.read_shift(2), s9(h);
    } }, 128: { n: "PtgAttrIfError", f: function(h) {
      var g = 255 & h[h.l + 1] ? 1 : 0;
      return h.l += 2, [g, h.read_shift(2)];
    } }, 255: {} };
    function bv(h, g, m, b) {
      if (b.biff < 8)
        return Aa(h, g);
      for (var T = h.l + g, A = [], C = 0; C !== m.length; ++C)
        switch (m[C][0]) {
          case "PtgArray":
            m[C][1] = ute(h, 0, b), A.push(m[C][1]);
            break;
          case "PtgMemArea":
            m[C][2] = function(D, I) {
              for (var R = D.read_shift(I.biff == 12 ? 4 : 2), N = [], W = 0; W != R; ++W)
                N.push((I.biff == 12 ? wh : Om)(D));
              return N;
            }(h, (m[C][1], b)), A.push(m[C][2]);
            break;
          case "PtgExp":
            b && b.biff == 12 && (m[C][1][1] = h.read_shift(4), A.push(m[C][1]));
            break;
          case "PtgList":
          case "PtgElfRadicalS":
          case "PtgElfColS":
          case "PtgElfColSV":
            throw "Unsupported " + m[C][0];
        }
      return (g = T - h.l) !== 0 && A.push(Aa(h, g)), A;
    }
    function wv(h, g, m) {
      for (var b, T, A = h.l + g, C = []; A != h.l; )
        g = A - h.l, T = h[h.l], b = u9[T] || u9[hte[T]], (b = T === 24 || T === 25 ? (T === 24 ? fte : dte)[h[h.l + 1]] : b) && b.f ? C.push([b.n, b.f(h, g, m)]) : Aa(h, g);
      return C;
    }
    var pte = { PtgAdd: "+", PtgConcat: "&", PtgDiv: "/", PtgEq: "=", PtgGe: ">=", PtgGt: ">", PtgLe: "<=", PtgLt: "<", PtgMul: "*", PtgNe: "<>", PtgPower: "^", PtgSub: "-" };
    function c9(h, g, m) {
      if (!h)
        return "SH33TJSERR0";
      if (8 < m.biff && (!h.XTI || !h.XTI[g]))
        return h.SheetNames[g];
      if (!h.XTI)
        return "SH33TJSERR6";
      var b = h.XTI[g];
      if (m.biff < 8)
        return 1e4 < g && (g -= 65536), (g = g < 0 ? -g : g) == 0 ? "" : h.XTI[g - 1];
      if (!b)
        return "SH33TJSERR1";
      var T = "";
      if (8 < m.biff)
        switch (h[b[0]][0]) {
          case 357:
            return T = b[1] == -1 ? "#REF" : h.SheetNames[b[1]], b[1] == b[2] ? T : T + ":" + h.SheetNames[b[2]];
          case 358:
            return m.SID != null ? h.SheetNames[m.SID] : "SH33TJSSAME" + h[b[0]][0];
          case 355:
          default:
            return "SH33TJSSRC" + h[b[0]][0];
        }
      switch (h[b[0]][0][0]) {
        case 1025:
          return T = b[1] == -1 ? "#REF" : h.SheetNames[b[1]] || "SH33TJSERR3", b[1] == b[2] ? T : T + ":" + h.SheetNames[b[2]];
        case 14849:
          return h[b[0]].slice(1).map(function(A) {
            return A.Name;
          }).join(";;");
        default:
          return h[b[0]][0][3] ? (T = b[1] == -1 ? "#REF" : h[b[0]][0][3][b[1]] || "SH33TJSERR4", b[1] == b[2] ? T : T + ":" + h[b[0]][0][3][b[2]]) : "SH33TJSERR2";
      }
    }
    function h9(h, g, m) {
      return g = c9(h, g, m), g == "#REF" ? g : function(b, T) {
        if (!(b || T && T.biff <= 5 && 2 <= T.biff))
          throw new Error("empty sheet name");
        return /[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(b) ? "'" + b + "'" : b;
      }(g, m);
    }
    function qa(h, g, m, b, T) {
      var A, C, D, I = T && T.biff || 8, R = { s: { c: 0, r: 0 }, e: { c: 0, r: 0 } }, N = [], W = 0, H = 0, j = "";
      if (!h[0] || !h[0][0])
        return "";
      for (var oe = -1, X = "", _e = 0, ue = h[0].length; _e < ue; ++_e) {
        var ee = h[0][_e];
        switch (ee[0]) {
          case "PtgUminus":
            N.push("-" + N.pop());
            break;
          case "PtgUplus":
            N.push("+" + N.pop());
            break;
          case "PtgPercent":
            N.push(N.pop() + "%");
            break;
          case "PtgAdd":
          case "PtgConcat":
          case "PtgDiv":
          case "PtgEq":
          case "PtgGe":
          case "PtgGt":
          case "PtgLe":
          case "PtgLt":
          case "PtgMul":
          case "PtgNe":
          case "PtgPower":
          case "PtgSub":
            if (Vt = N.pop(), A = N.pop(), 0 <= oe) {
              switch (h[0][oe][1][0]) {
                case 0:
                  X = fi(" ", h[0][oe][1][1]);
                  break;
                case 1:
                  X = fi("\r", h[0][oe][1][1]);
                  break;
                default:
                  if (X = "", T.WTF)
                    throw new Error("Unexpected PtgAttrSpaceType " + h[0][oe][1][0]);
              }
              A += X, oe = -1;
            }
            N.push(A + pte[ee[0]] + Vt);
            break;
          case "PtgIsect":
            Vt = N.pop(), A = N.pop(), N.push(A + " " + Vt);
            break;
          case "PtgUnion":
            Vt = N.pop(), A = N.pop(), N.push(A + "," + Vt);
            break;
          case "PtgRange":
            Vt = N.pop(), A = N.pop(), N.push(A + ":" + Vt);
            break;
          case "PtgAttrChoose":
          case "PtgAttrGoto":
          case "PtgAttrIf":
          case "PtgAttrIfError":
            break;
          case "PtgRef":
            C = av(ee[1][1], R, T), N.push(ov(C, I));
            break;
          case "PtgRefN":
            C = m ? av(ee[1][1], m, T) : ee[1][1], N.push(ov(C, I));
            break;
          case "PtgRef3d":
            W = ee[1][1], C = av(ee[1][2], R, T), j = h9(b, W, T), N.push(j + "!" + ov(C, I));
            break;
          case "PtgFunc":
          case "PtgFuncVar":
            var Te = ee[1][0], me = ee[1][1], Te = Te || 0, Ce = (Te &= 127) == 0 ? [] : N.slice(-Te);
            N.length -= Te, me === "User" && (me = Ce.shift()), N.push(me + "(" + Ce.join(",") + ")");
            break;
          case "PtgBool":
            N.push(ee[1] ? "TRUE" : "FALSE");
            break;
          case "PtgInt":
            N.push(ee[1]);
            break;
          case "PtgNum":
            N.push(String(ee[1]));
            break;
          case "PtgStr":
            N.push('"' + ee[1].replace(/"/g, '""') + '"');
            break;
          case "PtgErr":
            N.push(ee[1]);
            break;
          case "PtgAreaN":
            D = tI(ee[1][1], m ? { s: m } : R, T), N.push(yx(D, T));
            break;
          case "PtgArea":
            D = tI(ee[1][1], R, T), N.push(yx(D, T));
            break;
          case "PtgArea3d":
            W = ee[1][1], D = ee[1][2], j = h9(b, W, T), N.push(j + "!" + yx(D, T));
            break;
          case "PtgAttrSum":
            N.push("SUM(" + N.pop() + ")");
            break;
          case "PtgAttrBaxcel":
          case "PtgAttrSemi":
            break;
          case "PtgName":
            H = ee[1][2];
            var Fe = (b.names || [])[H - 1] || (b[0] || [])[H], ze = Fe ? Fe.Name : "SH33TJSNAME" + String(H);
            ze && ze.slice(0, 6) == "_xlfn." && !T.xlfn && (ze = ze.slice(6)), N.push(ze);
            break;
          case "PtgNameX":
            var Be, Ye = ee[1][1], H = ee[1][2];
            if (!(T.biff <= 5)) {
              Fe = "", ((b[Ye] || [])[0] || [])[0] == 14849 || (((b[Ye] || [])[0] || [])[0] == 1025 ? b[Ye][H] && 0 < b[Ye][H].itab && (Fe = b.SheetNames[b[Ye][H].itab - 1] + "!") : Fe = b.SheetNames[H - 1] + "!"), b[Ye] && b[Ye][H] ? Fe += b[Ye][H].Name : b[0] && b[0][H] ? Fe += b[0][H].Name : (ze = (c9(b, Ye, T) || "").split(";;"))[H - 1] ? Fe = ze[H - 1] : Fe += "SH33TJSERRX", N.push(Fe);
              break;
            }
            Be = (Be = b[Ye = Ye < 0 ? -Ye : Ye] ? b[Ye][H] : Be) || { Name: "SH33TJSERRY" }, N.push(Be.Name);
            break;
          case "PtgParen":
            var it = "(", at = ")";
            if (0 <= oe) {
              switch (X = "", h[0][oe][1][0]) {
                case 2:
                  it = fi(" ", h[0][oe][1][1]) + it;
                  break;
                case 3:
                  it = fi("\r", h[0][oe][1][1]) + it;
                  break;
                case 4:
                  at = fi(" ", h[0][oe][1][1]) + at;
                  break;
                case 5:
                  at = fi("\r", h[0][oe][1][1]) + at;
                  break;
                default:
                  if (T.WTF)
                    throw new Error("Unexpected PtgAttrSpaceType " + h[0][oe][1][0]);
              }
              oe = -1;
            }
            N.push(it + N.pop() + at);
            break;
          case "PtgRefErr":
          case "PtgRefErr3d":
            N.push("#REF!");
            break;
          case "PtgExp":
            C = { c: ee[1][1], r: ee[1][0] };
            var Xe = { c: m.c, r: m.r };
            if (b.sharedf[kr(C)])
              Ye = b.sharedf[kr(C)], N.push(qa(Ye, 0, Xe, b, T));
            else {
              for (var _t = !1, Vt = 0; Vt != b.arrayf.length; ++Vt)
                if (A = b.arrayf[Vt], !(C.c < A[0].s.c || C.c > A[0].e.c || C.r < A[0].s.r || C.r > A[0].e.r)) {
                  N.push(qa(A[1], 0, Xe, b, T)), _t = !0;
                  break;
                }
              _t || N.push(ee[1]);
            }
            break;
          case "PtgArray":
            N.push("{" + function(Dt) {
              for (var Tt = [], ct = 0; ct < Dt.length; ++ct) {
                for (var Kt = Dt[ct], Qt = [], hr = 0; hr < Kt.length; ++hr) {
                  var Gr = Kt[hr];
                  Gr ? Gr[0] === 2 ? Qt.push('"' + Gr[1].replace(/"/g, '""') + '"') : Qt.push(Gr[1]) : Qt.push("");
                }
                Tt.push(Qt.join(","));
              }
              return Tt.join(";");
            }(ee[1]) + "}");
            break;
          case "PtgMemArea":
            break;
          case "PtgAttrSpace":
          case "PtgAttrSpaceSemi":
            oe = _e;
            break;
          case "PtgTbl":
          case "PtgMemErr":
            break;
          case "PtgMissArg":
            N.push("");
            break;
          case "PtgAreaErr":
          case "PtgAreaErr3d":
            N.push("#REF!");
            break;
          case "PtgList":
            N.push("Table" + ee[1].idx + "[#" + ee[1].rt + "]");
            break;
          case "PtgMemAreaN":
          case "PtgMemNoMemN":
          case "PtgAttrNoop":
          case "PtgSheet":
          case "PtgEndSheet":
          case "PtgMemFunc":
          case "PtgMemNoMem":
            break;
          case "PtgElfCol":
          case "PtgElfColS":
          case "PtgElfColSV":
          case "PtgElfColV":
          case "PtgElfLel":
          case "PtgElfRadical":
          case "PtgElfRadicalLel":
          case "PtgElfRadicalS":
          case "PtgElfRw":
          case "PtgElfRwV":
            throw new Error("Unsupported ELFs");
          case "PtgSxName":
          default:
            throw new Error("Unrecognized Formula Token: " + String(ee));
        }
        if (T.biff != 3 && 0 <= oe && ["PtgAttrSpace", "PtgAttrSpaceSemi", "PtgAttrGoto"].indexOf(h[0][_e][0]) == -1) {
          var Ot = !0;
          switch ((ee = h[0][oe])[1][0]) {
            case 4:
              Ot = !1;
            case 0:
              X = fi(" ", ee[1][1]);
              break;
            case 5:
              Ot = !1;
            case 1:
              X = fi("\r", ee[1][1]);
              break;
            default:
              if (X = "", T.WTF)
                throw new Error("Unexpected PtgAttrSpaceType " + ee[1][0]);
          }
          N.push((Ot ? X : "") + N.pop() + (Ot ? "" : X)), oe = -1;
        }
      }
      if (1 < N.length && T.WTF)
        throw new Error("bad formula stack");
      return N[0];
    }
    function Qx(h, C, m) {
      var b = h.l + C, T = Js(h);
      m.biff == 2 && ++h.l;
      var A = function(D) {
        var I;
        if (Wl(D, D.l + 6) !== 65535)
          return [Da(D), "n"];
        switch (D[D.l]) {
          case 0:
            return D.l += 8, ["String", "s"];
          case 1:
            return I = D[D.l + 2] === 1, D.l += 8, [I, "b"];
          case 2:
            return I = D[D.l + 2], D.l += 8, [I, "e"];
          case 3:
            return D.l += 8, ["", "s"];
        }
        return [];
      }(h), C = h.read_shift(1);
      return m.biff != 2 && (h.read_shift(1), 5 <= m.biff && h.read_shift(4)), m = function(D, I, R) {
        var N, W = D.l + I, H = R.biff == 2 ? 1 : 2, j = D.read_shift(H);
        if (j == 65535)
          return [[], Aa(D, I - 2)];
        var oe = wv(D, j, R);
        return I !== j + H && (N = bv(D, I - j - H, oe, R)), D.l = W, [oe, N];
      }(h, b - h.l, m), { cell: T, val: A[0], formula: m, shared: C >> 3 & 1, tt: A[1] };
    }
    function vte(h, g, m, b, T) {
      g = Ch(g, m, T), T = (m = h.v) != null ? Vd(typeof m == "number" ? m : 0) : ((m = tt(8)).write_shift(1, 3), m.write_shift(1, 0), m.write_shift(2, 0), m.write_shift(2, 0), m.write_shift(2, 65535), m), m = tt(6), m.write_shift(2, 33), m.write_shift(4, 0);
      for (var A = tt(h.bf.length), C = 0; C < h.bf.length; ++C)
        A[C] = h.bf[C];
      return G([g, T, m, A]);
    }
    function Km(h, g, m) {
      var T = h.read_shift(4), b = wv(h, T, m), T = h.read_shift(4);
      return [b, 0 < T ? bv(h, T, b, m) : null];
    }
    var gte = Km, Zm = Km, mte = Km, yte = Km, _te = { 0: "BEEP", 1: "OPEN", 2: "OPEN.LINKS", 3: "CLOSE.ALL", 4: "SAVE", 5: "SAVE.AS", 6: "FILE.DELETE", 7: "PAGE.SETUP", 8: "PRINT", 9: "PRINTER.SETUP", 10: "QUIT", 11: "NEW.WINDOW", 12: "ARRANGE.ALL", 13: "WINDOW.SIZE", 14: "WINDOW.MOVE", 15: "FULL", 16: "CLOSE", 17: "RUN", 22: "SET.PRINT.AREA", 23: "SET.PRINT.TITLES", 24: "SET.PAGE.BREAK", 25: "REMOVE.PAGE.BREAK", 26: "FONT", 27: "DISPLAY", 28: "PROTECT.DOCUMENT", 29: "PRECISION", 30: "A1.R1C1", 31: "CALCULATE.NOW", 32: "CALCULATION", 34: "DATA.FIND", 35: "EXTRACT", 36: "DATA.DELETE", 37: "SET.DATABASE", 38: "SET.CRITERIA", 39: "SORT", 40: "DATA.SERIES", 41: "TABLE", 42: "FORMAT.NUMBER", 43: "ALIGNMENT", 44: "STYLE", 45: "BORDER", 46: "CELL.PROTECTION", 47: "COLUMN.WIDTH", 48: "UNDO", 49: "CUT", 50: "COPY", 51: "PASTE", 52: "CLEAR", 53: "PASTE.SPECIAL", 54: "EDIT.DELETE", 55: "INSERT", 56: "FILL.RIGHT", 57: "FILL.DOWN", 61: "DEFINE.NAME", 62: "CREATE.NAMES", 63: "FORMULA.GOTO", 64: "FORMULA.FIND", 65: "SELECT.LAST.CELL", 66: "SHOW.ACTIVE.CELL", 67: "GALLERY.AREA", 68: "GALLERY.BAR", 69: "GALLERY.COLUMN", 70: "GALLERY.LINE", 71: "GALLERY.PIE", 72: "GALLERY.SCATTER", 73: "COMBINATION", 74: "PREFERRED", 75: "ADD.OVERLAY", 76: "GRIDLINES", 77: "SET.PREFERRED", 78: "AXES", 79: "LEGEND", 80: "ATTACH.TEXT", 81: "ADD.ARROW", 82: "SELECT.CHART", 83: "SELECT.PLOT.AREA", 84: "PATTERNS", 85: "MAIN.CHART", 86: "OVERLAY", 87: "SCALE", 88: "FORMAT.LEGEND", 89: "FORMAT.TEXT", 90: "EDIT.REPEAT", 91: "PARSE", 92: "JUSTIFY", 93: "HIDE", 94: "UNHIDE", 95: "WORKSPACE", 96: "FORMULA", 97: "FORMULA.FILL", 98: "FORMULA.ARRAY", 99: "DATA.FIND.NEXT", 100: "DATA.FIND.PREV", 101: "FORMULA.FIND.NEXT", 102: "FORMULA.FIND.PREV", 103: "ACTIVATE", 104: "ACTIVATE.NEXT", 105: "ACTIVATE.PREV", 106: "UNLOCKED.NEXT", 107: "UNLOCKED.PREV", 108: "COPY.PICTURE", 109: "SELECT", 110: "DELETE.NAME", 111: "DELETE.FORMAT", 112: "VLINE", 113: "HLINE", 114: "VPAGE", 115: "HPAGE", 116: "VSCROLL", 117: "HSCROLL", 118: "ALERT", 119: "NEW", 120: "CANCEL.COPY", 121: "SHOW.CLIPBOARD", 122: "MESSAGE", 124: "PASTE.LINK", 125: "APP.ACTIVATE", 126: "DELETE.ARROW", 127: "ROW.HEIGHT", 128: "FORMAT.MOVE", 129: "FORMAT.SIZE", 130: "FORMULA.REPLACE", 131: "SEND.KEYS", 132: "SELECT.SPECIAL", 133: "APPLY.NAMES", 134: "REPLACE.FONT", 135: "FREEZE.PANES", 136: "SHOW.INFO", 137: "SPLIT", 138: "ON.WINDOW", 139: "ON.DATA", 140: "DISABLE.INPUT", 142: "OUTLINE", 143: "LIST.NAMES", 144: "FILE.CLOSE", 145: "SAVE.WORKBOOK", 146: "DATA.FORM", 147: "COPY.CHART", 148: "ON.TIME", 149: "WAIT", 150: "FORMAT.FONT", 151: "FILL.UP", 152: "FILL.LEFT", 153: "DELETE.OVERLAY", 155: "SHORT.MENUS", 159: "SET.UPDATE.STATUS", 161: "COLOR.PALETTE", 162: "DELETE.STYLE", 163: "WINDOW.RESTORE", 164: "WINDOW.MAXIMIZE", 166: "CHANGE.LINK", 167: "CALCULATE.DOCUMENT", 168: "ON.KEY", 169: "APP.RESTORE", 170: "APP.MOVE", 171: "APP.SIZE", 172: "APP.MINIMIZE", 173: "APP.MAXIMIZE", 174: "BRING.TO.FRONT", 175: "SEND.TO.BACK", 185: "MAIN.CHART.TYPE", 186: "OVERLAY.CHART.TYPE", 187: "SELECT.END", 188: "OPEN.MAIL", 189: "SEND.MAIL", 190: "STANDARD.FONT", 191: "CONSOLIDATE", 192: "SORT.SPECIAL", 193: "GALLERY.3D.AREA", 194: "GALLERY.3D.COLUMN", 195: "GALLERY.3D.LINE", 196: "GALLERY.3D.PIE", 197: "VIEW.3D", 198: "GOAL.SEEK", 199: "WORKGROUP", 200: "FILL.GROUP", 201: "UPDATE.LINK", 202: "PROMOTE", 203: "DEMOTE", 204: "SHOW.DETAIL", 206: "UNGROUP", 207: "OBJECT.PROPERTIES", 208: "SAVE.NEW.OBJECT", 209: "SHARE", 210: "SHARE.NAME", 211: "DUPLICATE", 212: "APPLY.STYLE", 213: "ASSIGN.TO.OBJECT", 214: "OBJECT.PROTECTION", 215: "HIDE.OBJECT", 216: "SET.EXTRACT", 217: "CREATE.PUBLISHER", 218: "SUBSCRIBE.TO", 219: "ATTRIBUTES", 220: "SHOW.TOOLBAR", 222: "PRINT.PREVIEW", 223: "EDIT.COLOR", 224: "SHOW.LEVELS", 225: "FORMAT.MAIN", 226: "FORMAT.OVERLAY", 227: "ON.RECALC", 228: "EDIT.SERIES", 229: "DEFINE.STYLE", 240: "LINE.PRINT", 243: "ENTER.DATA", 249: "GALLERY.RADAR", 250: "MERGE.STYLES", 251: "EDITION.OPTIONS", 252: "PASTE.PICTURE", 253: "PASTE.PICTURE.LINK", 254: "SPELLING", 256: "ZOOM", 259: "INSERT.OBJECT", 260: "WINDOW.MINIMIZE", 265: "SOUND.NOTE", 266: "SOUND.PLAY", 267: "FORMAT.SHAPE", 268: "EXTEND.POLYGON", 269: "FORMAT.AUTO", 272: "GALLERY.3D.BAR", 273: "GALLERY.3D.SURFACE", 274: "FILL.AUTO", 276: "CUSTOMIZE.TOOLBAR", 277: "ADD.TOOL", 278: "EDIT.OBJECT", 279: "ON.DOUBLECLICK", 280: "ON.ENTRY", 281: "WORKBOOK.ADD", 282: "WORKBOOK.MOVE", 283: "WORKBOOK.COPY", 284: "WORKBOOK.OPTIONS", 285: "SAVE.WORKSPACE", 288: "CHART.WIZARD", 289: "DELETE.TOOL", 290: "MOVE.TOOL", 291: "WORKBOOK.SELECT", 292: "WORKBOOK.ACTIVATE", 293: "ASSIGN.TO.TOOL", 295: "COPY.TOOL", 296: "RESET.TOOL", 297: "CONSTRAIN.NUMERIC", 298: "PASTE.TOOL", 302: "WORKBOOK.NEW", 305: "SCENARIO.CELLS", 306: "SCENARIO.DELETE", 307: "SCENARIO.ADD", 308: "SCENARIO.EDIT", 309: "SCENARIO.SHOW", 310: "SCENARIO.SHOW.NEXT", 311: "SCENARIO.SUMMARY", 312: "PIVOT.TABLE.WIZARD", 313: "PIVOT.FIELD.PROPERTIES", 314: "PIVOT.FIELD", 315: "PIVOT.ITEM", 316: "PIVOT.ADD.FIELDS", 318: "OPTIONS.CALCULATION", 319: "OPTIONS.EDIT", 320: "OPTIONS.VIEW", 321: "ADDIN.MANAGER", 322: "MENU.EDITOR", 323: "ATTACH.TOOLBARS", 324: "VBAActivate", 325: "OPTIONS.CHART", 328: "VBA.INSERT.FILE", 330: "VBA.PROCEDURE.DEFINITION", 336: "ROUTING.SLIP", 338: "ROUTE.DOCUMENT", 339: "MAIL.LOGON", 342: "INSERT.PICTURE", 343: "EDIT.TOOL", 344: "GALLERY.DOUGHNUT", 350: "CHART.TREND", 352: "PIVOT.ITEM.PROPERTIES", 354: "WORKBOOK.INSERT", 355: "OPTIONS.TRANSITION", 356: "OPTIONS.GENERAL", 370: "FILTER.ADVANCED", 373: "MAIL.ADD.MAILER", 374: "MAIL.DELETE.MAILER", 375: "MAIL.REPLY", 376: "MAIL.REPLY.ALL", 377: "MAIL.FORWARD", 378: "MAIL.NEXT.LETTER", 379: "DATA.LABEL", 380: "INSERT.TITLE", 381: "FONT.PROPERTIES", 382: "MACRO.OPTIONS", 383: "WORKBOOK.HIDE", 384: "WORKBOOK.UNHIDE", 385: "WORKBOOK.DELETE", 386: "WORKBOOK.NAME", 388: "GALLERY.CUSTOM", 390: "ADD.CHART.AUTOFORMAT", 391: "DELETE.CHART.AUTOFORMAT", 392: "CHART.ADD.DATA", 393: "AUTO.OUTLINE", 394: "TAB.ORDER", 395: "SHOW.DIALOG", 396: "SELECT.ALL", 397: "UNGROUP.SHEETS", 398: "SUBTOTAL.CREATE", 399: "SUBTOTAL.REMOVE", 400: "RENAME.OBJECT", 412: "WORKBOOK.SCROLL", 413: "WORKBOOK.NEXT", 414: "WORKBOOK.PREV", 415: "WORKBOOK.TAB.SPLIT", 416: "FULL.SCREEN", 417: "WORKBOOK.PROTECT", 420: "SCROLLBAR.PROPERTIES", 421: "PIVOT.SHOW.PAGES", 422: "TEXT.TO.COLUMNS", 423: "FORMAT.CHARTTYPE", 424: "LINK.FORMAT", 425: "TRACER.DISPLAY", 430: "TRACER.NAVIGATE", 431: "TRACER.CLEAR", 432: "TRACER.ERROR", 433: "PIVOT.FIELD.GROUP", 434: "PIVOT.FIELD.UNGROUP", 435: "CHECKBOX.PROPERTIES", 436: "LABEL.PROPERTIES", 437: "LISTBOX.PROPERTIES", 438: "EDITBOX.PROPERTIES", 439: "PIVOT.REFRESH", 440: "LINK.COMBO", 441: "OPEN.TEXT", 442: "HIDE.DIALOG", 443: "SET.DIALOG.FOCUS", 444: "ENABLE.OBJECT", 445: "PUSHBUTTON.PROPERTIES", 446: "SET.DIALOG.DEFAULT", 447: "FILTER", 448: "FILTER.SHOW.ALL", 449: "CLEAR.OUTLINE", 450: "FUNCTION.WIZARD", 451: "ADD.LIST.ITEM", 452: "SET.LIST.ITEM", 453: "REMOVE.LIST.ITEM", 454: "SELECT.LIST.ITEM", 455: "SET.CONTROL.VALUE", 456: "SAVE.COPY.AS", 458: "OPTIONS.LISTS.ADD", 459: "OPTIONS.LISTS.DELETE", 460: "SERIES.AXES", 461: "SERIES.X", 462: "SERIES.Y", 463: "ERRORBAR.X", 464: "ERRORBAR.Y", 465: "FORMAT.CHART", 466: "SERIES.ORDER", 467: "MAIL.LOGOFF", 468: "CLEAR.ROUTING.SLIP", 469: "APP.ACTIVATE.MICROSOFT", 470: "MAIL.EDIT.MAILER", 471: "ON.SHEET", 472: "STANDARD.WIDTH", 473: "SCENARIO.MERGE", 474: "SUMMARY.INFO", 475: "FIND.FILE", 476: "ACTIVE.CELL.FONT", 477: "ENABLE.TIPWIZARD", 478: "VBA.MAKE.ADDIN", 480: "INSERTDATATABLE", 481: "WORKGROUP.OPTIONS", 482: "MAIL.SEND.MAILER", 485: "AUTOCORRECT", 489: "POST.DOCUMENT", 491: "PICKLIST", 493: "VIEW.SHOW", 494: "VIEW.DEFINE", 495: "VIEW.DELETE", 509: "SHEET.BACKGROUND", 510: "INSERT.MAP.OBJECT", 511: "OPTIONS.MENONO", 517: "MSOCHECKS", 518: "NORMAL", 519: "LAYOUT", 520: "RM.PRINT.AREA", 521: "CLEAR.PRINT.AREA", 522: "ADD.PRINT.AREA", 523: "MOVE.BRK", 545: "HIDECURR.NOTE", 546: "HIDEALL.NOTES", 547: "DELETE.NOTE", 548: "TRAVERSE.NOTES", 549: "ACTIVATE.NOTES", 620: "PROTECT.REVISIONS", 621: "UNPROTECT.REVISIONS", 647: "OPTIONS.ME", 653: "WEB.PUBLISH", 667: "NEWWEBQUERY", 673: "PIVOT.TABLE.CHART", 753: "OPTIONS.SAVE", 755: "OPTIONS.SPELL", 808: "HIDEALL.INKANNOTS" }, f9 = { 0: "COUNT", 1: "IF", 2: "ISNA", 3: "ISERROR", 4: "SUM", 5: "AVERAGE", 6: "MIN", 7: "MAX", 8: "ROW", 9: "COLUMN", 10: "NA", 11: "NPV", 12: "STDEV", 13: "DOLLAR", 14: "FIXED", 15: "SIN", 16: "COS", 17: "TAN", 18: "ATAN", 19: "PI", 20: "SQRT", 21: "EXP", 22: "LN", 23: "LOG10", 24: "ABS", 25: "INT", 26: "SIGN", 27: "ROUND", 28: "LOOKUP", 29: "INDEX", 30: "REPT", 31: "MID", 32: "LEN", 33: "VALUE", 34: "TRUE", 35: "FALSE", 36: "AND", 37: "OR", 38: "NOT", 39: "MOD", 40: "DCOUNT", 41: "DSUM", 42: "DAVERAGE", 43: "DMIN", 44: "DMAX", 45: "DSTDEV", 46: "VAR", 47: "DVAR", 48: "TEXT", 49: "LINEST", 50: "TREND", 51: "LOGEST", 52: "GROWTH", 53: "GOTO", 54: "HALT", 55: "RETURN", 56: "PV", 57: "FV", 58: "NPER", 59: "PMT", 60: "RATE", 61: "MIRR", 62: "IRR", 63: "RAND", 64: "MATCH", 65: "DATE", 66: "TIME", 67: "DAY", 68: "MONTH", 69: "YEAR", 70: "WEEKDAY", 71: "HOUR", 72: "MINUTE", 73: "SECOND", 74: "NOW", 75: "AREAS", 76: "ROWS", 77: "COLUMNS", 78: "OFFSET", 79: "ABSREF", 80: "RELREF", 81: "ARGUMENT", 82: "SEARCH", 83: "TRANSPOSE", 84: "ERROR", 85: "STEP", 86: "TYPE", 87: "ECHO", 88: "SET.NAME", 89: "CALLER", 90: "DEREF", 91: "WINDOWS", 92: "SERIES", 93: "DOCUMENTS", 94: "ACTIVE.CELL", 95: "SELECTION", 96: "RESULT", 97: "ATAN2", 98: "ASIN", 99: "ACOS", 100: "CHOOSE", 101: "HLOOKUP", 102: "VLOOKUP", 103: "LINKS", 104: "INPUT", 105: "ISREF", 106: "GET.FORMULA", 107: "GET.NAME", 108: "SET.VALUE", 109: "LOG", 110: "EXEC", 111: "CHAR", 112: "LOWER", 113: "UPPER", 114: "PROPER", 115: "LEFT", 116: "RIGHT", 117: "EXACT", 118: "TRIM", 119: "REPLACE", 120: "SUBSTITUTE", 121: "CODE", 122: "NAMES", 123: "DIRECTORY", 124: "FIND", 125: "CELL", 126: "ISERR", 127: "ISTEXT", 128: "ISNUMBER", 129: "ISBLANK", 130: "T", 131: "N", 132: "FOPEN", 133: "FCLOSE", 134: "FSIZE", 135: "FREADLN", 136: "FREAD", 137: "FWRITELN", 138: "FWRITE", 139: "FPOS", 140: "DATEVALUE", 141: "TIMEVALUE", 142: "SLN", 143: "SYD", 144: "DDB", 145: "GET.DEF", 146: "REFTEXT", 147: "TEXTREF", 148: "INDIRECT", 149: "REGISTER", 150: "CALL", 151: "ADD.BAR", 152: "ADD.MENU", 153: "ADD.COMMAND", 154: "ENABLE.COMMAND", 155: "CHECK.COMMAND", 156: "RENAME.COMMAND", 157: "SHOW.BAR", 158: "DELETE.MENU", 159: "DELETE.COMMAND", 160: "GET.CHART.ITEM", 161: "DIALOG.BOX", 162: "CLEAN", 163: "MDETERM", 164: "MINVERSE", 165: "MMULT", 166: "FILES", 167: "IPMT", 168: "PPMT", 169: "COUNTA", 170: "CANCEL.KEY", 171: "FOR", 172: "WHILE", 173: "BREAK", 174: "NEXT", 175: "INITIATE", 176: "REQUEST", 177: "POKE", 178: "EXECUTE", 179: "TERMINATE", 180: "RESTART", 181: "HELP", 182: "GET.BAR", 183: "PRODUCT", 184: "FACT", 185: "GET.CELL", 186: "GET.WORKSPACE", 187: "GET.WINDOW", 188: "GET.DOCUMENT", 189: "DPRODUCT", 190: "ISNONTEXT", 191: "GET.NOTE", 192: "NOTE", 193: "STDEVP", 194: "VARP", 195: "DSTDEVP", 196: "DVARP", 197: "TRUNC", 198: "ISLOGICAL", 199: "DCOUNTA", 200: "DELETE.BAR", 201: "UNREGISTER", 204: "USDOLLAR", 205: "FINDB", 206: "SEARCHB", 207: "REPLACEB", 208: "LEFTB", 209: "RIGHTB", 210: "MIDB", 211: "LENB", 212: "ROUNDUP", 213: "ROUNDDOWN", 214: "ASC", 215: "DBCS", 216: "RANK", 219: "ADDRESS", 220: "DAYS360", 221: "TODAY", 222: "VDB", 223: "ELSE", 224: "ELSE.IF", 225: "END.IF", 226: "FOR.CELL", 227: "MEDIAN", 228: "SUMPRODUCT", 229: "SINH", 230: "COSH", 231: "TANH", 232: "ASINH", 233: "ACOSH", 234: "ATANH", 235: "DGET", 236: "CREATE.OBJECT", 237: "VOLATILE", 238: "LAST.ERROR", 239: "CUSTOM.UNDO", 240: "CUSTOM.REPEAT", 241: "FORMULA.CONVERT", 242: "GET.LINK.INFO", 243: "TEXT.BOX", 244: "INFO", 245: "GROUP", 246: "GET.OBJECT", 247: "DB", 248: "PAUSE", 251: "RESUME", 252: "FREQUENCY", 253: "ADD.TOOLBAR", 254: "DELETE.TOOLBAR", 255: "User", 256: "RESET.TOOLBAR", 257: "EVALUATE", 258: "GET.TOOLBAR", 259: "GET.TOOL", 260: "SPELLING.CHECK", 261: "ERROR.TYPE", 262: "APP.TITLE", 263: "WINDOW.TITLE", 264: "SAVE.TOOLBAR", 265: "ENABLE.TOOL", 266: "PRESS.TOOL", 267: "REGISTER.ID", 268: "GET.WORKBOOK", 269: "AVEDEV", 270: "BETADIST", 271: "GAMMALN", 272: "BETAINV", 273: "BINOMDIST", 274: "CHIDIST", 275: "CHIINV", 276: "COMBIN", 277: "CONFIDENCE", 278: "CRITBINOM", 279: "EVEN", 280: "EXPONDIST", 281: "FDIST", 282: "FINV", 283: "FISHER", 284: "FISHERINV", 285: "FLOOR", 286: "GAMMADIST", 287: "GAMMAINV", 288: "CEILING", 289: "HYPGEOMDIST", 290: "LOGNORMDIST", 291: "LOGINV", 292: "NEGBINOMDIST", 293: "NORMDIST", 294: "NORMSDIST", 295: "NORMINV", 296: "NORMSINV", 297: "STANDARDIZE", 298: "ODD", 299: "PERMUT", 300: "POISSON", 301: "TDIST", 302: "WEIBULL", 303: "SUMXMY2", 304: "SUMX2MY2", 305: "SUMX2PY2", 306: "CHITEST", 307: "CORREL", 308: "COVAR", 309: "FORECAST", 310: "FTEST", 311: "INTERCEPT", 312: "PEARSON", 313: "RSQ", 314: "STEYX", 315: "SLOPE", 316: "TTEST", 317: "PROB", 318: "DEVSQ", 319: "GEOMEAN", 320: "HARMEAN", 321: "SUMSQ", 322: "KURT", 323: "SKEW", 324: "ZTEST", 325: "LARGE", 326: "SMALL", 327: "QUARTILE", 328: "PERCENTILE", 329: "PERCENTRANK", 330: "MODE", 331: "TRIMMEAN", 332: "TINV", 334: "MOVIE.COMMAND", 335: "GET.MOVIE", 336: "CONCATENATE", 337: "POWER", 338: "PIVOT.ADD.DATA", 339: "GET.PIVOT.TABLE", 340: "GET.PIVOT.FIELD", 341: "GET.PIVOT.ITEM", 342: "RADIANS", 343: "DEGREES", 344: "SUBTOTAL", 345: "SUMIF", 346: "COUNTIF", 347: "COUNTBLANK", 348: "SCENARIO.GET", 349: "OPTIONS.LISTS.GET", 350: "ISPMT", 351: "DATEDIF", 352: "DATESTRING", 353: "NUMBERSTRING", 354: "ROMAN", 355: "OPEN.DIALOG", 356: "SAVE.DIALOG", 357: "VIEW.GET", 358: "GETPIVOTDATA", 359: "HYPERLINK", 360: "PHONETIC", 361: "AVERAGEA", 362: "MAXA", 363: "MINA", 364: "STDEVPA", 365: "VARPA", 366: "STDEVA", 367: "VARA", 368: "BAHTTEXT", 369: "THAIDAYOFWEEK", 370: "THAIDIGIT", 371: "THAIMONTHOFYEAR", 372: "THAINUMSOUND", 373: "THAINUMSTRING", 374: "THAISTRINGLENGTH", 375: "ISTHAIDIGIT", 376: "ROUNDBAHTDOWN", 377: "ROUNDBAHTUP", 378: "THAIYEAR", 379: "RTD", 380: "CUBEVALUE", 381: "CUBEMEMBER", 382: "CUBEMEMBERPROPERTY", 383: "CUBERANKEDMEMBER", 384: "HEX2BIN", 385: "HEX2DEC", 386: "HEX2OCT", 387: "DEC2BIN", 388: "DEC2HEX", 389: "DEC2OCT", 390: "OCT2BIN", 391: "OCT2HEX", 392: "OCT2DEC", 393: "BIN2DEC", 394: "BIN2OCT", 395: "BIN2HEX", 396: "IMSUB", 397: "IMDIV", 398: "IMPOWER", 399: "IMABS", 400: "IMSQRT", 401: "IMLN", 402: "IMLOG2", 403: "IMLOG10", 404: "IMSIN", 405: "IMCOS", 406: "IMEXP", 407: "IMARGUMENT", 408: "IMCONJUGATE", 409: "IMAGINARY", 410: "IMREAL", 411: "COMPLEX", 412: "IMSUM", 413: "IMPRODUCT", 414: "SERIESSUM", 415: "FACTDOUBLE", 416: "SQRTPI", 417: "QUOTIENT", 418: "DELTA", 419: "GESTEP", 420: "ISEVEN", 421: "ISODD", 422: "MROUND", 423: "ERF", 424: "ERFC", 425: "BESSELJ", 426: "BESSELK", 427: "BESSELY", 428: "BESSELI", 429: "XIRR", 430: "XNPV", 431: "PRICEMAT", 432: "YIELDMAT", 433: "INTRATE", 434: "RECEIVED", 435: "DISC", 436: "PRICEDISC", 437: "YIELDDISC", 438: "TBILLEQ", 439: "TBILLPRICE", 440: "TBILLYIELD", 441: "PRICE", 442: "YIELD", 443: "DOLLARDE", 444: "DOLLARFR", 445: "NOMINAL", 446: "EFFECT", 447: "CUMPRINC", 448: "CUMIPMT", 449: "EDATE", 450: "EOMONTH", 451: "YEARFRAC", 452: "COUPDAYBS", 453: "COUPDAYS", 454: "COUPDAYSNC", 455: "COUPNCD", 456: "COUPNUM", 457: "COUPPCD", 458: "DURATION", 459: "MDURATION", 460: "ODDLPRICE", 461: "ODDLYIELD", 462: "ODDFPRICE", 463: "ODDFYIELD", 464: "RANDBETWEEN", 465: "WEEKNUM", 466: "AMORDEGRC", 467: "AMORLINC", 468: "CONVERT", 724: "SHEETJS", 469: "ACCRINT", 470: "ACCRINTM", 471: "WORKDAY", 472: "NETWORKDAYS", 473: "GCD", 474: "MULTINOMIAL", 475: "LCM", 476: "FVSCHEDULE", 477: "CUBEKPIMEMBER", 478: "CUBESET", 479: "CUBESETCOUNT", 480: "IFERROR", 481: "COUNTIFS", 482: "SUMIFS", 483: "AVERAGEIF", 484: "AVERAGEIFS" }, bte = { 2: 1, 3: 1, 10: 0, 15: 1, 16: 1, 17: 1, 18: 1, 19: 0, 20: 1, 21: 1, 22: 1, 23: 1, 24: 1, 25: 1, 26: 1, 27: 2, 30: 2, 31: 3, 32: 1, 33: 1, 34: 0, 35: 0, 38: 1, 39: 2, 40: 3, 41: 3, 42: 3, 43: 3, 44: 3, 45: 3, 47: 3, 48: 2, 53: 1, 61: 3, 63: 0, 65: 3, 66: 3, 67: 1, 68: 1, 69: 1, 70: 1, 71: 1, 72: 1, 73: 1, 74: 0, 75: 1, 76: 1, 77: 1, 79: 2, 80: 2, 83: 1, 85: 0, 86: 1, 89: 0, 90: 1, 94: 0, 95: 0, 97: 2, 98: 1, 99: 1, 101: 3, 102: 3, 105: 1, 106: 1, 108: 2, 111: 1, 112: 1, 113: 1, 114: 1, 117: 2, 118: 1, 119: 4, 121: 1, 126: 1, 127: 1, 128: 1, 129: 1, 130: 1, 131: 1, 133: 1, 134: 1, 135: 1, 136: 2, 137: 2, 138: 2, 140: 1, 141: 1, 142: 3, 143: 4, 144: 4, 161: 1, 162: 1, 163: 1, 164: 1, 165: 2, 172: 1, 175: 2, 176: 2, 177: 3, 178: 2, 179: 1, 184: 1, 186: 1, 189: 3, 190: 1, 195: 3, 196: 3, 197: 1, 198: 1, 199: 3, 201: 1, 207: 4, 210: 3, 211: 1, 212: 2, 213: 2, 214: 1, 215: 1, 225: 0, 229: 1, 230: 1, 231: 1, 232: 1, 233: 1, 234: 1, 235: 3, 244: 1, 247: 4, 252: 2, 257: 1, 261: 1, 271: 1, 273: 4, 274: 2, 275: 2, 276: 2, 277: 3, 278: 3, 279: 1, 280: 3, 281: 3, 282: 3, 283: 1, 284: 1, 285: 2, 286: 4, 287: 3, 288: 2, 289: 4, 290: 3, 291: 3, 292: 3, 293: 4, 294: 1, 295: 3, 296: 1, 297: 3, 298: 1, 299: 2, 300: 3, 301: 3, 302: 4, 303: 2, 304: 2, 305: 2, 306: 2, 307: 2, 308: 2, 309: 3, 310: 2, 311: 2, 312: 2, 313: 2, 314: 2, 315: 2, 316: 4, 325: 2, 326: 2, 327: 2, 328: 2, 331: 2, 332: 2, 337: 2, 342: 1, 343: 1, 346: 2, 347: 1, 350: 4, 351: 3, 352: 1, 353: 2, 360: 1, 368: 1, 369: 1, 370: 1, 371: 1, 372: 1, 373: 1, 374: 1, 375: 1, 376: 1, 377: 1, 378: 1, 382: 3, 385: 1, 392: 1, 393: 1, 396: 2, 397: 2, 398: 2, 399: 1, 400: 1, 401: 1, 402: 1, 403: 1, 404: 1, 405: 1, 406: 1, 407: 1, 408: 1, 409: 1, 410: 1, 414: 4, 415: 1, 416: 1, 417: 2, 420: 1, 421: 1, 422: 2, 424: 1, 425: 2, 426: 2, 427: 2, 428: 2, 430: 3, 438: 3, 439: 3, 440: 3, 443: 2, 444: 2, 445: 2, 446: 2, 447: 6, 448: 6, 449: 2, 450: 2, 464: 2, 468: 3, 476: 2, 479: 1, 480: 2, 65535: 0 };
    function d9(h) {
      return (h = (h = (h = (h = (h = h.slice(0, 3) == "of:" ? h.slice(3) : h).charCodeAt(0) == 61 && (h = h.slice(1)).charCodeAt(0) == 61 ? h.slice(1) : h).replace(/COM\.MICROSOFT\./g, "")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g, function(g, m) {
        return m.replace(/\./g, "");
      })).replace(/\[.(#[A-Z]*[?!])\]/g, "$1")).replace(/[;~]/g, ",").replace(/\|/g, ";");
    }
    function e4(h) {
      return h = h.split(":"), [h[0].split(".")[0], h[0].split(".")[1] + (1 < h.length ? ":" + (h[1].split(".")[1] || h[1].split(".")[0]) : "")];
    }
    var Sv = {}, jd = {}, xv = typeof Map < "u";
    function t4(h, g, m) {
      var b = 0, T = h.length;
      if (m) {
        if (xv ? m.has(g) : Object.prototype.hasOwnProperty.call(m, g)) {
          for (var A = xv ? m.get(g) : m[g]; b < A.length; ++b)
            if (h[A[b]].t === g)
              return h.Count++, A[b];
        }
      } else
        for (; b < T; ++b)
          if (h[b].t === g)
            return h.Count++, b;
      return h[T] = { t: g }, h.Count++, h.Unique++, m && (xv ? (m.has(g) || m.set(g, []), m.get(g).push(T)) : (Object.prototype.hasOwnProperty.call(m, g) || (m[g] = []), m[g].push(T))), T;
    }
    function Jm(b, g) {
      var m = { min: b + 1, max: b + 1 }, b = -1;
      return g.MDW && (Ma = g.MDW), g.width != null ? m.customWidth = 1 : g.wpx != null ? b = vv(g.wpx) : g.wch != null && (b = g.wch), -1 < b ? (m.width = jm(b), m.customWidth = 1) : g.width != null && (m.width = g.width), g.hidden && (m.hidden = !0), g.level != null && (m.outlineLevel = m.level = g.level), m;
    }
    function Eh(h, g) {
      h && (g = g == "xlml" ? [1, 1, 1, 1, 0.5, 0.5] : [0.7, 0.7, 0.75, 0.75, 0.3, 0.3], h.left == null && (h.left = g[0]), h.right == null && (h.right = g[1]), h.top == null && (h.top = g[2]), h.bottom == null && (h.bottom = g[3]), h.header == null && (h.header = g[4]), h.footer == null && (h.footer = g[5]));
    }
    function cc(h, g, m) {
      if (mv !== void 0) {
        if (/^\d+$/.exec(g.s) || g.s && g.s == +g.s)
          return g.s;
        var b = g.s || {};
        return g.z && (b.numFmt = g.z), mv.addStyle(b);
      }
      var T = m.revssf[g.z != null ? g.z : "General"], A = 60, C = h.length;
      if (T == null && m.ssf) {
        for (; A < 392; ++A)
          if (m.ssf[A] == null) {
            yr(g.z, A), m.ssf[A] = g.z, m.revssf[g.z] = T = A;
            break;
          }
      }
      for (A = 0; A != C; ++A)
        if (h[A].numFmtId === T)
          return A;
      return h[C] = { numFmtId: T, fontId: 0, fillId: 0, borderId: 0, xfId: 0, applyNumberFormat: 1 }, C;
    }
    function p9(h, g, m, b, T, A) {
      try {
        b.cellNF && (h.z = De[g]);
      } catch (D) {
        if (b.WTF)
          throw D;
      }
      if (h.t !== "z" || b.cellStyles) {
        if (h.t === "d" && typeof h.v == "string" && (h.v = jn(h.v)), (!b || b.cellText !== !1) && h.t !== "z")
          try {
            if (De[g] == null && yr(J0[g] || "General", g), h.t === "e")
              h.w = h.w || $l[h.v];
            else if (g === 0)
              if (h.t === "n")
                (0 | h.v) === h.v ? h.w = h.v.toString(10) : h.w = ae(h.v);
              else if (h.t === "d") {
                var C = Hi(h.v);
                h.w = (0 | C) === C ? C.toString(10) : ae(C);
              } else {
                if (h.v === void 0)
                  return;
                h.w = pe(h.v, jd);
              }
            else
              h.t === "d" ? h.w = wr(g, Hi(h.v), jd) : h.w = wr(g, h.v, jd);
          } catch (D) {
            if (b.WTF)
              throw D;
          }
        if (b.cellStyles && m != null)
          try {
            h.s = A.Fills[m], h.s.fgColor && h.s.fgColor.theme && !h.s.fgColor.rgb && (h.s.fgColor.rgb = Ym(T.themeElements.clrScheme[h.s.fgColor.theme].rgb, h.s.fgColor.tint || 0), b.WTF && (h.s.fgColor.raw_rgb = T.themeElements.clrScheme[h.s.fgColor.theme].rgb)), h.s.bgColor && h.s.bgColor.theme && (h.s.bgColor.rgb = Ym(T.themeElements.clrScheme[h.s.bgColor.theme].rgb, h.s.bgColor.tint || 0), b.WTF && (h.s.bgColor.raw_rgb = T.themeElements.clrScheme[h.s.bgColor.theme].rgb));
          } catch (D) {
            if (b.WTF && A.Fills)
              throw D;
          }
      }
    }
    var wte = /<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g, Ste = /<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/, xte = /<(?:\w:)?hyperlink [^>]*>/gm, Tte = /"(\w*:\w*)"/, Cte = /<(?:\w:)?col\b[^>]*[\/]?>/g, Ate = /<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g, Ete = /<(?:\w:)?pageMargins[^>]*\/>/g, v9 = /<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/, Dte = /<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/, kte = /<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;
    function Mte(h, g, m, b, T, A, C) {
      if (!h)
        return h;
      b = b || { "!id": {} };
      var D = g.dense ? [] : {}, I = { s: { r: 2e6, c: 2e6 }, e: { r: 0, c: 0 } }, R = "", ze = "", N = h.match(Ste);
      N ? (R = h.slice(0, N.index), ze = h.slice(N.index + N[0].length)) : R = ze = h;
      var W = R.match(v9);
      W ? r4(W[0], 0, T, m) : (W = R.match(Dte)) && (h = W[0], W[1], W = D, H = T, j = m, r4(h.slice(0, h.indexOf(">")), 0, H, j));
      var H, j, oe = (R.match(/<(?:\w*:)?dimension/) || { index: -1 }).index;
      0 < oe && (H = R.slice(oe, oe + 50).match(Tte)) && (j = D, (_e = nn(_e = H[1])).s.r <= _e.e.r && _e.s.c <= _e.e.c && 0 <= _e.s.r && 0 <= _e.s.c && (j["!ref"] = Ur(_e)));
      var X, _e = R.match(kte);
      _e && _e[1] && (ee = _e[1], (X = T).Views || (X.Views = [{}]), (ee.match(Rte) || []).forEach(function(Be, Ye) {
        Be = Dr(Be), X.Views[Ye] || (X.Views[Ye] = {}), +Be.zoomScale && (X.Views[Ye].zoom = +Be.zoomScale), qn(Be.rightToLeft) && (X.Views[Ye].RTL = !0);
      }));
      var ue, ee = [];
      g.cellStyles && (ue = R.match(Cte)) && function(Be, Ye) {
        for (var it = !1, at = 0; at != Ye.length; ++at) {
          var Xe = Dr(Ye[at], !0);
          Xe.hidden && (Xe.hidden = qn(Xe.hidden));
          var _t = parseInt(Xe.min, 10) - 1, Vt = parseInt(Xe.max, 10) - 1;
          for (Xe.outlineLevel && (Xe.level = +Xe.outlineLevel || 0), delete Xe.min, delete Xe.max, Xe.width = +Xe.width, !it && Xe.width && (it = !0, jx(Xe.width)), lc(Xe); _t <= Vt; )
            Be[_t++] = Un(Xe);
        }
      }(ee, ue), N && Lte(N[1], D, g, I, A, C), C = ze.match(Ate), C && (D["!autofilter"] = { ref: (C[0].match(/ref="([^"]*)"/) || [])[1] });
      var me = [], Te = ze.match(wte);
      if (Te)
        for (oe = 0; oe != Te.length; ++oe)
          me[oe] = nn(Te[oe].slice(Te[oe].indexOf('"') + 1));
      C = ze.match(xte), C && function(Be, Ye, it) {
        for (var at = Array.isArray(Be), Xe = 0; Xe != Ye.length; ++Xe) {
          var _t = Dr(Rn(Ye[Xe]), !0);
          if (!_t.ref)
            return;
          var Vt = ((it || {})["!id"] || [])[_t.id];
          Vt ? (_t.Target = Vt.Target, _t.location && (_t.Target += "#" + dn(_t.location))) : (_t.Target = "#" + dn(_t.location), Vt = { Target: _t.Target, TargetMode: "Internal" }), _t.Rel = Vt, _t.tooltip && (_t.Tooltip = _t.tooltip, delete _t.tooltip);
          for (var Ot = nn(_t.ref), At = Ot.s.r; At <= Ot.e.r; ++At)
            for (var Dt = Ot.s.c; Dt <= Ot.e.c; ++Dt) {
              var Tt = kr({ c: Dt, r: At });
              at ? (Be[At] || (Be[At] = []), Be[At][Dt] || (Be[At][Dt] = { t: "z", v: void 0 }), Be[At][Dt].l = _t) : (Be[Tt] || (Be[Tt] = { t: "z", v: void 0 }), Be[Tt].l = _t);
            }
        }
      }(D, C, b);
      var Ce, Fe, ze = ze.match(Ete);
      return ze && (D["!margins"] = (Ce = Dr(ze[0]), Fe = {}, ["left", "right", "top", "bottom", "header", "footer"].forEach(function(Be) {
        Ce[Be] && (Fe[Be] = parseFloat(Ce[Be]));
      }), Fe)), !D["!ref"] && I.e.c >= I.s.c && I.e.r >= I.s.r && (D["!ref"] = Ur(I)), 0 < g.sheetRows && D["!ref"] && (ze = nn(D["!ref"]), g.sheetRows <= +ze.e.r && (ze.e.r = g.sheetRows - 1, ze.e.r > I.e.r && (ze.e.r = I.e.r), ze.e.r < ze.s.r && (ze.s.r = ze.e.r), ze.e.c > I.e.c && (ze.e.c = I.e.c), ze.e.c < ze.s.c && (ze.s.c = ze.e.c), D["!fullref"] = D["!ref"], D["!ref"] = Ur(ze))), 0 < ee.length && (D["!cols"] = ee), 0 < me.length && (D["!merges"] = me), D;
    }
    function r4(h, g, m, b) {
      h = Dr(h), m.Sheets[b] || (m.Sheets[b] = {}), h.codeName && (m.Sheets[b].CodeName = dn(Rn(h.codeName)));
    }
    var Ite = ["objects", "scenarios", "selectLockedCells", "selectUnlockedCells"], Pte = ["formatColumns", "formatRows", "formatCells", "insertColumns", "insertRows", "insertHyperlinks", "deleteColumns", "deleteRows", "sort", "autoFilter", "pivotTables"], Rte = /<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/, g9, m9, y9, _9, b9, w9, S9, Lte = (g9 = /<(?:\w+:)?c[ \/>]/, m9 = /<\/(?:\w+:)?row>/, y9 = /r=["']([^"']*)["']/, _9 = /<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/, b9 = /ref=["']([^"']*)["']/, w9 = tv("v"), S9 = tv("f"), function(h, g, m, b, T, A) {
      for (var C, D, I, R, N, W, H = 0, j = "", oe = [], X = [], _e = 0, ue = 0, ee = "", me = 0, Te = 0, Ce = 0, Fe = 0, ze = Array.isArray(A.CellXf), Be = [], Ye = [], it = Array.isArray(g), at = [], Xe = {}, _t = !1, Vt = !!m.sheetStubs, Ot = h.split(m9), At = 0, Dt = Ot.length; At != Dt; ++At) {
        var Tt = (j = Ot[At].trim()).length;
        if (Tt !== 0) {
          var ct = 0;
          e:
            for (H = 0; H < Tt; ++H)
              switch (j[H]) {
                case ">":
                  if (j[H - 1] != "/") {
                    ++H;
                    break e;
                  }
                  if (m && m.cellStyles) {
                    if (me = (I = Dr(j.slice(ct, H), !0)).r != null ? parseInt(I.r, 10) : me + 1, Te = -1, m.sheetRows && m.sheetRows < me)
                      continue;
                    _t = !(Xe = {}), I.ht && (_t = !0, Xe.hpt = parseFloat(I.ht), Xe.hpx = Hd(Xe.hpt)), I.hidden == "1" && (_t = !0, Xe.hidden = !0), I.outlineLevel != null && (_t = !0, Xe.level = +I.outlineLevel), _t && (at[me - 1] = Xe);
                  }
                  break;
                case "<":
                  ct = H;
              }
          if (H <= ct)
            break;
          if (me = (I = Dr(j.slice(ct, H), !0)).r != null ? parseInt(I.r, 10) : me + 1, Te = -1, !(m.sheetRows && m.sheetRows < me)) {
            b.s.r > me - 1 && (b.s.r = me - 1), b.e.r < me - 1 && (b.e.r = me - 1), m && m.cellStyles && (_t = !(Xe = {}), I.ht && (_t = !0, Xe.hpt = parseFloat(I.ht), Xe.hpx = Hd(Xe.hpt)), I.hidden == "1" && (_t = !0, Xe.hidden = !0), I.outlineLevel != null && (_t = !0, Xe.level = +I.outlineLevel), _t && (at[me - 1] = Xe)), oe = j.slice(H).split(g9);
            for (var Kt, Qt = 0; Qt != oe.length && oe[Qt].trim().charAt(0) == "<"; ++Qt)
              ;
            for (oe = oe.slice(Qt), H = 0; H != oe.length; ++H)
              if ((j = oe[H].trim()).length !== 0) {
                if (X = j.match(y9), _e = H, ue = 0, j = "<c " + (j.slice(0, 1) == "<" ? ">" : "") + j, X != null && X.length === 2) {
                  for (_e = 0, ee = X[1], ue = 0; ue != ee.length && !((C = ee.charCodeAt(ue) - 64) < 1 || 26 < C); ++ue)
                    _e = 26 * _e + C;
                  Te = --_e;
                } else
                  ++Te;
                for (ue = 0; ue != j.length && j.charCodeAt(ue) !== 62; ++ue)
                  ;
                if (++ue, (I = Dr(j.slice(0, ue), !0)).r || (I.r = kr({ r: me - 1, c: Te })), D = { t: "" }, (X = (ee = j.slice(ue)).match(w9)) != null && X[1] !== "" && (D.v = dn(X[1])), m.cellFormula) {
                  (X = ee.match(S9)) != null && X[1] !== "" ? (D.f = dn(Rn(X[1])).replace(/\r\n/g, `
`), m.xlfn || (D.f = r9(D.f)), -1 < X[0].indexOf('t="array"') ? (D.F = (ee.match(b9) || [])[1], -1 < D.F.indexOf(":") && Be.push([nn(D.F), D.F])) : -1 < X[0].indexOf('t="shared"') && (N = Dr(X[0]), Kt = dn(Rn(X[1])), m.xlfn || (Kt = r9(Kt)), Ye[parseInt(N.si, 10)] = [N, Kt, I.r])) : (X = ee.match(/<f[^>]*\/>/)) && Ye[(N = Dr(X[0])).si] && (D.f = (W = Ye[N.si][1], Ht = Ye[N.si][2], Kt = I.r, Ht = Ya(Ht).s, Kt = ii(Kt), t9(W, { r: Kt.r - Ht.r, c: Kt.c - Ht.c })));
                  for (var hr = ii(I.r), ue = 0; ue < Be.length; ++ue)
                    hr.r >= Be[ue][0].s.r && hr.r <= Be[ue][0].e.r && hr.c >= Be[ue][0].s.c && hr.c <= Be[ue][0].e.c && (D.F = Be[ue][1]);
                }
                if (I.t == null && D.v === void 0)
                  if (D.f || D.F)
                    D.v = 0, D.t = "n";
                  else {
                    if (!Vt)
                      continue;
                    D.t = "z";
                  }
                else
                  D.t = I.t || "n";
                switch (b.s.c > Te && (b.s.c = Te), b.e.c < Te && (b.e.c = Te), D.t) {
                  case "n":
                    if (D.v == "" || D.v == null) {
                      if (!Vt)
                        continue;
                      D.t = "z";
                    } else
                      D.v = parseFloat(D.v);
                    break;
                  case "s":
                    if (D.v === void 0) {
                      if (!Vt)
                        continue;
                      D.t = "z";
                    } else
                      R = Sv[parseInt(D.v, 10)], D.v = R.t, D.r = R.r, m.cellHTML && (D.h = R.h);
                    break;
                  case "str":
                    D.t = "s", D.v = D.v != null ? Rn(D.v) : "", m.cellHTML && (D.h = sx(D.v));
                    break;
                  case "inlineStr":
                    X = ee.match(_9), D.t = "s", X != null && (R = Wx(X[1])) ? (D.v = R.t, m.cellHTML && (D.h = R.h)) : D.v = "";
                    break;
                  case "b":
                    D.v = qn(D.v);
                    break;
                  case "d":
                    m.cellDates ? D.v = jn(D.v, 1) : (D.v = Hi(jn(D.v, 1)), D.t = "n");
                    break;
                  case "e":
                    m && m.cellText === !1 || (D.w = D.v), D.v = cI[D.v];
                }
                var Gr, Ce = Fe = 0, Ht = null;
                ze && I.s !== void 0 && (Ht = A.CellXf[I.s]) != null && (Ht.numFmtId != null && (Ce = Ht.numFmtId), m.cellStyles && Ht.fillId != null && (Fe = Ht.fillId)), p9(D, Ce, Fe, m, T, A), m.cellDates && ze && D.t == "n" && Re(De[Ce]) && (D.t = "d", D.v = Tm(D.v)), I.cm && m.xlmeta && (Gr = (m.xlmeta.Cell || [])[+I.cm - 1]) && Gr.type == "XLDAPR" && (D.D = !0), it ? (g[(Gr = ii(I.r)).r] || (g[Gr.r] = []), g[Gr.r][Gr.c] = D) : g[I.r] = D;
              }
          }
        }
      }
      0 < at.length && (g["!rows"] = at);
    });
    function Ote(h, g) {
      for (var m, b, T, A, C = [], D = [], I = nn(h["!ref"]), R = [], N = 0, X = 0, W = h["!rows"], H = Array.isArray(h), j = { r: "" }, oe = -1, X = I.s.c; X <= I.e.c; ++X)
        R[X] = Xn(X);
      for (N = I.s.r; N <= I.e.r; ++N) {
        for (D = [], T = di(N), X = I.s.c; X <= I.e.c; ++X) {
          b = R[X] + T;
          var _e = H ? (h[N] || [])[X] : h[b];
          _e !== void 0 && (m = function(ue, ee, me, Te) {
            if (ue.c && me["!comments"].push([ee, ue.c]), ue.v === void 0 && typeof ue.f != "string" || ue.t === "z" && !ue.f)
              return "";
            var Ce = "", Fe = ue.t, ze = ue.v;
            if (ue.t !== "z")
              switch (ue.t) {
                case "b":
                  Ce = ue.v ? "1" : "0";
                  break;
                case "n":
                  Ce = "" + ue.v;
                  break;
                case "e":
                  Ce = $l[ue.v];
                  break;
                case "d":
                  Ce = Te && Te.cellDates ? jn(ue.v, -1).toISOString() : ((ue = Un(ue)).t = "n", "" + (ue.v = Hi(jn(ue.v)))), ue.z === void 0 && (ue.z = De[14]);
                  break;
                default:
                  Ce = ue.v;
              }
            var Be = fa("v", Dn(Ce)), Ye = { r: ee }, it = cc(Te.cellXfs, ue, Te);
            switch (it !== 0 && (Ye.s = it), ue.t) {
              case "n":
                break;
              case "d":
                Ye.t = "d";
                break;
              case "b":
                Ye.t = "b";
                break;
              case "e":
                Ye.t = "e";
                break;
              case "z":
                break;
              default:
                if (ue.v == null) {
                  delete ue.t;
                  break;
                }
                if (32767 < ue.v.length)
                  throw new Error("Text length must not exceed 32767 characters");
                if (Te && Te.bookSST) {
                  Be = fa("v", "" + t4(Te.Strings, ue.v, Te.revStrings)), Ye.t = "s";
                  break;
                }
                Ye.t = "str";
            }
            return ue.t != Fe && (ue.t = Fe, ue.v = ze), typeof ue.f == "string" && ue.f && (ze = ue.F && ue.F.slice(0, ee.length) == ee ? { t: "array", ref: ue.F } : null, Be = Rt("f", Dn(ue.f), ze) + (ue.v != null ? Be : "")), ue.l && me["!links"].push([ee, ue.l]), ue.D && (Ye.cm = 1), Rt("c", Be, Ye);
          }(_e, b, h, g)) != null && D.push(m);
        }
        (0 < D.length || W && W[N]) && (j = { r: T }, W && W[N] && ((A = W[N]).hidden && (j.hidden = 1), oe = -1, A.hpx ? oe = gv(A.hpx) : A.hpt && (oe = A.hpt), -1 < oe && (j.ht = oe, j.customHeight = 1), A.level && (j.outlineLevel = A.level)), C[C.length] = Rt("row", D.join(""), j));
      }
      if (W)
        for (; N < W.length; ++N)
          W && W[N] && (j = { r: N + 1 }, (A = W[N]).hidden && (j.hidden = 1), oe = -1, A.hpx ? oe = gv(A.hpx) : A.hpt && (oe = A.hpt), -1 < oe && (j.ht = oe, j.customHeight = 1), A.level && (j.outlineLevel = A.level), C[C.length] = Rt("row", "", j));
      return C.join("");
    }
    function x9(h, g, m, b) {
      var T, A, C = [Ti, Rt("worksheet", null, { xmlns: gh[0], "xmlns:r": $i.r })], D = m.SheetNames[h], I = m.Sheets[D], R = (I = I ?? {})["!ref"] || "A1", N = nn(R);
      if (16383 < N.e.c || 1048575 < N.e.r) {
        if (g.WTF)
          throw new Error("Range " + R + " exceeds format limit A1:XFD1048576");
        N.e.c = Math.min(N.e.c, 16383), N.e.r = Math.min(N.e.c, 1048575), R = Ur(N);
      }
      b = b || {}, I["!comments"] = [];
      var W, H, j = [];
      (function(ue, ee, me, Te, Ce) {
        var Fe = !1, ze = {}, Be = null;
        if (Te.bookType !== "xlsx" && ee.vbaraw) {
          var Ye = ee.SheetNames[me];
          try {
            ee.Workbook && (Ye = ee.Workbook.Sheets[me].CodeName || Ye);
          } catch {
          }
          Fe = !0, ze.codeName = Ks(Dn(Ye));
        }
        ue && ue["!outline"] && (Te = { summaryBelow: 1, summaryRight: 1 }, ue["!outline"].above && (Te.summaryBelow = 0), ue["!outline"].left && (Te.summaryRight = 0), Be = (Be || "") + Rt("outlinePr", null, Te)), (Fe || Be) && (Ce[Ce.length] = Rt("sheetPr", Be, ze));
      })(I, m, h, g, C), C[C.length] = Rt("dimension", null, { ref: R }), C[C.length] = (D = { workbookViewId: "0" }, ((((N = m) || {}).Workbook || {}).Views || [])[0] && (D.rightToLeft = N.Workbook.Views[0].RTL ? "1" : "0"), Rt("sheetViews", Rt("sheetView", null, D), {})), g.sheetFormat && (C[C.length] = Rt("sheetFormatPr", null, { defaultRowHeight: g.sheetFormat.defaultRowHeight || "16", baseColWidth: g.sheetFormat.baseColWidth || "10", outlineLevelRow: g.sheetFormat.outlineLevelRow || "7" })), I["!cols"] != null && 0 < I["!cols"].length && (C[C.length] = function(ue) {
        for (var ee, me = ["<cols>"], Te = 0; Te != ue.length; ++Te)
          (ee = ue[Te]) && (me[me.length] = Rt("col", null, Jm(Te, ee)));
        return me[me.length] = "</cols>", me.join("");
      }(I["!cols"])), C[T = C.length] = "<sheetData/>", I["!links"] = [], I["!ref"] != null && 0 < (A = Ote(I, g)).length && (C[C.length] = A), C.length > T + 1 && (C[C.length] = "</sheetData>", C[T] = C[T].replace("/>", ">")), I["!protect"] && (C[C.length] = (W = I["!protect"], H = { sheet: 1 }, Ite.forEach(function(ue) {
        W[ue] != null && W[ue] && (H[ue] = "1");
      }), Pte.forEach(function(ue) {
        W[ue] == null || W[ue] || (H[ue] = "0");
      }), W.password && (H.password = Hx(W.password).toString(16).toUpperCase()), Rt("sheetProtection", null, H))), I["!autofilter"] != null && (C[C.length] = function(ue, ee, me, Te) {
        var Ce = typeof ue.ref == "string" ? ue.ref : Ur(ue.ref);
        me.Workbook || (me.Workbook = { Sheets: [] }), me.Workbook.Names || (me.Workbook.Names = []);
        var Fe = me.Workbook.Names;
        (ue = Ya(Ce)).s.r == ue.e.r && (ue.e.r = Ya(ee["!ref"]).e.r, Ce = Ur(ue));
        for (var ze = 0; ze < Fe.length; ++ze) {
          var Be = Fe[ze];
          if (Be.Name == "_xlnm._FilterDatabase" && Be.Sheet == Te) {
            Be.Ref = "'" + me.SheetNames[Te] + "'!" + Ce;
            break;
          }
        }
        return ze == Fe.length && Fe.push({ Name: "_xlnm._FilterDatabase", Sheet: Te, Ref: "'" + me.SheetNames[Te] + "'!" + Ce }), Rt("autoFilter", null, { ref: Ce });
      }(I["!autofilter"], I, m, h)), I["!merges"] != null && 0 < I["!merges"].length && (C[C.length] = function(ue) {
        if (ue.length === 0)
          return "";
        for (var ee = '<mergeCells count="' + ue.length + '">', me = 0; me != ue.length; ++me)
          ee += '<mergeCell ref="' + Ur(ue[me]) + '"/>';
        return ee + "</mergeCells>";
      }(I["!merges"]));
      var oe, X, _e = -1;
      return 0 < I["!links"].length && (C[C.length] = "<hyperlinks>", I["!links"].forEach(function(ue) {
        ue[1].Target && (X = { ref: ue[0] }, ue[1].Target.charAt(0) != "#" && (_e = kn(b, -1, Dn(ue[1].Target).replace(/#.*$/, ""), $r.HLINK), X["r:id"] = "rId" + _e), -1 < (oe = ue[1].Target.indexOf("#")) && (X.location = Dn(ue[1].Target.slice(oe + 1))), ue[1].Tooltip && (X.tooltip = Dn(ue[1].Tooltip)), C[C.length] = Rt("hyperlink", null, X));
      }), C[C.length] = "</hyperlinks>"), delete I["!links"], I["!margins"] != null && (C[C.length] = (Eh(m = I["!margins"]), Rt("pageMargins", null, m))), g && !g.ignoreEC && g.ignoreEC != null || (C[C.length] = fa("ignoredErrors", Rt("ignoredError", null, { numberStoredAsText: 1, sqref: R }))), 0 < j.length && (_e = kn(b, -1, "../drawings/drawing" + (h + 1) + ".xml", $r.DRAW), C[C.length] = Rt("drawing", null, { "r:id": "rId" + _e }), I["!drawing"] = j), 0 < I["!comments"].length && (_e = kn(b, -1, "../drawings/vmlDrawing" + (h + 1) + ".vml", $r.VML), C[C.length] = Rt("legacyDrawing", null, { "r:id": "rId" + _e }), I["!legacy"] = _e), 1 < C.length && (C[C.length] = "</worksheet>", C[1] = C[1].replace("/>", ">")), C.join("");
    }
    function Fte(h, g, m, b) {
      m = function(T, A, C) {
        var D = tt(145), I = (C["!rows"] || [])[T] || {};
        D.write_shift(4, T), D.write_shift(4, 0);
        var N = 320;
        I.hpx ? N = 20 * gv(I.hpx) : I.hpt && (N = 20 * I.hpt), D.write_shift(2, N), D.write_shift(1, 0), N = 0, I.level && (N |= I.level), I.hidden && (N |= 16), (I.hpx || I.hpt) && (N |= 32), D.write_shift(1, N), D.write_shift(1, 0);
        var R = 0, N = D.l;
        D.l += 4;
        for (var W = { r: T, c: 0 }, H = 0; H < 16; ++H)
          if (!(A.s.c > H + 1 << 10 || A.e.c < H << 10)) {
            for (var j = -1, oe = -1, X = H << 10; X < H + 1 << 10; ++X)
              W.c = X, (Array.isArray(C) ? (C[W.r] || [])[W.c] : C[kr(W)]) && (j < 0 && (j = X), oe = X);
            j < 0 || (++R, D.write_shift(4, j), D.write_shift(4, oe));
          }
        return T = D.l, D.l = N, D.write_shift(4, R), D.l = T, D.length > D.l ? D.slice(0, D.l) : D;
      }(b, m, g), (17 < m.length || (g["!rows"] || [])[b]) && ht(h, 0, m);
    }
    var Qm = wh, Nte = Bd;
    function T9(h) {
      return [_h(h), Da(h), "n"];
    }
    var qd = wh, Bte = Bd, C9 = ["left", "right", "top", "bottom", "header", "footer"];
    function Vte(h, g, m, b, T, A, C) {
      if (g.v === void 0)
        return !1;
      var D = "";
      switch (g.t) {
        case "b":
          D = g.v ? "1" : "0";
          break;
        case "d":
          (g = Un(g)).z = g.z || De[14], g.v = Hi(jn(g.v)), g.t = "n";
          break;
        case "n":
        case "e":
          D = "" + g.v;
          break;
        default:
          D = g.v;
      }
      var I, R, N, W, H, j, oe, X, _e, ue, ee, me, Te, Ce, Fe, ze, Be, Ye, it, at, Xe = { r: m, c: b };
      switch (Xe.s = cc(T.cellXfs, g, T), g.l && A["!links"].push([kr(Xe), g.l]), g.c && A["!comments"].push([kr(Xe), g.c]), g.t) {
        case "s":
        case "str":
          return T.bookSST ? (D = t4(T.Strings, g.v, T.revStrings), Xe.t = "s", Xe.v = D, C ? ht(h, 18, (bh(Be = Xe, Ye = Ye ?? tt(8)), Ye.write_shift(4, Be.v), Ye)) : ht(h, 7, (yh(Be = Xe, ze = ze ?? tt(12)), ze.write_shift(4, Be.v), ze))) : (Xe.t = "str", C ? ht(h, 17, (Ce = g, bh(Xe, Fe = Fe ?? tt(8 + 4 * Ce.v.length)), ia(Ce.v, Fe), Fe.length > Fe.l ? Fe.slice(0, Fe.l) : Fe)) : ht(h, 6, (Ce = g, yh(Xe, Te = Te ?? tt(12 + 4 * Ce.v.length)), ia(Ce.v, Te), Te.length > Te.l ? Te.slice(0, Te.l) : Te))), !0;
        case "n":
          return g.v == (0 | g.v) && -1e3 < g.v && g.v < 1e3 ? C ? ht(h, 13, (ee = g, bh(Xe, me = me ?? tt(8)), iI(ee.v, me), me)) : ht(h, 2, (ee = g, yh(Xe, ue = ue ?? tt(12)), iI(ee.v, ue), ue)) : C ? ht(h, 16, (X = g, bh(Xe, _e = _e ?? tt(12)), Vd(X.v, _e), _e)) : ht(h, 5, (X = g, yh(Xe, oe = oe ?? tt(16)), Vd(X.v, oe), oe)), !0;
        case "b":
          return Xe.t = "b", C ? ht(h, 15, (H = g, bh(Xe, j = j ?? tt(5)), j.write_shift(1, H.v ? 1 : 0), j)) : ht(h, 4, (H = g, yh(Xe, W = W ?? tt(9)), W.write_shift(1, H.v ? 1 : 0), W)), !0;
        case "e":
          return Xe.t = "e", C ? ht(h, 14, (R = g, bh(Xe, N = N ?? tt(8)), N.write_shift(1, R.v), N.write_shift(2, 0), N.write_shift(1, 0), N)) : ht(h, 3, (R = g, yh(Xe, I = I ?? tt(9)), I.write_shift(1, R.v), I)), !0;
      }
      return C ? ht(h, 12, bh(Xe, at = at ?? tt(4))) : ht(h, 1, yh(Xe, it = it ?? tt(8))), !0;
    }
    function Ute(h, g) {
      var m, b;
      g && g["!merges"] && (ht(h, 177, (m = g["!merges"].length, (b = b ?? tt(4)).write_shift(4, m), b)), g["!merges"].forEach(function(T) {
        ht(h, 176, Bte(T));
      }), ht(h, 178));
    }
    function Gte(h, g) {
      g && g["!cols"] && (ht(h, 390), g["!cols"].forEach(function(m, b) {
        m && ht(h, 60, function(T, A, C) {
          C == null && (C = tt(18));
          var D = Jm(T, A);
          return C.write_shift(-4, T), C.write_shift(-4, T), C.write_shift(4, 256 * (D.width || 10)), C.write_shift(4, 0), T = 0, A.hidden && (T |= 1), typeof D.width == "number" && (T |= 2), A.level && (T |= A.level << 8), C.write_shift(2, T), C;
        }(b, m));
      }), ht(h, 391));
    }
    function zte(h, g) {
      var m;
      g && g["!ref"] && (ht(h, 648), ht(h, 649, (m = nn(g["!ref"]), (g = tt(24)).write_shift(4, 4), g.write_shift(4, 1), Bd(m, g), g)), ht(h, 650));
    }
    function Wte(h, g, m) {
      g["!links"].forEach(function(b) {
        var T, A;
        b[1].Target && (T = kn(m, -1, b[1].Target.replace(/#.*$/, ""), $r.HLINK), ht(h, 494, (A = T, b = tt(50 + 4 * ((T = b)[1].Target.length + (T[1].Tooltip || "").length)), Bd({ s: ii(T[0]), e: ii(T[0]) }, b), Cx("rId" + A, b), ia(((A = T[1].Target.indexOf("#")) == -1 ? "" : T[1].Target.slice(A + 1)) || "", b), ia(T[1].Tooltip || "", b), ia("", b), b.slice(0, b.l))));
      }), delete g["!links"];
    }
    function Hte(h, g, m) {
      ht(h, 133), ht(h, 137, function(b, T) {
        T == null && (T = tt(30));
        var A = 924;
        return (((b || {}).Views || [])[0] || {}).RTL && (A |= 32), T.write_shift(2, A), T.write_shift(4, 0), T.write_shift(4, 0), T.write_shift(4, 0), T.write_shift(1, 0), T.write_shift(1, 0), T.write_shift(2, 0), T.write_shift(2, 100), T.write_shift(2, 0), T.write_shift(2, 0), T.write_shift(2, 0), T.write_shift(4, 0), T;
      }(m)), ht(h, 138), ht(h, 134);
    }
    function $te(h, g) {
      var m, b;
      g["!protect"] && ht(h, 535, (m = g["!protect"], (b = b ?? tt(66)).write_shift(2, m.password ? Hx(m.password) : 0), b.write_shift(4, 1), [["objects", !1], ["scenarios", !1], ["formatCells", !0], ["formatColumns", !0], ["formatRows", !0], ["insertColumns", !0], ["insertRows", !0], ["insertHyperlinks", !0], ["deleteColumns", !0], ["deleteRows", !0], ["selectLockedCells", !1], ["sort", !0], ["autoFilter", !0], ["pivotTables", !0], ["selectUnlockedCells", !1]].forEach(function(T) {
        T[1] ? b.write_shift(4, m[T[0]] == null || m[T[0]] ? 0 : 1) : b.write_shift(4, m[T[0]] != null && m[T[0]] ? 0 : 1);
      }), b));
    }
    function Yte(h, g, m, b) {
      var T = io(), R = m.SheetNames[h], A = m.Sheets[R] || {}, C = R;
      try {
        m && m.Workbook && (C = m.Workbook.Sheets[h].CodeName || C);
      } catch {
      }
      var D, I, R = nn(A["!ref"] || "A1");
      if (16383 < R.e.c || 1048575 < R.e.r) {
        if (g.WTF)
          throw new Error("Range " + (A["!ref"] || "A1") + " exceeds format limit A1:XFD1048576");
        R.e.c = Math.min(R.e.c, 16383), R.e.r = Math.min(R.e.c, 1048575);
      }
      return A["!links"] = [], A["!comments"] = [], ht(T, 129), (m.vbaraw || A["!outline"]) && ht(T, 147, function(N, W, H) {
        H == null && (H = tt(84 + 4 * N.length));
        var j = 192;
        W && (W.above && (j &= -65), W.left && (j &= -129)), H.write_shift(1, j);
        for (var oe = 1; oe < 3; ++oe)
          H.write_shift(1, 0);
        return Im({ auto: 1 }, H), H.write_shift(-4, -1), H.write_shift(-4, -1), nI(N, H), H.slice(0, H.l);
      }(C, A["!outline"])), ht(T, 148, Nte(R)), Hte(T, 0, m.Workbook), Gte(T, A), function(N, W, H) {
        var j, oe = nn(W["!ref"] || "A1"), X = [];
        ht(N, 145);
        var _e = Array.isArray(W), ue = oe.e.r;
        W["!rows"] && (ue = Math.max(oe.e.r, W["!rows"].length - 1));
        for (var ee = oe.s.r; ee <= ue; ++ee) {
          j = di(ee), Fte(N, W, oe, ee);
          var me = !1;
          if (ee <= oe.e.r)
            for (var Te = oe.s.c; Te <= oe.e.c; ++Te) {
              ee === oe.s.r && (X[Te] = Xn(Te)), Ce = X[Te] + j;
              var Ce = _e ? (W[ee] || [])[Te] : W[Ce];
              Ce ? me = Vte(N, Ce, ee, Te, H, W, me) : me = !1;
            }
        }
        ht(N, 146);
      }(T, A, g), $te(T, A), function(N, W, H, j) {
        if (W["!autofilter"]) {
          var _e = W["!autofilter"], oe = typeof _e.ref == "string" ? _e.ref : Ur(_e.ref);
          H.Workbook || (H.Workbook = { Sheets: [] }), H.Workbook.Names || (H.Workbook.Names = []);
          var X = H.Workbook.Names, _e = Ya(oe);
          _e.s.r == _e.e.r && (_e.e.r = Ya(W["!ref"]).e.r, oe = Ur(_e));
          for (var ue = 0; ue < X.length; ++ue) {
            var ee = X[ue];
            if (ee.Name == "_xlnm._FilterDatabase" && ee.Sheet == j) {
              ee.Ref = "'" + H.SheetNames[j] + "'!" + oe;
              break;
            }
          }
          ue == X.length && X.push({ Name: "_xlnm._FilterDatabase", Sheet: j, Ref: "'" + H.SheetNames[j] + "'!" + oe }), ht(N, 161, Bd(nn(oe))), ht(N, 162);
        }
      }(T, A, m, h), Ute(T, A), Wte(T, A, b), A["!margins"] && ht(T, 476, (D = A["!margins"], I == null && (I = tt(48)), Eh(D), C9.forEach(function(N) {
        Vd(D[N], I);
      }), I)), g && !g.ignoreEC && g.ignoreEC != null || zte(T, A), R = T, g = h, b = b, 0 < (A = A)["!comments"].length && (g = kn(b, -1, "../drawings/vmlDrawing" + (g + 1) + ".vml", $r.VML), ht(R, 551, Cx("rId" + g)), A["!legacy"] = g), ht(T, 130), T.end();
    }
    function jte(h, g, m, b, T, A) {
      var C = A || { "!type": "chart" };
      if (!h)
        return A;
      var D, I = 0, R = 0, N = { s: { r: 2e6, c: 2e6 }, e: { r: 0, c: 0 } };
      return (h.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm) || []).forEach(function(W) {
        var H = function(j) {
          var oe, X = [], _e = j.match(/^<c:numCache>/);
          (j.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm) || []).forEach(function(ee) {
            ee = ee.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/), ee && (X[+ee[1]] = _e ? +ee[2] : ee[2]);
          });
          var ue = dn((j.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/) || ["", "General"])[1]);
          return (j.match(/<c:f>(.*?)<\/c:f>/gm) || []).forEach(function(ee) {
            oe = ee.replace(/<.*?>/g, "");
          }), [X, ue, oe];
        }(W);
        N.s.r = N.s.c = 0, N.e.c = I, D = Xn(I), H[0].forEach(function(j, oe) {
          C[D + di(oe)] = { t: "n", v: j, z: H[1] }, R = oe;
        }), N.e.r < R && (N.e.r = R), ++I;
      }), 0 < I && (C["!ref"] = Ur(N)), C;
    }
    var n4 = [["allowRefreshQuery", !1, "bool"], ["autoCompressPictures", !0, "bool"], ["backupFile", !1, "bool"], ["checkCompatibility", !1, "bool"], ["CodeName", ""], ["date1904", !1, "bool"], ["defaultThemeVersion", 0, "int"], ["filterPrivacy", !1, "bool"], ["hidePivotFieldList", !1, "bool"], ["promptedSolutions", !1, "bool"], ["publishItems", !1, "bool"], ["refreshAllConnections", !1, "bool"], ["saveExternalLinkValues", !0, "bool"], ["showBorderUnselectedTables", !0, "bool"], ["showInkAnnotation", !0, "bool"], ["showObjects", "all"], ["showPivotChartFilter", !1, "bool"], ["updateLinks", "userSet"]], qte = [["activeTab", 0, "int"], ["autoFilterDateGrouping", !0, "bool"], ["firstSheet", 0, "int"], ["minimized", !1, "bool"], ["showHorizontalScroll", !0, "bool"], ["showSheetTabs", !0, "bool"], ["showVerticalScroll", !0, "bool"], ["tabRatio", 600, "int"], ["visibility", "visible"]], Xte = [], Kte = [["calcCompleted", "true"], ["calcMode", "auto"], ["calcOnSave", "true"], ["concurrentCalc", "true"], ["fullCalcOnLoad", "false"], ["fullPrecision", "true"], ["iterate", "false"], ["iterateCount", "100"], ["iterateDelta", "0.001"], ["refMode", "A1"]];
    function A9(h, g) {
      for (var m = 0; m != h.length; ++m)
        for (var b = h[m], T = 0; T != g.length; ++T) {
          var A = g[T];
          if (b[A[0]] == null)
            b[A[0]] = A[1];
          else
            switch (A[2]) {
              case "bool":
                typeof b[A[0]] == "string" && (b[A[0]] = qn(b[A[0]]));
                break;
              case "int":
                typeof b[A[0]] == "string" && (b[A[0]] = parseInt(b[A[0]], 10));
            }
        }
    }
    function E9(h, g) {
      for (var m = 0; m != g.length; ++m) {
        var b = g[m];
        if (h[b[0]] == null)
          h[b[0]] = b[1];
        else
          switch (b[2]) {
            case "bool":
              typeof h[b[0]] == "string" && (h[b[0]] = qn(h[b[0]]));
              break;
            case "int":
              typeof h[b[0]] == "string" && (h[b[0]] = parseInt(h[b[0]], 10));
          }
      }
    }
    function D9(h) {
      E9(h.WBProps, n4), E9(h.CalcPr, Kte), A9(h.WBView, qte), A9(h.Sheets, Xte), jd.date1904 = qn(h.WBProps.date1904);
    }
    var Zte = "][*?/\\".split("");
    function k9(h, g) {
      if (31 < h.length) {
        if (g)
          return;
        throw new Error("Sheet names cannot exceed 31 chars");
      }
      var m = !0;
      return Zte.forEach(function(b) {
        if (h.indexOf(b) != -1) {
          if (!g)
            throw new Error("Sheet name cannot contain : \\ / ? * [ ]");
          m = !1;
        }
      }), m;
    }
    function M9(h) {
      if (!h || !h.SheetNames || !h.Sheets)
        throw new Error("Invalid Workbook");
      if (!h.SheetNames.length)
        throw new Error("Workbook is empty");
      var g, m, b, T = h.Workbook && h.Workbook.Sheets || [];
      g = h.SheetNames, m = T, b = !!h.vbaraw, g.forEach(function(C, D) {
        k9(C);
        for (var I = 0; I < D; ++I)
          if (C == g[I])
            throw new Error("Duplicate Sheet Name: " + C);
        if (b) {
          var R = m && m[D] && m[D].CodeName || C;
          if (R.charCodeAt(0) == 95 && 22 < R.length)
            throw new Error("Bad Code Name: Worksheet" + R);
        }
      });
      for (var A = 0; A < h.SheetNames.length; ++A)
        (function(C, D) {
          if (C && C["!ref"]) {
            var I = nn(C["!ref"]);
            if (I.e.c < I.s.c || I.e.r < I.s.r)
              throw new Error("Bad range (" + D + "): " + C["!ref"]);
          }
        })(h.Sheets[h.SheetNames[A]], (h.SheetNames[A], A));
    }
    var Jte = /<\w+:workbook/;
    function I9(h) {
      var g = [Ti];
      g[g.length] = Rt("workbook", null, { xmlns: gh[0], "xmlns:r": $i.r });
      var m = h.Workbook && 0 < (h.Workbook.Names || []).length, b = { codeName: "ThisWorkbook" };
      h.Workbook && h.Workbook.WBProps && (n4.forEach(function(D) {
        h.Workbook.WBProps[D[0]] != null && h.Workbook.WBProps[D[0]] != D[1] && (b[D[0]] = h.Workbook.WBProps[D[0]]);
      }), h.Workbook.WBProps.CodeName && (b.codeName = h.Workbook.WBProps.CodeName, delete b.CodeName)), g[g.length] = Rt("workbookPr", null, b);
      var T = h.Workbook && h.Workbook.Sheets || [], A = 0;
      if (T && T[0] && T[0].Hidden) {
        for (g[g.length] = "<bookViews>", A = 0; A != h.SheetNames.length && T[A] && T[A].Hidden; ++A)
          ;
        A == h.SheetNames.length && (A = 0), g[g.length] = '<workbookView firstSheet="' + A + '" activeTab="' + A + '"/>', g[g.length] = "</bookViews>";
      }
      for (g[g.length] = "<sheets>", A = 0; A != h.SheetNames.length; ++A) {
        var C = { name: Dn(h.SheetNames[A].slice(0, 31)) };
        if (C.sheetId = "" + (A + 1), C["r:id"] = "rId" + (A + 1), T[A])
          switch (T[A].Hidden) {
            case 1:
              C.state = "hidden";
              break;
            case 2:
              C.state = "veryHidden";
          }
        g[g.length] = Rt("sheet", null, C);
      }
      return g[g.length] = "</sheets>", m && (g[g.length] = "<definedNames>", h.Workbook && h.Workbook.Names && h.Workbook.Names.forEach(function(D) {
        var I = { name: D.Name };
        D.Comment && (I.comment = D.Comment), D.Sheet != null && (I.localSheetId = "" + D.Sheet), D.Hidden && (I.hidden = "1"), D.Ref && (g[g.length] = Rt("definedName", Dn(D.Ref), I));
      }), g[g.length] = "</definedNames>"), 2 < g.length && (g[g.length] = "</workbook>", g[1] = g[1].replace("/>", ">")), g.join("");
    }
    function Qte(h, g) {
      var m = {};
      return h.read_shift(4), m.ArchID = h.read_shift(4), h.l += g - 8, m;
    }
    function ere(h, g) {
      ht(h, 143);
      for (var m, b = 0; b != g.SheetNames.length; ++b) {
        var T = { Hidden: g.Workbook && g.Workbook.Sheets && g.Workbook.Sheets[b] && g.Workbook.Sheets[b].Hidden || 0, iTabID: b + 1, strRelID: "rId" + (b + 1), name: g.SheetNames[b] };
        ht(h, 156, (m = T, (T = (T = void 0) || tt(127)).write_shift(4, m.Hidden), T.write_shift(4, m.iTabID), Cx(m.strRelID, T), ia(m.name.slice(0, 31), T), T.length > T.l ? T.slice(0, T.l) : T));
      }
      ht(h, 144);
    }
    function tre(h, g) {
      if (g.Workbook && g.Workbook.Sheets) {
        for (var m, b = g.Workbook.Sheets, T = 0, A = -1, C = -1; T < b.length; ++T)
          !b[T] || !b[T].Hidden && A == -1 ? A = T : b[T].Hidden == 1 && C == -1 && (C = T);
        A < C || (ht(h, 135), ht(h, 158, (g = A, (m = m || tt(29)).write_shift(-4, 0), m.write_shift(-4, 460), m.write_shift(4, 28800), m.write_shift(4, 17600), m.write_shift(4, 500), m.write_shift(4, g), m.write_shift(4, g), m.write_shift(1, 120), m.length > m.l ? m.slice(0, m.l) : m)), ht(h, 136));
      }
    }
    function rre(h, g) {
      var m = io();
      return ht(m, 131), ht(m, 128, function(b) {
        b = b || tt(127);
        for (var T = 0; T != 4; ++T)
          b.write_shift(4, 0);
        return ia("SheetJS", b), ia(a.version, b), ia(a.version, b), ia("7262", b), b.length > b.l ? b.slice(0, b.l) : b;
      }()), ht(m, 153, function(b, T) {
        T = T || tt(72);
        var A = 0;
        return b && b.filterPrivacy && (A |= 8), T.write_shift(4, A), T.write_shift(4, 0), nI(b && b.CodeName || "ThisWorkbook", T), T.slice(0, T.l);
      }(h.Workbook && h.Workbook.WBProps || null)), tre(m, h), ere(m, h), ht(m, 132), m.end();
    }
    function nre(h, g, m) {
      return (g.slice(-4) === ".bin" ? function(b, T) {
        var A = { AppVersion: {}, WBProps: {}, WBView: [], Sheets: [], CalcPr: {}, xmlns: "" }, C = [], D = !1;
        (T = T || {}).biff = 12;
        var I = [], R = [[]];
        return R.SheetNames = [], R.XTI = [], Av[16] = { n: "BrtFRTArchID$", f: Qte }, Hl(b, function(N, W, H) {
          switch (H) {
            case 156:
              R.SheetNames.push(N.name), A.Sheets.push(N);
              break;
            case 153:
              A.WBProps = N;
              break;
            case 39:
              N.Sheet != null && (T.SID = N.Sheet), N.Ref = qa(N.Ptg, 0, null, R, T), delete T.SID, delete N.Ptg, I.push(N);
              break;
            case 1036:
              break;
            case 357:
            case 358:
            case 355:
            case 667:
              R[0].length ? R.push([H, N]) : R[0] = [H, N], R[R.length - 1].XTI = [];
              break;
            case 362:
              R.length === 0 && (R[0] = [], R[0].XTI = []), R[R.length - 1].XTI = R[R.length - 1].XTI.concat(N), R.XTI = R.XTI.concat(N);
              break;
            case 361:
              break;
            case 2071:
            case 158:
            case 143:
            case 664:
            case 353:
              break;
            case 3072:
            case 3073:
            case 534:
            case 677:
            case 157:
            case 610:
            case 2050:
            case 155:
            case 548:
            case 676:
            case 128:
            case 665:
            case 2128:
            case 2125:
            case 549:
            case 2053:
            case 596:
            case 2076:
            case 2075:
            case 2082:
            case 397:
            case 154:
            case 1117:
            case 553:
            case 2091:
              break;
            case 35:
              C.push(H), D = !0;
              break;
            case 36:
              C.pop(), D = !1;
              break;
            case 37:
              C.push(H), D = !0;
              break;
            case 38:
              C.pop(), D = !1;
              break;
            case 16:
              break;
            default:
              if (!W.T && (!D || T.WTF && C[C.length - 1] != 37 && C[C.length - 1] != 35))
                throw new Error("Unexpected record 0x" + H.toString(16));
          }
        }, T), D9(A), A.Names = I, A.supbooks = R, A;
      } : function(b, T) {
        if (!b)
          throw new Error("Could not find file");
        var A = { AppVersion: {}, WBProps: {}, WBView: [], Sheets: [], CalcPr: {}, Names: [], xmlns: "" }, C = !1, D = "xmlns", I = {}, R = 0;
        if (b.replace(Ca, function(N, W) {
          var H = Dr(N);
          switch (Xs(H[0])) {
            case "<?xml":
              break;
            case "<workbook":
              N.match(Jte) && (D = "xmlns" + N.match(/<(\w+):/)[1]), A.xmlns = H[D];
              break;
            case "</workbook>":
              break;
            case "<fileVersion":
              delete H[0], A.AppVersion = H;
              break;
            case "<fileVersion/>":
            case "</fileVersion>":
            case "<fileSharing":
            case "<fileSharing/>":
              break;
            case "<workbookPr":
            case "<workbookPr/>":
              n4.forEach(function(j) {
                if (H[j[0]] != null)
                  switch (j[2]) {
                    case "bool":
                      A.WBProps[j[0]] = qn(H[j[0]]);
                      break;
                    case "int":
                      A.WBProps[j[0]] = parseInt(H[j[0]], 10);
                      break;
                    default:
                      A.WBProps[j[0]] = H[j[0]];
                  }
              }), H.codeName && (A.WBProps.CodeName = Rn(H.codeName));
              break;
            case "</workbookPr>":
            case "<workbookProtection":
            case "<workbookProtection/>":
              break;
            case "<bookViews":
            case "<bookViews>":
            case "</bookViews>":
              break;
            case "<workbookView":
            case "<workbookView/>":
              delete H[0], A.WBView.push(H);
              break;
            case "</workbookView>":
              break;
            case "<sheets":
            case "<sheets>":
            case "</sheets>":
              break;
            case "<sheet":
              switch (H.state) {
                case "hidden":
                  H.Hidden = 1;
                  break;
                case "veryHidden":
                  H.Hidden = 2;
                  break;
                default:
                  H.Hidden = 0;
              }
              delete H.state, H.name = dn(Rn(H.name)), delete H[0], A.Sheets.push(H);
              break;
            case "</sheet>":
              break;
            case "<functionGroups":
            case "<functionGroups/>":
            case "<functionGroup":
              break;
            case "<externalReferences":
            case "</externalReferences>":
            case "<externalReferences>":
            case "<externalReference":
            case "<definedNames/>":
              break;
            case "<definedNames>":
            case "<definedNames":
              C = !0;
              break;
            case "</definedNames>":
              C = !1;
              break;
            case "<definedName":
              (I = {}).Name = Rn(H.name), H.comment && (I.Comment = H.comment), H.localSheetId && (I.Sheet = +H.localSheetId), qn(H.hidden || "0") && (I.Hidden = !0), R = W + N.length;
              break;
            case "</definedName>":
              I.Ref = dn(Rn(b.slice(R, W))), A.Names.push(I);
              break;
            case "<definedName/>":
              break;
            case "<calcPr":
            case "<calcPr/>":
              delete H[0], A.CalcPr = H;
              break;
            case "</calcPr>":
            case "<oleSize":
              break;
            case "<customWorkbookViews>":
            case "</customWorkbookViews>":
            case "<customWorkbookViews":
              break;
            case "<customWorkbookView":
            case "</customWorkbookView>":
              break;
            case "<pivotCaches>":
            case "</pivotCaches>":
            case "<pivotCaches":
            case "<pivotCache":
              break;
            case "<smartTagPr":
            case "<smartTagPr/>":
              break;
            case "<smartTagTypes":
            case "<smartTagTypes>":
            case "</smartTagTypes>":
            case "<smartTagType":
              break;
            case "<webPublishing":
            case "<webPublishing/>":
              break;
            case "<fileRecoveryPr":
            case "<fileRecoveryPr/>":
              break;
            case "<webPublishObjects>":
            case "<webPublishObjects":
            case "</webPublishObjects>":
            case "<webPublishObject":
              break;
            case "<extLst":
            case "<extLst>":
            case "</extLst>":
            case "<extLst/>":
              break;
            case "<ext":
              C = !0;
              break;
            case "</ext>":
              C = !1;
              break;
            case "<ArchID":
              break;
            case "<AlternateContent":
            case "<AlternateContent>":
              C = !0;
              break;
            case "</AlternateContent>":
              C = !1;
              break;
            case "<revisionPtr":
              break;
            default:
              if (!C && T.WTF)
                throw new Error("unrecognized " + H[0] + " in workbook");
          }
          return N;
        }), gh.indexOf(A.xmlns) === -1)
          throw new Error("Unknown Namespace: " + A.xmlns);
        return D9(A), A;
      })(h, m);
    }
    function ire(h, g, m, b, T, A, C, D) {
      return (g.slice(-4) === ".bin" ? function(I, R, N, W, H, j, oe) {
        if (!I)
          return I;
        var X = R || {};
        W = W || { "!id": {} };
        var _e, ue, ee, me, Te, Ce, Fe, ze, Be, Ye, it = X.dense ? [] : {}, at = { s: { r: 2e6, c: 2e6 }, e: { r: 0, c: 0 } }, Xe = !1, _t = !1, Vt = [];
        X.biff = 12;
        var Ot = X["!row"] = 0, At = !1, Dt = [], Tt = {}, ct = X.supbooks || H.supbooks || [[]];
        if (ct.sharedf = Tt, ct.arrayf = Dt, ct.SheetNames = H.SheetNames || H.Sheets.map(function(yt) {
          return yt.name;
        }), !X.supbooks && (X.supbooks = ct, H.Names))
          for (var Kt = 0; Kt < H.Names.length; ++Kt)
            ct[0][Kt + 1] = H.Names[Kt];
        var Qt, hr = [], Gr = [], Ht = !1;
        return Av[16] = { n: "BrtShortReal", f: T9 }, Hl(I, function(yt, Mr, on) {
          if (!_t)
            switch (on) {
              case 148:
                _e = yt;
                break;
              case 0:
                ue = yt, X.sheetRows && X.sheetRows <= ue.r && (_t = !0), Be = di(Te = ue.r), X["!row"] = ue.r, (yt.hidden || yt.hpt || yt.level != null) && (yt.hpt && (yt.hpx = Hd(yt.hpt)), Gr[yt.r] = yt);
                break;
              case 2:
              case 3:
              case 4:
              case 5:
              case 6:
              case 7:
              case 8:
              case 9:
              case 10:
              case 11:
              case 13:
              case 14:
              case 15:
              case 16:
              case 17:
              case 18:
              case 62:
                switch (ee = { t: yt[2] }, yt[2]) {
                  case "n":
                    ee.v = yt[1];
                    break;
                  case "s":
                    ze = Sv[yt[1]], ee.v = ze.t, ee.r = ze.r;
                    break;
                  case "b":
                    ee.v = !!yt[1];
                    break;
                  case "e":
                    ee.v = yt[1], X.cellText !== !1 && (ee.w = $l[ee.v]);
                    break;
                  case "str":
                    ee.t = "s", ee.v = yt[1];
                    break;
                  case "is":
                    ee.t = "s", ee.v = yt[1].t;
                }
                if ((me = oe.CellXf[yt[0].iStyleRef]) && p9(ee, me.numFmtId, null, X, j, oe), Ce = yt[0].c == -1 ? Ce + 1 : yt[0].c, X.dense ? (it[Te] || (it[Te] = []), it[Te][Ce] = ee) : it[Xn(Ce) + Be] = ee, X.cellFormula) {
                  for (At = !1, Ot = 0; Ot < Dt.length; ++Ot) {
                    var Zr = Dt[Ot];
                    ue.r >= Zr[0].s.r && ue.r <= Zr[0].e.r && Ce >= Zr[0].s.c && Ce <= Zr[0].e.c && (ee.F = Ur(Zr[0]), At = !0);
                  }
                  !At && 3 < yt.length && (ee.f = yt[3]);
                }
                at.s.r > ue.r && (at.s.r = ue.r), at.s.c > Ce && (at.s.c = Ce), at.e.r < ue.r && (at.e.r = ue.r), at.e.c < Ce && (at.e.c = Ce), X.cellDates && me && ee.t == "n" && Re(De[me.numFmtId]) && (bn = be(ee.v)) && (ee.t = "d", ee.v = new Date(bn.y, bn.m - 1, bn.d, bn.H, bn.M, bn.S, bn.u)), Qt && (Qt.type == "XLDAPR" && (ee.D = !0), Qt = void 0);
                break;
              case 1:
              case 12:
                if (!X.sheetStubs || Xe)
                  break;
                ee = { t: "z", v: void 0 }, Ce = yt[0].c == -1 ? Ce + 1 : yt[0].c, X.dense ? (it[Te] || (it[Te] = []), it[Te][Ce] = ee) : it[Xn(Ce) + Be] = ee, at.s.r > ue.r && (at.s.r = ue.r), at.s.c > Ce && (at.s.c = Ce), at.e.r < ue.r && (at.e.r = ue.r), at.e.c < Ce && (at.e.c = Ce), Qt && (Qt.type == "XLDAPR" && (ee.D = !0), Qt = void 0);
                break;
              case 176:
                Vt.push(yt);
                break;
              case 49:
                Qt = ((X.xlmeta || {}).Cell || [])[yt - 1];
                break;
              case 494:
                var bn = W["!id"][yt.relId];
                for (bn ? (yt.Target = bn.Target, yt.loc && (yt.Target += "#" + yt.loc), yt.Rel = bn) : yt.relId == "" && (yt.Target = "#" + yt.loc), Te = yt.rfx.s.r; Te <= yt.rfx.e.r; ++Te)
                  for (Ce = yt.rfx.s.c; Ce <= yt.rfx.e.c; ++Ce)
                    X.dense ? (it[Te] || (it[Te] = []), it[Te][Ce] || (it[Te][Ce] = { t: "z", v: void 0 }), it[Te][Ce].l = yt) : (Fe = kr({ c: Ce, r: Te }), it[Fe] || (it[Fe] = { t: "z", v: void 0 }), it[Fe].l = yt);
                break;
              case 426:
                if (!X.cellFormula)
                  break;
                Dt.push(yt), (Ye = X.dense ? it[Te][Ce] : it[Xn(Ce) + Be]).f = qa(yt[1], 0, { r: ue.r, c: Ce }, ct, X), Ye.F = Ur(yt[0]);
                break;
              case 427:
                if (!X.cellFormula)
                  break;
                Tt[kr(yt[0].s)] = yt[1], (Ye = X.dense ? it[Te][Ce] : it[Xn(Ce) + Be]).f = qa(yt[1], 0, { r: ue.r, c: Ce }, ct, X);
                break;
              case 60:
                if (!X.cellStyles)
                  break;
                for (; yt.e >= yt.s; )
                  hr[yt.e--] = { width: yt.w / 256, hidden: !!(1 & yt.flags), level: yt.level }, Ht || (Ht = !0, jx(yt.w / 256)), lc(hr[yt.e + 1]);
                break;
              case 161:
                it["!autofilter"] = { ref: Ur(yt) };
                break;
              case 476:
                it["!margins"] = yt;
                break;
              case 147:
                H.Sheets[N] || (H.Sheets[N] = {}), yt.name && (H.Sheets[N].CodeName = yt.name), (yt.above || yt.left) && (it["!outline"] = { above: yt.above, left: yt.left });
                break;
              case 137:
                H.Views || (H.Views = [{}]), H.Views[0] || (H.Views[0] = {}), yt.RTL && (H.Views[0].RTL = !0);
                break;
              case 485:
                break;
              case 64:
              case 1053:
              case 151:
                break;
              case 152:
              case 175:
              case 644:
              case 625:
              case 562:
              case 396:
              case 1112:
              case 1146:
              case 471:
              case 1050:
              case 649:
              case 1105:
              case 589:
              case 607:
              case 564:
              case 1055:
              case 168:
              case 174:
              case 1180:
              case 499:
              case 507:
              case 550:
              case 171:
              case 167:
              case 1177:
              case 169:
              case 1181:
              case 551:
              case 552:
              case 661:
              case 639:
              case 478:
              case 537:
              case 477:
              case 536:
              case 1103:
              case 680:
              case 1104:
              case 1024:
              case 663:
              case 535:
              case 678:
              case 504:
              case 1043:
              case 428:
              case 170:
              case 3072:
              case 50:
              case 2070:
              case 1045:
                break;
              case 35:
                Xe = !0;
                break;
              case 36:
                Xe = !1;
                break;
              case 37:
                Xe = !0;
                break;
              case 38:
                Xe = !1;
                break;
              default:
                if (!Mr.T && (!Xe || X.WTF))
                  throw new Error("Unexpected record 0x" + on.toString(16));
            }
        }, X), delete X.supbooks, delete X["!row"], !it["!ref"] && (at.s.r < 2e6 || _e && (0 < _e.e.r || 0 < _e.e.c || 0 < _e.s.r || 0 < _e.s.c)) && (it["!ref"] = Ur(_e || at)), X.sheetRows && it["!ref"] && (I = nn(it["!ref"]), X.sheetRows <= +I.e.r && (I.e.r = X.sheetRows - 1, I.e.r > at.e.r && (I.e.r = at.e.r), I.e.r < I.s.r && (I.s.r = I.e.r), I.e.c > at.e.c && (I.e.c = at.e.c), I.e.c < I.s.c && (I.s.c = I.e.c), it["!fullref"] = it["!ref"], it["!ref"] = Ur(I))), 0 < Vt.length && (it["!merges"] = Vt), 0 < hr.length && (it["!cols"] = hr), 0 < Gr.length && (it["!rows"] = Gr), it;
      } : Mte)(h, b, m, T, A, C, D);
    }
    function are(h, g, m, b, T, A) {
      return g.slice(-4) === ".bin" ? function(C, D, I, R, N) {
        if (!C)
          return C;
        R = R || { "!id": {} };
        var W = { "!type": "chart", "!drawel": null, "!rel": "" }, H = !1;
        return Hl(C, function(j, oe, X) {
          switch (X) {
            case 550:
              W["!rel"] = j;
              break;
            case 651:
              N.Sheets[I] || (N.Sheets[I] = {}), j.name && (N.Sheets[I].CodeName = j.name);
              break;
            case 562:
            case 652:
            case 669:
            case 679:
            case 551:
            case 552:
            case 476:
            case 3072:
              break;
            case 35:
              H = !0;
              break;
            case 36:
              H = !1;
              break;
            case 37:
              break;
            case 38:
              break;
            default:
              if (!(0 < oe.T)) {
                if (!(oe.T < 0)) {
                  if (!H || D.WTF)
                    throw new Error("Unexpected record 0x" + X.toString(16));
                }
              }
          }
        }, D), R["!id"][W["!rel"]] && (W["!drawel"] = R["!id"][W["!rel"]]), W;
      }(h, b, m, T, A) : function(C, D, I, R) {
        if (!C)
          return C;
        I = I || { "!id": {} };
        var N = { "!type": "chart", "!drawel": null, "!rel": "" }, W = C.match(v9);
        return W && r4(W[0], 0, R, D), (C = C.match(/drawing r:id="(.*?)"/)) && (N["!rel"] = C[1]), I["!id"][N["!rel"]] && (N["!drawel"] = I["!id"][N["!rel"]]), N;
      }(h, m, T, A);
    }
    function ore(h, g, m, b) {
      return (g.slice(-4) === ".bin" ? function(T, A, C) {
        var D, I = { NumberFmt: [] };
        for (D in De)
          I.NumberFmt[D] = De[D];
        I.CellXf = [], I.Fonts = [];
        var R = [], N = !1;
        return Hl(T, function(W, H, j) {
          switch (j) {
            case 44:
              I.NumberFmt[W[0]] = W[1], yr(W[1], W[0]);
              break;
            case 43:
              I.Fonts.push(W), W.color.theme != null && A && A.themeElements && A.themeElements.clrScheme && (W.color.rgb = Ym(A.themeElements.clrScheme[W.color.theme].rgb, W.color.tint || 0));
              break;
            case 1025:
            case 45:
            case 46:
              break;
            case 47:
              R[R.length - 1] == 617 && I.CellXf.push(W);
              break;
            case 48:
            case 507:
            case 572:
            case 475:
              break;
            case 1171:
            case 2102:
            case 1130:
            case 512:
            case 2095:
            case 3072:
              break;
            case 35:
              N = !0;
              break;
            case 36:
              N = !1;
              break;
            case 37:
              R.push(j), N = !0;
              break;
            case 38:
              R.pop(), N = !1;
              break;
            default:
              if (0 < H.T)
                R.push(j);
              else if (H.T < 0)
                R.pop();
              else if (!N || C.WTF && R[R.length - 1] != 37)
                throw new Error("Unexpected record 0x" + j.toString(16));
          }
        }), I;
      } : Vee)(h, m, b);
    }
    function sre(h, g, m) {
      return g.slice(-4) === ".bin" ? (b = m, A = !(T = []), Hl(h, function(C, D, I) {
        switch (I) {
          case 159:
            T.Count = C[0], T.Unique = C[1];
            break;
          case 19:
            T.push(C);
            break;
          case 160:
            return 1;
          case 35:
            A = !0;
            break;
          case 36:
            A = !1;
            break;
          default:
            if (D.T, !A || b.WTF)
              throw new Error("Unexpected record 0x" + I.toString(16));
        }
      }), T) : function(C, D) {
        var I = [], R = "";
        if (!C)
          return I;
        if (C = C.match(Cee)) {
          R = C[2].replace(Aee, "").split(Eee);
          for (var N = 0; N != R.length; ++N) {
            var W = Wx(R[N].trim(), D);
            W != null && (I[I.length] = W);
          }
          C = Dr(C[1]), I.Count = C.count, I.Unique = C.uniqueCount;
        }
        return I;
      }(h, m);
      var b, T, A;
    }
    function lre(h, g, m) {
      return g.slice(-4) === ".bin" ? (b = m, T = [], A = [], D = !(C = {}), Hl(h, function(I, R, N) {
        switch (N) {
          case 632:
            A.push(I);
            break;
          case 635:
            C = I;
            break;
          case 637:
            C.t = I.t, C.h = I.h, C.r = I.r;
            break;
          case 636:
            if (C.author = A[C.iauthor], delete C.iauthor, b.sheetRows && C.rfx && b.sheetRows <= C.rfx.r)
              break;
            C.t || (C.t = ""), delete C.rfx, T.push(C);
            break;
          case 3072:
            break;
          case 35:
            D = !0;
            break;
          case 36:
            D = !1;
            break;
          case 37:
          case 38:
            break;
          default:
            if (!R.T && (!D || b.WTF))
              throw new Error("Unexpected record 0x" + N.toString(16));
        }
      }), T) : function(I, R) {
        if (I.match(/<(?:\w+:)?comments *\/>/))
          return [];
        var N = [], W = [], H = I.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);
        return H && H[1] && H[1].split(/<\/\w*:?author>/).forEach(function(j) {
          j === "" || j.trim() === "" || (j = j.match(/<(?:\w+:)?author[^>]*>(.*)/)) && N.push(j[1]);
        }), (I = I.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/)) && I[1] && I[1].split(/<\/\w*:?comment>/).forEach(function(j) {
          var oe, X;
          j === "" || j.trim() === "" || (oe = j.match(/<(?:\w+:)?comment[^>]*>/)) && (oe = { author: (X = Dr(oe[0])).authorId && N[X.authorId] || "sheetjsghost", ref: X.ref, guid: X.guid }, X = ii(X.ref), R.sheetRows && R.sheetRows <= X.r || (j = !!(j = j.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/)) && !!j[1] && Wx(j[1]) || { r: "", t: "", h: "" }, oe.r = j.r, j.r == "<t></t>" && (j.t = j.h = ""), oe.t = (j.t || "").replace(/\r\n/g, `
`).replace(/\r/g, `
`), R.cellHTML && (oe.h = j.h), W.push(oe)));
        }), W;
      }(h, m);
      var b, T, A, C, D;
    }
    function ure(h, g) {
      return g.slice(-4) === ".bin" ? (m = [], Hl(h, function(b, T, A) {
        if (A === 63)
          m.push(b);
        else if (!T.T)
          throw new Error("Unexpected record 0x" + A.toString(16));
      }), m) : function(b) {
        var T = [];
        if (!b)
          return T;
        var A = 1;
        return (b.match(Ca) || []).forEach(function(C) {
          var D = Dr(C);
          switch (D[0]) {
            case "<?xml":
              break;
            case "<calcChain":
            case "<calcChain>":
            case "</calcChain>":
              break;
            case "<c":
              delete D[0], D.i ? A = D.i : D.i = A, T.push(D);
          }
        }), T;
      }(h);
      var m;
    }
    function cre(h, g, m, b) {
      if (m.slice(-4) === ".bin")
        return function(T, A) {
          if (!T)
            return T;
          var C = A || {}, D = !1;
          Hl(T, function(I, R, N) {
            switch (N) {
              case 359:
              case 363:
              case 364:
              case 366:
              case 367:
              case 368:
              case 369:
              case 370:
              case 371:
              case 472:
              case 577:
              case 578:
              case 579:
              case 580:
              case 581:
              case 582:
              case 583:
              case 584:
              case 585:
              case 586:
              case 587:
                break;
              case 35:
                D = !0;
                break;
              case 36:
                D = !1;
                break;
              default:
                if (!R.T && (!D || C.WTF))
                  throw new Error("Unexpected record 0x" + N.toString(16));
            }
          }, C);
        }(h, b);
    }
    function hre(h, g, m) {
      return g.slice(-4) === ".bin" ? (b = { Types: [], Cell: [], Value: [] }, T = m || {}, C = !(A = []), D = 2, Hl(h, function(I, R, N) {
        switch (N) {
          case 335:
            b.Types.push({ name: I.name });
            break;
          case 51:
            I.forEach(function(W) {
              D == 1 ? b.Cell.push({ type: b.Types[W[0] - 1].name, index: W[1] }) : D == 0 && b.Value.push({ type: b.Types[W[0] - 1].name, index: W[1] });
            });
            break;
          case 337:
            D = I ? 1 : 0;
            break;
          case 338:
            D = 2;
            break;
          case 35:
            A.push(N), C = !0;
            break;
          case 36:
            A.pop(), C = !1;
            break;
          default:
            if (!R.T && (!C || T.WTF && A[A.length - 1] != 35))
              throw new Error("Unexpected record 0x" + N.toString(16));
        }
      }), b) : function(I, R) {
        var N = { Types: [], Cell: [], Value: [] };
        if (!I)
          return N;
        var W, H = !1, j = 2;
        return I.replace(Ca, function(oe) {
          var X = Dr(oe);
          switch (Xs(X[0])) {
            case "<?xml":
              break;
            case "<metadata":
            case "</metadata>":
              break;
            case "<metadataTypes":
            case "</metadataTypes>":
              break;
            case "<metadataType":
              N.Types.push({ name: X.name });
              break;
            case "</metadataType>":
              break;
            case "<futureMetadata":
              for (var _e = 0; _e < N.Types.length; ++_e)
                N.Types[_e].name == X.name && (W = N.Types[_e]);
              break;
            case "</futureMetadata>":
            case "<bk>":
            case "</bk>":
              break;
            case "<rc":
              j == 1 ? N.Cell.push({ type: N.Types[X.t - 1].name, index: +X.v }) : j == 0 && N.Value.push({ type: N.Types[X.t - 1].name, index: +X.v });
              break;
            case "</rc>":
              break;
            case "<cellMetadata":
              j = 1;
              break;
            case "</cellMetadata>":
              j = 2;
              break;
            case "<valueMetadata":
              j = 0;
              break;
            case "</valueMetadata>":
              j = 2;
              break;
            case "<extLst":
            case "<extLst>":
            case "</extLst>":
            case "<extLst/>":
              break;
            case "<ext":
              H = !0;
              break;
            case "</ext>":
              H = !1;
              break;
            case "<rvb":
              if (!W)
                break;
              W.offsets || (W.offsets = []), W.offsets.push(+X.i);
              break;
            default:
              if (!H && R.WTF)
                throw new Error("unrecognized " + X[0] + " in metadata");
          }
          return oe;
        }), N;
      }(h, m);
      var b, T, A, C, D;
    }
    var Tv, P9 = /([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g, R9 = /([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;
    function _s(h, g) {
      var m = h.split(/\s+/), b = [];
      if (g || (b[0] = m[0]), m.length === 1)
        return b;
      var T, A, C, D = h.match(P9);
      if (D)
        for (C = 0; C != D.length; ++C)
          (A = (T = D[C].match(R9))[1].indexOf(":")) === -1 ? b[T[1]] = T[2].slice(1, T[2].length - 1) : b[T[1].slice(0, 6) === "xmlns:" ? "xmlns" + T[1].slice(6) : T[1].slice(A + 1)] = T[2].slice(1, T[2].length - 1);
      return b;
    }
    function fre(h, g, m) {
      if (h.t !== "z") {
        if (!m || m.cellText !== !1)
          try {
            h.t === "e" ? h.w = h.w || $l[h.v] : g === "General" ? h.t === "n" ? (0 | h.v) === h.v ? h.w = h.v.toString(10) : h.w = ae(h.v) : h.w = pe(h.v) : h.w = (b = g || "General", T = h.v, (b = Tv[b] || dn(b)) === "General" ? pe(T) : wr(b, T));
          } catch (C) {
            if (m.WTF)
              throw C;
          }
        var b, T;
        try {
          var A = Tv[g] || g || "General";
          m.cellNF && (h.z = A), m.cellDates && h.t == "n" && Re(A) && (A = be(h.v)) && (h.t = "d", h.v = new Date(A.y, A.m - 1, A.d, A.H, A.M, A.S, A.u));
        } catch (C) {
          if (m.WTF)
            throw C;
        }
      }
    }
    function i4(h, g) {
      var m = g || {};
      Gl();
      var b, T = y(hx(h)), A = (T = m.type == "binary" || m.type == "array" || m.type == "base64" ? n !== void 0 ? n.utils.decode(65001, p(T)) : Rn(T) : T).slice(0, 1024).toLowerCase(), C = !1;
      if ((1023 & (A = A.replace(/".*?"/g, "")).indexOf(">")) > Math.min(1023 & A.indexOf(","), 1023 & A.indexOf(";"))) {
        var D = Un(m);
        return D.type = "string", Gd.to_workbook(T, D);
      }
      if (A.indexOf("<?xml") == -1 && ["html", "table", "head", "meta", "script", "style", "div"].forEach(function(Le) {
        0 <= A.indexOf("<" + Le) && (C = !0);
      }), C)
        return function(Le, dt) {
          if (Le = Le.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi), !Le || Le.length == 0)
            throw new Error("Invalid HTML: could not find <table>");
          if (Le.length == 1)
            return oc(F9(Le[0], dt), dt);
          var qe = y4();
          return Le.forEach(function(Qe, He) {
            _4(qe, F9(Qe, dt), "Sheet" + (He + 1));
          }), qe;
        }(T, m);
      Tv = { "General Number": "General", "General Date": De[22], "Long Date": "dddd, mmmm dd, yyyy", "Medium Date": De[15], "Short Date": De[14], "Long Time": De[19], "Medium Time": De[18], "Short Time": De[20], Currency: '"$"#,##0.00_);[Red]\\("$"#,##0.00\\)', Fixed: De[2], Standard: De[4], Percent: De[10], Scientific: De[11], "Yes/No": '"Yes";"Yes";"No";@', "True/False": '"True";"True";"False";@', "On/Off": '"Yes";"Yes";"No";@' };
      var I, R = [], N, W = {}, H = [], j = m.dense ? [] : {}, oe = "", X = {}, _e = {}, ue = _s('<Data ss:Type="String">'), ee = 0, me = 0, Te = 0, Ce = { s: { r: 2e6, c: 2e6 }, e: { r: 0, c: 0 } }, Fe = {}, ze = {}, Be = "", Ye = 0, it = [], at = {}, Xe = {}, _t = 0, Vt = [], Ot = [], At = {}, Dt = [], Tt = !1, ct = [], Kt = [], Qt = {}, hr = 0, Gr = 0, Ht = { Sheets: [], WBProps: { date1904: !1 } }, yt = {};
      nv.lastIndex = 0, T = T.replace(/<!--([\s\S]*?)-->/gm, "");
      for (var Mr, on, Zr, bn, pi = ""; b = nv.exec(T); )
        switch (b[3] = (pi = b[3]).toLowerCase()) {
          case "data":
            if (pi == "data") {
              if (b[1] === "/") {
                if ((I = R.pop())[0] !== b[3])
                  throw new Error("Bad state: " + I.join("|"));
              } else
                b[0].charAt(b[0].length - 2) !== "/" && R.push([b[3], !0]);
              break;
            }
            if (R[R.length - 1][1])
              break;
            b[1] === "/" ? function(Le, dt, qe, Qe, He, rt, wt, ar, jt, Ft) {
              var rr = "General", sr = Qe.StyleID, lr = {};
              Ft = Ft || {};
              var Mt = [], St = 0;
              for ((sr = sr === void 0 && ar ? ar.StyleID : sr) === void 0 && wt && (sr = wt.StyleID); rt[sr] !== void 0 && (rt[sr].nf && (rr = rt[sr].nf), rt[sr].Interior && Mt.push(rt[sr].Interior), rt[sr].Parent); )
                sr = rt[sr].Parent;
              switch (qe.Type) {
                case "Boolean":
                  Qe.t = "b", Qe.v = qn(Le);
                  break;
                case "String":
                  Qe.t = "s", Qe.r = FM(dn(Le)), Qe.v = -1 < Le.indexOf("<") ? dn(dt || Le).replace(/<.*?>/g, "") : Qe.r;
                  break;
                case "DateTime":
                  Le.slice(-1) != "Z" && (Le += "Z"), Qe.v = (jn(Le) - new Date(Date.UTC(1899, 11, 30))) / 864e5, Qe.v != Qe.v ? Qe.v = dn(Le) : Qe.v < 60 && (Qe.v = Qe.v - 1), rr && rr != "General" || (rr = "yyyy-mm-dd");
                case "Number":
                  Qe.v === void 0 && (Qe.v = +Le), Qe.t || (Qe.t = "n");
                  break;
                case "Error":
                  Qe.t = "e", Qe.v = cI[Le], Ft.cellText !== !1 && (Qe.w = Le);
                  break;
                default:
                  Le == "" && dt == "" ? Qe.t = "z" : (Qe.t = "s", Qe.v = FM(dt || Le));
              }
              if (fre(Qe, rr, Ft), Ft.cellFormula !== !1)
                if (Qe.Formula)
                  qe = dn(Qe.Formula), qe.charCodeAt(0) == 61 && (qe = qe.slice(1)), Qe.f = Yd(qe, He), delete Qe.Formula, Qe.ArrayRange == "RC" ? Qe.F = Yd("RC:RC", He) : Qe.ArrayRange && (Qe.F = Yd(Qe.ArrayRange, He), jt.push([nn(Qe.F), Qe.F]));
                else
                  for (St = 0; St < jt.length; ++St)
                    He.r >= jt[St][0].s.r && He.r <= jt[St][0].e.r && He.c >= jt[St][0].s.c && He.c <= jt[St][0].e.c && (Qe.F = jt[St][1]);
              Ft.cellStyles && (Mt.forEach(function(ur) {
                !lr.patternType && ur.patternType && (lr.patternType = ur.patternType);
              }), Qe.s = lr), Qe.StyleID !== void 0 && (Qe.ixfe = Qe.StyleID);
            }(T.slice(ee, b.index), Be, ue, R[R.length - 1][0] == "comment" ? At : X, { c: me, r: Te }, Fe, Dt[me], _e, ct, m) : (Be = "", ue = _s(b[0]), ee = b.index + b[0].length);
            break;
          case "cell":
            if (b[1] === "/")
              if (0 < Ot.length && (X.c = Ot), (!m.sheetRows || m.sheetRows > Te) && X.v !== void 0 && (m.dense ? (j[Te] || (j[Te] = []), j[Te][me] = X) : j[Xn(me) + di(Te)] = X), X.HRef && (X.l = { Target: dn(X.HRef) }, X.HRefScreenTip && (X.l.Tooltip = X.HRefScreenTip), delete X.HRef, delete X.HRefScreenTip), (X.MergeAcross || X.MergeDown) && (hr = me + (0 | parseInt(X.MergeAcross, 10)), Gr = Te + (0 | parseInt(X.MergeDown, 10)), it.push({ s: { c: me, r: Te }, e: { c: hr, r: Gr } })), m.sheetStubs)
                if (X.MergeAcross || X.MergeDown) {
                  for (var Ne = me; Ne <= hr; ++Ne)
                    for (var wn = Te; wn <= Gr; ++wn)
                      (me < Ne || Te < wn) && (m.dense ? (j[wn] || (j[wn] = []), j[wn][Ne] = { t: "z" }) : j[Xn(Ne) + di(wn)] = { t: "z" });
                  me = hr + 1;
                } else
                  ++me;
              else
                X.MergeAcross ? me = hr + 1 : ++me;
            else
              (me = (X = function(Le) {
                var dt = {};
                if (Le.split(/\s+/).length === 1)
                  return dt;
                var qe, Qe, He, rt = Le.match(P9);
                if (rt)
                  for (He = 0; He != rt.length; ++He)
                    (Qe = (qe = rt[He].match(R9))[1].indexOf(":")) === -1 ? dt[qe[1]] = qe[2].slice(1, qe[2].length - 1) : dt[qe[1].slice(0, 6) === "xmlns:" ? "xmlns" + qe[1].slice(6) : qe[1].slice(Qe + 1)] = qe[2].slice(1, qe[2].length - 1);
                return dt;
              }(b[0])).Index ? +X.Index - 1 : me) < Ce.s.c && (Ce.s.c = me), me > Ce.e.c && (Ce.e.c = me), b[0].slice(-2) === "/>" && ++me, Ot = [];
            break;
          case "row":
            b[1] === "/" || b[0].slice(-2) === "/>" ? (Te < Ce.s.r && (Ce.s.r = Te), Te > Ce.e.r && (Ce.e.r = Te), b[0].slice(-2) === "/>" && (_e = _s(b[0])).Index && (Te = +_e.Index - 1), me = 0, ++Te) : ((_e = _s(b[0])).Index && (Te = +_e.Index - 1), Qt = {}, _e.AutoFitHeight != "0" && !_e.Height || (Qt.hpx = parseInt(_e.Height, 10), Qt.hpt = gv(Qt.hpx), Kt[Te] = Qt), _e.Hidden == "1" && (Qt.hidden = !0, Kt[Te] = Qt));
            break;
          case "worksheet":
            if (b[1] === "/") {
              if ((I = R.pop())[0] !== b[3])
                throw new Error("Bad state: " + I.join("|"));
              H.push(oe), Ce.s.r <= Ce.e.r && Ce.s.c <= Ce.e.c && (j["!ref"] = Ur(Ce), m.sheetRows && m.sheetRows <= Ce.e.r && (j["!fullref"] = j["!ref"], Ce.e.r = m.sheetRows - 1, j["!ref"] = Ur(Ce))), it.length && (j["!merges"] = it), 0 < Dt.length && (j["!cols"] = Dt), 0 < Kt.length && (j["!rows"] = Kt), W[oe] = j;
            } else
              Ce = { s: { r: 2e6, c: 2e6 }, e: { r: 0, c: 0 } }, Te = me = 0, R.push([b[3], !1]), I = _s(b[0]), oe = dn(I.Name), j = m.dense ? [] : {}, it = [], ct = [], Kt = [], yt = { name: oe, Hidden: 0 }, Ht.Sheets.push(yt);
            break;
          case "table":
            if (b[1] === "/") {
              if ((I = R.pop())[0] !== b[3])
                throw new Error("Bad state: " + I.join("|"));
            } else {
              if (b[0].slice(-2) == "/>")
                break;
              R.push([b[3], !1]), Tt = !(Dt = []);
            }
            break;
          case "style":
            b[1] === "/" ? (on = Fe, Zr = ze, (bn = m).cellStyles && (!Zr.Interior || (bn = Zr.Interior).Pattern && (bn.patternType = Bee[bn.Pattern] || bn.Pattern)), on[Zr.ID] = Zr) : ze = _s(b[0]);
            break;
          case "numberformat":
            ze.nf = dn(_s(b[0]).Format || "General"), Tv[ze.nf] && (ze.nf = Tv[ze.nf]);
            for (var mn = 0; mn != 392 && De[mn] != ze.nf; ++mn)
              ;
            if (mn == 392) {
              for (mn = 57; mn != 392; ++mn)
                if (De[mn] == null) {
                  yr(ze.nf, mn);
                  break;
                }
            }
            break;
          case "column":
            if (R[R.length - 1][0] !== "table")
              break;
            if ((N = _s(b[0])).Hidden && (N.hidden = !0, delete N.Hidden), N.Width && (N.wpx = parseInt(N.Width, 10)), !Tt && 10 < N.wpx) {
              Tt = !0, Ma = N7;
              for (var Yi = 0; Yi < Dt.length; ++Yi)
                Dt[Yi] && lc(Dt[Yi]);
            }
            Tt && lc(N), Dt[N.Index - 1 || Dt.length] = N;
            for (var zo = 0; zo < +N.Span; ++zo)
              Dt[Dt.length] = Un(N);
            break;
          case "namedrange":
            if (b[1] === "/")
              break;
            Ht.Names || (Ht.Names = []);
            var Me = Dr(b[0]), Ze = { Name: Me.Name, Ref: Yd(Me.RefersTo.slice(1), { r: 0, c: 0 }) };
            0 < Ht.Sheets.length && (Ze.Sheet = Ht.Sheets.length - 1), Ht.Names.push(Ze);
            break;
          case "namedcell":
          case "b":
          case "i":
          case "u":
          case "s":
          case "em":
          case "h2":
          case "h3":
          case "sub":
          case "sup":
          case "span":
          case "alignment":
          case "borders":
          case "border":
            break;
          case "font":
            if (b[0].slice(-2) === "/>")
              break;
            b[1] === "/" ? Be += T.slice(Ye, b.index) : Ye = b.index + b[0].length;
            break;
          case "interior":
            if (!m.cellStyles)
              break;
            ze.Interior = _s(b[0]);
            break;
          case "protection":
            break;
          case "author":
          case "title":
          case "description":
          case "created":
          case "keywords":
          case "subject":
          case "category":
          case "company":
          case "lastauthor":
          case "lastsaved":
          case "lastprinted":
          case "version":
          case "revision":
          case "totaltime":
          case "hyperlinkbase":
          case "manager":
          case "contentstatus":
          case "identifier":
          case "language":
          case "appname":
            if (b[0].slice(-2) === "/>")
              break;
            b[1] === "/" ? (Zr = at, Me = pi, Ze = T.slice(_t, b.index), Zr[Me = (bI = bI || bm(Rx))[Me] || Me] = Ze) : _t = b.index + b[0].length;
            break;
          case "paragraphs":
            break;
          case "styles":
          case "workbook":
            if (b[1] === "/") {
              if ((I = R.pop())[0] !== b[3])
                throw new Error("Bad state: " + I.join("|"));
            } else
              R.push([b[3], !1]);
            break;
          case "comment":
            if (b[1] === "/") {
              if ((I = R.pop())[0] !== b[3])
                throw new Error("Bad state: " + I.join("|"));
              (Mr = At).t = Mr.v || "", Mr.t = Mr.t.replace(/\r\n/g, `
`).replace(/\r/g, `
`), Mr.v = Mr.w = Mr.ixfe = void 0, Ot.push(At);
            } else
              R.push([b[3], !1]), At = { a: (I = _s(b[0])).Author };
            break;
          case "autofilter":
            if (b[1] === "/") {
              if ((I = R.pop())[0] !== b[3])
                throw new Error("Bad state: " + I.join("|"));
            } else
              b[0].charAt(b[0].length - 2) !== "/" && (Mr = _s(b[0]), j["!autofilter"] = { ref: Yd(Mr.Range).replace(/\$/g, "") }, R.push([b[3], !0]));
            break;
          case "name":
            break;
          case "datavalidation":
            if (b[1] === "/") {
              if ((I = R.pop())[0] !== b[3])
                throw new Error("Bad state: " + I.join("|"));
            } else
              b[0].charAt(b[0].length - 2) !== "/" && R.push([b[3], !0]);
            break;
          case "pixelsperinch":
            break;
          case "componentoptions":
          case "documentproperties":
          case "customdocumentproperties":
          case "officedocumentsettings":
          case "pivottable":
          case "pivotcache":
          case "names":
          case "mapinfo":
          case "pagebreaks":
          case "querytable":
          case "sorting":
          case "schema":
          case "conditionalformatting":
          case "smarttagtype":
          case "smarttags":
          case "excelworkbook":
          case "workbookoptions":
          case "worksheetoptions":
            if (b[1] === "/") {
              if ((I = R.pop())[0] !== b[3])
                throw new Error("Bad state: " + I.join("|"));
            } else
              b[0].charAt(b[0].length - 2) !== "/" && R.push([b[3], !0]);
            break;
          case "null":
            break;
          default:
            if (R.length == 0 && b[3] == "document" || R.length == 0 && b[3] == "uof")
              return q9(T, m);
            var Oe = !0;
            switch (R[R.length - 1][0]) {
              case "officedocumentsettings":
                switch (b[3]) {
                  case "allowpng":
                  case "removepersonalinformation":
                  case "downloadcomponents":
                  case "locationofcomponents":
                  case "colors":
                  case "color":
                  case "index":
                  case "rgb":
                  case "targetscreensize":
                  case "readonlyrecommended":
                    break;
                  default:
                    Oe = !1;
                }
                break;
              case "componentoptions":
                switch (b[3]) {
                  case "toolbar":
                  case "hideofficelogo":
                  case "spreadsheetautofit":
                  case "label":
                  case "caption":
                  case "maxheight":
                  case "maxwidth":
                  case "nextsheetnumber":
                    break;
                  default:
                    Oe = !1;
                }
                break;
              case "excelworkbook":
                switch (b[3]) {
                  case "date1904":
                    Ht.WBProps.date1904 = !0;
                    break;
                  case "windowheight":
                  case "windowwidth":
                  case "windowtopx":
                  case "windowtopy":
                  case "tabratio":
                  case "protectstructure":
                  case "protectwindow":
                  case "protectwindows":
                  case "activesheet":
                  case "displayinknotes":
                  case "firstvisiblesheet":
                  case "supbook":
                  case "sheetname":
                  case "sheetindex":
                  case "sheetindexfirst":
                  case "sheetindexlast":
                  case "dll":
                  case "acceptlabelsinformulas":
                  case "donotsavelinkvalues":
                  case "iteration":
                  case "maxiterations":
                  case "maxchange":
                  case "path":
                  case "xct":
                  case "count":
                  case "selectedsheets":
                  case "calculation":
                  case "uncalced":
                  case "startupprompt":
                  case "crn":
                  case "externname":
                  case "formula":
                  case "colfirst":
                  case "collast":
                  case "wantadvise":
                  case "boolean":
                  case "error":
                  case "text":
                  case "ole":
                  case "noautorecover":
                  case "publishobjects":
                  case "donotcalculatebeforesave":
                  case "number":
                  case "refmoder1c1":
                  case "embedsavesmarttags":
                    break;
                  default:
                    Oe = !1;
                }
                break;
              case "workbookoptions":
                switch (b[3]) {
                  case "owcversion":
                  case "height":
                  case "width":
                    break;
                  default:
                    Oe = !1;
                }
                break;
              case "worksheetoptions":
                switch (b[3]) {
                  case "visible":
                    if (b[0].slice(-2) !== "/>")
                      if (b[1] === "/")
                        switch (T.slice(_t, b.index)) {
                          case "SheetHidden":
                            yt.Hidden = 1;
                            break;
                          case "SheetVeryHidden":
                            yt.Hidden = 2;
                        }
                      else
                        _t = b.index + b[0].length;
                    break;
                  case "header":
                    j["!margins"] || Eh(j["!margins"] = {}, "xlml"), isNaN(+Dr(b[0]).Margin) || (j["!margins"].header = +Dr(b[0]).Margin);
                    break;
                  case "footer":
                    j["!margins"] || Eh(j["!margins"] = {}, "xlml"), isNaN(+Dr(b[0]).Margin) || (j["!margins"].footer = +Dr(b[0]).Margin);
                    break;
                  case "pagemargins":
                    var je = Dr(b[0]);
                    j["!margins"] || Eh(j["!margins"] = {}, "xlml"), isNaN(+je.Top) || (j["!margins"].top = +je.Top), isNaN(+je.Left) || (j["!margins"].left = +je.Left), isNaN(+je.Right) || (j["!margins"].right = +je.Right), isNaN(+je.Bottom) || (j["!margins"].bottom = +je.Bottom);
                    break;
                  case "displayrighttoleft":
                    Ht.Views || (Ht.Views = []), Ht.Views[0] || (Ht.Views[0] = {}), Ht.Views[0].RTL = !0;
                    break;
                  case "freezepanes":
                  case "frozennosplit":
                    break;
                  case "splithorizontal":
                  case "splitvertical":
                  case "donotdisplaygridlines":
                  case "activerow":
                  case "activecol":
                  case "toprowbottompane":
                  case "leftcolumnrightpane":
                  case "unsynced":
                  case "print":
                  case "printerrors":
                  case "panes":
                  case "scale":
                  case "pane":
                  case "number":
                  case "layout":
                  case "pagesetup":
                  case "selected":
                  case "protectobjects":
                  case "enableselection":
                  case "protectscenarios":
                  case "validprinterinfo":
                  case "horizontalresolution":
                  case "verticalresolution":
                  case "numberofcopies":
                  case "activepane":
                  case "toprowvisible":
                  case "leftcolumnvisible":
                  case "fittopage":
                  case "rangeselection":
                  case "papersizeindex":
                  case "pagelayoutzoom":
                  case "pagebreakzoom":
                  case "filteron":
                  case "fitwidth":
                  case "fitheight":
                  case "commentslayout":
                  case "zoom":
                  case "lefttoright":
                  case "gridlines":
                  case "allowsort":
                  case "allowfilter":
                  case "allowinsertrows":
                  case "allowdeleterows":
                  case "allowinsertcols":
                  case "allowdeletecols":
                  case "allowinserthyperlinks":
                  case "allowformatcells":
                  case "allowsizecols":
                  case "allowsizerows":
                    break;
                  case "nosummaryrowsbelowdetail":
                    j["!outline"] || (j["!outline"] = {}), j["!outline"].above = !0;
                    break;
                  case "tabcolorindex":
                  case "donotdisplayheadings":
                  case "showpagelayoutzoom":
                    break;
                  case "nosummarycolumnsrightdetail":
                    j["!outline"] || (j["!outline"] = {}), j["!outline"].left = !0;
                    break;
                  case "blackandwhite":
                  case "donotdisplayzeros":
                  case "displaypagebreak":
                  case "rowcolheadings":
                  case "donotdisplayoutline":
                  case "noorientation":
                  case "allowusepivottables":
                  case "zeroheight":
                  case "viewablerange":
                  case "selection":
                  case "protectcontents":
                    break;
                  default:
                    Oe = !1;
                }
                break;
              case "pivottable":
              case "pivotcache":
                switch (b[3]) {
                  case "immediateitemsondrop":
                  case "showpagemultipleitemlabel":
                  case "compactrowindent":
                  case "location":
                  case "pivotfield":
                  case "orientation":
                  case "layoutform":
                  case "layoutsubtotallocation":
                  case "layoutcompactrow":
                  case "position":
                  case "pivotitem":
                  case "datatype":
                  case "datafield":
                  case "sourcename":
                  case "parentfield":
                  case "ptlineitems":
                  case "ptlineitem":
                  case "countofsameitems":
                  case "item":
                  case "itemtype":
                  case "ptsource":
                  case "cacheindex":
                  case "consolidationreference":
                  case "filename":
                  case "reference":
                  case "nocolumngrand":
                  case "norowgrand":
                  case "blanklineafteritems":
                  case "hidden":
                  case "subtotal":
                  case "basefield":
                  case "mapchilditems":
                  case "function":
                  case "refreshonfileopen":
                  case "printsettitles":
                  case "mergelabels":
                  case "defaultversion":
                  case "refreshname":
                  case "refreshdate":
                  case "refreshdatecopy":
                  case "versionlastrefresh":
                  case "versionlastupdate":
                  case "versionupdateablemin":
                  case "versionrefreshablemin":
                  case "calculation":
                    break;
                  default:
                    Oe = !1;
                }
                break;
              case "pagebreaks":
                switch (b[3]) {
                  case "colbreaks":
                  case "colbreak":
                  case "rowbreaks":
                  case "rowbreak":
                  case "colstart":
                  case "colend":
                  case "rowend":
                    break;
                  default:
                    Oe = !1;
                }
                break;
              case "autofilter":
                switch (b[3]) {
                  case "autofiltercolumn":
                  case "autofiltercondition":
                  case "autofilterand":
                  case "autofilteror":
                    break;
                  default:
                    Oe = !1;
                }
                break;
              case "querytable":
                switch (b[3]) {
                  case "id":
                  case "autoformatfont":
                  case "autoformatpattern":
                  case "querysource":
                  case "querytype":
                  case "enableredirections":
                  case "refreshedinxl9":
                  case "urlstring":
                  case "htmltables":
                  case "connection":
                  case "commandtext":
                  case "refreshinfo":
                  case "notitles":
                  case "nextid":
                  case "columninfo":
                  case "overwritecells":
                  case "donotpromptforfile":
                  case "textwizardsettings":
                  case "source":
                  case "number":
                  case "decimal":
                  case "thousandseparator":
                  case "trailingminusnumbers":
                  case "formatsettings":
                  case "fieldtype":
                  case "delimiters":
                  case "tab":
                  case "comma":
                  case "autoformatname":
                  case "versionlastedit":
                  case "versionlastrefresh":
                    break;
                  default:
                    Oe = !1;
                }
                break;
              case "datavalidation":
                switch (b[3]) {
                  case "range":
                  case "type":
                  case "min":
                  case "max":
                  case "sort":
                  case "descending":
                  case "order":
                  case "casesensitive":
                  case "value":
                  case "errorstyle":
                  case "errormessage":
                  case "errortitle":
                  case "inputmessage":
                  case "inputtitle":
                  case "combohide":
                  case "inputhide":
                  case "condition":
                  case "qualifier":
                  case "useblank":
                  case "value1":
                  case "value2":
                  case "format":
                  case "cellrangelist":
                    break;
                  default:
                    Oe = !1;
                }
                break;
              case "sorting":
              case "conditionalformatting":
                switch (b[3]) {
                  case "range":
                  case "type":
                  case "min":
                  case "max":
                  case "sort":
                  case "descending":
                  case "order":
                  case "casesensitive":
                  case "value":
                  case "errorstyle":
                  case "errormessage":
                  case "errortitle":
                  case "cellrangelist":
                  case "inputmessage":
                  case "inputtitle":
                  case "combohide":
                  case "inputhide":
                  case "condition":
                  case "qualifier":
                  case "useblank":
                  case "value1":
                  case "value2":
                  case "format":
                    break;
                  default:
                    Oe = !1;
                }
                break;
              case "mapinfo":
              case "schema":
              case "data":
                switch (b[3]) {
                  case "map":
                  case "entry":
                  case "range":
                  case "xpath":
                  case "field":
                  case "xsdtype":
                  case "filteron":
                  case "aggregate":
                  case "elementtype":
                  case "attributetype":
                    break;
                  case "schema":
                  case "element":
                  case "complextype":
                  case "datatype":
                  case "all":
                  case "attribute":
                  case "extends":
                  case "row":
                    break;
                  default:
                    Oe = !1;
                }
                break;
              case "smarttags":
                break;
              default:
                Oe = !1;
            }
            if (Oe || b[3].match(/!\[CDATA/))
              break;
            if (!R[R.length - 1][1])
              throw "Unrecognized tag: " + b[3] + "|" + R.join("|");
            if (R[R.length - 1][0] === "customdocumentproperties") {
              if (b[0].slice(-2) === "/>")
                break;
              b[1] === "/" ? function(Le, dt, qe, Qe) {
                var He = Qe;
                switch ((qe[0].match(/dt:dt="([\w.]+)"/) || ["", ""])[1]) {
                  case "boolean":
                    He = qn(Qe);
                    break;
                  case "i2":
                  case "int":
                    He = parseInt(Qe, 10);
                    break;
                  case "r4":
                  case "float":
                    He = parseFloat(Qe);
                    break;
                  case "date":
                  case "dateTime.tz":
                    He = jn(Qe);
                    break;
                  case "i8":
                  case "string":
                  case "fixed":
                  case "uuid":
                  case "bin.base64":
                    break;
                  default:
                    throw new Error("bad custprop:" + qe[0]);
                }
                Le[dn(dt)] = He;
              }(Xe, pi, Vt, T.slice(_t, b.index)) : _t = (Vt = b).index + b[0].length;
              break;
            }
            if (m.WTF)
              throw "Unrecognized tag: " + b[3] + "|" + R.join("|");
        }
      return D = {}, m.bookSheets || m.bookProps || (D.Sheets = W), D.SheetNames = H, D.Workbook = Ht, D.SSF = Un(De), D.Props = at, D.Custprops = Xe, D;
    }
    function a4(h, g) {
      switch (h4(g = g || {}), g.type || "base64") {
        case "base64":
          return i4(E(h), g);
        case "binary":
        case "buffer":
        case "file":
          return i4(h, g);
        case "array":
          return i4(U(h), g);
      }
    }
    function dre(h, g) {
      var m, b, T, A, C, D, I, R = [];
      return h.Props && R.push((m = h.Props, b = g, T = [], hi(Rx).map(function(N) {
        for (var W = 0; W < No.length; ++W)
          if (No[W][1] == N)
            return No[W];
        for (W = 0; W < Sh.length; ++W)
          if (Sh[W][1] == N)
            return Sh[W];
        throw N;
      }).forEach(function(N) {
        var W;
        m[N[1]] != null && (W = (b && b.Props && b.Props[N[1]] != null ? b.Props : m)[N[1]], typeof (W = N[2] === "date" ? new Date(W).toISOString().replace(/\.\d*Z/, "Z") : W) == "number" ? W = String(W) : W === !0 || W === !1 ? W = W ? "1" : "0" : W instanceof Date && (W = new Date(W).toISOString().replace(/\.\d*Z/, "")), T.push(fa(Rx[N[1]] || N[1], W)));
      }), Rt("DocumentProperties", T.join(""), { xmlns: yo.o }))), h.Custprops && R.push((A = h.Props, C = h.Custprops, D = ["Worksheets", "SheetNames"], h = "CustomDocumentProperties", I = [], A && hi(A).forEach(function(N) {
        if (Object.prototype.hasOwnProperty.call(A, N)) {
          for (var W = 0; W < No.length; ++W)
            if (N == No[W][1])
              return;
          for (W = 0; W < Sh.length; ++W)
            if (N == Sh[W][1])
              return;
          for (W = 0; W < D.length; ++W)
            if (N == D[W])
              return;
          var H = "string", j = typeof (j = A[N]) == "number" ? (H = "float", String(j)) : j === !0 || j === !1 ? (H = "boolean", j ? "1" : "0") : String(j);
          I.push(Rt(RM(N), j, { "dt:dt": H }));
        }
      }), C && hi(C).forEach(function(N) {
        var W, H;
        Object.prototype.hasOwnProperty.call(C, N) && (A && Object.prototype.hasOwnProperty.call(A, N) || (W = "string", H = typeof (H = C[N]) == "number" ? (W = "float", String(H)) : H === !0 || H === !1 ? (W = "boolean", H ? "1" : "0") : H instanceof Date ? (W = "dateTime.tz", H.toISOString()) : String(H), I.push(Rt(RM(N), H, { "dt:dt": W }))));
      }), "<" + h + ' xmlns="' + yo.o + '">' + I.join("") + "</" + h + ">")), R.join("");
    }
    function L9(h) {
      return Rt("NamedRange", null, { "ss:Name": h.Name, "ss:RefersTo": "=" + Zx(h.Ref, { r: 0, c: 0 }) });
    }
    function pre(h, g, m, b, T, A, C) {
      if (!h || h.v == null && h.f == null)
        return "";
      var D = {};
      if (h.f && (D["ss:Formula"] = "=" + Dn(Zx(h.f, C))), h.F && h.F.slice(0, g.length) == g && (g = ii(h.F.slice(g.length + 1)), D["ss:ArrayRange"] = "RC:R" + (g.r == C.r ? "" : "[" + (g.r - C.r) + "]") + "C" + (g.c == C.c ? "" : "[" + (g.c - C.c) + "]")), h.l && h.l.Target && (D["ss:HRef"] = Dn(h.l.Target), h.l.Tooltip && (D["x:HRefScreenTip"] = Dn(h.l.Tooltip))), m["!merges"])
        for (var I = m["!merges"], R = 0; R != I.length; ++R)
          I[R].s.c == C.c && I[R].s.r == C.r && (I[R].e.c > I[R].s.c && (D["ss:MergeAcross"] = I[R].e.c - I[R].s.c), I[R].e.r > I[R].s.r && (D["ss:MergeDown"] = I[R].e.r - I[R].s.r));
      var N = "", W = "";
      switch (h.t) {
        case "z":
          if (!b.sheetStubs)
            return "";
          break;
        case "n":
          N = "Number", W = String(h.v);
          break;
        case "b":
          N = "Boolean", W = h.v ? "1" : "0";
          break;
        case "e":
          N = "Error", W = $l[h.v];
          break;
        case "d":
          N = "DateTime", W = new Date(h.v).toISOString(), h.z == null && (h.z = h.z || De[14]);
          break;
        case "s":
          N = "String", W = ((h.v || "") + "").replace(ox, function(H) {
            return ax[H];
          }).replace(LM, function(H) {
            return "&#x" + H.charCodeAt(0).toString(16).toUpperCase() + ";";
          });
      }
      return m = cc(b.cellXfs, h, b), D["ss:StyleID"] = "s" + (21 + m), D["ss:Index"] = C.c + 1, m = h.v != null ? W : "", m = h.t == "z" ? "" : '<Data ss:Type="' + N + '">' + m + "</Data>", 0 < (h.c || []).length && (m += h.c.map(function(H) {
        var j = Rt("ss:Data", (H.t || "").replace(/(\r\n|[\r\n])/g, "&#10;"), { xmlns: "http://www.w3.org/TR/REC-html40" });
        return Rt("Comment", j, { "ss:Author": H.a });
      }).join("")), Rt("Cell", m, D);
    }
    function vre(h, g) {
      if (!h["!ref"])
        return "";
      var m = nn(h["!ref"]), b = h["!merges"] || [], T = 0, A = [];
      h["!cols"] && h["!cols"].forEach(function(_e, Te) {
        lc(_e);
        var ee = !!_e.width, me = Jm(Te, _e), Te = { "ss:Index": Te + 1 };
        ee && (Te["ss:Width"] = pv(me.width)), _e.hidden && (Te["ss:Hidden"] = "1"), A.push(Rt("Column", null, Te));
      });
      for (var C, D, I = Array.isArray(h), R = m.s.r; R <= m.e.r; ++R) {
        for (var N = [(C = R, D = (h["!rows"] || [])[R], C = '<Row ss:Index="' + (C + 1) + '"', D && (D.hpt && !D.hpx && (D.hpx = Hd(D.hpt)), D.hpx && (C += ' ss:AutoFitHeight="0" ss:Height="' + D.hpx + '"'), D.hidden && (C += ' ss:Hidden="1"')), C + ">")], W = m.s.c; W <= m.e.c; ++W) {
          for (var H, j, oe, X = !1, T = 0; T != b.length; ++T)
            if (!(b[T].s.c > W || b[T].s.r > R || b[T].e.c < W || b[T].e.r < R)) {
              b[T].s.c == W && b[T].s.r == R || (X = !0);
              break;
            }
          X || (j = kr(H = { r: R, c: W }), oe = I ? (h[R] || [])[W] : h[j], N.push(pre(oe, j, h, g, 0, 0, H)));
        }
        N.push("</Row>"), 2 < N.length && A.push(N.join(""));
      }
      return A.join("");
    }
    function gre(h, g, m) {
      var b = [], A = m.SheetNames[h], T = m.Sheets[A], A = T ? function(C, D, I) {
        if (!C || !((I || {}).Workbook || {}).Names)
          return "";
        for (var R = I.Workbook.Names, N = [], W = 0; W < R.length; ++W) {
          var H = R[W];
          H.Sheet == D && (H.Name.match(/^_xlfn\./) || N.push(L9(H)));
        }
        return N.join("");
      }(T, h, m) : "";
      return 0 < A.length && b.push("<Names>" + A + "</Names>"), 0 < (A = T ? vre(T, g) : "").length && b.push("<Table>" + A + "</Table>"), b.push(function(C, D, I) {
        if (!C)
          return "";
        var R = [];
        if (C["!margins"] && (R.push("<PageSetup>"), C["!margins"].header && R.push(Rt("Header", null, { "x:Margin": C["!margins"].header })), C["!margins"].footer && R.push(Rt("Footer", null, { "x:Margin": C["!margins"].footer })), R.push(Rt("PageMargins", null, { "x:Bottom": C["!margins"].bottom || "0.75", "x:Left": C["!margins"].left || "0.7", "x:Right": C["!margins"].right || "0.7", "x:Top": C["!margins"].top || "0.75" })), R.push("</PageSetup>")), I && I.Workbook && I.Workbook.Sheets && I.Workbook.Sheets[D])
          if (I.Workbook.Sheets[D].Hidden)
            R.push(Rt("Visible", I.Workbook.Sheets[D].Hidden == 1 ? "SheetHidden" : "SheetVeryHidden", {}));
          else {
            for (var N = 0; N < D && (!I.Workbook.Sheets[N] || I.Workbook.Sheets[N].Hidden); ++N)
              ;
            N == D && R.push("<Selected/>");
          }
        return ((((I || {}).Workbook || {}).Views || [])[0] || {}).RTL && R.push("<DisplayRightToLeft/>"), C["!protect"] && (R.push(fa("ProtectContents", "True")), C["!protect"].objects && R.push(fa("ProtectObjects", "True")), C["!protect"].scenarios && R.push(fa("ProtectScenarios", "True")), C["!protect"].selectLockedCells == null || C["!protect"].selectLockedCells ? C["!protect"].selectUnlockedCells == null || C["!protect"].selectUnlockedCells || R.push(fa("EnableSelection", "UnlockedCells")) : R.push(fa("EnableSelection", "NoSelection")), [["formatCells", "AllowFormatCells"], ["formatColumns", "AllowSizeCols"], ["formatRows", "AllowSizeRows"], ["insertColumns", "AllowInsertCols"], ["insertRows", "AllowInsertRows"], ["insertHyperlinks", "AllowInsertHyperlinks"], ["deleteColumns", "AllowDeleteCols"], ["deleteRows", "AllowDeleteRows"], ["sort", "AllowSort"], ["autoFilter", "AllowFilter"], ["pivotTables", "AllowUsePivotTables"]].forEach(function(W) {
          C["!protect"][W[0]] && R.push("<" + W[1] + "/>");
        })), R.length == 0 ? "" : Rt("WorksheetOptions", R.join(""), { xmlns: yo.x });
      }(T, h, m)), b.join("");
    }
    function mre(h, g) {
      g = g || {}, h.SSF || (h.SSF = Un(De)), h.SSF && (Gl(), xr(h.SSF), g.revssf = wm(h.SSF), g.revssf[h.SSF[65535]] = 0, g.ssf = h.SSF, g.cellXfs = [], cc(g.cellXfs, {}, { revssf: { General: 0 } }));
      var m = [];
      m.push(dre(h, g)), m.push(""), m.push(""), m.push("");
      for (var b, T = 0; T < h.SheetNames.length; ++T)
        m.push(Rt("Worksheet", gre(T, g, h), { "ss:Name": Dn(h.SheetNames[T]) }));
      return m[2] = (b = ['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'], g.cellXfs.forEach(function(A, C) {
        var D = [];
        D.push(Rt("NumberFormat", null, { "ss:Format": Dn(De[A.numFmtId]) })), C = { "ss:ID": "s" + (21 + C) }, b.push(Rt("Style", D.join(""), C));
      }), Rt("Styles", b.join(""))), m[3] = function(A) {
        if (!((A || {}).Workbook || {}).Names)
          return "";
        for (var C = A.Workbook.Names, D = [], I = 0; I < C.length; ++I) {
          var R = C[I];
          R.Sheet == null && (R.Name.match(/^_xlfn\./) || D.push(L9(R)));
        }
        return Rt("Names", D.join(""));
      }(h), Ti + Rt("Workbook", m.join(""), { xmlns: yo.ss, "xmlns:o": yo.o, "xmlns:x": yo.x, "xmlns:ss": yo.ss, "xmlns:dt": yo.dt, "xmlns:html": yo.html });
    }
    function yre(h) {
      var g = {}, m = h.content;
      return m.l = 28, g.AnsiUserType = m.read_shift(0, "lpstr-ansi"), g.AnsiClipboardFormat = oI(m, 1), m.length - m.l <= 4 ? g : (h = m.read_shift(4), h == 0 || 40 < h ? g : (m.l -= 4, g.Reserved1 = m.read_shift(0, "lpstr-ansi"), m.length - m.l <= 4 || (h = m.read_shift(4)) !== 1907505652 ? g : (g.UnicodeClipboardFormat = oI(m, 2), (h = m.read_shift(4)) == 0 || 40 < h ? g : (m.l -= 4, void (g.Reserved2 = m.read_shift(0, "lpwstr"))))));
    }
    var _re = [60, 1084, 2066, 2165, 2175];
    function el(h, g, m) {
      if (h.t !== "z" && h.XF) {
        var b, T = 0;
        try {
          T = h.z || h.XF.numFmtId || 0, g.cellNF && (h.z = De[T]);
        } catch (A) {
          if (g.WTF)
            throw A;
        }
        if (!g || g.cellText !== !1)
          try {
            h.t === "e" ? h.w = h.w || $l[h.v] : T === 0 || T == "General" ? h.t === "n" ? (0 | h.v) === h.v ? h.w = h.v.toString(10) : h.w = ae(h.v) : h.w = pe(h.v) : h.w = wr(T, h.v, { date1904: !!m, dateNF: g && g.dateNF });
          } catch (A) {
            if (g.WTF)
              throw A;
          }
        g.cellDates && T && h.t == "n" && Re(De[T] || String(T)) && (b = be(h.v)) && (h.t = "d", h.v = new Date(b.y, b.m - 1, b.d, b.H, b.M, b.S, b.u));
      }
    }
    function ey(h, g, m) {
      return { v: h, ixfe: g, t: m };
    }
    function bre(h, g) {
      var m = { opts: {} }, b = {};
      function T(He) {
        return !(He < 8) && He < 64 && Fe[He - 8] || sv[He];
      }
      function A(He, rt, wt) {
        if (!(1 < Tt || wt.sheetRows && He.r >= wt.sheetRows)) {
          var ar, jt, Ft;
          if (wt.cellStyles && rt.XF && rt.XF.data && (jt = wt, (Ft = (ar = rt).XF.data) && Ft.patternType && jt && jt.cellStyles && (ar.s = {}, ar.s.patternType = Ft.patternType, (jt = dv(T(Ft.icvFore))) && (ar.s.fgColor = { rgb: jt }), (jt = dv(T(Ft.icvBack))) && (ar.s.bgColor = { rgb: jt }))), delete rt.ixfe, delete rt.XF, ee = kr(C = He), j && j.s && j.e || (j = { s: { r: 0, c: 0 }, e: { r: 0, c: 0 } }), He.r < j.s.r && (j.s.r = He.r), He.c < j.s.c && (j.s.c = He.c), He.r + 1 > j.e.r && (j.e.r = He.r + 1), He.c + 1 > j.e.c && (j.e.c = He.c + 1), wt.cellFormula && rt.f) {
            for (var rr = 0; rr < Te.length; ++rr)
              if (!(Te[rr][0].s.c > He.c || Te[rr][0].s.r > He.r || Te[rr][0].e.c < He.c || Te[rr][0].e.r < He.r)) {
                rt.F = Ur(Te[rr][0]), Te[rr][0].s.c == He.c && Te[rr][0].s.r == He.r || delete rt.f, rt.f && (rt.f = "" + qa(Te[rr][1], 0, He, Ot, Ye));
                break;
              }
          }
          wt.dense ? (W[He.r] || (W[He.r] = []), W[He.r][He.c] = rt) : W[ee] = rt;
        }
      }
      var C, D, I, R, N, W = g.dense ? [] : {}, H = {}, j = {}, oe = null, X = [], _e = "", ue = {}, ee = "", me = {}, Te = [], Ce = [], Fe = [], ze = { Sheets: [], WBProps: { date1904: !1 }, Views: [{}] }, Be = {}, Ye = { enc: !1, sbcch: 0, snames: [], sharedf: me, arrayf: Te, rrtabid: [], lastuser: "", biff: 8, codepage: 0, winlocked: 0, cellStyles: !!g && !!g.cellStyles, WTF: !!g && !!g.wtf };
      g.password && (Ye.password = g.password);
      var it = [], at = [], Xe = [], _t = [], Vt = !1, Ot = [];
      Ot.SheetNames = Ye.snames, Ot.sharedf = Ye.sharedf, Ot.arrayf = Ye.arrayf, Ot.names = [], Ot.XTI = [];
      var At, Dt = 0, Tt = 0, ct = 0, Kt = [], Qt = [];
      Ye.codepage = 1200, f(1200);
      for (var hr = !1; h.l < h.length - 1; ) {
        var Gr = h.l, Ht = h.read_shift(2);
        if (Ht === 0 && Dt === 10)
          break;
        var yt = h.l === h.length ? 0 : h.read_shift(2), Mr = o4[Ht];
        if (Mr && Mr.f) {
          if (g.bookSheets && Dt === 133 && Ht !== 133)
            break;
          if (Dt = Ht, Mr.r === 2 || Mr.r == 12) {
            var on = h.read_shift(2);
            if (yt -= 2, !Ye.enc && on !== Ht && ((255 & on) << 8 | on >> 8) !== Ht)
              throw new Error("rt mismatch: " + on + "!=" + Ht);
            Mr.r == 12 && (h.l += 10, yt -= 10);
          }
          var Zr, bn, pi, Ne = {}, Ne = Ht === 10 ? Mr.f(h, yt, Ye) : function(He, rt, wt, ar, jt) {
            var Ft = ar, rr = [], sr = wt.slice(wt.l, wt.l + Ft);
            if (jt && jt.enc && jt.enc.insitu && 0 < sr.length)
              switch (He) {
                case 9:
                case 521:
                case 1033:
                case 2057:
                case 47:
                case 405:
                case 225:
                case 406:
                case 312:
                case 404:
                case 10:
                case 133:
                  break;
                default:
                  jt.enc.insitu(sr);
              }
            rr.push(sr), wt.l += Ft;
            for (var lr = Wl(wt, wt.l), Mt = o4[lr], St = 0; Mt != null && -1 < _re.indexOf(lr); )
              Ft = Wl(wt, wt.l + 2), St = wt.l + 4, lr == 2066 ? St += 4 : lr != 2165 && lr != 2175 || (St += 12), sr = wt.slice(St, wt.l + 4 + Ft), rr.push(sr), wt.l += 4 + Ft, Mt = o4[lr = Wl(wt, wt.l)];
            var ur = G(rr);
            da(ur, 0);
            var $t = 0;
            ur.lens = [];
            for (var Et = 0; Et < rr.length; ++Et)
              ur.lens.push($t), $t += rr[Et].length;
            if (ur.length < ar)
              throw "XLS Record 0x" + He.toString(16) + " Truncated: " + ur.length + " < " + ar;
            return rt.f(ur, ur.length, jt);
          }(Ht, Mr, h, yt, Ye);
          if (Tt != 0 || [9, 521, 1033, 2057].indexOf(Dt) !== -1)
            switch (Ht) {
              case 34:
                m.opts.Date1904 = ze.WBProps.date1904 = Ne;
                break;
              case 134:
                m.opts.WriteProtect = !0;
                break;
              case 47:
                if (Ye.enc || (h.l = 0), Ye.enc = Ne, !g.password)
                  throw new Error("File is password-protected");
                if (Ne.valid == null)
                  throw new Error("Encryption scheme unsupported");
                if (!Ne.valid)
                  throw new Error("Password is incorrect");
                break;
              case 92:
                Ye.lastuser = Ne;
                break;
              case 66:
                var wn = Number(Ne);
                switch (wn) {
                  case 21010:
                    wn = 1200;
                    break;
                  case 32768:
                    wn = 1e4;
                    break;
                  case 32769:
                    wn = 1252;
                }
                f(Ye.codepage = wn), hr = !0;
                break;
              case 317:
                Ye.rrtabid = Ne;
                break;
              case 25:
                Ye.winlocked = Ne;
                break;
              case 439:
                m.opts.RefreshAll = Ne;
                break;
              case 12:
                m.opts.CalcCount = Ne;
                break;
              case 16:
                m.opts.CalcDelta = Ne;
                break;
              case 17:
                m.opts.CalcIter = Ne;
                break;
              case 13:
                m.opts.CalcMode = Ne;
                break;
              case 14:
                m.opts.CalcPrecision = Ne;
                break;
              case 95:
                m.opts.CalcSaveRecalc = Ne;
                break;
              case 15:
                Ye.CalcRefMode = Ne;
                break;
              case 2211:
                m.opts.FullCalc = Ne;
                break;
              case 129:
                Ne.fDialog && (W["!type"] = "dialog"), Ne.fBelow || ((W["!outline"] || (W["!outline"] = {})).above = !0), Ne.fRight || ((W["!outline"] || (W["!outline"] = {})).left = !0);
                break;
              case 224:
                Ce.push(Ne);
                break;
              case 430:
                Ot.push([Ne]), Ot[Ot.length - 1].XTI = [];
                break;
              case 35:
              case 547:
                Ot[Ot.length - 1].push(Ne);
                break;
              case 24:
              case 536:
                At = { Name: Ne.Name, Ref: qa(Ne.rgce, 0, null, Ot, Ye) }, 0 < Ne.itab && (At.Sheet = Ne.itab - 1), Ot.names.push(At), Ot[0] || (Ot[0] = [], Ot[0].XTI = []), Ot[Ot.length - 1].push(Ne), Ne.Name == "_xlnm._FilterDatabase" && 0 < Ne.itab && Ne.rgce && Ne.rgce[0] && Ne.rgce[0][0] && Ne.rgce[0][0][0] == "PtgArea3d" && (Qt[Ne.itab - 1] = { ref: Ur(Ne.rgce[0][0][1][2]) });
                break;
              case 22:
                Ye.ExternCount = Ne;
                break;
              case 23:
                Ot.length == 0 && (Ot[0] = [], Ot[0].XTI = []), Ot[Ot.length - 1].XTI = Ot[Ot.length - 1].XTI.concat(Ne), Ot.XTI = Ot.XTI.concat(Ne);
                break;
              case 2196:
                if (Ye.biff < 8)
                  break;
                At != null && (At.Comment = Ne[1]);
                break;
              case 18:
                W["!protect"] = Ne;
                break;
              case 19:
                Ne !== 0 && Ye.WTF && console.error("Password verifier: " + Ne);
                break;
              case 133:
                H[Ne.pos] = Ne, Ye.snames.push(Ne.name);
                break;
              case 10:
                if (--Tt)
                  break;
                j.e && (0 < j.e.r && 0 < j.e.c && (j.e.r--, j.e.c--, W["!ref"] = Ur(j), g.sheetRows && g.sheetRows <= j.e.r && (mn = j.e.r, j.e.r = g.sheetRows - 1, W["!fullref"] = W["!ref"], W["!ref"] = Ur(j), j.e.r = mn), j.e.r++, j.e.c++), 0 < it.length && (W["!merges"] = it), 0 < at.length && (W["!objects"] = at), 0 < Xe.length && (W["!cols"] = Xe), 0 < _t.length && (W["!rows"] = _t), ze.Sheets.push(Be)), _e === "" ? ue = W : b[_e] = W, W = g.dense ? [] : {};
                break;
              case 9:
              case 521:
              case 1033:
              case 2057:
                if (Ye.biff === 8 && (Ye.biff = { 9: 2, 521: 3, 1033: 4 }[Ht] || { 512: 2, 768: 3, 1024: 4, 1280: 5, 1536: 8, 2: 2, 7: 2 }[Ne.BIFFVer] || 8), Ye.biffguess = Ne.BIFFVer == 0, Ne.BIFFVer == 0 && Ne.dt == 4096 && (Ye.biff = 5, hr = !0, f(Ye.codepage = 28591)), Ye.biff == 8 && Ne.BIFFVer == 0 && Ne.dt == 16 && (Ye.biff = 2), Tt++)
                  break;
                var mn, W = g.dense ? [] : {};
                Ye.biff < 8 && !hr && (hr = !0, f(Ye.codepage = g.codepage || 1252)), Ye.biff < 5 || Ne.BIFFVer == 0 && Ne.dt == 4096 ? (_e === "" && (_e = "Sheet1"), j = { s: { r: 0, c: 0 }, e: { r: 0, c: 0 } }, mn = { pos: h.l - yt, name: _e }, H[mn.pos] = mn, Ye.snames.push(_e)) : _e = (H[Gr] || { name: "" }).name, Ne.dt == 32 && (W["!type"] = "chart"), Ne.dt == 64 && (W["!type"] = "macro"), it = [], at = [], Ye.arrayf = Te = [], Xe = [], Vt = !(_t = []), Be = { Hidden: (H[Gr] || { hs: 0 }).hs, name: _e };
                break;
              case 515:
              case 3:
              case 2:
                W["!type"] == "chart" && (g.dense ? (W[Ne.r] || [])[Ne.c] : W[kr({ c: Ne.c, r: Ne.r })]) && ++Ne.c, Me = { ixfe: Ne.ixfe, XF: Ce[Ne.ixfe] || {}, v: Ne.val, t: "n" }, 0 < ct && (Me.z = Kt[Me.ixfe >> 8 & 63]), el(Me, g, m.opts.Date1904), A({ c: Ne.c, r: Ne.r }, Me, g);
                break;
              case 5:
              case 517:
                Me = { ixfe: Ne.ixfe, XF: Ce[Ne.ixfe], v: Ne.val, t: Ne.t }, 0 < ct && (Me.z = Kt[Me.ixfe >> 8 & 63]), el(Me, g, m.opts.Date1904), A({ c: Ne.c, r: Ne.r }, Me, g);
                break;
              case 638:
                Me = { ixfe: Ne.ixfe, XF: Ce[Ne.ixfe], v: Ne.rknum, t: "n" }, 0 < ct && (Me.z = Kt[Me.ixfe >> 8 & 63]), el(Me, g, m.opts.Date1904), A({ c: Ne.c, r: Ne.r }, Me, g);
                break;
              case 189:
                for (var Yi = Ne.c; Yi <= Ne.C; ++Yi) {
                  var zo = Ne.rkrec[Yi - Ne.c][0], Me = { ixfe: zo, XF: Ce[zo], v: Ne.rkrec[Yi - Ne.c][1], t: "n" };
                  0 < ct && (Me.z = Kt[Me.ixfe >> 8 & 63]), el(Me, g, m.opts.Date1904), A({ c: Yi, r: Ne.r }, Me, g);
                }
                break;
              case 6:
              case 518:
              case 1030:
                if (Ne.val == "String") {
                  oe = Ne;
                  break;
                }
                (Me = ey(Ne.val, Ne.cell.ixfe, Ne.tt)).XF = Ce[Me.ixfe], g.cellFormula && (!((Ze = Ne.formula) && Ze[0] && Ze[0][0] && Ze[0][0][0] == "PtgExp") || me[pi = kr({ r: Zr = Ze[0][0][1][0], c: bn = Ze[0][0][1][1] })] ? Me.f = "" + qa(Ne.formula, 0, Ne.cell, Ot, Ye) : Me.F = ((g.dense ? (W[Zr] || [])[bn] : W[pi]) || {}).F), 0 < ct && (Me.z = Kt[Me.ixfe >> 8 & 63]), el(Me, g, m.opts.Date1904), A(Ne.cell, Me, g), oe = Ne;
                break;
              case 7:
              case 519:
                if (!oe)
                  throw new Error("String record expects Formula");
                (Me = ey(oe.val = Ne, oe.cell.ixfe, "s")).XF = Ce[Me.ixfe], g.cellFormula && (Me.f = "" + qa(oe.formula, 0, oe.cell, Ot, Ye)), 0 < ct && (Me.z = Kt[Me.ixfe >> 8 & 63]), el(Me, g, m.opts.Date1904), A(oe.cell, Me, g), oe = null;
                break;
              case 33:
              case 545:
                Te.push(Ne);
                var Ze = kr(Ne[0].s), Oe = g.dense ? (W[Ne[0].s.r] || [])[Ne[0].s.c] : W[Ze];
                if (g.cellFormula && Oe) {
                  if (!oe || !Ze || !Oe)
                    break;
                  Oe.f = "" + qa(Ne[1], 0, Ne[0], Ot, Ye), Oe.F = Ur(Ne[0]);
                }
                break;
              case 1212:
                if (!g.cellFormula)
                  break;
                if (ee) {
                  if (!oe)
                    break;
                  me[kr(oe.cell)] = Ne[0], ((Oe = g.dense ? (W[oe.cell.r] || [])[oe.cell.c] : W[kr(oe.cell)]) || {}).f = "" + qa(Ne[0], 0, C, Ot, Ye);
                }
                break;
              case 253:
                Me = ey(X[Ne.isst].t, Ne.ixfe, "s"), X[Ne.isst].h && (Me.h = X[Ne.isst].h), Me.XF = Ce[Me.ixfe], 0 < ct && (Me.z = Kt[Me.ixfe >> 8 & 63]), el(Me, g, m.opts.Date1904), A({ c: Ne.c, r: Ne.r }, Me, g);
                break;
              case 513:
                g.sheetStubs && (Me = { ixfe: Ne.ixfe, XF: Ce[Ne.ixfe], t: "z" }, 0 < ct && (Me.z = Kt[Me.ixfe >> 8 & 63]), el(Me, g, m.opts.Date1904), A({ c: Ne.c, r: Ne.r }, Me, g));
                break;
              case 190:
                if (g.sheetStubs)
                  for (var je = Ne.c; je <= Ne.C; ++je) {
                    var Le = Ne.ixfe[je - Ne.c];
                    Me = { ixfe: Le, XF: Ce[Le], t: "z" }, 0 < ct && (Me.z = Kt[Me.ixfe >> 8 & 63]), el(Me, g, m.opts.Date1904), A({ c: je, r: Ne.r }, Me, g);
                  }
                break;
              case 214:
              case 516:
              case 4:
                (Me = ey(Ne.val, Ne.ixfe, "s")).XF = Ce[Me.ixfe], 0 < ct && (Me.z = Kt[Me.ixfe >> 8 & 63]), el(Me, g, m.opts.Date1904), A({ c: Ne.c, r: Ne.r }, Me, g);
                break;
              case 0:
              case 512:
                Tt === 1 && (j = Ne);
                break;
              case 252:
                X = Ne;
                break;
              case 1054:
                if (Ye.biff == 4) {
                  Kt[ct++] = Ne[1];
                  for (var dt = 0; dt < ct + 163 && De[dt] != Ne[1]; ++dt)
                    ;
                  163 <= dt && yr(Ne[1], ct + 163);
                } else
                  yr(Ne[1], Ne[0]);
                break;
              case 30:
                Kt[ct++] = Ne;
                for (var qe = 0; qe < ct + 163 && De[qe] != Ne; ++qe)
                  ;
                163 <= qe && yr(Ne, ct + 163);
                break;
              case 229:
                it = it.concat(Ne);
                break;
              case 93:
                at[Ne.cmo[0]] = Ye.lastobj = Ne;
                break;
              case 438:
                Ye.lastobj.TxO = Ne;
                break;
              case 127:
                Ye.lastobj.ImData = Ne;
                break;
              case 440:
                for (I = Ne[0].s.r; I <= Ne[0].e.r; ++I)
                  for (D = Ne[0].s.c; D <= Ne[0].e.c; ++D)
                    (Oe = g.dense ? (W[I] || [])[D] : W[kr({ c: D, r: I })]) && (Oe.l = Ne[1]);
                break;
              case 2048:
                for (I = Ne[0].s.r; I <= Ne[0].e.r; ++I)
                  for (D = Ne[0].s.c; D <= Ne[0].e.c; ++D)
                    (Oe = g.dense ? (W[I] || [])[D] : W[kr({ c: D, r: I })]) && Oe.l && (Oe.l.Tooltip = Ne[1]);
                break;
              case 28:
                if (Ye.biff <= 5 && 2 <= Ye.biff)
                  break;
                Oe = g.dense ? (W[Ne[0].r] || [])[Ne[0].c] : W[kr(Ne[0])];
                var Qe = at[Ne[2]];
                Oe || (Oe = g.dense ? (W[Ne[0].r] || (W[Ne[0].r] = []), W[Ne[0].r][Ne[0].c] = { t: "z" }) : W[kr(Ne[0])] = { t: "z" }, j.e.r = Math.max(j.e.r, Ne[0].r), j.s.r = Math.min(j.s.r, Ne[0].r), j.e.c = Math.max(j.e.c, Ne[0].c), j.s.c = Math.min(j.s.c, Ne[0].c)), Oe.c || (Oe.c = []), Qe = { a: Ne[1], t: Qe.TxO.t }, Oe.c.push(Qe);
                break;
              case 2173:
                Ce[Ne.ixfe], Ne.ext.forEach(function(rt) {
                  rt[0];
                });
                break;
              case 125:
                if (!Ye.cellStyles)
                  break;
                for (; Ne.e >= Ne.s; )
                  Xe[Ne.e--] = { width: Ne.w / 256, level: Ne.level || 0, hidden: !!(1 & Ne.flags) }, Vt || (Vt = !0, jx(Ne.w / 256)), lc(Xe[Ne.e + 1]);
                break;
              case 520:
                Qe = {}, Ne.level != null && ((_t[Ne.r] = Qe).level = Ne.level), Ne.hidden && ((_t[Ne.r] = Qe).hidden = !0), Ne.hpt && ((_t[Ne.r] = Qe).hpt = Ne.hpt, Qe.hpx = Hd(Ne.hpt));
                break;
              case 38:
              case 39:
              case 40:
              case 41:
                W["!margins"] || Eh(W["!margins"] = {}), W["!margins"][{ 38: "left", 39: "right", 40: "top", 41: "bottom" }[Ht]] = Ne;
                break;
              case 161:
                W["!margins"] || Eh(W["!margins"] = {}), W["!margins"].header = Ne.header, W["!margins"].footer = Ne.footer;
                break;
              case 574:
                Ne.RTL && (ze.Views[0].RTL = !0);
                break;
              case 146:
                Fe = Ne;
                break;
              case 2198:
                N = Ne;
                break;
              case 140:
                R = Ne;
                break;
              case 442:
                _e ? Be.CodeName = Ne || Be.name : ze.WBProps.CodeName = Ne || "ThisWorkbook";
            }
        } else
          Mr || console.error("Missing Info for XLS Record 0x" + Ht.toString(16)), h.l += yt;
      }
      return m.SheetNames = hi(H).sort(function(He, rt) {
        return Number(He) - Number(rt);
      }).map(function(He) {
        return H[He].name;
      }), g.bookSheets || (m.Sheets = b), !m.SheetNames.length && ue["!ref"] ? (m.SheetNames.push("Sheet1"), m.Sheets && (m.Sheets.Sheet1 = ue)) : m.Preamble = ue, m.Sheets && Qt.forEach(function(He, rt) {
        m.Sheets[m.SheetNames[rt]]["!autofilter"] = He;
      }), m.Strings = X, m.SSF = Un(De), Ye.enc && (m.Encryption = Ye.enc), N && (m.Themes = N), m.Metadata = {}, R !== void 0 && (m.Metadata.Country = R), 0 < Ot.names.length && (ze.Names = Ot.names), m.Workbook = ze, m;
    }
    var Cv = { SI: "e0859ff2f94f6810ab9108002b27b3d9", DSI: "02d5cdd59c2e1b10939708002b2cf9ae", UDI: "05d5cdd59c2e1b10939708002b2cf9ae" };
    function ty(h, g) {
      var m, b, T, A, C;
      if (h4(g = g || {}), d(), g.codepage && c(g.codepage), h.FullPaths) {
        if (tr.find(h, "/encryption"))
          throw new Error("File is password-protected");
        m = tr.find(h, "!CompObj"), T = tr.find(h, "/Workbook") || tr.find(h, "/Book");
      } else {
        switch (g.type) {
          case "base64":
            h = F(E(h));
            break;
          case "binary":
            h = F(h);
            break;
          case "buffer":
            break;
          case "array":
            Array.isArray(h) || (h = Array.prototype.slice.call(h));
        }
        da(h, 0), T = { content: h };
      }
      if (m && yre(m), g.bookProps && !g.bookSheets)
        b = {};
      else {
        var D = M ? "buffer" : "array";
        if (T && T.content)
          b = bre(T.content, g);
        else if ((T = tr.find(h, "PerfectOffice_MAIN")) && T.content)
          b = Ah.to_workbook(T.content, (g.type = D, g));
        else {
          if (!(T = tr.find(h, "NativeContent_MAIN")) || !T.content)
            throw (T = tr.find(h, "MN0")) && T.content ? new Error("Unsupported Works 4 for Mac file") : new Error("Cannot find Workbook stream");
          b = Ah.to_workbook(T.content, (g.type = D, g));
        }
        g.bookVBA && h.FullPaths && tr.find(h, "/_VBA_PROJECT_CUR/VBA/dir") && (b.vbaraw = (A = h, C = tr.utils.cfb_new({ root: "R" }), A.FullPaths.forEach(function(I, R) {
          I.slice(-1) !== "/" && I.match(/_VBA_PROJECT_CUR/) && (I = I.replace(/^[^\/]*/, "R").replace(/\/_VBA_PROJECT_CUR\u0000*/, ""), tr.utils.cfb_add(C, I, A.FileIndex[R].content));
        }), tr.write(C)));
      }
      return D = {}, h.FullPaths && function(I, R, N) {
        var W = tr.find(I, "/!DocumentSummaryInformation");
        if (W && 0 < W.size)
          try {
            var H, j = II(W, Dx, Cv.DSI);
            for (H in j)
              R[H] = j[H];
          } catch (ue) {
            if (N.WTF)
              throw ue;
          }
        var oe = tr.find(I, "/!SummaryInformation");
        if (oe && 0 < oe.size)
          try {
            var X, _e = II(oe, kx, Cv.SI);
            for (X in _e)
              R[X] == null && (R[X] = _e[X]);
          } catch (ue) {
            if (N.WTF)
              throw ue;
          }
        R.HeadingPairs && R.TitlesOfParts && (mI(R.HeadingPairs, R.TitlesOfParts, R, N), delete R.HeadingPairs, delete R.TitlesOfParts);
      }(h, D, g), b.Props = b.Custprops = D, g.bookFiles && (b.cfb = h), b;
    }
    function wre(h, A) {
      var m, b, T = A || {}, A = tr.utils.cfb_new({ root: "R" }), C = "/Workbook";
      switch (T.bookType || "xls") {
        case "xls":
          T.bookType = "biff8";
        case "xla":
          T.bookType || (T.bookType = "xla");
        case "biff8":
          C = "/Workbook", T.biff = 8;
          break;
        case "biff5":
          C = "/Book", T.biff = 5;
          break;
        default:
          throw new Error("invalid type " + T.bookType + " for XLS CFB");
      }
      return tr.utils.cfb_add(A, C, O9(h, T)), T.biff == 8 && (h.Props || h.Custprops) && function(D, I) {
        var R, N = [], W = [], H = [], j = 0, oe = SM(Dx, "n"), X = SM(kx, "n");
        if (D.Props)
          for (R = hi(D.Props), j = 0; j < R.length; ++j)
            (Object.prototype.hasOwnProperty.call(oe, R[j]) ? N : Object.prototype.hasOwnProperty.call(X, R[j]) ? W : H).push([R[j], D.Props[R[j]]]);
        if (D.Custprops)
          for (R = hi(D.Custprops), j = 0; j < R.length; ++j)
            Object.prototype.hasOwnProperty.call(D.Props || {}, R[j]) || (Object.prototype.hasOwnProperty.call(oe, R[j]) ? N : Object.prototype.hasOwnProperty.call(X, R[j]) ? W : H).push([R[j], D.Custprops[R[j]]]);
        for (var _e = [], j = 0; j < H.length; ++j)
          -1 < kI.indexOf(H[j][0]) || -1 < gI.indexOf(H[j][0]) || H[j][1] != null && _e.push(H[j]);
        W.length && tr.utils.cfb_add(I, "/SummaryInformation", PI(W, Cv.SI, X, kx)), (N.length || _e.length) && tr.utils.cfb_add(I, "/DocumentSummaryInformation", PI(N, Cv.DSI, oe, Dx, _e.length ? _e : null, Cv.UDI));
      }(h, A), T.biff == 8 && h.vbaraw && (m = A, (b = tr.read(h.vbaraw, { type: typeof h.vbaraw == "string" ? "binary" : "buffer" })).FullPaths.forEach(function(D, I) {
        I == 0 || (D = D.replace(/[^\/]*[\/]/, "/_VBA_PROJECT_CUR/")).slice(-1) !== "/" && tr.utils.cfb_add(m, D, b.FileIndex[I].content);
      })), A;
    }
    var Av = { 0: { f: function(h, g) {
      var m = {}, b = h.l + g;
      m.r = h.read_shift(4), h.l += 4;
      var T = h.read_shift(2);
      return h.l += 1, g = h.read_shift(1), h.l = b, 7 & g && (m.level = 7 & g), 16 & g && (m.hidden = !0), 32 & g && (m.hpt = T / 20), m;
    } }, 1: { f: function(h) {
      return [Fo(h)];
    } }, 2: { f: function(h) {
      return [Fo(h), Ax(h), "n"];
    } }, 3: { f: function(h) {
      return [Fo(h), h.read_shift(1), "e"];
    } }, 4: { f: function(h) {
      return [Fo(h), h.read_shift(1), "b"];
    } }, 5: { f: function(h) {
      return [Fo(h), Da(h), "n"];
    } }, 6: { f: function(h) {
      return [Fo(h), Ea(h), "str"];
    } }, 7: { f: function(h) {
      return [Fo(h), h.read_shift(4), "s"];
    } }, 8: { f: function(h, g, m) {
      var b = h.l + g, T = Fo(h);
      T.r = m["!row"];
      var A = [T, Ea(h), "str"];
      return m.cellFormula ? (h.l += 2, g = Zm(h, b - h.l, m), A[3] = qa(g, 0, T, m.supbooks, m)) : h.l = b, A;
    } }, 9: { f: function(h, g, m) {
      var b = h.l + g, T = Fo(h);
      T.r = m["!row"];
      var A = [T, Da(h), "n"];
      return m.cellFormula ? (h.l += 2, g = Zm(h, b - h.l, m), A[3] = qa(g, 0, T, m.supbooks, m)) : h.l = b, A;
    } }, 10: { f: function(h, g, m) {
      var b = h.l + g, T = Fo(h);
      T.r = m["!row"];
      var A = [T, h.read_shift(1), "b"];
      return m.cellFormula ? (h.l += 2, g = Zm(h, b - h.l, m), A[3] = qa(g, 0, T, m.supbooks, m)) : h.l = b, A;
    } }, 11: { f: function(h, g, m) {
      var b = h.l + g, T = Fo(h);
      T.r = m["!row"];
      var A = [T, h.read_shift(1), "e"];
      return m.cellFormula ? (h.l += 2, g = Zm(h, b - h.l, m), A[3] = qa(g, 0, T, m.supbooks, m)) : h.l = b, A;
    } }, 12: { f: function(h) {
      return [_h(h)];
    } }, 13: { f: function(h) {
      return [_h(h), Ax(h), "n"];
    } }, 14: { f: function(h) {
      return [_h(h), h.read_shift(1), "e"];
    } }, 15: { f: function(h) {
      return [_h(h), h.read_shift(1), "b"];
    } }, 16: { f: T9 }, 17: { f: function(h) {
      return [_h(h), Ea(h), "str"];
    } }, 18: { f: function(h) {
      return [_h(h), h.read_shift(4), "s"];
    } }, 19: { f: Sx }, 20: {}, 21: {}, 22: {}, 23: {}, 24: {}, 25: {}, 26: {}, 27: {}, 28: {}, 29: {}, 30: {}, 31: {}, 32: {}, 33: {}, 34: {}, 35: { T: 1 }, 36: { T: -1 }, 37: { T: 1 }, 38: { T: -1 }, 39: { f: function(h, C, D) {
      var b = h.l + C;
      h.l += 4, h.l += 1;
      var T = h.read_shift(4), A = QQ(h), C = mte(h, 0, D), D = xx(h);
      return h.l = b, C = { Name: A, Ptg: C }, T < 268435455 && (C.Sheet = T), D && (C.Comment = D), C;
    } }, 40: {}, 42: {}, 43: { f: function(h, g, m) {
      var b = {};
      b.sz = h.read_shift(2) / 20;
      var T, A = (A = (T = h).read_shift(1), T.l++, { fBold: 1 & A, fItalic: 2 & A, fUnderline: 4 & A, fStrikeout: 8 & A, fOutline: 16 & A, fShadow: 32 & A, fCondense: 64 & A, fExtend: 128 & A });
      switch (A.fItalic && (b.italic = 1), A.fCondense && (b.condense = 1), A.fExtend && (b.extend = 1), A.fShadow && (b.shadow = 1), A.fOutline && (b.outline = 1), A.fStrikeout && (b.strike = 1), h.read_shift(2) === 700 && (b.bold = 1), h.read_shift(2)) {
        case 1:
          b.vertAlign = "superscript";
          break;
        case 2:
          b.vertAlign = "subscript";
      }
      switch ((A = h.read_shift(1)) != 0 && (b.underline = A), 0 < (A = h.read_shift(1)) && (b.family = A), 0 < (A = h.read_shift(1)) && (b.charset = A), h.l++, b.color = function(C) {
        var D = {}, I = C.read_shift(1) >>> 1, R = C.read_shift(1), N = C.read_shift(2, "i"), W = C.read_shift(1), H = C.read_shift(1), j = C.read_shift(1);
        switch (C.l++, I) {
          case 0:
            D.auto = 1;
            break;
          case 1:
            D.index = R;
            var oe = sv[R];
            oe && (D.rgb = dv(oe));
            break;
          case 2:
            D.rgb = dv([W, H, j]);
            break;
          case 3:
            D.theme = R;
        }
        return N != 0 && (D.tint = 0 < N ? N / 32767 : N / 32768), D;
      }(h), h.read_shift(1)) {
        case 1:
          b.scheme = "major";
          break;
        case 2:
          b.scheme = "minor";
      }
      return b.name = Ea(h), b;
    } }, 44: { f: function(h, g) {
      return [h.read_shift(2), Ea(h)];
    } }, 45: { f: zee }, 46: { f: xm }, 47: { f: function(h, T) {
      var m = h.l + T, b = h.read_shift(2), T = h.read_shift(2);
      return h.l = m, { ixfe: b, numFmtId: T };
    } }, 48: {}, 49: { f: function(h) {
      return h.read_shift(4, "i");
    } }, 50: {}, 51: { f: function(h) {
      for (var g = [], m = h.read_shift(4); 0 < m--; )
        g.push([h.read_shift(4), h.read_shift(4)]);
      return g;
    } }, 52: { T: 1 }, 53: { T: -1 }, 54: { T: 1 }, 55: { T: -1 }, 56: { T: 1 }, 57: { T: -1 }, 58: {}, 59: {}, 60: { f: JI }, 62: { f: function(h) {
      return [Fo(h), Sx(h), "is"];
    } }, 63: { f: function(h) {
      var g = {};
      g.i = h.read_shift(4);
      var m = {};
      return m.r = h.read_shift(4), m.c = h.read_shift(4), g.r = kr(m), 2 & (h = h.read_shift(1)) && (g.l = "1"), 8 & h && (g.a = "1"), g;
    } }, 64: { f: function() {
    } }, 65: {}, 66: {}, 67: {}, 68: {}, 69: {}, 70: {}, 128: {}, 129: { T: 1 }, 130: { T: -1 }, 131: { T: 1, f: Aa, p: 0 }, 132: { T: -1 }, 133: { T: 1 }, 134: { T: -1 }, 135: { T: 1 }, 136: { T: -1 }, 137: { T: 1, f: function(h) {
      var g = h.read_shift(2);
      return h.l += 28, { RTL: 32 & g };
    } }, 138: { T: -1 }, 139: { T: 1 }, 140: { T: -1 }, 141: { T: 1 }, 142: { T: -1 }, 143: { T: 1 }, 144: { T: -1 }, 145: { T: 1 }, 146: { T: -1 }, 147: { f: function(h, g) {
      var m = {}, b = h[h.l];
      return ++h.l, m.above = !(64 & b), m.left = !(128 & b), h.l += 18, m.name = JQ(h), m;
    } }, 148: { f: Qm, p: 16 }, 151: { f: function() {
    } }, 152: {}, 153: { f: function(h, g) {
      var m = {}, b = h.read_shift(4);
      return m.defaultThemeVersion = h.read_shift(4), 0 < (h = 8 < g ? Ea(h) : "").length && (m.CodeName = h), m.autoCompressPictures = !!(65536 & b), m.backupFile = !!(64 & b), m.checkCompatibility = !!(4096 & b), m.date1904 = !!(1 & b), m.filterPrivacy = !!(8 & b), m.hidePivotFieldList = !!(1024 & b), m.promptedSolutions = !!(16 & b), m.publishItems = !!(2048 & b), m.refreshAllConnections = !!(262144 & b), m.saveExternalLinkValues = !!(128 & b), m.showBorderUnselectedTables = !!(4 & b), m.showInkAnnotation = !!(32 & b), m.showObjects = ["all", "placeholders", "none"][b >> 13 & 3], m.showPivotChartFilter = !!(32768 & b), m.updateLinks = ["userSet", "never", "always"][b >> 8 & 3], m;
    } }, 154: {}, 155: {}, 156: { f: function(h, g) {
      var m = {};
      return m.Hidden = h.read_shift(4), m.iTabID = h.read_shift(4), m.strRelID = Tx(h), m.name = Ea(h), m;
    } }, 157: {}, 158: {}, 159: { T: 1, f: function(h) {
      return [h.read_shift(4), h.read_shift(4)];
    } }, 160: { T: -1 }, 161: { T: 1, f: wh }, 162: { T: -1 }, 163: { T: 1 }, 164: { T: -1 }, 165: { T: 1 }, 166: { T: -1 }, 167: {}, 168: {}, 169: {}, 170: {}, 171: {}, 172: { T: 1 }, 173: { T: -1 }, 174: {}, 175: {}, 176: { f: qd }, 177: { T: 1 }, 178: { T: -1 }, 179: { T: 1 }, 180: { T: -1 }, 181: { T: 1 }, 182: { T: -1 }, 183: { T: 1 }, 184: { T: -1 }, 185: { T: 1 }, 186: { T: -1 }, 187: { T: 1 }, 188: { T: -1 }, 189: { T: 1 }, 190: { T: -1 }, 191: { T: 1 }, 192: { T: -1 }, 193: { T: 1 }, 194: { T: -1 }, 195: { T: 1 }, 196: { T: -1 }, 197: { T: 1 }, 198: { T: -1 }, 199: { T: 1 }, 200: { T: -1 }, 201: { T: 1 }, 202: { T: -1 }, 203: { T: 1 }, 204: { T: -1 }, 205: { T: 1 }, 206: { T: -1 }, 207: { T: 1 }, 208: { T: -1 }, 209: { T: 1 }, 210: { T: -1 }, 211: { T: 1 }, 212: { T: -1 }, 213: { T: 1 }, 214: { T: -1 }, 215: { T: 1 }, 216: { T: -1 }, 217: { T: 1 }, 218: { T: -1 }, 219: { T: 1 }, 220: { T: -1 }, 221: { T: 1 }, 222: { T: -1 }, 223: { T: 1 }, 224: { T: -1 }, 225: { T: 1 }, 226: { T: -1 }, 227: { T: 1 }, 228: { T: -1 }, 229: { T: 1 }, 230: { T: -1 }, 231: { T: 1 }, 232: { T: -1 }, 233: { T: 1 }, 234: { T: -1 }, 235: { T: 1 }, 236: { T: -1 }, 237: { T: 1 }, 238: { T: -1 }, 239: { T: 1 }, 240: { T: -1 }, 241: { T: 1 }, 242: { T: -1 }, 243: { T: 1 }, 244: { T: -1 }, 245: { T: 1 }, 246: { T: -1 }, 247: { T: 1 }, 248: { T: -1 }, 249: { T: 1 }, 250: { T: -1 }, 251: { T: 1 }, 252: { T: -1 }, 253: { T: 1 }, 254: { T: -1 }, 255: { T: 1 }, 256: { T: -1 }, 257: { T: 1 }, 258: { T: -1 }, 259: { T: 1 }, 260: { T: -1 }, 261: { T: 1 }, 262: { T: -1 }, 263: { T: 1 }, 264: { T: -1 }, 265: { T: 1 }, 266: { T: -1 }, 267: { T: 1 }, 268: { T: -1 }, 269: { T: 1 }, 270: { T: -1 }, 271: { T: 1 }, 272: { T: -1 }, 273: { T: 1 }, 274: { T: -1 }, 275: { T: 1 }, 276: { T: -1 }, 277: {}, 278: { T: 1 }, 279: { T: -1 }, 280: { T: 1 }, 281: { T: -1 }, 282: { T: 1 }, 283: { T: 1 }, 284: { T: -1 }, 285: { T: 1 }, 286: { T: -1 }, 287: { T: 1 }, 288: { T: -1 }, 289: { T: 1 }, 290: { T: -1 }, 291: { T: 1 }, 292: { T: -1 }, 293: { T: 1 }, 294: { T: -1 }, 295: { T: 1 }, 296: { T: -1 }, 297: { T: 1 }, 298: { T: -1 }, 299: { T: 1 }, 300: { T: -1 }, 301: { T: 1 }, 302: { T: -1 }, 303: { T: 1 }, 304: { T: -1 }, 305: { T: 1 }, 306: { T: -1 }, 307: { T: 1 }, 308: { T: -1 }, 309: { T: 1 }, 310: { T: -1 }, 311: { T: 1 }, 312: { T: -1 }, 313: { T: -1 }, 314: { T: 1 }, 315: { T: -1 }, 316: { T: 1 }, 317: { T: -1 }, 318: { T: 1 }, 319: { T: -1 }, 320: { T: 1 }, 321: { T: -1 }, 322: { T: 1 }, 323: { T: -1 }, 324: { T: 1 }, 325: { T: -1 }, 326: { T: 1 }, 327: { T: -1 }, 328: { T: 1 }, 329: { T: -1 }, 330: { T: 1 }, 331: { T: -1 }, 332: { T: 1 }, 333: { T: -1 }, 334: { T: 1 }, 335: { f: function(h, g) {
      return { flags: h.read_shift(4), version: h.read_shift(4), name: Ea(h) };
    } }, 336: { T: -1 }, 337: { f: function(h) {
      return h.l += 4, h.read_shift(4) != 0;
    }, T: 1 }, 338: { T: -1 }, 339: { T: 1 }, 340: { T: -1 }, 341: { T: 1 }, 342: { T: -1 }, 343: { T: 1 }, 344: { T: -1 }, 345: { T: 1 }, 346: { T: -1 }, 347: { T: 1 }, 348: { T: -1 }, 349: { T: 1 }, 350: { T: -1 }, 351: {}, 352: {}, 353: { T: 1 }, 354: { T: -1 }, 355: { f: Tx }, 357: {}, 358: {}, 359: {}, 360: { T: 1 }, 361: {}, 362: { f: KI }, 363: {}, 364: {}, 366: {}, 367: {}, 368: {}, 369: {}, 370: {}, 371: {}, 372: { T: 1 }, 373: { T: -1 }, 374: { T: 1 }, 375: { T: -1 }, 376: { T: 1 }, 377: { T: -1 }, 378: { T: 1 }, 379: { T: -1 }, 380: { T: 1 }, 381: { T: -1 }, 382: { T: 1 }, 383: { T: -1 }, 384: { T: 1 }, 385: { T: -1 }, 386: { T: 1 }, 387: { T: -1 }, 388: { T: 1 }, 389: { T: -1 }, 390: { T: 1 }, 391: { T: -1 }, 392: { T: 1 }, 393: { T: -1 }, 394: { T: 1 }, 395: { T: -1 }, 396: {}, 397: {}, 398: {}, 399: {}, 400: {}, 401: { T: 1 }, 403: {}, 404: {}, 405: {}, 406: {}, 407: {}, 408: {}, 409: {}, 410: {}, 411: {}, 412: {}, 413: {}, 414: {}, 415: {}, 416: {}, 417: {}, 418: {}, 419: {}, 420: {}, 421: {}, 422: { T: 1 }, 423: { T: 1 }, 424: { T: -1 }, 425: { T: -1 }, 426: { f: function(h, A, m) {
      var b = h.l + A, T = aI(h), A = h.read_shift(1);
      return (T = [T])[2] = A, m.cellFormula ? (m = gte(h, b - h.l, m), T[1] = m) : h.l = b, T;
    } }, 427: { f: function(h, T, m) {
      var b = h.l + T, T = [wh(h)];
      return m.cellFormula && (m = yte(h, b - h.l, m), T[1] = m), h.l = b, T;
    } }, 428: {}, 429: { T: 1 }, 430: { T: -1 }, 431: { T: 1 }, 432: { T: -1 }, 433: { T: 1 }, 434: { T: -1 }, 435: { T: 1 }, 436: { T: -1 }, 437: { T: 1 }, 438: { T: -1 }, 439: { T: 1 }, 440: { T: -1 }, 441: { T: 1 }, 442: { T: -1 }, 443: { T: 1 }, 444: { T: -1 }, 445: { T: 1 }, 446: { T: -1 }, 447: { T: 1 }, 448: { T: -1 }, 449: { T: 1 }, 450: { T: -1 }, 451: { T: 1 }, 452: { T: -1 }, 453: { T: 1 }, 454: { T: -1 }, 455: { T: 1 }, 456: { T: -1 }, 457: { T: 1 }, 458: { T: -1 }, 459: { T: 1 }, 460: { T: -1 }, 461: { T: 1 }, 462: { T: -1 }, 463: { T: 1 }, 464: { T: -1 }, 465: { T: 1 }, 466: { T: -1 }, 467: { T: 1 }, 468: { T: -1 }, 469: { T: 1 }, 470: { T: -1 }, 471: {}, 472: {}, 473: { T: 1 }, 474: { T: -1 }, 475: {}, 476: { f: function(h) {
      var g = {};
      return C9.forEach(function(m) {
        g[m] = Da(h);
      }), g;
    } }, 477: {}, 478: {}, 479: { T: 1 }, 480: { T: -1 }, 481: { T: 1 }, 482: { T: -1 }, 483: { T: 1 }, 484: { T: -1 }, 485: { f: function() {
    } }, 486: { T: 1 }, 487: { T: -1 }, 488: { T: 1 }, 489: { T: -1 }, 490: { T: 1 }, 491: { T: -1 }, 492: { T: 1 }, 493: { T: -1 }, 494: { f: function(h, D) {
      var m = h.l + D, b = wh(h), T = xx(h), A = Ea(h), C = Ea(h), D = Ea(h);
      return h.l = m, D = { rfx: b, relId: T, loc: A, display: D }, C && (D.Tooltip = C), D;
    } }, 495: { T: 1 }, 496: { T: -1 }, 497: { T: 1 }, 498: { T: -1 }, 499: {}, 500: { T: 1 }, 501: { T: -1 }, 502: { T: 1 }, 503: { T: -1 }, 504: {}, 505: { T: 1 }, 506: { T: -1 }, 507: {}, 508: { T: 1 }, 509: { T: -1 }, 510: { T: 1 }, 511: { T: -1 }, 512: {}, 513: {}, 514: { T: 1 }, 515: { T: -1 }, 516: { T: 1 }, 517: { T: -1 }, 518: { T: 1 }, 519: { T: -1 }, 520: { T: 1 }, 521: { T: -1 }, 522: {}, 523: {}, 524: {}, 525: {}, 526: {}, 527: {}, 528: { T: 1 }, 529: { T: -1 }, 530: { T: 1 }, 531: { T: -1 }, 532: { T: 1 }, 533: { T: -1 }, 534: {}, 535: {}, 536: {}, 537: {}, 538: { T: 1 }, 539: { T: -1 }, 540: { T: 1 }, 541: { T: -1 }, 542: { T: 1 }, 548: {}, 549: {}, 550: { f: Tx }, 551: {}, 552: {}, 553: {}, 554: { T: 1 }, 555: { T: -1 }, 556: { T: 1 }, 557: { T: -1 }, 558: { T: 1 }, 559: { T: -1 }, 560: { T: 1 }, 561: { T: -1 }, 562: {}, 564: {}, 565: { T: 1 }, 566: { T: -1 }, 569: { T: 1 }, 570: { T: -1 }, 572: {}, 573: { T: 1 }, 574: { T: -1 }, 577: {}, 578: {}, 579: {}, 580: {}, 581: {}, 582: {}, 583: {}, 584: {}, 585: {}, 586: {}, 587: {}, 588: { T: -1 }, 589: {}, 590: { T: 1 }, 591: { T: -1 }, 592: { T: 1 }, 593: { T: -1 }, 594: { T: 1 }, 595: { T: -1 }, 596: {}, 597: { T: 1 }, 598: { T: -1 }, 599: { T: 1 }, 600: { T: -1 }, 601: { T: 1 }, 602: { T: -1 }, 603: { T: 1 }, 604: { T: -1 }, 605: { T: 1 }, 606: { T: -1 }, 607: {}, 608: { T: 1 }, 609: { T: -1 }, 610: {}, 611: { T: 1 }, 612: { T: -1 }, 613: { T: 1 }, 614: { T: -1 }, 615: { T: 1 }, 616: { T: -1 }, 617: { T: 1 }, 618: { T: -1 }, 619: { T: 1 }, 620: { T: -1 }, 625: {}, 626: { T: 1 }, 627: { T: -1 }, 628: { T: 1 }, 629: { T: -1 }, 630: { T: 1 }, 631: { T: -1 }, 632: { f: Cm }, 633: { T: 1 }, 634: { T: -1 }, 635: { T: 1, f: function(h) {
      var g = {};
      g.iauthor = h.read_shift(4);
      var m = wh(h);
      return g.rfx = m.s, g.ref = kr(m.s), h.l += 16, g;
    } }, 636: { T: -1 }, 637: { f: KQ }, 638: { T: 1 }, 639: {}, 640: { T: -1 }, 641: { T: 1 }, 642: { T: -1 }, 643: { T: 1 }, 644: {}, 645: { T: -1 }, 646: { T: 1 }, 648: { T: 1 }, 649: {}, 650: { T: -1 }, 651: { f: function(h, g) {
      return h.l += 10, { name: Ea(h) };
    } }, 652: {}, 653: { T: 1 }, 654: { T: -1 }, 655: { T: 1 }, 656: { T: -1 }, 657: { T: 1 }, 658: { T: -1 }, 659: {}, 660: { T: 1 }, 661: {}, 662: { T: -1 }, 663: {}, 664: { T: 1 }, 665: {}, 666: { T: -1 }, 667: {}, 668: {}, 669: {}, 671: { T: 1 }, 672: { T: -1 }, 673: { T: 1 }, 674: { T: -1 }, 675: {}, 676: {}, 677: {}, 678: {}, 679: {}, 680: {}, 681: {}, 1024: {}, 1025: {}, 1026: { T: 1 }, 1027: { T: -1 }, 1028: { T: 1 }, 1029: { T: -1 }, 1030: {}, 1031: { T: 1 }, 1032: { T: -1 }, 1033: { T: 1 }, 1034: { T: -1 }, 1035: {}, 1036: {}, 1037: {}, 1038: { T: 1 }, 1039: { T: -1 }, 1040: {}, 1041: { T: 1 }, 1042: { T: -1 }, 1043: {}, 1044: {}, 1045: {}, 1046: { T: 1 }, 1047: { T: -1 }, 1048: { T: 1 }, 1049: { T: -1 }, 1050: {}, 1051: { T: 1 }, 1052: { T: 1 }, 1053: { f: function() {
    } }, 1054: { T: 1 }, 1055: {}, 1056: { T: 1 }, 1057: { T: -1 }, 1058: { T: 1 }, 1059: { T: -1 }, 1061: {}, 1062: { T: 1 }, 1063: { T: -1 }, 1064: { T: 1 }, 1065: { T: -1 }, 1066: { T: 1 }, 1067: { T: -1 }, 1068: { T: 1 }, 1069: { T: -1 }, 1070: { T: 1 }, 1071: { T: -1 }, 1072: { T: 1 }, 1073: { T: -1 }, 1075: { T: 1 }, 1076: { T: -1 }, 1077: { T: 1 }, 1078: { T: -1 }, 1079: { T: 1 }, 1080: { T: -1 }, 1081: { T: 1 }, 1082: { T: -1 }, 1083: { T: 1 }, 1084: { T: -1 }, 1085: {}, 1086: { T: 1 }, 1087: { T: -1 }, 1088: { T: 1 }, 1089: { T: -1 }, 1090: { T: 1 }, 1091: { T: -1 }, 1092: { T: 1 }, 1093: { T: -1 }, 1094: { T: 1 }, 1095: { T: -1 }, 1096: {}, 1097: { T: 1 }, 1098: {}, 1099: { T: -1 }, 1100: { T: 1 }, 1101: { T: -1 }, 1102: {}, 1103: {}, 1104: {}, 1105: {}, 1111: {}, 1112: {}, 1113: { T: 1 }, 1114: { T: -1 }, 1115: { T: 1 }, 1116: { T: -1 }, 1117: {}, 1118: { T: 1 }, 1119: { T: -1 }, 1120: { T: 1 }, 1121: { T: -1 }, 1122: { T: 1 }, 1123: { T: -1 }, 1124: { T: 1 }, 1125: { T: -1 }, 1126: {}, 1128: { T: 1 }, 1129: { T: -1 }, 1130: {}, 1131: { T: 1 }, 1132: { T: -1 }, 1133: { T: 1 }, 1134: { T: -1 }, 1135: { T: 1 }, 1136: { T: -1 }, 1137: { T: 1 }, 1138: { T: -1 }, 1139: { T: 1 }, 1140: { T: -1 }, 1141: {}, 1142: { T: 1 }, 1143: { T: -1 }, 1144: { T: 1 }, 1145: { T: -1 }, 1146: {}, 1147: { T: 1 }, 1148: { T: -1 }, 1149: { T: 1 }, 1150: { T: -1 }, 1152: { T: 1 }, 1153: { T: -1 }, 1154: { T: -1 }, 1155: { T: -1 }, 1156: { T: -1 }, 1157: { T: 1 }, 1158: { T: -1 }, 1159: { T: 1 }, 1160: { T: -1 }, 1161: { T: 1 }, 1162: { T: -1 }, 1163: { T: 1 }, 1164: { T: -1 }, 1165: { T: 1 }, 1166: { T: -1 }, 1167: { T: 1 }, 1168: { T: -1 }, 1169: { T: 1 }, 1170: { T: -1 }, 1171: {}, 1172: { T: 1 }, 1173: { T: -1 }, 1177: {}, 1178: { T: 1 }, 1180: {}, 1181: {}, 1182: {}, 2048: { T: 1 }, 2049: { T: -1 }, 2050: {}, 2051: { T: 1 }, 2052: { T: -1 }, 2053: {}, 2054: {}, 2055: { T: 1 }, 2056: { T: -1 }, 2057: { T: 1 }, 2058: { T: -1 }, 2060: {}, 2067: {}, 2068: { T: 1 }, 2069: { T: -1 }, 2070: {}, 2071: {}, 2072: { T: 1 }, 2073: { T: -1 }, 2075: {}, 2076: {}, 2077: { T: 1 }, 2078: { T: -1 }, 2079: {}, 2080: { T: 1 }, 2081: { T: -1 }, 2082: {}, 2083: { T: 1 }, 2084: { T: -1 }, 2085: { T: 1 }, 2086: { T: -1 }, 2087: { T: 1 }, 2088: { T: -1 }, 2089: { T: 1 }, 2090: { T: -1 }, 2091: {}, 2092: {}, 2093: { T: 1 }, 2094: { T: -1 }, 2095: {}, 2096: { T: 1 }, 2097: { T: -1 }, 2098: { T: 1 }, 2099: { T: -1 }, 2100: { T: 1 }, 2101: { T: -1 }, 2102: {}, 2103: { T: 1 }, 2104: { T: -1 }, 2105: {}, 2106: { T: 1 }, 2107: { T: -1 }, 2108: {}, 2109: { T: 1 }, 2110: { T: -1 }, 2111: { T: 1 }, 2112: { T: -1 }, 2113: { T: 1 }, 2114: { T: -1 }, 2115: {}, 2116: {}, 2117: {}, 2118: { T: 1 }, 2119: { T: -1 }, 2120: {}, 2121: { T: 1 }, 2122: { T: -1 }, 2123: { T: 1 }, 2124: { T: -1 }, 2125: {}, 2126: { T: 1 }, 2127: { T: -1 }, 2128: {}, 2129: { T: 1 }, 2130: { T: -1 }, 2131: { T: 1 }, 2132: { T: -1 }, 2133: { T: 1 }, 2134: {}, 2135: {}, 2136: {}, 2137: { T: 1 }, 2138: { T: -1 }, 2139: { T: 1 }, 2140: { T: -1 }, 2141: {}, 3072: {}, 3073: {}, 4096: { T: 1 }, 4097: { T: -1 }, 5002: { T: 1 }, 5003: { T: -1 }, 5081: { T: 1 }, 5082: { T: -1 }, 5083: {}, 5084: { T: 1 }, 5085: { T: -1 }, 5086: { T: 1 }, 5087: { T: -1 }, 5088: {}, 5089: {}, 5090: {}, 5092: { T: 1 }, 5093: { T: -1 }, 5094: {}, 5095: { T: 1 }, 5096: { T: -1 }, 5097: {}, 5099: {}, 65535: { n: "" } }, o4 = { 6: { f: Qx }, 10: { f: sc }, 12: { f: Oi }, 13: { f: Oi }, 14: { f: Ci }, 15: { f: Ci }, 16: { f: Da }, 17: { f: Ci }, 18: { f: Ci }, 19: { f: Oi }, 20: { f: jI }, 21: { f: jI }, 23: { f: KI }, 24: { f: XI }, 25: { f: Ci }, 26: {}, 27: {}, 28: { f: function(h, g, m) {
      return function(b, T) {
        if (!(T.biff < 8)) {
          var A = b.read_shift(2), C = b.read_shift(2), D = b.read_shift(2), I = b.read_shift(2), R = Th(b, 0, T);
          return T.biff < 8 && b.read_shift(1), [{ r: A, c: C }, R, I, D];
        }
      }(h, m);
    } }, 29: {}, 34: { f: Ci }, 35: { f: qI }, 38: { f: Da }, 39: { f: Da }, 40: { f: Da }, 41: { f: Da }, 42: { f: Ci }, 43: { f: Ci }, 47: { f: function(h, g, m) {
      var b = { Type: 8 <= m.biff ? h.read_shift(2) : 0 };
      return b.Type ? Oee(h, g - 2, b) : (g = h, m.biff, h = m, m = b, g = { key: Oi(g), verificationBytes: Oi(g) }, h.password && (g.verifier = Hx(h.password)), m.valid = g.verificationBytes === g.verifier, m.valid && (m.insitu = Lee(h.password))), b;
    } }, 49: { f: function(h, g, m) {
      var b = { dyHeight: h.read_shift(2), fl: h.read_shift(2) };
      switch (m && m.biff || 8) {
        case 2:
          break;
        case 3:
        case 4:
          h.l += 2;
          break;
        default:
          h.l += 10;
      }
      return b.name = cv(h, 0, m), b;
    } }, 51: { f: Oi }, 60: {}, 61: { f: function(h) {
      return { Pos: [h.read_shift(2), h.read_shift(2)], Dim: [h.read_shift(2), h.read_shift(2)], Flags: h.read_shift(2), CurTab: h.read_shift(2), FirstTab: h.read_shift(2), Selected: h.read_shift(2), TabRatio: h.read_shift(2) };
    } }, 64: { f: Ci }, 65: { f: function() {
    } }, 66: { f: Oi }, 77: {}, 80: {}, 81: {}, 82: {}, 85: { f: Oi }, 89: {}, 90: {}, 91: {}, 92: { f: function(h, g, T) {
      if (T.enc)
        return h.l += g, "";
      var b = h.l, T = Th(h, 0, T);
      return h.read_shift(g + b - h.l), T;
    } }, 93: { f: function(h, g, m) {
      return m && m.biff < 8 ? function(b, T, A) {
        b.l += 4;
        var C = b.read_shift(2), D = b.read_shift(2), I = b.read_shift(2);
        b.l += 2, b.l += 2, b.l += 2, b.l += 2, b.l += 2, b.l += 2, b.l += 2, b.l += 2, b.l += 2, b.l += 6, T -= 36;
        var R = [];
        return R.push((hee[C] || Aa)(b, T, A)), { cmo: [D, C, I], ft: R };
      }(h, g, m) : { cmo: m = zI(h), ft: function(b, T) {
        for (var A = b.l + T, C = []; b.l < A; ) {
          var D = b.read_shift(2);
          b.l -= 2;
          try {
            C.push(lee[D](b, A - b.l));
          } catch {
            return b.l = A, C;
          }
        }
        return b.l != A && (b.l = A), C;
      }(h, g - 22, m[1]) };
    } }, 94: {}, 95: { f: Ci }, 96: {}, 97: {}, 99: { f: Ci }, 125: { f: JI }, 128: { f: function(h) {
      if (h.l += 4, (h = [h.read_shift(2), h.read_shift(2)])[0] !== 0 && h[0]--, h[1] !== 0 && h[1]--, 7 < h[0] || 7 < h[1])
        throw new Error("Bad Gutters: " + h.join("|"));
      return h;
    } }, 129: { f: function(h, g, m) {
      return { fDialog: 16 & (g = m && m.biff == 8 || g == 2 ? h.read_shift(2) : (h.l += g, 0)), fBelow: 64 & g, fRight: 128 & g };
    } }, 130: { f: Oi }, 131: { f: Ci }, 132: { f: Ci }, 133: { f: function(h, g, m) {
      var b = h.read_shift(4), T = 3 & h.read_shift(1), A = h.read_shift(1);
      switch (A) {
        case 0:
          A = "Worksheet";
          break;
        case 1:
          A = "Macrosheet";
          break;
        case 2:
          A = "Chartsheet";
          break;
        case 6:
          A = "VBAModule";
      }
      return m = cv(h, 0, m), { pos: b, hs: T, dt: A, name: m = m.length === 0 ? "Sheet1" : m };
    } }, 134: {}, 140: { f: function(h) {
      var g = [0, 0], m = h.read_shift(2);
      return g[0] = uI[m] || m, m = h.read_shift(2), g[1] = uI[m] || m, g;
    } }, 141: { f: Oi }, 144: {}, 146: { f: function(h) {
      for (var g = h.read_shift(2), m = []; 0 < g--; )
        m.push(BI(h));
      return m;
    } }, 151: {}, 152: {}, 153: {}, 154: {}, 155: {}, 156: { f: Oi }, 157: {}, 158: {}, 160: { f: pee }, 161: { f: function(h, g) {
      var m = {};
      return g < 32 || (h.l += 16, m.header = Da(h), m.footer = Da(h), h.l += 2), m;
    } }, 174: {}, 175: {}, 176: {}, 177: {}, 178: {}, 180: {}, 181: {}, 182: {}, 184: {}, 185: {}, 189: { f: function(h, g) {
      for (var m = h.l + g - 2, b = h.read_shift(2), T = h.read_shift(2), A = []; h.l < m; )
        A.push(VI(h));
      if (h.l !== m)
        throw new Error("MulRK read error");
      if (g = h.read_shift(2), A.length != g - T + 1)
        throw new Error("MulRK length mismatch");
      return { r: b, c: T, C: g, rkrec: A };
    } }, 190: { f: function(h, g) {
      for (var m = h.l + g - 2, b = h.read_shift(2), T = h.read_shift(2), A = []; h.l < m; )
        A.push(h.read_shift(2));
      if (h.l !== m)
        throw new Error("MulBlank read error");
      if (g = h.read_shift(2), A.length != g - T + 1)
        throw new Error("MulBlank length mismatch");
      return { r: b, c: T, C: g, ixfe: A };
    } }, 193: { f: sc }, 197: {}, 198: {}, 199: {}, 200: {}, 201: {}, 202: { f: Ci }, 203: {}, 204: {}, 205: {}, 206: {}, 207: {}, 208: {}, 209: {}, 210: {}, 211: {}, 213: {}, 215: {}, 216: {}, 217: {}, 218: { f: Oi }, 220: {}, 221: { f: Ci }, 222: {}, 224: { f: function(h, g, m) {
      var b, T, A, C = {};
      return C.ifnt = h.read_shift(2), C.numFmtId = h.read_shift(2), C.flags = h.read_shift(2), C.fStyle = C.flags >> 2 & 1, g -= 6, C.data = (b = h, C.fStyle, T = m, A = {}, g = b.read_shift(4), h = b.read_shift(4), m = b.read_shift(4), b = b.read_shift(2), A.patternType = tee[m >> 26], T.cellStyles && (A.alc = 7 & g, A.fWrap = g >> 3 & 1, A.alcV = g >> 4 & 7, A.fJustLast = g >> 7 & 1, A.trot = g >> 8 & 255, A.cIndent = g >> 16 & 15, A.fShrinkToFit = g >> 20 & 1, A.iReadOrder = g >> 22 & 2, A.fAtrNum = g >> 26 & 1, A.fAtrFnt = g >> 27 & 1, A.fAtrAlc = g >> 28 & 1, A.fAtrBdr = g >> 29 & 1, A.fAtrPat = g >> 30 & 1, A.fAtrProt = g >> 31 & 1, A.dgLeft = 15 & h, A.dgRight = h >> 4 & 15, A.dgTop = h >> 8 & 15, A.dgBottom = h >> 12 & 15, A.icvLeft = h >> 16 & 127, A.icvRight = h >> 23 & 127, A.grbitDiag = h >> 30 & 3, A.icvTop = 127 & m, A.icvBottom = m >> 7 & 127, A.icvDiag = m >> 14 & 127, A.dgDiag = m >> 21 & 15, A.icvFore = 127 & b, A.icvBack = b >> 7 & 127, A.fsxButton = b >> 14 & 1), A), C;
    } }, 225: { f: function(h, g) {
      return g === 0 || h.read_shift(2), 1200;
    } }, 226: { f: sc }, 227: {}, 229: { f: function(h, g) {
      for (var m = [], b = h.read_shift(2); b--; )
        m.push(Om(h));
      return m;
    } }, 233: {}, 235: {}, 236: {}, 237: {}, 239: {}, 240: {}, 241: {}, 242: {}, 244: {}, 245: {}, 246: {}, 247: {}, 248: {}, 249: {}, 251: {}, 252: { f: function(h, g) {
      for (var m = h.l + g, g = h.read_shift(4), b = h.read_shift(4), T = [], A = 0; A != b && h.l < m; ++A)
        T.push(function(D) {
          var I = o;
          o = 1200;
          var R, N = D.read_shift(2), W = 4 & (X = D.read_shift(1)), H = 8 & X, j = 1 + (1 & X), oe = 0, X = {};
          return H && (oe = D.read_shift(2)), W && (R = D.read_shift(4)), j = j == 2 ? "dbcs-cont" : "sbcs-cont", j = N === 0 ? "" : D.read_shift(N, j), H && (D.l += 4 * oe), W && (D.l += R), X.t = j, H || (X.raw = "<t>" + X.t + "</t>", X.r = X.t), o = I, X;
        }(h));
      return T.Count = g, T.Unique = b, T;
    } }, 253: { f: function(h) {
      var g = Js(h);
      return g.isst = h.read_shift(4), g;
    } }, 255: { f: function(h, g) {
      var m = {};
      return m.dsst = h.read_shift(2), h.l += g - 2, m;
    } }, 256: {}, 259: {}, 290: {}, 311: {}, 312: {}, 315: {}, 317: { f: RI }, 318: {}, 319: {}, 320: {}, 330: {}, 331: {}, 333: {}, 334: {}, 335: {}, 336: {}, 337: {}, 338: {}, 339: {}, 340: {}, 351: {}, 352: { f: Ci }, 353: { f: sc }, 401: {}, 402: {}, 403: {}, 404: {}, 405: {}, 406: {}, 407: {}, 408: {}, 425: {}, 426: {}, 427: {}, 428: {}, 429: {}, 430: { f: function(h, A, m) {
      var b = h.l + A, T = h.read_shift(2), A = h.read_shift(2);
      if ((m.sbcch = A) == 1025 || A == 14849)
        return [A, T];
      if (A < 1 || 255 < A)
        throw new Error("Unexpected SupBook type: " + A);
      for (var m = xh(h, A), C = []; b > h.l; )
        C.push(hv(h));
      return [A, T, m, C];
    } }, 431: { f: Ci }, 432: {}, 433: {}, 434: {}, 437: {}, 438: { f: function(h, g, m) {
      var b = h.l, T = "";
      try {
        h.l += 4;
        var A = (m.lastobj || { cmo: [0, 0] }).cmo[1];
        [0, 5, 7, 11, 12, 14].indexOf(A) == -1 ? h.l += 6 : function(R) {
          var N = R.read_shift(1);
          R.l++;
          var W = R.read_shift(2);
          R.l += 2;
        }(h);
        var C = h.read_shift(2);
        h.read_shift(2), Oi(h), A = h.read_shift(2), h.l += A;
        for (var D = 1; D < h.lens.length - 1; ++D) {
          if (h.l - b != h.lens[D])
            throw new Error("TxO: bad continue record");
          var I = h[h.l];
          if ((T += xh(h, h.lens[D + 1] - h.lens[D] - 1)).length >= (I ? C : 2 * C))
            break;
        }
        if (T.length !== C && T.length !== 2 * C)
          throw new Error("cchText: " + C + " != " + T.length);
        return h.l = b + g, { t: T };
      } catch {
        return h.l = b + g, { t: T };
      }
    } }, 439: { f: Ci }, 440: { f: function(h, g) {
      var m = Om(h);
      return h.l += 16, [m, function(b, T) {
        var A = b.l + T;
        if ((W = b.read_shift(4)) !== 2)
          throw new Error("Unrecognized streamVersion: " + W);
        T = b.read_shift(2), b.l += 2;
        var C, D, I, R, N, W = "";
        16 & T && (C = Lm(b, b.l)), 128 & T && (D = Lm(b, b.l)), (257 & T) == 257 && (I = Lm(b, b.l)), (257 & T) == 1 && (H = oee(b, b.l)), 8 & T && (W = Lm(b, b.l)), 32 & T && (R = b.read_shift(16)), 64 & T && (N = Lx(b)), b.l = A;
        var H = D || I || H || "";
        return H && W && (H += "#" + W), H = H || "#" + W, H = { Target: H = 2 & T && H.charAt(0) == "/" && H.charAt(1) != "/" ? "file://" + H : H }, R && (H.guid = R), N && (H.time = N), C && (H.Tooltip = C), H;
      }(h, g - 24)];
    } }, 441: {}, 442: { f: hv }, 443: {}, 444: { f: Oi }, 445: {}, 446: {}, 448: { f: sc }, 449: { f: function(h) {
      return h.read_shift(2), h.read_shift(4);
    }, r: 2 }, 450: { f: sc }, 512: { f: HI }, 513: { f: dee }, 515: { f: function(h, g, m) {
      return m.biffguess && m.biff == 2 && (m.biff = 5), m = Js(h), h = Da(h), m.val = h, m;
    } }, 516: { f: function(h, g, m) {
      return m.biffguess && m.biff == 2 && (m.biff = 5), h.l, g = Js(h), m.biff == 2 && h.l++, m = hv(h, h.l, m), g.val = m, g;
    } }, 517: { f: YI }, 519: { f: b4 }, 520: { f: function(h) {
      var g = {};
      g.r = h.read_shift(2), g.c = h.read_shift(2), g.cnt = h.read_shift(2) - g.c;
      var m = h.read_shift(2);
      h.l += 4;
      var b = h.read_shift(1);
      return h.l += 3, 7 & b && (g.level = 7 & b), 32 & b && (g.hidden = !0), 64 & b && (g.hpt = m / 20), g;
    } }, 523: {}, 545: { f: ZI }, 549: { f: WI }, 566: {}, 574: { f: function(h, g, m) {
      return m && 2 <= m.biff && m.biff < 5 ? {} : { RTL: 64 & h.read_shift(2) };
    } }, 638: { f: function(b) {
      var g = b.read_shift(2), m = b.read_shift(2), b = VI(b);
      return { r: g, c: m, ixfe: b[0], rknum: b[1] };
    } }, 659: {}, 1048: {}, 1054: { f: function(h, g, m) {
      return [h.read_shift(2), Th(h, 0, m)];
    } }, 1084: {}, 1212: { f: function(h, g, m) {
      var b = GI(h);
      h.l++;
      var T = h.read_shift(1);
      return [function(A, C, D) {
        var I, R = A.l + C, N = A.read_shift(2), W = wv(A, N, D);
        return N == 65535 ? [[], Aa(A, C - 2)] : (C !== N + 2 && (I = bv(A, R - N - 2, W, D)), [W, I]);
      }(h, g -= 8, m), T, b];
    } }, 2048: { f: function(h, g) {
      return h.read_shift(2), [Om(h), h.read_shift((g - 10) / 2, "dbcs-cont").replace(Z, "")];
    } }, 2049: {}, 2050: {}, 2051: {}, 2052: {}, 2053: {}, 2054: {}, 2055: {}, 2056: {}, 2057: { f: Fm }, 2058: {}, 2059: {}, 2060: {}, 2061: {}, 2062: {}, 2063: {}, 2064: {}, 2066: {}, 2067: {}, 2128: {}, 2129: {}, 2130: {}, 2131: {}, 2132: {}, 2133: {}, 2134: {}, 2135: {}, 2136: {}, 2137: {}, 2138: {}, 2146: {}, 2147: { r: 12 }, 2148: {}, 2149: {}, 2150: {}, 2151: { f: sc }, 2152: {}, 2154: {}, 2155: {}, 2156: {}, 2161: {}, 2162: {}, 2164: {}, 2165: {}, 2166: {}, 2167: {}, 2168: {}, 2169: {}, 2170: {}, 2171: {}, 2172: { f: function(h) {
      h.l += 2;
      var g = { cxfs: 0, crc: 0 };
      return g.cxfs = h.read_shift(2), g.crc = h.read_shift(4), g;
    }, r: 12 }, 2173: { f: function(h, g) {
      h.l, h.l += 2, g = h.read_shift(2), h.l += 2;
      for (var m = h.read_shift(2), b = []; 0 < m--; )
        b.push(nte(h, h.l));
      return { ixfe: g, ext: b };
    }, r: 12 }, 2174: {}, 2175: {}, 2180: {}, 2181: {}, 2182: {}, 2183: {}, 2184: {}, 2185: {}, 2186: {}, 2187: {}, 2188: { f: Ci, r: 12 }, 2189: {}, 2190: { r: 12 }, 2191: {}, 2192: {}, 2194: {}, 2195: {}, 2196: { f: function(h, g, m) {
      if (!(m.biff < 8)) {
        var b = h.read_shift(2), T = h.read_shift(2);
        return [xh(h, b, m), xh(h, T, m)];
      }
      h.l += g;
    }, r: 12 }, 2197: {}, 2198: { f: function(h, g, m) {
      var b = h.l + g;
      if (h.read_shift(4) !== 124226)
        if (m.cellStyles) {
          var T, A = h.slice(h.l);
          h.l = b;
          try {
            T = kM(A, { type: "array" });
          } catch {
            return;
          }
          if (g = mo(T, "theme/theme/theme1.xml", !0), g)
            return q7(g, m);
        } else
          h.l = b;
    }, r: 12 }, 2199: {}, 2200: {}, 2201: {}, 2202: { f: function(h) {
      return [h.read_shift(4) !== 0, h.read_shift(4) !== 0, h.read_shift(4)];
    }, r: 12 }, 2203: { f: sc }, 2204: {}, 2205: {}, 2206: {}, 2207: {}, 2211: { f: function(h) {
      var g, m, b = (m = (g = h).read_shift(2), b = g.read_shift(2), g.l += 8, { type: m, flags: b });
      if (b.type != 2211)
        throw new Error("Invalid Future Record " + b.type);
      return h.read_shift(4) !== 0;
    } }, 2212: {}, 2213: {}, 2214: {}, 2215: {}, 4097: {}, 4098: {}, 4099: {}, 4102: {}, 4103: {}, 4105: {}, 4106: {}, 4107: {}, 4108: {}, 4109: {}, 4116: {}, 4117: {}, 4118: {}, 4119: {}, 4120: {}, 4121: {}, 4122: {}, 4123: {}, 4124: {}, 4125: {}, 4126: {}, 4127: {}, 4128: {}, 4129: {}, 4130: {}, 4132: {}, 4133: {}, 4134: { f: Oi }, 4135: {}, 4146: {}, 4147: {}, 4148: {}, 4149: {}, 4154: {}, 4156: {}, 4157: {}, 4158: {}, 4159: {}, 4160: {}, 4161: {}, 4163: {}, 4164: { f: function(h, g, m) {
      var b = { area: !1 };
      return m.biff != 5 ? h.l += g : (g = h.read_shift(1), h.l += 3, 16 & g && (b.area = !0)), b;
    } }, 4165: {}, 4166: {}, 4168: {}, 4170: {}, 4171: {}, 4174: {}, 4175: {}, 4176: {}, 4177: {}, 4187: {}, 4188: { f: function(h) {
      for (var g = h.read_shift(2), m = []; 0 < g--; )
        m.push(BI(h));
      return m;
    } }, 4189: {}, 4191: {}, 4192: {}, 4193: {}, 4194: {}, 4195: {}, 4196: {}, 4197: {}, 4198: {}, 4199: {}, 4200: {}, 0: { f: HI }, 1: {}, 2: { f: function(h) {
      var g = Js(h);
      return ++h.l, h = h.read_shift(2), g.t = "n", g.val = h, g;
    } }, 3: { f: function(h) {
      var g = Js(h);
      return ++h.l, h = Da(h), g.t = "n", g.val = h, g;
    } }, 4: { f: function(h, g, m) {
      m.biffguess && m.biff == 5 && (m.biff = 2);
      var b = Js(h);
      return ++h.l, m = Th(h, 0, m), b.t = "str", b.val = m, b;
    } }, 5: { f: YI }, 7: { f: function(h) {
      var g = h.read_shift(1);
      return g === 0 ? (h.l++, "") : h.read_shift(g, "sbcs-cont");
    } }, 8: {}, 9: { f: Fm }, 11: {}, 22: { f: Oi }, 30: { f: Xd }, 31: {}, 32: {}, 33: { f: ZI }, 36: {}, 37: { f: WI }, 50: { f: function(h, g) {
      h.l += 6, h.l += 2, h.l += 1, h.l += 3, h.l += 1, h.l += g - 13;
    } }, 62: {}, 52: {}, 67: {}, 68: { f: Oi }, 69: {}, 86: {}, 126: {}, 127: { f: function(h) {
      var g = h.read_shift(2), b = h.read_shift(2), m = h.read_shift(4), b = { fmt: g, env: b, len: m, data: h.slice(h.l, h.l + m) };
      return h.l += m, b;
    } }, 135: {}, 136: {}, 137: {}, 145: {}, 148: {}, 149: {}, 150: {}, 169: {}, 171: {}, 188: {}, 191: {}, 192: {}, 194: {}, 195: {}, 214: { f: function(h, A, C) {
      var b = h.l + A, T = Js(h), A = h.read_shift(2), C = xh(h, A, C);
      return h.l = b, T.t = "str", T.val = C, T;
    } }, 223: {}, 234: {}, 354: {}, 421: {}, 518: { f: Qx }, 521: { f: Fm }, 536: { f: XI }, 547: { f: qI }, 561: {}, 579: {}, 1030: { f: Qx }, 1033: { f: Fm }, 1091: {}, 2157: {}, 2163: {}, 2177: {}, 2240: {}, 2241: {}, 2242: {}, 2243: {}, 2244: {}, 2245: {}, 2246: {}, 2247: {}, 2248: {}, 2249: {}, 2250: {}, 2251: {}, 2262: { r: 12 }, 29282: {} };
    function Lt(h, g, m, b) {
      var T = g;
      isNaN(T) || (g = b || (m || []).length || 0, (b = h.next(4)).write_shift(2, T), b.write_shift(2, g), 0 < g && mx(m) && h.push(m));
    }
    function Ev(h, g, m) {
      return (h = h || tt(7)).write_shift(2, g), h.write_shift(2, m), h.write_shift(2, 0), h.write_shift(1, 0), h;
    }
    function Sre(h, g, m, b) {
      if (g.v != null)
        switch (g.t) {
          case "d":
          case "n":
            var T = g.t == "d" ? Hi(jn(g.v)) : g.v;
            return void (T == (0 | T) && 0 <= T && T < 65536 ? Lt(h, 2, (N = m, W = b, H = T, Ev(j = tt(9), N, W), j.write_shift(2, H), j)) : Lt(h, 3, (H = m, j = b, T = T, Ev(R = tt(15), H, j), R.write_shift(8, T, "f"), R)));
          case "b":
          case "e":
            return void Lt(h, 5, (R = m, A = b, C = g.v, D = g.t, Ev(I = tt(9), R, A), LI(C, D || "b", I), I));
          case "s":
          case "str":
            return void Lt(h, 4, (A = m, C = b, D = (g.v || "").slice(0, 255), Ev(I = tt(8 + 2 * D.length), A, C), I.write_shift(1, D.length), I.write_shift(D.length, D, "sbcs"), I.l < I.length ? I.slice(0, I.l) : I));
        }
      var A, C, D, I, R, N, W, H, j;
      Lt(h, 1, Ev(null, m, b));
    }
    function xre(h, g) {
      for (var m = g || {}, g = io(), b = 0, T = 0; T < h.SheetNames.length; ++T)
        h.SheetNames[T] == m.sheet && (b = T);
      if (b == 0 && m.sheet && h.SheetNames[0] != m.sheet)
        throw new Error("Sheet not found: " + m.sheet);
      return Lt(g, m.biff == 4 ? 1033 : m.biff == 3 ? 521 : 9, Ox(0, 16, m)), function(A, C, D) {
        var I, R, N = Array.isArray(C), W = nn(C["!ref"] || "A1"), H = [];
        if (255 < W.e.c || 16383 < W.e.r) {
          if (D.WTF)
            throw new Error("Range " + (C["!ref"] || "A1") + " exceeds format limit A1:IV16384");
          W.e.c = Math.min(W.e.c, 255), W.e.r = Math.min(W.e.c, 16383), I = Ur(W);
        }
        for (var j = W.s.r; j <= W.e.r; ++j) {
          R = di(j);
          for (var oe = W.s.c; oe <= W.e.c; ++oe) {
            j === W.s.r && (H[oe] = Xn(oe)), I = H[oe] + R;
            var X = N ? (C[j] || [])[oe] : C[I];
            X && Sre(A, X, j, oe);
          }
        }
      }(g, h.Sheets[h.SheetNames[b]], m), Lt(g, 10), g.end();
    }
    function Tre(h, g, m) {
      var b, T;
      Lt(h, 49, (T = (b = { sz: 12, color: { theme: 1 }, name: "Arial", family: 2, scheme: "minor" }).name || "Arial", (h = tt((m = (h = m) && h.biff == 5) ? 15 + T.length : 16 + 2 * T.length)).write_shift(2, 20 * (b.sz || 12)), h.write_shift(4, 0), h.write_shift(2, 400), h.write_shift(4, 0), h.write_shift(2, 0), h.write_shift(1, T.length), m || h.write_shift(1, 1), h.write_shift((m ? 1 : 2) * T.length, T, m ? "sbcs" : "utf16le"), h));
    }
    function Cre(h, g, m) {
      g && [[5, 8], [23, 26], [41, 44], [50, 392]].forEach(function(b) {
        for (var T, A, C, D, I = b[0]; I <= b[1]; ++I)
          g[I] != null && Lt(h, 1054, (T = I, A = g[I], D = void 0, C = (C = m) && C.biff == 5, (D = D || tt(C ? 3 + A.length : 5 + 2 * A.length)).write_shift(2, T), D.write_shift(C ? 1 : 2, A.length), C || D.write_shift(1, 1), D.write_shift((C ? 1 : 2) * A.length, A, C ? "sbcs" : "utf16le"), (D = D.length > D.l ? D.slice(0, D.l) : D).l == null && (D.l = D.length), D));
      });
    }
    function Are(h, g) {
      for (var m = 0; m < g["!links"].length; ++m) {
        var b = g["!links"][m];
        Lt(h, 440, fee(b)), b[1].Tooltip && Lt(h, 2048, function(T) {
          var A = T[1].Tooltip, C = tt(10 + 2 * (A.length + 1));
          C.write_shift(2, 2048), T = ii(T[0]), C.write_shift(2, T.r), C.write_shift(2, T.r), C.write_shift(2, T.c), C.write_shift(2, T.c);
          for (var D = 0; D < A.length; ++D)
            C.write_shift(2, A.charCodeAt(D));
          return C.write_shift(2, 0), C;
        }(b));
      }
      delete g["!links"];
    }
    function Ere(h, g) {
      var m;
      g && (m = 0, g.forEach(function(b, T) {
        var A;
        ++m <= 256 && b && Lt(h, 125, (A = Jm(T, b), b = T, (T = tt(12)).write_shift(2, b), T.write_shift(2, b), T.write_shift(2, 256 * A.width), T.write_shift(2, 0), b = 0, A.hidden && (b |= 1), T.write_shift(1, b), b = A.level || 0, T.write_shift(1, b), T.write_shift(2, 0), T));
      }));
    }
    function Dre(h, g, m, b, T) {
      var A, C, D, I, R, N, W, H, j, oe, X, _e = 16 + cc(T.cellXfs, g, T);
      if (g.v != null || g.bf)
        if (g.bf)
          Lt(h, 6, vte(g, m, b, 0, _e));
        else
          switch (g.t) {
            case "d":
            case "n":
              var ue = g.t == "d" ? Hi(jn(g.v)) : g.v;
              Lt(h, 515, (N = m, W = b, H = ue, j = _e, oe = tt(14), Ch(N, W, j, oe), Vd(H, oe), oe));
              break;
            case "b":
            case "e":
              Lt(h, 517, (ue = m, N = b, W = g.v, j = _e, H = g.t, oe = tt(8), Ch(ue, N, j, oe), LI(W, H, oe), oe));
              break;
            case "s":
            case "str":
              T.bookSST ? (X = t4(T.Strings, g.v, T.revStrings), Lt(h, 253, (A = m, C = b, D = X, I = _e, R = tt(10), Ch(A, C, I, R), R.write_shift(4, D), R))) : Lt(h, 516, (X = m, A = b, C = (g.v || "").slice(0, 255), I = _e, D = tt(+(R = !(D = T) || D.biff == 8) + 8 + (1 + R) * C.length), Ch(X, A, I, D), D.write_shift(2, C.length), R && D.write_shift(1, 1), D.write_shift((1 + R) * C.length, C, R ? "utf16le" : "sbcs"), D));
              break;
            default:
              Lt(h, 513, Ch(m, b, _e));
          }
      else
        Lt(h, 513, Ch(m, b, _e));
    }
    function kre(h, g, m) {
      var b, T, A = io(), me = m.SheetNames[h], C = m.Sheets[me] || {}, D = (m || {}).Workbook || {}, I = (D.Sheets || [])[h] || {}, R = Array.isArray(C), N = g.biff == 8, W = [], H = nn(C["!ref"] || "A1"), j = N ? 65536 : 16384;
      if (255 < H.e.c || H.e.r >= j) {
        if (g.WTF)
          throw new Error("Range " + (C["!ref"] || "A1") + " exceeds format limit A1:IV16384");
        H.e.c = Math.min(H.e.c, 255), H.e.r = Math.min(H.e.c, j - 1);
      }
      Lt(A, 2057, Ox(0, 16, g)), Lt(A, 13, Bo(1)), Lt(A, 12, Bo(100)), Lt(A, 15, ja(!0)), Lt(A, 17, ja(!1)), Lt(A, 16, Vd(1e-3)), Lt(A, 95, ja(!0)), Lt(A, 42, ja(!1)), Lt(A, 43, ja(!1)), Lt(A, 130, Bo(1)), Lt(A, 128, (m = [0, 0], (h = tt(8)).write_shift(4, 0), h.write_shift(2, m[0] ? m[0] + 1 : 0), h.write_shift(2, m[1] ? m[1] + 1 : 0), h)), Lt(A, 131, ja(!1)), Lt(A, 132, ja(!1)), N && Ere(A, C["!cols"]), Lt(A, 512, (j = H, (m = tt(2 * (h = (m = g).biff != 8 && m.biff ? 2 : 4) + 6)).write_shift(h, j.s.r), m.write_shift(h, j.e.r + 1), m.write_shift(2, j.s.c), m.write_shift(2, j.e.c + 1), m.write_shift(2, 0), m)), N && (C["!links"] = []);
      for (var oe = H.s.r; oe <= H.e.r; ++oe) {
        T = di(oe);
        for (var X = H.s.c; X <= H.e.c; ++X) {
          oe === H.s.r && (W[X] = Xn(X)), b = W[X] + T;
          var _e = R ? (C[oe] || [])[X] : C[b];
          _e && (Dre(A, _e, oe, X, g), N && _e.l && C["!links"].push([b, _e.l]));
        }
      }
      var ue, ee, me = I.CodeName || I.name || me;
      return N && Lt(A, 574, (D = (D.Views || [])[0], ee = tt(18), ue = 1718, D && D.RTL && (ue |= 64), ee.write_shift(2, ue), ee.write_shift(4, 0), ee.write_shift(4, 64), ee.write_shift(4, 0), ee.write_shift(4, 0), ee)), N && (C["!merges"] || []).length && Lt(A, 229, function(Te) {
        var Ce = tt(2 + 8 * Te.length);
        Ce.write_shift(2, Te.length);
        for (var Fe = 0; Fe < Te.length; ++Fe)
          UI(Te[Fe], Ce);
        return Ce;
      }(C["!merges"])), N && Are(A, C), Lt(A, 442, OI(me)), N && (ue = A, ee = C, (me = tt(19)).write_shift(4, 2151), me.write_shift(4, 0), me.write_shift(4, 0), me.write_shift(2, 3), me.write_shift(1, 1), me.write_shift(4, 0), Lt(ue, 2151, me), (me = tt(39)).write_shift(4, 2152), me.write_shift(4, 0), me.write_shift(4, 0), me.write_shift(2, 3), me.write_shift(1, 0), me.write_shift(4, 0), me.write_shift(2, 1), me.write_shift(4, 4), me.write_shift(2, 0), UI(nn(ee["!ref"] || "A1"), me), me.write_shift(4, 4), Lt(ue, 2152, me)), Lt(A, 10), A.end();
    }
    function Mre(h, g, m) {
      var b = io(), D = (h || {}).Workbook || {}, T = D.Sheets || [], A = D.WBProps || {}, C = m.biff == 8, D = m.biff == 5;
      Lt(b, 2057, Ox(0, 5, m)), m.bookType == "xla" && Lt(b, 135), Lt(b, 225, C ? Bo(1200) : null), Lt(b, 193, function(ue, ee) {
        ee = ee || tt(ue);
        for (var me = 0; me < ue; ++me)
          ee.write_shift(1, 0);
        return ee;
      }(2)), D && Lt(b, 191), D && Lt(b, 192), Lt(b, 226), Lt(b, 92, function(ue) {
        var ee = !ue || ue.biff == 8, me = tt(ee ? 112 : 54);
        for (me.write_shift(ue.biff == 8 ? 2 : 1, 7), ee && me.write_shift(1, 0), me.write_shift(4, 859007059), me.write_shift(4, 5458548 | (ee ? 0 : 536870912)); me.l < me.length; )
          me.write_shift(1, ee ? 0 : 32);
        return me;
      }(m)), Lt(b, 66, Bo(C ? 1200 : 1252)), C && Lt(b, 353, Bo(0)), C && Lt(b, 448), Lt(b, 317, function(ue) {
        for (var ee = tt(2 * ue), me = 0; me < ue; ++me)
          ee.write_shift(2, me + 1);
        return ee;
      }(h.SheetNames.length)), C && h.vbaraw && Lt(b, 211), C && h.vbaraw && Lt(b, 442, OI(A.CodeName || "ThisWorkbook")), Lt(b, 156, Bo(17)), Lt(b, 25, ja(!1)), Lt(b, 18, ja(!1)), Lt(b, 19, Bo(0)), C && Lt(b, 431, ja(!1)), C && Lt(b, 444, Bo(0)), Lt(b, 61, ((D = tt(18)).write_shift(2, 0), D.write_shift(2, 0), D.write_shift(2, 29280), D.write_shift(2, 17600), D.write_shift(2, 56), D.write_shift(2, 0), D.write_shift(2, 0), D.write_shift(2, 1), D.write_shift(2, 500), D)), Lt(b, 64, ja(!1)), Lt(b, 141, Bo(0)), Lt(b, 34, ja(((A = h).Workbook && A.Workbook.WBProps && qn(A.Workbook.WBProps.date1904) ? "true" : "false") == "true")), Lt(b, 14, ja(!0)), C && Lt(b, 439, ja(!1)), Lt(b, 218, Bo(0)), Tre(b, 0, m), Cre(b, h.SSF, m), function(ue, ee) {
        for (var me = 0; me < 16; ++me)
          Lt(ue, 224, $I({ numFmtId: 0, style: !0 }, 0, ee));
        ee.cellXfs.forEach(function(Te) {
          Lt(ue, 224, $I(Te, 0, ee));
        });
      }(b, m), C && Lt(b, 352, ja(!1)), D = b.end(), A = io(), C && Lt(A, 140, ((_e = _e || tt(4)).write_shift(2, 1), _e.write_shift(2, 1), _e)), C && m.Strings && function(ue, ee, me) {
        var Te = (me || []).length || 0;
        if (Te <= 8224)
          return Lt(ue, ee, me, Te);
        if (!isNaN(ee)) {
          for (var Ce = me.parts || [], Fe = 0, ze = 0, Be = 0; Be + (Ce[Fe] || 8224) <= 8224; )
            Be += Ce[Fe] || 8224, Fe++;
          var Ye = ue.next(4);
          for (Ye.write_shift(2, ee), Ye.write_shift(2, Be), ue.push(me.slice(ze, ze + Be)), ze += Be; ze < Te; ) {
            for ((Ye = ue.next(4)).write_shift(2, 60), Be = 0; Be + (Ce[Fe] || 8224) <= 8224; )
              Be += Ce[Fe] || 8224, Fe++;
            Ye.write_shift(2, Be), ue.push(me.slice(ze, ze + Be)), ze += Be;
          }
        }
      }(A, 252, uee(m.Strings)), Lt(A, 10);
      for (var b = A.end(), I = io(), R = 0, N = 0, N = 0; N < h.SheetNames.length; ++N)
        R += (C ? 12 : 11) + (C ? 2 : 1) * h.SheetNames[N].length;
      var W, H, j, oe, X = D.length + R + b.length;
      for (N = 0; N < h.SheetNames.length; ++N)
        Lt(I, 133, (W = { pos: X, hs: (T[N] || {}).Hidden || 0, dt: 0, name: h.SheetNames[N] }, oe = j = void 0, j = !(H = m) || 8 <= H.biff ? 2 : 1, (oe = tt(8 + j * W.name.length)).write_shift(4, W.pos), oe.write_shift(1, W.hs || 0), oe.write_shift(1, W.dt), oe.write_shift(1, W.name.length), 8 <= H.biff && oe.write_shift(1, 1), oe.write_shift(j * W.name.length, W.name, H.biff < 8 ? "sbcs" : "utf16le"), (H = oe.slice(0, oe.l)).l = oe.l, H)), X += g[N].length;
      var _e = I.end();
      if (R != _e.length)
        throw new Error("BS8 " + R + " != " + _e.length);
      return A = [], D.length && A.push(D), _e.length && A.push(_e), b.length && A.push(b), G(A);
    }
    function O9(h, g) {
      for (var m = 0; m <= h.SheetNames.length; ++m) {
        var b = h.Sheets[h.SheetNames[m]];
        b && b["!ref"] && 255 < Ya(b["!ref"]).e.c && typeof console < "u" && console.error && console.error("Worksheet '" + h.SheetNames[m] + "' extends beyond column IV (255).  Data may be lost.");
      }
      var T = g || {};
      switch (T.biff || 2) {
        case 8:
        case 5:
          return function(A, C) {
            var D = C || {}, I = [];
            A && !A.SSF && (A.SSF = Un(De)), A && A.SSF && (Gl(), xr(A.SSF), D.revssf = wm(A.SSF), D.revssf[A.SSF[65535]] = 0, D.ssf = A.SSF), D.Strings = [], D.Strings.Count = 0, D.Strings.Unique = 0, f4(D), D.cellXfs = [], cc(D.cellXfs, {}, { revssf: { General: 0 } }), A.Props || (A.Props = {});
            for (var R = 0; R < A.SheetNames.length; ++R)
              I[I.length] = kre(R, D, A);
            return I.unshift(Mre(A, I, D)), G(I);
          }(h, g);
        case 4:
        case 3:
        case 2:
          return xre(h, g);
      }
      throw new Error("invalid type " + T.bookType + " for BIFF");
    }
    function F9(h, g) {
      var m = g || {}, b = m.dense ? [] : {}, T = (h = h.replace(/<!--.*?-->/g, "")).match(/<table/i);
      if (!T)
        throw new Error("Invalid HTML: could not find <table>");
      for (var A, g = h.match(/<\/table/i), H = T.index, C = g && g.index || h.length, D = LQ(h.slice(H, C), /(:?<tr[^>]*>)/i, "<tr>"), I = -1, R = 0, N = { s: { r: 1e7, c: 1e7 }, e: { r: 0, c: 0 } }, W = [], H = 0; H < D.length; ++H) {
        var j = D[H].trim(), oe = j.slice(0, 3).toLowerCase();
        if (oe != "<tr") {
          if (oe == "<td" || oe == "<th")
            for (var X = j.split(/<\/t[dh]>/i), C = 0; C < X.length; ++C) {
              var _e = X[C].trim();
              if (_e.match(/<t[dh]/i)) {
                for (var ue = _e, ee = 0; ue.charAt(0) == "<" && -1 < (ee = ue.indexOf(">")); )
                  ue = ue.slice(ee + 1);
                for (var me = 0; me < W.length; ++me) {
                  var Te = W[me];
                  Te.s.c == R && Te.s.r < I && I <= Te.e.r && (R = Te.e.c + 1, me = -1);
                }
                var Ce = Dr(_e.slice(0, _e.indexOf(">"))), Fe = Ce.colspan ? +Ce.colspan : 1;
                (1 < (A = +Ce.rowspan) || 1 < Fe) && W.push({ s: { r: I, c: R }, e: { r: I + (A || 1) - 1, c: R + Fe - 1 } }), _e = Ce.t || Ce["data-t"] || "", ue.length && (ue = VM(ue), N.s.r > I && (N.s.r = I), N.e.r < I && (N.e.r = I), N.s.c > R && (N.s.c = R), N.e.c < R && (N.e.c = R), ue.length && (Ce = { t: "s", v: ue }, m.raw || !ue.trim().length || _e == "s" || (ue === "TRUE" ? Ce = { t: "b", v: !0 } : ue === "FALSE" ? Ce = { t: "b", v: !1 } : isNaN(ms(ue)) ? isNaN(Ld(ue).getDate()) || (Ce = { t: "d", v: jn(ue) }, (Ce = m.cellDates ? Ce : { t: "n", v: Hi(Ce.v) }).z = m.dateNF || De[14]) : Ce = { t: "n", v: ms(ue) }), m.dense ? (b[I] || (b[I] = []), b[I][R] = Ce) : b[kr({ r: I, c: R })] = Ce)), R += Fe;
              }
            }
        } else {
          if (++I, m.sheetRows && m.sheetRows <= I) {
            --I;
            break;
          }
          R = 0;
        }
      }
      return b["!ref"] = Ur(N), W.length && (b["!merges"] = W), b;
    }
    function N9(h, g, m, b) {
      for (var T = h["!merges"] || [], A = [], C = g.s.c; C <= g.e.c; ++C) {
        for (var D, I, R, N, W = 0, H = 0, j = 0; j < T.length; ++j)
          if (!(T[j].s.r > m || T[j].s.c > C || T[j].e.r < m || T[j].e.c < C)) {
            if (T[j].s.r < m || T[j].s.c < C) {
              W = -1;
              break;
            }
            W = T[j].e.r - T[j].s.r + 1, H = T[j].e.c - T[j].s.c + 1;
            break;
          }
        W < 0 || (D = kr({ r: m, c: C }), R = (I = b.dense ? (h[m] || [])[C] : h[D]) && I.v != null && (I.h || sx(I.w || (Zs(I), I.w) || "")) || "", N = {}, 1 < W && (N.rowspan = W), 1 < H && (N.colspan = H), b.editable ? R = '<span contenteditable="true">' + R + "</span>" : I && (N["data-t"] = I && I.t || "z", I.v != null && (N["data-v"] = I.v), I.z != null && (N["data-z"] = I.z), I.l && (I.l.Target || "#").charAt(0) != "#" && (R = '<a href="' + I.l.Target + '">' + R + "</a>")), N.id = (b.id || "sjs") + "-" + D, A.push(Rt("td", R, N)));
      }
      return "<tr>" + A.join("") + "</tr>";
    }
    var B9 = '<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>', V9 = "</body></html>";
    function U9(h, g, m) {
      return [].join("") + "<table" + (m && m.id ? ' id="' + m.id + '"' : "") + ">";
    }
    function G9(h, T) {
      var m = T || {}, b = m.header != null ? m.header : B9, T = m.footer != null ? m.footer : V9, A = [b], C = Ya(h["!ref"]);
      m.dense = Array.isArray(h), A.push(U9(0, 0, m));
      for (var D = C.s.r; D <= C.e.r; ++D)
        A.push(N9(h, C, D, m));
      return A.push("</table>" + T), A.join("");
    }
    function z9(h, g, m) {
      var b = m || {}, T = 0, A = 0;
      b.origin != null && (typeof b.origin == "number" ? T = b.origin : (T = (m = typeof b.origin == "string" ? ii(b.origin) : b.origin).r, A = m.c));
      var C = g.getElementsByTagName("tr"), D = Math.min(b.sheetRows || 1e7, C.length), I = { s: { r: 0, c: 0 }, e: { r: T, c: A } };
      h["!ref"] && (g = Ya(h["!ref"]), I.s.r = Math.min(I.s.r, g.s.r), I.s.c = Math.min(I.s.c, g.s.c), I.e.r = Math.max(I.e.r, g.e.r), I.e.c = Math.max(I.e.c, g.e.c), T == -1 && (I.e.r = T = g.e.r + 1));
      var R, N, W = [], H = 0, j = h["!rows"] || (h["!rows"] = []), oe = 0, X = 0, _e = 0, ue = 0;
      for (h["!cols"] || (h["!cols"] = []); oe < C.length && X < D; ++oe) {
        var ee = C[oe];
        if (H9(ee)) {
          if (b.display)
            continue;
          j[X] = { hidden: !0 };
        }
        for (var me = ee.children, _e = ue = 0; _e < me.length; ++_e) {
          var Te = me[_e];
          if (!b.display || !H9(Te)) {
            for (var Ce = Te.hasAttribute("data-v") ? Te.getAttribute("data-v") : Te.hasAttribute("v") ? Te.getAttribute("v") : VM(Te.innerHTML), Fe = Te.getAttribute("data-z") || Te.getAttribute("z"), H = 0; H < W.length; ++H) {
              var ze = W[H];
              ze.s.c == ue + A && ze.s.r < X + T && X + T <= ze.e.r && (ue = ze.e.c + 1 - A, H = -1);
            }
            N = +Te.getAttribute("colspan") || 1, (1 < (R = +Te.getAttribute("rowspan") || 1) || 1 < N) && W.push({ s: { r: X + T, c: ue + A }, e: { r: X + T + (R || 1) - 1, c: ue + A + (N || 1) - 1 } });
            var Be = { t: "s", v: Ce }, Ye = Te.getAttribute("data-t") || Te.getAttribute("t") || "";
            Ce != null && (Ce.length == 0 ? Be.t = Ye || "z" : b.raw || Ce.trim().length == 0 || Ye == "s" || (Ce === "TRUE" ? Be = { t: "b", v: !0 } : Ce === "FALSE" ? Be = { t: "b", v: !1 } : isNaN(ms(Ce)) ? isNaN(Ld(Ce).getDate()) || (Be = { t: "d", v: jn(Ce) }, (Be = b.cellDates ? Be : { t: "n", v: Hi(Be.v) }).z = b.dateNF || De[14]) : Be = { t: "n", v: ms(Ce) })), Be.z === void 0 && Fe != null && (Be.z = Fe);
            var it = "", at = Te.getElementsByTagName("A");
            if (at && at.length)
              for (var Xe = 0; Xe < at.length && (!at[Xe].hasAttribute("href") || (it = at[Xe].getAttribute("href")).charAt(0) == "#"); ++Xe)
                ;
            it && it.charAt(0) != "#" && (Be.l = { Target: it }), b.dense ? (h[X + T] || (h[X + T] = []), h[X + T][ue + A] = Be) : h[kr({ c: ue + A, r: X + T })] = Be, I.e.c < ue + A && (I.e.c = ue + A), ue += N;
          }
        }
        ++X;
      }
      return W.length && (h["!merges"] = (h["!merges"] || []).concat(W)), I.e.r = Math.max(I.e.r, X - 1 + T), h["!ref"] = Ur(I), D <= X && (h["!fullref"] = Ur((I.e.r = C.length - oe + X - 1 + T, I))), h;
    }
    function W9(h, g) {
      return z9((g || {}).dense ? [] : {}, h, g);
    }
    function H9(h) {
      var m, g = "", m = (m = h).ownerDocument.defaultView && typeof m.ownerDocument.defaultView.getComputedStyle == "function" ? m.ownerDocument.defaultView.getComputedStyle : typeof getComputedStyle == "function" ? getComputedStyle : null;
      return (g = (g = m ? m(h).getPropertyValue("display") : g) || h.style && h.style.display) === "none";
    }
    var $9 = { day: ["d", "dd"], month: ["m", "mm"], year: ["y", "yy"], hours: ["h", "hh"], minutes: ["m", "mm"], seconds: ["s", "ss"], "am-pm": ["A/P", "AM/PM"], "day-of-week": ["ddd", "dddd"], era: ["e", "ee"], quarter: ["\\Qm", 'm\\"th quarter"'] };
    function Y9(h, g) {
      var m = g || {}, b, T, A, C, D, I = hx(h), R = [], N = { name: "" }, W = "", H = 0, j = {}, oe = [], X = m.dense ? [] : {}, _e = { value: "" }, ue = "", ee = 0, me = [], Te = -1, Ce = -1, Fe = { s: { r: 1e6, c: 1e7 }, e: { r: 0, c: 0 } }, ze = 0, Be = {}, Ye = [], it = {}, at = [], Xe = 1, _t = 1, Vt = [], Ot = { Names: [] }, At = {}, Dt = ["", ""], Tt = [], ct = {}, Kt = "", Qt = 0, hr = !1, Gr = !1, Ht = 0;
      for (nv.lastIndex = 0, I = I.replace(/<!--([\s\S]*?)-->/gm, "").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm, ""); C = nv.exec(I); )
        switch (C[3] = C[3].replace(/_.*$/, "")) {
          case "table":
          case "":
            C[1] === "/" ? (Fe.e.c >= Fe.s.c && Fe.e.r >= Fe.s.r ? X["!ref"] = Ur(Fe) : X["!ref"] = "A1:A1", 0 < m.sheetRows && m.sheetRows <= Fe.e.r && (X["!fullref"] = X["!ref"], Fe.e.r = m.sheetRows - 1, X["!ref"] = Ur(Fe)), Ye.length && (X["!merges"] = Ye), at.length && (X["!rows"] = at), A.name = A. || A.name, typeof JSON < "u" && JSON.stringify(A), oe.push(A.name), j[A.name] = X, Gr = !1) : C[0].charAt(C[0].length - 2) !== "/" && (A = Dr(C[0], !1), Te = Ce = -1, Fe.s.r = Fe.s.c = 1e7, Fe.e.r = Fe.e.c = 0, X = m.dense ? [] : {}, Ye = [], at = [], Gr = !0);
            break;
          case "table-row-group":
            C[1] === "/" ? --ze : ++ze;
            break;
          case "table-row":
          case "":
            if (C[1] === "/") {
              Te += Xe, Xe = 1;
              break;
            }
            if ((yt = Dr(C[0], !1)). ? Te = yt. - 1 : Te == -1 && (Te = 0), (Xe = +yt["number-rows-repeated"] || 1) < 10)
              for (Ht = 0; Ht < Xe; ++Ht)
                0 < ze && (at[Te + Ht] = { level: ze });
            Ce = -1;
            break;
          case "covered-table-cell":
            C[1] !== "/" && ++Ce, m.sheetStubs && (m.dense ? (X[Te] || (X[Te] = []), X[Te][Ce] = { t: "z" }) : X[kr({ r: Te, c: Ce })] = { t: "z" }), ue = "", me = [];
            break;
          case "table-cell":
          case "":
            if (C[0].charAt(C[0].length - 2) === "/")
              ++Ce, _e = Dr(C[0], !1), _t = parseInt(_e["number-columns-repeated"] || "1", 10), D = { t: "z", v: null }, _e.formula && m.cellFormula != 0 && (D.f = d9(dn(_e.formula))), (_e. || _e["value-type"]) == "string" && (D.t = "s", D.v = dn(_e["string-value"] || ""), m.dense ? (X[Te] || (X[Te] = []), X[Te][Ce] = D) : X[kr({ r: Te, c: Ce })] = D), Ce += _t - 1;
            else if (C[1] !== "/") {
              ue = "", ee = 0, me = [], _t = 1;
              var yt = Xe ? Te + Xe - 1 : Te;
              if (++Ce > Fe.e.c && (Fe.e.c = Ce), Ce < Fe.s.c && (Fe.s.c = Ce), Te < Fe.s.r && (Fe.s.r = Te), yt > Fe.e.r && (Fe.e.r = yt), Tt = [], ct = {}, D = { t: (_e = Dr(C[0], !1)). || _e["value-type"], v: null }, m.cellFormula)
                if (_e.formula && (_e.formula = dn(_e.formula)), _e["number-matrix-columns-spanned"] && _e["number-matrix-rows-spanned"] && (it = { s: { r: Te, c: Ce }, e: { r: Te + (parseInt(_e["number-matrix-rows-spanned"], 10) || 0) - 1, c: Ce + (parseInt(_e["number-matrix-columns-spanned"], 10) || 0) - 1 } }, D.F = Ur(it), Vt.push([it, D.F])), _e.formula)
                  D.f = d9(_e.formula);
                else
                  for (Ht = 0; Ht < Vt.length; ++Ht)
                    Te >= Vt[Ht][0].s.r && Te <= Vt[Ht][0].e.r && Ce >= Vt[Ht][0].s.c && Ce <= Vt[Ht][0].e.c && (D.F = Vt[Ht][1]);
              switch ((_e["number-columns-spanned"] || _e["number-rows-spanned"]) && (it = { s: { r: Te, c: Ce }, e: { r: Te + (parseInt(_e["number-rows-spanned"], 10) || 0) - 1, c: Ce + (parseInt(_e["number-columns-spanned"], 10) || 0) - 1 } }, Ye.push(it)), _e["number-columns-repeated"] && (_t = parseInt(_e["number-columns-repeated"], 10)), D.t) {
                case "boolean":
                  D.t = "b", D.v = qn(_e["boolean-value"]);
                  break;
                case "float":
                case "percentage":
                case "currency":
                  D.t = "n", D.v = parseFloat(_e.value);
                  break;
                case "date":
                  D.t = "d", D.v = jn(_e["date-value"]), m.cellDates || (D.t = "n", D.v = Hi(D.v)), D.z = "m/d/yy";
                  break;
                case "time":
                  D.t = "n", D.v = function(Zr) {
                    var bn = 0, pi = 0, Ne = !1, wn = Zr.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);
                    if (!wn)
                      throw new Error("|" + Zr + "| is not an ISO8601 Duration");
                    for (var mn = 1; mn != wn.length; ++mn)
                      if (wn[mn]) {
                        switch (pi = 1, 3 < mn && (Ne = !0), wn[mn].slice(wn[mn].length - 1)) {
                          case "Y":
                            throw new Error("Unsupported ISO Duration Field: " + wn[mn].slice(wn[mn].length - 1));
                          case "D":
                            pi *= 24;
                          case "H":
                            pi *= 60;
                          case "M":
                            if (!Ne)
                              throw new Error("Unsupported ISO Duration Field: M");
                            pi *= 60;
                        }
                        bn += pi * parseInt(wn[mn], 10);
                      }
                    return bn;
                  }(_e["time-value"]) / 86400, m.cellDates && (D.t = "d", D.v = Tm(D.v)), D.z = "HH:MM:SS";
                  break;
                case "number":
                  D.t = "n", D.v = parseFloat(_e.);
                  break;
                default:
                  if (D.t !== "string" && D.t !== "text" && D.t)
                    throw new Error("Unsupported value type " + D.t);
                  D.t = "s", _e["string-value"] != null && (ue = dn(_e["string-value"]), me = []);
              }
            } else {
              if (hr = !1, D.t === "s" && (D.v = ue || "", me.length && (D.R = me), hr = ee == 0), At.Target && (D.l = At), 0 < Tt.length && (D.c = Tt, Tt = []), ue && m.cellText !== !1 && (D.w = ue), hr && (D.t = "z", delete D.v), (!hr || m.sheetStubs) && !(m.sheetRows && m.sheetRows <= Te))
                for (var Mr = 0; Mr < Xe; ++Mr) {
                  if (_t = parseInt(_e["number-columns-repeated"] || "1", 10), m.dense)
                    for (X[Te + Mr] || (X[Te + Mr] = []), X[Te + Mr][Ce] = Mr == 0 ? D : Un(D); 0 < --_t; )
                      X[Te + Mr][Ce + _t] = Un(D);
                  else
                    for (X[kr({ r: Te + Mr, c: Ce })] = D; 0 < --_t; )
                      X[kr({ r: Te + Mr, c: Ce + _t })] = Un(D);
                  Fe.e.c <= Ce && (Fe.e.c = Ce);
                }
              Ce += (_t = parseInt(_e["number-columns-repeated"] || "1", 10)) - 1, _t = 0, D = {}, ue = "", me = [];
            }
            At = {};
            break;
          case "document":
          case "document-content":
          case "":
          case "spreadsheet":
          case "":
          case "scripts":
          case "styles":
          case "font-face-decls":
          case "master-styles":
            if (C[1] === "/") {
              if ((b = R.pop())[0] !== C[3])
                throw "Bad state: " + b;
            } else
              C[0].charAt(C[0].length - 2) !== "/" && R.push([C[3], !0]);
            break;
          case "annotation":
            if (C[1] === "/") {
              if ((b = R.pop())[0] !== C[3])
                throw "Bad state: " + b;
              ct.t = ue, me.length && (ct.R = me), ct.a = Kt, Tt.push(ct);
            } else
              C[0].charAt(C[0].length - 2) !== "/" && R.push([C[3], !1]);
            ue = Kt = "", ee = Qt = 0, me = [];
            break;
          case "creator":
            C[1] === "/" ? Kt = I.slice(Qt, C.index) : Qt = C.index + C[0].length;
            break;
          case "meta":
          case "":
          case "settings":
          case "config-item-set":
          case "config-item-map-indexed":
          case "config-item-map-entry":
          case "config-item-map-named":
          case "shapes":
          case "frame":
          case "text-box":
          case "image":
          case "data-pilot-tables":
          case "list-style":
          case "form":
          case "dde-links":
          case "event-listeners":
          case "chart":
            if (C[1] === "/") {
              if ((b = R.pop())[0] !== C[3])
                throw "Bad state: " + b;
            } else
              C[0].charAt(C[0].length - 2) !== "/" && R.push([C[3], !1]);
            ue = "", ee = 0, me = [];
            break;
          case "scientific-number":
          case "currency-symbol":
          case "currency-style":
            break;
          case "number-style":
          case "percentage-style":
          case "date-style":
          case "time-style":
            if (C[1] === "/") {
              if (Be[N.name] = W, (b = R.pop())[0] !== C[3])
                throw "Bad state: " + b;
            } else
              C[0].charAt(C[0].length - 2) !== "/" && (W = "", N = Dr(C[0], !1), R.push([C[3], !0]));
            break;
          case "script":
          case "libraries":
          case "automatic-styles":
            break;
          case "default-style":
          case "page-layout":
          case "style":
          case "map":
          case "font-face":
          case "paragraph-properties":
          case "table-properties":
          case "table-column-properties":
          case "table-row-properties":
          case "table-cell-properties":
            break;
          case "number":
            switch (R[R.length - 1][0]) {
              case "time-style":
              case "date-style":
                T = Dr(C[0], !1), W += $9[C[3]][T.style === "long" ? 1 : 0];
            }
            break;
          case "fraction":
            break;
          case "day":
          case "month":
          case "year":
          case "era":
          case "day-of-week":
          case "week-of-year":
          case "quarter":
          case "hours":
          case "minutes":
          case "seconds":
          case "am-pm":
            switch (R[R.length - 1][0]) {
              case "time-style":
              case "date-style":
                T = Dr(C[0], !1), W += $9[C[3]][T.style === "long" ? 1 : 0];
            }
            break;
          case "boolean-style":
          case "boolean":
          case "text-style":
            break;
          case "text":
            if (C[0].slice(-2) === "/>")
              break;
            if (C[1] === "/")
              switch (R[R.length - 1][0]) {
                case "number-style":
                case "date-style":
                case "time-style":
                  W += I.slice(H, C.index);
              }
            else
              H = C.index + C[0].length;
            break;
          case "named-range":
            Dt = e4((T = Dr(C[0], !1))["cell-range-address"]);
            var on = { Name: T.name, Ref: Dt[0] + "!" + Dt[1] };
            Gr && (on.Sheet = oe.length), Ot.Names.push(on);
            break;
          case "text-content":
          case "text-properties":
          case "embedded-text":
            break;
          case "body":
          case "":
          case "forms":
          case "table-column":
          case "table-header-rows":
          case "table-rows":
          case "table-column-group":
          case "table-header-columns":
          case "table-columns":
          case "null-date":
          case "graphic-properties":
          case "calculation-settings":
          case "named-expressions":
          case "label-range":
          case "label-ranges":
          case "named-expression":
          case "sort":
          case "sort-by":
          case "sort-groups":
          case "tab":
          case "line-break":
          case "span":
            break;
          case "p":
          case "":
            if (-1 < ["master-styles"].indexOf(R[R.length - 1][0]))
              break;
            C[1] !== "/" || _e && _e["string-value"] ? (Dr(C[0], !1), ee = C.index + C[0].length) : (on = (on = I.slice(ee, C.index)).replace(/[\t\r\n]/g, " ").trim().replace(/ +/g, " ").replace(/<text:s\/>/g, " ").replace(/<text:s text:c="(\d+)"\/>/g, function(Zr, bn) {
              return Array(parseInt(bn, 10) + 1).join(" ");
            }).replace(/<text:tab[^>]*\/>/g, "	").replace(/<text:line-break\/>/g, `
`), on = [dn(on.replace(/<[^>]*>/g, ""))], ue = (0 < ue.length ? ue + `
` : "") + on[0]);
            break;
          case "s":
            break;
          case "database-range":
            if (C[1] === "/")
              break;
            try {
              j[(Dt = e4(Dr(C[0])["target-range-address"]))[0]]["!autofilter"] = { ref: Dt[1] };
            } catch {
            }
            break;
          case "date":
          case "object":
            break;
          case "title":
          case "":
          case "desc":
          case "binary-data":
          case "table-source":
          case "scenario":
          case "iteration":
          case "content-validations":
          case "content-validation":
          case "help-message":
          case "error-message":
          case "database-ranges":
          case "filter":
          case "filter-and":
          case "filter-or":
          case "filter-condition":
          case "list-level-style-bullet":
          case "list-level-style-number":
          case "list-level-properties":
            break;
          case "sender-firstname":
          case "sender-lastname":
          case "sender-initials":
          case "sender-title":
          case "sender-position":
          case "sender-email":
          case "sender-phone-private":
          case "sender-fax":
          case "sender-company":
          case "sender-phone-work":
          case "sender-street":
          case "sender-city":
          case "sender-postal-code":
          case "sender-country":
          case "sender-state-or-province":
          case "author-name":
          case "author-initials":
          case "chapter":
          case "file-name":
          case "template-name":
          case "sheet-name":
          case "event-listener":
            break;
          case "initial-creator":
          case "creation-date":
          case "print-date":
          case "generator":
          case "document-statistic":
          case "user-defined":
          case "editing-duration":
          case "editing-cycles":
          case "config-item":
          case "page-number":
          case "page-count":
          case "time":
          case "cell-range-source":
          case "detective":
          case "operation":
          case "highlighted-range":
            break;
          case "data-pilot-table":
          case "source-cell-range":
          case "source-service":
          case "data-pilot-field":
          case "data-pilot-level":
          case "data-pilot-subtotals":
          case "data-pilot-subtotal":
          case "data-pilot-members":
          case "data-pilot-member":
          case "data-pilot-display-info":
          case "data-pilot-sort-info":
          case "data-pilot-layout-info":
          case "data-pilot-field-reference":
          case "data-pilot-groups":
          case "data-pilot-group":
          case "data-pilot-group-member":
          case "rect":
            break;
          case "dde-connection-decls":
          case "dde-connection-decl":
          case "dde-link":
          case "dde-source":
          case "properties":
          case "property":
            break;
          case "a":
            if (C[1] !== "/") {
              if (!(At = Dr(C[0], !1)).href)
                break;
              At.Target = dn(At.href), delete At.href, At.Target.charAt(0) == "#" && -1 < At.Target.indexOf(".") ? (Dt = e4(At.Target.slice(1)), At.Target = "#" + Dt[0] + "!" + Dt[1]) : At.Target.match(/^\.\.[\\\/]/) && (At.Target = At.Target.slice(3));
            }
            break;
          case "table-protection":
          case "data-pilot-grand-total":
          case "office-document-common-attrs":
            break;
          default:
            switch (C[2]) {
              case "dc:":
              case "calcext:":
              case "loext:":
              case "ooo:":
              case "chartooo:":
              case "draw:":
              case "style:":
              case "chart:":
              case "form:":
              case "uof:":
              case ":":
              case ":":
                break;
              default:
                if (m.WTF)
                  throw new Error(C);
            }
        }
      return h = { Sheets: j, SheetNames: oe, Workbook: Ot }, m.bookSheets && delete h.Sheets, h;
    }
    function j9(h, g) {
      g = g || {}, Oo(h, "META-INF/manifest.xml") && function(b, T) {
        for (var A, C, D = hx(b); A = nv.exec(D); )
          switch (A[3]) {
            case "manifest":
              break;
            case "file-entry":
              if ((C = Dr(A[0], !1)).path == "/" && C.type !== ree)
                throw new Error("This OpenDocument is not a spreadsheet");
              break;
            case "encryption-data":
            case "algorithm":
            case "start-key-generation":
            case "key-derivation":
              throw new Error("Unsupported ODS Encryption");
            default:
              if (T && T.WTF)
                throw A;
          }
      }(Li(h, "META-INF/manifest.xml"), g);
      var m = mo(h, "content.xml");
      if (!m)
        throw new Error("Missing content.xml in ODS / UOF file");
      return g = Y9(Rn(m), g), Oo(h, "meta.xml") && (g.Props = pI(Li(h, "meta.xml"))), g;
    }
    function q9(h, g) {
      return Y9(h, g);
    }
    var Ire = function() {
      var h = ["<office:master-styles>", '<style:master-page style:name="mp1" style:page-layout-name="mp1">', "<style:header/>", '<style:header-left style:display="false"/>', "<style:footer/>", '<style:footer-left style:display="false"/>', "</style:master-page>", "</office:master-styles>"].join(""), g = "<office:document-styles " + rv({ "xmlns:office": "urn:oasis:names:tc:opendocument:xmlns:office:1.0", "xmlns:table": "urn:oasis:names:tc:opendocument:xmlns:table:1.0", "xmlns:style": "urn:oasis:names:tc:opendocument:xmlns:style:1.0", "xmlns:text": "urn:oasis:names:tc:opendocument:xmlns:text:1.0", "xmlns:draw": "urn:oasis:names:tc:opendocument:xmlns:drawing:1.0", "xmlns:fo": "urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0", "xmlns:xlink": "http://www.w3.org/1999/xlink", "xmlns:dc": "http://purl.org/dc/elements/1.1/", "xmlns:number": "urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0", "xmlns:svg": "urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0", "xmlns:of": "urn:oasis:names:tc:opendocument:xmlns:of:1.2", "office:version": "1.2" }) + ">" + h + "</office:document-styles>";
      return function() {
        return Ti + g;
      };
    }(), X9 = function() {
      function h(m, b, T) {
        var A = [];
        A.push('      <table:table table:name="' + Dn(b.SheetNames[T]) + `" table:style-name="ta1">
`);
        var C = 0, D = 0, I = Ya(m["!ref"] || "A1"), R = m["!merges"] || [], N = 0, W = Array.isArray(m);
        if (m["!cols"])
          for (D = 0; D <= I.e.c; ++D)
            A.push("        <table:table-column" + (m["!cols"][D] ? ' table:style-name="co' + m["!cols"][D].ods + '"' : "") + `></table:table-column>
`);
        for (var H = "", j = m["!rows"] || [], C = 0; C < I.s.r; ++C)
          H = j[C] ? ' table:style-name="ro' + j[C].ods + '"' : "", A.push("        <table:table-row" + H + `></table:table-row>
`);
        for (; C <= I.e.r; ++C) {
          for (H = j[C] ? ' table:style-name="ro' + j[C].ods + '"' : "", A.push("        <table:table-row" + H + `>
`), D = 0; D < I.s.c; ++D)
            A.push(g);
          for (; D <= I.e.c; ++D) {
            for (var oe = !1, X = {}, _e = "", N = 0; N != R.length; ++N)
              if (!(R[N].s.c > D || R[N].s.r > C || R[N].e.c < D || R[N].e.r < C)) {
                R[N].s.c == D && R[N].s.r == C || (oe = !0), X["table:number-columns-spanned"] = R[N].e.c - R[N].s.c + 1, X["table:number-rows-spanned"] = R[N].e.r - R[N].s.r + 1;
                break;
              }
            if (oe)
              A.push(`          <table:covered-table-cell/>
`);
            else {
              var ue = kr({ r: C, c: D }), ee = W ? (m[C] || [])[D] : m[ue];
              if (ee && ee.f && (X["table:formula"] = Dn(("of:=" + ee.f.replace(Kx, "$1[.$2$3$4$5]").replace(/\]:\[/g, ":")).replace(/;/g, "|").replace(/,/g, ";")), ee.F && ee.F.slice(0, ue.length) == ue && (me = Ya(ee.F), X["table:number-matrix-columns-spanned"] = me.e.c - me.s.c + 1, X["table:number-matrix-rows-spanned"] = me.e.r - me.s.r + 1)), ee) {
                switch (ee.t) {
                  case "b":
                    _e = ee.v ? "TRUE" : "FALSE", X["office:value-type"] = "boolean", X["office:boolean-value"] = ee.v ? "true" : "false";
                    break;
                  case "n":
                    _e = ee.w || String(ee.v || 0), X["office:value-type"] = "float", X["office:value"] = ee.v || 0;
                    break;
                  case "s":
                  case "str":
                    _e = ee.v == null ? "" : ee.v, X["office:value-type"] = "string";
                    break;
                  case "d":
                    _e = ee.w || jn(ee.v).toISOString(), X["office:value-type"] = "date", X["office:date-value"] = jn(ee.v).toISOString(), X["table:style-name"] = "ce1";
                    break;
                  default:
                    A.push(g);
                    continue;
                }
                var me, ue = Dn(_e).replace(/  +/g, function(Ce) {
                  return '<text:s text:c="' + Ce.length + '"/>';
                }).replace(/\t/g, "<text:tab/>").replace(/\n/g, "</text:p><text:p>").replace(/^ /, "<text:s/>").replace(/ $/, "<text:s/>");
                ee.l && ee.l.Target && (ue = Rt("text:a", ue, { "xlink:href": (me = (me = (me = ee.l.Target).charAt(0) == "#" ? "#" + me.slice(1).replace(/\./, "!") : me).charAt(0) != "#" && !me.match(/^\w+:/) ? "../" + me : me).replace(/&/g, "&amp;") })), A.push("          " + Rt("table:table-cell", Rt("text:p", ue, {}), X) + `
`);
              } else
                A.push(g);
            }
          }
          A.push(`        </table:table-row>
`);
        }
        return A.push(`      </table:table>
`), A.join("");
      }
      var g = `          <table:table-cell />
`;
      return function(m, b) {
        var T = [Ti], A = rv({ "xmlns:office": "urn:oasis:names:tc:opendocument:xmlns:office:1.0", "xmlns:table": "urn:oasis:names:tc:opendocument:xmlns:table:1.0", "xmlns:style": "urn:oasis:names:tc:opendocument:xmlns:style:1.0", "xmlns:text": "urn:oasis:names:tc:opendocument:xmlns:text:1.0", "xmlns:draw": "urn:oasis:names:tc:opendocument:xmlns:drawing:1.0", "xmlns:fo": "urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0", "xmlns:xlink": "http://www.w3.org/1999/xlink", "xmlns:dc": "http://purl.org/dc/elements/1.1/", "xmlns:meta": "urn:oasis:names:tc:opendocument:xmlns:meta:1.0", "xmlns:number": "urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0", "xmlns:presentation": "urn:oasis:names:tc:opendocument:xmlns:presentation:1.0", "xmlns:svg": "urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0", "xmlns:chart": "urn:oasis:names:tc:opendocument:xmlns:chart:1.0", "xmlns:dr3d": "urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0", "xmlns:math": "http://www.w3.org/1998/Math/MathML", "xmlns:form": "urn:oasis:names:tc:opendocument:xmlns:form:1.0", "xmlns:script": "urn:oasis:names:tc:opendocument:xmlns:script:1.0", "xmlns:ooo": "http://openoffice.org/2004/office", "xmlns:ooow": "http://openoffice.org/2004/writer", "xmlns:oooc": "http://openoffice.org/2004/calc", "xmlns:dom": "http://www.w3.org/2001/xml-events", "xmlns:xforms": "http://www.w3.org/2002/xforms", "xmlns:xsd": "http://www.w3.org/2001/XMLSchema", "xmlns:xsi": "http://www.w3.org/2001/XMLSchema-instance", "xmlns:sheet": "urn:oasis:names:tc:opendocument:sh33tjs:1.0", "xmlns:rpt": "http://openoffice.org/2005/report", "xmlns:of": "urn:oasis:names:tc:opendocument:xmlns:of:1.2", "xmlns:xhtml": "http://www.w3.org/1999/xhtml", "xmlns:grddl": "http://www.w3.org/2003/g/data-view#", "xmlns:tableooo": "http://openoffice.org/2009/table", "xmlns:drawooo": "http://openoffice.org/2010/draw", "xmlns:calcext": "urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0", "xmlns:loext": "urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0", "xmlns:field": "urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0", "xmlns:formx": "urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0", "xmlns:css3t": "http://www.w3.org/TR/css3-text/", "office:version": "1.2" }), C = rv({ "xmlns:config": "urn:oasis:names:tc:opendocument:xmlns:config:1.0", "office:mimetype": "application/vnd.oasis.opendocument.spreadsheet" });
        b.bookType == "fods" ? (T.push("<office:document" + A + C + `>
`), T.push(dI().replace(/office:document-meta/g, "office:meta"))) : T.push("<office:document-content" + A + `>
`), function(I, R) {
          I.push(` <office:automatic-styles>
`), I.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`), I.push(`   <number:month number:style="long"/>
`), I.push(`   <number:text>/</number:text>
`), I.push(`   <number:day number:style="long"/>
`), I.push(`   <number:text>/</number:text>
`), I.push(`   <number:year/>
`), I.push(`  </number:date-style>
`);
          var N = 0;
          R.SheetNames.map(function(H) {
            return R.Sheets[H];
          }).forEach(function(H) {
            if (H && H["!cols"]) {
              for (var j = 0; j < H["!cols"].length; ++j)
                if (H["!cols"][j]) {
                  var oe = H["!cols"][j];
                  if (oe.width == null && oe.wpx == null && oe.wch == null)
                    continue;
                  lc(oe), oe.ods = N, oe = H["!cols"][j].wpx + "px", I.push('  <style:style style:name="co' + N + `" style:family="table-column">
`), I.push('   <style:table-column-properties fo:break-before="auto" style:column-width="' + oe + `"/>
`), I.push(`  </style:style>
`), ++N;
                }
            }
          });
          var W = 0;
          R.SheetNames.map(function(H) {
            return R.Sheets[H];
          }).forEach(function(H) {
            if (H && H["!rows"])
              for (var j, oe = 0; oe < H["!rows"].length; ++oe)
                H["!rows"][oe] && (H["!rows"][oe].ods = W, j = H["!rows"][oe].hpx + "px", I.push('  <style:style style:name="ro' + W + `" style:family="table-row">
`), I.push('   <style:table-row-properties fo:break-before="auto" style:row-height="' + j + `"/>
`), I.push(`  </style:style>
`), ++W);
          }), I.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`), I.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`), I.push(`  </style:style>
`), I.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`), I.push(` </office:automatic-styles>
`);
        }(T, m), T.push(`  <office:body>
`), T.push(`    <office:spreadsheet>
`);
        for (var D = 0; D != m.SheetNames.length; ++D)
          T.push(h(m.Sheets[m.SheetNames[D]], m, D));
        return T.push(`    </office:spreadsheet>
`), T.push(`  </office:body>
`), b.bookType == "fods" ? T.push("</office:document>") : T.push("</office:document-content>"), T.join("");
      };
    }();
    function K9(h, g) {
      if (g.bookType == "fods")
        return X9(h, g);
      var m = ix(), b = [], T = [];
      return Hr(m, "mimetype", "application/vnd.oasis.opendocument.spreadsheet"), Hr(m, "content.xml", X9(h, g)), b.push(["content.xml", "text/xml"]), T.push(["content.xml", "ContentFile"]), Hr(m, "styles.xml", Ire(h, g)), b.push(["styles.xml", "text/xml"]), T.push(["styles.xml", "StylesFile"]), Hr(m, "meta.xml", Ti + dI()), b.push(["meta.xml", "text/xml"]), T.push(["meta.xml", "MetadataFile"]), Hr(m, "manifest.rdf", function(A) {
        var C = [Ti];
        C.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);
        for (var D = 0; D != A.length; ++D)
          C.push(fI(A[D][0], A[D][1])), C.push([`  <rdf:Description rdf:about="">
`, '    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="' + A[D][0] + `"/>
`, `  </rdf:Description>
`].join(""));
        return C.push(fI("", "Document", "pkg")), C.push("</rdf:RDF>"), C.join("");
      }(T)), b.push(["manifest.rdf", "application/rdf+xml"]), Hr(m, "META-INF/manifest.xml", function(A) {
        var C = [Ti];
        C.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`), C.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);
        for (var D = 0; D < A.length; ++D)
          C.push('  <manifest:file-entry manifest:full-path="' + A[D][0] + '" manifest:media-type="' + A[D][1] + `"/>
`);
        return C.push("</manifest:manifest>"), C.join("");
      }(b)), m;
    }
    function jl(h) {
      return new DataView(h.buffer, h.byteOffset, h.byteLength);
    }
    function s4(h) {
      return typeof TextDecoder < "u" ? new TextDecoder().decode(h) : Rn(U(h));
    }
    function Z9(h) {
      return typeof TextEncoder < "u" ? new TextEncoder().encode(h) : F(Ks(h));
    }
    function hc(h) {
      var g = h.reduce(function(T, A) {
        return T + A.length;
      }, 0), m = new Uint8Array(g), b = 0;
      return h.forEach(function(T) {
        m.set(T, b), b += T.length;
      }), m;
    }
    function J9(h) {
      return 16843009 * ((h = (858993459 & (h -= h >> 1 & 1431655765)) + (h >> 2 & 858993459)) + (h >> 4) & 252645135) >>> 24;
    }
    function Dv(h, g) {
      var m = g ? g[0] : 0, b = 127 & h[m];
      return 128 <= h[m++] && (b |= (127 & h[m]) << 7, h[m++] < 128 || (b |= (127 & h[m]) << 14, h[m++] < 128 || (b |= (127 & h[m]) << 21, h[m++] < 128 || (b += (127 & h[m]) * Math.pow(2, 28), ++m, h[m++] < 128 || (b += (127 & h[m]) * Math.pow(2, 35), ++m, h[m++] < 128 || (b += (127 & h[m]) * Math.pow(2, 42), ++m, h[m++])))))), g && (g[0] = m), b;
    }
    function pn(h) {
      var g = new Uint8Array(7);
      g[0] = 127 & h;
      var m = 1;
      return 127 < h && (g[m - 1] |= 128, g[m] = h >> 7 & 127, ++m, h <= 16383 || (g[m - 1] |= 128, g[m] = h >> 14 & 127, ++m, h <= 2097151 || (g[m - 1] |= 128, g[m] = h >> 21 & 127, ++m, h <= 268435455 || (g[m - 1] |= 128, g[m] = h / 256 >>> 21 & 127, ++m, h <= 34359738367 || (g[m - 1] |= 128, g[m] = h / 65536 >>> 21 & 127, ++m, h <= 4398046511103 || (g[m - 1] |= 128, g[m] = h / 16777216 >>> 21 & 127, ++m)))))), g.slice(0, m);
    }
    function Jn(h) {
      var g = 0, m = 127 & h[0];
      return 128 <= h[g++] && (m |= (127 & h[1]) << 7, h[g++] < 128 || (m |= (127 & h[2]) << 14, h[g++] < 128 || (m |= (127 & h[3]) << 21, h[+g] < 128 || (m |= (127 & h[4]) << 28)))), m;
    }
    function an(h) {
      for (var g = [], m = [0]; m[0] < h.length; ) {
        var b, T = m[0], A = Dv(h, m), C = 7 & A, D = 0;
        if ((A = Math.floor(A / 8)) == 0)
          break;
        switch (C) {
          case 0:
            for (var I = m[0]; 128 <= h[m[0]++]; )
              ;
            b = h.slice(I, m[0]);
            break;
          case 5:
            D = 4, b = h.slice(m[0], m[0] + D), m[0] += D;
            break;
          case 1:
            D = 8, b = h.slice(m[0], m[0] + D), m[0] += D;
            break;
          case 2:
            D = Dv(h, m), b = h.slice(m[0], m[0] + D), m[0] += D;
            break;
          case 3:
          case 4:
          default:
            throw new Error("PB Type ".concat(C, " for Field ").concat(A, " at offset ").concat(T));
        }
        var R = { data: b, type: C };
        g[A] == null ? g[A] = [R] : g[A].push(R);
      }
      return g;
    }
    function ai(h) {
      var g = [];
      return h.forEach(function(m, b) {
        b != 0 && m.forEach(function(T) {
          T.data && (g.push(pn(8 * b + T.type)), T.type == 2 && g.push(pn(T.data.length)), g.push(T.data));
        });
      }), hc(g);
    }
    function l4(h, g) {
      return h?.map(function(m) {
        return g(m.data);
      }) || [];
    }
    function Vo(h) {
      for (var g = [], m = [0]; m[0] < h.length; ) {
        var b = Dv(h, m), T = an(h.slice(m[0], m[0] + b));
        m[0] += b;
        var A = { id: Jn(T[1][0].data), messages: [] };
        T[2].forEach(function(I) {
          var D = an(I.data), I = Jn(D[3][0].data);
          A.messages.push({ meta: D, data: h.slice(m[0], m[0] + I) }), m[0] += I;
        }), (b = T[3]) != null && b[0] && (A.merge = 0 < Jn(T[3][0].data) >>> 0), g.push(A);
      }
      return g;
    }
    function Dh(h) {
      var g = [];
      return h.forEach(function(m) {
        var b = [[], [{ data: pn(m.id), type: 0 }], []];
        m.merge != null && (b[3] = [{ data: pn(+!!m.merge), type: 0 }]);
        var T = [];
        m.messages.forEach(function(A) {
          T.push(A.data), A.meta[3] = [{ type: 0, data: pn(A.data.length) }], b[2].push({ data: ai(A.meta), type: 2 });
        }), m = ai(b), g.push(pn(m.length)), g.push(m), T.forEach(function(A) {
          return g.push(A);
        });
      }), hc(g);
    }
    function Uo(h) {
      for (var g = [], m = 0; m < h.length; ) {
        var b = h[m++], T = h[m] | h[m + 1] << 8 | h[m + 2] << 16;
        m += 3, g.push(function(A, C) {
          if (A != 0)
            throw new Error("Unexpected Snappy chunk type ".concat(A));
          for (var D = [0], I = Dv(C, D), R = []; D[0] < C.length; ) {
            var N = 3 & C[D[0]];
            if (N != 0) {
              var W = 0, H = 0;
              if (N == 1 ? (H = 4 + (C[D[0]] >> 2 & 7), W = (224 & C[D[0]++]) << 3, W |= C[D[0]++]) : (H = 1 + (C[D[0]++] >> 2), N == 2 ? (W = C[D[0]] | C[D[0] + 1] << 8, D[0] += 2) : (W = (C[D[0]] | C[D[0] + 1] << 8 | C[D[0] + 2] << 16 | C[D[0] + 3] << 24) >>> 0, D[0] += 4)), R = [hc(R)], W == 0)
                throw new Error("Invalid offset 0");
              if (W > R[0].length)
                throw new Error("Invalid offset beyond length");
              if (W <= H)
                for (R.push(R[0].slice(-W)), H -= W; H >= R[R.length - 1].length; )
                  R.push(R[R.length - 1]), H -= R[R.length - 1].length;
              R.push(R[0].slice(-W, -W + H));
            } else
              N = C[D[0]++] >> 2, N < 60 ? ++N : (W = N - 59, N = C[D[0]], 1 < W && (N |= C[D[0] + 1] << 8), 2 < W && (N |= C[D[0] + 2] << 16), 3 < W && (N |= C[D[0] + 3] << 24), N >>>= 0, N++, D[0] += W), R.push(C.slice(D[0], D[0] + N)), D[0] += N;
          }
          if ((A = hc(R)).length != I)
            throw new Error("Unexpected length: ".concat(A.length, " != ").concat(I));
          return A;
        }(b, h.slice(m, m + T))), m += T;
      }
      if (m !== h.length)
        throw new Error("data is not a valid framed stream!");
      return hc(g);
    }
    function kh(h) {
      for (var g = [], m = 0; m < h.length; ) {
        var b = Math.min(h.length - m, 268435455), T = new Uint8Array(4);
        g.push(T);
        var A = pn(b), C = A.length;
        g.push(A), b <= 60 ? (C++, g.push(new Uint8Array([b - 1 << 2]))) : b <= 256 ? (C += 2, g.push(new Uint8Array([240, b - 1 & 255]))) : b <= 65536 ? (C += 3, g.push(new Uint8Array([244, b - 1 & 255, b - 1 >> 8 & 255]))) : b <= 16777216 ? (C += 4, g.push(new Uint8Array([248, b - 1 & 255, b - 1 >> 8 & 255, b - 1 >> 16 & 255]))) : b <= 4294967296 && (C += 5, g.push(new Uint8Array([252, b - 1 & 255, b - 1 >> 8 & 255, b - 1 >> 16 & 255, b - 1 >>> 24 & 255]))), g.push(h.slice(m, m + b)), C += b, T[0] = 0, T[1] = 255 & C, T[2] = C >> 8 & 255, T[3] = C >> 16 & 255, m += b;
      }
      return hc(g);
    }
    function Pre(h, g, m) {
      var b, T = jl(h), A = T.getUint32(8, !0), C = 12, D = -1, I = -1, R = NaN, N = NaN, W = new Date(2001, 0, 1);
      switch (1 & A && (R = function(H, j) {
        for (var oe = (127 & H[j + 15]) << 7 | H[j + 14] >> 1, X = 1 & H[j + 14], _e = j + 13; j <= _e; --_e)
          X = 256 * X + H[_e];
        return (128 & H[j + 15] ? -X : X) * Math.pow(10, oe - 6176);
      }(h, C), C += 16), 2 & A && (N = T.getFloat64(C, !0), C += 8), 4 & A && (W.setTime(W.getTime() + 1e3 * T.getFloat64(C, !0)), C += 8), 8 & A && (I = T.getUint32(C, !0), C += 4), 16 & A && (D = T.getUint32(C, !0), C += 4), h[1]) {
        case 0:
          break;
        case 2:
          b = { t: "n", v: R };
          break;
        case 3:
          b = { t: "s", v: g[I] };
          break;
        case 5:
          b = { t: "d", v: W };
          break;
        case 6:
          b = { t: "b", v: 0 < N };
          break;
        case 7:
          b = { t: "n", v: N / 86400 };
          break;
        case 8:
          b = { t: "e", v: 0 };
          break;
        case 9:
          if (!(-1 < D))
            throw new Error("Unsupported cell type ".concat(h[1], " : ").concat(31 & A, " : ").concat(h.slice(0, 4)));
          b = { t: "s", v: m[D] };
          break;
        case 10:
          b = { t: "n", v: R };
          break;
        default:
          throw new Error("Unsupported cell type ".concat(h[1], " : ").concat(31 & A, " : ").concat(h.slice(0, 4)));
      }
      return b;
    }
    function u4(h, g) {
      var m = new Uint8Array(32), b = jl(m), T = 12, A = 0;
      switch (m[0] = 5, h.t) {
        case "n":
          m[1] = 2, function(C, D, I) {
            var R = Math.floor(I == 0 ? 0 : Math.LOG10E * Math.log(Math.abs(I))) + 6176 - 16, N = I / Math.pow(10, R - 6176);
            C[D + 15] |= R >> 7, C[D + 14] |= (127 & R) << 1;
            for (var W = 0; 1 <= N; ++W, N /= 256)
              C[D + W] = 255 & N;
            C[D + 15] |= 0 <= I ? 0 : 128;
          }(m, T, h.v), A |= 1, T += 16;
          break;
        case "b":
          m[1] = 6, b.setFloat64(T, h.v ? 1 : 0, !0), A |= 2, T += 8;
          break;
        case "s":
          if (g.indexOf(h.v) == -1)
            throw new Error("Value ".concat(h.v, " missing from SST!"));
          m[1] = 3, b.setUint32(T, g.indexOf(h.v), !0), A |= 8, T += 4;
          break;
        default:
          throw "unsupported cell type " + h.t;
      }
      return b.setUint32(8, A, !0), m.slice(0, T);
    }
    function c4(h, g) {
      var m = new Uint8Array(32), b = jl(m), T = 12, A = 0;
      switch (m[0] = 3, h.t) {
        case "n":
          m[2] = 2, b.setFloat64(T, h.v, !0), A |= 32, T += 8;
          break;
        case "b":
          m[2] = 6, b.setFloat64(T, h.v ? 1 : 0, !0), A |= 32, T += 8;
          break;
        case "s":
          if (g.indexOf(h.v) == -1)
            throw new Error("Value ".concat(h.v, " missing from SST!"));
          m[2] = 3, b.setUint32(T, g.indexOf(h.v), !0), A |= 16, T += 4;
          break;
        default:
          throw "unsupported cell type " + h.t;
      }
      return b.setUint32(4, A, !0), m.slice(0, T);
    }
    function Rre(h, g, m) {
      switch (h[0]) {
        case 0:
        case 1:
        case 2:
        case 3:
          return function(b, T, A, C) {
            var D, I = jl(b), R = I.getUint32(4, !0), N = (1 < C ? 12 : 8) + 4 * J9(R & (1 < C ? 3470 : 398)), W = -1, H = -1, j = NaN, oe = new Date(2001, 0, 1);
            switch (512 & R && (W = I.getUint32(N, !0), N += 4), N += 4 * J9(R & (1 < C ? 12288 : 4096)), 16 & R && (H = I.getUint32(N, !0), N += 4), 32 & R && (j = I.getFloat64(N, !0), N += 8), 64 & R && (oe.setTime(oe.getTime() + 1e3 * I.getFloat64(N, !0)), N += 8), b[2]) {
              case 0:
                break;
              case 2:
                D = { t: "n", v: j };
                break;
              case 3:
                D = { t: "s", v: T[H] };
                break;
              case 5:
                D = { t: "d", v: oe };
                break;
              case 6:
                D = { t: "b", v: 0 < j };
                break;
              case 7:
                D = { t: "n", v: j / 86400 };
                break;
              case 8:
                D = { t: "e", v: 0 };
                break;
              case 9:
                if (-1 < W)
                  D = { t: "s", v: A[W] };
                else if (-1 < H)
                  D = { t: "s", v: T[H] };
                else {
                  if (isNaN(j))
                    throw new Error("Unsupported cell type ".concat(b.slice(0, 4)));
                  D = { t: "n", v: j };
                }
                break;
              default:
                throw new Error("Unsupported cell type ".concat(b.slice(0, 4)));
            }
            return D;
          }(h, g, m, h[0]);
        case 5:
          return Pre(h, g, m);
        default:
          throw new Error("Unsupported payload version ".concat(h[0]));
      }
    }
    function pa(h) {
      return Dv(an(h)[1][0].data);
    }
    function Q9(h, b) {
      var b = an(b.data), m = Jn(b[1][0].data), b = b[3], T = [];
      return (b || []).forEach(function(A) {
        var C = an(A.data), D = Jn(C[1][0].data) >>> 0;
        switch (m) {
          case 1:
            T[D] = s4(C[3][0].data);
            break;
          case 8:
            var R = an(h[pa(C[9][0].data)][0].data), I = h[pa(R[1][0].data)][0], R = Jn(I.meta[1][0].data);
            if (R != 2001)
              throw new Error("2000 unexpected reference to ".concat(R));
            I = an(I.data), T[D] = I[3].map(function(N) {
              return s4(N.data);
            }).join("");
        }
      }), T;
    }
    function Lre(h, T) {
      var m = an(T.data), b = (T = m?.[7]) != null && T[0] ? 0 < Jn(m[7][0].data) >>> 0 ? 1 : 0 : -1, T = l4(m[5], function(A) {
        return function(C, D) {
          var I, R, N, W = an(C), H = Jn(W[1][0].data) >>> 0, j = Jn(W[2][0].data) >>> 0, oe = ((C = (oe = W[8]) == null ? void 0 : oe[0]) == null ? void 0 : C.data) && 0 < Jn(W[8][0].data) || !1;
          if ((C = (C = W[7]) == null ? void 0 : C[0]) != null && C.data && D != 0)
            R = (I = (I = W[7]) == null ? void 0 : I[0]) == null ? void 0 : I.data, N = (I = (I = W[6]) == null ? void 0 : I[0]) == null ? void 0 : I.data;
          else {
            if ((I = (I = W[4]) == null ? void 0 : I[0]) == null || !I.data || D == 1)
              throw "NUMBERS Tile missing ".concat(D, " cell storage");
            R = (D = (D = W[4]) == null ? void 0 : D[0]) == null ? void 0 : D.data, N = (W = (W = W[3]) == null ? void 0 : W[0]) == null ? void 0 : W.data;
          }
          for (var X = oe ? 4 : 1, _e = jl(R), ue = [], ee = 0; ee < R.length / 2; ++ee) {
            var me = _e.getUint16(2 * ee, !0);
            me < 65535 && ue.push([ee, me]);
          }
          if (ue.length != j)
            throw "Expected ".concat(j, " cells, found ").concat(ue.length);
          for (var Te = [], ee = 0; ee < ue.length - 1; ++ee)
            Te[ue[ee][0]] = N.subarray(ue[ee][1] * X, ue[ee + 1][1] * X);
          return 1 <= ue.length && (Te[ue[ue.length - 1][0]] = N.subarray(ue[ue.length - 1][1] * X)), { R: H, cells: Te };
        }(A, b);
      });
      return { nrows: Jn(m[4][0].data) >>> 0, data: T.reduce(function(A, C) {
        return A[C.R] || (A[C.R] = []), C.cells.forEach(function(D, I) {
          if (A[C.R][I])
            throw new Error("Duplicate cell r=".concat(C.R, " c=").concat(I));
          A[C.R][I] = D;
        }), A;
      }, []) };
    }
    function Ore(h, T) {
      var m = { "!ref": "A1" }, b = h[pa(an(T.data)[2][0].data)], T = Jn(b[0].meta[1][0].data);
      if (T != 6001)
        throw new Error("6000 unexpected reference to ".concat(T));
      return function(A, I, D) {
        var W = an(I.data);
        if ((I = { s: { r: 0, c: 0 }, e: { r: 0, c: 0 } }).e.r = (Jn(W[6][0].data) >>> 0) - 1, I.e.r < 0)
          throw new Error("Invalid row varint ".concat(W[6][0].data));
        if (I.e.c = (Jn(W[7][0].data) >>> 0) - 1, I.e.c < 0)
          throw new Error("Invalid col varint ".concat(W[7][0].data));
        D["!ref"] = Ur(I);
        var I = an(W[4][0].data), R = Q9(A, A[pa(I[4][0].data)][0]), N = (W = I[17]) != null && W[0] ? Q9(A, A[pa(I[17][0].data)][0]) : [], W = an(I[3][0].data), H = 0;
        if (W[1].forEach(function(oe) {
          var X = an(oe.data), oe = A[pa(X[2][0].data)][0], X = Jn(oe.meta[1][0].data);
          if (X != 6002)
            throw new Error("6001 unexpected reference to ".concat(X));
          oe = Lre(0, oe), oe.data.forEach(function(_e, ue) {
            _e.forEach(function(ee, me) {
              me = kr({ r: H + ue, c: me }), ee = Rre(ee, R, N), ee && (D[me] = ee);
            });
          }), H += oe.nrows;
        }), (W = I[13]) != null && W[0]) {
          if (W = A[pa(I[13][0].data)][0], I = Jn(W.meta[1][0].data), I != 6144)
            throw new Error("Expected merge type 6144, found ".concat(I));
          D["!merges"] = (W = an(W.data)) == null ? void 0 : W[1].map(function(oe) {
            var X = an(oe.data), oe = jl(an(X[1][0].data)[1][0].data), X = jl(an(X[2][0].data)[1][0].data);
            return { s: { r: oe.getUint16(0, !0), c: oe.getUint16(2, !0) }, e: { r: oe.getUint16(0, !0) + X.getUint16(0, !0) - 1, c: oe.getUint16(2, !0) + X.getUint16(2, !0) - 1 } };
          });
        }
      }(h, b[0], m), m;
    }
    function Fre(h, g) {
      var m = y4(), b = an(g.data);
      if ((g = b[2]) != null && g[0])
        throw new Error("Keynote presentations are not supported");
      if (l4(b[1], pa).forEach(function(T) {
        h[T].forEach(function(A) {
          var C, D, I, R;
          Jn(A.meta[1][0].data) == 2 && (D = h, A = an((I = A).data), R = { name: (I = A[1]) != null && I[0] ? s4(A[1][0].data) : "", sheets: [] }, l4(A[2], pa).forEach(function(N) {
            D[N].forEach(function(W) {
              Jn(W.meta[1][0].data) == 6e3 && R.sheets.push(Ore(D, W));
            });
          }), (C = R).sheets.forEach(function(N, W) {
            _4(m, N, W == 0 ? C.name : C.name + "_" + W, !0);
          }));
        });
      }), m.SheetNames.length == 0)
        throw new Error("Empty NUMBERS file");
      return m;
    }
    function eP(h) {
      var g = {}, m = [];
      if (h.FullPaths.forEach(function(T) {
        if (T.match(/\.iwpv2/))
          throw new Error("Unsupported password protection");
      }), h.FileIndex.forEach(function(T) {
        if (T.name.match(/\.iwa$/)) {
          var A, C;
          try {
            A = Uo(T.content);
          } catch (D) {
            return console.log("?? " + T.content.length + " " + (D.message || D));
          }
          try {
            C = Vo(A);
          } catch (D) {
            return console.log("## " + (D.message || D));
          }
          C.forEach(function(D) {
            g[D.id] = D.messages, m.push(D.id);
          });
        }
      }), !m.length)
        throw new Error("File has no messages");
      if ((h = (h = (h = (h = g?.[1]) == null ? void 0 : h[0]) == null ? void 0 : h.meta) == null ? void 0 : h[1]) != null && h[0].data && Jn(g[1][0].meta[1][0].data) == 1e4)
        throw new Error("Pages documents are not supported");
      var b = ((h = (h = (h = (h = g?.[1]) == null ? void 0 : h[0]) == null ? void 0 : h.meta) == null ? void 0 : h[1]) == null ? void 0 : h[0].data) && Jn(g[1][0].meta[1][0].data) == 1 && g[1][0];
      if (b || m.forEach(function(T) {
        g[T].forEach(function(A) {
          if (Jn(A.meta[1][0].data) >>> 0 == 1) {
            if (b)
              throw new Error("Document has multiple roots");
            b = A;
          }
        });
      }), !b)
        throw new Error("Cannot find Document root");
      return Fre(g, b);
    }
    function Nre(h, g) {
      if (!g || !g.numbers)
        throw new Error("Must pass a `numbers` option -- check the README");
      var m = h.Sheets[h.SheetNames[0]];
      1 < h.SheetNames.length && console.error("The Numbers writer currently writes only the first table");
      var b = Ya(m["!ref"]);
      b.s.r = b.s.c = 0;
      var T = !1;
      9 < b.e.c && (T = !0, b.e.c = 9), 49 < b.e.r && (T = !0, b.e.r = 49), T && console.error("The Numbers writer is currently limited to ".concat(Ur(b)));
      var A = ay(m, { range: b, header: 1 }), C = ["~Sh33tJ5~"];
      A.forEach(function(At) {
        return At.forEach(function(Dt) {
          typeof Dt == "string" && C.push(Dt);
        });
      });
      var D = {}, I = [], R = tr.read(g.numbers, { type: "base64" });
      R.FileIndex.map(function(At, Dt) {
        return [At, R.FullPaths[Dt]];
      }).forEach(function(At) {
        var Dt = At[0], Tt = At[1];
        Dt.type == 2 && Dt.name.match(/\.iwa/) && Vo(Uo(Dt.content)).forEach(function(ct) {
          I.push(ct.id), D[ct.id] = { deps: [], location: Tt, type: Jn(ct.messages[0].meta[1][0].data) };
        });
      }), I.sort(function(At, Dt) {
        return At - Dt;
      });
      var N = I.filter(function(At) {
        return 1 < At;
      }).map(function(At) {
        return [At, pn(At)];
      });
      R.FileIndex.map(function(At, Dt) {
        return [At, R.FullPaths[Dt]];
      }).forEach(function(At) {
        var Dt = At[0];
        At[1], Dt.name.match(/\.iwa/) && Vo(Uo(Dt.content)).forEach(function(Tt) {
          Tt.messages.forEach(function(ct) {
            N.forEach(function(Kt) {
              Tt.messages.some(function(Qt) {
                return Jn(Qt.meta[1][0].data) != 11006 && function(hr, Gr) {
                  e:
                    for (var Ht = 0; Ht <= hr.length - Gr.length; ++Ht) {
                      for (var yt = 0; yt < Gr.length; ++yt)
                        if (hr[Ht + yt] != Gr[yt])
                          continue e;
                      return !0;
                    }
                  return !1;
                }(Qt.data, Kt[1]);
              }) && D[Kt[0]].deps.push(Tt.id);
            });
          });
        });
      });
      for (var W, H = tr.find(R, D[1].location), j = Vo(Uo(H.content)), oe = 0; oe < j.length; ++oe) {
        var X = j[oe];
        X.id == 1 && (W = X);
      }
      for (var _e = pa(an(W.messages[0].data)[1][0].data), j = Vo(Uo((H = tr.find(R, D[_e].location)).content)), oe = 0; oe < j.length; ++oe)
        (X = j[oe]).id == _e && (W = X);
      var it = an(W.messages[0].data);
      for (it[1] = [{ type: 2, data: Z9(h.SheetNames[0]) }], W.messages[0].data = ai(it), H.content = kh(Dh(j)), H.size = H.content.length, _e = pa(it[2][0].data), j = Vo(Uo((H = tr.find(R, D[_e].location)).content)), oe = 0; oe < j.length; ++oe)
        (X = j[oe]).id == _e && (W = X);
      for (_e = pa(an(W.messages[0].data)[2][0].data), j = Vo(Uo((H = tr.find(R, D[_e].location)).content)), oe = 0; oe < j.length; ++oe)
        (X = j[oe]).id == _e && (W = X);
      T = an(W.messages[0].data), T[6][0].data = pn(b.e.r + 1), T[7][0].data = pn(b.e.c + 1);
      for (var ue = pa(T[46][0].data), g = tr.find(R, D[ue].location), ee = Vo(Uo(g.content)), me = 0; me < ee.length && ee[me].id != ue; ++me)
        ;
      if (ee[me].id != ue)
        throw "Bad ColumnRowUIDMapArchive";
      var Te = an(ee[me].messages[0].data);
      Te[1] = [], Te[2] = [], Te[3] = [];
      for (var Ce = 0; Ce <= b.e.c; ++Ce)
        Te[1].push({ type: 2, data: ai([[], [{ type: 0, data: pn(Ce + 420690) }], [{ type: 0, data: pn(Ce + 420690) }]]) }), Te[2].push({ type: 0, data: pn(Ce) }), Te[3].push({ type: 0, data: pn(Ce) });
      Te[4] = [], Te[5] = [], Te[6] = [];
      for (var Fe = 0; Fe <= b.e.r; ++Fe)
        Te[4].push({ type: 2, data: ai([[], [{ type: 0, data: pn(Fe + 726270) }], [{ type: 0, data: pn(Fe + 726270) }]]) }), Te[5].push({ type: 0, data: pn(Fe) }), Te[6].push({ type: 0, data: pn(Fe) });
      if (ee[me].messages[0].data = ai(Te), g.content = kh(Dh(ee)), g.size = g.content.length, delete T[46], h = an(T[4][0].data), h[7][0].data = pn(b.e.r + 1), it = pa(an(h[1][0].data)[2][0].data), (ee = Vo(Uo((g = tr.find(R, D[it].location)).content)))[0].id != it)
        throw "Bad HeaderStorageBucket";
      for (var ze = an(ee[0].messages[0].data), Fe = 0; Fe < A.length; ++Fe) {
        var Be = an(ze[2][0].data);
        Be[1][0].data = pn(Fe), Be[4][0].data = pn(A[Fe].length), ze[2][Fe] = { type: ze[2][0].type, data: ai(Be) };
      }
      ee[0].messages[0].data = ai(ze), g.content = kh(Dh(ee)), g.size = g.content.length;
      var Ye, it = pa(h[2][0].data);
      if ((ee = Vo(Uo((g = tr.find(R, D[it].location)).content)))[0].id != it)
        throw "Bad HeaderStorageBucket";
      for (ze = an(ee[0].messages[0].data), Ce = 0; Ce <= b.e.c; ++Ce)
        (Be = an(ze[2][0].data))[1][0].data = pn(Ce), Be[4][0].data = pn(b.e.r + 1), ze[2][Ce] = { type: ze[2][0].type, data: ai(Be) };
      ee[0].messages[0].data = ai(ze), g.content = kh(Dh(ee)), g.size = g.content.length, m["!merges"] && (Vt = function(At) {
        for (var Dt = 927262; Dt < 2e6; ++Dt)
          if (!D[Dt])
            return D[Dt] = At, Dt;
        throw new Error("Too many messages");
      }({ type: 6144, deps: [_e], location: D[_e].location }), Ye = [[], []], m["!merges"].forEach(function(At) {
        Ye[1].push({ type: 2, data: ai([[], [{ type: 2, data: ai([[], [{ type: 5, data: new Uint8Array(new Uint16Array([At.s.r, At.s.c]).buffer) }]]) }], [{ type: 2, data: ai([[], [{ type: 5, data: new Uint8Array(new Uint16Array([At.e.r - At.s.r + 1, At.e.c - At.s.c + 1]).buffer) }]]) }]]) });
      }), h[13] = [{ type: 2, data: ai([[], [{ type: 0, data: pn(Vt) }]]) }], j.push({ id: Vt, messages: [(_t = 6144, Vt = ai(Ye), { meta: [[], [{ type: 0, data: pn(_t) }]], data: Vt })] }));
      var at = pa(h[4][0].data);
      (function() {
        for (var At, Dt = tr.find(R, D[at].location), Tt = Vo(Uo(Dt.content)), ct = 0; ct < Tt.length; ++ct) {
          var Kt = Tt[ct];
          Kt.id == at && (At = Kt);
        }
        var Qt = an(At.messages[0].data);
        Qt[3] = [], C.forEach(function(hr, Gr) {
          Qt[3].push({ type: 2, data: ai([[], [{ type: 0, data: pn(Gr) }], [{ type: 0, data: pn(1) }], [{ type: 2, data: Z9(hr) }]]) });
        }), At.messages[0].data = ai(Qt), Dt.content = kh(Dh(Tt)), Dt.size = Dt.content.length;
      })();
      var Xe = an(h[3][0].data), _t = Xe[1][0];
      delete Xe[2];
      var _t, Vt, Vt = an(_t.data), Ot = pa(Vt[2][0].data);
      return function() {
        for (var At, Dt = tr.find(R, D[Ot].location), Tt = Vo(Uo(Dt.content)), ct = 0; ct < Tt.length; ++ct) {
          var Kt = Tt[ct];
          Kt.id == Ot && (At = Kt);
        }
        var Qt = an(At.messages[0].data);
        delete Qt[6], delete Xe[7];
        var hr = new Uint8Array(Qt[5][0].data);
        Qt[5] = [];
        for (var Gr = 0, Ht = 0; Ht <= b.e.r; ++Ht) {
          var yt = an(hr);
          Gr += function(Mr, on, Zr) {
            var bn, pi;
            if ((bn = Mr[6]) == null || !bn[0] || (pi = Mr[7]) == null || !pi[0])
              throw "Mutation only works on post-BNC storages!";
            if ((pi = (pi = Mr[8]) == null ? void 0 : pi[0]) != null && pi.data && 0 < Jn(Mr[8][0].data))
              throw "Math only works with normal offsets";
            for (var Ne, wn, mn = 0, Yi = jl(Mr[7][0].data), zo = 0, Me = [], Ze = jl(Mr[4][0].data), Oe = 0, je = [], Le = 0; Le < on.length; ++Le)
              if (on[Le] != null) {
                switch (Yi.setUint16(2 * Le, zo, !0), Ze.setUint16(2 * Le, Oe, !0), typeof on[Le]) {
                  case "string":
                    Ne = u4({ t: "s", v: on[Le] }, Zr), wn = c4({ t: "s", v: on[Le] }, Zr);
                    break;
                  case "number":
                    Ne = u4({ t: "n", v: on[Le] }, Zr), wn = c4({ t: "n", v: on[Le] }, Zr);
                    break;
                  case "boolean":
                    Ne = u4({ t: "b", v: on[Le] }, Zr), wn = c4({ t: "b", v: on[Le] }, Zr);
                    break;
                  default:
                    throw new Error("Unsupported value " + on[Le]);
                }
                Me.push(Ne), zo += Ne.length, je.push(wn), Oe += wn.length, ++mn;
              } else
                Yi.setUint16(2 * Le, 65535, !0), Ze.setUint16(2 * Le, 65535);
            for (Mr[2][0].data = pn(mn); Le < Mr[7][0].data.length / 2; ++Le)
              Yi.setUint16(2 * Le, 65535, !0), Ze.setUint16(2 * Le, 65535, !0);
            return Mr[6][0].data = hc(Me), Mr[3][0].data = hc(je), mn;
          }(yt, A[Ht], C), yt[1][0].data = pn(Ht), Qt[5].push({ data: ai(yt), type: 2 });
        }
        Qt[1] = [{ type: 0, data: pn(b.e.c + 1) }], Qt[2] = [{ type: 0, data: pn(b.e.r + 1) }], Qt[3] = [{ type: 0, data: pn(Gr) }], Qt[4] = [{ type: 0, data: pn(b.e.r + 1) }], At.messages[0].data = ai(Qt), Dt.content = kh(Dh(Tt)), Dt.size = Dt.content.length;
      }(), _t.data = ai(Vt), h[3][0].data = ai(Xe), T[4][0].data = ai(h), W.messages[0].data = ai(T), H.content = kh(Dh(j)), H.size = H.content.length, R;
    }
    function tP(h) {
      return function(g) {
        for (var m = 0; m != h.length; ++m) {
          var b = h[m];
          g[b[0]] === void 0 && (g[b[0]] = b[1]), b[2] === "n" && (g[b[0]] = Number(g[b[0]]));
        }
      };
    }
    function h4(h) {
      tP([["cellNF", !1], ["cellHTML", !0], ["cellFormula", !0], ["cellStyles", !1], ["cellText", !0], ["cellDates", !1], ["sheetStubs", !1], ["sheetRows", 0, "n"], ["bookDeps", !1], ["bookSheets", !1], ["bookProps", !1], ["bookFiles", !1], ["bookVBA", !1], ["password", ""], ["WTF", !1]])(h);
    }
    function f4(h) {
      tP([["cellDates", !1], ["bookSST", !1], ["bookType", "xlsx"], ["compression", !1], ["WTF", !1]])(h);
    }
    function Bre(h, g) {
      if (!h)
        return 0;
      try {
        h = g.map(function(m) {
          return m.id || (m.id = m.strRelID), [m.name, h["!id"][m.id].Target, (m = h["!id"][m.id].Type, -1 < $r.WS.indexOf(m) ? "sheet" : $r.CS && m == $r.CS ? "chart" : $r.DS && m == $r.DS ? "dialog" : $r.MS && m == $r.MS ? "macro" : m && m.length ? m : "sheet")];
        });
      } catch {
        return null;
      }
      return h && h.length !== 0 ? h : null;
    }
    function Vre(h, g, m, b, T, A, C, D, I, R, N, W) {
      try {
        A[b] = uv(mo(h, m, !0), g);
        var H = Li(h, g);
        switch (D) {
          case "sheet":
            X = ire(H, g, T, I, A[b], R, N, W);
            break;
          case "chart":
            if (!(X = are(H, g, T, I, A[b], R)) || !X["!drawel"])
              break;
            var oe = ev(X["!drawel"].Target, g), j = lv(oe), ee = ev((ee = mo(h, oe, !0), j = uv(mo(h, j, !0), oe), ee ? (ee = (ee.match(/<c:chart [^>]*r:id="([^"]*)"/) || ["", ""])[1], j["!id"][ee].Target) : "??"), oe), oe = lv(ee), X = jte(mo(h, ee, !0), 0, 0, uv(mo(h, oe, !0), ee), 0, X);
            break;
          case "macro":
            ue = g, A[b], ue.slice(-4), X = { "!type": "macro" };
            break;
          case "dialog":
            ue = g, A[b], ue.slice(-4), X = { "!type": "dialog" };
            break;
          default:
            throw new Error("Unrecognized sheet type " + D);
        }
        C[b] = X;
        var _e = [];
        A && A[b] && hi(A[b]).forEach(function(me) {
          var Te, Ce, Fe, ze, Be, Ye, it = "";
          if (A[b][me].Type == $r.CMNT) {
            it = ev(A[b][me].Target, g);
            var at = lre(Li(h, it, !0), it, I);
            if (!at || !at.length)
              return;
            Z7(X, at, !1);
          }
          A[b][me].Type == $r.TCMNT && (it = ev(A[b][me].Target, g), _e = _e.concat((Te = Li(h, it, !0), Ce = I, ze = !(Fe = []), Be = {}, Ye = 0, Te.replace(Ca, function(Xe, _t) {
            var Vt = Dr(Xe);
            switch (Xs(Vt[0])) {
              case "<?xml":
              case "<ThreadedComments":
              case "</ThreadedComments>":
                break;
              case "<threadedComment":
                Be = { author: Vt.personId, guid: Vt.id, ref: Vt.ref, T: 1 };
                break;
              case "</threadedComment>":
                Be.t != null && Fe.push(Be);
                break;
              case "<text>":
              case "<text":
                Ye = _t + Xe.length;
                break;
              case "</text>":
                Be.t = Te.slice(Ye, _t).replace(/\r\n/g, `
`).replace(/\r/g, `
`);
                break;
              case "<mentions":
              case "<mentions>":
                ze = !0;
                break;
              case "</mentions>":
                ze = !1;
                break;
              case "<extLst":
              case "<extLst>":
              case "</extLst>":
              case "<extLst/>":
                break;
              case "<ext":
                ze = !0;
                break;
              case "</ext>":
                ze = !1;
                break;
              default:
                if (!ze && Ce.WTF)
                  throw new Error("unrecognized " + Vt[0] + " in threaded comments");
            }
            return Xe;
          }), Fe)));
        }), _e && _e.length && Z7(X, _e, !0, I.people || []);
      } catch (me) {
        if (I.WTF)
          throw me;
      }
      var ue, ee;
    }
    function Go(h) {
      return h.charAt(0) == "/" ? h.slice(1) : h;
    }
    function rP(h, g) {
      if (Gl(), h4(g = g || {}), Oo(h, "META-INF/manifest.xml") || Oo(h, "objectdata.xml"))
        return j9(h, g);
      if (Oo(h, "Index/Document.iwa")) {
        if (typeof Uint8Array > "u")
          throw new Error("NUMBERS file parsing requires Uint8Array support");
        if (h.FileIndex)
          return eP(h);
        var m = tr.utils.cfb_new();
        return DM(h).forEach(function(Tt) {
          Hr(m, Tt, function ct(Kt, Qt, hr) {
            if (!hr)
              return EM(nx(Kt, Qt));
            if (!Qt)
              return null;
            try {
              return ct(Kt, Qt);
            } catch {
              return null;
            }
          }(h, Tt));
        }), eP(m);
      }
      if (!Oo(h, "[Content_Types].xml"))
        throw Oo(h, "index.xml.gz") ? new Error("Unsupported NUMBERS 08 file") : Oo(h, "index.xml") ? new Error("Unsupported NUMBERS 09 file") : new Error("Unsupported ZIP file");
      var b, T, A = DM(h), C = function(Tt) {
        var ct = Ix();
        if (!Tt || !Tt.match)
          return ct;
        var Kt = {};
        if ((Tt.match(Ca) || []).forEach(function(Qt) {
          var hr = Dr(Qt);
          switch (hr[0].replace(FQ, "<")) {
            case "<?xml":
              break;
            case "<Types":
              ct.xmlns = hr["xmlns" + (hr[0].match(/<(\w+):/) || ["", ""])[1]];
              break;
            case "<Default":
              Kt[hr.Extension] = hr.ContentType;
              break;
            case "<Override":
              ct[Mx[hr.ContentType]] !== void 0 && ct[Mx[hr.ContentType]].push(hr.PartName);
          }
        }), ct.xmlns !== $i.CT)
          throw new Error("Unknown Namespace: " + ct.xmlns);
        return ct.calcchain = 0 < ct.calcchains.length ? ct.calcchains[0] : "", ct.sst = 0 < ct.strs.length ? ct.strs[0] : "", ct.style = 0 < ct.styles.length ? ct.styles[0] : "", ct.defaults = Kt, delete ct.calcchains, ct;
      }(mo(h, "[Content_Types].xml")), Be = !1;
      if (C.workbooks.length === 0 && Li(h, T = "xl/workbook.xml", !0) && C.workbooks.push(T), C.workbooks.length === 0) {
        if (!Li(h, T = "xl/workbook.bin", !0))
          throw new Error("Could not find workbook");
        C.workbooks.push(T), Be = !0;
      }
      C.workbooks[0].slice(-3) == "bin" && (Be = !0);
      var D = {}, I = {};
      if (!g.bookSheets && !g.bookProps) {
        if (Sv = [], C.sst)
          try {
            Sv = sre(Li(h, Go(C.sst)), C.sst, g);
          } catch (Tt) {
            if (g.WTF)
              throw Tt;
          }
        g.cellStyles && C.themes.length && (oe = mo(h, C.themes[0].replace(/^\//, ""), !0) || "", C.themes[0], D = q7(oe, g)), C.style && (I = ore(Li(h, Go(C.style)), C.style, D, g));
      }
      C.links.map(function(Tt) {
        try {
          return uv(mo(h, lv(Go(Tt))), Tt), cre(Li(h, Go(Tt)), 0, Tt, g);
        } catch {
        }
      });
      var R, N, W, H = nre(Li(h, Go(C.workbooks[0])), C.workbooks[0], g), j = {}, oe = "";
      C.coreprops.length && ((oe = Li(h, Go(C.coreprops[0]), !0)) && (j = pI(oe)), C.extprops.length !== 0 && (oe = Li(h, Go(C.extprops[0]), !0)) && (X = g, W = {}, N = (N = j) || {}, R = Rn(R = oe), Sh.forEach(function(Tt) {
        var ct = (R.match(tv(Tt[0])) || [])[1];
        switch (Tt[2]) {
          case "string":
            ct && (N[Tt[1]] = dn(ct));
            break;
          case "bool":
            N[Tt[1]] = ct === "true";
            break;
          case "raw":
            var Kt = R.match(new RegExp("<" + Tt[0] + "[^>]*>([\\s\\S]*?)</" + Tt[0] + ">"));
            Kt && 0 < Kt.length && (W[Tt[1]] = Kt[1]);
        }
      }), W.HeadingPairs && W.TitlesOfParts && mI(W.HeadingPairs, W.TitlesOfParts, N, X)));
      var X = {};
      g.bookSheets && !g.bookProps || C.custprops.length !== 0 && (oe = mo(h, Go(C.custprops[0]), !0)) && (X = function(Tt, ct) {
        var Kt = {}, Qt = "", hr = Tt.match(iee);
        if (hr)
          for (var Gr = 0; Gr != hr.length; ++Gr) {
            var Ht = hr[Gr], yt = Dr(Ht);
            switch (yt[0]) {
              case "<?xml":
              case "<Properties":
                break;
              case "<property":
                Qt = dn(yt.name);
                break;
              case "</property>":
                Qt = null;
                break;
              default:
                if (Ht.indexOf("<vt:") === 0) {
                  var Mr = Ht.split(">"), on = Mr[0].slice(4), Zr = Mr[1];
                  switch (on) {
                    case "lpstr":
                    case "bstr":
                    case "lpwstr":
                      Kt[Qt] = dn(Zr);
                      break;
                    case "bool":
                      Kt[Qt] = qn(Zr);
                      break;
                    case "i1":
                    case "i2":
                    case "i4":
                    case "i8":
                    case "int":
                    case "uint":
                      Kt[Qt] = parseInt(Zr, 10);
                      break;
                    case "r4":
                    case "r8":
                    case "decimal":
                      Kt[Qt] = parseFloat(Zr);
                      break;
                    case "filetime":
                    case "date":
                      Kt[Qt] = jn(Zr);
                      break;
                    case "cy":
                    case "error":
                      Kt[Qt] = dn(Zr);
                      break;
                    default:
                      if (on.slice(-1) == "/")
                        break;
                      ct.WTF && typeof console < "u" && console.warn("Unexpected", Ht, on, Mr);
                  }
                } else if (Ht.slice(0, 2) !== "</" && ct.WTF)
                  throw new Error(Ht);
            }
          }
        return Kt;
      }(oe, g));
      var _e = {};
      if ((g.bookSheets || g.bookProps) && (H.Sheets ? b = H.Sheets.map(function(Tt) {
        return Tt.name;
      }) : j.Worksheets && 0 < j.SheetNames.length && (b = j.SheetNames), g.bookProps && (_e.Props = j, _e.Custprops = X), g.bookSheets && b !== void 0 && (_e.SheetNames = b), g.bookSheets ? _e.SheetNames : g.bookProps))
        return _e;
      b = {}, oe = {}, g.bookDeps && C.calcchain && (oe = ure(Li(h, Go(C.calcchain)), C.calcchain));
      var ue, ee, me = 0, Te = {}, Ce = H.Sheets;
      j.Worksheets = Ce.length, j.SheetNames = [];
      for (var Fe = 0; Fe != Ce.length; ++Fe)
        j.SheetNames[Fe] = Ce[Fe].name;
      var ze = Be ? "bin" : "xml", Be = C.workbooks[0].lastIndexOf("/"), Ye = (C.workbooks[0].slice(0, Be + 1) + "_rels/" + C.workbooks[0].slice(Be + 1) + ".rels").replace(/^\//, "");
      Oo(h, Ye) || (Ye = "xl/_rels/workbook." + ze + ".rels");
      var it, at, Xe, _t = uv(mo(h, Ye, !0), Ye.replace(/_rels.*/, "s5s"));
      1 <= (C.metadata || []).length && (g.xlmeta = hre(Li(h, Go(C.metadata[0])), C.metadata[0], g)), 1 <= (C.people || []).length && (g.people = (Be = Li(h, Go(C.people[0])), it = g, Xe = !(at = []), Be.replace(Ca, function(Tt) {
        var ct = Dr(Tt);
        switch (Xs(ct[0])) {
          case "<?xml":
          case "<personList":
          case "</personList>":
            break;
          case "<person":
            at.push({ name: ct.displayname, id: ct.id });
            break;
          case "</person>":
            break;
          case "<extLst":
          case "<extLst>":
          case "</extLst>":
          case "<extLst/>":
            break;
          case "<ext":
            Xe = !0;
            break;
          case "</ext>":
            Xe = !1;
            break;
          default:
            if (!Xe && it.WTF)
              throw new Error("unrecognized " + ct[0] + " in threaded comments");
        }
        return Tt;
      }), at)), _t = _t && Bre(_t, H.Sheets);
      var Vt = Li(h, "xl/worksheets/sheet.xml", !0) ? 1 : 0;
      e:
        for (me = 0; me != j.Worksheets; ++me) {
          var Ot = "sheet";
          if (_t && _t[me] ? (ue = "xl/" + _t[me][1].replace(/[\/]?xl\//, ""), Oo(h, ue) || (ue = _t[me][1]), Oo(h, ue) || (ue = Ye.replace(/_rels\/.*$/, "") + _t[me][1]), Ot = _t[me][2]) : ue = (ue = "xl/worksheets/sheet" + (me + 1 - Vt) + "." + ze).replace(/sheet0\./, "sheet."), ee = ue.replace(/^(.*)(\/)([^\/]*)$/, "$1/_rels/$3.rels"), g && g.sheets != null)
            switch (typeof g.sheets) {
              case "number":
                if (me != g.sheets)
                  continue e;
                break;
              case "string":
                if (j.SheetNames[me].toLowerCase() != g.sheets.toLowerCase())
                  continue e;
                break;
              default:
                if (Array.isArray && Array.isArray(g.sheets)) {
                  for (var At = !1, Dt = 0; Dt != g.sheets.length; ++Dt)
                    typeof g.sheets[Dt] == "number" && g.sheets[Dt] == me && (At = 1), typeof g.sheets[Dt] == "string" && g.sheets[Dt].toLowerCase() == j.SheetNames[me].toLowerCase() && (At = 1);
                  if (!At)
                    continue e;
                }
            }
          Vre(h, ue, ee, j.SheetNames[me], me, Te, b, Ot, g, H, D, I);
        }
      return _e = { Directory: C, Workbook: H, Props: j, Custprops: X, Deps: oe, Sheets: b, SheetNames: j.SheetNames, Strings: Sv, Styles: I, Themes: D, SSF: Un(De) }, g && g.bookFiles && (h.files ? (_e.keys = A, _e.files = h.files) : (_e.keys = [], _e.files = {}, h.FullPaths.forEach(function(Tt, ct) {
        Tt = Tt.replace(/^Root Entry[\/]/, ""), _e.keys.push(Tt), _e.files[Tt] = h.FileIndex[ct];
      }))), g && g.bookVBA && (0 < C.vba.length ? _e.vbaraw = Li(h, Go(C.vba[0]), !0) : C.defaults && C.defaults.bin === ote && (_e.vbaraw = Li(h, "xl/vbaProject.bin", !0))), _e;
    }
    function Ure(h, g) {
      var m, b = g || {}, T = "Workbook", A = tr.find(h, T);
      try {
        if (T = "/!DataSpaces/Version", !(A = tr.find(h, T)) || !A.content)
          throw new Error("ECMA-376 Encrypted file missing " + T);
        if (C = A.content, (m = {}).id = C.read_shift(0, "lpp4"), m.R = Yl(C, 4), m.U = Yl(C, 4), m.W = Yl(C, 4), T = "/!DataSpaces/DataSpaceMap", !(A = tr.find(h, T)) || !A.content)
          throw new Error("ECMA-376 Encrypted file missing " + T);
        var C = Iee(A.content);
        if (C.length !== 1 || C[0].comps.length !== 1 || C[0].comps[0].t !== 0 || C[0].name !== "StrongEncryptionDataSpace" || C[0].comps[0].v !== "EncryptedPackage")
          throw new Error("ECMA-376 Encrypted file bad " + T);
        if (T = "/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace", !(A = tr.find(h, T)) || !A.content)
          throw new Error("ECMA-376 Encrypted file missing " + T);
        if (C = function(D) {
          var I = [];
          D.l += 4;
          for (var R = D.read_shift(4); 0 < R--; )
            I.push(D.read_shift(0, "lpp4"));
          return I;
        }(A.content), C.length != 1 || C[0] != "StrongEncryptionTransform")
          throw new Error("ECMA-376 Encrypted file bad " + T);
        if (T = "/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary", !(A = tr.find(h, T)) || !A.content)
          throw new Error("ECMA-376 Encrypted file missing " + T);
        Pee(A.content);
      } catch {
      }
      if (T = "/EncryptionInfo", !(A = tr.find(h, T)) || !A.content)
        throw new Error("ECMA-376 Encrypted file missing " + T);
      if (g = Ree(A.content), T = "/EncryptedPackage", !(A = tr.find(h, T)) || !A.content)
        throw new Error("ECMA-376 Encrypted file missing " + T);
      if (g[0] == 4 && typeof decrypt_agile < "u")
        return decrypt_agile(g[1], A.content, b.password || "", b);
      if (g[0] == 2 && typeof decrypt_std76 < "u")
        return decrypt_std76(g[1], A.content, b.password || "", b);
      throw new Error("File is password-protected");
    }
    function Gre(h, g) {
      return (g.bookType == "ods" ? K9 : g.bookType == "numbers" ? Nre : g.bookType == "xlsb" ? function(m, b) {
        $d = 1024, m && !m.SSF && (m.SSF = Un(De)), m && m.SSF && (Gl(), xr(m.SSF), b.revssf = wm(m.SSF), b.revssf[m.SSF[65535]] = 0, b.ssf = m.SSF), b.rels = {}, b.wbrels = {}, b.Strings = [], b.Strings.Count = 0, b.Strings.Unique = 0, xv ? b.revStrings = /* @__PURE__ */ new Map() : (b.revStrings = {}, b.revStrings.foo = [], delete b.revStrings.foo);
        var T = b.bookType == "xlsb" ? "bin" : "xml", A = -1 < Q7.indexOf(b.bookType), C = Ix();
        f4(b = b || {});
        var D = ix(), I = "", R = 0;
        if (b.cellXfs = [], cc(b.cellXfs, {}, { revssf: { General: 0 } }), m.Props || (m.Props = {}), Hr(D, I = "docProps/core.xml", vI(m.Props, b)), C.coreprops.push(I), kn(b.rels, 2, I, $r.CORE_PROPS), I = "docProps/app.xml", !m.Props || !m.Props.SheetNames)
          if (m.Workbook && m.Workbook.Sheets) {
            for (var N = [], W = 0; W < m.SheetNames.length; ++W)
              (m.Workbook.Sheets[W] || {}).Hidden != 2 && N.push(m.SheetNames[W]);
            m.Props.SheetNames = N;
          } else
            m.Props.SheetNames = m.SheetNames;
        for (m.Props.Worksheets = m.Props.SheetNames.length, Hr(D, I, yI(m.Props)), C.extprops.push(I), kn(b.rels, 3, I, $r.EXT_PROPS), m.Custprops !== m.Props && 0 < hi(m.Custprops || {}).length && (Hr(D, I = "docProps/custom.xml", _I(m.Custprops)), C.custprops.push(I), kn(b.rels, 4, I, $r.CUST_PROPS)), R = 1; R <= m.SheetNames.length; ++R) {
          var H, j, oe, X = { "!id": {} }, _e = m.Sheets[m.SheetNames[R - 1]];
          Hr(D, I = "xl/worksheets/sheet" + R + "." + T, function(ue, ee, me, Te, Ce) {
            return (ee.slice(-4) === ".bin" ? Yte : x9)(ue, me, Te, Ce);
          }(R - 1, I, b, m, X)), C.sheets.push(I), kn(b.wbrels, -1, "worksheets/sheet" + R + "." + T, $r.WS[0]), _e && (H = _e["!comments"], j = !1, oe = "", H && 0 < H.length && (Hr(D, oe = "xl/comments" + R + "." + T, function(ue, ee, me) {
            return (ee.slice(-4) === ".bin" ? ate : J7)(ue);
          }(H, oe)), C.comments.push(oe), kn(X, -1, "../comments" + R + "." + T, $r.CMNT), j = !0), _e["!legacy"] && j && Hr(D, "xl/drawings/vmlDrawing" + R + ".vml", K7(R, _e["!comments"])), delete _e["!comments"], delete _e["!legacy"]), X["!id"].rId1 && Hr(D, lv(I), Ud(X));
        }
        return b.Strings != null && 0 < b.Strings.length && (Hr(D, I = "xl/sharedStrings." + T, function(ue, ee, me) {
          return (ee.slice(-4) === ".bin" ? Mee : D7)(ue, me);
        }(b.Strings, I, b)), C.strs.push(I), kn(b.wbrels, -1, "sharedStrings." + T, $r.SST)), Hr(D, I = "xl/workbook." + T, function(ue, ee, me) {
          return (ee.slice(-4) === ".bin" ? rre : I9)(ue);
        }(m, I)), C.workbooks.push(I), kn(b.rels, 1, I, $r.WB), Hr(D, I = "xl/theme/theme1.xml", qx(m.Themes, b)), C.themes.push(I), kn(b.wbrels, -1, "theme/theme1.xml", $r.THEME), Hr(D, I = "xl/styles." + T, function(ue, ee, me) {
          return (ee.slice(-4) === ".bin" ? jee : H7)(ue, me);
        }(m, I, b)), C.styles.push(I), kn(b.wbrels, -1, "styles." + T, $r.STY), m.vbaraw && A && (Hr(D, I = "xl/vbaProject.bin", m.vbaraw), C.vba.push(I), kn(b.wbrels, -1, "vbaProject.bin", $r.VBA)), Hr(D, I = "xl/metadata." + T, function(ue) {
          return (ue.slice(-4) === ".bin" ? ite : X7)();
        }(I)), C.metadata.push(I), kn(b.wbrels, -1, "metadata." + T, $r.XLMETA), Hr(D, "[Content_Types].xml", hI(C, b)), Hr(D, "_rels/.rels", Ud(b.rels)), Hr(D, "xl/_rels/workbook." + T + ".rels", Ud(b.wbrels)), delete b.revssf, delete b.ssf, D;
      } : nP)(h, g);
    }
    function nP(h, g) {
      $d = 1024, h && !h.SSF && (h.SSF = Un(De)), h && h.SSF && (Gl(), xr(h.SSF), g.revssf = wm(h.SSF), g.revssf[h.SSF[65535]] = 0, g.ssf = h.SSF), g.rels = {}, g.wbrels = {}, g.Strings = [], g.Strings.Count = 0, g.Strings.Unique = 0, xv ? g.revStrings = /* @__PURE__ */ new Map() : (g.revStrings = {}, g.revStrings.foo = [], delete g.revStrings.foo);
      var m = "xml", b = -1 < Q7.indexOf(g.bookType), T = Ix();
      f4(g = g || {});
      var A = ix(), C = "", D = 0;
      if (g.cellXfs = [], cc(g.cellXfs, {}, { revssf: { General: 0 } }), h.Props || (h.Props = {}), C = "docProps/core.xml", Hr(A, C, vI(h.Props, g)), T.coreprops.push(C), kn(g.rels, 2, C, $r.CORE_PROPS), C = "docProps/app.xml", !h.Props || !h.Props.SheetNames)
        if (h.Workbook && h.Workbook.Sheets) {
          for (var I = [], R = 0; R < h.SheetNames.length; ++R)
            (h.Workbook.Sheets[R] || {}).Hidden != 2 && I.push(h.SheetNames[R]);
          h.Props.SheetNames = I;
        } else
          h.Props.SheetNames = h.SheetNames;
      h.Props.Worksheets = h.Props.SheetNames.length, Hr(A, C, yI(h.Props)), T.extprops.push(C), kn(g.rels, 3, C, $r.EXT_PROPS), h.Custprops !== h.Props && 0 < hi(h.Custprops || {}).length && (Hr(A, C = "docProps/custom.xml", _I(h.Custprops)), T.custprops.push(C), kn(g.rels, 4, C, $r.CUST_PROPS));
      var N, W = ["SheetJ5"];
      for (g.tcid = 0, D = 1; D <= h.SheetNames.length; ++D) {
        var H, j, oe, X, _e = { "!id": {} }, ue = h.Sheets[h.SheetNames[D - 1]];
        Hr(A, C = "xl/worksheets/sheet" + D + "." + m, x9(D - 1, g, h, _e)), T.sheets.push(C), kn(g.wbrels, -1, "worksheets/sheet" + D + "." + m, $r.WS[0]), ue && (j = !1, oe = "", (H = ue["!comments"]) && 0 < H.length && (X = !1, H.forEach(function(ee) {
          ee[1].forEach(function(me) {
            me.T == 1 && (X = !0);
          });
        }), X && (Hr(A, oe = "xl/threadedComments/threadedComment" + D + "." + m, function(ee, me, Te) {
          var Ce = [Ti, Rt("ThreadedComments", null, { xmlns: $i.TCMNT }).replace(/[\/]>/, ">")];
          return ee.forEach(function(Fe) {
            var ze = "";
            (Fe[1] || []).forEach(function(Be, Ye) {
              var it;
              Be.T ? (Be.a && me.indexOf(Be.a) == -1 && me.push(Be.a), it = { ref: Fe[0], id: "{54EE7951-7262-4200-6969-" + ("000000000000" + Te.tcid++).slice(-12) + "}" }, Ye == 0 ? ze = it.id : it.parentId = ze, Be.ID = it.id, Be.a && (it.personId = "{54EE7950-7262-4200-6969-" + ("000000000000" + me.indexOf(Be.a)).slice(-12) + "}"), Ce.push(Rt("threadedComment", fa("text", Be.t || ""), it))) : delete Be.ID;
            });
          }), Ce.push("</ThreadedComments>"), Ce.join("");
        }(H, W, g)), T.threadedcomments.push(oe), kn(_e, -1, "../threadedComments/threadedComment" + D + "." + m, $r.TCMNT)), Hr(A, oe = "xl/comments" + D + "." + m, J7(H)), T.comments.push(oe), kn(_e, -1, "../comments" + D + "." + m, $r.CMNT), j = !0), ue["!legacy"] && j && Hr(A, "xl/drawings/vmlDrawing" + D + ".vml", K7(D, ue["!comments"])), delete ue["!comments"], delete ue["!legacy"]), _e["!id"].rId1 && Hr(A, lv(C), Ud(_e));
      }
      return g.Strings != null && 0 < g.Strings.length && (Hr(A, C = "xl/sharedStrings.xml", D7(g.Strings, g)), T.strs.push(C), kn(g.wbrels, -1, "sharedStrings.xml", $r.SST)), Hr(A, C = "xl/workbook.xml", I9(h)), T.workbooks.push(C), kn(g.rels, 1, C, $r.WB), Hr(A, C = "xl/theme/theme1.xml", qx(h.Themes, g)), T.themes.push(C), kn(g.wbrels, -1, "theme/theme1.xml", $r.THEME), Hr(A, C = "xl/styles.xml", H7(h, g)), T.styles.push(C), kn(g.wbrels, -1, "styles.xml", $r.STY), h.vbaraw && b && (Hr(A, C = "xl/vbaProject.bin", h.vbaraw), T.vba.push(C), kn(g.wbrels, -1, "vbaProject.bin", $r.VBA)), Hr(A, C = "xl/metadata.xml", X7()), T.metadata.push(C), kn(g.wbrels, -1, "metadata.xml", $r.XLMETA), 1 < W.length && (Hr(A, C = "xl/persons/person.xml", (b = W, N = [Ti, Rt("personList", null, { xmlns: $i.TCMNT, "xmlns:x": gh[0] }).replace(/[\/]>/, ">")], b.forEach(function(ee, me) {
        N.push(Rt("person", null, { displayName: ee, id: "{54EE7950-7262-4200-6969-" + ("000000000000" + me).slice(-12) + "}", userId: ee, providerId: "None" }));
      }), N.push("</personList>"), N.join(""))), T.people.push(C), kn(g.wbrels, -1, "persons/person.xml", $r.PEOPLE)), Hr(A, "[Content_Types].xml", hI(T, g)), Hr(A, "_rels/.rels", Ud(g.rels)), Hr(A, "xl/_rels/workbook.xml.rels", Ud(g.wbrels)), delete g.revssf, delete g.ssf, A;
    }
    function d4(h, g) {
      var m = "";
      switch ((g || {}).type || "base64") {
        case "buffer":
          return [h[0], h[1], h[2], h[3], h[4], h[5], h[6], h[7]];
        case "base64":
          m = E(h.slice(0, 12));
          break;
        case "binary":
          m = h;
          break;
        case "array":
          return [h[0], h[1], h[2], h[3], h[4], h[5], h[6], h[7]];
        default:
          throw new Error("Unrecognized type " + (g && g.type || "undefined"));
      }
      return [m.charCodeAt(0), m.charCodeAt(1), m.charCodeAt(2), m.charCodeAt(3), m.charCodeAt(4), m.charCodeAt(5), m.charCodeAt(6), m.charCodeAt(7)];
    }
    function iP(h, g) {
      var m = 0;
      e:
        for (; m < h.length; )
          switch (h.charCodeAt(m)) {
            case 10:
            case 13:
            case 32:
              ++m;
              break;
            case 60:
              return a4(h.slice(m), g);
            default:
              break e;
          }
      return Gd.to_workbook(h, g);
    }
    function p4(h, g, m, b) {
      return b ? (m.type = "string", Gd.to_workbook(h, m)) : Gd.to_workbook(g, m);
    }
    function ry(h, g) {
      d();
      var m = g || {};
      if (typeof ArrayBuffer < "u" && h instanceof ArrayBuffer)
        return ry(new Uint8Array(h), ((m = Un(m)).type = "array", m));
      typeof Uint8Array < "u" && h instanceof Uint8Array && !m.type && (m.type = typeof Deno < "u" ? "buffer" : "array");
      var b, T, A, C, D, I = h, R = !1;
      if (m.cellStyles && (m.cellNF = !0, m.sheetStubs = !0), jd = {}, m.dateNF && (jd.dateNF = m.dateNF), m.type || (m.type = M && Buffer.isBuffer(h) ? "buffer" : "base64"), m.type == "file" && (m.type = M ? "buffer" : "binary", I = function(W) {
        if (no !== void 0)
          return no.readFileSync(W);
        if (typeof Deno < "u")
          return Deno.readFileSync(W);
        if (typeof $ < "u" && typeof File < "u" && typeof Folder < "u")
          try {
            var H = File(W);
            H.open("r"), H.encoding = "binary";
            var j = H.read();
            return H.close(), j;
          } catch (oe) {
            if (!oe.message || !oe.message.match(/onstruct/))
              throw oe;
          }
        throw new Error("Cannot access file " + W);
      }(h), typeof Uint8Array > "u" || M || (m.type = "array")), m.type == "string" && (R = !0, m.type = "binary", m.codepage = 65001, I = (N = h).match(/[^\x00-\x7F]/) ? Ks(N) : N), m.type == "array" && typeof Uint8Array < "u" && h instanceof Uint8Array && typeof ArrayBuffer < "u") {
        var N = new ArrayBuffer(3), N = new Uint8Array(N);
        if (N.foo = "bar", !N.foo)
          return (m = Un(m)).type = "array", ry(V(I), m);
      }
      switch ((b = d4(I, m))[0]) {
        case 208:
          if (b[1] === 207 && b[2] === 17 && b[3] === 224 && b[4] === 161 && b[5] === 177 && b[6] === 26 && b[7] === 225)
            return C = tr.read(I, m), D = m, (tr.find(C, "EncryptedPackage") ? Ure : ty)(C, D);
          break;
        case 9:
          if (b[1] <= 8)
            return ty(I, m);
          break;
        case 60:
          return a4(I, m);
        case 73:
          if (b[1] === 73 && b[2] === 42 && b[3] === 0)
            throw new Error("TIFF Image File is not a spreadsheet");
          if (b[1] === 68)
            return function(W, H) {
              var j = H || {}, oe = !!j.WTF;
              j.WTF = !0;
              try {
                var X = a7.to_workbook(W, j);
                return j.WTF = oe, X;
              } catch (_e) {
                if (j.WTF = oe, !_e.message.match(/SYLK bad record ID/) && oe)
                  throw _e;
                return Gd.to_workbook(W, H);
              }
            }(I, m);
          break;
        case 84:
          if (b[1] === 65 && b[2] === 66 && b[3] === 76)
            return s7.to_workbook(I, m);
          break;
        case 80:
          return b[1] === 75 && b[2] < 9 && b[3] < 9 ? (A = D = I, (T = (T = m) || {}).type || (T.type = M && Buffer.isBuffer(D) ? "buffer" : "base64"), rP(kM(A, T), T)) : p4(h, I, m, R);
        case 239:
          return b[3] === 60 ? a4(I, m) : p4(h, I, m, R);
        case 255:
          if (b[1] === 254)
            return A = I, (T = m).type == "base64" && (A = E(A)), A = n.utils.decode(1200, A.slice(2), "str"), T.type = "binary", iP(A, T);
          if (b[1] === 0 && b[2] === 2 && b[3] === 0)
            return Ah.to_workbook(I, m);
          break;
        case 0:
          if (b[1] === 0 && (2 <= b[2] && b[3] === 0 || b[2] === 0 && (b[3] === 8 || b[3] === 9)))
            return Ah.to_workbook(I, m);
          break;
        case 3:
        case 131:
        case 139:
        case 140:
          return Fx.to_workbook(I, m);
        case 123:
          if (b[1] === 92 && b[2] === 114 && b[3] === 116)
            return O7.to_workbook(I, m);
          break;
        case 10:
        case 13:
        case 32:
          return function(W, H) {
            var j = "", oe = d4(W, H);
            switch (H.type) {
              case "base64":
                j = E(W);
                break;
              case "binary":
                j = W;
                break;
              case "buffer":
                j = W.toString("binary");
                break;
              case "array":
                j = vh(W);
                break;
              default:
                throw new Error("Unrecognized type " + H.type);
            }
            return oe[0] == 239 && oe[1] == 187 && oe[2] == 191 && (j = Rn(j)), H.type = "binary", iP(j, H);
          }(I, m);
        case 137:
          if (b[1] === 80 && b[2] === 78 && b[3] === 71)
            throw new Error("PNG Image File is not a spreadsheet");
      }
      return -1 < vee.indexOf(b[0]) && b[2] <= 12 && b[3] <= 31 ? Fx.to_workbook(I, m) : p4(h, I, m, R);
    }
    function aP(h, g) {
      return g = g || {}, g.type = "file", ry(h, g);
    }
    function oP(h, g) {
      switch (g.type) {
        case "base64":
        case "binary":
          break;
        case "buffer":
        case "array":
          g.type = "";
          break;
        case "file":
          return Q0(g.file, tr.write(h, { type: M ? "buffer" : "" }));
        case "string":
          throw new Error("'string' output type invalid for '" + g.bookType + "' files");
        default:
          throw new Error("Unrecognized type " + g.type);
      }
      return tr.write(h, g);
    }
    function sP(h, g) {
      var m = {}, b = M ? "nodebuffer" : typeof Uint8Array < "u" ? "array" : "string";
      if (g.compression && (m.compression = "DEFLATE"), g.password)
        m.type = b;
      else
        switch (g.type) {
          case "base64":
            m.type = "base64";
            break;
          case "binary":
            m.type = "string";
            break;
          case "string":
            throw new Error("'string' output type invalid for '" + g.bookType + "' files");
          case "buffer":
          case "file":
            m.type = b;
            break;
          default:
            throw new Error("Unrecognized type " + g.type);
        }
      if (h = h.FullPaths ? tr.write(h, { fileType: "zip", type: { nodebuffer: "buffer", string: "binary" }[m.type] || m.type, compression: !!g.compression }) : h.generate(m), typeof Deno < "u" && typeof h == "string") {
        if (g.type == "binary" || g.type == "base64")
          return h;
        h = new Uint8Array(O(h));
      }
      return g.password && typeof encrypt_agile < "u" ? oP(encrypt_agile(h, g.password), g) : g.type === "file" ? Q0(g.file, h) : g.type == "string" ? Rn(h) : h;
    }
    function tl(h, g, m) {
      var b = (m = m || "") + h;
      switch (g.type) {
        case "base64":
          return x(Ks(b));
        case "binary":
          return Ks(b);
        case "string":
          return h;
        case "file":
          return Q0(g.file, b, "utf8");
        case "buffer":
          return M ? k(b, "utf8") : typeof TextEncoder < "u" ? new TextEncoder().encode(b) : tl(b, { type: "binary" }).split("").map(function(T) {
            return T.charCodeAt(0);
          });
      }
      throw new Error("Unrecognized type " + g.type);
    }
    function ny(h, g) {
      switch (g.type) {
        case "string":
        case "base64":
        case "binary":
          for (var m = "", b = 0; b < h.length; ++b)
            m += String.fromCharCode(h[b]);
          return g.type == "base64" ? x(m) : g.type == "string" ? Rn(m) : m;
        case "file":
          return Q0(g.file, h);
        case "buffer":
          return h;
        default:
          throw new Error("Unrecognized type " + g.type);
      }
    }
    function v4(h, g) {
      d(), M9(h);
      var m, b = Un(g || {});
      return b.cellStyles && (b.cellNF = !0, b.sheetStubs = !0), b.type != "array" ? (m = h, g = Un((g = b) || {}), sP(nP(m, g), g)) : (b.type = "binary", h = v4(h, b), b.type = "array", O(h));
    }
    function iy(h, g) {
      d(), M9(h);
      var m = Un(g || {});
      if (m.cellStyles && (m.cellNF = !0, m.sheetStubs = !0), m.type == "array")
        return m.type = "binary", g = iy(h, m), m.type = "array", O(g);
      var b, T, A, C = 0;
      if (m.sheet && (C = typeof m.sheet == "number" ? m.sheet : h.SheetNames.indexOf(m.sheet), !h.SheetNames[C]))
        throw new Error("Sheet not found: " + m.sheet + " : " + typeof m.sheet);
      switch (m.bookType || "xlsb") {
        case "xml":
        case "xlml":
          return tl(mre(h, m), m);
        case "slk":
        case "sylk":
          return tl(a7.from_sheet(h.Sheets[h.SheetNames[C]], m), m);
        case "htm":
        case "html":
          return tl(G9(h.Sheets[h.SheetNames[C]], m), m);
        case "txt":
          return function(D, I) {
            switch (I.type) {
              case "base64":
                return x(D);
              case "binary":
              case "string":
                return D;
              case "file":
                return Q0(I.file, D, "binary");
              case "buffer":
                return M ? k(D, "binary") : D.split("").map(function(R) {
                  return R.charCodeAt(0);
                });
            }
            throw new Error("Unrecognized type " + I.type);
          }(fP(h.Sheets[h.SheetNames[C]], m), m);
        case "csv":
          return tl(m4(h.Sheets[h.SheetNames[C]], m), m, "\uFEFF");
        case "dif":
          return tl(s7.from_sheet(h.Sheets[h.SheetNames[C]], m), m);
        case "dbf":
          return ny(Fx.from_sheet(h.Sheets[h.SheetNames[C]], m), m);
        case "prn":
          return tl(Gd.from_sheet(h.Sheets[h.SheetNames[C]], m), m);
        case "rtf":
          return tl(O7.from_sheet(h.Sheets[h.SheetNames[C]], m), m);
        case "eth":
          return tl(f7.from_sheet(h.Sheets[h.SheetNames[C]], m), m);
        case "fods":
          return tl(K9(h, m), m);
        case "wk1":
          return ny(Ah.sheet_to_wk1(h.Sheets[h.SheetNames[C]], m), m);
        case "wk3":
          return ny(Ah.book_to_wk3(h, m), m);
        case "biff2":
          m.biff || (m.biff = 2);
        case "biff3":
          m.biff || (m.biff = 3);
        case "biff4":
          return m.biff || (m.biff = 4), ny(O9(h, m), m);
        case "biff5":
          m.biff || (m.biff = 5);
        case "biff8":
        case "xla":
        case "xls":
          return m.biff || (m.biff = 8), oP(wre(h, A = (A = m) || {}), A);
        case "xlsx":
        case "xlsm":
        case "xlam":
        case "xlsb":
        case "numbers":
        case "ods":
          return b = h, A = Un((T = m) || {}), mv = new zre(T), sP(Gre(b, A), A);
        default:
          throw new Error("Unrecognized bookType |" + m.bookType + "|");
      }
    }
    function g4(h) {
      var g;
      h.bookType || ((g = h.file.slice(h.file.lastIndexOf(".")).toLowerCase()).match(/^\.[a-z]+$/) && (h.bookType = g.slice(1)), h.bookType = { xls: "biff8", htm: "html", slk: "sylk", socialcalc: "eth", Sh33tJS: "WTF" }[h.bookType] || h.bookType);
    }
    function lP(h, g, m) {
      return m = m || {}, m.type = "file", m.file = g, g4(m), iy(h, m);
    }
    function uP(h, g, m, b, T, A, C, D) {
      var I = di(m), R = D.defval, N = D.raw || !Object.prototype.hasOwnProperty.call(D, "raw"), W = !0, H = T === 1 ? [] : {};
      if (T !== 1)
        if (Object.defineProperty)
          try {
            Object.defineProperty(H, "__rowNum__", { value: m, enumerable: !1 });
          } catch {
            H.__rowNum__ = m;
          }
        else
          H.__rowNum__ = m;
      if (!C || h[m])
        for (var j = g.s.c; j <= g.e.c; ++j) {
          var oe = C ? h[m][j] : h[b[j] + I];
          if (oe !== void 0 && oe.t !== void 0) {
            var X = oe.v;
            switch (oe.t) {
              case "z":
                if (X == null)
                  break;
                continue;
              case "e":
                X = X == 0 ? null : void 0;
                break;
              case "s":
              case "d":
              case "b":
              case "n":
                break;
              default:
                throw new Error("unrecognized type " + oe.t);
            }
            if (A[j] != null) {
              if (X == null)
                if (oe.t == "e" && X === null)
                  H[A[j]] = null;
                else if (R !== void 0)
                  H[A[j]] = R;
                else {
                  if (!N || X !== null)
                    continue;
                  H[A[j]] = null;
                }
              else
                H[A[j]] = N && (oe.t !== "n" || oe.t === "n" && D.rawNumbers !== !1) ? X : Zs(oe, X, D);
              X != null && (W = !1);
            }
          } else
            R !== void 0 && A[j] != null && (H[A[j]] = R);
        }
      return { row: H, isempty: W };
    }
    function ay(h, g) {
      if (h == null || h["!ref"] == null)
        return [];
      var m, b = { t: "n", v: 0 }, T = 0, A = 1, C = [], D = "", I = { s: { r: 0, c: 0 }, e: { r: 0, c: 0 } }, R = g || {}, N = R.range != null ? R.range : h["!ref"];
      switch (R.header === 1 ? T = 1 : R.header === "A" ? T = 2 : Array.isArray(R.header) ? T = 3 : R.header == null && (T = 0), typeof N) {
        case "string":
          I = nn(N);
          break;
        case "number":
          (I = nn(h["!ref"])).s.r = N;
          break;
        default:
          I = N;
      }
      0 < T && (A = 0);
      var W = di(I.s.r), H = [], j = [], oe = 0, X = 0, _e = Array.isArray(h), ue = I.s.r, ee = 0, me = {};
      _e && !h[ue] && (h[ue] = []);
      for (var Te, Ce = R.skipHidden && h["!cols"] || [], Fe = R.skipHidden && h["!rows"] || [], ee = I.s.c; ee <= I.e.c; ++ee)
        if (!(Ce[ee] || {}).hidden)
          switch (H[ee] = Xn(ee), b = _e ? h[ue][ee] : h[H[ee] + W], T) {
            case 1:
              C[ee] = ee - I.s.c;
              break;
            case 2:
              C[ee] = H[ee];
              break;
            case 3:
              C[ee] = R.header[ee - I.s.c];
              break;
            default:
              if (D = m = Zs(b = b ?? { w: "__EMPTY", t: "s" }, null, R), X = me[m] || 0) {
                for (; D = m + "_" + X++, me[D]; )
                  ;
                me[m] = X, me[D] = 1;
              } else
                me[m] = 1;
              C[ee] = D;
          }
      for (ue = I.s.r + A; ue <= I.e.r; ++ue)
        (Fe[ue] || {}).hidden || (Te = uP(h, I, ue, H, T, C, _e, R)).isempty !== !1 && (T === 1 ? R.blankrows === !1 : !R.blankrows) || (j[oe++] = Te.row);
      return j.length = oe, j;
    }
    var cP = /"/g;
    function hP(h, g, m, b, T, A, C, D) {
      for (var I = !0, R = [], N = "", W = di(m), H = g.s.c; H <= g.e.c; ++H)
        if (b[H]) {
          var j = D.dense ? (h[m] || [])[H] : h[b[H] + W];
          if (j == null)
            N = "";
          else if (j.v != null) {
            I = !1, N = "" + (D.rawNumbers && j.t == "n" ? j.v : Zs(j, null, D));
            for (var oe, X = 0; X !== N.length; ++X)
              if ((oe = N.charCodeAt(X)) === T || oe === A || oe === 34 || D.forceQuotes) {
                N = '"' + N.replace(cP, '""') + '"';
                break;
              }
            N == "ID" && (N = '"ID"');
          } else
            j.f == null || j.F ? N = "" : (I = !1, 0 <= (N = "=" + j.f).indexOf(",") && (N = '"' + N.replace(cP, '""') + '"'));
          R.push(N);
        }
      return D.blankrows === !1 && I ? null : R.join(C);
    }
    function m4(h, g) {
      var m = [], b = g ?? {};
      if (h == null || h["!ref"] == null)
        return "";
      var T = nn(h["!ref"]), A = b.FS !== void 0 ? b.FS : ",", C = A.charCodeAt(0), D = b.RS !== void 0 ? b.RS : `
`, I = D.charCodeAt(0), R = new RegExp((A == "|" ? "\\|" : A) + "+$"), N = "", W = [];
      b.dense = Array.isArray(h);
      for (var H = b.skipHidden && h["!cols"] || [], j = b.skipHidden && h["!rows"] || [], oe = T.s.c; oe <= T.e.c; ++oe)
        (H[oe] || {}).hidden || (W[oe] = Xn(oe));
      for (var X = 0, _e = T.s.r; _e <= T.e.r; ++_e)
        (j[_e] || {}).hidden || (N = hP(h, T, _e, W, C, I, A, b)) != null && (!(N = b.strip ? N.replace(R, "") : N) && b.blankrows === !1 || m.push((X++ ? D : "") + N));
      return delete b.dense, m.join("");
    }
    function fP(h, g) {
      return (g = g || {}).FS = "	", g.RS = `
`, h = m4(h, g), n === void 0 || g.type == "string" ? h : (h = n.utils.encode(1200, h, "str"), String.fromCharCode(255) + String.fromCharCode(254) + h);
    }
    function dP(N, g, m) {
      var b, T = m || {}, A = +!T.skipHeader, C = N || {}, D = 0, I = 0;
      C && T.origin != null && (typeof T.origin == "number" ? D = T.origin : (R = typeof T.origin == "string" ? ii(T.origin) : T.origin, D = R.r, I = R.c));
      var R, N = { s: { c: 0, r: 0 }, e: { c: I, r: D + g.length - 1 + A } };
      C["!ref"] ? (R = nn(C["!ref"]), N.e.c = Math.max(N.e.c, R.e.c), N.e.r = Math.max(N.e.r, R.e.r), D == -1 && (D = R.e.r + 1, N.e.r = D + g.length - 1 + A)) : D == -1 && (D = 0, N.e.r = g.length - 1 + A);
      var W = T.header || [], H = 0;
      g.forEach(function(oe, X) {
        hi(oe).forEach(function(Te) {
          (H = W.indexOf(Te)) == -1 && (W[H = W.length] = Te);
          var ue = oe[Te], ee = "z", me = "", Te = kr({ c: I + H, r: D + X + A });
          b = oy(C, Te), !ue || typeof ue != "object" || ue instanceof Date ? (typeof ue == "number" ? ee = "n" : typeof ue == "boolean" ? ee = "b" : typeof ue == "string" ? ee = "s" : ue instanceof Date ? (ee = "d", T.cellDates || (ee = "n", ue = Hi(ue)), me = T.dateNF || De[14]) : ue === null && T.nullError && (ee = "e", ue = 0), b ? (b.t = ee, b.v = ue, delete b.w, delete b.R, me && (b.z = me)) : C[Te] = b = { t: ee, v: ue }, me && (b.z = me)) : C[Te] = ue;
        });
      }), N.e.c = Math.max(N.e.c, I + W.length - 1);
      var j = di(D);
      if (A)
        for (H = 0; H < W.length; ++H)
          C[Xn(H + I) + j] = { t: "s", v: W[H] };
      return C["!ref"] = Ur(N), C;
    }
    function oy(h, g, m) {
      return typeof g != "string" ? oy(h, kr(typeof g != "number" ? g : { r: g, c: m || 0 })) : Array.isArray(h) ? (m = ii(g), h[m.r] || (h[m.r] = []), h[m.r][m.c] || (h[m.r][m.c] = { t: "z" })) : h[g] || (h[g] = { t: "z" });
    }
    function y4() {
      return { SheetNames: [], Sheets: {} };
    }
    function _4(h, g, m, b) {
      var T = 1;
      if (!m)
        for (; T <= 65535 && h.SheetNames.indexOf(m = "Sheet" + T) != -1; ++T, m = void 0)
          ;
      if (!m || 65535 <= h.SheetNames.length)
        throw new Error("Too many worksheets");
      if (b && 0 <= h.SheetNames.indexOf(m)) {
        var b = m.match(/(^.*?)(\d+)$/), T = b && +b[2] || 0, A = b && b[1] || m;
        for (++T; T <= 65535 && h.SheetNames.indexOf(m = A + T) != -1; ++T)
          ;
      }
      if (k9(m), 0 <= h.SheetNames.indexOf(m))
        throw new Error("Worksheet with name |" + m + "| already exists!");
      return h.SheetNames.push(m), h.Sheets[m] = g, m;
    }
    function pP(h, g, m) {
      return g ? (h.l = { Target: g }, m && (h.l.Tooltip = m)) : delete h.l, h;
    }
    var sy, b4 = { encode_col: Xn, encode_row: di, encode_cell: kr, encode_range: Ur, decode_col: bx, decode_row: _x, split_cell: function(h) {
      return h.replace(/(\$?[A-Z]*)(\$?\d*)/, "$1,$2").split(",");
    }, decode_cell: ii, decode_range: Ya, format_cell: Zs, sheet_add_aoa: rI, sheet_add_json: dP, sheet_add_dom: z9, aoa_to_sheet: Nd, json_to_sheet: function(h, g) {
      return dP(null, h, g);
    }, table_to_sheet: W9, table_to_book: function(h, g) {
      return oc(W9(h, g), g);
    }, sheet_to_csv: m4, sheet_to_txt: fP, sheet_to_json: ay, sheet_to_html: G9, sheet_to_formulae: function(h) {
      var g, m = "", b = "";
      if (h == null || h["!ref"] == null)
        return [];
      for (var T, A = nn(h["!ref"]), C = [], D = [], I = Array.isArray(h), R = A.s.c; R <= A.e.c; ++R)
        C[R] = Xn(R);
      for (var N = A.s.r; N <= A.e.r; ++N)
        for (T = di(N), R = A.s.c; R <= A.e.c; ++R)
          if (m = C[R] + T, b = "", (g = I ? (h[N] || [])[R] : h[m]) !== void 0) {
            if (g.F != null) {
              if (m = g.F, !g.f)
                continue;
              b = g.f, m.indexOf(":") == -1 && (m = m + ":" + m);
            }
            if (g.f != null)
              b = g.f;
            else {
              if (g.t == "z")
                continue;
              if (g.t == "n" && g.v != null)
                b = "" + g.v;
              else if (g.t == "b")
                b = g.v ? "TRUE" : "FALSE";
              else if (g.w !== void 0)
                b = "'" + g.w;
              else {
                if (g.v === void 0)
                  continue;
                b = g.t == "s" ? "'" + g.v : "" + g.v;
              }
            }
            D[D.length] = m + "=" + b;
          }
      return D;
    }, sheet_to_row_object_array: ay, sheet_get_cell: oy, book_new: y4, book_append_sheet: _4, book_set_sheet_visibility: function(h, g, m) {
      switch (h.Workbook || (h.Workbook = {}), h.Workbook.Sheets || (h.Workbook.Sheets = []), g = function(b, T) {
        if (typeof T == "number") {
          if (0 <= T && b.SheetNames.length > T)
            return T;
          throw new Error("Cannot find sheet # " + T);
        }
        if (typeof T != "string")
          throw new Error("Cannot find sheet |" + T + "|");
        if (-1 < (b = b.SheetNames.indexOf(T)))
          return b;
        throw new Error("Cannot find sheet name |" + T + "|");
      }(h, g), h.Workbook.Sheets[g] || (h.Workbook.Sheets[g] = {}), m) {
        case 0:
        case 1:
        case 2:
          break;
        default:
          throw new Error("Bad sheet visibility setting " + m);
      }
      h.Workbook.Sheets[g].Hidden = m;
    }, cell_set_number_format: function(h, g) {
      return h.z = g, h;
    }, cell_set_hyperlink: pP, cell_set_internal_link: function(h, g, m) {
      return pP(h, "#" + g, m);
    }, cell_add_comment: function(h, g, m) {
      h.c || (h.c = []), h.c.push({ t: g, a: m || "SheetJS" });
    }, sheet_set_array_formula: function(h, g, m, b) {
      for (var T = typeof g != "string" ? g : nn(g), A = typeof g == "string" ? g : Ur(g), C = T.s.r; C <= T.e.r; ++C)
        for (var D = T.s.c; D <= T.e.c; ++D) {
          var I = oy(h, C, D);
          I.t = "n", I.F = A, delete I.v, C == T.s.r && D == T.s.c && (I.f = m, b && (I.D = !0));
        }
      return h;
    }, consts: { SHEET_VISIBLE: 0, SHEET_HIDDEN: 1, SHEET_VERY_HIDDEN: 2 } };
    function vP(h) {
      sy = h;
    }
    var Xd = { to_json: function(h, g) {
      var m = sy({ objectMode: !0 });
      if (h == null || h["!ref"] == null)
        return m.push(null), m;
      var b, T = { t: "n", v: 0 }, A = 0, C = 1, D = [], I = "", R = { s: { r: 0, c: 0 }, e: { r: 0, c: 0 } }, N = g || {}, W = N.range != null ? N.range : h["!ref"];
      switch (N.header === 1 ? A = 1 : N.header === "A" ? A = 2 : Array.isArray(N.header) && (A = 3), typeof W) {
        case "string":
          R = nn(W);
          break;
        case "number":
          (R = nn(h["!ref"])).s.r = W;
          break;
        default:
          R = W;
      }
      0 < A && (C = 0);
      var H = di(R.s.r), j = [], oe = 0, X = Array.isArray(h), _e = R.s.r, ue = 0, ee = {};
      X && !h[_e] && (h[_e] = []);
      for (var me = N.skipHidden && h["!cols"] || [], Te = N.skipHidden && h["!rows"] || [], ue = R.s.c; ue <= R.e.c; ++ue)
        if (!(me[ue] || {}).hidden)
          switch (j[ue] = Xn(ue), T = X ? h[_e][ue] : h[j[ue] + H], A) {
            case 1:
              D[ue] = ue - R.s.c;
              break;
            case 2:
              D[ue] = j[ue];
              break;
            case 3:
              D[ue] = N.header[ue - R.s.c];
              break;
            default:
              if (I = b = Zs(T = T ?? { w: "__EMPTY", t: "s" }, null, N), oe = ee[b] || 0) {
                for (; I = b + "_" + oe++, ee[I]; )
                  ;
                ee[b] = oe, ee[I] = 1;
              } else
                ee[b] = 1;
              D[ue] = I;
          }
      return _e = R.s.r + C, m._read = function() {
        for (; _e <= R.e.r; )
          if (!(Te[_e - 1] || {}).hidden) {
            var Ce = uP(h, R, _e, j, A, D, X, N);
            if (++_e, Ce.isempty === !1 || (A === 1 ? N.blankrows !== !1 : N.blankrows))
              return void m.push(Ce.row);
          }
        return m.push(null);
      }, m;
    }, to_html: function(h, T) {
      var m = sy(), b = T || {}, T = b.header != null ? b.header : B9, A = b.footer != null ? b.footer : V9;
      m.push(T);
      var C = Ya(h["!ref"]);
      b.dense = Array.isArray(h), m.push(U9(0, 0, b));
      var D = C.s.r, I = !1;
      return m._read = function() {
        if (D > C.e.r)
          return I || (I = !0, m.push("</table>" + A)), m.push(null);
        for (; D <= C.e.r; ) {
          m.push(N9(h, C, D, b)), ++D;
          break;
        }
      }, m;
    }, to_csv: function(h, g) {
      var m = sy(), b = g ?? {};
      if (h == null || h["!ref"] == null)
        return m.push(null), m;
      var T = nn(h["!ref"]), A = b.FS !== void 0 ? b.FS : ",", C = A.charCodeAt(0), D = b.RS !== void 0 ? b.RS : `
`, I = D.charCodeAt(0), R = new RegExp((A == "|" ? "\\|" : A) + "+$"), N = "", W = [];
      b.dense = Array.isArray(h);
      for (var H = b.skipHidden && h["!cols"] || [], j = b.skipHidden && h["!rows"] || [], oe = T.s.c; oe <= T.e.c; ++oe)
        (H[oe] || {}).hidden || (W[oe] = Xn(oe));
      var X = T.s.r, _e = !1, ue = 0;
      return m._read = function() {
        if (!_e)
          return _e = !0, m.push("\uFEFF");
        for (; X <= T.e.r; )
          if (++X, !(j[X - 1] || {}).hidden && (N = hP(h, T, X - 1, W, C, I, A, b), N != null && ((N = b.strip ? N.replace(R, "") : N) || b.blankrows !== !1)))
            return m.push((ue++ ? D : "") + N);
        return m.push(null);
      }, m;
    }, set_readable: vP }, un = function() {
      function h(g, m, b) {
        return this instanceof h ? (this.tagName = g, this._attributes = m || {}, this._children = b || [], this._prefix = "", this) : new h(g, m, b);
      }
      return h.prototype.createElement = function() {
        return new h(arguments);
      }, h.prototype.children = function() {
        return this._children;
      }, h.prototype.append = function(g) {
        return this._children.push(g), this;
      }, h.prototype.prefix = function(g) {
        return arguments.length == 0 ? this._prefix : (this._prefix = g, this);
      }, h.prototype.attr = function(g, m) {
        if (m == null)
          return delete this._attributes[g], this;
        if (arguments.length == 0)
          return this._attributes;
        if (typeof g == "string" && arguments.length == 1)
          return this._attributes.attr[g];
        if (typeof g == "object" && arguments.length == 1)
          for (var b in g)
            this._attributes[b] = g[b];
        else
          arguments.length == 2 && typeof g == "string" && (this._attributes[g] = m);
        return this;
      }, h.prototype.escapeAttributeValue = function(g) {
        return '"' + g.replace(/\"/g, "&quot;") + '"';
      }, h.prototype.toXml = function(g) {
        var m = (g = g || this)._prefix;
        if (m += "<" + g.tagName, g._attributes)
          for (var b in g._attributes)
            m += " " + b + "=" + this.escapeAttributeValue("" + g._attributes[b]);
        if (g._children && 0 < g._children.length) {
          m += ">";
          for (var T = 0; T < g._children.length; T++)
            m += this.toXml(g._children[T]);
          m += "</" + g.tagName + ">";
        } else
          m += "/>";
        return m;
      }, h;
    }(), zre = function(h) {
      var g, m = 164, b = { 0: "General", 1: "0", 2: "0.00", 3: "#,##0", 4: "#,##0.00", 9: "0%", 10: "0.00%", 11: "0.00E+00", 12: "# ?/?", 13: "# ??/??", 14: "m/d/yy", 15: "d-mmm-yy", 16: "d-mmm", 17: "mmm-yy", 18: "h:mm AM/PM", 19: "h:mm:ss AM/PM", 20: "h:mm", 21: "h:mm:ss", 22: "m/d/yy h:mm", 37: "#,##0 ;(#,##0)", 38: "#,##0 ;[Red](#,##0)", 39: "#,##0.00;(#,##0.00)", 40: "#,##0.00;[Red](#,##0.00)", 45: "mm:ss", 46: "[h]:mm:ss", 47: "mmss.0", 48: "##0.0E+0", 49: "@", 56: '"/ "hh""mm""ss" "' }, T = {};
      for (g in b)
        T[b[g]] = g;
      var A = {};
      return { initialize: function(C) {
        this.$fonts = un("fonts").attr("count", 0).attr("x14ac:knownFonts", "1"), this.$fills = un("fills").attr("count", 0), this.$borders = un("borders").attr("count", 0), this.$numFmts = un("numFmts").attr("count", 0), this.$cellStyleXfs = un("cellStyleXfs"), this.$xf = un("xf").attr("numFmtId", 0).attr("fontId", 0).attr("fillId", 0).attr("borderId", 0), this.$cellXfs = un("cellXfs").attr("count", 0), this.$cellStyles = un("cellStyles").append(un("cellStyle").attr("name", "Normal").attr("xfId", 0).attr("builtinId", 0)), this.$dxfs = un("dxfs").attr("count", "0"), this.$tableStyles = un("tableStyles").attr("count", "0").attr("defaultTableStyle", "TableStyleMedium9").attr("defaultPivotStyle", "PivotStyleMedium4"), this.$styles = un("styleSheet").attr("xmlns:mc", "http://schemas.openxmlformats.org/markup-compatibility/2006").attr("xmlns:x14ac", "http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac").attr("xmlns", "http://schemas.openxmlformats.org/spreadsheetml/2006/main").attr("mc:Ignorable", "x14ac").prefix('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>').append(this.$numFmts).append(this.$fonts).append(this.$fills).append(this.$borders).append(this.$cellStyleXfs.append(this.$xf)).append(this.$cellXfs).append(this.$cellStyles).append(this.$dxfs).append(this.$tableStyles);
        var D = C.defaultCellStyle || {};
        return D.font || (D.font = { name: "Calibri", sz: "11" }), D.font.name || (D.font.name = "Calibri"), D.font.sz || (D.font.sz = 11), D.fill || (D.fill = { patternType: "none", fgColor: {} }), D.border || (D.border = {}), D.numFmt || (D.numFmt = 0), this.defaultStyle = D, C = JSON.parse(JSON.stringify(D)), C.fill = { patternType: "gray125", fgColor: {} }, this.addStyles([D, C]), this;
      }, addStyle: function(C) {
        var D = JSON.stringify(C), I = A[D];
        return I == null ? (I = this._addXf(C), A[D] = I) : I = A[D], I;
      }, addStyles: function(C) {
        var D = this;
        return C.map(function(I) {
          return D.addStyle(I);
        });
      }, _duckTypeStyle: function(C) {
        return typeof C == "object" && (C.patternFill || C.fgColor) ? { fill: C } : C.font || C.numFmt || C.border || C.fill ? C : this._getStyleCSS(C);
      }, _getStyleCSS: function(C) {
        return C;
      }, _addXf: function(C) {
        var D = this._addFont(C.font), I = this._addFill(C.fill), R = this._addBorder(C.border), N = this._addNumFmt(C.numFmt), W = un("xf").attr("numFmtId", N).attr("fontId", D).attr("fillId", I).attr("borderId", R).attr("xfId", "0");
        return 0 < D && W.attr("applyFont", "1"), 0 < I && W.attr("applyFill", "1"), 0 < R && W.attr("applyBorder", "1"), 0 < N && W.attr("applyNumberFormat", "1"), C.alignment && (N = un("alignment"), C.alignment.horizontal && N.attr("horizontal", C.alignment.horizontal), C.alignment.vertical && N.attr("vertical", C.alignment.vertical), C.alignment.indent && N.attr("indent", C.alignment.indent), C.alignment.readingOrder && N.attr("readingOrder", C.alignment.readingOrder), C.alignment.wrapText && N.attr("wrapText", C.alignment.wrapText), C.alignment.textRotation != null && N.attr("textRotation", C.alignment.textRotation), W.append(N).attr("applyAlignment", 1)), this.$cellXfs.append(W), W = +this.$cellXfs.children().length, this.$cellXfs.attr("count", W), W - 1;
      }, _addFont: function(C) {
        if (!C)
          return 0;
        var D = un("font").append(un("sz").attr("val", C.sz || this.defaultStyle.font.sz)).append(un("name").attr("val", C.name || this.defaultStyle.font.name));
        return C.bold && D.append(un("b")), C.underline && D.append(un("u")), C.italic && D.append(un("i")), C.strike && D.append(un("strike")), C.outline && D.append(un("outline")), C.shadow && D.append(un("shadow")), C.vertAlign && D.append(un("vertAlign").attr("val", C.vertAlign)), C.color && (C.color.theme ? (D.append(un("color").attr("theme", C.color.theme)), C.color.tint && D.append(un("tint").attr("theme", C.color.tint))) : C.color.rgb && D.append(un("color").attr("rgb", C.color.rgb))), this.$fonts.append(D), D = this.$fonts.children().length, this.$fonts.attr("count", D), D - 1;
      }, _addNumFmt: function(C) {
        if (!C)
          return 0;
        if (typeof C == "string") {
          var D = T[C];
          if (0 <= D)
            return D;
        }
        return /^[0-9]+$/.exec(C) ? C : (C = C.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;"), C = un("numFmt").attr("numFmtId", ++m).attr("formatCode", C), this.$numFmts.append(C), C = this.$numFmts.children().length, this.$numFmts.attr("count", C), m);
      }, _addFill: function(C) {
        if (!C)
          return 0;
        var D, I = un("patternFill").attr("patternType", C.patternType || "solid");
        return C.fgColor && (D = un("fgColor"), C.fgColor.rgb ? (C.fgColor.rgb.length == 6 && (C.fgColor.rgb = "FF" + C.fgColor.rgb), D.attr("rgb", C.fgColor.rgb), I.append(D)) : C.fgColor.theme && (D.attr("theme", C.fgColor.theme), C.fgColor.tint && D.attr("tint", C.fgColor.tint), I.append(D)), C.bgColor || (C.bgColor = { indexed: "64" })), C.bgColor && (C = un("bgColor").attr(C.bgColor), I.append(C)), I = un("fill").append(I), this.$fills.append(I), I = this.$fills.children().length, this.$fills.attr("count", I), I - 1;
      }, _getSubBorder: function(C, D) {
        var I = un(C);
        return D && (I.attr("style", D.style || "medium"), D.color && (C = un("color"), D.color.auto ? C.attr("auto", D.color.auto) : D.color.rgb ? C.attr("rgb", D.color.rgb) : (D.color.theme || D.color.tint) && (C.attr("theme", D.color.theme || "1"), C.attr("tint", D.color.tint || "0")), I.append(C))), I;
      }, _addBorder: function(C) {
        if (!C)
          return 0;
        var D = this, I = un("border").attr("diagonalUp", C.diagonalUp).attr("diagonalDown", C.diagonalDown);
        ["left", "right", "top", "bottom", "diagonal"].forEach(function(N) {
          I.append(D._getSubBorder(N, C[N]));
        }), this.$borders.append(I);
        var R = this.$borders.children().length;
        return this.$borders.attr("count", R), R - 1;
      }, toXml: function() {
        return this.$styles.toXml();
      } }.initialize(h || {});
    };
    ty !== void 0 && (a.parse_xlscfb = ty), a.parse_zip = rP, a.read = ry, a.readFile = aP, a.readFileSync = aP, a.write = iy, a.writeFile = lP, a.writeFileSync = lP, a.writeFileAsync = function(h, g, m, b) {
      var T = m || {};
      return T.type = "file", T.file = h, g4(T), T.type = "buffer", b instanceof Function || (b = m), no.writeFile(h, iy(g, T), b);
    }, a.utils = b4, a.writeXLSX = v4, a.writeFileXLSX = function(h, g, m) {
      return (m = m || {}).type = "file", m.file = g, g4(m), v4(h, m);
    }, a.SSF = Pd, Xd !== void 0 && (a.stream = Xd), tr !== void 0 && (a.CFB = tr), typeof m_ > "u" || ((Xd = IT) || {}).Readable && vP(Xd.Readable);
  }
  if (i(e), typeof window < "u" && !window.XLSX)
    try {
      window.XLSX = t;
    } catch {
    }
})(RE, RE.exports);
var PPe = RE.exports;
const Ru = /* @__PURE__ */ GE(PPe);
function RPe({ date: r, type: e = "YYYY-MM-DD HH:mm:ss", offset: t }) {
  return r && r && r !== "0001-01-01T00:00:00" ? t ? Nt(r).utcOffset(t).format(e) : Nt(r).format(e) : "";
}
function LPe({ start: r, end: e, type: t = "days" }) {
  return !r || !e ? 0 : Nt(Nt(e)).diff(Nt(r), t);
}
function OPe({ startTime: r, num: e = 0, type: t = "d", format: i = "YYYY-MM-DD HH:mm:ss" }) {
  let a = r ? Nt(r) : Nt();
  return e > 0 ? a = a.add(e, t) : e < 0 && (a = a.subtract(Math.abs(e), t)), a.format(i);
}
function FPe({ checkTime: r, times: e, type: t = "start" }) {
  if (!r || !e || e.length === 0)
    return !1;
  const i = (n) => /* @__PURE__ */ new Date("1970-01-01T" + n), a = i(r);
  for (let n = 0; n < e.length; n++) {
    const [o, s] = e[n], l = i(o), u = i(s);
    if (t === "start" && l.getTime() === a.getTime() || t === "end" && u.getTime() === a.getTime())
      return !0;
    if (u < l) {
      if (PT(a, l, /* @__PURE__ */ new Date("1970-01-02T00:00:00")) || PT(a, /* @__PURE__ */ new Date("1970-01-01T00:00:00"), u))
        return !0;
    } else if (PT(a, l, u))
      return !0;
  }
  return !1;
}
function PT(r, e, t) {
  return r > e && r < t;
}
function DQ({ data: r, wpx: e = 150, merges: t, horizontal: i, vertical: a }) {
  const n = Ru.utils.json_to_sheet(r, { skipHeader: !0 }), o = [];
  for (let s = 0; s < r[0].length; s++)
    o.push({
      wpx: e
    });
  if (n["!cols"] = o, t && (n["!merges"] = t), i || a) {
    const s = Ru.utils.decode_range(n["!ref"]);
    for (let l = s.s.r; l <= s.e.r; ++l)
      for (let u = s.s.c; u <= s.e.c; ++u) {
        const c = { c: u, r: l }, f = Ru.utils.encode_cell(c);
        n[f] && (n[f].s = {
          alignment: {
            horizontal: i || "",
            vertical: a || ""
          }
        });
      }
  }
  return n;
}
function NPe({ data: r, wpx: e = 150, fileName: t, fileNameNeedTime: i = !0, merges: a, sheetName: n, horizontal: o, vertical: s }) {
  const l = DQ({ data: r, wpx: e, merges: a, horizontal: o, vertical: s }), u = Ru.utils.book_new();
  Ru.utils.book_append_sheet(u, l, n || "sheed"), Ru.writeFile(u, (t || "") + (i ? Nt().format("YYYYMMDDHHmmss") : "") + ".xlsx");
}
function BPe({ fileName: r, fileNameNeedTime: e = !0, sheetData: t }) {
  const i = Ru.utils.book_new();
  t.forEach((a, n) => {
    const o = DQ({ data: a.data, wpx: a.wpx, merges: a.merges, horizontal: a.horizontal, vertical: a.vertical });
    Ru.utils.book_append_sheet(i, o, a.sheetName || `sheet${n + 1}`);
  }), Ru.writeFile(i, (r || "") + (e ? Nt().format("YYYYMMDDHHmmss") : "") + ".xlsx");
}
function VPe(r) {
  const e = {
    top: 0,
    right: 90,
    bottom: 180,
    left: 270
  };
  return e[r.toLowerCase()] === void 0 ? 0 : e[r.toLowerCase()];
}
function UPe({ dom: r, angle: e, radius: t, rotate: i = !1, center: a, startAngle: n = 0, clockwise: o = !0 }) {
  let s = null;
  if (typeof r == "string" ? s = document.querySelector(r) : s = r, !s)
    return;
  const u = (typeof n == "string" ? VPe(n) : n) - 90;
  let c = o ? e : -e;
  c = u + c;
  const f = c * Math.PI / 180, d = Math.cos(f) * t, p = Math.sin(f) * t;
  if (s.style.position = "absolute", a)
    s.style.transform = i ? `translate(-50%, -50%) rotate(${e}deg)` : "translate(-50%, -50%)", s.style.left = `${a.x + d}px`, s.style.top = `${a.y + p}px`;
  else {
    const v = i ? `translate(-50%, -50%) translate(${d}px, ${p}px) rotate(${e}deg)` : `translate(-50%, -50%) translate(${d}px, ${p}px)`;
    s.style.transform = v, s.style.left = "50%", s.style.top = "50%";
  }
}
function GPe(r, e = 2, t = !1) {
  return r ? $G(typeof r == "string" ? r : r.toString(), e, t) : 0;
}
function $G(r, e, t = !1) {
  console.log("handleStringInput", r, e, t);
  const i = Math.max(0, Math.floor(e)), [a, n = ""] = r.split(".");
  let o;
  return i === 0 ? !t || !n || parseInt(n[0] || "0") < 5 ? o = a : o = (BigInt(a) + 1n).toString() : n.length <= i ? o = `${a}.${n.padEnd(i, "0")}` : t ? o = zPe(a, n, i) : o = `${a}.${n.slice(0, i)}`, HPe(o) ? Number(o) : o;
}
function zPe(r, e, t) {
  const i = e.slice(0, t), a = e[t] || "0";
  return parseInt(a) < 5 ? `${r}.${i}` : WPe(r, i, t);
}
function WPe(r, e, t) {
  const i = BigInt(r + e.padEnd(t, "0")), a = BigInt("1" + "0".repeat(t - e.length)), o = (i + a).toString();
  if (o.length <= t)
    return `0.${o.padStart(t, "0")}`;
  {
    const s = o.slice(0, -t), l = o.slice(-t);
    return `${s}.${l}`;
  }
}
function HPe(r) {
  try {
    const e = Number(r);
    return Number.isFinite(e) && e.toString() === r;
  } catch {
    return !1;
  }
}
function kQ(r, e) {
  if (!Array.isArray(r) || r.length !== 2 || !Array.isArray(e) || e.length !== 2)
    throw new Error(" 2  [x, y] ");
  const t = r[0] - e[0], i = r[1] - e[1], a = Math.atan2(-t, i) * (180 / Math.PI);
  return Math.floor(a > 0 ? a : a === 0 ? 0 : a + 360);
}
function $Pe({ e: r, dom: e }) {
  const t = r.clientX, i = r.clientY, a = e instanceof HTMLElement ? e.getBoundingClientRect() : document.querySelector(e)?.getBoundingClientRect();
  if (!a)
    return 0;
  const n = a.left + a.width / 2, o = a.top + a.height / 2;
  return kQ([n, o], [t, i]);
}
function YPe(r, e = 1) {
  if (/^#[A-Fa-f0-9]{3}$/.test(r) && (r = `#${r[1]}${r[1]}${r[2]}${r[2]}${r[3]}${r[3]}`), !/^#([A-Fa-f0-9]{6})$/.test(r) || e < 0 || e > 1)
    return "";
  const i = (s, l) => parseInt(r.slice(s, l), 16), a = i(1, 3), n = i(3, 5), o = i(5, 7);
  return `rgba(${a}, ${n}, ${o}, ${e})`;
}
async function jPe({
  url: r,
  method: e = "get",
  fileName: t,
  data: i,
  errorCallback: a
}) {
  try {
    const n = {
      url: r,
      method: e,
      responseType: "blob",
      // 
      ...i && (e.toLowerCase() === "get" ? { params: i } : { data: i })
    }, o = YG.service({ fullscreen: !0, text: "" }), s = await mz(n);
    if (o.close(), !(s.data instanceof Blob))
      throw new Error("");
    if (s.data.type === "application/json") {
      const u = await new Response(s.data).json();
      console.error(":", u), a ? a(u) : u.message && du.error(u.message);
      return;
    }
    const l = t || qPe(s.headers);
    if (!l) {
      a ? a() : du.error("");
      return;
    }
    XPe(s.data, l);
  } catch (n) {
    a ? a(n) : du.error("");
  }
}
function qPe(r) {
  const t = (r["content-disposition"] || "").match(
    /filename\*?=((UTF-8''[^;]+)|((["'])(.*?)\4)|([^;]+))/ig
  );
  if (t) {
    console.log("fileNameMatch", t);
    const n = t.find((o) => o.includes("utf-8") || o.includes("UTF-8")) || t[0];
    if (n.includes("UTF-8''") || n.includes("utf-8''"))
      try {
        return decodeURIComponent(n.split("'")[2]);
      } catch {
        return n.split("'")[2];
      }
    return n.replace(/^["']|["']$/g, "");
  }
  const a = (r["content-type"] || "").split("/").pop()?.split(";")[0];
  return a ? `download.${a}` : "";
}
function XPe(r, e) {
  if ("msSaveOrOpenBlob" in navigator) {
    navigator.msSaveBlob(r, e);
    return;
  }
  const t = URL.createObjectURL(r), i = document.createElement("a");
  i.href = t, i.download = e, i.style.display = "none", document.body.appendChild(i);
  try {
    i.click();
  } finally {
    document.body.removeChild(i), setTimeout(() => URL.revokeObjectURL(t), 100);
  }
}
const KPe = (r, e, t = !1) => {
  let i = null, a;
  const n = function(...s) {
    if (i && clearTimeout(i), t) {
      const l = !i;
      if (i = setTimeout(() => {
        i = null;
      }, e), l)
        return a = r.apply(this, s), a;
    } else
      i = setTimeout(() => {
        r.apply(this, s);
      }, e);
    return a;
  }, o = () => {
    i && (clearTimeout(i), i = null);
  };
  return n.cancel = o, n;
};
function ZPe(r, e, t = { leading: !0, trailing: !1 }) {
  let i = null, a = null, n, o = 0;
  const s = function() {
    o = t.leading === !1 ? 0 : Date.now(), i = null, a && (n = r.apply(this, a)), i || (a = null);
  };
  return function(...u) {
    const c = Date.now();
    !o && t.leading === !1 && (o = c);
    const f = e - (c - o);
    return a = u, f <= 0 || f > e ? (i && (clearTimeout(i), i = null), o = c, n = r.apply(this, a), i || (a = null)) : !i && t.trailing !== !1 && (i = setTimeout(s.bind(this), f)), n;
  };
}
function LE(r, e = /* @__PURE__ */ new WeakMap()) {
  if (typeof r != "object" || r === null)
    return r;
  if (e.has(r))
    return e.get(r);
  let t;
  if (Array.isArray(r)) {
    t = [], e.set(r, t);
    for (let i = 0; i < r.length; i++)
      t[i] = LE(r[i], e);
  } else if (r instanceof Date)
    t = new Date(r.getTime()), e.set(r, t);
  else if (r instanceof RegExp)
    t = new RegExp(r), e.set(r, t);
  else if (typeof r == "function")
    t = r.bind({}), e.set(r, t);
  else {
    t = {}, e.set(r, t);
    for (const i in r)
      Object.prototype.hasOwnProperty.call(r, i) && (t[i] = LE(r[i], e));
  }
  return t;
}
function JPe(r, e, t) {
  const i = RT(e), a = RT(t), n = RT(Nt(r).format("HH:mm:ss"));
  return i <= a ? n >= i && n < a : n >= i || n < a;
}
const RT = (r) => {
  const [e, t, i] = r.split(":").map(Number);
  return e * 3600 + t * 60 + i;
}, QPe = (r, e) => {
  const t = typeof r == "string" ? document.querySelector(r) : r;
  if (!t)
    return;
  new ResizeObserver(() => {
    e();
  }).observe(t);
};
function eRe(r) {
  return /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?])[A-Za-z\d!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]{8,16}$/.test(r);
}
function tRe() {
  const r = "abcdefghijklmnopqrstuvwxyz", e = "ABCDEFGHIJKLMNOPQRSTUVWXYZ", t = "0123456789", i = `!@#$%^&*()_+-=[]{};':"\\|,.<>/?`, a = r + e + t + i, n = Math.floor(Math.random() * 9) + 8, o = [
    r[Math.floor(Math.random() * r.length)],
    e[Math.floor(Math.random() * e.length)],
    t[Math.floor(Math.random() * t.length)],
    i[Math.floor(Math.random() * i.length)]
  ];
  for (let s = o.length; s < n; s++)
    o.push(a[Math.floor(Math.random() * a.length)]);
  for (let s = o.length - 1; s > 0; s--) {
    const l = Math.floor(Math.random() * (s + 1));
    [o[s], o[l]] = [o[l], o[s]];
  }
  return o.join("");
}
function rRe(r, e, t) {
  t = t % 360, t < 0 && (t += 360);
  const i = t * Math.PI / 180, a = Math.sin(i), n = -Math.cos(i), o = r / 2, s = e / 2, l = [];
  if (n !== 0) {
    const c = -s / n;
    if (c > 0) {
      const f = o + c * a;
      f >= 0 && f <= r && l.push({ t: c, x: f, y: 0 });
    }
  }
  if (n !== 0) {
    const c = (e - s) / n;
    if (c > 0) {
      const f = o + c * a;
      f >= 0 && f <= r && l.push({ t: c, x: f, y: e });
    }
  }
  if (a !== 0) {
    const c = -o / a;
    if (c > 0) {
      const f = s + c * n;
      f >= 0 && f <= e && l.push({ t: c, x: 0, y: f });
    }
  }
  if (a !== 0) {
    const c = (r - o) / a;
    if (c > 0) {
      const f = s + c * n;
      f >= 0 && f <= e && l.push({ t: c, x: r, y: f });
    }
  }
  if (l.length === 0)
    return { x: o, y: s };
  const u = l.reduce((c, f) => f.t < c.t ? f : c);
  return { x: u.x, y: u.y };
}
const nRe = (r, e) => {
  const t = {};
  return r.forEach((i) => {
    const a = JSON.stringify(e(i));
    t[a] = t[a] || [], t[a].push(i);
  }), Object.keys(t).map((i) => t[i]);
};
function iRe({ list: r, groupId: e, isSort: t = !0 }) {
  return r = r.filter((a) => a[e]), t && r.sort((a, n) => !isNaN(Number(a[e])) && typeof Number(a[e]) == "number" ? Number(a[e]) - Number(n[e]) : a[e] > n[e] ? 1 : -1), nRe(r, (a) => [a[e]]);
}
function aRe(r, e, t = "") {
  try {
    return e.replace(/\[(\w+)\]/g, ".$1").replace(/^\./, "").split(".").reduce((i, a) => i && i[a], r) || t;
  } catch {
    return t;
  }
}
const bRe = {
  createHttpClient: Pie,
  emitter: xz,
  mqttStart: Coe,
  mqttStop: Aoe,
  MyKonva: xce,
  echarts: SMe,
  uuid: EMe,
  message: du,
  messageBox: O2,
  confirm: O2.confirm,
  alert: O2.alert,
  tableHook: DMe,
  dateFormat: RPe,
  dateDiff: LPe,
  getDateByTimeOffset: OPe,
  isTimeWithinIntervals: FPe,
  isTimeRange: JPe,
  exportExcel: NPe,
  exportManySheetExcel: BPe,
  setPosition: UPe,
  formatNumber: GPe,
  getAngle: kQ,
  getMouseAngleToDom: $Pe,
  hexToRgba: YPe,
  downloadFile: jPe,
  debounce: KPe,
  throttle: ZPe,
  deepClone: LE,
  listenDomSizeChange: QPe,
  checkPassword: eRe,
  generatePassword: tRe,
  findIntersection: rRe,
  groupByField: iRe,
  getSafeValue: aRe
};
export {
  bRe as default
};
